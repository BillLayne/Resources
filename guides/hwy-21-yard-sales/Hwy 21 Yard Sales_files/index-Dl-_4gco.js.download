const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-GoEG0LNB.js","assets/vendors-CK7-BMz1.js","assets/WatchlistSelections--01HqyDx.js","assets/platform-Bqt3vlrG.js","assets/emoji-picker-react.esm-COor8F4g.js","assets/FileUploadModal-BRfawgAX.js","assets/fileTypes-D9z2t_N5.js","assets/CollectionCreateEditModal-Cs2g039Z.js","assets/getMaybeTranslatedCollectionTitle-Dno-H_gH.js","assets/CollectionSelectModal-CYgx1TZA.js","assets/faBookmark-DAWQV7Uc.js","assets/faCircleCheck-BBqe0Cdc.js","assets/OnboardingModal-Cfu47B-n.js","assets/MarkdownRenderer-f84JBeuj.js","assets/MarkdownStreamer-CYWzYETw.js","assets/useHandleClickPricing-CecktJEU.js","assets/useReferralCode-Bg8yu_ZZ.js","assets/PlatformOptions-BeCE8TTR.js","assets/IconDeviceMobile-CslPC_yT.js","assets/phoneNumberUtils-CPKSTcs9.js","assets/CombinedPaywall-C2ERq5Ve.js","assets/copy-BmlZMqIZ.js","assets/PurchaseConfirmationToast-CoO05OvB.js","assets/use-unmount-effect-C7my9CGl.js","assets/index-CkKyDP_3.js","assets/CompanyDataPrivacyModal-0do53qwu.js","assets/SpaceVideoModal-HAh-VU-1.js","assets/PricingTableModal-DAeNb5e8.js","assets/FreeTrialModal-CPPEGVlO.js","assets/MapModal-BJVnK8TD.js","assets/faCircleDot-BvKTfeWl.js","assets/PerplexityMap-BP2NblCO.js","assets/PulsingDot-C_a3Z6M6.js","assets/InputPaymentModal-CkJ1A2ob.js","assets/useStripePromise-CGglTS0D.js","assets/ShoppingPaymentModal-2U204fxi.js","assets/useCreateFirmlyCart-C3DfKQHw.js","assets/ShoppingOptionRow-DkqcYCSG.js","assets/useStripeAppearance-C1lMHlCO.js","assets/useCreateSetupIntentAndCheckoutSession-DCeyUPYd.js","assets/ShoppingPaymentBillingBox-BoGHjvW_.js","assets/ShoppingOnboardingModal-bhmmZV23.js","assets/PurchaseDetailsModal-C8EZ09yK.js","assets/ReservationDetailsModal-CNO_Robv.js","assets/hotelQueries-Dzc2xVxn.js","assets/SpaceSettingsModal-CCaCHf93.js","assets/UsernameModal-mCHhzx6F.js","assets/FullNameModal-BBLTEV0S.js","assets/KeyboardShortcutEditorModal-BoS_zV6S.js","assets/VoiceToVoiceModal-te2hkQj8.js","assets/constants-DC19EMEd.js","assets/SearchStepsAssetsModal-YrdFD9u9.js","assets/GeneratedVideoCard-D5qRkU_w.js","assets/IconPlayerPauseFilled-BCAj6aC2.js","assets/IconPlayerPlayFilled-DqYa4I_J.js","assets/CodeFileContentRenderer-C8-W7wEv.js","assets/useAssetInfo-BVDogMDh.js","assets/MemoryListModal-DXW4k-_k.js","assets/HotelRoomDetailsModal-C8QgoBFe.js","assets/MaybeAdjustedPrice-BPk68mp7.js","assets/ImagePagedCarousel-D5Pcll3y.js","assets/PaymentModal-3oLLvzo7.js","assets/ProReferralModal-DeHX6xlX.js","assets/IconMailForward-yN2r6tkl.js","assets/ProMessageModal-BhkGC0UI.js","assets/MemorySearchHistoryIntroModal-B2yImCz4.js","assets/SubSuccessModal-Bsl8kkRI.js","assets/ReferralErrorModal-CGrpXBGS.js","assets/ReferralSuccessModal-JFcTUKH8.js","assets/IncentiveProModal-BnixlQtg.js","assets/RestaurantBookingModal-D-jnWiGh.js","assets/IconUsers-gSzlXyVs.js","assets/emailUtils-_jxwJ1Ij.js","assets/SheerIdRedirectModal-BqQ3cZSy.js","assets/EnterprisePremiumSecureUpgradeModal-BYvwDZNT.js","assets/ShortcutModal-DJG4z-H8.js","assets/FinanceAddAlert-CM9NNAPB.js","assets/PlatformOptionsModal-C0xQBjSG.js","assets/BrandPopoverContent-VYHxQX00.js","assets/SidePDFViewer-0J9CNdqm.js","assets/ShoppingDetailsModal-DWtpUlSg.js","assets/ShopifyPurchaseModal-BjghIRSS.js","assets/ShoppingViewMoreModal-CM5kE3nY.js","assets/useSearchForAdditionalProducts-BkAyxZ34.js","assets/SplitModal-BQRwWQ4C.js","assets/index-BT-HWlcg.js","assets/CharityWidget-CU1RwDqd.js","assets/AppDownloadQR-Cu5CYv8J.js","assets/index-BD2Jf2r2.js","assets/LexicalClearEditorPlugin.prod-BgqPlNGe.js","assets/LexicalHistoryPlugin.prod-CujMyxOc.js","assets/LexicalOnChangePlugin.prod-BFfo0NRf.js","assets/LexicalEditorRefPlugin.prod-Bl9QtSRd.js","assets/AutoLinkPlugin-Byaw7U_Z.js","assets/LinkPlugin-BGxeA0dR.js","assets/WelcomeOverlay-BkvhHdDi.js","assets/SideCanvasViewer-B8CPYq4z.js","assets/AppsMode-zY8uvQxC.js","assets/useDurationTracker-CmoQ8rHl.js","assets/DebugModeActivator-BwZ6bXfq.js","assets/LowerPriorityThreadContent-GwoKQ7j2.js","assets/IconConfetti-ibxUzBIM.js","assets/ShoppingMode-CiyjfuGF.js","assets/ShoppingFeaturedWidget-BSsosq3z.js","assets/useGenerateShoppingReviewSummary-C1xJhOI8.js","assets/ModesNullState-rXpTsM52.js","assets/HotelsMode-Bi0QE-JB.js","assets/useHotelSearchParams-7aUyqFn4.js","assets/PlaceInlineCard-BlSyrc0T.js","assets/MapboxURLs-4yEd9e3N.js","assets/SharedAnswerModeMap-DqkHu5s5.js","assets/JobsMode-AiIYWuwz.js","assets/TimeAgoTooltip-DLXaw6il.js","assets/VideosMode-B_TSvFrc.js","assets/useMediaSearch-BjFPMp3X.js","assets/ImagesMode-CS80mtuS.js","assets/ImagesModePreview-5MlTyyke.js","assets/ImageGeneratorLoader-36BUSsk4.js","assets/MapsMode-CCZ2CguT.js","assets/AssetsMode-T--ZHTDa.js","assets/TasksMode-Ce9cbcQc.js","assets/AgentWorkflow-CeQl7_S3.js","assets/MarkdownResponse-CjB3438F.js","assets/CodeStep-BI55NR9g.js","assets/IconAlignLeft-Dx7ZDjE1.js","assets/IconHistory-fq-GTIVV.js","assets/IconCalendarWeek-B0wk07CW.js","assets/index-DB4NKzCa.js","assets/search-loading-component-BpD5sQG_.js","assets/CometZenMode-ClTAf6O_.js","assets/index.module-CYzlowxF.js","assets/library-fAQ2PUD_.js","assets/ArticleListItem-C54jTPRg.js","assets/index-DwUiWeEX.js","assets/AvatarList-hdZBjgIM.js","assets/templates-B7Lp8wD_.js","assets/slug-CaVq1rZb.js","assets/faEllipsis-rbuIwqCK.js","assets/useOrgUsers-Cd6yuSE2.js","assets/cdn-CoSlTePz.js","assets/slug-BSfEkWfy.js","assets/DiscoverTrending-Bez4Q3wR.js","assets/ReportModal-CQJmSiwI.js","assets/PageIndex-CMmmI708.js","assets/CopyOutputButton-p8g-kbXw.js","assets/ToggleGroup-B8pKjehp.js","assets/useScrollBarSize-DSfeXgWW.js","assets/RelatedPrompts-DzdzXBgb.js","assets/IconPerplexityNewThread-Cv5r1F5j.js","assets/academic-CLwpyC3d.js","assets/VerticalSearchBar-BNYVDljJ.js","assets/QueryComponents-BO7PpNYH.js","assets/CanonicalPatternBackground-DyFVcUtD.js","assets/CanonicalQuery-azzzsIct.js","assets/CanonicalContainer-CSXtP2Wy.js","assets/CardCarouselV2-D57Y2WEv.js","assets/shopping-CgrvIveX.js","assets/hotels-BAD0BqSX.js","assets/WithMenu-Bqc03_b_.js","assets/not-found-B6kqWRQv.js","assets/perplexify_me-jNDXqzQB.js","assets/travel-Dela-XRm.js","assets/discover-Au0HZAeO.js","assets/FinanceMover-BpglhLYF.js","assets/crypto-CD7ZtXg2.js","assets/FinanceIndex-CEhDdiau.js","assets/FinanceSearchBarWrapper-DBYSVt5x.js","assets/useFollowEntity-B3oiDk1_.js","assets/FollowButton-CZ3tHt8h.js","assets/csv-Dgwkwite.js","assets/index-DvGQ774y.js","assets/index-CAMPXSUP.js","assets/consts-CQC6WeYS.js","assets/F1Header-DC-aLIhP.js","assets/F1LeagueSchedule-DDYlZ6QU.js","assets/SportsTournamentOdds-CBimptXH.js","assets/transform-qwnB0Tgg.js","assets/SportsWhatsHappening-Xalmn6uQ.js","assets/events-DVrd47Jt.js","assets/event-ChE14cRf.js","assets/SportsIOSNotificationSub-CRlgvP-6.js","assets/index-4se-OINf.js","assets/common-CWDyLOlV.js","assets/MultiTeamSchedule-B-a8iJi-.js","assets/WeekTabs-id1HN_XP.js","assets/SportsCanonicalLinks-6cNDQuPx.js","assets/SportsConferenceList-jcP3V2nh.js","assets/SingleTeamEventRow-BzQpybh3.js","assets/TeamPicker-B85X1avc.js","assets/NBAPlayoffBracket-CnSHFIPT.js","assets/SportsBracket-IJzPWfZN.js","assets/SportsTeamStandings-ByadQbqv.js","assets/stats-D6WqkxuN.js","assets/events-Bh7nEGmy.js","assets/EventLiveOdds-xiIqpYnz.js","assets/SportsComparisonArcs-PBCdNrvA.js","assets/SportsGamePreviewHeader-BeoQ4SCO.js","assets/BlazeHighlights-DIHXD4ab.js","assets/BlazeProvider-1gBB0ZsG.js","assets/BlazeHighlights-BKCxT22M.css","assets/SportsGameSummaryHeader-C4FMzYvI.js","assets/utils-CB97yA2b.js","assets/NBAGameLeadersStats-CqKXVpHJ.js","assets/SportsGamePlayerHeadshot-wYLk4sIH.js","assets/SportsGameRelatedGames-OWjeJXyw.js","assets/SportsInjuryReport-o_oHlaKL.js","assets/SportsMultiTeamSeasonLeadersStats-DjJfwU07.js","assets/NBASportsTeamSeasonComparison-CR3NBiQn.js","assets/SportsTeamSeasonComparison-DJV6XxzB.js","assets/SportsDataTableComparison-D4LqpG3o.js","assets/SportsTeamGameComparison-DMd4qgTa.js","assets/teams-D5P1oY-t.js","assets/SportsBlazeVideoHighlights-YiODrjFU.js","assets/players-D35MI3Ci.js","assets/RelatedQuestions-DuXGaWOP.js","assets/index-Baalk4j0.js","assets/events-UIJsRf7U.js","assets/teams-C-Kaa56W.js","assets/players-FsfTIZp4.js","assets/index-Bk7ui3Si.js","assets/tournament-BVySVqkj.js","assets/events-BjiqmVAR.js","assets/EventV2LiveOdds-QOnaKWZO.js","assets/index-CbrchbKB.js","assets/MLBEventSchedule-BT1sDdyH.js","assets/scheduleUtils-j1MlWtWo.js","assets/events-C9Yl0HT_.js","assets/CricketMatchStats-BEXX5H-v.js","assets/events-1p8SZCUj.js","assets/index-CAxCwVq6.js","assets/index-CazcKAdf.js","assets/events-BuVEeMOY.js","assets/index-DjHF--I6.js","assets/events-CEojGs_N.js","assets/events-C160lmz1.js","assets/index-D69tzfAH.js","assets/events-BeOKV_Kt.js","assets/index-C1lj0bSb.js","assets/all-tickers-Ce_Ly3L2.js","assets/symbol-DbfpZuv2.js","assets/FinanceAssetLayout-D7rBSfW3.js","assets/RenderToolbar-wBuYUwaE.js"])))=>i.map(i=>d[i]);
import{b as Xd,c as kie,g as Js,r as f,$ as eP,R as L,_ as lt,e as Me,u as ae,f as yr,h as tP,i as uo,M as Ve,j as Ht,k as yt,l as vd,m as UPe,s as BPe,F as rq,n as rx,o as nP,p as VPe,q as zPe,I as HPe}from"./vendors-CK7-BMz1.js";import{l as le,g as WPe,r as Ld,s as $Pe,a as or,P as sx,b as tu,c as $c,d as qPe,F as dj,$ as Ls,N as vh,u as GPe,i as YPe,e as KPe,f as sq,h as aq,L as QPe,M as XPe,j as ZPe}from"./platform-Bqt3vlrG.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();/*! js-cookie v3.0.5 | MIT */function B3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var JPe={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function fj(e,t){function n(s,a,i){if(!(typeof document>"u")){i=B3({},t,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var c in i)i[c]&&(l+="; "+c,i[c]!==!0&&(l+="="+i[c].split(";")[0]));return document.cookie=s+"="+e.write(a,s)+l}}function r(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var a=document.cookie?document.cookie.split("; "):[],i={},l=0;l<a.length;l++){var c=a[l].split("="),u=c.slice(1).join("=");try{var d=decodeURIComponent(c[0]);if(i[d]=e.read(u,d),s===d)break}catch{}}return s?i[s]:i}}return Object.create({set:n,get:r,remove:function(s,a){n(s,"",B3({},a,{expires:-1}))},withAttributes:function(s){return fj(this.converter,B3({},this.attributes,s))},withConverter:function(s){return fj(B3({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var p_=fj(JPe,{path:"/"});const Eie=1e3,eIe={httponly:"httpOnly",maxage:"maxAge",expires:"expires",path:"path",domain:"domain",secure:"secure",samesite:"sameSite"},g5=new Map,v5=new Map,fn=(e,t,n)=>{if(v5.has(e)){const r=v5.get(e);if(r&&r.ttl>Date.now()&&r.value===t&&Object.keys(eIe).every(s=>r.options?.[s]===n?.[s]))return}return v5.set(e,{name:e,value:t,options:n,ttl:Date.now()+Eie}),p_.set(e,t,n)},Wn=e=>{const t=g5.get(e);return(!t||t.ttl<Date.now())&&g5.set(e,{value:p_.get(e),ttl:Date.now()+Eie}),g5.get(e)?.value},g1=e=>{v5.delete(e),g5.delete(e),p_.remove(e)},tIe=()=>p_.get(),nIe=["grey","teal","brown","maroon","red","orange","gold","yellow","green","blue","purple"],Tie=e=>{if(!e)return null;try{const n=JSON.parse(e)?.name;if(n&&nIe.includes(n))return n}catch{}return null};function rIe(){const e=Wn("colorSchemeTheme"),t=Tie(e);document.cookie.includes("comet-custom-color-themes-enabled=true")&&t&&document.documentElement.setAttribute("data-theme",t)}rIe();const sIe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function Nie(e){return typeof e=="string"&&sIe.test(e)}const qs=[];for(let e=0;e<256;++e)qs.push((e+256).toString(16).slice(1));function aIe(e,t=0){return(qs[e[t+0]]+qs[e[t+1]]+qs[e[t+2]]+qs[e[t+3]]+"-"+qs[e[t+4]]+qs[e[t+5]]+"-"+qs[e[t+6]]+qs[e[t+7]]+"-"+qs[e[t+8]]+qs[e[t+9]]+"-"+qs[e[t+10]]+qs[e[t+11]]+qs[e[t+12]]+qs[e[t+13]]+qs[e[t+14]]+qs[e[t+15]]).toLowerCase()}let M7;const iIe=new Uint8Array(16);function oIe(){if(!M7){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");M7=crypto.getRandomValues.bind(crypto)}return M7(iIe)}const lIe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),iq={randomUUID:lIe};function qr(e,t,n){if(iq.randomUUID&&!e)return iq.randomUUID();e=e||{};const r=e.random??e.rng?.()??oIe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,aIe(r)}var cIe={};const oq="/rest/event/analytics",hj="pplx.visitor-id",mj="pplx.session-id",$2="pplx.trackingAllowed",uIe="http://default-analytics-service:8000",dIe=()=>cIe.ANALYTICS_SERVICE_URL||uIe,fIe=365;function hIe(){try{Wn(hj)||fn(hj,qr(),{expires:fIe})}catch{}try{Wn(mj)||fn(mj,qr())}catch{}}hIe();var k7={exports:{}},lv={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lq;function mIe(){if(lq)return lv;lq=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,a){var i=null;if(a!==void 0&&(i=""+a),s.key!==void 0&&(i=""+s.key),"key"in s){a={};for(var l in s)l!=="key"&&(a[l]=s[l])}else a=s;return s=a.ref,{$$typeof:e,type:r,key:i,ref:s!==void 0?s:null,props:a}}return lv.Fragment=t,lv.jsx=n,lv.jsxs=n,lv}var cq;function jie(){return cq||(cq=1,k7.exports=mIe()),k7.exports}var o=jie(),E7={exports:{}},cv={},T7={exports:{}},N7={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uq;function pIe(){return uq||(uq=1,function(e){function t(U,H){var q=U.length;U.push(H);e:for(;0<q;){var $=q-1>>>1,G=U[$];if(0<s(G,H))U[$]=H,U[q]=G,q=$;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var H=U[0],q=U.pop();if(q!==H){U[0]=q;e:for(var $=0,G=U.length,K=G>>>1;$<K;){var ee=2*($+1)-1,oe=U[ee],ne=ee+1,te=U[ne];if(0>s(oe,q))ne<G&&0>s(te,oe)?(U[$]=te,U[ne]=q,$=ne):(U[$]=oe,U[ee]=q,$=ee);else if(ne<G&&0>s(te,q))U[$]=te,U[ne]=q,$=ne;else break e}}return H}function s(U,H){var q=U.sortIndex-H.sortIndex;return q!==0?q:U.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,h=null,m=3,g=!1,v=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function S(U){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=U)r(u),H.sortIndex=H.expirationTime,t(c,H);else break;H=n(u)}}function k(U){if(x=!1,S(U),!v)if(n(c)!==null)v=!0,z();else{var H=n(u);H!==null&&V(k,H.startTime-U)}}var E=!1,T=-1,j=5,N=-1;function R(){return!(e.unstable_now()-N<j)}function O(){if(E){var U=e.unstable_now();N=U;var H=!0;try{e:{v=!1,x&&(x=!1,w(T),T=-1),g=!0;var q=m;try{t:{for(S(U),h=n(c);h!==null&&!(h.expirationTime>U&&R());){var $=h.callback;if(typeof $=="function"){h.callback=null,m=h.priorityLevel;var G=$(h.expirationTime<=U);if(U=e.unstable_now(),typeof G=="function"){h.callback=G,S(U),H=!0;break t}h===n(c)&&r(c),S(U)}else r(c);h=n(c)}if(h!==null)H=!0;else{var K=n(u);K!==null&&V(k,K.startTime-U),H=!1}}break e}finally{h=null,m=q,g=!1}H=void 0}}finally{H?I():E=!1}}}var I;if(typeof C=="function")I=function(){C(O)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,D=B.port2;B.port1.onmessage=O,I=function(){D.postMessage(null)}}else I=function(){b(O,0)};function z(){E||(E=!0,I())}function V(U,H){T=b(function(){U(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,z())},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(U){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var q=m;m=H;try{return U()}finally{m=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,H){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var q=m;m=U;try{return H()}finally{m=q}},e.unstable_scheduleCallback=function(U,H,q){var $=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?$+q:$):q=$,U){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=q+G,U={id:d++,callback:H,priorityLevel:U,startTime:q,expirationTime:G,sortIndex:-1},q>$?(U.sortIndex=q,t(u,U),n(c)===null&&U===n(u)&&(x?(w(T),T=-1):x=!0,V(k,q-$))):(U.sortIndex=G,t(c,U),v||g||(v=!0,z())),U},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(U){var H=m;return function(){var q=m;m=H;try{return U.apply(this,arguments)}finally{m=q}}}}(N7)),N7}var dq;function gIe(){return dq||(dq=1,T7.exports=pIe()),T7.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fq;function vIe(){if(fq)return cv;fq=1;var e=gIe(),t=Xd(),n=kie();function r(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}var a=Symbol.for("react.element"),i=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),g=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),k=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function T(p){return p===null||typeof p!="object"?null:(p=E&&p[E]||p["@@iterator"],typeof p=="function"?p:null)}var j=Symbol.for("react.client.reference");function N(p){if(p==null)return null;if(typeof p=="function")return p.$$typeof===j?null:p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case c:return"Fragment";case l:return"Portal";case d:return"Profiler";case u:return"StrictMode";case x:return"Suspense";case b:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case g:return(p.displayName||"Context")+".Provider";case m:return(p._context.displayName||"Context")+".Consumer";case v:var y=p.render;return p=p.displayName,p||(p=y.displayName||y.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case w:return y=p.displayName||null,y!==null?y:N(p.type)||"Memo";case C:y=p._payload,p=p._init;try{return N(p(y))}catch{}}return null}var R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign,I,B;function D(p){if(I===void 0)try{throw Error()}catch(_){var y=_.stack.trim().match(/\n( *(at )?)/);I=y&&y[1]||"",B=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+I+p+B}var z=!1;function V(p,y){if(!p||z)return"";z=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var M={DetermineComponentFrameRoot:function(){try{if(y){var Ke=function(){throw Error()};if(Object.defineProperty(Ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ke,[])}catch(Ie){var Te=Ie}Reflect.construct(p,[],Ke)}else{try{Ke.call()}catch(Ie){Te=Ie}p.call(Ke.prototype)}}else{try{throw Error()}catch(Ie){Te=Ie}(Ke=p())&&typeof Ke.catch=="function"&&Ke.catch(function(){})}}catch(Ie){if(Ie&&Te&&typeof Ie.stack=="string")return[Ie.stack,Te.stack]}return[null,null]}};M.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(M.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(M.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var P=M.DetermineComponentFrameRoot(),Y=P[0],Z=P[1];if(Y&&Z){var ue=Y.split(`
`),ye=Z.split(`
`);for(A=M=0;M<ue.length&&!ue[M].includes("DetermineComponentFrameRoot");)M++;for(;A<ye.length&&!ye[A].includes("DetermineComponentFrameRoot");)A++;if(M===ue.length||A===ye.length)for(M=ue.length-1,A=ye.length-1;1<=M&&0<=A&&ue[M]!==ye[A];)A--;for(;1<=M&&0<=A;M--,A--)if(ue[M]!==ye[A]){if(M!==1||A!==1)do if(M--,A--,0>A||ue[M]!==ye[A]){var Ue=`
`+ue[M].replace(" at new "," at ");return p.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",p.displayName)),Ue}while(1<=M&&0<=A);break}}}finally{z=!1,Error.prepareStackTrace=_}return(_=p?p.displayName||p.name:"")?D(_):""}function U(p){switch(p.tag){case 26:case 27:case 5:return D(p.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return p=V(p.type,!1),p;case 11:return p=V(p.type.render,!1),p;case 1:return p=V(p.type,!0),p;default:return""}}function H(p){try{var y="";do y+=U(p),p=p.return;while(p);return y}catch(_){return`
Error generating stack: `+_.message+`
`+_.stack}}function q(p){var y=p,_=p;if(p.alternate)for(;y.return;)y=y.return;else{p=y;do y=p,y.flags&4098&&(_=y.return),p=y.return;while(p)}return y.tag===3?_:null}function $(p){if(p.tag===13){var y=p.memoizedState;if(y===null&&(p=p.alternate,p!==null&&(y=p.memoizedState)),y!==null)return y.dehydrated}return null}function G(p){if(q(p)!==p)throw Error(r(188))}function K(p){var y=p.alternate;if(!y){if(y=q(p),y===null)throw Error(r(188));return y!==p?null:p}for(var _=p,M=y;;){var A=_.return;if(A===null)break;var P=A.alternate;if(P===null){if(M=A.return,M!==null){_=M;continue}break}if(A.child===P.child){for(P=A.child;P;){if(P===_)return G(A),p;if(P===M)return G(A),y;P=P.sibling}throw Error(r(188))}if(_.return!==M.return)_=A,M=P;else{for(var Y=!1,Z=A.child;Z;){if(Z===_){Y=!0,_=A,M=P;break}if(Z===M){Y=!0,M=A,_=P;break}Z=Z.sibling}if(!Y){for(Z=P.child;Z;){if(Z===_){Y=!0,_=P,M=A;break}if(Z===M){Y=!0,M=P,_=A;break}Z=Z.sibling}if(!Y)throw Error(r(189))}}if(_.alternate!==M)throw Error(r(190))}if(_.tag!==3)throw Error(r(188));return _.stateNode.current===_?p:y}function ee(p){var y=p.tag;if(y===5||y===26||y===27||y===6)return p;for(p=p.child;p!==null;){if(y=ee(p),y!==null)return y;p=p.sibling}return null}var oe=Array.isArray,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},re=[],X=-1;function ce(p){return{current:p}}function se(p){0>X||(p.current=re[X],re[X]=null,X--)}function J(p,y){X++,re[X]=p.current,p.current=y}var de=ce(null),ie=ce(null),he=ce(null),pe=ce(null);function ge(p,y){switch(J(he,y),J(ie,p),J(de,null),p=y.nodeType,p){case 9:case 11:y=(y=y.documentElement)&&(y=y.namespaceURI)?R$(y):0;break;default:if(p=p===8?y.parentNode:y,y=p.tagName,p=p.namespaceURI)p=R$(p),y=L$(p,y);else switch(y){case"svg":y=1;break;case"math":y=2;break;default:y=0}}se(de),J(de,y)}function Ce(){se(de),se(ie),se(he)}function we(p){p.memoizedState!==null&&J(pe,p);var y=de.current,_=L$(y,p.type);y!==_&&(J(ie,p),J(de,_))}function Pe(p){ie.current===p&&(se(de),se(ie)),pe.current===p&&(se(pe),rv._currentValue=te)}var ot=Object.prototype.hasOwnProperty,Be=e.unstable_scheduleCallback,Ee=e.unstable_cancelCallback,st=e.unstable_shouldYield,et=e.unstable_requestPaint,$e=e.unstable_now,tt=e.unstable_getCurrentPriorityLevel,at=e.unstable_ImmediatePriority,xe=e.unstable_UserBlockingPriority,Oe=e.unstable_NormalPriority,Qe=e.unstable_LowPriority,Ge=e.unstable_IdlePriority,ze=e.log,Ze=e.unstable_setDisableYieldValue,St=null,It=null;function Jt(p){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(St,p,void 0,(p.current.flags&128)===128)}catch{}}function dt(p){if(typeof ze=="function"&&Ze(p),It&&typeof It.setStrictMode=="function")try{It.setStrictMode(St,p)}catch{}}var ft=Math.clz32?Math.clz32:zn,Et=Math.log,an=Math.LN2;function zn(p){return p>>>=0,p===0?32:31-(Et(p)/an|0)|0}var er=128,Rt=4194304;function Xt(p){var y=p&42;if(y!==0)return y;switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return p&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return p}}function Se(p,y){var _=p.pendingLanes;if(_===0)return 0;var M=0,A=p.suspendedLanes,P=p.pingedLanes,Y=p.warmLanes;p=p.finishedLanes!==0;var Z=_&134217727;return Z!==0?(_=Z&~A,_!==0?M=Xt(_):(P&=Z,P!==0?M=Xt(P):p||(Y=Z&~Y,Y!==0&&(M=Xt(Y))))):(Z=_&~A,Z!==0?M=Xt(Z):P!==0?M=Xt(P):p||(Y=_&~Y,Y!==0&&(M=Xt(Y)))),M===0?0:y!==0&&y!==M&&!(y&A)&&(A=M&-M,Y=y&-y,A>=Y||A===32&&(Y&4194176)!==0)?y:M}function ht(p,y){return(p.pendingLanes&~(p.suspendedLanes&~p.pingedLanes)&y)===0}function ct(p,y){switch(p){case 1:case 2:case 4:case 8:return y+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mt(){var p=er;return er<<=1,!(er&4194176)&&(er=128),p}function vt(){var p=Rt;return Rt<<=1,!(Rt&62914560)&&(Rt=4194304),p}function Bt(p){for(var y=[],_=0;31>_;_++)y.push(p);return y}function Lt(p,y){p.pendingLanes|=y,y!==268435456&&(p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0)}function kn(p,y,_,M,A,P){var Y=p.pendingLanes;p.pendingLanes=_,p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0,p.expiredLanes&=_,p.entangledLanes&=_,p.errorRecoveryDisabledLanes&=_,p.shellSuspendCounter=0;var Z=p.entanglements,ue=p.expirationTimes,ye=p.hiddenUpdates;for(_=Y&~_;0<_;){var Ue=31-ft(_),Ke=1<<Ue;Z[Ue]=0,ue[Ue]=-1;var Te=ye[Ue];if(Te!==null)for(ye[Ue]=null,Ue=0;Ue<Te.length;Ue++){var Ie=Te[Ue];Ie!==null&&(Ie.lane&=-536870913)}_&=~Ke}M!==0&&hn(p,M,0),P!==0&&A===0&&p.tag!==0&&(p.suspendedLanes|=P&~(Y&~y))}function hn(p,y,_){p.pendingLanes|=y,p.suspendedLanes&=~y;var M=31-ft(y);p.entangledLanes|=y,p.entanglements[M]=p.entanglements[M]|1073741824|_&4194218}function _r(p,y){var _=p.entangledLanes|=y;for(p=p.entanglements;_;){var M=31-ft(_),A=1<<M;A&y|p[M]&y&&(p[M]|=y),_&=~A}}function Gr(p){return p&=-p,2<p?8<p?p&134217727?32:268435456:8:2}function os(){var p=ne.p;return p!==0?p:(p=window.event,p===void 0?32:X$(p.type))}function wa(p,y){var _=ne.p;try{return ne.p=p,y()}finally{ne.p=_}}var Yr=Math.random().toString(36).slice(2),tr="__reactFiber$"+Yr,Kr="__reactProps$"+Yr,li="__reactContainer$"+Yr,wf="__reactEvents$"+Yr,_f="__reactListeners$"+Yr,Au="__reactHandles$"+Yr,za="__reactResources$"+Yr,sl="__reactMarker$"+Yr;function Qr(p){delete p[tr],delete p[Kr],delete p[wf],delete p[_f],delete p[Au]}function Ha(p){var y=p[tr];if(y)return y;for(var _=p.parentNode;_;){if(y=_[li]||_[tr]){if(_=y.alternate,y.child!==null||_!==null&&_.child!==null)for(p=I$(p);p!==null;){if(_=p[tr])return _;p=I$(p)}return y}p=_,_=p.parentNode}return null}function _a(p){if(p=p[tr]||p[li]){var y=p.tag;if(y===5||y===6||y===13||y===26||y===27||y===3)return p}return null}function oc(p){var y=p.tag;if(y===5||y===26||y===27||y===6)return p.stateNode;throw Error(r(33))}function _o(p){var y=p[za];return y||(y=p[za]={hoistableStyles:new Map,hoistableScripts:new Map}),y}function kr(p){p[sl]=!0}var lc=new Set,al={};function Co(p,y){bs(p,y),bs(p+"Capture",y)}function bs(p,y){for(al[p]=y,p=0;p<y.length;p++)lc.add(y[p])}var ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bm={},Ru={};function wm(p){return ot.call(Ru,p)?!0:ot.call(bm,p)?!1:Cf.test(p)?Ru[p]=!0:(bm[p]=!0,!1)}function cc(p,y,_){if(wm(y))if(_===null)p.removeAttribute(y);else{switch(typeof _){case"undefined":case"function":case"symbol":p.removeAttribute(y);return;case"boolean":var M=y.toLowerCase().slice(0,5);if(M!=="data-"&&M!=="aria-"){p.removeAttribute(y);return}}p.setAttribute(y,""+_)}}function Lu(p,y,_){if(_===null)p.removeAttribute(y);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":p.removeAttribute(y);return}p.setAttribute(y,""+_)}}function Qn(p,y,_,M){if(M===null)p.removeAttribute(_);else{switch(typeof M){case"undefined":case"function":case"symbol":case"boolean":p.removeAttribute(_);return}p.setAttributeNS(y,_,""+M)}}function Xr(p){switch(typeof p){case"bigint":case"boolean":case"number":case"string":case"undefined":return p;case"object":return p;default:return""}}function c0(p){var y=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(y==="checkbox"||y==="radio")}function Rb(p){var y=c0(p)?"checked":"value",_=Object.getOwnPropertyDescriptor(p.constructor.prototype,y),M=""+p[y];if(!p.hasOwnProperty(y)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var A=_.get,P=_.set;return Object.defineProperty(p,y,{configurable:!0,get:function(){return A.call(this)},set:function(Y){M=""+Y,P.call(this,Y)}}),Object.defineProperty(p,y,{enumerable:_.enumerable}),{getValue:function(){return M},setValue:function(Y){M=""+Y},stopTracking:function(){p._valueTracker=null,delete p[y]}}}}function Sf(p){p._valueTracker||(p._valueTracker=Rb(p))}function u0(p){if(!p)return!1;var y=p._valueTracker;if(!y)return!0;var _=y.getValue(),M="";return p&&(M=c0(p)?p.checked?"true":"false":p.value),p=M,p!==_?(y.setValue(p),!0):!1}function Mf(p){if(p=p||(typeof document<"u"?document:void 0),typeof p>"u")return null;try{return p.activeElement||p.body}catch{return p.body}}var Lb=/[\n"\\]/g;function Zr(p){return p.replace(Lb,function(y){return"\\"+y.charCodeAt(0).toString(16)+" "})}function Ou(p,y,_,M,A,P,Y,Z){p.name="",Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?p.type=Y:p.removeAttribute("type"),y!=null?Y==="number"?(y===0&&p.value===""||p.value!=y)&&(p.value=""+Xr(y)):p.value!==""+Xr(y)&&(p.value=""+Xr(y)):Y!=="submit"&&Y!=="reset"||p.removeAttribute("value"),y!=null?_m(p,Y,Xr(y)):_!=null?_m(p,Y,Xr(_)):M!=null&&p.removeAttribute("value"),A==null&&P!=null&&(p.defaultChecked=!!P),A!=null&&(p.checked=A&&typeof A!="function"&&typeof A!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?p.name=""+Xr(Z):p.removeAttribute("name")}function d0(p,y,_,M,A,P,Y,Z){if(P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(p.type=P),y!=null||_!=null){if(!(P!=="submit"&&P!=="reset"||y!=null))return;_=_!=null?""+Xr(_):"",y=y!=null?""+Xr(y):_,Z||y===p.value||(p.value=y),p.defaultValue=y}M=M??A,M=typeof M!="function"&&typeof M!="symbol"&&!!M,p.checked=Z?p.checked:!!M,p.defaultChecked=!!M,Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"&&(p.name=Y)}function _m(p,y,_){y==="number"&&Mf(p.ownerDocument)===p||p.defaultValue===""+_||(p.defaultValue=""+_)}function uc(p,y,_,M){if(p=p.options,y){y={};for(var A=0;A<_.length;A++)y["$"+_[A]]=!0;for(_=0;_<p.length;_++)A=y.hasOwnProperty("$"+p[_].value),p[_].selected!==A&&(p[_].selected=A),A&&M&&(p[_].defaultSelected=!0)}else{for(_=""+Xr(_),y=null,A=0;A<p.length;A++){if(p[A].value===_){p[A].selected=!0,M&&(p[A].defaultSelected=!0);return}y!==null||p[A].disabled||(y=p[A])}y!==null&&(y.selected=!0)}}function f0(p,y,_){if(y!=null&&(y=""+Xr(y),y!==p.value&&(p.value=y),_==null)){p.defaultValue!==y&&(p.defaultValue=y);return}p.defaultValue=_!=null?""+Xr(_):""}function h0(p,y,_,M){if(y==null){if(M!=null){if(_!=null)throw Error(r(92));if(oe(M)){if(1<M.length)throw Error(r(93));M=M[0]}_=M}_==null&&(_=""),y=_}_=Xr(y),p.defaultValue=_,M=p.textContent,M===_&&M!==""&&M!==null&&(p.value=M)}function dc(p,y){if(y){var _=p.firstChild;if(_&&_===p.lastChild&&_.nodeType===3){_.nodeValue=y;return}}p.textContent=y}var Ob=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function m0(p,y,_){var M=y.indexOf("--")===0;_==null||typeof _=="boolean"||_===""?M?p.setProperty(y,""):y==="float"?p.cssFloat="":p[y]="":M?p.setProperty(y,_):typeof _!="number"||_===0||Ob.has(y)?y==="float"?p.cssFloat=_:p[y]=(""+_).trim():p[y]=_+"px"}function p0(p,y,_){if(y!=null&&typeof y!="object")throw Error(r(62));if(p=p.style,_!=null){for(var M in _)!_.hasOwnProperty(M)||y!=null&&y.hasOwnProperty(M)||(M.indexOf("--")===0?p.setProperty(M,""):M==="float"?p.cssFloat="":p[M]="");for(var A in y)M=y[A],y.hasOwnProperty(A)&&_[A]!==M&&m0(p,A,M)}else for(var P in y)y.hasOwnProperty(P)&&m0(p,P,y[P])}function Cm(p){if(p.indexOf("-")===-1)return!1;switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ib=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kf(p){return Ib.test(""+p)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":p}var Sm=null;function g0(p){return p=p.target||p.srcElement||window,p.correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var Pu=null,Iu=null;function Db(p){var y=_a(p);if(y&&(p=y.stateNode)){var _=p[Kr]||null;e:switch(p=y.stateNode,y.type){case"input":if(Ou(p,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name),y=_.name,_.type==="radio"&&y!=null){for(_=p;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll('input[name="'+Zr(""+y)+'"][type="radio"]'),y=0;y<_.length;y++){var M=_[y];if(M!==p&&M.form===p.form){var A=M[Kr]||null;if(!A)throw Error(r(90));Ou(M,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(y=0;y<_.length;y++)M=_[y],M.form===p.form&&u0(M)}break e;case"textarea":f0(p,_.value,_.defaultValue);break e;case"select":y=_.value,y!=null&&uc(p,!!_.multiple,y,!1)}}}var v0=!1;function Er(p,y,_){if(v0)return p(y,_);v0=!0;try{var M=p(y);return M}finally{if(v0=!1,(Pu!==null||Iu!==null)&&(b3(),Pu&&(y=Pu,p=Iu,Iu=Pu=null,Db(y),p)))for(y=0;y<p.length;y++)Db(p[y])}}function ta(p,y){var _=p.stateNode;if(_===null)return null;var M=_[Kr]||null;if(M===null)return null;_=M[y];e:switch(y){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(M=!M.disabled)||(p=p.type,M=!(p==="button"||p==="input"||p==="select"||p==="textarea")),p=!M;break e;default:p=!1}if(p)return null;if(_&&typeof _!="function")throw Error(r(231,y,typeof _));return _}var fc=!1;if(ws)try{var y0={};Object.defineProperty(y0,"passive",{get:function(){fc=!0}}),window.addEventListener("test",y0,y0),window.removeEventListener("test",y0,y0)}catch{fc=!1}var Du=null,j8=null,Fb=null;function Wz(){if(Fb)return Fb;var p,y=j8,_=y.length,M,A="value"in Du?Du.value:Du.textContent,P=A.length;for(p=0;p<_&&y[p]===A[p];p++);var Y=_-p;for(M=1;M<=Y&&y[_-M]===A[P-M];M++);return Fb=A.slice(p,1<M?1-M:void 0)}function Ub(p){var y=p.keyCode;return"charCode"in p?(p=p.charCode,p===0&&y===13&&(p=13)):p=y,p===10&&(p=13),32<=p||p===13?p:0}function Bb(){return!0}function $z(){return!1}function Wa(p){function y(_,M,A,P,Y){this._reactName=_,this._targetInst=A,this.type=M,this.nativeEvent=P,this.target=Y,this.currentTarget=null;for(var Z in p)p.hasOwnProperty(Z)&&(_=p[Z],this[Z]=_?_(P):P[Z]);return this.isDefaultPrevented=(P.defaultPrevented!=null?P.defaultPrevented:P.returnValue===!1)?Bb:$z,this.isPropagationStopped=$z,this}return O(y.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=Bb)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=Bb)},persist:function(){},isPersistent:Bb}),y}var Ef={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vb=Wa(Ef),x0=O({},Ef,{view:0,detail:0}),ULe=Wa(x0),A8,R8,b0,zb=O({},x0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O8,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==b0&&(b0&&p.type==="mousemove"?(A8=p.screenX-b0.screenX,R8=p.screenY-b0.screenY):R8=A8=0,b0=p),A8)},movementY:function(p){return"movementY"in p?p.movementY:R8}}),qz=Wa(zb),BLe=O({},zb,{dataTransfer:0}),VLe=Wa(BLe),zLe=O({},x0,{relatedTarget:0}),L8=Wa(zLe),HLe=O({},Ef,{animationName:0,elapsedTime:0,pseudoElement:0}),WLe=Wa(HLe),$Le=O({},Ef,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),qLe=Wa($Le),GLe=O({},Ef,{data:0}),Gz=Wa(GLe),YLe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KLe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QLe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XLe(p){var y=this.nativeEvent;return y.getModifierState?y.getModifierState(p):(p=QLe[p])?!!y[p]:!1}function O8(){return XLe}var ZLe=O({},x0,{key:function(p){if(p.key){var y=YLe[p.key]||p.key;if(y!=="Unidentified")return y}return p.type==="keypress"?(p=Ub(p),p===13?"Enter":String.fromCharCode(p)):p.type==="keydown"||p.type==="keyup"?KLe[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O8,charCode:function(p){return p.type==="keypress"?Ub(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?Ub(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),JLe=Wa(ZLe),eOe=O({},zb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yz=Wa(eOe),tOe=O({},x0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O8}),nOe=Wa(tOe),rOe=O({},Ef,{propertyName:0,elapsedTime:0,pseudoElement:0}),sOe=Wa(rOe),aOe=O({},zb,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),iOe=Wa(aOe),oOe=O({},Ef,{newState:0,oldState:0}),lOe=Wa(oOe),cOe=[9,13,27,32],P8=ws&&"CompositionEvent"in window,w0=null;ws&&"documentMode"in document&&(w0=document.documentMode);var uOe=ws&&"TextEvent"in window&&!w0,Kz=ws&&(!P8||w0&&8<w0&&11>=w0),Qz=" ",Xz=!1;function Zz(p,y){switch(p){case"keyup":return cOe.indexOf(y.keyCode)!==-1;case"keydown":return y.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jz(p){return p=p.detail,typeof p=="object"&&"data"in p?p.data:null}var Mm=!1;function dOe(p,y){switch(p){case"compositionend":return Jz(y);case"keypress":return y.which!==32?null:(Xz=!0,Qz);case"textInput":return p=y.data,p===Qz&&Xz?null:p;default:return null}}function fOe(p,y){if(Mm)return p==="compositionend"||!P8&&Zz(p,y)?(p=Wz(),Fb=j8=Du=null,Mm=!1,p):null;switch(p){case"paste":return null;case"keypress":if(!(y.ctrlKey||y.altKey||y.metaKey)||y.ctrlKey&&y.altKey){if(y.char&&1<y.char.length)return y.char;if(y.which)return String.fromCharCode(y.which)}return null;case"compositionend":return Kz&&y.locale!=="ko"?null:y.data;default:return null}}var hOe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eH(p){var y=p&&p.nodeName&&p.nodeName.toLowerCase();return y==="input"?!!hOe[p.type]:y==="textarea"}function tH(p,y,_,M){Pu?Iu?Iu.push(M):Iu=[M]:Pu=M,y=M3(y,"onChange"),0<y.length&&(_=new Vb("onChange","change",null,_,M),p.push({event:_,listeners:y}))}var _0=null,C0=null;function mOe(p){E$(p,0)}function Hb(p){var y=oc(p);if(u0(y))return p}function nH(p,y){if(p==="change")return y}var rH=!1;if(ws){var I8;if(ws){var D8="oninput"in document;if(!D8){var sH=document.createElement("div");sH.setAttribute("oninput","return;"),D8=typeof sH.oninput=="function"}I8=D8}else I8=!1;rH=I8&&(!document.documentMode||9<document.documentMode)}function aH(){_0&&(_0.detachEvent("onpropertychange",iH),C0=_0=null)}function iH(p){if(p.propertyName==="value"&&Hb(C0)){var y=[];tH(y,C0,p,g0(p)),Er(mOe,y)}}function pOe(p,y,_){p==="focusin"?(aH(),_0=y,C0=_,_0.attachEvent("onpropertychange",iH)):p==="focusout"&&aH()}function gOe(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return Hb(C0)}function vOe(p,y){if(p==="click")return Hb(y)}function yOe(p,y){if(p==="input"||p==="change")return Hb(y)}function xOe(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var ci=typeof Object.is=="function"?Object.is:xOe;function S0(p,y){if(ci(p,y))return!0;if(typeof p!="object"||p===null||typeof y!="object"||y===null)return!1;var _=Object.keys(p),M=Object.keys(y);if(_.length!==M.length)return!1;for(M=0;M<_.length;M++){var A=_[M];if(!ot.call(y,A)||!ci(p[A],y[A]))return!1}return!0}function oH(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function lH(p,y){var _=oH(p);p=0;for(var M;_;){if(_.nodeType===3){if(M=p+_.textContent.length,p<=y&&M>=y)return{node:_,offset:y-p};p=M}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=oH(_)}}function cH(p,y){return p&&y?p===y?!0:p&&p.nodeType===3?!1:y&&y.nodeType===3?cH(p,y.parentNode):"contains"in p?p.contains(y):p.compareDocumentPosition?!!(p.compareDocumentPosition(y)&16):!1:!1}function uH(p){p=p!=null&&p.ownerDocument!=null&&p.ownerDocument.defaultView!=null?p.ownerDocument.defaultView:window;for(var y=Mf(p.document);y instanceof p.HTMLIFrameElement;){try{var _=typeof y.contentWindow.location.href=="string"}catch{_=!1}if(_)p=y.contentWindow;else break;y=Mf(p.document)}return y}function F8(p){var y=p&&p.nodeName&&p.nodeName.toLowerCase();return y&&(y==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||y==="textarea"||p.contentEditable==="true")}function bOe(p,y){var _=uH(y);y=p.focusedElem;var M=p.selectionRange;if(_!==y&&y&&y.ownerDocument&&cH(y.ownerDocument.documentElement,y)){if(M!==null&&F8(y)){if(p=M.start,_=M.end,_===void 0&&(_=p),"selectionStart"in y)y.selectionStart=p,y.selectionEnd=Math.min(_,y.value.length);else if(_=(p=y.ownerDocument||document)&&p.defaultView||window,_.getSelection){_=_.getSelection();var A=y.textContent.length,P=Math.min(M.start,A);M=M.end===void 0?P:Math.min(M.end,A),!_.extend&&P>M&&(A=M,M=P,P=A),A=lH(y,P);var Y=lH(y,M);A&&Y&&(_.rangeCount!==1||_.anchorNode!==A.node||_.anchorOffset!==A.offset||_.focusNode!==Y.node||_.focusOffset!==Y.offset)&&(p=p.createRange(),p.setStart(A.node,A.offset),_.removeAllRanges(),P>M?(_.addRange(p),_.extend(Y.node,Y.offset)):(p.setEnd(Y.node,Y.offset),_.addRange(p)))}}for(p=[],_=y;_=_.parentNode;)_.nodeType===1&&p.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<p.length;y++)_=p[y],_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}var wOe=ws&&"documentMode"in document&&11>=document.documentMode,km=null,U8=null,M0=null,B8=!1;function dH(p,y,_){var M=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;B8||km==null||km!==Mf(M)||(M=km,"selectionStart"in M&&F8(M)?M={start:M.selectionStart,end:M.selectionEnd}:(M=(M.ownerDocument&&M.ownerDocument.defaultView||window).getSelection(),M={anchorNode:M.anchorNode,anchorOffset:M.anchorOffset,focusNode:M.focusNode,focusOffset:M.focusOffset}),M0&&S0(M0,M)||(M0=M,M=M3(U8,"onSelect"),0<M.length&&(y=new Vb("onSelect","select",null,y,_),p.push({event:y,listeners:M}),y.target=km)))}function Tf(p,y){var _={};return _[p.toLowerCase()]=y.toLowerCase(),_["Webkit"+p]="webkit"+y,_["Moz"+p]="moz"+y,_}var Em={animationend:Tf("Animation","AnimationEnd"),animationiteration:Tf("Animation","AnimationIteration"),animationstart:Tf("Animation","AnimationStart"),transitionrun:Tf("Transition","TransitionRun"),transitionstart:Tf("Transition","TransitionStart"),transitioncancel:Tf("Transition","TransitionCancel"),transitionend:Tf("Transition","TransitionEnd")},V8={},fH={};ws&&(fH=document.createElement("div").style,"AnimationEvent"in window||(delete Em.animationend.animation,delete Em.animationiteration.animation,delete Em.animationstart.animation),"TransitionEvent"in window||delete Em.transitionend.transition);function Nf(p){if(V8[p])return V8[p];if(!Em[p])return p;var y=Em[p],_;for(_ in y)if(y.hasOwnProperty(_)&&_ in fH)return V8[p]=y[_];return p}var hH=Nf("animationend"),mH=Nf("animationiteration"),pH=Nf("animationstart"),_Oe=Nf("transitionrun"),COe=Nf("transitionstart"),SOe=Nf("transitioncancel"),gH=Nf("transitionend"),vH=new Map,yH="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function So(p,y){vH.set(p,y),Co(y,[p])}var Li=[],Tm=0,z8=0;function Wb(){for(var p=Tm,y=z8=Tm=0;y<p;){var _=Li[y];Li[y++]=null;var M=Li[y];Li[y++]=null;var A=Li[y];Li[y++]=null;var P=Li[y];if(Li[y++]=null,M!==null&&A!==null){var Y=M.pending;Y===null?A.next=A:(A.next=Y.next,Y.next=A),M.pending=A}P!==0&&xH(_,A,P)}}function $b(p,y,_,M){Li[Tm++]=p,Li[Tm++]=y,Li[Tm++]=_,Li[Tm++]=M,z8|=M,p.lanes|=M,p=p.alternate,p!==null&&(p.lanes|=M)}function H8(p,y,_,M){return $b(p,y,_,M),qb(p)}function Fu(p,y){return $b(p,null,null,y),qb(p)}function xH(p,y,_){p.lanes|=_;var M=p.alternate;M!==null&&(M.lanes|=_);for(var A=!1,P=p.return;P!==null;)P.childLanes|=_,M=P.alternate,M!==null&&(M.childLanes|=_),P.tag===22&&(p=P.stateNode,p===null||p._visibility&1||(A=!0)),p=P,P=P.return;A&&y!==null&&p.tag===3&&(P=p.stateNode,A=31-ft(_),P=P.hiddenUpdates,p=P[A],p===null?P[A]=[y]:p.push(y),y.lane=_|536870912)}function qb(p){if(50<Q0)throw Q0=0,K9=null,Error(r(185));for(var y=p.return;y!==null;)p=y,y=p.return;return p.tag===3?p.stateNode:null}var Nm={},bH=new WeakMap;function Oi(p,y){if(typeof p=="object"&&p!==null){var _=bH.get(p);return _!==void 0?_:(y={value:p,source:y,stack:H(y)},bH.set(p,y),y)}return{value:p,source:y,stack:H(y)}}var jm=[],Am=0,Gb=null,Yb=0,Pi=[],Ii=0,jf=null,hc=1,mc="";function Af(p,y){jm[Am++]=Yb,jm[Am++]=Gb,Gb=p,Yb=y}function wH(p,y,_){Pi[Ii++]=hc,Pi[Ii++]=mc,Pi[Ii++]=jf,jf=p;var M=hc;p=mc;var A=32-ft(M)-1;M&=~(1<<A),_+=1;var P=32-ft(y)+A;if(30<P){var Y=A-A%5;P=(M&(1<<Y)-1).toString(32),M>>=Y,A-=Y,hc=1<<32-ft(y)+A|_<<A|M,mc=P+p}else hc=1<<P|_<<A|M,mc=p}function W8(p){p.return!==null&&(Af(p,1),wH(p,1,0))}function $8(p){for(;p===Gb;)Gb=jm[--Am],jm[Am]=null,Yb=jm[--Am],jm[Am]=null;for(;p===jf;)jf=Pi[--Ii],Pi[Ii]=null,mc=Pi[--Ii],Pi[Ii]=null,hc=Pi[--Ii],Pi[Ii]=null}var Ca=null,Hs=null,En=!1,Mo=null,il=!1,q8=Error(r(519));function Rf(p){var y=Error(r(418,""));throw T0(Oi(y,p)),q8}function _H(p){var y=p.stateNode,_=p.type,M=p.memoizedProps;switch(y[tr]=p,y[Kr]=M,_){case"dialog":xn("cancel",y),xn("close",y);break;case"iframe":case"object":case"embed":xn("load",y);break;case"video":case"audio":for(_=0;_<Z0.length;_++)xn(Z0[_],y);break;case"source":xn("error",y);break;case"img":case"image":case"link":xn("error",y),xn("load",y);break;case"details":xn("toggle",y);break;case"input":xn("invalid",y),d0(y,M.value,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name,!0),Sf(y);break;case"select":xn("invalid",y);break;case"textarea":xn("invalid",y),h0(y,M.value,M.defaultValue,M.children),Sf(y)}_=M.children,typeof _!="string"&&typeof _!="number"&&typeof _!="bigint"||y.textContent===""+_||M.suppressHydrationWarning===!0||A$(y.textContent,_)?(M.popover!=null&&(xn("beforetoggle",y),xn("toggle",y)),M.onScroll!=null&&xn("scroll",y),M.onScrollEnd!=null&&xn("scrollend",y),M.onClick!=null&&(y.onclick=k3),y=!0):y=!1,y||Rf(p)}function CH(p){for(Ca=p.return;Ca;)switch(Ca.tag){case 3:case 27:il=!0;return;case 5:case 13:il=!1;return;default:Ca=Ca.return}}function k0(p){if(p!==Ca)return!1;if(!En)return CH(p),En=!0,!1;var y=!1,_;if((_=p.tag!==3&&p.tag!==27)&&((_=p.tag===5)&&(_=p.type,_=!(_!=="form"&&_!=="button")||f7(p.type,p.memoizedProps)),_=!_),_&&(y=!0),y&&Hs&&Rf(p),CH(p),p.tag===13){if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));e:{for(p=p.nextSibling,y=0;p;){if(p.nodeType===8)if(_=p.data,_==="/$"){if(y===0){Hs=Eo(p.nextSibling);break e}y--}else _!=="$"&&_!=="$!"&&_!=="$?"||y++;p=p.nextSibling}Hs=null}}else Hs=Ca?Eo(p.stateNode.nextSibling):null;return!0}function E0(){Hs=Ca=null,En=!1}function T0(p){Mo===null?Mo=[p]:Mo.push(p)}var N0=Error(r(460)),SH=Error(r(474)),G8={then:function(){}};function MH(p){return p=p.status,p==="fulfilled"||p==="rejected"}function Kb(){}function kH(p,y,_){switch(_=p[_],_===void 0?p.push(y):_!==y&&(y.then(Kb,Kb),y=_),y.status){case"fulfilled":return y.value;case"rejected":throw p=y.reason,p===N0?Error(r(483)):p;default:if(typeof y.status=="string")y.then(Kb,Kb);else{if(p=lr,p!==null&&100<p.shellSuspendCounter)throw Error(r(482));p=y,p.status="pending",p.then(function(M){if(y.status==="pending"){var A=y;A.status="fulfilled",A.value=M}},function(M){if(y.status==="pending"){var A=y;A.status="rejected",A.reason=M}})}switch(y.status){case"fulfilled":return y.value;case"rejected":throw p=y.reason,p===N0?Error(r(483)):p}throw j0=y,N0}}var j0=null;function EH(){if(j0===null)throw Error(r(459));var p=j0;return j0=null,p}var Rm=null,A0=0;function Qb(p){var y=A0;return A0+=1,Rm===null&&(Rm=[]),kH(Rm,p,y)}function R0(p,y){y=y.props.ref,p.ref=y!==void 0?y:null}function Xb(p,y){throw y.$$typeof===a?Error(r(525)):(p=Object.prototype.toString.call(y),Error(r(31,p==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":p)))}function TH(p){var y=p._init;return y(p._payload)}function NH(p){function y(be,ve){if(p){var ke=be.deletions;ke===null?(be.deletions=[ve],be.flags|=16):ke.push(ve)}}function _(be,ve){if(!p)return null;for(;ve!==null;)y(be,ve),ve=ve.sibling;return null}function M(be){for(var ve=new Map;be!==null;)be.key!==null?ve.set(be.key,be):ve.set(be.index,be),be=be.sibling;return ve}function A(be,ve){return be=Qu(be,ve),be.index=0,be.sibling=null,be}function P(be,ve,ke){return be.index=ke,p?(ke=be.alternate,ke!==null?(ke=ke.index,ke<ve?(be.flags|=33554434,ve):ke):(be.flags|=33554434,ve)):(be.flags|=1048576,ve)}function Y(be){return p&&be.alternate===null&&(be.flags|=33554434),be}function Z(be,ve,ke,We){return ve===null||ve.tag!==6?(ve=V9(ke,be.mode,We),ve.return=be,ve):(ve=A(ve,ke),ve.return=be,ve)}function ue(be,ve,ke,We){var Tt=ke.type;return Tt===c?Ue(be,ve,ke.props.children,We,ke.key):ve!==null&&(ve.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===C&&TH(Tt)===ve.type)?(ve=A(ve,ke.props),R0(ve,ke),ve.return=be,ve):(ve=p3(ke.type,ke.key,ke.props,null,be.mode,We),R0(ve,ke),ve.return=be,ve)}function ye(be,ve,ke,We){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==ke.containerInfo||ve.stateNode.implementation!==ke.implementation?(ve=z9(ke,be.mode,We),ve.return=be,ve):(ve=A(ve,ke.children||[]),ve.return=be,ve)}function Ue(be,ve,ke,We,Tt){return ve===null||ve.tag!==7?(ve=zf(ke,be.mode,We,Tt),ve.return=be,ve):(ve=A(ve,ke),ve.return=be,ve)}function Ke(be,ve,ke){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ve=V9(""+ve,be.mode,ke),ve.return=be,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case i:return ke=p3(ve.type,ve.key,ve.props,null,be.mode,ke),R0(ke,ve),ke.return=be,ke;case l:return ve=z9(ve,be.mode,ke),ve.return=be,ve;case C:var We=ve._init;return ve=We(ve._payload),Ke(be,ve,ke)}if(oe(ve)||T(ve))return ve=zf(ve,be.mode,ke,null),ve.return=be,ve;if(typeof ve.then=="function")return Ke(be,Qb(ve),ke);if(ve.$$typeof===g)return Ke(be,f3(be,ve),ke);Xb(be,ve)}return null}function Te(be,ve,ke,We){var Tt=ve!==null?ve.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return Tt!==null?null:Z(be,ve,""+ke,We);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case i:return ke.key===Tt?ue(be,ve,ke,We):null;case l:return ke.key===Tt?ye(be,ve,ke,We):null;case C:return Tt=ke._init,ke=Tt(ke._payload),Te(be,ve,ke,We)}if(oe(ke)||T(ke))return Tt!==null?null:Ue(be,ve,ke,We,null);if(typeof ke.then=="function")return Te(be,ve,Qb(ke),We);if(ke.$$typeof===g)return Te(be,ve,f3(be,ke),We);Xb(be,ke)}return null}function Ie(be,ve,ke,We,Tt){if(typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint")return be=be.get(ke)||null,Z(ve,be,""+We,Tt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case i:return be=be.get(We.key===null?ke:We.key)||null,ue(ve,be,We,Tt);case l:return be=be.get(We.key===null?ke:We.key)||null,ye(ve,be,We,Tt);case C:var mn=We._init;return We=mn(We._payload),Ie(be,ve,ke,We,Tt)}if(oe(We)||T(We))return be=be.get(ke)||null,Ue(ve,be,We,Tt,null);if(typeof We.then=="function")return Ie(be,ve,ke,Qb(We),Tt);if(We.$$typeof===g)return Ie(be,ve,ke,f3(ve,We),Tt);Xb(ve,We)}return null}function Ot(be,ve,ke,We){for(var Tt=null,mn=null,Ut=ve,$t=ve=0,Ss=null;Ut!==null&&$t<ke.length;$t++){Ut.index>$t?(Ss=Ut,Ut=null):Ss=Ut.sibling;var Tn=Te(be,Ut,ke[$t],We);if(Tn===null){Ut===null&&(Ut=Ss);break}p&&Ut&&Tn.alternate===null&&y(be,Ut),ve=P(Tn,ve,$t),mn===null?Tt=Tn:mn.sibling=Tn,mn=Tn,Ut=Ss}if($t===ke.length)return _(be,Ut),En&&Af(be,$t),Tt;if(Ut===null){for(;$t<ke.length;$t++)Ut=Ke(be,ke[$t],We),Ut!==null&&(ve=P(Ut,ve,$t),mn===null?Tt=Ut:mn.sibling=Ut,mn=Ut);return En&&Af(be,$t),Tt}for(Ut=M(Ut);$t<ke.length;$t++)Ss=Ie(Ut,be,$t,ke[$t],We),Ss!==null&&(p&&Ss.alternate!==null&&Ut.delete(Ss.key===null?$t:Ss.key),ve=P(Ss,ve,$t),mn===null?Tt=Ss:mn.sibling=Ss,mn=Ss);return p&&Ut.forEach(function(rd){return y(be,rd)}),En&&Af(be,$t),Tt}function en(be,ve,ke,We){if(ke==null)throw Error(r(151));for(var Tt=null,mn=null,Ut=ve,$t=ve=0,Ss=null,Tn=ke.next();Ut!==null&&!Tn.done;$t++,Tn=ke.next()){Ut.index>$t?(Ss=Ut,Ut=null):Ss=Ut.sibling;var rd=Te(be,Ut,Tn.value,We);if(rd===null){Ut===null&&(Ut=Ss);break}p&&Ut&&rd.alternate===null&&y(be,Ut),ve=P(rd,ve,$t),mn===null?Tt=rd:mn.sibling=rd,mn=rd,Ut=Ss}if(Tn.done)return _(be,Ut),En&&Af(be,$t),Tt;if(Ut===null){for(;!Tn.done;$t++,Tn=ke.next())Tn=Ke(be,Tn.value,We),Tn!==null&&(ve=P(Tn,ve,$t),mn===null?Tt=Tn:mn.sibling=Tn,mn=Tn);return En&&Af(be,$t),Tt}for(Ut=M(Ut);!Tn.done;$t++,Tn=ke.next())Tn=Ie(Ut,be,$t,Tn.value,We),Tn!==null&&(p&&Tn.alternate!==null&&Ut.delete(Tn.key===null?$t:Tn.key),ve=P(Tn,ve,$t),mn===null?Tt=Tn:mn.sibling=Tn,mn=Tn);return p&&Ut.forEach(function(FPe){return y(be,FPe)}),En&&Af(be,$t),Tt}function Pr(be,ve,ke,We){if(typeof ke=="object"&&ke!==null&&ke.type===c&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case i:e:{for(var Tt=ke.key;ve!==null;){if(ve.key===Tt){if(Tt=ke.type,Tt===c){if(ve.tag===7){_(be,ve.sibling),We=A(ve,ke.props.children),We.return=be,be=We;break e}}else if(ve.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===C&&TH(Tt)===ve.type){_(be,ve.sibling),We=A(ve,ke.props),R0(We,ke),We.return=be,be=We;break e}_(be,ve);break}else y(be,ve);ve=ve.sibling}ke.type===c?(We=zf(ke.props.children,be.mode,We,ke.key),We.return=be,be=We):(We=p3(ke.type,ke.key,ke.props,null,be.mode,We),R0(We,ke),We.return=be,be=We)}return Y(be);case l:e:{for(Tt=ke.key;ve!==null;){if(ve.key===Tt)if(ve.tag===4&&ve.stateNode.containerInfo===ke.containerInfo&&ve.stateNode.implementation===ke.implementation){_(be,ve.sibling),We=A(ve,ke.children||[]),We.return=be,be=We;break e}else{_(be,ve);break}else y(be,ve);ve=ve.sibling}We=z9(ke,be.mode,We),We.return=be,be=We}return Y(be);case C:return Tt=ke._init,ke=Tt(ke._payload),Pr(be,ve,ke,We)}if(oe(ke))return Ot(be,ve,ke,We);if(T(ke)){if(Tt=T(ke),typeof Tt!="function")throw Error(r(150));return ke=Tt.call(ke),en(be,ve,ke,We)}if(typeof ke.then=="function")return Pr(be,ve,Qb(ke),We);if(ke.$$typeof===g)return Pr(be,ve,f3(be,ke),We);Xb(be,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint"?(ke=""+ke,ve!==null&&ve.tag===6?(_(be,ve.sibling),We=A(ve,ke),We.return=be,be=We):(_(be,ve),We=V9(ke,be.mode,We),We.return=be,be=We),Y(be)):_(be,ve)}return function(be,ve,ke,We){try{A0=0;var Tt=Pr(be,ve,ke,We);return Rm=null,Tt}catch(Ut){if(Ut===N0)throw Ut;var mn=Bi(29,Ut,null,be.mode);return mn.lanes=We,mn.return=be,mn}finally{}}}var Lf=NH(!0),jH=NH(!1),Lm=ce(null),Zb=ce(0);function AH(p,y){p=Mc,J(Zb,p),J(Lm,y),Mc=p|y.baseLanes}function Y8(){J(Zb,Mc),J(Lm,Lm.current)}function K8(){Mc=Zb.current,se(Lm),se(Zb)}var Di=ce(null),ol=null;function Uu(p){var y=p.alternate;J(ls,ls.current&1),J(Di,p),ol===null&&(y===null||Lm.current!==null||y.memoizedState!==null)&&(ol=p)}function RH(p){if(p.tag===22){if(J(ls,ls.current),J(Di,p),ol===null){var y=p.alternate;y!==null&&y.memoizedState!==null&&(ol=p)}}else Bu()}function Bu(){J(ls,ls.current),J(Di,Di.current)}function pc(p){se(Di),ol===p&&(ol=null),se(ls)}var ls=ce(0);function Jb(p){for(var y=p;y!==null;){if(y.tag===13){var _=y.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||_.data==="$!"))return y}else if(y.tag===19&&y.memoizedProps.revealOrder!==void 0){if(y.flags&128)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}var MOe=typeof AbortController<"u"?AbortController:function(){var p=[],y=this.signal={aborted:!1,addEventListener:function(_,M){p.push(M)}};this.abort=function(){y.aborted=!0,p.forEach(function(_){return _()})}},kOe=e.unstable_scheduleCallback,EOe=e.unstable_NormalPriority,cs={$$typeof:g,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Q8(){return{controller:new MOe,data:new Map,refCount:0}}function L0(p){p.refCount--,p.refCount===0&&kOe(EOe,function(){p.controller.abort()})}var O0=null,X8=0,Om=0,Pm=null;function TOe(p,y){if(O0===null){var _=O0=[];X8=0,Om=r7(),Pm={status:"pending",value:void 0,then:function(M){_.push(M)}}}return X8++,y.then(LH,LH),y}function LH(){if(--X8===0&&O0!==null){Pm!==null&&(Pm.status="fulfilled");var p=O0;O0=null,Om=0,Pm=null;for(var y=0;y<p.length;y++)(0,p[y])()}}function NOe(p,y){var _=[],M={status:"pending",value:null,reason:null,then:function(A){_.push(A)}};return p.then(function(){M.status="fulfilled",M.value=y;for(var A=0;A<_.length;A++)(0,_[A])(y)},function(A){for(M.status="rejected",M.reason=A,A=0;A<_.length;A++)(0,_[A])(void 0)}),M}var OH=R.S;R.S=function(p,y){typeof y=="object"&&y!==null&&typeof y.then=="function"&&TOe(p,y),OH!==null&&OH(p,y)};var Of=ce(null);function Z8(){var p=Of.current;return p!==null?p:lr.pooledCache}function e3(p,y){y===null?J(Of,Of.current):J(Of,y.pool)}function PH(){var p=Z8();return p===null?null:{parent:cs._currentValue,pool:p}}var Vu=0,dn=null,Xn=null,Jr=null,t3=!1,Im=!1,Pf=!1,n3=0,P0=0,Dm=null,jOe=0;function zr(){throw Error(r(321))}function J8(p,y){if(y===null)return!1;for(var _=0;_<y.length&&_<p.length;_++)if(!ci(p[_],y[_]))return!1;return!0}function e9(p,y,_,M,A,P){return Vu=P,dn=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,R.H=p===null||p.memoizedState===null?If:zu,Pf=!1,P=_(M,A),Pf=!1,Im&&(P=DH(y,_,M,A)),IH(p),P}function IH(p){R.H=ll;var y=Xn!==null&&Xn.next!==null;if(Vu=0,Jr=Xn=dn=null,t3=!1,P0=0,Dm=null,y)throw Error(r(300));p===null||_s||(p=p.dependencies,p!==null&&d3(p)&&(_s=!0))}function DH(p,y,_,M){dn=p;var A=0;do{if(Im&&(Dm=null),P0=0,Im=!1,25<=A)throw Error(r(301));if(A+=1,Jr=Xn=null,p.updateQueue!=null){var P=p.updateQueue;P.lastEffect=null,P.events=null,P.stores=null,P.memoCache!=null&&(P.memoCache.index=0)}R.H=Df,P=y(_,M)}while(Im);return P}function AOe(){var p=R.H,y=p.useState()[0];return y=typeof y.then=="function"?I0(y):y,p=p.useState()[0],(Xn!==null?Xn.memoizedState:null)!==p&&(dn.flags|=1024),y}function t9(){var p=n3!==0;return n3=0,p}function n9(p,y,_){y.updateQueue=p.updateQueue,y.flags&=-2053,p.lanes&=~_}function r9(p){if(t3){for(p=p.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}t3=!1}Vu=0,Jr=Xn=dn=null,Im=!1,P0=n3=0,Dm=null}function $a(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?dn.memoizedState=Jr=p:Jr=Jr.next=p,Jr}function es(){if(Xn===null){var p=dn.alternate;p=p!==null?p.memoizedState:null}else p=Xn.next;var y=Jr===null?dn.memoizedState:Jr.next;if(y!==null)Jr=y,Xn=p;else{if(p===null)throw dn.alternate===null?Error(r(467)):Error(r(310));Xn=p,p={memoizedState:Xn.memoizedState,baseState:Xn.baseState,baseQueue:Xn.baseQueue,queue:Xn.queue,next:null},Jr===null?dn.memoizedState=Jr=p:Jr=Jr.next=p}return Jr}var r3;r3=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function I0(p){var y=P0;return P0+=1,Dm===null&&(Dm=[]),p=kH(Dm,p,y),y=dn,(Jr===null?y.memoizedState:Jr.next)===null&&(y=y.alternate,R.H=y===null||y.memoizedState===null?If:zu),p}function s3(p){if(p!==null&&typeof p=="object"){if(typeof p.then=="function")return I0(p);if(p.$$typeof===g)return na(p)}throw Error(r(438,String(p)))}function s9(p){var y=null,_=dn.updateQueue;if(_!==null&&(y=_.memoCache),y==null){var M=dn.alternate;M!==null&&(M=M.updateQueue,M!==null&&(M=M.memoCache,M!=null&&(y={data:M.data.map(function(A){return A.slice()}),index:0})))}if(y==null&&(y={data:[],index:0}),_===null&&(_=r3(),dn.updateQueue=_),_.memoCache=y,_=y.data[y.index],_===void 0)for(_=y.data[y.index]=Array(p),M=0;M<p;M++)_[M]=k;return y.index++,_}function gc(p,y){return typeof y=="function"?y(p):y}function a3(p){var y=es();return a9(y,Xn,p)}function a9(p,y,_){var M=p.queue;if(M===null)throw Error(r(311));M.lastRenderedReducer=_;var A=p.baseQueue,P=M.pending;if(P!==null){if(A!==null){var Y=A.next;A.next=P.next,P.next=Y}y.baseQueue=A=P,M.pending=null}if(P=p.baseState,A===null)p.memoizedState=P;else{y=A.next;var Z=Y=null,ue=null,ye=y,Ue=!1;do{var Ke=ye.lane&-536870913;if(Ke!==ye.lane?(_n&Ke)===Ke:(Vu&Ke)===Ke){var Te=ye.revertLane;if(Te===0)ue!==null&&(ue=ue.next={lane:0,revertLane:0,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),Ke===Om&&(Ue=!0);else if((Vu&Te)===Te){ye=ye.next,Te===Om&&(Ue=!0);continue}else Ke={lane:0,revertLane:ye.revertLane,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},ue===null?(Z=ue=Ke,Y=P):ue=ue.next=Ke,dn.lanes|=Te,Xu|=Te;Ke=ye.action,Pf&&_(P,Ke),P=ye.hasEagerState?ye.eagerState:_(P,Ke)}else Te={lane:Ke,revertLane:ye.revertLane,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null},ue===null?(Z=ue=Te,Y=P):ue=ue.next=Te,dn.lanes|=Ke,Xu|=Ke;ye=ye.next}while(ye!==null&&ye!==y);if(ue===null?Y=P:ue.next=Z,!ci(P,p.memoizedState)&&(_s=!0,Ue&&(_=Pm,_!==null)))throw _;p.memoizedState=P,p.baseState=Y,p.baseQueue=ue,M.lastRenderedState=P}return A===null&&(M.lanes=0),[p.memoizedState,M.dispatch]}function i9(p){var y=es(),_=y.queue;if(_===null)throw Error(r(311));_.lastRenderedReducer=p;var M=_.dispatch,A=_.pending,P=y.memoizedState;if(A!==null){_.pending=null;var Y=A=A.next;do P=p(P,Y.action),Y=Y.next;while(Y!==A);ci(P,y.memoizedState)||(_s=!0),y.memoizedState=P,y.baseQueue===null&&(y.baseState=P),_.lastRenderedState=P}return[P,M]}function FH(p,y,_){var M=dn,A=es(),P=En;if(P){if(_===void 0)throw Error(r(407));_=_()}else _=y();var Y=!ci((Xn||A).memoizedState,_);if(Y&&(A.memoizedState=_,_s=!0),A=A.queue,c9(VH.bind(null,M,A,p),[p]),A.getSnapshot!==y||Y||Jr!==null&&Jr.memoizedState.tag&1){if(M.flags|=2048,Fm(9,BH.bind(null,M,A,_,y),{destroy:void 0},null),lr===null)throw Error(r(349));P||Vu&60||UH(M,y,_)}return _}function UH(p,y,_){p.flags|=16384,p={getSnapshot:y,value:_},y=dn.updateQueue,y===null?(y=r3(),dn.updateQueue=y,y.stores=[p]):(_=y.stores,_===null?y.stores=[p]:_.push(p))}function BH(p,y,_,M){y.value=_,y.getSnapshot=M,zH(y)&&HH(p)}function VH(p,y,_){return _(function(){zH(y)&&HH(p)})}function zH(p){var y=p.getSnapshot;p=p.value;try{var _=y();return!ci(p,_)}catch{return!0}}function HH(p){var y=Fu(p,2);y!==null&&Sa(y,p,2)}function o9(p){var y=$a();if(typeof p=="function"){var _=p;if(p=_(),Pf){dt(!0);try{_()}finally{dt(!1)}}}return y.memoizedState=y.baseState=p,y.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gc,lastRenderedState:p},y}function WH(p,y,_,M){return p.baseState=_,a9(p,Xn,typeof M=="function"?M:gc)}function ROe(p,y,_,M,A){if(l3(p))throw Error(r(485));if(p=y.action,p!==null){var P={payload:A,action:p,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Y){P.listeners.push(Y)}};R.T!==null?_(!0):P.isTransition=!1,M(P),_=y.pending,_===null?(P.next=y.pending=P,$H(y,P)):(P.next=_.next,y.pending=_.next=P)}}function $H(p,y){var _=y.action,M=y.payload,A=p.state;if(y.isTransition){var P=R.T,Y={};R.T=Y;try{var Z=_(A,M),ue=R.S;ue!==null&&ue(Y,Z),qH(p,y,Z)}catch(ye){l9(p,y,ye)}finally{R.T=P}}else try{P=_(A,M),qH(p,y,P)}catch(ye){l9(p,y,ye)}}function qH(p,y,_){_!==null&&typeof _=="object"&&typeof _.then=="function"?_.then(function(M){GH(p,y,M)},function(M){return l9(p,y,M)}):GH(p,y,_)}function GH(p,y,_){y.status="fulfilled",y.value=_,YH(y),p.state=_,y=p.pending,y!==null&&(_=y.next,_===y?p.pending=null:(_=_.next,y.next=_,$H(p,_)))}function l9(p,y,_){var M=p.pending;if(p.pending=null,M!==null){M=M.next;do y.status="rejected",y.reason=_,YH(y),y=y.next;while(y!==M)}p.action=null}function YH(p){p=p.listeners;for(var y=0;y<p.length;y++)(0,p[y])()}function KH(p,y){return y}function QH(p,y){if(En){var _=lr.formState;if(_!==null){e:{var M=dn;if(En){if(Hs){t:{for(var A=Hs,P=il;A.nodeType!==8;){if(!P){A=null;break t}if(A=Eo(A.nextSibling),A===null){A=null;break t}}P=A.data,A=P==="F!"||P==="F"?A:null}if(A){Hs=Eo(A.nextSibling),M=A.data==="F!";break e}}Rf(M)}M=!1}M&&(y=_[0])}}return _=$a(),_.memoizedState=_.baseState=y,M={pending:null,lanes:0,dispatch:null,lastRenderedReducer:KH,lastRenderedState:y},_.queue=M,_=mW.bind(null,dn,M),M.dispatch=_,M=o9(!1),P=m9.bind(null,dn,!1,M.queue),M=$a(),A={state:y,dispatch:null,action:p,pending:null},M.queue=A,_=ROe.bind(null,dn,A,P,_),A.dispatch=_,M.memoizedState=p,[y,_,!1]}function XH(p){var y=es();return ZH(y,Xn,p)}function ZH(p,y,_){y=a9(p,y,KH)[0],p=a3(gc)[0],y=typeof y=="object"&&y!==null&&typeof y.then=="function"?I0(y):y;var M=es(),A=M.queue,P=A.dispatch;return _!==M.memoizedState&&(dn.flags|=2048,Fm(9,LOe.bind(null,A,_),{destroy:void 0},null)),[y,P,p]}function LOe(p,y){p.action=y}function JH(p){var y=es(),_=Xn;if(_!==null)return ZH(y,_,p);es(),y=y.memoizedState,_=es();var M=_.queue.dispatch;return _.memoizedState=p,[y,M,!1]}function Fm(p,y,_,M){return p={tag:p,create:y,inst:_,deps:M,next:null},y=dn.updateQueue,y===null&&(y=r3(),dn.updateQueue=y),_=y.lastEffect,_===null?y.lastEffect=p.next=p:(M=_.next,_.next=p,p.next=M,y.lastEffect=p),p}function eW(){return es().memoizedState}function i3(p,y,_,M){var A=$a();dn.flags|=p,A.memoizedState=Fm(1|y,_,{destroy:void 0},M===void 0?null:M)}function o3(p,y,_,M){var A=es();M=M===void 0?null:M;var P=A.memoizedState.inst;Xn!==null&&M!==null&&J8(M,Xn.memoizedState.deps)?A.memoizedState=Fm(y,_,P,M):(dn.flags|=p,A.memoizedState=Fm(1|y,_,P,M))}function tW(p,y){i3(8390656,8,p,y)}function c9(p,y){o3(2048,8,p,y)}function nW(p,y){return o3(4,2,p,y)}function rW(p,y){return o3(4,4,p,y)}function sW(p,y){if(typeof y=="function"){p=p();var _=y(p);return function(){typeof _=="function"?_():y(null)}}if(y!=null)return p=p(),y.current=p,function(){y.current=null}}function aW(p,y,_){_=_!=null?_.concat([p]):null,o3(4,4,sW.bind(null,y,p),_)}function u9(){}function iW(p,y){var _=es();y=y===void 0?null:y;var M=_.memoizedState;return y!==null&&J8(y,M[1])?M[0]:(_.memoizedState=[p,y],p)}function oW(p,y){var _=es();y=y===void 0?null:y;var M=_.memoizedState;if(y!==null&&J8(y,M[1]))return M[0];if(M=p(),Pf){dt(!0);try{p()}finally{dt(!1)}}return _.memoizedState=[M,y],M}function d9(p,y,_){return _===void 0||Vu&1073741824?p.memoizedState=y:(p.memoizedState=_,p=c$(),dn.lanes|=p,Xu|=p,_)}function lW(p,y,_,M){return ci(_,y)?_:Lm.current!==null?(p=d9(p,_,M),ci(p,y)||(_s=!0),p):Vu&42?(p=c$(),dn.lanes|=p,Xu|=p,y):(_s=!0,p.memoizedState=_)}function cW(p,y,_,M,A){var P=ne.p;ne.p=P!==0&&8>P?P:8;var Y=R.T,Z={};R.T=Z,m9(p,!1,y,_);try{var ue=A(),ye=R.S;if(ye!==null&&ye(Z,ue),ue!==null&&typeof ue=="object"&&typeof ue.then=="function"){var Ue=NOe(ue,M);D0(p,y,Ue,hi(p))}else D0(p,y,M,hi(p))}catch(Ke){D0(p,y,{then:function(){},status:"rejected",reason:Ke},hi())}finally{ne.p=P,R.T=Y}}function OOe(){}function f9(p,y,_,M){if(p.tag!==5)throw Error(r(476));var A=uW(p).queue;cW(p,A,y,te,_===null?OOe:function(){return dW(p),_(M)})}function uW(p){var y=p.memoizedState;if(y!==null)return y;y={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gc,lastRenderedState:te},next:null};var _={};return y.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gc,lastRenderedState:_},next:null},p.memoizedState=y,p=p.alternate,p!==null&&(p.memoizedState=y),y}function dW(p){var y=uW(p).next.queue;D0(p,y,{},hi())}function h9(){return na(rv)}function fW(){return es().memoizedState}function hW(){return es().memoizedState}function POe(p){for(var y=p.return;y!==null;){switch(y.tag){case 24:case 3:var _=hi();p=$u(_);var M=qu(y,p,_);M!==null&&(Sa(M,y,_),B0(M,y,_)),y={cache:Q8()},p.payload=y;return}y=y.return}}function IOe(p,y,_){var M=hi();_={lane:M,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null},l3(p)?pW(y,_):(_=H8(p,y,_,M),_!==null&&(Sa(_,p,M),gW(_,y,M)))}function mW(p,y,_){var M=hi();D0(p,y,_,M)}function D0(p,y,_,M){var A={lane:M,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null};if(l3(p))pW(y,A);else{var P=p.alternate;if(p.lanes===0&&(P===null||P.lanes===0)&&(P=y.lastRenderedReducer,P!==null))try{var Y=y.lastRenderedState,Z=P(Y,_);if(A.hasEagerState=!0,A.eagerState=Z,ci(Z,Y))return $b(p,y,A,0),lr===null&&Wb(),!1}catch{}finally{}if(_=H8(p,y,A,M),_!==null)return Sa(_,p,M),gW(_,y,M),!0}return!1}function m9(p,y,_,M){if(M={lane:2,revertLane:r7(),action:M,hasEagerState:!1,eagerState:null,next:null},l3(p)){if(y)throw Error(r(479))}else y=H8(p,_,M,2),y!==null&&Sa(y,p,2)}function l3(p){var y=p.alternate;return p===dn||y!==null&&y===dn}function pW(p,y){Im=t3=!0;var _=p.pending;_===null?y.next=y:(y.next=_.next,_.next=y),p.pending=y}function gW(p,y,_){if(_&4194176){var M=y.lanes;M&=p.pendingLanes,_|=M,y.lanes=_,_r(p,_)}}var ll={readContext:na,use:s3,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useLayoutEffect:zr,useInsertionEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useSyncExternalStore:zr,useId:zr};ll.useCacheRefresh=zr,ll.useMemoCache=zr,ll.useHostTransitionStatus=zr,ll.useFormState=zr,ll.useActionState=zr,ll.useOptimistic=zr;var If={readContext:na,use:s3,useCallback:function(p,y){return $a().memoizedState=[p,y===void 0?null:y],p},useContext:na,useEffect:tW,useImperativeHandle:function(p,y,_){_=_!=null?_.concat([p]):null,i3(4194308,4,sW.bind(null,y,p),_)},useLayoutEffect:function(p,y){return i3(4194308,4,p,y)},useInsertionEffect:function(p,y){i3(4,2,p,y)},useMemo:function(p,y){var _=$a();y=y===void 0?null:y;var M=p();if(Pf){dt(!0);try{p()}finally{dt(!1)}}return _.memoizedState=[M,y],M},useReducer:function(p,y,_){var M=$a();if(_!==void 0){var A=_(y);if(Pf){dt(!0);try{_(y)}finally{dt(!1)}}}else A=y;return M.memoizedState=M.baseState=A,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:A},M.queue=p,p=p.dispatch=IOe.bind(null,dn,p),[M.memoizedState,p]},useRef:function(p){var y=$a();return p={current:p},y.memoizedState=p},useState:function(p){p=o9(p);var y=p.queue,_=mW.bind(null,dn,y);return y.dispatch=_,[p.memoizedState,_]},useDebugValue:u9,useDeferredValue:function(p,y){var _=$a();return d9(_,p,y)},useTransition:function(){var p=o9(!1);return p=cW.bind(null,dn,p.queue,!0,!1),$a().memoizedState=p,[!1,p]},useSyncExternalStore:function(p,y,_){var M=dn,A=$a();if(En){if(_===void 0)throw Error(r(407));_=_()}else{if(_=y(),lr===null)throw Error(r(349));_n&60||UH(M,y,_)}A.memoizedState=_;var P={value:_,getSnapshot:y};return A.queue=P,tW(VH.bind(null,M,P,p),[p]),M.flags|=2048,Fm(9,BH.bind(null,M,P,_,y),{destroy:void 0},null),_},useId:function(){var p=$a(),y=lr.identifierPrefix;if(En){var _=mc,M=hc;_=(M&~(1<<32-ft(M)-1)).toString(32)+_,y=":"+y+"R"+_,_=n3++,0<_&&(y+="H"+_.toString(32)),y+=":"}else _=jOe++,y=":"+y+"r"+_.toString(32)+":";return p.memoizedState=y},useCacheRefresh:function(){return $a().memoizedState=POe.bind(null,dn)}};If.useMemoCache=s9,If.useHostTransitionStatus=h9,If.useFormState=QH,If.useActionState=QH,If.useOptimistic=function(p){var y=$a();y.memoizedState=y.baseState=p;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return y.queue=_,y=m9.bind(null,dn,!0,_),_.dispatch=y,[p,y]};var zu={readContext:na,use:s3,useCallback:iW,useContext:na,useEffect:c9,useImperativeHandle:aW,useInsertionEffect:nW,useLayoutEffect:rW,useMemo:oW,useReducer:a3,useRef:eW,useState:function(){return a3(gc)},useDebugValue:u9,useDeferredValue:function(p,y){var _=es();return lW(_,Xn.memoizedState,p,y)},useTransition:function(){var p=a3(gc)[0],y=es().memoizedState;return[typeof p=="boolean"?p:I0(p),y]},useSyncExternalStore:FH,useId:fW};zu.useCacheRefresh=hW,zu.useMemoCache=s9,zu.useHostTransitionStatus=h9,zu.useFormState=XH,zu.useActionState=XH,zu.useOptimistic=function(p,y){var _=es();return WH(_,Xn,p,y)};var Df={readContext:na,use:s3,useCallback:iW,useContext:na,useEffect:c9,useImperativeHandle:aW,useInsertionEffect:nW,useLayoutEffect:rW,useMemo:oW,useReducer:i9,useRef:eW,useState:function(){return i9(gc)},useDebugValue:u9,useDeferredValue:function(p,y){var _=es();return Xn===null?d9(_,p,y):lW(_,Xn.memoizedState,p,y)},useTransition:function(){var p=i9(gc)[0],y=es().memoizedState;return[typeof p=="boolean"?p:I0(p),y]},useSyncExternalStore:FH,useId:fW};Df.useCacheRefresh=hW,Df.useMemoCache=s9,Df.useHostTransitionStatus=h9,Df.useFormState=JH,Df.useActionState=JH,Df.useOptimistic=function(p,y){var _=es();return Xn!==null?WH(_,Xn,p,y):(_.baseState=p,[p,_.queue.dispatch])};function p9(p,y,_,M){y=p.memoizedState,_=_(M,y),_=_==null?y:O({},y,_),p.memoizedState=_,p.lanes===0&&(p.updateQueue.baseState=_)}var g9={isMounted:function(p){return(p=p._reactInternals)?q(p)===p:!1},enqueueSetState:function(p,y,_){p=p._reactInternals;var M=hi(),A=$u(M);A.payload=y,_!=null&&(A.callback=_),y=qu(p,A,M),y!==null&&(Sa(y,p,M),B0(y,p,M))},enqueueReplaceState:function(p,y,_){p=p._reactInternals;var M=hi(),A=$u(M);A.tag=1,A.payload=y,_!=null&&(A.callback=_),y=qu(p,A,M),y!==null&&(Sa(y,p,M),B0(y,p,M))},enqueueForceUpdate:function(p,y){p=p._reactInternals;var _=hi(),M=$u(_);M.tag=2,y!=null&&(M.callback=y),y=qu(p,M,_),y!==null&&(Sa(y,p,_),B0(y,p,_))}};function vW(p,y,_,M,A,P,Y){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(M,P,Y):y.prototype&&y.prototype.isPureReactComponent?!S0(_,M)||!S0(A,P):!0}function yW(p,y,_,M){p=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(_,M),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(_,M),y.state!==p&&g9.enqueueReplaceState(y,y.state,null)}function Ff(p,y){var _=y;if("ref"in y){_={};for(var M in y)M!=="ref"&&(_[M]=y[M])}if(p=p.defaultProps){_===y&&(_=O({},_));for(var A in p)_[A]===void 0&&(_[A]=p[A])}return _}var c3=typeof reportError=="function"?reportError:function(p){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof p=="object"&&p!==null&&typeof p.message=="string"?String(p.message):String(p),error:p});if(!window.dispatchEvent(y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",p);return}console.error(p)};function xW(p){c3(p)}function bW(p){console.error(p)}function wW(p){c3(p)}function u3(p,y){try{var _=p.onUncaughtError;_(y.value,{componentStack:y.stack})}catch(M){setTimeout(function(){throw M})}}function _W(p,y,_){try{var M=p.onCaughtError;M(_.value,{componentStack:_.stack,errorBoundary:y.tag===1?y.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function v9(p,y,_){return _=$u(_),_.tag=3,_.payload={element:null},_.callback=function(){u3(p,y)},_}function CW(p){return p=$u(p),p.tag=3,p}function SW(p,y,_,M){var A=_.type.getDerivedStateFromError;if(typeof A=="function"){var P=M.value;p.payload=function(){return A(P)},p.callback=function(){_W(y,_,M)}}var Y=_.stateNode;Y!==null&&typeof Y.componentDidCatch=="function"&&(p.callback=function(){_W(y,_,M),typeof A!="function"&&(Zu===null?Zu=new Set([this]):Zu.add(this));var Z=M.stack;this.componentDidCatch(M.value,{componentStack:Z!==null?Z:""})})}function DOe(p,y,_,M,A){if(_.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){if(y=_.alternate,y!==null&&U0(y,_,A,!0),_=Di.current,_!==null){switch(_.tag){case 13:return ol===null?Z9():_.alternate===null&&Or===0&&(Or=3),_.flags&=-257,_.flags|=65536,_.lanes=A,M===G8?_.flags|=16384:(y=_.updateQueue,y===null?_.updateQueue=new Set([M]):y.add(M),e7(p,M,A)),!1;case 22:return _.flags|=65536,M===G8?_.flags|=16384:(y=_.updateQueue,y===null?(y={transitions:null,markerInstances:null,retryQueue:new Set([M])},_.updateQueue=y):(_=y.retryQueue,_===null?y.retryQueue=new Set([M]):_.add(M)),e7(p,M,A)),!1}throw Error(r(435,_.tag))}return e7(p,M,A),Z9(),!1}if(En)return y=Di.current,y!==null?(!(y.flags&65536)&&(y.flags|=256),y.flags|=65536,y.lanes=A,M!==q8&&(p=Error(r(422),{cause:M}),T0(Oi(p,_)))):(M!==q8&&(y=Error(r(423),{cause:M}),T0(Oi(y,_))),p=p.current.alternate,p.flags|=65536,A&=-A,p.lanes|=A,M=Oi(M,_),A=v9(p.stateNode,M,A),R9(p,A),Or!==4&&(Or=2)),!1;var P=Error(r(520),{cause:M});if(P=Oi(P,_),Y0===null?Y0=[P]:Y0.push(P),Or!==4&&(Or=2),y===null)return!0;M=Oi(M,_),_=y;do{switch(_.tag){case 3:return _.flags|=65536,p=A&-A,_.lanes|=p,p=v9(_.stateNode,M,p),R9(_,p),!1;case 1:if(y=_.type,P=_.stateNode,(_.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Zu===null||!Zu.has(P))))return _.flags|=65536,A&=-A,_.lanes|=A,A=CW(A),SW(A,p,_,M),R9(_,A),!1}_=_.return}while(_!==null);return!1}var MW=Error(r(461)),_s=!1;function Ws(p,y,_,M){y.child=p===null?jH(y,null,_,M):Lf(y,p.child,_,M)}function kW(p,y,_,M,A){_=_.render;var P=y.ref;if("ref"in M){var Y={};for(var Z in M)Z!=="ref"&&(Y[Z]=M[Z])}else Y=M;return Bf(y),M=e9(p,y,_,Y,P,A),Z=t9(),p!==null&&!_s?(n9(p,y,A),vc(p,y,A)):(En&&Z&&W8(y),y.flags|=1,Ws(p,y,M,A),y.child)}function EW(p,y,_,M,A){if(p===null){var P=_.type;return typeof P=="function"&&!B9(P)&&P.defaultProps===void 0&&_.compare===null?(y.tag=15,y.type=P,TW(p,y,P,M,A)):(p=p3(_.type,null,M,y,y.mode,A),p.ref=y.ref,p.return=y,y.child=p)}if(P=p.child,!k9(p,A)){var Y=P.memoizedProps;if(_=_.compare,_=_!==null?_:S0,_(Y,M)&&p.ref===y.ref)return vc(p,y,A)}return y.flags|=1,p=Qu(P,M),p.ref=y.ref,p.return=y,y.child=p}function TW(p,y,_,M,A){if(p!==null){var P=p.memoizedProps;if(S0(P,M)&&p.ref===y.ref)if(_s=!1,y.pendingProps=M=P,k9(p,A))p.flags&131072&&(_s=!0);else return y.lanes=p.lanes,vc(p,y,A)}return y9(p,y,_,M,A)}function NW(p,y,_){var M=y.pendingProps,A=M.children,P=(y.stateNode._pendingVisibility&2)!==0,Y=p!==null?p.memoizedState:null;if(F0(p,y),M.mode==="hidden"||P){if(y.flags&128){if(M=Y!==null?Y.baseLanes|_:_,p!==null){for(A=y.child=p.child,P=0;A!==null;)P=P|A.lanes|A.childLanes,A=A.sibling;y.childLanes=P&~M}else y.childLanes=0,y.child=null;return jW(p,y,M,_)}if(_&536870912)y.memoizedState={baseLanes:0,cachePool:null},p!==null&&e3(y,Y!==null?Y.cachePool:null),Y!==null?AH(y,Y):Y8(),RH(y);else return y.lanes=y.childLanes=536870912,jW(p,y,Y!==null?Y.baseLanes|_:_,_)}else Y!==null?(e3(y,Y.cachePool),AH(y,Y),Bu(),y.memoizedState=null):(p!==null&&e3(y,null),Y8(),Bu());return Ws(p,y,A,_),y.child}function jW(p,y,_,M){var A=Z8();return A=A===null?null:{parent:cs._currentValue,pool:A},y.memoizedState={baseLanes:_,cachePool:A},p!==null&&e3(y,null),Y8(),RH(y),p!==null&&U0(p,y,M,!0),null}function F0(p,y){var _=y.ref;if(_===null)p!==null&&p.ref!==null&&(y.flags|=2097664);else{if(typeof _!="function"&&typeof _!="object")throw Error(r(284));(p===null||p.ref!==_)&&(y.flags|=2097664)}}function y9(p,y,_,M,A){return Bf(y),_=e9(p,y,_,M,void 0,A),M=t9(),p!==null&&!_s?(n9(p,y,A),vc(p,y,A)):(En&&M&&W8(y),y.flags|=1,Ws(p,y,_,A),y.child)}function AW(p,y,_,M,A,P){return Bf(y),y.updateQueue=null,_=DH(y,M,_,A),IH(p),M=t9(),p!==null&&!_s?(n9(p,y,P),vc(p,y,P)):(En&&M&&W8(y),y.flags|=1,Ws(p,y,_,P),y.child)}function RW(p,y,_,M,A){if(Bf(y),y.stateNode===null){var P=Nm,Y=_.contextType;typeof Y=="object"&&Y!==null&&(P=na(Y)),P=new _(M,P),y.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,P.updater=g9,y.stateNode=P,P._reactInternals=y,P=y.stateNode,P.props=M,P.state=y.memoizedState,P.refs={},j9(y),Y=_.contextType,P.context=typeof Y=="object"&&Y!==null?na(Y):Nm,P.state=y.memoizedState,Y=_.getDerivedStateFromProps,typeof Y=="function"&&(p9(y,_,Y,M),P.state=y.memoizedState),typeof _.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(Y=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),Y!==P.state&&g9.enqueueReplaceState(P,P.state,null),z0(y,M,P,A),V0(),P.state=y.memoizedState),typeof P.componentDidMount=="function"&&(y.flags|=4194308),M=!0}else if(p===null){P=y.stateNode;var Z=y.memoizedProps,ue=Ff(_,Z);P.props=ue;var ye=P.context,Ue=_.contextType;Y=Nm,typeof Ue=="object"&&Ue!==null&&(Y=na(Ue));var Ke=_.getDerivedStateFromProps;Ue=typeof Ke=="function"||typeof P.getSnapshotBeforeUpdate=="function",Z=y.pendingProps!==Z,Ue||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(Z||ye!==Y)&&yW(y,P,M,Y),Wu=!1;var Te=y.memoizedState;P.state=Te,z0(y,M,P,A),V0(),ye=y.memoizedState,Z||Te!==ye||Wu?(typeof Ke=="function"&&(p9(y,_,Ke,M),ye=y.memoizedState),(ue=Wu||vW(y,_,ue,M,Te,ye,Y))?(Ue||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(y.flags|=4194308)):(typeof P.componentDidMount=="function"&&(y.flags|=4194308),y.memoizedProps=M,y.memoizedState=ye),P.props=M,P.state=ye,P.context=Y,M=ue):(typeof P.componentDidMount=="function"&&(y.flags|=4194308),M=!1)}else{P=y.stateNode,A9(p,y),Y=y.memoizedProps,Ue=Ff(_,Y),P.props=Ue,Ke=y.pendingProps,Te=P.context,ye=_.contextType,ue=Nm,typeof ye=="object"&&ye!==null&&(ue=na(ye)),Z=_.getDerivedStateFromProps,(ye=typeof Z=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(Y!==Ke||Te!==ue)&&yW(y,P,M,ue),Wu=!1,Te=y.memoizedState,P.state=Te,z0(y,M,P,A),V0();var Ie=y.memoizedState;Y!==Ke||Te!==Ie||Wu||p!==null&&p.dependencies!==null&&d3(p.dependencies)?(typeof Z=="function"&&(p9(y,_,Z,M),Ie=y.memoizedState),(Ue=Wu||vW(y,_,Ue,M,Te,Ie,ue)||p!==null&&p.dependencies!==null&&d3(p.dependencies))?(ye||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(M,Ie,ue),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(M,Ie,ue)),typeof P.componentDidUpdate=="function"&&(y.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(y.flags|=1024)):(typeof P.componentDidUpdate!="function"||Y===p.memoizedProps&&Te===p.memoizedState||(y.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||Y===p.memoizedProps&&Te===p.memoizedState||(y.flags|=1024),y.memoizedProps=M,y.memoizedState=Ie),P.props=M,P.state=Ie,P.context=ue,M=Ue):(typeof P.componentDidUpdate!="function"||Y===p.memoizedProps&&Te===p.memoizedState||(y.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||Y===p.memoizedProps&&Te===p.memoizedState||(y.flags|=1024),M=!1)}return P=M,F0(p,y),M=(y.flags&128)!==0,P||M?(P=y.stateNode,_=M&&typeof _.getDerivedStateFromError!="function"?null:P.render(),y.flags|=1,p!==null&&M?(y.child=Lf(y,p.child,null,A),y.child=Lf(y,null,_,A)):Ws(p,y,_,A),y.memoizedState=P.state,p=y.child):p=vc(p,y,A),p}function LW(p,y,_,M){return E0(),y.flags|=256,Ws(p,y,_,M),y.child}var x9={dehydrated:null,treeContext:null,retryLane:0};function b9(p){return{baseLanes:p,cachePool:PH()}}function w9(p,y,_){return p=p!==null?p.childLanes&~_:0,y&&(p|=Vi),p}function OW(p,y,_){var M=y.pendingProps,A=!1,P=(y.flags&128)!==0,Y;if((Y=P)||(Y=p!==null&&p.memoizedState===null?!1:(ls.current&2)!==0),Y&&(A=!0,y.flags&=-129),Y=(y.flags&32)!==0,y.flags&=-33,p===null){if(En){if(A?Uu(y):Bu(),En){var Z=Hs,ue;if(ue=Z){e:{for(ue=Z,Z=il;ue.nodeType!==8;){if(!Z){Z=null;break e}if(ue=Eo(ue.nextSibling),ue===null){Z=null;break e}}Z=ue}Z!==null?(y.memoizedState={dehydrated:Z,treeContext:jf!==null?{id:hc,overflow:mc}:null,retryLane:536870912},ue=Bi(18,null,null,0),ue.stateNode=Z,ue.return=y,y.child=ue,Ca=y,Hs=null,ue=!0):ue=!1}ue||Rf(y)}if(Z=y.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))return Z.data==="$!"?y.lanes=16:y.lanes=536870912,null;pc(y)}return Z=M.children,M=M.fallback,A?(Bu(),A=y.mode,Z=C9({mode:"hidden",children:Z},A),M=zf(M,A,_,null),Z.return=y,M.return=y,Z.sibling=M,y.child=Z,A=y.child,A.memoizedState=b9(_),A.childLanes=w9(p,Y,_),y.memoizedState=x9,M):(Uu(y),_9(y,Z))}if(ue=p.memoizedState,ue!==null&&(Z=ue.dehydrated,Z!==null)){if(P)y.flags&256?(Uu(y),y.flags&=-257,y=S9(p,y,_)):y.memoizedState!==null?(Bu(),y.child=p.child,y.flags|=128,y=null):(Bu(),A=M.fallback,Z=y.mode,M=C9({mode:"visible",children:M.children},Z),A=zf(A,Z,_,null),A.flags|=2,M.return=y,A.return=y,M.sibling=A,y.child=M,Lf(y,p.child,null,_),M=y.child,M.memoizedState=b9(_),M.childLanes=w9(p,Y,_),y.memoizedState=x9,y=A);else if(Uu(y),Z.data==="$!"){if(Y=Z.nextSibling&&Z.nextSibling.dataset,Y)var ye=Y.dgst;Y=ye,M=Error(r(419)),M.stack="",M.digest=Y,T0({value:M,source:null,stack:null}),y=S9(p,y,_)}else if(_s||U0(p,y,_,!1),Y=(_&p.childLanes)!==0,_s||Y){if(Y=lr,Y!==null){if(M=_&-_,M&42)M=1;else switch(M){case 2:M=1;break;case 8:M=4;break;case 32:M=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:M=64;break;case 268435456:M=134217728;break;default:M=0}if(M=M&(Y.suspendedLanes|_)?0:M,M!==0&&M!==ue.retryLane)throw ue.retryLane=M,Fu(p,M),Sa(Y,p,M),MW}Z.data==="$?"||Z9(),y=S9(p,y,_)}else Z.data==="$?"?(y.flags|=128,y.child=p.child,y=ZOe.bind(null,p),Z._reactRetry=y,y=null):(p=ue.treeContext,Hs=Eo(Z.nextSibling),Ca=y,En=!0,Mo=null,il=!1,p!==null&&(Pi[Ii++]=hc,Pi[Ii++]=mc,Pi[Ii++]=jf,hc=p.id,mc=p.overflow,jf=y),y=_9(y,M.children),y.flags|=4096);return y}return A?(Bu(),A=M.fallback,Z=y.mode,ue=p.child,ye=ue.sibling,M=Qu(ue,{mode:"hidden",children:M.children}),M.subtreeFlags=ue.subtreeFlags&31457280,ye!==null?A=Qu(ye,A):(A=zf(A,Z,_,null),A.flags|=2),A.return=y,M.return=y,M.sibling=A,y.child=M,M=A,A=y.child,Z=p.child.memoizedState,Z===null?Z=b9(_):(ue=Z.cachePool,ue!==null?(ye=cs._currentValue,ue=ue.parent!==ye?{parent:ye,pool:ye}:ue):ue=PH(),Z={baseLanes:Z.baseLanes|_,cachePool:ue}),A.memoizedState=Z,A.childLanes=w9(p,Y,_),y.memoizedState=x9,M):(Uu(y),_=p.child,p=_.sibling,_=Qu(_,{mode:"visible",children:M.children}),_.return=y,_.sibling=null,p!==null&&(Y=y.deletions,Y===null?(y.deletions=[p],y.flags|=16):Y.push(p)),y.child=_,y.memoizedState=null,_)}function _9(p,y){return y=C9({mode:"visible",children:y},p.mode),y.return=p,p.child=y}function C9(p,y){return i$(p,y,0,null)}function S9(p,y,_){return Lf(y,p.child,null,_),p=_9(y,y.pendingProps.children),p.flags|=2,y.memoizedState=null,p}function PW(p,y,_){p.lanes|=y;var M=p.alternate;M!==null&&(M.lanes|=y),T9(p.return,y,_)}function M9(p,y,_,M,A){var P=p.memoizedState;P===null?p.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:M,tail:_,tailMode:A}:(P.isBackwards=y,P.rendering=null,P.renderingStartTime=0,P.last=M,P.tail=_,P.tailMode=A)}function IW(p,y,_){var M=y.pendingProps,A=M.revealOrder,P=M.tail;if(Ws(p,y,M.children,_),M=ls.current,M&2)M=M&1|2,y.flags|=128;else{if(p!==null&&p.flags&128)e:for(p=y.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&PW(p,_,y);else if(p.tag===19)PW(p,_,y);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===y)break e;for(;p.sibling===null;){if(p.return===null||p.return===y)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}M&=1}switch(J(ls,M),A){case"forwards":for(_=y.child,A=null;_!==null;)p=_.alternate,p!==null&&Jb(p)===null&&(A=_),_=_.sibling;_=A,_===null?(A=y.child,y.child=null):(A=_.sibling,_.sibling=null),M9(y,!1,A,_,P);break;case"backwards":for(_=null,A=y.child,y.child=null;A!==null;){if(p=A.alternate,p!==null&&Jb(p)===null){y.child=A;break}p=A.sibling,A.sibling=_,_=A,A=p}M9(y,!0,_,null,P);break;case"together":M9(y,!1,null,null,void 0);break;default:y.memoizedState=null}return y.child}function vc(p,y,_){if(p!==null&&(y.dependencies=p.dependencies),Xu|=y.lanes,!(_&y.childLanes))if(p!==null){if(U0(p,y,_,!1),(_&y.childLanes)===0)return null}else return null;if(p!==null&&y.child!==p.child)throw Error(r(153));if(y.child!==null){for(p=y.child,_=Qu(p,p.pendingProps),y.child=_,_.return=y;p.sibling!==null;)p=p.sibling,_=_.sibling=Qu(p,p.pendingProps),_.return=y;_.sibling=null}return y.child}function k9(p,y){return p.lanes&y?!0:(p=p.dependencies,!!(p!==null&&d3(p)))}function FOe(p,y,_){switch(y.tag){case 3:ge(y,y.stateNode.containerInfo),Hu(y,cs,p.memoizedState.cache),E0();break;case 27:case 5:we(y);break;case 4:ge(y,y.stateNode.containerInfo);break;case 10:Hu(y,y.type,y.memoizedProps.value);break;case 13:var M=y.memoizedState;if(M!==null)return M.dehydrated!==null?(Uu(y),y.flags|=128,null):_&y.child.childLanes?OW(p,y,_):(Uu(y),p=vc(p,y,_),p!==null?p.sibling:null);Uu(y);break;case 19:var A=(p.flags&128)!==0;if(M=(_&y.childLanes)!==0,M||(U0(p,y,_,!1),M=(_&y.childLanes)!==0),A){if(M)return IW(p,y,_);y.flags|=128}if(A=y.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),J(ls,ls.current),M)break;return null;case 22:case 23:return y.lanes=0,NW(p,y,_);case 24:Hu(y,cs,p.memoizedState.cache)}return vc(p,y,_)}function DW(p,y,_){if(p!==null)if(p.memoizedProps!==y.pendingProps)_s=!0;else{if(!k9(p,_)&&!(y.flags&128))return _s=!1,FOe(p,y,_);_s=!!(p.flags&131072)}else _s=!1,En&&y.flags&1048576&&wH(y,Yb,y.index);switch(y.lanes=0,y.tag){case 16:e:{p=y.pendingProps;var M=y.elementType,A=M._init;if(M=A(M._payload),y.type=M,typeof M=="function")B9(M)?(p=Ff(M,p),y.tag=1,y=RW(null,y,M,p,_)):(y.tag=0,y=y9(null,y,M,p,_));else{if(M!=null){if(A=M.$$typeof,A===v){y.tag=11,y=kW(null,y,M,p,_);break e}else if(A===w){y.tag=14,y=EW(null,y,M,p,_);break e}}throw y=N(M)||M,Error(r(306,y,""))}}return y;case 0:return y9(p,y,y.type,y.pendingProps,_);case 1:return M=y.type,A=Ff(M,y.pendingProps),RW(p,y,M,A,_);case 3:e:{if(ge(y,y.stateNode.containerInfo),p===null)throw Error(r(387));var P=y.pendingProps;A=y.memoizedState,M=A.element,A9(p,y),z0(y,P,null,_);var Y=y.memoizedState;if(P=Y.cache,Hu(y,cs,P),P!==A.cache&&N9(y,[cs],_,!0),V0(),P=Y.element,A.isDehydrated)if(A={element:P,isDehydrated:!1,cache:Y.cache},y.updateQueue.baseState=A,y.memoizedState=A,y.flags&256){y=LW(p,y,P,_);break e}else if(P!==M){M=Oi(Error(r(424)),y),T0(M),y=LW(p,y,P,_);break e}else for(Hs=Eo(y.stateNode.containerInfo.firstChild),Ca=y,En=!0,Mo=null,il=!0,_=jH(y,null,P,_),y.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(E0(),P===M){y=vc(p,y,_);break e}Ws(p,y,P,_)}y=y.child}return y;case 26:return F0(p,y),p===null?(_=B$(y.type,null,y.pendingProps,null))?y.memoizedState=_:En||(_=y.type,p=y.pendingProps,M=E3(he.current).createElement(_),M[tr]=y,M[Kr]=p,$s(M,_,p),kr(M),y.stateNode=M):y.memoizedState=B$(y.type,p.memoizedProps,y.pendingProps,p.memoizedState),null;case 27:return we(y),p===null&&En&&(M=y.stateNode=D$(y.type,y.pendingProps,he.current),Ca=y,il=!0,Hs=Eo(M.firstChild)),M=y.pendingProps.children,p!==null||En?Ws(p,y,M,_):y.child=Lf(y,null,M,_),F0(p,y),y.child;case 5:return p===null&&En&&((A=M=Hs)&&(M=mPe(M,y.type,y.pendingProps,il),M!==null?(y.stateNode=M,Ca=y,Hs=Eo(M.firstChild),il=!1,A=!0):A=!1),A||Rf(y)),we(y),A=y.type,P=y.pendingProps,Y=p!==null?p.memoizedProps:null,M=P.children,f7(A,P)?M=null:Y!==null&&f7(A,Y)&&(y.flags|=32),y.memoizedState!==null&&(A=e9(p,y,AOe,null,null,_),rv._currentValue=A),F0(p,y),Ws(p,y,M,_),y.child;case 6:return p===null&&En&&((p=_=Hs)&&(_=pPe(_,y.pendingProps,il),_!==null?(y.stateNode=_,Ca=y,Hs=null,p=!0):p=!1),p||Rf(y)),null;case 13:return OW(p,y,_);case 4:return ge(y,y.stateNode.containerInfo),M=y.pendingProps,p===null?y.child=Lf(y,null,M,_):Ws(p,y,M,_),y.child;case 11:return kW(p,y,y.type,y.pendingProps,_);case 7:return Ws(p,y,y.pendingProps,_),y.child;case 8:return Ws(p,y,y.pendingProps.children,_),y.child;case 12:return Ws(p,y,y.pendingProps.children,_),y.child;case 10:return M=y.pendingProps,Hu(y,y.type,M.value),Ws(p,y,M.children,_),y.child;case 9:return A=y.type._context,M=y.pendingProps.children,Bf(y),A=na(A),M=M(A),y.flags|=1,Ws(p,y,M,_),y.child;case 14:return EW(p,y,y.type,y.pendingProps,_);case 15:return TW(p,y,y.type,y.pendingProps,_);case 19:return IW(p,y,_);case 22:return NW(p,y,_);case 24:return Bf(y),M=na(cs),p===null?(A=Z8(),A===null&&(A=lr,P=Q8(),A.pooledCache=P,P.refCount++,P!==null&&(A.pooledCacheLanes|=_),A=P),y.memoizedState={parent:M,cache:A},j9(y),Hu(y,cs,A)):(p.lanes&_&&(A9(p,y),z0(y,null,null,_),V0()),A=p.memoizedState,P=y.memoizedState,A.parent!==M?(A={parent:M,cache:M},y.memoizedState=A,y.lanes===0&&(y.memoizedState=y.updateQueue.baseState=A),Hu(y,cs,M)):(M=P.cache,Hu(y,cs,M),M!==A.cache&&N9(y,[cs],_,!0))),Ws(p,y,y.pendingProps.children,_),y.child;case 29:throw y.pendingProps}throw Error(r(156,y.tag))}var E9=ce(null),Uf=null,yc=null;function Hu(p,y,_){J(E9,y._currentValue),y._currentValue=_}function xc(p){p._currentValue=E9.current,se(E9)}function T9(p,y,_){for(;p!==null;){var M=p.alternate;if((p.childLanes&y)!==y?(p.childLanes|=y,M!==null&&(M.childLanes|=y)):M!==null&&(M.childLanes&y)!==y&&(M.childLanes|=y),p===_)break;p=p.return}}function N9(p,y,_,M){var A=p.child;for(A!==null&&(A.return=p);A!==null;){var P=A.dependencies;if(P!==null){var Y=A.child;P=P.firstContext;e:for(;P!==null;){var Z=P;P=A;for(var ue=0;ue<y.length;ue++)if(Z.context===y[ue]){P.lanes|=_,Z=P.alternate,Z!==null&&(Z.lanes|=_),T9(P.return,_,p),M||(Y=null);break e}P=Z.next}}else if(A.tag===18){if(Y=A.return,Y===null)throw Error(r(341));Y.lanes|=_,P=Y.alternate,P!==null&&(P.lanes|=_),T9(Y,_,p),Y=null}else Y=A.child;if(Y!==null)Y.return=A;else for(Y=A;Y!==null;){if(Y===p){Y=null;break}if(A=Y.sibling,A!==null){A.return=Y.return,Y=A;break}Y=Y.return}A=Y}}function U0(p,y,_,M){p=null;for(var A=y,P=!1;A!==null;){if(!P){if(A.flags&524288)P=!0;else if(A.flags&262144)break}if(A.tag===10){var Y=A.alternate;if(Y===null)throw Error(r(387));if(Y=Y.memoizedProps,Y!==null){var Z=A.type;ci(A.pendingProps.value,Y.value)||(p!==null?p.push(Z):p=[Z])}}else if(A===pe.current){if(Y=A.alternate,Y===null)throw Error(r(387));Y.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(p!==null?p.push(rv):p=[rv])}A=A.return}p!==null&&N9(y,p,_,M),y.flags|=262144}function d3(p){for(p=p.firstContext;p!==null;){if(!ci(p.context._currentValue,p.memoizedValue))return!0;p=p.next}return!1}function Bf(p){Uf=p,yc=null,p=p.dependencies,p!==null&&(p.firstContext=null)}function na(p){return FW(Uf,p)}function f3(p,y){return Uf===null&&Bf(p),FW(p,y)}function FW(p,y){var _=y._currentValue;if(y={context:y,memoizedValue:_,next:null},yc===null){if(p===null)throw Error(r(308));yc=y,p.dependencies={lanes:0,firstContext:y},p.flags|=524288}else yc=yc.next=y;return _}var Wu=!1;function j9(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function A9(p,y){p=p.updateQueue,y.updateQueue===p&&(y.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,callbacks:null})}function $u(p){return{lane:p,tag:0,payload:null,callback:null,next:null}}function qu(p,y,_){var M=p.updateQueue;if(M===null)return null;if(M=M.shared,Nr&2){var A=M.pending;return A===null?y.next=y:(y.next=A.next,A.next=y),M.pending=y,y=qb(p),xH(p,null,_),y}return $b(p,M,y,_),qb(p)}function B0(p,y,_){if(y=y.updateQueue,y!==null&&(y=y.shared,(_&4194176)!==0)){var M=y.lanes;M&=p.pendingLanes,_|=M,y.lanes=_,_r(p,_)}}function R9(p,y){var _=p.updateQueue,M=p.alternate;if(M!==null&&(M=M.updateQueue,_===M)){var A=null,P=null;if(_=_.firstBaseUpdate,_!==null){do{var Y={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};P===null?A=P=Y:P=P.next=Y,_=_.next}while(_!==null);P===null?A=P=y:P=P.next=y}else A=P=y;_={baseState:M.baseState,firstBaseUpdate:A,lastBaseUpdate:P,shared:M.shared,callbacks:M.callbacks},p.updateQueue=_;return}p=_.lastBaseUpdate,p===null?_.firstBaseUpdate=y:p.next=y,_.lastBaseUpdate=y}var L9=!1;function V0(){if(L9){var p=Pm;if(p!==null)throw p}}function z0(p,y,_,M){L9=!1;var A=p.updateQueue;Wu=!1;var P=A.firstBaseUpdate,Y=A.lastBaseUpdate,Z=A.shared.pending;if(Z!==null){A.shared.pending=null;var ue=Z,ye=ue.next;ue.next=null,Y===null?P=ye:Y.next=ye,Y=ue;var Ue=p.alternate;Ue!==null&&(Ue=Ue.updateQueue,Z=Ue.lastBaseUpdate,Z!==Y&&(Z===null?Ue.firstBaseUpdate=ye:Z.next=ye,Ue.lastBaseUpdate=ue))}if(P!==null){var Ke=A.baseState;Y=0,Ue=ye=ue=null,Z=P;do{var Te=Z.lane&-536870913,Ie=Te!==Z.lane;if(Ie?(_n&Te)===Te:(M&Te)===Te){Te!==0&&Te===Om&&(L9=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var Ot=p,en=Z;Te=y;var Pr=_;switch(en.tag){case 1:if(Ot=en.payload,typeof Ot=="function"){Ke=Ot.call(Pr,Ke,Te);break e}Ke=Ot;break e;case 3:Ot.flags=Ot.flags&-65537|128;case 0:if(Ot=en.payload,Te=typeof Ot=="function"?Ot.call(Pr,Ke,Te):Ot,Te==null)break e;Ke=O({},Ke,Te);break e;case 2:Wu=!0}}Te=Z.callback,Te!==null&&(p.flags|=64,Ie&&(p.flags|=8192),Ie=A.callbacks,Ie===null?A.callbacks=[Te]:Ie.push(Te))}else Ie={lane:Te,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Ue===null?(ye=Ue=Ie,ue=Ke):Ue=Ue.next=Ie,Y|=Te;if(Z=Z.next,Z===null){if(Z=A.shared.pending,Z===null)break;Ie=Z,Z=Ie.next,Ie.next=null,A.lastBaseUpdate=Ie,A.shared.pending=null}}while(!0);Ue===null&&(ue=Ke),A.baseState=ue,A.firstBaseUpdate=ye,A.lastBaseUpdate=Ue,P===null&&(A.shared.lanes=0),Xu|=Y,p.lanes=Y,p.memoizedState=Ke}}function UW(p,y){if(typeof p!="function")throw Error(r(191,p));p.call(y)}function BW(p,y){var _=p.callbacks;if(_!==null)for(p.callbacks=null,p=0;p<_.length;p++)UW(_[p],y)}function H0(p,y){try{var _=y.updateQueue,M=_!==null?_.lastEffect:null;if(M!==null){var A=M.next;_=A;do{if((_.tag&p)===p){M=void 0;var P=_.create,Y=_.inst;M=P(),Y.destroy=M}_=_.next}while(_!==A)}}catch(Z){nr(y,y.return,Z)}}function Gu(p,y,_){try{var M=y.updateQueue,A=M!==null?M.lastEffect:null;if(A!==null){var P=A.next;M=P;do{if((M.tag&p)===p){var Y=M.inst,Z=Y.destroy;if(Z!==void 0){Y.destroy=void 0,A=y;var ue=_;try{Z()}catch(ye){nr(A,ue,ye)}}}M=M.next}while(M!==P)}}catch(ye){nr(y,y.return,ye)}}function VW(p){var y=p.updateQueue;if(y!==null){var _=p.stateNode;try{BW(y,_)}catch(M){nr(p,p.return,M)}}}function zW(p,y,_){_.props=Ff(p.type,p.memoizedProps),_.state=p.memoizedState;try{_.componentWillUnmount()}catch(M){nr(p,y,M)}}function Vf(p,y){try{var _=p.ref;if(_!==null){var M=p.stateNode;switch(p.tag){case 26:case 27:case 5:var A=M;break;default:A=M}typeof _=="function"?p.refCleanup=_(A):_.current=A}}catch(P){nr(p,y,P)}}function ui(p,y){var _=p.ref,M=p.refCleanup;if(_!==null)if(typeof M=="function")try{M()}catch(A){nr(p,y,A)}finally{p.refCleanup=null,p=p.alternate,p!=null&&(p.refCleanup=null)}else if(typeof _=="function")try{_(null)}catch(A){nr(p,y,A)}else _.current=null}function HW(p){var y=p.type,_=p.memoizedProps,M=p.stateNode;try{e:switch(y){case"button":case"input":case"select":case"textarea":_.autoFocus&&M.focus();break e;case"img":_.src?M.src=_.src:_.srcSet&&(M.srcset=_.srcSet)}}catch(A){nr(p,p.return,A)}}function WW(p,y,_){try{var M=p.stateNode;cPe(M,p.type,_,y),M[Kr]=y}catch(A){nr(p,p.return,A)}}function $W(p){return p.tag===5||p.tag===3||p.tag===26||p.tag===27||p.tag===4}function O9(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||$W(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==27&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function P9(p,y,_){var M=p.tag;if(M===5||M===6)p=p.stateNode,y?_.nodeType===8?_.parentNode.insertBefore(p,y):_.insertBefore(p,y):(_.nodeType===8?(y=_.parentNode,y.insertBefore(p,_)):(y=_,y.appendChild(p)),_=_._reactRootContainer,_!=null||y.onclick!==null||(y.onclick=k3));else if(M!==4&&M!==27&&(p=p.child,p!==null))for(P9(p,y,_),p=p.sibling;p!==null;)P9(p,y,_),p=p.sibling}function h3(p,y,_){var M=p.tag;if(M===5||M===6)p=p.stateNode,y?_.insertBefore(p,y):_.appendChild(p);else if(M!==4&&M!==27&&(p=p.child,p!==null))for(h3(p,y,_),p=p.sibling;p!==null;)h3(p,y,_),p=p.sibling}var bc=!1,Lr=!1,I9=!1,qW=typeof WeakSet=="function"?WeakSet:Set,Cs=null,GW=!1;function UOe(p,y){if(p=p.containerInfo,u7=L3,p=uH(p),F8(p)){if("selectionStart"in p)var _={start:p.selectionStart,end:p.selectionEnd};else e:{_=(_=p.ownerDocument)&&_.defaultView||window;var M=_.getSelection&&_.getSelection();if(M&&M.rangeCount!==0){_=M.anchorNode;var A=M.anchorOffset,P=M.focusNode;M=M.focusOffset;try{_.nodeType,P.nodeType}catch{_=null;break e}var Y=0,Z=-1,ue=-1,ye=0,Ue=0,Ke=p,Te=null;t:for(;;){for(var Ie;Ke!==_||A!==0&&Ke.nodeType!==3||(Z=Y+A),Ke!==P||M!==0&&Ke.nodeType!==3||(ue=Y+M),Ke.nodeType===3&&(Y+=Ke.nodeValue.length),(Ie=Ke.firstChild)!==null;)Te=Ke,Ke=Ie;for(;;){if(Ke===p)break t;if(Te===_&&++ye===A&&(Z=Y),Te===P&&++Ue===M&&(ue=Y),(Ie=Ke.nextSibling)!==null)break;Ke=Te,Te=Ke.parentNode}Ke=Ie}_=Z===-1||ue===-1?null:{start:Z,end:ue}}else _=null}_=_||{start:0,end:0}}else _=null;for(d7={focusedElem:p,selectionRange:_},L3=!1,Cs=y;Cs!==null;)if(y=Cs,p=y.child,(y.subtreeFlags&1028)!==0&&p!==null)p.return=y,Cs=p;else for(;Cs!==null;){switch(y=Cs,P=y.alternate,p=y.flags,y.tag){case 0:break;case 11:case 15:break;case 1:if(p&1024&&P!==null){p=void 0,_=y,A=P.memoizedProps,P=P.memoizedState,M=_.stateNode;try{var Ot=Ff(_.type,A,_.elementType===_.type);p=M.getSnapshotBeforeUpdate(Ot,P),M.__reactInternalSnapshotBeforeUpdate=p}catch(en){nr(_,_.return,en)}}break;case 3:if(p&1024){if(p=y.stateNode.containerInfo,_=p.nodeType,_===9)p7(p);else if(_===1)switch(p.nodeName){case"HEAD":case"HTML":case"BODY":p7(p);break;default:p.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(p&1024)throw Error(r(163))}if(p=y.sibling,p!==null){p.return=y.return,Cs=p;break}Cs=y.return}return Ot=GW,GW=!1,Ot}function YW(p,y,_){var M=_.flags;switch(_.tag){case 0:case 11:case 15:_c(p,_),M&4&&H0(5,_);break;case 1:if(_c(p,_),M&4)if(p=_.stateNode,y===null)try{p.componentDidMount()}catch(Z){nr(_,_.return,Z)}else{var A=Ff(_.type,y.memoizedProps);y=y.memoizedState;try{p.componentDidUpdate(A,y,p.__reactInternalSnapshotBeforeUpdate)}catch(Z){nr(_,_.return,Z)}}M&64&&VW(_),M&512&&Vf(_,_.return);break;case 3:if(_c(p,_),M&64&&(M=_.updateQueue,M!==null)){if(p=null,_.child!==null)switch(_.child.tag){case 27:case 5:p=_.child.stateNode;break;case 1:p=_.child.stateNode}try{BW(M,p)}catch(Z){nr(_,_.return,Z)}}break;case 26:_c(p,_),M&512&&Vf(_,_.return);break;case 27:case 5:_c(p,_),y===null&&M&4&&HW(_),M&512&&Vf(_,_.return);break;case 12:_c(p,_);break;case 13:_c(p,_),M&4&&XW(p,_);break;case 22:if(A=_.memoizedState!==null||bc,!A){y=y!==null&&y.memoizedState!==null||Lr;var P=bc,Y=Lr;bc=A,(Lr=y)&&!Y?Yu(p,_,(_.subtreeFlags&8772)!==0):_c(p,_),bc=P,Lr=Y}M&512&&(_.memoizedProps.mode==="manual"?Vf(_,_.return):ui(_,_.return));break;default:_c(p,_)}}function KW(p){var y=p.alternate;y!==null&&(p.alternate=null,KW(y)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(y=p.stateNode,y!==null&&Qr(y)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}var ts=null,di=!1;function wc(p,y,_){for(_=_.child;_!==null;)QW(p,y,_),_=_.sibling}function QW(p,y,_){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(St,_)}catch{}switch(_.tag){case 26:Lr||ui(_,y),wc(p,y,_),_.memoizedState?_.memoizedState.count--:_.stateNode&&(_=_.stateNode,_.parentNode.removeChild(_));break;case 27:Lr||ui(_,y);var M=ts,A=di;for(ts=_.stateNode,wc(p,y,_),_=_.stateNode,y=_.attributes;y.length;)_.removeAttributeNode(y[0]);Qr(_),ts=M,di=A;break;case 5:Lr||ui(_,y);case 6:A=ts;var P=di;if(ts=null,wc(p,y,_),ts=A,di=P,ts!==null)if(di)try{p=ts,M=_.stateNode,p.nodeType===8?p.parentNode.removeChild(M):p.removeChild(M)}catch(Y){nr(_,y,Y)}else try{ts.removeChild(_.stateNode)}catch(Y){nr(_,y,Y)}break;case 18:ts!==null&&(di?(y=ts,_=_.stateNode,y.nodeType===8?m7(y.parentNode,_):y.nodeType===1&&m7(y,_),ov(y)):m7(ts,_.stateNode));break;case 4:M=ts,A=di,ts=_.stateNode.containerInfo,di=!0,wc(p,y,_),ts=M,di=A;break;case 0:case 11:case 14:case 15:Lr||Gu(2,_,y),Lr||Gu(4,_,y),wc(p,y,_);break;case 1:Lr||(ui(_,y),M=_.stateNode,typeof M.componentWillUnmount=="function"&&zW(_,y,M)),wc(p,y,_);break;case 21:wc(p,y,_);break;case 22:Lr||ui(_,y),Lr=(M=Lr)||_.memoizedState!==null,wc(p,y,_),Lr=M;break;default:wc(p,y,_)}}function XW(p,y){if(y.memoizedState===null&&(p=y.alternate,p!==null&&(p=p.memoizedState,p!==null&&(p=p.dehydrated,p!==null))))try{ov(p)}catch(_){nr(y,y.return,_)}}function BOe(p){switch(p.tag){case 13:case 19:var y=p.stateNode;return y===null&&(y=p.stateNode=new qW),y;case 22:return p=p.stateNode,y=p._retryCache,y===null&&(y=p._retryCache=new qW),y;default:throw Error(r(435,p.tag))}}function D9(p,y){var _=BOe(p);y.forEach(function(M){var A=JOe.bind(null,p,M);_.has(M)||(_.add(M),M.then(A,A))})}function Fi(p,y){var _=y.deletions;if(_!==null)for(var M=0;M<_.length;M++){var A=_[M],P=p,Y=y,Z=Y;e:for(;Z!==null;){switch(Z.tag){case 27:case 5:ts=Z.stateNode,di=!1;break e;case 3:ts=Z.stateNode.containerInfo,di=!0;break e;case 4:ts=Z.stateNode.containerInfo,di=!0;break e}Z=Z.return}if(ts===null)throw Error(r(160));QW(P,Y,A),ts=null,di=!1,P=A.alternate,P!==null&&(P.return=null),A.return=null}if(y.subtreeFlags&13878)for(y=y.child;y!==null;)ZW(y,p),y=y.sibling}var ko=null;function ZW(p,y){var _=p.alternate,M=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:Fi(y,p),Ui(p),M&4&&(Gu(3,p,p.return),H0(3,p),Gu(5,p,p.return));break;case 1:Fi(y,p),Ui(p),M&512&&(Lr||_===null||ui(_,_.return)),M&64&&bc&&(p=p.updateQueue,p!==null&&(M=p.callbacks,M!==null&&(_=p.shared.hiddenCallbacks,p.shared.hiddenCallbacks=_===null?M:_.concat(M))));break;case 26:var A=ko;if(Fi(y,p),Ui(p),M&512&&(Lr||_===null||ui(_,_.return)),M&4){var P=_!==null?_.memoizedState:null;if(M=p.memoizedState,_===null)if(M===null)if(p.stateNode===null){e:{M=p.type,_=p.memoizedProps,A=A.ownerDocument||A;t:switch(M){case"title":P=A.getElementsByTagName("title")[0],(!P||P[sl]||P[tr]||P.namespaceURI==="http://www.w3.org/2000/svg"||P.hasAttribute("itemprop"))&&(P=A.createElement(M),A.head.insertBefore(P,A.querySelector("head > title"))),$s(P,M,_),P[tr]=p,kr(P),M=P;break e;case"link":var Y=H$("link","href",A).get(M+(_.href||""));if(Y){for(var Z=0;Z<Y.length;Z++)if(P=Y[Z],P.getAttribute("href")===(_.href==null?null:_.href)&&P.getAttribute("rel")===(_.rel==null?null:_.rel)&&P.getAttribute("title")===(_.title==null?null:_.title)&&P.getAttribute("crossorigin")===(_.crossOrigin==null?null:_.crossOrigin)){Y.splice(Z,1);break t}}P=A.createElement(M),$s(P,M,_),A.head.appendChild(P);break;case"meta":if(Y=H$("meta","content",A).get(M+(_.content||""))){for(Z=0;Z<Y.length;Z++)if(P=Y[Z],P.getAttribute("content")===(_.content==null?null:""+_.content)&&P.getAttribute("name")===(_.name==null?null:_.name)&&P.getAttribute("property")===(_.property==null?null:_.property)&&P.getAttribute("http-equiv")===(_.httpEquiv==null?null:_.httpEquiv)&&P.getAttribute("charset")===(_.charSet==null?null:_.charSet)){Y.splice(Z,1);break t}}P=A.createElement(M),$s(P,M,_),A.head.appendChild(P);break;default:throw Error(r(468,M))}P[tr]=p,kr(P),M=P}p.stateNode=M}else W$(A,p.type,p.stateNode);else p.stateNode=z$(A,M,p.memoizedProps);else P!==M?(P===null?_.stateNode!==null&&(_=_.stateNode,_.parentNode.removeChild(_)):P.count--,M===null?W$(A,p.type,p.stateNode):z$(A,M,p.memoizedProps)):M===null&&p.stateNode!==null&&WW(p,p.memoizedProps,_.memoizedProps)}break;case 27:if(M&4&&p.alternate===null){A=p.stateNode,P=p.memoizedProps;try{for(var ue=A.firstChild;ue;){var ye=ue.nextSibling,Ue=ue.nodeName;ue[sl]||Ue==="HEAD"||Ue==="BODY"||Ue==="SCRIPT"||Ue==="STYLE"||Ue==="LINK"&&ue.rel.toLowerCase()==="stylesheet"||A.removeChild(ue),ue=ye}for(var Ke=p.type,Te=A.attributes;Te.length;)A.removeAttributeNode(Te[0]);$s(A,Ke,P),A[tr]=p,A[Kr]=P}catch(Ot){nr(p,p.return,Ot)}}case 5:if(Fi(y,p),Ui(p),M&512&&(Lr||_===null||ui(_,_.return)),p.flags&32){A=p.stateNode;try{dc(A,"")}catch(Ot){nr(p,p.return,Ot)}}M&4&&p.stateNode!=null&&(A=p.memoizedProps,WW(p,A,_!==null?_.memoizedProps:A)),M&1024&&(I9=!0);break;case 6:if(Fi(y,p),Ui(p),M&4){if(p.stateNode===null)throw Error(r(162));M=p.memoizedProps,_=p.stateNode;try{_.nodeValue=M}catch(Ot){nr(p,p.return,Ot)}}break;case 3:if(j3=null,A=ko,ko=T3(y.containerInfo),Fi(y,p),ko=A,Ui(p),M&4&&_!==null&&_.memoizedState.isDehydrated)try{ov(y.containerInfo)}catch(Ot){nr(p,p.return,Ot)}I9&&(I9=!1,JW(p));break;case 4:M=ko,ko=T3(p.stateNode.containerInfo),Fi(y,p),Ui(p),ko=M;break;case 12:Fi(y,p),Ui(p);break;case 13:Fi(y,p),Ui(p),p.child.flags&8192&&p.memoizedState!==null!=(_!==null&&_.memoizedState!==null)&&(q9=$e()),M&4&&(M=p.updateQueue,M!==null&&(p.updateQueue=null,D9(p,M)));break;case 22:if(M&512&&(Lr||_===null||ui(_,_.return)),ue=p.memoizedState!==null,ye=_!==null&&_.memoizedState!==null,Ue=bc,Ke=Lr,bc=Ue||ue,Lr=Ke||ye,Fi(y,p),Lr=Ke,bc=Ue,Ui(p),y=p.stateNode,y._current=p,y._visibility&=-3,y._visibility|=y._pendingVisibility&2,M&8192&&(y._visibility=ue?y._visibility&-2:y._visibility|1,ue&&(y=bc||Lr,_===null||ye||y||Um(p)),p.memoizedProps===null||p.memoizedProps.mode!=="manual"))e:for(_=null,y=p;;){if(y.tag===5||y.tag===26||y.tag===27){if(_===null){ye=_=y;try{if(A=ye.stateNode,ue)P=A.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{Y=ye.stateNode,Z=ye.memoizedProps.style;var Ie=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;Y.style.display=Ie==null||typeof Ie=="boolean"?"":(""+Ie).trim()}}catch(Ot){nr(ye,ye.return,Ot)}}}else if(y.tag===6){if(_===null){ye=y;try{ye.stateNode.nodeValue=ue?"":ye.memoizedProps}catch(Ot){nr(ye,ye.return,Ot)}}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===p)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===p)break e;for(;y.sibling===null;){if(y.return===null||y.return===p)break e;_===y&&(_=null),y=y.return}_===y&&(_=null),y.sibling.return=y.return,y=y.sibling}M&4&&(M=p.updateQueue,M!==null&&(_=M.retryQueue,_!==null&&(M.retryQueue=null,D9(p,_))));break;case 19:Fi(y,p),Ui(p),M&4&&(M=p.updateQueue,M!==null&&(p.updateQueue=null,D9(p,M)));break;case 21:break;default:Fi(y,p),Ui(p)}}function Ui(p){var y=p.flags;if(y&2){try{if(p.tag!==27){e:{for(var _=p.return;_!==null;){if($W(_)){var M=_;break e}_=_.return}throw Error(r(160))}switch(M.tag){case 27:var A=M.stateNode,P=O9(p);h3(p,P,A);break;case 5:var Y=M.stateNode;M.flags&32&&(dc(Y,""),M.flags&=-33);var Z=O9(p);h3(p,Z,Y);break;case 3:case 4:var ue=M.stateNode.containerInfo,ye=O9(p);P9(p,ye,ue);break;default:throw Error(r(161))}}}catch(Ue){nr(p,p.return,Ue)}p.flags&=-3}y&4096&&(p.flags&=-4097)}function JW(p){if(p.subtreeFlags&1024)for(p=p.child;p!==null;){var y=p;JW(y),y.tag===5&&y.flags&1024&&y.stateNode.reset(),p=p.sibling}}function _c(p,y){if(y.subtreeFlags&8772)for(y=y.child;y!==null;)YW(p,y.alternate,y),y=y.sibling}function Um(p){for(p=p.child;p!==null;){var y=p;switch(y.tag){case 0:case 11:case 14:case 15:Gu(4,y,y.return),Um(y);break;case 1:ui(y,y.return);var _=y.stateNode;typeof _.componentWillUnmount=="function"&&zW(y,y.return,_),Um(y);break;case 26:case 27:case 5:ui(y,y.return),Um(y);break;case 22:ui(y,y.return),y.memoizedState===null&&Um(y);break;default:Um(y)}p=p.sibling}}function Yu(p,y,_){for(_=_&&(y.subtreeFlags&8772)!==0,y=y.child;y!==null;){var M=y.alternate,A=p,P=y,Y=P.flags;switch(P.tag){case 0:case 11:case 15:Yu(A,P,_),H0(4,P);break;case 1:if(Yu(A,P,_),M=P,A=M.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(ye){nr(M,M.return,ye)}if(M=P,A=M.updateQueue,A!==null){var Z=M.stateNode;try{var ue=A.shared.hiddenCallbacks;if(ue!==null)for(A.shared.hiddenCallbacks=null,A=0;A<ue.length;A++)UW(ue[A],Z)}catch(ye){nr(M,M.return,ye)}}_&&Y&64&&VW(P),Vf(P,P.return);break;case 26:case 27:case 5:Yu(A,P,_),_&&M===null&&Y&4&&HW(P),Vf(P,P.return);break;case 12:Yu(A,P,_);break;case 13:Yu(A,P,_),_&&Y&4&&XW(A,P);break;case 22:P.memoizedState===null&&Yu(A,P,_),Vf(P,P.return);break;default:Yu(A,P,_)}y=y.sibling}}function F9(p,y){var _=null;p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(_=p.memoizedState.cachePool.pool),p=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(p=y.memoizedState.cachePool.pool),p!==_&&(p!=null&&p.refCount++,_!=null&&L0(_))}function U9(p,y){p=null,y.alternate!==null&&(p=y.alternate.memoizedState.cache),y=y.memoizedState.cache,y!==p&&(y.refCount++,p!=null&&L0(p))}function Ku(p,y,_,M){if(y.subtreeFlags&10256)for(y=y.child;y!==null;)e$(p,y,_,M),y=y.sibling}function e$(p,y,_,M){var A=y.flags;switch(y.tag){case 0:case 11:case 15:Ku(p,y,_,M),A&2048&&H0(9,y);break;case 3:Ku(p,y,_,M),A&2048&&(p=null,y.alternate!==null&&(p=y.alternate.memoizedState.cache),y=y.memoizedState.cache,y!==p&&(y.refCount++,p!=null&&L0(p)));break;case 12:if(A&2048){Ku(p,y,_,M),p=y.stateNode;try{var P=y.memoizedProps,Y=P.id,Z=P.onPostCommit;typeof Z=="function"&&Z(Y,y.alternate===null?"mount":"update",p.passiveEffectDuration,-0)}catch(ue){nr(y,y.return,ue)}}else Ku(p,y,_,M);break;case 23:break;case 22:P=y.stateNode,y.memoizedState!==null?P._visibility&4?Ku(p,y,_,M):W0(p,y):P._visibility&4?Ku(p,y,_,M):(P._visibility|=4,Bm(p,y,_,M,(y.subtreeFlags&10256)!==0)),A&2048&&F9(y.alternate,y);break;case 24:Ku(p,y,_,M),A&2048&&U9(y.alternate,y);break;default:Ku(p,y,_,M)}}function Bm(p,y,_,M,A){for(A=A&&(y.subtreeFlags&10256)!==0,y=y.child;y!==null;){var P=p,Y=y,Z=_,ue=M,ye=Y.flags;switch(Y.tag){case 0:case 11:case 15:Bm(P,Y,Z,ue,A),H0(8,Y);break;case 23:break;case 22:var Ue=Y.stateNode;Y.memoizedState!==null?Ue._visibility&4?Bm(P,Y,Z,ue,A):W0(P,Y):(Ue._visibility|=4,Bm(P,Y,Z,ue,A)),A&&ye&2048&&F9(Y.alternate,Y);break;case 24:Bm(P,Y,Z,ue,A),A&&ye&2048&&U9(Y.alternate,Y);break;default:Bm(P,Y,Z,ue,A)}y=y.sibling}}function W0(p,y){if(y.subtreeFlags&10256)for(y=y.child;y!==null;){var _=p,M=y,A=M.flags;switch(M.tag){case 22:W0(_,M),A&2048&&F9(M.alternate,M);break;case 24:W0(_,M),A&2048&&U9(M.alternate,M);break;default:W0(_,M)}y=y.sibling}}var $0=8192;function Vm(p){if(p.subtreeFlags&$0)for(p=p.child;p!==null;)t$(p),p=p.sibling}function t$(p){switch(p.tag){case 26:Vm(p),p.flags&$0&&p.memoizedState!==null&&TPe(ko,p.memoizedState,p.memoizedProps);break;case 5:Vm(p);break;case 3:case 4:var y=ko;ko=T3(p.stateNode.containerInfo),Vm(p),ko=y;break;case 22:p.memoizedState===null&&(y=p.alternate,y!==null&&y.memoizedState!==null?(y=$0,$0=16777216,Vm(p),$0=y):Vm(p));break;default:Vm(p)}}function n$(p){var y=p.alternate;if(y!==null&&(p=y.child,p!==null)){y.child=null;do y=p.sibling,p.sibling=null,p=y;while(p!==null)}}function q0(p){var y=p.deletions;if(p.flags&16){if(y!==null)for(var _=0;_<y.length;_++){var M=y[_];Cs=M,s$(M,p)}n$(p)}if(p.subtreeFlags&10256)for(p=p.child;p!==null;)r$(p),p=p.sibling}function r$(p){switch(p.tag){case 0:case 11:case 15:q0(p),p.flags&2048&&Gu(9,p,p.return);break;case 3:q0(p);break;case 12:q0(p);break;case 22:var y=p.stateNode;p.memoizedState!==null&&y._visibility&4&&(p.return===null||p.return.tag!==13)?(y._visibility&=-5,m3(p)):q0(p);break;default:q0(p)}}function m3(p){var y=p.deletions;if(p.flags&16){if(y!==null)for(var _=0;_<y.length;_++){var M=y[_];Cs=M,s$(M,p)}n$(p)}for(p=p.child;p!==null;){switch(y=p,y.tag){case 0:case 11:case 15:Gu(8,y,y.return),m3(y);break;case 22:_=y.stateNode,_._visibility&4&&(_._visibility&=-5,m3(y));break;default:m3(y)}p=p.sibling}}function s$(p,y){for(;Cs!==null;){var _=Cs;switch(_.tag){case 0:case 11:case 15:Gu(8,_,y);break;case 23:case 22:if(_.memoizedState!==null&&_.memoizedState.cachePool!==null){var M=_.memoizedState.cachePool.pool;M!=null&&M.refCount++}break;case 24:L0(_.memoizedState.cache)}if(M=_.child,M!==null)M.return=_,Cs=M;else e:for(_=p;Cs!==null;){M=Cs;var A=M.sibling,P=M.return;if(KW(M),M===_){Cs=null;break e}if(A!==null){A.return=P,Cs=A;break e}Cs=P}}}function VOe(p,y,_,M){this.tag=p,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bi(p,y,_,M){return new VOe(p,y,_,M)}function B9(p){return p=p.prototype,!(!p||!p.isReactComponent)}function Qu(p,y){var _=p.alternate;return _===null?(_=Bi(p.tag,y,p.key,p.mode),_.elementType=p.elementType,_.type=p.type,_.stateNode=p.stateNode,_.alternate=p,p.alternate=_):(_.pendingProps=y,_.type=p.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=p.flags&31457280,_.childLanes=p.childLanes,_.lanes=p.lanes,_.child=p.child,_.memoizedProps=p.memoizedProps,_.memoizedState=p.memoizedState,_.updateQueue=p.updateQueue,y=p.dependencies,_.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},_.sibling=p.sibling,_.index=p.index,_.ref=p.ref,_.refCleanup=p.refCleanup,_}function a$(p,y){p.flags&=31457282;var _=p.alternate;return _===null?(p.childLanes=0,p.lanes=y,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,y=_.dependencies,p.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),p}function p3(p,y,_,M,A,P){var Y=0;if(M=p,typeof p=="function")B9(p)&&(Y=1);else if(typeof p=="string")Y=kPe(p,_,de.current)?26:p==="html"||p==="head"||p==="body"?27:5;else e:switch(p){case c:return zf(_.children,A,P,y);case u:Y=8,A|=24;break;case d:return p=Bi(12,_,y,A|2),p.elementType=d,p.lanes=P,p;case x:return p=Bi(13,_,y,A),p.elementType=x,p.lanes=P,p;case b:return p=Bi(19,_,y,A),p.elementType=b,p.lanes=P,p;case S:return i$(_,A,P,y);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case h:case g:Y=10;break e;case m:Y=9;break e;case v:Y=11;break e;case w:Y=14;break e;case C:Y=16,M=null;break e}Y=29,_=Error(r(130,p===null?"null":typeof p,"")),M=null}return y=Bi(Y,_,y,A),y.elementType=p,y.type=M,y.lanes=P,y}function zf(p,y,_,M){return p=Bi(7,p,M,y),p.lanes=_,p}function i$(p,y,_,M){p=Bi(22,p,M,y),p.elementType=S,p.lanes=_;var A={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var P=A._current;if(P===null)throw Error(r(456));if(!(A._pendingVisibility&2)){var Y=Fu(P,2);Y!==null&&(A._pendingVisibility|=2,Sa(Y,P,2))}},attach:function(){var P=A._current;if(P===null)throw Error(r(456));if(A._pendingVisibility&2){var Y=Fu(P,2);Y!==null&&(A._pendingVisibility&=-3,Sa(Y,P,2))}}};return p.stateNode=A,p}function V9(p,y,_){return p=Bi(6,p,null,y),p.lanes=_,p}function z9(p,y,_){return y=Bi(4,p.children!==null?p.children:[],p.key,y),y.lanes=_,y.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},y}function Cc(p){p.flags|=4}function o$(p,y){if(y.type!=="stylesheet"||y.state.loading&4)p.flags&=-16777217;else if(p.flags|=16777216,!$$(y)){if(y=Di.current,y!==null&&((_n&4194176)===_n?ol!==null:(_n&62914560)!==_n&&!(_n&536870912)||y!==ol))throw j0=G8,SH;p.flags|=8192}}function g3(p,y){y!==null&&(p.flags|=4),p.flags&16384&&(y=p.tag!==22?vt():536870912,p.lanes|=y,Hm|=y)}function G0(p,y){if(!En)switch(p.tailMode){case"hidden":y=p.tail;for(var _=null;y!==null;)y.alternate!==null&&(_=y),y=y.sibling;_===null?p.tail=null:_.sibling=null;break;case"collapsed":_=p.tail;for(var M=null;_!==null;)_.alternate!==null&&(M=_),_=_.sibling;M===null?y||p.tail===null?p.tail=null:p.tail.sibling=null:M.sibling=null}}function Tr(p){var y=p.alternate!==null&&p.alternate.child===p.child,_=0,M=0;if(y)for(var A=p.child;A!==null;)_|=A.lanes|A.childLanes,M|=A.subtreeFlags&31457280,M|=A.flags&31457280,A.return=p,A=A.sibling;else for(A=p.child;A!==null;)_|=A.lanes|A.childLanes,M|=A.subtreeFlags,M|=A.flags,A.return=p,A=A.sibling;return p.subtreeFlags|=M,p.childLanes=_,y}function zOe(p,y,_){var M=y.pendingProps;switch($8(y),y.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(y),null;case 1:return Tr(y),null;case 3:return _=y.stateNode,M=null,p!==null&&(M=p.memoizedState.cache),y.memoizedState.cache!==M&&(y.flags|=2048),xc(cs),Ce(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(p===null||p.child===null)&&(k0(y)?Cc(y):p===null||p.memoizedState.isDehydrated&&!(y.flags&256)||(y.flags|=1024,Mo!==null&&(Q9(Mo),Mo=null))),Tr(y),null;case 26:return _=y.memoizedState,p===null?(Cc(y),_!==null?(Tr(y),o$(y,_)):(Tr(y),y.flags&=-16777217)):_?_!==p.memoizedState?(Cc(y),Tr(y),o$(y,_)):(Tr(y),y.flags&=-16777217):(p.memoizedProps!==M&&Cc(y),Tr(y),y.flags&=-16777217),null;case 27:Pe(y),_=he.current;var A=y.type;if(p!==null&&y.stateNode!=null)p.memoizedProps!==M&&Cc(y);else{if(!M){if(y.stateNode===null)throw Error(r(166));return Tr(y),null}p=de.current,k0(y)?_H(y):(p=D$(A,M,_),y.stateNode=p,Cc(y))}return Tr(y),null;case 5:if(Pe(y),_=y.type,p!==null&&y.stateNode!=null)p.memoizedProps!==M&&Cc(y);else{if(!M){if(y.stateNode===null)throw Error(r(166));return Tr(y),null}if(p=de.current,k0(y))_H(y);else{switch(A=E3(he.current),p){case 1:p=A.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:p=A.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":p=A.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":p=A.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":p=A.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof M.is=="string"?A.createElement("select",{is:M.is}):A.createElement("select"),M.multiple?p.multiple=!0:M.size&&(p.size=M.size);break;default:p=typeof M.is=="string"?A.createElement(_,{is:M.is}):A.createElement(_)}}p[tr]=y,p[Kr]=M;e:for(A=y.child;A!==null;){if(A.tag===5||A.tag===6)p.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===y)break e;for(;A.sibling===null;){if(A.return===null||A.return===y)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}y.stateNode=p;e:switch($s(p,_,M),_){case"button":case"input":case"select":case"textarea":p=!!M.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Cc(y)}}return Tr(y),y.flags&=-16777217,null;case 6:if(p&&y.stateNode!=null)p.memoizedProps!==M&&Cc(y);else{if(typeof M!="string"&&y.stateNode===null)throw Error(r(166));if(p=he.current,k0(y)){if(p=y.stateNode,_=y.memoizedProps,M=null,A=Ca,A!==null)switch(A.tag){case 27:case 5:M=A.memoizedProps}p[tr]=y,p=!!(p.nodeValue===_||M!==null&&M.suppressHydrationWarning===!0||A$(p.nodeValue,_)),p||Rf(y)}else p=E3(p).createTextNode(M),p[tr]=y,y.stateNode=p}return Tr(y),null;case 13:if(M=y.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(A=k0(y),M!==null&&M.dehydrated!==null){if(p===null){if(!A)throw Error(r(318));if(A=y.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[tr]=y}else E0(),!(y.flags&128)&&(y.memoizedState=null),y.flags|=4;Tr(y),A=!1}else Mo!==null&&(Q9(Mo),Mo=null),A=!0;if(!A)return y.flags&256?(pc(y),y):(pc(y),null)}if(pc(y),y.flags&128)return y.lanes=_,y;if(_=M!==null,p=p!==null&&p.memoizedState!==null,_){M=y.child,A=null,M.alternate!==null&&M.alternate.memoizedState!==null&&M.alternate.memoizedState.cachePool!==null&&(A=M.alternate.memoizedState.cachePool.pool);var P=null;M.memoizedState!==null&&M.memoizedState.cachePool!==null&&(P=M.memoizedState.cachePool.pool),P!==A&&(M.flags|=2048)}return _!==p&&_&&(y.child.flags|=8192),g3(y,y.updateQueue),Tr(y),null;case 4:return Ce(),p===null&&o7(y.stateNode.containerInfo),Tr(y),null;case 10:return xc(y.type),Tr(y),null;case 19:if(se(ls),A=y.memoizedState,A===null)return Tr(y),null;if(M=(y.flags&128)!==0,P=A.rendering,P===null)if(M)G0(A,!1);else{if(Or!==0||p!==null&&p.flags&128)for(p=y.child;p!==null;){if(P=Jb(p),P!==null){for(y.flags|=128,G0(A,!1),p=P.updateQueue,y.updateQueue=p,g3(y,p),y.subtreeFlags=0,p=_,_=y.child;_!==null;)a$(_,p),_=_.sibling;return J(ls,ls.current&1|2),y.child}p=p.sibling}A.tail!==null&&$e()>v3&&(y.flags|=128,M=!0,G0(A,!1),y.lanes=4194304)}else{if(!M)if(p=Jb(P),p!==null){if(y.flags|=128,M=!0,p=p.updateQueue,y.updateQueue=p,g3(y,p),G0(A,!0),A.tail===null&&A.tailMode==="hidden"&&!P.alternate&&!En)return Tr(y),null}else 2*$e()-A.renderingStartTime>v3&&_!==536870912&&(y.flags|=128,M=!0,G0(A,!1),y.lanes=4194304);A.isBackwards?(P.sibling=y.child,y.child=P):(p=A.last,p!==null?p.sibling=P:y.child=P,A.last=P)}return A.tail!==null?(y=A.tail,A.rendering=y,A.tail=y.sibling,A.renderingStartTime=$e(),y.sibling=null,p=ls.current,J(ls,M?p&1|2:p&1),y):(Tr(y),null);case 22:case 23:return pc(y),K8(),M=y.memoizedState!==null,p!==null?p.memoizedState!==null!==M&&(y.flags|=8192):M&&(y.flags|=8192),M?_&536870912&&!(y.flags&128)&&(Tr(y),y.subtreeFlags&6&&(y.flags|=8192)):Tr(y),_=y.updateQueue,_!==null&&g3(y,_.retryQueue),_=null,p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(_=p.memoizedState.cachePool.pool),M=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(M=y.memoizedState.cachePool.pool),M!==_&&(y.flags|=2048),p!==null&&se(Of),null;case 24:return _=null,p!==null&&(_=p.memoizedState.cache),y.memoizedState.cache!==_&&(y.flags|=2048),xc(cs),Tr(y),null;case 25:return null}throw Error(r(156,y.tag))}function HOe(p,y){switch($8(y),y.tag){case 1:return p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 3:return xc(cs),Ce(),p=y.flags,p&65536&&!(p&128)?(y.flags=p&-65537|128,y):null;case 26:case 27:case 5:return Pe(y),null;case 13:if(pc(y),p=y.memoizedState,p!==null&&p.dehydrated!==null){if(y.alternate===null)throw Error(r(340));E0()}return p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 19:return se(ls),null;case 4:return Ce(),null;case 10:return xc(y.type),null;case 22:case 23:return pc(y),K8(),p!==null&&se(Of),p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 24:return xc(cs),null;case 25:return null;default:return null}}function l$(p,y){switch($8(y),y.tag){case 3:xc(cs),Ce();break;case 26:case 27:case 5:Pe(y);break;case 4:Ce();break;case 13:pc(y);break;case 19:se(ls);break;case 10:xc(y.type);break;case 22:case 23:pc(y),K8(),p!==null&&se(Of);break;case 24:xc(cs)}}var WOe={getCacheForType:function(p){var y=na(cs),_=y.data.get(p);return _===void 0&&(_=p(),y.data.set(p,_)),_}},$Oe=typeof WeakMap=="function"?WeakMap:Map,Nr=0,lr=null,gn=null,_n=0,cr=0,fi=null,Sc=!1,zm=!1,H9=!1,Mc=0,Or=0,Xu=0,Hf=0,W9=0,Vi=0,Hm=0,Y0=null,cl=null,$9=!1,q9=0,v3=1/0,y3=null,Zu=null,x3=!1,Wf=null,K0=0,G9=0,Y9=null,Q0=0,K9=null;function hi(){if(Nr&2&&_n!==0)return _n&-_n;if(R.T!==null){var p=Om;return p!==0?p:r7()}return os()}function c$(){Vi===0&&(Vi=!(_n&536870912)||En?mt():536870912);var p=Di.current;return p!==null&&(p.flags|=32),Vi}function Sa(p,y,_){(p===lr&&cr===2||p.cancelPendingCommit!==null)&&(Wm(p,0),kc(p,_n,Vi,!1)),Lt(p,_),(!(Nr&2)||p!==lr)&&(p===lr&&(!(Nr&2)&&(Hf|=_),Or===4&&kc(p,_n,Vi,!1)),ul(p))}function u$(p,y,_){if(Nr&6)throw Error(r(327));var M=!_&&(y&60)===0&&(y&p.expiredLanes)===0||ht(p,y),A=M?YOe(p,y):J9(p,y,!0),P=M;do{if(A===0){zm&&!M&&kc(p,y,0,!1);break}else if(A===6)kc(p,y,0,!Sc);else{if(_=p.current.alternate,P&&!qOe(_)){A=J9(p,y,!1),P=!1;continue}if(A===2){if(P=y,p.errorRecoveryDisabledLanes&P)var Y=0;else Y=p.pendingLanes&-536870913,Y=Y!==0?Y:Y&536870912?536870912:0;if(Y!==0){y=Y;e:{var Z=p;A=Y0;var ue=Z.current.memoizedState.isDehydrated;if(ue&&(Wm(Z,Y).flags|=256),Y=J9(Z,Y,!1),Y!==2){if(H9&&!ue){Z.errorRecoveryDisabledLanes|=P,Hf|=P,A=4;break e}P=cl,cl=A,P!==null&&Q9(P)}A=Y}if(P=!1,A!==2)continue}}if(A===1){Wm(p,0),kc(p,y,0,!0);break}e:{switch(M=p,A){case 0:case 1:throw Error(r(345));case 4:if((y&4194176)===y){kc(M,y,Vi,!Sc);break e}break;case 2:cl=null;break;case 3:case 5:break;default:throw Error(r(329))}if(M.finishedWork=_,M.finishedLanes=y,(y&62914560)===y&&(P=q9+300-$e(),10<P)){if(kc(M,y,Vi,!Sc),Se(M,0)!==0)break e;M.timeoutHandle=O$(d$.bind(null,M,_,cl,y3,$9,y,Vi,Hf,Hm,Sc,2,-0,0),P);break e}d$(M,_,cl,y3,$9,y,Vi,Hf,Hm,Sc,0,-0,0)}}break}while(!0);ul(p)}function Q9(p){cl===null?cl=p:cl.push.apply(cl,p)}function d$(p,y,_,M,A,P,Y,Z,ue,ye,Ue,Ke,Te){var Ie=y.subtreeFlags;if((Ie&8192||(Ie&16785408)===16785408)&&(nv={stylesheets:null,count:0,unsuspend:EPe},t$(y),y=NPe(),y!==null)){p.cancelPendingCommit=y(y$.bind(null,p,_,M,A,Y,Z,ue,1,Ke,Te)),kc(p,P,Y,!ye);return}y$(p,_,M,A,Y,Z,ue,Ue,Ke,Te)}function qOe(p){for(var y=p;;){var _=y.tag;if((_===0||_===11||_===15)&&y.flags&16384&&(_=y.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var M=0;M<_.length;M++){var A=_[M],P=A.getSnapshot;A=A.value;try{if(!ci(P(),A))return!1}catch{return!1}}if(_=y.child,y.subtreeFlags&16384&&_!==null)_.return=y,y=_;else{if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return!0;y=y.return}y.sibling.return=y.return,y=y.sibling}}return!0}function kc(p,y,_,M){y&=~W9,y&=~Hf,p.suspendedLanes|=y,p.pingedLanes&=~y,M&&(p.warmLanes|=y),M=p.expirationTimes;for(var A=y;0<A;){var P=31-ft(A),Y=1<<P;M[P]=-1,A&=~Y}_!==0&&hn(p,_,y)}function b3(){return Nr&6?!0:(X0(0),!1)}function X9(){if(gn!==null){if(cr===0)var p=gn.return;else p=gn,yc=Uf=null,r9(p),Rm=null,A0=0,p=gn;for(;p!==null;)l$(p.alternate,p),p=p.return;gn=null}}function Wm(p,y){p.finishedWork=null,p.finishedLanes=0;var _=p.timeoutHandle;_!==-1&&(p.timeoutHandle=-1,dPe(_)),_=p.cancelPendingCommit,_!==null&&(p.cancelPendingCommit=null,_()),X9(),lr=p,gn=_=Qu(p.current,null),_n=y,cr=0,fi=null,Sc=!1,zm=ht(p,y),H9=!1,Hm=Vi=W9=Hf=Xu=Or=0,cl=Y0=null,$9=!1,y&8&&(y|=y&32);var M=p.entangledLanes;if(M!==0)for(p=p.entanglements,M&=y;0<M;){var A=31-ft(M),P=1<<A;y|=p[A],M&=~P}return Mc=y,Wb(),_}function f$(p,y){dn=null,R.H=ll,y===N0?(y=EH(),cr=3):y===SH?(y=EH(),cr=4):cr=y===MW?8:y!==null&&typeof y=="object"&&typeof y.then=="function"?6:1,fi=y,gn===null&&(Or=1,u3(p,Oi(y,p.current)))}function h$(){var p=R.H;return R.H=ll,p===null?ll:p}function m$(){var p=R.A;return R.A=WOe,p}function Z9(){Or=4,Sc||(_n&4194176)!==_n&&Di.current!==null||(zm=!0),!(Xu&134217727)&&!(Hf&134217727)||lr===null||kc(lr,_n,Vi,!1)}function J9(p,y,_){var M=Nr;Nr|=2;var A=h$(),P=m$();(lr!==p||_n!==y)&&(y3=null,Wm(p,y)),y=!1;var Y=Or;e:do try{if(cr!==0&&gn!==null){var Z=gn,ue=fi;switch(cr){case 8:X9(),Y=6;break e;case 3:case 2:case 6:Di.current===null&&(y=!0);var ye=cr;if(cr=0,fi=null,$m(p,Z,ue,ye),_&&zm){Y=0;break e}break;default:ye=cr,cr=0,fi=null,$m(p,Z,ue,ye)}}GOe(),Y=Or;break}catch(Ue){f$(p,Ue)}while(!0);return y&&p.shellSuspendCounter++,yc=Uf=null,Nr=M,R.H=A,R.A=P,gn===null&&(lr=null,_n=0,Wb()),Y}function GOe(){for(;gn!==null;)p$(gn)}function YOe(p,y){var _=Nr;Nr|=2;var M=h$(),A=m$();lr!==p||_n!==y?(y3=null,v3=$e()+500,Wm(p,y)):zm=ht(p,y);e:do try{if(cr!==0&&gn!==null){y=gn;var P=fi;t:switch(cr){case 1:cr=0,fi=null,$m(p,y,P,1);break;case 2:if(MH(P)){cr=0,fi=null,g$(y);break}y=function(){cr===2&&lr===p&&(cr=7),ul(p)},P.then(y,y);break e;case 3:cr=7;break e;case 4:cr=5;break e;case 7:MH(P)?(cr=0,fi=null,g$(y)):(cr=0,fi=null,$m(p,y,P,7));break;case 5:var Y=null;switch(gn.tag){case 26:Y=gn.memoizedState;case 5:case 27:var Z=gn;if(!Y||$$(Y)){cr=0,fi=null;var ue=Z.sibling;if(ue!==null)gn=ue;else{var ye=Z.return;ye!==null?(gn=ye,w3(ye)):gn=null}break t}}cr=0,fi=null,$m(p,y,P,5);break;case 6:cr=0,fi=null,$m(p,y,P,6);break;case 8:X9(),Or=6;break e;default:throw Error(r(462))}}KOe();break}catch(Ue){f$(p,Ue)}while(!0);return yc=Uf=null,R.H=M,R.A=A,Nr=_,gn!==null?0:(lr=null,_n=0,Wb(),Or)}function KOe(){for(;gn!==null&&!st();)p$(gn)}function p$(p){var y=DW(p.alternate,p,Mc);p.memoizedProps=p.pendingProps,y===null?w3(p):gn=y}function g$(p){var y=p,_=y.alternate;switch(y.tag){case 15:case 0:y=AW(_,y,y.pendingProps,y.type,void 0,_n);break;case 11:y=AW(_,y,y.pendingProps,y.type.render,y.ref,_n);break;case 5:r9(y);default:l$(_,y),y=gn=a$(y,Mc),y=DW(_,y,Mc)}p.memoizedProps=p.pendingProps,y===null?w3(p):gn=y}function $m(p,y,_,M){yc=Uf=null,r9(y),Rm=null,A0=0;var A=y.return;try{if(DOe(p,A,y,_,_n)){Or=1,u3(p,Oi(_,p.current)),gn=null;return}}catch(P){if(A!==null)throw gn=A,P;Or=1,u3(p,Oi(_,p.current)),gn=null;return}y.flags&32768?(En||M===1?p=!0:zm||_n&536870912?p=!1:(Sc=p=!0,(M===2||M===3||M===6)&&(M=Di.current,M!==null&&M.tag===13&&(M.flags|=16384))),v$(y,p)):w3(y)}function w3(p){var y=p;do{if(y.flags&32768){v$(y,Sc);return}p=y.return;var _=zOe(y.alternate,y,Mc);if(_!==null){gn=_;return}if(y=y.sibling,y!==null){gn=y;return}gn=y=p}while(y!==null);Or===0&&(Or=5)}function v$(p,y){do{var _=HOe(p.alternate,p);if(_!==null){_.flags&=32767,gn=_;return}if(_=p.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!y&&(p=p.sibling,p!==null)){gn=p;return}gn=p=_}while(p!==null);Or=6,gn=null}function y$(p,y,_,M,A,P,Y,Z,ue,ye){var Ue=R.T,Ke=ne.p;try{ne.p=2,R.T=null,QOe(p,y,_,M,Ke,A,P,Y,Z,ue,ye)}finally{R.T=Ue,ne.p=Ke}}function QOe(p,y,_,M,A,P,Y,Z){do qm();while(Wf!==null);if(Nr&6)throw Error(r(327));var ue=p.finishedWork;if(M=p.finishedLanes,ue===null)return null;if(p.finishedWork=null,p.finishedLanes=0,ue===p.current)throw Error(r(177));p.callbackNode=null,p.callbackPriority=0,p.cancelPendingCommit=null;var ye=ue.lanes|ue.childLanes;if(ye|=z8,kn(p,M,ye,P,Y,Z),p===lr&&(gn=lr=null,_n=0),!(ue.subtreeFlags&10256)&&!(ue.flags&10256)||x3||(x3=!0,G9=ye,Y9=_,ePe(Oe,function(){return qm(),null})),_=(ue.flags&15990)!==0,ue.subtreeFlags&15990||_?(_=R.T,R.T=null,P=ne.p,ne.p=2,Y=Nr,Nr|=4,UOe(p,ue),ZW(ue,p),bOe(d7,p.containerInfo),L3=!!u7,d7=u7=null,p.current=ue,YW(p,ue.alternate,ue),et(),Nr=Y,ne.p=P,R.T=_):p.current=ue,x3?(x3=!1,Wf=p,K0=M):x$(p,ye),ye=p.pendingLanes,ye===0&&(Zu=null),Jt(ue.stateNode),ul(p),y!==null)for(A=p.onRecoverableError,ue=0;ue<y.length;ue++)ye=y[ue],A(ye.value,{componentStack:ye.stack});return K0&3&&qm(),ye=p.pendingLanes,M&4194218&&ye&42?p===K9?Q0++:(Q0=0,K9=p):Q0=0,X0(0),null}function x$(p,y){(p.pooledCacheLanes&=y)===0&&(y=p.pooledCache,y!=null&&(p.pooledCache=null,L0(y)))}function qm(){if(Wf!==null){var p=Wf,y=G9;G9=0;var _=Gr(K0),M=R.T,A=ne.p;try{if(ne.p=32>_?32:_,R.T=null,Wf===null)var P=!1;else{_=Y9,Y9=null;var Y=Wf,Z=K0;if(Wf=null,K0=0,Nr&6)throw Error(r(331));var ue=Nr;if(Nr|=4,r$(Y.current),e$(Y,Y.current,Z,_),Nr=ue,X0(0,!1),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(St,Y)}catch{}P=!0}return P}finally{ne.p=A,R.T=M,x$(p,y)}}return!1}function b$(p,y,_){y=Oi(_,y),y=v9(p.stateNode,y,2),p=qu(p,y,2),p!==null&&(Lt(p,2),ul(p))}function nr(p,y,_){if(p.tag===3)b$(p,p,_);else for(;y!==null;){if(y.tag===3){b$(y,p,_);break}else if(y.tag===1){var M=y.stateNode;if(typeof y.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Zu===null||!Zu.has(M))){p=Oi(_,p),_=CW(2),M=qu(y,_,2),M!==null&&(SW(_,M,y,p),Lt(M,2),ul(M));break}}y=y.return}}function e7(p,y,_){var M=p.pingCache;if(M===null){M=p.pingCache=new $Oe;var A=new Set;M.set(y,A)}else A=M.get(y),A===void 0&&(A=new Set,M.set(y,A));A.has(_)||(H9=!0,A.add(_),p=XOe.bind(null,p,y,_),y.then(p,p))}function XOe(p,y,_){var M=p.pingCache;M!==null&&M.delete(y),p.pingedLanes|=p.suspendedLanes&_,p.warmLanes&=~_,lr===p&&(_n&_)===_&&(Or===4||Or===3&&(_n&62914560)===_n&&300>$e()-q9?!(Nr&2)&&Wm(p,0):W9|=_,Hm===_n&&(Hm=0)),ul(p)}function w$(p,y){y===0&&(y=vt()),p=Fu(p,y),p!==null&&(Lt(p,y),ul(p))}function ZOe(p){var y=p.memoizedState,_=0;y!==null&&(_=y.retryLane),w$(p,_)}function JOe(p,y){var _=0;switch(p.tag){case 13:var M=p.stateNode,A=p.memoizedState;A!==null&&(_=A.retryLane);break;case 19:M=p.stateNode;break;case 22:M=p.stateNode._retryCache;break;default:throw Error(r(314))}M!==null&&M.delete(y),w$(p,_)}function ePe(p,y){return Be(p,y)}var _3=null,Gm=null,t7=!1,C3=!1,n7=!1,$f=0;function ul(p){p!==Gm&&p.next===null&&(Gm===null?_3=Gm=p:Gm=Gm.next=p),C3=!0,t7||(t7=!0,nPe(tPe))}function X0(p,y){if(!n7&&C3){n7=!0;do for(var _=!1,M=_3;M!==null;){if(p!==0){var A=M.pendingLanes;if(A===0)var P=0;else{var Y=M.suspendedLanes,Z=M.pingedLanes;P=(1<<31-ft(42|p)+1)-1,P&=A&~(Y&~Z),P=P&201326677?P&201326677|1:P?P|2:0}P!==0&&(_=!0,S$(M,P))}else P=_n,P=Se(M,M===lr?P:0),!(P&3)||ht(M,P)||(_=!0,S$(M,P));M=M.next}while(_);n7=!1}}function tPe(){C3=t7=!1;var p=0;$f!==0&&(uPe()&&(p=$f),$f=0);for(var y=$e(),_=null,M=_3;M!==null;){var A=M.next,P=_$(M,y);P===0?(M.next=null,_===null?_3=A:_.next=A,A===null&&(Gm=_)):(_=M,(p!==0||P&3)&&(C3=!0)),M=A}X0(p)}function _$(p,y){for(var _=p.suspendedLanes,M=p.pingedLanes,A=p.expirationTimes,P=p.pendingLanes&-62914561;0<P;){var Y=31-ft(P),Z=1<<Y,ue=A[Y];ue===-1?(!(Z&_)||Z&M)&&(A[Y]=ct(Z,y)):ue<=y&&(p.expiredLanes|=Z),P&=~Z}if(y=lr,_=_n,_=Se(p,p===y?_:0),M=p.callbackNode,_===0||p===y&&cr===2||p.cancelPendingCommit!==null)return M!==null&&M!==null&&Ee(M),p.callbackNode=null,p.callbackPriority=0;if(!(_&3)||ht(p,_)){if(y=_&-_,y===p.callbackPriority)return y;switch(M!==null&&Ee(M),Gr(_)){case 2:case 8:_=xe;break;case 32:_=Oe;break;case 268435456:_=Ge;break;default:_=Oe}return M=C$.bind(null,p),_=Be(_,M),p.callbackPriority=y,p.callbackNode=_,y}return M!==null&&M!==null&&Ee(M),p.callbackPriority=2,p.callbackNode=null,2}function C$(p,y){var _=p.callbackNode;if(qm()&&p.callbackNode!==_)return null;var M=_n;return M=Se(p,p===lr?M:0),M===0?null:(u$(p,M,y),_$(p,$e()),p.callbackNode!=null&&p.callbackNode===_?C$.bind(null,p):null)}function S$(p,y){if(qm())return null;u$(p,y,!0)}function nPe(p){fPe(function(){Nr&6?Be(at,p):p()})}function r7(){return $f===0&&($f=mt()),$f}function M$(p){return p==null||typeof p=="symbol"||typeof p=="boolean"?null:typeof p=="function"?p:kf(""+p)}function k$(p,y){var _=y.ownerDocument.createElement("input");return _.name=y.name,_.value=y.value,p.id&&_.setAttribute("form",p.id),y.parentNode.insertBefore(_,y),p=new FormData(p),_.parentNode.removeChild(_),p}function rPe(p,y,_,M,A){if(y==="submit"&&_&&_.stateNode===A){var P=M$((A[Kr]||null).action),Y=M.submitter;Y&&(y=(y=Y[Kr]||null)?M$(y.formAction):Y.getAttribute("formAction"),y!==null&&(P=y,Y=null));var Z=new Vb("action","action",null,M,A);p.push({event:Z,listeners:[{instance:null,listener:function(){if(M.defaultPrevented){if($f!==0){var ue=Y?k$(A,Y):new FormData(A);f9(_,{pending:!0,data:ue,method:A.method,action:P},null,ue)}}else typeof P=="function"&&(Z.preventDefault(),ue=Y?k$(A,Y):new FormData(A),f9(_,{pending:!0,data:ue,method:A.method,action:P},P,ue))},currentTarget:A}]})}}for(var s7=0;s7<yH.length;s7++){var a7=yH[s7],sPe=a7.toLowerCase(),aPe=a7[0].toUpperCase()+a7.slice(1);So(sPe,"on"+aPe)}So(hH,"onAnimationEnd"),So(mH,"onAnimationIteration"),So(pH,"onAnimationStart"),So("dblclick","onDoubleClick"),So("focusin","onFocus"),So("focusout","onBlur"),So(_Oe,"onTransitionRun"),So(COe,"onTransitionStart"),So(SOe,"onTransitionCancel"),So(gH,"onTransitionEnd"),bs("onMouseEnter",["mouseout","mouseover"]),bs("onMouseLeave",["mouseout","mouseover"]),bs("onPointerEnter",["pointerout","pointerover"]),bs("onPointerLeave",["pointerout","pointerover"]),Co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Co("onBeforeInput",["compositionend","keypress","textInput","paste"]),Co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Z0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iPe=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Z0));function E$(p,y){y=(y&4)!==0;for(var _=0;_<p.length;_++){var M=p[_],A=M.event;M=M.listeners;e:{var P=void 0;if(y)for(var Y=M.length-1;0<=Y;Y--){var Z=M[Y],ue=Z.instance,ye=Z.currentTarget;if(Z=Z.listener,ue!==P&&A.isPropagationStopped())break e;P=Z,A.currentTarget=ye;try{P(A)}catch(Ue){c3(Ue)}A.currentTarget=null,P=ue}else for(Y=0;Y<M.length;Y++){if(Z=M[Y],ue=Z.instance,ye=Z.currentTarget,Z=Z.listener,ue!==P&&A.isPropagationStopped())break e;P=Z,A.currentTarget=ye;try{P(A)}catch(Ue){c3(Ue)}A.currentTarget=null,P=ue}}}}function xn(p,y){var _=y[wf];_===void 0&&(_=y[wf]=new Set);var M=p+"__bubble";_.has(M)||(T$(y,p,2,!1),_.add(M))}function i7(p,y,_){var M=0;y&&(M|=4),T$(_,p,M,y)}var S3="_reactListening"+Math.random().toString(36).slice(2);function o7(p){if(!p[S3]){p[S3]=!0,lc.forEach(function(_){_!=="selectionchange"&&(iPe.has(_)||i7(_,!1,p),i7(_,!0,p))});var y=p.nodeType===9?p:p.ownerDocument;y===null||y[S3]||(y[S3]=!0,i7("selectionchange",!1,y))}}function T$(p,y,_,M){switch(X$(y)){case 2:var A=RPe;break;case 8:A=LPe;break;default:A=b7}_=A.bind(null,y,_,p),A=void 0,!fc||y!=="touchstart"&&y!=="touchmove"&&y!=="wheel"||(A=!0),M?A!==void 0?p.addEventListener(y,_,{capture:!0,passive:A}):p.addEventListener(y,_,!0):A!==void 0?p.addEventListener(y,_,{passive:A}):p.addEventListener(y,_,!1)}function l7(p,y,_,M,A){var P=M;if(!(y&1)&&!(y&2)&&M!==null)e:for(;;){if(M===null)return;var Y=M.tag;if(Y===3||Y===4){var Z=M.stateNode.containerInfo;if(Z===A||Z.nodeType===8&&Z.parentNode===A)break;if(Y===4)for(Y=M.return;Y!==null;){var ue=Y.tag;if((ue===3||ue===4)&&(ue=Y.stateNode.containerInfo,ue===A||ue.nodeType===8&&ue.parentNode===A))return;Y=Y.return}for(;Z!==null;){if(Y=Ha(Z),Y===null)return;if(ue=Y.tag,ue===5||ue===6||ue===26||ue===27){M=P=Y;continue e}Z=Z.parentNode}}M=M.return}Er(function(){var ye=P,Ue=g0(_),Ke=[];e:{var Te=vH.get(p);if(Te!==void 0){var Ie=Vb,Ot=p;switch(p){case"keypress":if(Ub(_)===0)break e;case"keydown":case"keyup":Ie=JLe;break;case"focusin":Ot="focus",Ie=L8;break;case"focusout":Ot="blur",Ie=L8;break;case"beforeblur":case"afterblur":Ie=L8;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=qz;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=VLe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=nOe;break;case hH:case mH:case pH:Ie=WLe;break;case gH:Ie=sOe;break;case"scroll":case"scrollend":Ie=ULe;break;case"wheel":Ie=iOe;break;case"copy":case"cut":case"paste":Ie=qLe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=Yz;break;case"toggle":case"beforetoggle":Ie=lOe}var en=(y&4)!==0,Pr=!en&&(p==="scroll"||p==="scrollend"),be=en?Te!==null?Te+"Capture":null:Te;en=[];for(var ve=ye,ke;ve!==null;){var We=ve;if(ke=We.stateNode,We=We.tag,We!==5&&We!==26&&We!==27||ke===null||be===null||(We=ta(ve,be),We!=null&&en.push(J0(ve,We,ke))),Pr)break;ve=ve.return}0<en.length&&(Te=new Ie(Te,Ot,null,_,Ue),Ke.push({event:Te,listeners:en}))}}if(!(y&7)){e:{if(Te=p==="mouseover"||p==="pointerover",Ie=p==="mouseout"||p==="pointerout",Te&&_!==Sm&&(Ot=_.relatedTarget||_.fromElement)&&(Ha(Ot)||Ot[li]))break e;if((Ie||Te)&&(Te=Ue.window===Ue?Ue:(Te=Ue.ownerDocument)?Te.defaultView||Te.parentWindow:window,Ie?(Ot=_.relatedTarget||_.toElement,Ie=ye,Ot=Ot?Ha(Ot):null,Ot!==null&&(Pr=q(Ot),en=Ot.tag,Ot!==Pr||en!==5&&en!==27&&en!==6)&&(Ot=null)):(Ie=null,Ot=ye),Ie!==Ot)){if(en=qz,We="onMouseLeave",be="onMouseEnter",ve="mouse",(p==="pointerout"||p==="pointerover")&&(en=Yz,We="onPointerLeave",be="onPointerEnter",ve="pointer"),Pr=Ie==null?Te:oc(Ie),ke=Ot==null?Te:oc(Ot),Te=new en(We,ve+"leave",Ie,_,Ue),Te.target=Pr,Te.relatedTarget=ke,We=null,Ha(Ue)===ye&&(en=new en(be,ve+"enter",Ot,_,Ue),en.target=ke,en.relatedTarget=Pr,We=en),Pr=We,Ie&&Ot)t:{for(en=Ie,be=Ot,ve=0,ke=en;ke;ke=Ym(ke))ve++;for(ke=0,We=be;We;We=Ym(We))ke++;for(;0<ve-ke;)en=Ym(en),ve--;for(;0<ke-ve;)be=Ym(be),ke--;for(;ve--;){if(en===be||be!==null&&en===be.alternate)break t;en=Ym(en),be=Ym(be)}en=null}else en=null;Ie!==null&&N$(Ke,Te,Ie,en,!1),Ot!==null&&Pr!==null&&N$(Ke,Pr,Ot,en,!0)}}e:{if(Te=ye?oc(ye):window,Ie=Te.nodeName&&Te.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&Te.type==="file")var Tt=nH;else if(eH(Te))if(rH)Tt=yOe;else{Tt=gOe;var mn=pOe}else Ie=Te.nodeName,!Ie||Ie.toLowerCase()!=="input"||Te.type!=="checkbox"&&Te.type!=="radio"?ye&&Cm(ye.elementType)&&(Tt=nH):Tt=vOe;if(Tt&&(Tt=Tt(p,ye))){tH(Ke,Tt,_,Ue);break e}mn&&mn(p,Te,ye),p==="focusout"&&ye&&Te.type==="number"&&ye.memoizedProps.value!=null&&_m(Te,"number",Te.value)}switch(mn=ye?oc(ye):window,p){case"focusin":(eH(mn)||mn.contentEditable==="true")&&(km=mn,U8=ye,M0=null);break;case"focusout":M0=U8=km=null;break;case"mousedown":B8=!0;break;case"contextmenu":case"mouseup":case"dragend":B8=!1,dH(Ke,_,Ue);break;case"selectionchange":if(wOe)break;case"keydown":case"keyup":dH(Ke,_,Ue)}var Ut;if(P8)e:{switch(p){case"compositionstart":var $t="onCompositionStart";break e;case"compositionend":$t="onCompositionEnd";break e;case"compositionupdate":$t="onCompositionUpdate";break e}$t=void 0}else Mm?Zz(p,_)&&($t="onCompositionEnd"):p==="keydown"&&_.keyCode===229&&($t="onCompositionStart");$t&&(Kz&&_.locale!=="ko"&&(Mm||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&Mm&&(Ut=Wz()):(Du=Ue,j8="value"in Du?Du.value:Du.textContent,Mm=!0)),mn=M3(ye,$t),0<mn.length&&($t=new Gz($t,p,null,_,Ue),Ke.push({event:$t,listeners:mn}),Ut?$t.data=Ut:(Ut=Jz(_),Ut!==null&&($t.data=Ut)))),(Ut=uOe?dOe(p,_):fOe(p,_))&&($t=M3(ye,"onBeforeInput"),0<$t.length&&(mn=new Gz("onBeforeInput","beforeinput",null,_,Ue),Ke.push({event:mn,listeners:$t}),mn.data=Ut)),rPe(Ke,p,ye,_,Ue)}E$(Ke,y)})}function J0(p,y,_){return{instance:p,listener:y,currentTarget:_}}function M3(p,y){for(var _=y+"Capture",M=[];p!==null;){var A=p,P=A.stateNode;A=A.tag,A!==5&&A!==26&&A!==27||P===null||(A=ta(p,_),A!=null&&M.unshift(J0(p,A,P)),A=ta(p,y),A!=null&&M.push(J0(p,A,P))),p=p.return}return M}function Ym(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5&&p.tag!==27);return p||null}function N$(p,y,_,M,A){for(var P=y._reactName,Y=[];_!==null&&_!==M;){var Z=_,ue=Z.alternate,ye=Z.stateNode;if(Z=Z.tag,ue!==null&&ue===M)break;Z!==5&&Z!==26&&Z!==27||ye===null||(ue=ye,A?(ye=ta(_,P),ye!=null&&Y.unshift(J0(_,ye,ue))):A||(ye=ta(_,P),ye!=null&&Y.push(J0(_,ye,ue)))),_=_.return}Y.length!==0&&p.push({event:y,listeners:Y})}var oPe=/\r\n?/g,lPe=/\u0000|\uFFFD/g;function j$(p){return(typeof p=="string"?p:""+p).replace(oPe,`
`).replace(lPe,"")}function A$(p,y){return y=j$(y),j$(p)===y}function k3(){}function Zn(p,y,_,M,A,P){switch(_){case"children":typeof M=="string"?y==="body"||y==="textarea"&&M===""||dc(p,M):(typeof M=="number"||typeof M=="bigint")&&y!=="body"&&dc(p,""+M);break;case"className":Lu(p,"class",M);break;case"tabIndex":Lu(p,"tabindex",M);break;case"dir":case"role":case"viewBox":case"width":case"height":Lu(p,_,M);break;case"style":p0(p,M,P);break;case"data":if(y!=="object"){Lu(p,"data",M);break}case"src":case"href":if(M===""&&(y!=="a"||_!=="href")){p.removeAttribute(_);break}if(M==null||typeof M=="function"||typeof M=="symbol"||typeof M=="boolean"){p.removeAttribute(_);break}M=kf(""+M),p.setAttribute(_,M);break;case"action":case"formAction":if(typeof M=="function"){p.setAttribute(_,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof P=="function"&&(_==="formAction"?(y!=="input"&&Zn(p,y,"name",A.name,A,null),Zn(p,y,"formEncType",A.formEncType,A,null),Zn(p,y,"formMethod",A.formMethod,A,null),Zn(p,y,"formTarget",A.formTarget,A,null)):(Zn(p,y,"encType",A.encType,A,null),Zn(p,y,"method",A.method,A,null),Zn(p,y,"target",A.target,A,null)));if(M==null||typeof M=="symbol"||typeof M=="boolean"){p.removeAttribute(_);break}M=kf(""+M),p.setAttribute(_,M);break;case"onClick":M!=null&&(p.onclick=k3);break;case"onScroll":M!=null&&xn("scroll",p);break;case"onScrollEnd":M!=null&&xn("scrollend",p);break;case"dangerouslySetInnerHTML":if(M!=null){if(typeof M!="object"||!("__html"in M))throw Error(r(61));if(_=M.__html,_!=null){if(A.children!=null)throw Error(r(60));p.innerHTML=_}}break;case"multiple":p.multiple=M&&typeof M!="function"&&typeof M!="symbol";break;case"muted":p.muted=M&&typeof M!="function"&&typeof M!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(M==null||typeof M=="function"||typeof M=="boolean"||typeof M=="symbol"){p.removeAttribute("xlink:href");break}_=kf(""+M),p.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",_);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":M!=null&&typeof M!="function"&&typeof M!="symbol"?p.setAttribute(_,""+M):p.removeAttribute(_);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":M&&typeof M!="function"&&typeof M!="symbol"?p.setAttribute(_,""):p.removeAttribute(_);break;case"capture":case"download":M===!0?p.setAttribute(_,""):M!==!1&&M!=null&&typeof M!="function"&&typeof M!="symbol"?p.setAttribute(_,M):p.removeAttribute(_);break;case"cols":case"rows":case"size":case"span":M!=null&&typeof M!="function"&&typeof M!="symbol"&&!isNaN(M)&&1<=M?p.setAttribute(_,M):p.removeAttribute(_);break;case"rowSpan":case"start":M==null||typeof M=="function"||typeof M=="symbol"||isNaN(M)?p.removeAttribute(_):p.setAttribute(_,M);break;case"popover":xn("beforetoggle",p),xn("toggle",p),cc(p,"popover",M);break;case"xlinkActuate":Qn(p,"http://www.w3.org/1999/xlink","xlink:actuate",M);break;case"xlinkArcrole":Qn(p,"http://www.w3.org/1999/xlink","xlink:arcrole",M);break;case"xlinkRole":Qn(p,"http://www.w3.org/1999/xlink","xlink:role",M);break;case"xlinkShow":Qn(p,"http://www.w3.org/1999/xlink","xlink:show",M);break;case"xlinkTitle":Qn(p,"http://www.w3.org/1999/xlink","xlink:title",M);break;case"xlinkType":Qn(p,"http://www.w3.org/1999/xlink","xlink:type",M);break;case"xmlBase":Qn(p,"http://www.w3.org/XML/1998/namespace","xml:base",M);break;case"xmlLang":Qn(p,"http://www.w3.org/XML/1998/namespace","xml:lang",M);break;case"xmlSpace":Qn(p,"http://www.w3.org/XML/1998/namespace","xml:space",M);break;case"is":cc(p,"is",M);break;case"innerText":case"textContent":break;default:(!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")&&(_=Pb.get(_)||_,cc(p,_,M))}}function c7(p,y,_,M,A,P){switch(_){case"style":p0(p,M,P);break;case"dangerouslySetInnerHTML":if(M!=null){if(typeof M!="object"||!("__html"in M))throw Error(r(61));if(_=M.__html,_!=null){if(A.children!=null)throw Error(r(60));p.innerHTML=_}}break;case"children":typeof M=="string"?dc(p,M):(typeof M=="number"||typeof M=="bigint")&&dc(p,""+M);break;case"onScroll":M!=null&&xn("scroll",p);break;case"onScrollEnd":M!=null&&xn("scrollend",p);break;case"onClick":M!=null&&(p.onclick=k3);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!al.hasOwnProperty(_))e:{if(_[0]==="o"&&_[1]==="n"&&(A=_.endsWith("Capture"),y=_.slice(2,A?_.length-7:void 0),P=p[Kr]||null,P=P!=null?P[_]:null,typeof P=="function"&&p.removeEventListener(y,P,A),typeof M=="function")){typeof P!="function"&&P!==null&&(_ in p?p[_]=null:p.hasAttribute(_)&&p.removeAttribute(_)),p.addEventListener(y,M,A);break e}_ in p?p[_]=M:M===!0?p.setAttribute(_,""):cc(p,_,M)}}}function $s(p,y,_){switch(y){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xn("error",p),xn("load",p);var M=!1,A=!1,P;for(P in _)if(_.hasOwnProperty(P)){var Y=_[P];if(Y!=null)switch(P){case"src":M=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,y));default:Zn(p,y,P,Y,_,null)}}A&&Zn(p,y,"srcSet",_.srcSet,_,null),M&&Zn(p,y,"src",_.src,_,null);return;case"input":xn("invalid",p);var Z=P=Y=A=null,ue=null,ye=null;for(M in _)if(_.hasOwnProperty(M)){var Ue=_[M];if(Ue!=null)switch(M){case"name":A=Ue;break;case"type":Y=Ue;break;case"checked":ue=Ue;break;case"defaultChecked":ye=Ue;break;case"value":P=Ue;break;case"defaultValue":Z=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(r(137,y));break;default:Zn(p,y,M,Ue,_,null)}}d0(p,P,Z,ue,ye,Y,A,!1),Sf(p);return;case"select":xn("invalid",p),M=Y=P=null;for(A in _)if(_.hasOwnProperty(A)&&(Z=_[A],Z!=null))switch(A){case"value":P=Z;break;case"defaultValue":Y=Z;break;case"multiple":M=Z;default:Zn(p,y,A,Z,_,null)}y=P,_=Y,p.multiple=!!M,y!=null?uc(p,!!M,y,!1):_!=null&&uc(p,!!M,_,!0);return;case"textarea":xn("invalid",p),P=A=M=null;for(Y in _)if(_.hasOwnProperty(Y)&&(Z=_[Y],Z!=null))switch(Y){case"value":M=Z;break;case"defaultValue":A=Z;break;case"children":P=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(91));break;default:Zn(p,y,Y,Z,_,null)}h0(p,M,A,P),Sf(p);return;case"option":for(ue in _)if(_.hasOwnProperty(ue)&&(M=_[ue],M!=null))switch(ue){case"selected":p.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:Zn(p,y,ue,M,_,null)}return;case"dialog":xn("cancel",p),xn("close",p);break;case"iframe":case"object":xn("load",p);break;case"video":case"audio":for(M=0;M<Z0.length;M++)xn(Z0[M],p);break;case"image":xn("error",p),xn("load",p);break;case"details":xn("toggle",p);break;case"embed":case"source":case"link":xn("error",p),xn("load",p);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ye in _)if(_.hasOwnProperty(ye)&&(M=_[ye],M!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,y));default:Zn(p,y,ye,M,_,null)}return;default:if(Cm(y)){for(Ue in _)_.hasOwnProperty(Ue)&&(M=_[Ue],M!==void 0&&c7(p,y,Ue,M,_,void 0));return}}for(Z in _)_.hasOwnProperty(Z)&&(M=_[Z],M!=null&&Zn(p,y,Z,M,_,null))}function cPe(p,y,_,M){switch(y){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,P=null,Y=null,Z=null,ue=null,ye=null,Ue=null;for(Ie in _){var Ke=_[Ie];if(_.hasOwnProperty(Ie)&&Ke!=null)switch(Ie){case"checked":break;case"value":break;case"defaultValue":ue=Ke;default:M.hasOwnProperty(Ie)||Zn(p,y,Ie,null,M,Ke)}}for(var Te in M){var Ie=M[Te];if(Ke=_[Te],M.hasOwnProperty(Te)&&(Ie!=null||Ke!=null))switch(Te){case"type":P=Ie;break;case"name":A=Ie;break;case"checked":ye=Ie;break;case"defaultChecked":Ue=Ie;break;case"value":Y=Ie;break;case"defaultValue":Z=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(r(137,y));break;default:Ie!==Ke&&Zn(p,y,Te,Ie,M,Ke)}}Ou(p,Y,Z,ue,ye,Ue,P,A);return;case"select":Ie=Y=Z=Te=null;for(P in _)if(ue=_[P],_.hasOwnProperty(P)&&ue!=null)switch(P){case"value":break;case"multiple":Ie=ue;default:M.hasOwnProperty(P)||Zn(p,y,P,null,M,ue)}for(A in M)if(P=M[A],ue=_[A],M.hasOwnProperty(A)&&(P!=null||ue!=null))switch(A){case"value":Te=P;break;case"defaultValue":Z=P;break;case"multiple":Y=P;default:P!==ue&&Zn(p,y,A,P,M,ue)}y=Z,_=Y,M=Ie,Te!=null?uc(p,!!_,Te,!1):!!M!=!!_&&(y!=null?uc(p,!!_,y,!0):uc(p,!!_,_?[]:"",!1));return;case"textarea":Ie=Te=null;for(Z in _)if(A=_[Z],_.hasOwnProperty(Z)&&A!=null&&!M.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:Zn(p,y,Z,null,M,A)}for(Y in M)if(A=M[Y],P=_[Y],M.hasOwnProperty(Y)&&(A!=null||P!=null))switch(Y){case"value":Te=A;break;case"defaultValue":Ie=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:A!==P&&Zn(p,y,Y,A,M,P)}f0(p,Te,Ie);return;case"option":for(var Ot in _)if(Te=_[Ot],_.hasOwnProperty(Ot)&&Te!=null&&!M.hasOwnProperty(Ot))switch(Ot){case"selected":p.selected=!1;break;default:Zn(p,y,Ot,null,M,Te)}for(ue in M)if(Te=M[ue],Ie=_[ue],M.hasOwnProperty(ue)&&Te!==Ie&&(Te!=null||Ie!=null))switch(ue){case"selected":p.selected=Te&&typeof Te!="function"&&typeof Te!="symbol";break;default:Zn(p,y,ue,Te,M,Ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var en in _)Te=_[en],_.hasOwnProperty(en)&&Te!=null&&!M.hasOwnProperty(en)&&Zn(p,y,en,null,M,Te);for(ye in M)if(Te=M[ye],Ie=_[ye],M.hasOwnProperty(ye)&&Te!==Ie&&(Te!=null||Ie!=null))switch(ye){case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(r(137,y));break;default:Zn(p,y,ye,Te,M,Ie)}return;default:if(Cm(y)){for(var Pr in _)Te=_[Pr],_.hasOwnProperty(Pr)&&Te!==void 0&&!M.hasOwnProperty(Pr)&&c7(p,y,Pr,void 0,M,Te);for(Ue in M)Te=M[Ue],Ie=_[Ue],!M.hasOwnProperty(Ue)||Te===Ie||Te===void 0&&Ie===void 0||c7(p,y,Ue,Te,M,Ie);return}}for(var be in _)Te=_[be],_.hasOwnProperty(be)&&Te!=null&&!M.hasOwnProperty(be)&&Zn(p,y,be,null,M,Te);for(Ke in M)Te=M[Ke],Ie=_[Ke],!M.hasOwnProperty(Ke)||Te===Ie||Te==null&&Ie==null||Zn(p,y,Ke,Te,M,Ie)}var u7=null,d7=null;function E3(p){return p.nodeType===9?p:p.ownerDocument}function R$(p){switch(p){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function L$(p,y){if(p===0)switch(y){case"svg":return 1;case"math":return 2;default:return 0}return p===1&&y==="foreignObject"?0:p}function f7(p,y){return p==="textarea"||p==="noscript"||typeof y.children=="string"||typeof y.children=="number"||typeof y.children=="bigint"||typeof y.dangerouslySetInnerHTML=="object"&&y.dangerouslySetInnerHTML!==null&&y.dangerouslySetInnerHTML.__html!=null}var h7=null;function uPe(){var p=window.event;return p&&p.type==="popstate"?p===h7?!1:(h7=p,!0):(h7=null,!1)}var O$=typeof setTimeout=="function"?setTimeout:void 0,dPe=typeof clearTimeout=="function"?clearTimeout:void 0,P$=typeof Promise=="function"?Promise:void 0,fPe=typeof queueMicrotask=="function"?queueMicrotask:typeof P$<"u"?function(p){return P$.resolve(null).then(p).catch(hPe)}:O$;function hPe(p){setTimeout(function(){throw p})}function m7(p,y){var _=y,M=0;do{var A=_.nextSibling;if(p.removeChild(_),A&&A.nodeType===8)if(_=A.data,_==="/$"){if(M===0){p.removeChild(A),ov(y);return}M--}else _!=="$"&&_!=="$?"&&_!=="$!"||M++;_=A}while(_);ov(y)}function p7(p){var y=p.firstChild;for(y&&y.nodeType===10&&(y=y.nextSibling);y;){var _=y;switch(y=y.nextSibling,_.nodeName){case"HTML":case"HEAD":case"BODY":p7(_),Qr(_);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(_.rel.toLowerCase()==="stylesheet")continue}p.removeChild(_)}}function mPe(p,y,_,M){for(;p.nodeType===1;){var A=_;if(p.nodeName.toLowerCase()!==y.toLowerCase()){if(!M&&(p.nodeName!=="INPUT"||p.type!=="hidden"))break}else if(M){if(!p[sl])switch(y){case"meta":if(!p.hasAttribute("itemprop"))break;return p;case"link":if(P=p.getAttribute("rel"),P==="stylesheet"&&p.hasAttribute("data-precedence"))break;if(P!==A.rel||p.getAttribute("href")!==(A.href==null?null:A.href)||p.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||p.getAttribute("title")!==(A.title==null?null:A.title))break;return p;case"style":if(p.hasAttribute("data-precedence"))break;return p;case"script":if(P=p.getAttribute("src"),(P!==(A.src==null?null:A.src)||p.getAttribute("type")!==(A.type==null?null:A.type)||p.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&P&&p.hasAttribute("async")&&!p.hasAttribute("itemprop"))break;return p;default:return p}}else if(y==="input"&&p.type==="hidden"){var P=A.name==null?null:""+A.name;if(A.type==="hidden"&&p.getAttribute("name")===P)return p}else return p;if(p=Eo(p.nextSibling),p===null)break}return null}function pPe(p,y,_){if(y==="")return null;for(;p.nodeType!==3;)if((p.nodeType!==1||p.nodeName!=="INPUT"||p.type!=="hidden")&&!_||(p=Eo(p.nextSibling),p===null))return null;return p}function Eo(p){for(;p!=null;p=p.nextSibling){var y=p.nodeType;if(y===1||y===3)break;if(y===8){if(y=p.data,y==="$"||y==="$!"||y==="$?"||y==="F!"||y==="F")break;if(y==="/$")return null}}return p}function I$(p){p=p.previousSibling;for(var y=0;p;){if(p.nodeType===8){var _=p.data;if(_==="$"||_==="$!"||_==="$?"){if(y===0)return p;y--}else _==="/$"&&y++}p=p.previousSibling}return null}function D$(p,y,_){switch(y=E3(_),p){case"html":if(p=y.documentElement,!p)throw Error(r(452));return p;case"head":if(p=y.head,!p)throw Error(r(453));return p;case"body":if(p=y.body,!p)throw Error(r(454));return p;default:throw Error(r(451))}}var zi=new Map,F$=new Set;function T3(p){return typeof p.getRootNode=="function"?p.getRootNode():p.ownerDocument}var Ec=ne.d;ne.d={f:gPe,r:vPe,D:yPe,C:xPe,L:bPe,m:wPe,X:CPe,S:_Pe,M:SPe};function gPe(){var p=Ec.f(),y=b3();return p||y}function vPe(p){var y=_a(p);y!==null&&y.tag===5&&y.type==="form"?dW(y):Ec.r(p)}var Km=typeof document>"u"?null:document;function U$(p,y,_){var M=Km;if(M&&typeof y=="string"&&y){var A=Zr(y);A='link[rel="'+p+'"][href="'+A+'"]',typeof _=="string"&&(A+='[crossorigin="'+_+'"]'),F$.has(A)||(F$.add(A),p={rel:p,crossOrigin:_,href:y},M.querySelector(A)===null&&(y=M.createElement("link"),$s(y,"link",p),kr(y),M.head.appendChild(y)))}}function yPe(p){Ec.D(p),U$("dns-prefetch",p,null)}function xPe(p,y){Ec.C(p,y),U$("preconnect",p,y)}function bPe(p,y,_){Ec.L(p,y,_);var M=Km;if(M&&p&&y){var A='link[rel="preload"][as="'+Zr(y)+'"]';y==="image"&&_&&_.imageSrcSet?(A+='[imagesrcset="'+Zr(_.imageSrcSet)+'"]',typeof _.imageSizes=="string"&&(A+='[imagesizes="'+Zr(_.imageSizes)+'"]')):A+='[href="'+Zr(p)+'"]';var P=A;switch(y){case"style":P=Qm(p);break;case"script":P=Xm(p)}zi.has(P)||(p=O({rel:"preload",href:y==="image"&&_&&_.imageSrcSet?void 0:p,as:y},_),zi.set(P,p),M.querySelector(A)!==null||y==="style"&&M.querySelector(ev(P))||y==="script"&&M.querySelector(tv(P))||(y=M.createElement("link"),$s(y,"link",p),kr(y),M.head.appendChild(y)))}}function wPe(p,y){Ec.m(p,y);var _=Km;if(_&&p){var M=y&&typeof y.as=="string"?y.as:"script",A='link[rel="modulepreload"][as="'+Zr(M)+'"][href="'+Zr(p)+'"]',P=A;switch(M){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":P=Xm(p)}if(!zi.has(P)&&(p=O({rel:"modulepreload",href:p},y),zi.set(P,p),_.querySelector(A)===null)){switch(M){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(_.querySelector(tv(P)))return}M=_.createElement("link"),$s(M,"link",p),kr(M),_.head.appendChild(M)}}}function _Pe(p,y,_){Ec.S(p,y,_);var M=Km;if(M&&p){var A=_o(M).hoistableStyles,P=Qm(p);y=y||"default";var Y=A.get(P);if(!Y){var Z={loading:0,preload:null};if(Y=M.querySelector(ev(P)))Z.loading=5;else{p=O({rel:"stylesheet",href:p,"data-precedence":y},_),(_=zi.get(P))&&g7(p,_);var ue=Y=M.createElement("link");kr(ue),$s(ue,"link",p),ue._p=new Promise(function(ye,Ue){ue.onload=ye,ue.onerror=Ue}),ue.addEventListener("load",function(){Z.loading|=1}),ue.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,N3(Y,y,M)}Y={type:"stylesheet",instance:Y,count:1,state:Z},A.set(P,Y)}}}function CPe(p,y){Ec.X(p,y);var _=Km;if(_&&p){var M=_o(_).hoistableScripts,A=Xm(p),P=M.get(A);P||(P=_.querySelector(tv(A)),P||(p=O({src:p,async:!0},y),(y=zi.get(A))&&v7(p,y),P=_.createElement("script"),kr(P),$s(P,"link",p),_.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},M.set(A,P))}}function SPe(p,y){Ec.M(p,y);var _=Km;if(_&&p){var M=_o(_).hoistableScripts,A=Xm(p),P=M.get(A);P||(P=_.querySelector(tv(A)),P||(p=O({src:p,async:!0,type:"module"},y),(y=zi.get(A))&&v7(p,y),P=_.createElement("script"),kr(P),$s(P,"link",p),_.head.appendChild(P)),P={type:"script",instance:P,count:1,state:null},M.set(A,P))}}function B$(p,y,_,M){var A=(A=he.current)?T3(A):null;if(!A)throw Error(r(446));switch(p){case"meta":case"title":return null;case"style":return typeof _.precedence=="string"&&typeof _.href=="string"?(y=Qm(_.href),_=_o(A).hoistableStyles,M=_.get(y),M||(M={type:"style",instance:null,count:0,state:null},_.set(y,M)),M):{type:"void",instance:null,count:0,state:null};case"link":if(_.rel==="stylesheet"&&typeof _.href=="string"&&typeof _.precedence=="string"){p=Qm(_.href);var P=_o(A).hoistableStyles,Y=P.get(p);if(Y||(A=A.ownerDocument||A,Y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},P.set(p,Y),(P=A.querySelector(ev(p)))&&!P._p&&(Y.instance=P,Y.state.loading=5),zi.has(p)||(_={rel:"preload",as:"style",href:_.href,crossOrigin:_.crossOrigin,integrity:_.integrity,media:_.media,hrefLang:_.hrefLang,referrerPolicy:_.referrerPolicy},zi.set(p,_),P||MPe(A,p,_,Y.state))),y&&M===null)throw Error(r(528,""));return Y}if(y&&M!==null)throw Error(r(529,""));return null;case"script":return y=_.async,_=_.src,typeof _=="string"&&y&&typeof y!="function"&&typeof y!="symbol"?(y=Xm(_),_=_o(A).hoistableScripts,M=_.get(y),M||(M={type:"script",instance:null,count:0,state:null},_.set(y,M)),M):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,p))}}function Qm(p){return'href="'+Zr(p)+'"'}function ev(p){return'link[rel="stylesheet"]['+p+"]"}function V$(p){return O({},p,{"data-precedence":p.precedence,precedence:null})}function MPe(p,y,_,M){p.querySelector('link[rel="preload"][as="style"]['+y+"]")?M.loading=1:(y=p.createElement("link"),M.preload=y,y.addEventListener("load",function(){return M.loading|=1}),y.addEventListener("error",function(){return M.loading|=2}),$s(y,"link",_),kr(y),p.head.appendChild(y))}function Xm(p){return'[src="'+Zr(p)+'"]'}function tv(p){return"script[async]"+p}function z$(p,y,_){if(y.count++,y.instance===null)switch(y.type){case"style":var M=p.querySelector('style[data-href~="'+Zr(_.href)+'"]');if(M)return y.instance=M,kr(M),M;var A=O({},_,{"data-href":_.href,"data-precedence":_.precedence,href:null,precedence:null});return M=(p.ownerDocument||p).createElement("style"),kr(M),$s(M,"style",A),N3(M,_.precedence,p),y.instance=M;case"stylesheet":A=Qm(_.href);var P=p.querySelector(ev(A));if(P)return y.state.loading|=4,y.instance=P,kr(P),P;M=V$(_),(A=zi.get(A))&&g7(M,A),P=(p.ownerDocument||p).createElement("link"),kr(P);var Y=P;return Y._p=new Promise(function(Z,ue){Y.onload=Z,Y.onerror=ue}),$s(P,"link",M),y.state.loading|=4,N3(P,_.precedence,p),y.instance=P;case"script":return P=Xm(_.src),(A=p.querySelector(tv(P)))?(y.instance=A,kr(A),A):(M=_,(A=zi.get(P))&&(M=O({},_),v7(M,A)),p=p.ownerDocument||p,A=p.createElement("script"),kr(A),$s(A,"link",M),p.head.appendChild(A),y.instance=A);case"void":return null;default:throw Error(r(443,y.type))}else y.type==="stylesheet"&&!(y.state.loading&4)&&(M=y.instance,y.state.loading|=4,N3(M,_.precedence,p));return y.instance}function N3(p,y,_){for(var M=_.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=M.length?M[M.length-1]:null,P=A,Y=0;Y<M.length;Y++){var Z=M[Y];if(Z.dataset.precedence===y)P=Z;else if(P!==A)break}P?P.parentNode.insertBefore(p,P.nextSibling):(y=_.nodeType===9?_.head:_,y.insertBefore(p,y.firstChild))}function g7(p,y){p.crossOrigin==null&&(p.crossOrigin=y.crossOrigin),p.referrerPolicy==null&&(p.referrerPolicy=y.referrerPolicy),p.title==null&&(p.title=y.title)}function v7(p,y){p.crossOrigin==null&&(p.crossOrigin=y.crossOrigin),p.referrerPolicy==null&&(p.referrerPolicy=y.referrerPolicy),p.integrity==null&&(p.integrity=y.integrity)}var j3=null;function H$(p,y,_){if(j3===null){var M=new Map,A=j3=new Map;A.set(_,M)}else A=j3,M=A.get(_),M||(M=new Map,A.set(_,M));if(M.has(p))return M;for(M.set(p,null),_=_.getElementsByTagName(p),A=0;A<_.length;A++){var P=_[A];if(!(P[sl]||P[tr]||p==="link"&&P.getAttribute("rel")==="stylesheet")&&P.namespaceURI!=="http://www.w3.org/2000/svg"){var Y=P.getAttribute(y)||"";Y=p+Y;var Z=M.get(Y);Z?Z.push(P):M.set(Y,[P])}}return M}function W$(p,y,_){p=p.ownerDocument||p,p.head.insertBefore(_,y==="title"?p.querySelector("head > title"):null)}function kPe(p,y,_){if(_===1||y.itemProp!=null)return!1;switch(p){case"meta":case"title":return!0;case"style":if(typeof y.precedence!="string"||typeof y.href!="string"||y.href==="")break;return!0;case"link":if(typeof y.rel!="string"||typeof y.href!="string"||y.href===""||y.onLoad||y.onError)break;switch(y.rel){case"stylesheet":return p=y.disabled,typeof y.precedence=="string"&&p==null;default:return!0}case"script":if(y.async&&typeof y.async!="function"&&typeof y.async!="symbol"&&!y.onLoad&&!y.onError&&y.src&&typeof y.src=="string")return!0}return!1}function $$(p){return!(p.type==="stylesheet"&&!(p.state.loading&3))}var nv=null;function EPe(){}function TPe(p,y,_){if(nv===null)throw Error(r(475));var M=nv;if(y.type==="stylesheet"&&(typeof _.media!="string"||matchMedia(_.media).matches!==!1)&&!(y.state.loading&4)){if(y.instance===null){var A=Qm(_.href),P=p.querySelector(ev(A));if(P){p=P._p,p!==null&&typeof p=="object"&&typeof p.then=="function"&&(M.count++,M=A3.bind(M),p.then(M,M)),y.state.loading|=4,y.instance=P,kr(P);return}P=p.ownerDocument||p,_=V$(_),(A=zi.get(A))&&g7(_,A),P=P.createElement("link"),kr(P);var Y=P;Y._p=new Promise(function(Z,ue){Y.onload=Z,Y.onerror=ue}),$s(P,"link",_),y.instance=P}M.stylesheets===null&&(M.stylesheets=new Map),M.stylesheets.set(y,p),(p=y.state.preload)&&!(y.state.loading&3)&&(M.count++,y=A3.bind(M),p.addEventListener("load",y),p.addEventListener("error",y))}}function NPe(){if(nv===null)throw Error(r(475));var p=nv;return p.stylesheets&&p.count===0&&y7(p,p.stylesheets),0<p.count?function(y){var _=setTimeout(function(){if(p.stylesheets&&y7(p,p.stylesheets),p.unsuspend){var M=p.unsuspend;p.unsuspend=null,M()}},6e4);return p.unsuspend=y,function(){p.unsuspend=null,clearTimeout(_)}}:null}function A3(){if(this.count--,this.count===0){if(this.stylesheets)y7(this,this.stylesheets);else if(this.unsuspend){var p=this.unsuspend;this.unsuspend=null,p()}}}var R3=null;function y7(p,y){p.stylesheets=null,p.unsuspend!==null&&(p.count++,R3=new Map,y.forEach(jPe,p),R3=null,A3.call(p))}function jPe(p,y){if(!(y.state.loading&4)){var _=R3.get(p);if(_)var M=_.get(null);else{_=new Map,R3.set(p,_);for(var A=p.querySelectorAll("link[data-precedence],style[data-precedence]"),P=0;P<A.length;P++){var Y=A[P];(Y.nodeName==="LINK"||Y.getAttribute("media")!=="not all")&&(_.set(Y.dataset.precedence,Y),M=Y)}M&&_.set(null,M)}A=y.instance,Y=A.getAttribute("data-precedence"),P=_.get(Y)||M,P===M&&_.set(null,A),_.set(Y,A),this.count++,M=A3.bind(this),A.addEventListener("load",M),A.addEventListener("error",M),P?P.parentNode.insertBefore(A,P.nextSibling):(p=p.nodeType===9?p.head:p,p.insertBefore(A,p.firstChild)),y.state.loading|=4}}var rv={$$typeof:g,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function APe(p,y,_,M,A,P,Y,Z){this.tag=1,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.hiddenUpdates=Bt(null),this.identifierPrefix=M,this.onUncaughtError=A,this.onCaughtError=P,this.onRecoverableError=Y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function q$(p,y,_,M,A,P,Y,Z,ue,ye,Ue,Ke){return p=new APe(p,y,_,Y,Z,ue,ye,Ke),y=1,P===!0&&(y|=24),P=Bi(3,null,null,y),p.current=P,P.stateNode=p,y=Q8(),y.refCount++,p.pooledCache=y,y.refCount++,P.memoizedState={element:M,isDehydrated:_,cache:y},j9(P),p}function G$(p){return p?(p=Nm,p):Nm}function Y$(p,y,_,M,A,P){A=G$(A),M.context===null?M.context=A:M.pendingContext=A,M=$u(y),M.payload={element:_},P=P===void 0?null:P,P!==null&&(M.callback=P),_=qu(p,M,y),_!==null&&(Sa(_,p,y),B0(_,p,y))}function K$(p,y){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var _=p.retryLane;p.retryLane=_!==0&&_<y?_:y}}function x7(p,y){K$(p,y),(p=p.alternate)&&K$(p,y)}function Q$(p){if(p.tag===13){var y=Fu(p,67108864);y!==null&&Sa(y,p,67108864),x7(p,67108864)}}var L3=!0;function RPe(p,y,_,M){var A=R.T;R.T=null;var P=ne.p;try{ne.p=2,b7(p,y,_,M)}finally{ne.p=P,R.T=A}}function LPe(p,y,_,M){var A=R.T;R.T=null;var P=ne.p;try{ne.p=8,b7(p,y,_,M)}finally{ne.p=P,R.T=A}}function b7(p,y,_,M){if(L3){var A=w7(M);if(A===null)l7(p,y,M,O3,_),Z$(p,M);else if(PPe(A,p,y,_,M))M.stopPropagation();else if(Z$(p,M),y&4&&-1<OPe.indexOf(p)){for(;A!==null;){var P=_a(A);if(P!==null)switch(P.tag){case 3:if(P=P.stateNode,P.current.memoizedState.isDehydrated){var Y=Xt(P.pendingLanes);if(Y!==0){var Z=P;for(Z.pendingLanes|=2,Z.entangledLanes|=2;Y;){var ue=1<<31-ft(Y);Z.entanglements[1]|=ue,Y&=~ue}ul(P),!(Nr&6)&&(v3=$e()+500,X0(0))}}break;case 13:Z=Fu(P,2),Z!==null&&Sa(Z,P,2),b3(),x7(P,2)}if(P=w7(M),P===null&&l7(p,y,M,O3,_),P===A)break;A=P}A!==null&&M.stopPropagation()}else l7(p,y,M,null,_)}}function w7(p){return p=g0(p),_7(p)}var O3=null;function _7(p){if(O3=null,p=Ha(p),p!==null){var y=q(p);if(y===null)p=null;else{var _=y.tag;if(_===13){if(p=$(y),p!==null)return p;p=null}else if(_===3){if(y.stateNode.current.memoizedState.isDehydrated)return y.tag===3?y.stateNode.containerInfo:null;p=null}else y!==p&&(p=null)}}return O3=p,null}function X$(p){switch(p){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tt()){case at:return 2;case xe:return 8;case Oe:case Qe:return 32;case Ge:return 268435456;default:return 32}default:return 32}}var C7=!1,Ju=null,ed=null,td=null,sv=new Map,av=new Map,nd=[],OPe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z$(p,y){switch(p){case"focusin":case"focusout":Ju=null;break;case"dragenter":case"dragleave":ed=null;break;case"mouseover":case"mouseout":td=null;break;case"pointerover":case"pointerout":sv.delete(y.pointerId);break;case"gotpointercapture":case"lostpointercapture":av.delete(y.pointerId)}}function iv(p,y,_,M,A,P){return p===null||p.nativeEvent!==P?(p={blockedOn:y,domEventName:_,eventSystemFlags:M,nativeEvent:P,targetContainers:[A]},y!==null&&(y=_a(y),y!==null&&Q$(y)),p):(p.eventSystemFlags|=M,y=p.targetContainers,A!==null&&y.indexOf(A)===-1&&y.push(A),p)}function PPe(p,y,_,M,A){switch(y){case"focusin":return Ju=iv(Ju,p,y,_,M,A),!0;case"dragenter":return ed=iv(ed,p,y,_,M,A),!0;case"mouseover":return td=iv(td,p,y,_,M,A),!0;case"pointerover":var P=A.pointerId;return sv.set(P,iv(sv.get(P)||null,p,y,_,M,A)),!0;case"gotpointercapture":return P=A.pointerId,av.set(P,iv(av.get(P)||null,p,y,_,M,A)),!0}return!1}function J$(p){var y=Ha(p.target);if(y!==null){var _=q(y);if(_!==null){if(y=_.tag,y===13){if(y=$(_),y!==null){p.blockedOn=y,wa(p.priority,function(){if(_.tag===13){var M=hi(),A=Fu(_,M);A!==null&&Sa(A,_,M),x7(_,M)}});return}}else if(y===3&&_.stateNode.current.memoizedState.isDehydrated){p.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}p.blockedOn=null}function P3(p){if(p.blockedOn!==null)return!1;for(var y=p.targetContainers;0<y.length;){var _=w7(p.nativeEvent);if(_===null){_=p.nativeEvent;var M=new _.constructor(_.type,_);Sm=M,_.target.dispatchEvent(M),Sm=null}else return y=_a(_),y!==null&&Q$(y),p.blockedOn=_,!1;y.shift()}return!0}function eq(p,y,_){P3(p)&&_.delete(y)}function IPe(){C7=!1,Ju!==null&&P3(Ju)&&(Ju=null),ed!==null&&P3(ed)&&(ed=null),td!==null&&P3(td)&&(td=null),sv.forEach(eq),av.forEach(eq)}function I3(p,y){p.blockedOn===y&&(p.blockedOn=null,C7||(C7=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,IPe)))}var D3=null;function tq(p){D3!==p&&(D3=p,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){D3===p&&(D3=null);for(var y=0;y<p.length;y+=3){var _=p[y],M=p[y+1],A=p[y+2];if(typeof M!="function"){if(_7(M||_)===null)continue;break}var P=_a(_);P!==null&&(p.splice(y,3),y-=3,f9(P,{pending:!0,data:A,method:_.method,action:M},M,A))}}))}function ov(p){function y(ue){return I3(ue,p)}Ju!==null&&I3(Ju,p),ed!==null&&I3(ed,p),td!==null&&I3(td,p),sv.forEach(y),av.forEach(y);for(var _=0;_<nd.length;_++){var M=nd[_];M.blockedOn===p&&(M.blockedOn=null)}for(;0<nd.length&&(_=nd[0],_.blockedOn===null);)J$(_),_.blockedOn===null&&nd.shift();if(_=(p.ownerDocument||p).$$reactFormReplay,_!=null)for(M=0;M<_.length;M+=3){var A=_[M],P=_[M+1],Y=A[Kr]||null;if(typeof P=="function")Y||tq(_);else if(Y){var Z=null;if(P&&P.hasAttribute("formAction")){if(A=P,Y=P[Kr]||null)Z=Y.formAction;else if(_7(A)!==null)continue}else Z=Y.action;typeof Z=="function"?_[M+1]=Z:(_.splice(M,3),M-=3),tq(_)}}}function S7(p){this._internalRoot=p}F3.prototype.render=S7.prototype.render=function(p){var y=this._internalRoot;if(y===null)throw Error(r(409));var _=y.current,M=hi();Y$(_,M,p,y,null,null)},F3.prototype.unmount=S7.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var y=p.containerInfo;p.tag===0&&qm(),Y$(p.current,2,null,p,null,null),b3(),y[li]=null}};function F3(p){this._internalRoot=p}F3.prototype.unstable_scheduleHydration=function(p){if(p){var y=os();p={blockedOn:null,target:p,priority:y};for(var _=0;_<nd.length&&y!==0&&y<nd[_].priority;_++);nd.splice(_,0,p),_===0&&J$(p)}};var nq=t.version;if(nq!=="19.0.0")throw Error(r(527,nq,"19.0.0"));ne.findDOMNode=function(p){var y=p._reactInternals;if(y===void 0)throw typeof p.render=="function"?Error(r(188)):(p=Object.keys(p).join(","),Error(r(268,p)));return p=K(y),p=p!==null?ee(p):null,p=p===null?null:p.stateNode,p};var DPe={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:Ha,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var U3=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!U3.isDisabled&&U3.supportsFiber)try{St=U3.inject(DPe),It=U3}catch{}}return cv.createRoot=function(p,y){if(!s(p))throw Error(r(299));var _=!1,M="",A=xW,P=bW,Y=wW,Z=null;return y!=null&&(y.unstable_strictMode===!0&&(_=!0),y.identifierPrefix!==void 0&&(M=y.identifierPrefix),y.onUncaughtError!==void 0&&(A=y.onUncaughtError),y.onCaughtError!==void 0&&(P=y.onCaughtError),y.onRecoverableError!==void 0&&(Y=y.onRecoverableError),y.unstable_transitionCallbacks!==void 0&&(Z=y.unstable_transitionCallbacks)),y=q$(p,1,!1,null,null,_,M,A,P,Y,Z,null),p[li]=y.current,o7(p.nodeType===8?p.parentNode:p),new S7(y)},cv.hydrateRoot=function(p,y,_){if(!s(p))throw Error(r(299));var M=!1,A="",P=xW,Y=bW,Z=wW,ue=null,ye=null;return _!=null&&(_.unstable_strictMode===!0&&(M=!0),_.identifierPrefix!==void 0&&(A=_.identifierPrefix),_.onUncaughtError!==void 0&&(P=_.onUncaughtError),_.onCaughtError!==void 0&&(Y=_.onCaughtError),_.onRecoverableError!==void 0&&(Z=_.onRecoverableError),_.unstable_transitionCallbacks!==void 0&&(ue=_.unstable_transitionCallbacks),_.formState!==void 0&&(ye=_.formState)),y=q$(p,1,!0,y,_??null,M,A,P,Y,Z,ue,ye),y.context=G$(null),_=y.current,M=hi(),A=$u(M),A.callback=null,qu(_,A,M),y.current.lanes=M,Lt(y,M),ul(y),p[li]=y.current,o7(p),new F3(y)},cv.version="19.0.0",cv}var hq;function yIe(){if(hq)return E7.exports;hq=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),E7.exports=vIe(),E7.exports}var xIe=yIe();const bIe=Js(xIe);var fg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kh=typeof window>"u"||"Deno"in globalThis;function Yi(){}function wIe(e,t){return typeof e=="function"?e(t):e}function pj(e){return typeof e=="number"&&e>=0&&e!==1/0}function Aie(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Hp(e,t){return typeof e=="function"?e(t):e}function Lo(e,t){return typeof e=="function"?e(t):e}function mq(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:i,stale:l}=e;if(i){if(r){if(t.queryHash!==rP(i,t.options))return!1}else if(!q2(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function pq(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Eh(t.options.mutationKey)!==Eh(a))return!1}else if(!q2(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function rP(e,t){return(t?.queryKeyHashFn||Eh)(e)}function Eh(e){return JSON.stringify(e,(t,n)=>gj(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function q2(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!q2(e[n],t[n])):!1}function Rie(e,t){if(e===t)return e;const n=gq(e)&&gq(t);if(n||gj(e)&&gj(t)){const r=n?e:Object.keys(e),s=r.length,a=n?t:Object.keys(t),i=a.length,l=n?[]:{};let c=0;for(let u=0;u<i;u++){const d=n?u:a[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=Rie(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===i&&c===s?e:l}return t}function sw(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function gq(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function gj(e){if(!vq(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!vq(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function vq(e){return Object.prototype.toString.call(e)==="[object Object]"}function _Ie(e){return new Promise(t=>{setTimeout(t,e)})}function vj(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Rie(e,t):t}function ax(e){return e}function CIe(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function SIe(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Lie=Symbol(),Oie=(e,t)=>!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Lie?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn,MIe=class extends fg{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!kh&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},sP=new MIe,kIe=class extends fg{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!kh&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},aw=new kIe;function EIe(e){return Math.min(1e3*2**e,3e4)}function Pie(e){return(e??"online")==="online"?aw.isOnline():!0}var Iie=class{constructor(e){this.revert=e?.revert,this.silent=e?.silent}};function j7(e){return e instanceof Iie}function Die(e){let t=!1,n=0,r=!1,s,a,i;const l=new Promise((w,C)=>{a=w,i=C}),c=w=>{r||(v(new Iie(w)),e.abort?.())},u=()=>{t=!0},d=()=>{t=!1},h=()=>sP.isFocused()&&(e.networkMode==="always"||aw.isOnline())&&e.canRun(),m=()=>Pie(e.networkMode)&&e.canRun(),g=w=>{r||(r=!0,e.onSuccess?.(w),s?.(),a(w))},v=w=>{r||(r=!0,e.onError?.(w),s?.(),i(w))},x=()=>new Promise(w=>{s=C=>{(r||h())&&w(C)},e.onPause?.()}).then(()=>{s=void 0,r||e.onContinue?.()}),b=()=>{if(r)return;let w;const C=n===0?e.initialPromise:void 0;try{w=C??e.fn()}catch(S){w=Promise.reject(S)}Promise.resolve(w).then(g).catch(S=>{if(r)return;const k=e.retry??(kh?0:3),E=e.retryDelay??EIe,T=typeof E=="function"?E(n,S):E,j=k===!0||typeof k=="number"&&n<k||typeof k=="function"&&k(n,S);if(t||!j){v(S);return}n++,e.onFail?.(n,S),_Ie(T).then(()=>h()?void 0:x()).then(()=>{t?v(S):b()})})};return{promise:l,cancel:c,continue:()=>(s?.(),l),cancelRetry:u,continueRetry:d,canStart:m,start:()=>(m()?b():x().then(b),l)}}function TIe(){let e=[],t=0,n=m=>{m()},r=m=>{m()},s=m=>setTimeout(m,0);const a=m=>{s=m},i=m=>{let g;t++;try{g=m()}finally{t--,t||u()}return g},l=m=>{t?e.push(m):s(()=>{n(m)})},c=m=>(...g)=>{l(()=>{m(...g)})},u=()=>{const m=e;e=[],m.length&&s(()=>{r(()=>{m.forEach(g=>{n(g)})})})};return{batch:i,batchCalls:c,schedule:l,setNotifyFunction:m=>{n=m},setBatchNotifyFunction:m=>{r=m},setScheduler:a}}var fs=TIe(),Fie=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pj(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(kh?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},NIe=class extends Fie{#e;#t;#r;#n;#i;#a;constructor(e){super(),this.#a=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=e.state||jIe(this.options),this.state=this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const n=vj(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(Yi).catch(Yi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Lo(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Aie(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#a?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},s=()=>{const l=Oie(this.options,t),c={queryKey:this.queryKey,meta:this.meta};return r(c),this.#a=!1,this.options.persister?this.options.persister(l,c,this):l(c)},a={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};r(a),this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta});const i=l=>{j7(l)&&l.silent||this.#s({type:"error",error:l}),j7(l)||(this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.#n=Die({initialPromise:t?.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){i(new Error(`${this.queryHash} data is undefined`));return}this.setData(l),this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:i,onFail:(l,c)=>{this.#s({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#n.start()}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Uie(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return j7(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),fs.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function Uie(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Pie(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function jIe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Bie=class extends fg{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,s=t.queryHash??rP(r,t);let a=this.get(s);return a||(a=new NIe({cache:this,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(a)),a}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){fs.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>mq(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>mq(e,n)):t}notify(e){fs.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){fs.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){fs.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},AIe=class extends Fie{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||Vie(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=Die({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(r,s)=>{this.#n({type:"failed",failureCount:r,error:s})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",n=!this.#r.canStart();try{if(!t){this.#n({type:"pending",variables:e,isPaused:n}),await this.#t.config.onMutate?.(e,this);const s=await this.options.onMutate?.(e);s!==this.state.context&&this.#n({type:"pending",context:s,variables:e,isPaused:n})}const r=await this.#r.start();return await this.#t.config.onSuccess?.(r,e,this.state.context,this),await this.options.onSuccess?.(r,e,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,e,this.state.context),this.#n({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,e,this.state.context,this),await this.options.onError?.(r,e,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,e,this.state.context),r}finally{this.#n({type:"error",error:r})}}finally{this.#t.runNext(this)}}#n(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),fs.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function Vie(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zie=class extends fg{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,n){const r=new AIe({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){const t=V3(e),n=this.#e.get(t)??[];n.push(e),this.#e.set(t,n),this.notify({type:"added",mutation:e})}remove(e){const t=V3(e);if(this.#e.has(t)){const n=this.#e.get(t)?.filter(r=>r!==e);n&&(n.length===0?this.#e.delete(t):this.#e.set(t,n))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(V3(e))?.find(n=>n.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(V3(e))?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){fs.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(n=>pq(t,n))}findAll(e={}){return this.getAll().filter(t=>pq(e,t))}notify(e){fs.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return fs.batch(()=>Promise.all(e.map(t=>t.continue().catch(Yi))))}};function V3(e){return e.options.scope?.id??String(e.mutationId)}function yj(e){return{onFetch:(t,n)=>{const r=async()=>{const s=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],l=t.state.data?.pageParams||[],c={pages:[],pageParams:[]};let u=!1;const d=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},h=Oie(t.options,t.fetchOptions),m=async(v,x,b)=>{if(u)return Promise.reject();if(x==null&&v.pages.length)return Promise.resolve(v);const w={queryKey:t.queryKey,pageParam:x,direction:b?"backward":"forward",meta:t.options.meta};d(w);const C=await h(w),{maxPages:S}=t.options,k=b?SIe:CIe;return{pages:k(v.pages,C,S),pageParams:k(v.pageParams,x,S)}};let g;if(a&&i.length){const v=a==="backward",x=v?Hie:xj,b={pages:i,pageParams:l},w=x(s,b);g=await m(b,w,v)}else{g=await m(c,l[0]??s.initialPageParam);const v=e??i.length;for(let x=1;x<v;x++){const b=xj(s,g);g=await m(g,b)}}return g};t.options.persister?t.fetchFn=()=>t.options.persister?.(r,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=r}}}function xj(e,{pages:t,pageParams:n}){const r=t.length-1;return e.getNextPageParam(t[r],t,n[r],n)}function Hie(e,{pages:t,pageParams:n}){return e.getPreviousPageParam?.(t[0],t,n[0],n)}function RIe(e,t){return t?xj(e,t)!=null:!1}function LIe(e,t){return!t||!e.getPreviousPageParam?!1:Hie(e,t)!=null}var OIe=class{#e;#t;#r;#n;#i;#a;#s;#o;constructor(e={}){this.#e=e.queryCache||new Bie,this.#t=e.mutationCache||new zie,this.#r=e.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#s=sP.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=aw.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#s?.(),this.#s=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=this.#e.build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Hp(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=this.#e.get(r.queryHash)?.state.data,i=wIe(t,a);if(i!==void 0)return this.#e.build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return fs.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;fs.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e,r={type:"active",...e};return fs.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=fs.batch(()=>this.#e.findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Yi).catch(Yi)}invalidateQueries(e={},t={}){return fs.batch(()=>{if(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:t?.cancelRefetch??!0},r=fs.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(Yi)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Yi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Hp(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Yi).catch(Yi)}fetchInfiniteQuery(e){return e.behavior=yj(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Yi).catch(Yi)}resumePausedMutations(){return aw.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(Eh(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()];let n={};return t.forEach(r=>{q2(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){this.#i.set(Eh(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()];let n={};return t.forEach(r=>{q2(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=rP(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Lie&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Wie=class extends fg{constructor(e,t){super(),this.options=t,this.#e=e,this.#s=null,this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#n=void 0;#i;#a;#s;#o;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),yq(this.#t,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return bj(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return bj(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#b(),this.#t.removeObserver(this)}setOptions(e,t){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Lo(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),n._defaulted&&!sw(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const s=this.hasListeners();s&&xq(this.#t,r,this.options,n)&&this.#d(),this.updateResult(t),s&&(this.#t!==r||Lo(this.options.enabled,this.#t)!==Lo(n.enabled,this.#t)||Hp(this.options.staleTime,this.#t)!==Hp(n.staleTime,this.#t))&&this.#p();const a=this.#g();s&&(this.#t!==r||Lo(this.options.enabled,this.#t)!==Lo(n.enabled,this.#t)||a!==this.#l)&&this.#v(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return IIe(this,n)&&(this.#n=n,this.#a=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(e,t){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),t?.(r),e[r])})}),n}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#w();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Yi)),t}#p(){this.#x();const e=Hp(this.options.staleTime,this.#t);if(kh||this.#n.isStale||!pj(e))return;const n=Aie(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#b(),this.#l=e,!(kh||Lo(this.options.enabled,this.#t)===!1||!pj(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||sP.isFocused())&&this.#d()},this.#l))}#y(){this.#p(),this.#v(this.#g())}#x(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#b(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#t,r=this.options,s=this.#n,a=this.#i,i=this.#a,c=e!==n?e.state:this.#r,{state:u}=e;let d={...u},h=!1,m;if(t._optimisticResults){const T=this.hasListeners(),j=!T&&yq(e,t),N=T&&xq(e,n,t,r);(j||N)&&(d={...d,...Uie(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:v,status:x}=d;if(t.select&&d.data!==void 0)if(s&&d.data===a?.data&&t.select===this.#o)m=this.#f;else try{this.#o=t.select,m=t.select(d.data),m=vj(s?.data,m,t),this.#f=m,this.#s=null}catch(T){this.#s=T}else m=d.data;if(t.placeholderData!==void 0&&m===void 0&&x==="pending"){let T;if(s?.isPlaceholderData&&t.placeholderData===i?.placeholderData)T=s.data;else if(T=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,t.select&&T!==void 0)try{T=t.select(T),this.#s=null}catch(j){this.#s=j}T!==void 0&&(x="success",m=vj(s?.data,T,t),h=!0)}this.#s&&(g=this.#s,m=this.#f,v=Date.now(),x="error");const b=d.fetchStatus==="fetching",w=x==="pending",C=x==="error",S=w&&b,k=m!==void 0;return{status:x,fetchStatus:d.fetchStatus,isPending:w,isSuccess:x==="success",isError:C,isInitialLoading:S,isLoading:S,data:m,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:v,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:C&&!k,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:C&&k,isStale:aP(e,t),refetch:this.refetch}}updateResult(e){const t=this.#n,n=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#t),sw(n,t))return;this.#n=n;const r={},s=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!this.#m.size)return!0;const l=new Set(i??this.#m);return this.options.throwOnError&&l.add("error"),Object.keys(this.#n).some(c=>{const u=c;return this.#n[u]!==t[u]&&l.has(u)})};e?.listeners!==!1&&s()&&(r.listeners=!0),this.#_({...r,...e})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#_(e){fs.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function PIe(e,t){return Lo(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function yq(e,t){return PIe(e,t)||e.state.data!==void 0&&bj(e,t,t.refetchOnMount)}function bj(e,t,n){if(Lo(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&aP(e,t)}return!1}function xq(e,t,n,r){return(e!==t||Lo(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&aP(e,n)}function aP(e,t){return Lo(t.enabled,e)!==!1&&e.isStaleByTime(Hp(t.staleTime,e))}function IIe(e,t){return!sw(e.getCurrentResult(),t)}var DIe=class extends Wie{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:yj()},t)}getOptimisticResult(e){return e.behavior=yj(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:n}=e,r=super.createResult(e,t),{isFetching:s,isRefetching:a,isError:i,isRefetchError:l}=r,c=n.fetchMeta?.fetchMore?.direction,u=i&&c==="forward",d=s&&c==="forward",h=i&&c==="backward",m=s&&c==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:RIe(t,n.data),hasPreviousPage:LIe(t,n.data),isFetchNextPageError:u,isFetchingNextPage:d,isFetchPreviousPageError:h,isFetchingPreviousPage:m,isRefetchError:l&&!u&&!h,isRefetching:a&&!d&&!m}}},FIe=class extends fg{#e;#t=void 0;#r;#n;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),sw(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),n?.mutationKey&&this.options.mutationKey&&Eh(n.mutationKey)!==Eh(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#a(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#a()}mutate(t,n){return this.#n=n,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#i(){const t=this.#r?.state??Vie();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){fs.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,n,r),this.#n.onSettled?.(t.data,null,n,r)):t?.type==="error"&&(this.#n.onError?.(t.error,n,r),this.#n.onSettled?.(void 0,t.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}};function UIe(e){return e}function bq(e,t,n){if(typeof t!="object"||t===null)return;const r=e.getMutationCache(),s=e.getQueryCache(),a=n?.defaultOptions?.deserializeData??e.getDefaultOptions().hydrate?.deserializeData??UIe,i=t.mutations||[],l=t.queries||[];i.forEach(({state:c,...u})=>{r.build(e,{...e.getDefaultOptions().hydrate?.mutations,...n?.defaultOptions?.mutations,...u},c)}),l.forEach(({queryKey:c,state:u,queryHash:d,meta:h,promise:m})=>{let g=s.get(d);const v=u.data===void 0?u.data:a(u.data);if(g){if(g.state.dataUpdatedAt<u.dataUpdatedAt){const{fetchStatus:x,...b}=u;g.setState({...b,data:v})}}else g=s.build(e,{...e.getDefaultOptions().hydrate?.queries,...n?.defaultOptions?.queries,queryKey:c,queryHash:d,meta:h},{...u,data:v,fetchStatus:"idle"});if(m){const x=Promise.resolve(m).then(a);g.fetch(void 0,{initialPromise:x})}})}var $ie=f.createContext(void 0),Vt=e=>{const t=f.useContext($ie);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},BIe=({client:e,children:t})=>(f.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx($ie.Provider,{value:e,children:t})),qie=f.createContext(!1),VIe=()=>f.useContext(qie);qie.Provider;function zIe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var HIe=f.createContext(zIe()),WIe=()=>f.useContext(HIe);function Gie(e,t){return typeof e=="function"?e(...t):!!e}function $Ie(){}var qIe=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},GIe=e=>{f.useEffect(()=>{e.clearReset()},[e])},YIe=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&Gie(n,[e.error,r]),KIe=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},QIe=(e,t)=>e?.suspense&&t.isPending,XIe=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Yie(e,t,n){const r=Vt(n),s=VIe(),a=WIe(),i=r.defaultQueryOptions(e);r.getDefaultOptions().queries?._experimental_beforeQuery?.(i),i._optimisticResults=s?"isRestoring":"optimistic",KIe(i),qIe(i,a),GIe(a);const[l]=f.useState(()=>new t(r,i)),c=l.getOptimisticResult(i);if(f.useSyncExternalStore(f.useCallback(u=>{const d=s?()=>{}:l.subscribe(fs.batchCalls(u));return l.updateResult(),d},[l,s]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),f.useEffect(()=>{l.setOptions(i,{listeners:!1})},[i,l]),QIe(i,c))throw XIe(i,l,a);if(YIe({result:c,errorResetBoundary:a,throwOnError:i.throwOnError,query:r.getQueryCache().get(i.queryHash)}))throw c.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(i,c),i.notifyOnChangeProps?c:l.trackResult(c)}function Ft(e,t){return Yie(e,Wie,t)}var ZIe=({children:e,options:t={},state:n,queryClient:r})=>{const s=Vt(r),[a,i]=f.useState(),l=f.useRef(t);return l.current=t,f.useMemo(()=>{if(n){if(typeof n!="object")return;const c=s.getQueryCache(),u=n.queries||[],d=[],h=[];for(const m of u){const g=c.get(m.queryHash);if(!g)d.push(m);else{const v=m.state.dataUpdatedAt>g.state.dataUpdatedAt,x=a?.find(b=>b.queryHash===m.queryHash);v&&(!x||m.state.dataUpdatedAt>x.state.dataUpdatedAt)&&h.push(m)}}d.length>0&&bq(s,{queries:d},l.current),h.length>0&&i(m=>m?[...m,...h]:h)}},[s,a,n]),f.useEffect(()=>{a&&(bq(s,{queries:a},l.current),i(void 0))},[s,a]),e};function Kt(e,t){const n=Vt(t),[r]=f.useState(()=>new FIe(n,e));f.useEffect(()=>{r.setOptions(e)},[r,e]);const s=f.useSyncExternalStore(f.useCallback(i=>r.subscribe(fs.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=f.useCallback((i,l)=>{r.mutate(i,l).catch($Ie)},[r]);if(s.error&&Gie(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}function Zd(e,t){return Yie(e,DIe,t)}function JIe(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}function g_(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const wj=e=>Array.isArray(e);function Kie(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function G2(e){return typeof e=="string"||Array.isArray(e)}function wq(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function iP(e,t,n,r){if(typeof t=="function"){const[s,a]=wq(r);t=t(n!==void 0?n:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=wq(r);t=t(n!==void 0?n:e.custom,s,a)}return t}function v_(e,t,n){const r=e.getProps();return iP(r,t,n!==void 0?n:r.custom,e)}const oP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lP=["initial",...oP],ix=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nm=new Set(ix),nu=e=>e*1e3,ru=e=>e/1e3,eDe={type:"spring",stiffness:500,damping:25,restSpeed:10},tDe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),nDe={type:"keyframes",duration:.8},rDe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sDe=(e,{keyframes:t})=>t.length>2?nDe:nm.has(e)?e.startsWith("scale")?tDe(t[1]):eDe:rDe;function cP(e,t){return e?e[t]||e.default||e:void 0}const aDe={useManualTiming:!1},iDe=e=>e!==null;function y_(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(iDe),a=t&&n!=="loop"&&t%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const _i=e=>e;let Qie=_i;function oDe(e){let t=new Set,n=new Set,r=!1,s=!1;const a=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function l(u){a.has(u)&&(c.schedule(u),e()),u(i)}const c={schedule:(u,d=!1,h=!1)=>{const g=h&&r?t:n;return d&&a.add(u),g.has(u)||g.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(i=u,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,s&&(s=!1,c.process(u))}};return c}const z3=["read","resolveKeyframes","update","preRender","render","postRender"],lDe=40;function Xie(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,i=z3.reduce((w,C)=>(w[C]=oDe(a),w),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:m}=i,g=()=>{const w=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(w-s.timestamp,lDe),1),s.timestamp=w,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),m.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(g))},v=()=>{n=!0,r=!0,s.isProcessing||e(g)};return{schedule:z3.reduce((w,C)=>{const S=i[C];return w[C]=(k,E=!1,T=!1)=>(n||v(),S.schedule(k,E,T)),w},{}),cancel:w=>{for(let C=0;C<z3.length;C++)i[z3[C]].cancel(w)},state:s,steps:i}}const{schedule:mr,cancel:Od,state:Gs,steps:A7}=Xie(typeof requestAnimationFrame<"u"?requestAnimationFrame:_i,!0),Zie=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,cDe=1e-7,uDe=12;function dDe(e,t,n,r,s){let a,i,l=0;do i=t+(n-t)/2,a=Zie(i,r,s)-e,a>0?n=i:t=i;while(Math.abs(a)>cDe&&++l<uDe);return i}function Hl(e,t,n,r){if(e===t&&n===r)return _i;const s=a=>dDe(a,0,1,e,n);return a=>a===0||a===1?a:Zie(s(a),t,r)}const Jie=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,eoe=e=>t=>1-e(1-t),toe=Hl(.33,1.53,.69,.99),uP=eoe(toe),noe=Jie(uP),roe=e=>(e*=2)<1?.5*uP(e):.5*(2-Math.pow(2,-10*(e-1))),dP=e=>1-Math.sin(Math.acos(e)),soe=eoe(dP),aoe=Jie(dP),ioe=e=>/^0[^.\s]+$/u.test(e);function fDe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ioe(e):!0}const ooe=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),loe=e=>t=>typeof t=="string"&&t.startsWith(e),coe=loe("--"),hDe=loe("var(--"),fP=e=>hDe(e)?mDe.test(e.split("/*")[0].trim()):!1,mDe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,pDe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function gDe(e){const t=pDe.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function uoe(e,t,n=1){const[r,s]=gDe(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const i=a.trim();return ooe(i)?parseFloat(i):i}return fP(s)?uoe(s,t,n+1):s}const iu=(e,t,n)=>n>t?t:n<e?e:n,hg={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Y2={...hg,transform:e=>iu(0,1,e)},H3={...hg,default:1},ox=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ld=ox("deg"),Rl=ox("%"),qt=ox("px"),vDe=ox("vh"),yDe=ox("vw"),_q={...Rl,parse:e=>Rl.parse(e)/100,transform:e=>Rl.transform(e*100)},xDe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Cq=e=>e===hg||e===qt,Sq=(e,t)=>parseFloat(e.split(", ")[t]),Mq=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Sq(s[1],t);{const a=r.match(/^matrix\((.+)\)$/u);return a?Sq(a[1],e):0}},bDe=new Set(["x","y","z"]),wDe=ix.filter(e=>!bDe.has(e));function _De(e){const t=[];return wDe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const v1={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Mq(4,13),y:Mq(5,14)};v1.translateX=v1.x;v1.translateY=v1.y;const doe=e=>t=>t.test(e),CDe={test:e=>e==="auto",parse:e=>e},foe=[hg,qt,Rl,ld,yDe,vDe,CDe],kq=e=>foe.find(doe(e)),yh=new Set;let _j=!1,Cj=!1;function hoe(){if(Cj){const e=Array.from(yh).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=_De(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,i])=>{var l;(l=r.getValue(a))===null||l===void 0||l.set(i)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Cj=!1,_j=!1,yh.forEach(e=>e.complete()),yh.clear()}function moe(){yh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Cj=!0)})}function SDe(){moe(),hoe()}class hP{constructor(t,n,r,s,a,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(yh.add(this),_j||(_j=!0,mr.read(moe),mr.resolveKeyframes(hoe))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const i=s?.get(),l=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&i===void 0&&s.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),yh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,yh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const a2=e=>Math.round(e*1e5)/1e5,mP=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function MDe(e){return e==null}const kDe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pP=(e,t)=>n=>!!(typeof n=="string"&&kDe.test(n)&&n.startsWith(e)||t&&!MDe(n)&&Object.prototype.hasOwnProperty.call(n,t)),poe=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,a,i,l]=r.match(mP);return{[e]:parseFloat(s),[t]:parseFloat(a),[n]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},EDe=e=>iu(0,255,e),R7={...hg,transform:e=>Math.round(EDe(e))},ch={test:pP("rgb","red"),parse:poe("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+R7.transform(e)+", "+R7.transform(t)+", "+R7.transform(n)+", "+a2(Y2.transform(r))+")"};function TDe(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Sj={test:pP("#"),parse:TDe,transform:ch.transform},Tp={test:pP("hsl","hue"),parse:poe("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Rl.transform(a2(t))+", "+Rl.transform(a2(n))+", "+a2(Y2.transform(r))+")"},aa={test:e=>ch.test(e)||Sj.test(e)||Tp.test(e),parse:e=>ch.test(e)?ch.parse(e):Tp.test(e)?Tp.parse(e):Sj.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ch.transform(e):Tp.transform(e)},NDe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jDe(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(mP))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(NDe))===null||n===void 0?void 0:n.length)||0)>0}const goe="number",voe="color",ADe="var",RDe="var(",Eq="${}",LDe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function K2(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const l=t.replace(LDe,c=>(aa.test(c)?(r.color.push(a),s.push(voe),n.push(aa.parse(c))):c.startsWith(RDe)?(r.var.push(a),s.push(ADe),n.push(c)):(r.number.push(a),s.push(goe),n.push(parseFloat(c))),++a,Eq)).split(Eq);return{values:n,split:l,indexes:r,types:s}}function yoe(e){return K2(e).values}function xoe(e){const{split:t,types:n}=K2(e),r=t.length;return s=>{let a="";for(let i=0;i<r;i++)if(a+=t[i],s[i]!==void 0){const l=n[i];l===goe?a+=a2(s[i]):l===voe?a+=aa.transform(s[i]):a+=s[i]}return a}}const ODe=e=>typeof e=="number"?0:e;function PDe(e){const t=yoe(e);return xoe(e)(t.map(ODe))}const Pd={test:jDe,parse:yoe,createTransformer:xoe,getAnimatableNone:PDe},IDe=new Set(["brightness","contrast","saturate","opacity"]);function DDe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(mP)||[];if(!r)return e;const s=n.replace(r,"");let a=IDe.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+s+")"}const FDe=/\b([a-z-]*)\(.*?\)/gu,Mj={...Pd,getAnimatableNone:e=>{const t=e.match(FDe);return t?t.map(DDe).join(" "):e}},UDe={borderWidth:qt,borderTopWidth:qt,borderRightWidth:qt,borderBottomWidth:qt,borderLeftWidth:qt,borderRadius:qt,radius:qt,borderTopLeftRadius:qt,borderTopRightRadius:qt,borderBottomRightRadius:qt,borderBottomLeftRadius:qt,width:qt,maxWidth:qt,height:qt,maxHeight:qt,top:qt,right:qt,bottom:qt,left:qt,padding:qt,paddingTop:qt,paddingRight:qt,paddingBottom:qt,paddingLeft:qt,margin:qt,marginTop:qt,marginRight:qt,marginBottom:qt,marginLeft:qt,backgroundPositionX:qt,backgroundPositionY:qt},BDe={rotate:ld,rotateX:ld,rotateY:ld,rotateZ:ld,scale:H3,scaleX:H3,scaleY:H3,scaleZ:H3,skew:ld,skewX:ld,skewY:ld,distance:qt,translateX:qt,translateY:qt,translateZ:qt,x:qt,y:qt,z:qt,perspective:qt,transformPerspective:qt,opacity:Y2,originX:_q,originY:_q,originZ:qt},Tq={...hg,transform:Math.round},gP={...UDe,...BDe,zIndex:Tq,size:qt,fillOpacity:Y2,strokeOpacity:Y2,numOctaves:Tq},VDe={...gP,color:aa,backgroundColor:aa,outlineColor:aa,fill:aa,stroke:aa,borderColor:aa,borderTopColor:aa,borderRightColor:aa,borderBottomColor:aa,borderLeftColor:aa,filter:Mj,WebkitFilter:Mj},vP=e=>VDe[e];function boe(e,t){let n=vP(e);return n!==Mj&&(n=Pd),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const zDe=new Set(["auto","none","0"]);function HDe(e,t,n){let r=0,s;for(;r<e.length&&!s;){const a=e[r];typeof a=="string"&&!zDe.has(a)&&K2(a).values.length&&(s=e[r]),r++}if(s&&n)for(const a of t)e[a]=boe(n,s)}class woe extends hP{constructor(t,n,r,s,a){super(t,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),fP(u))){const d=uoe(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!xDe.has(r)||t.length!==2)return;const[s,a]=t,i=kq(s),l=kq(a);if(i!==l)if(Cq(i)&&Cq(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)fDe(t[s])&&r.push(s);r.length&&HDe(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=v1[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=s.length-1,l=s[i];s[i]=v1[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function yP(e){return typeof e=="function"}let y5;function WDe(){y5=void 0}const Ll={now:()=>(y5===void 0&&Ll.set(Gs.isProcessing||aDe.useManualTiming?Gs.timestamp:performance.now()),y5),set:e=>{y5=e,queueMicrotask(WDe)}},Nq=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Pd.test(e)||e==="0")&&!e.startsWith("url("));function $De(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function qDe(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],i=Nq(s,t),l=Nq(a,t);return!i||!l?!1:$De(e)||(n==="spring"||yP(n))&&r}const GDe=40;class _oe{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:i="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ll.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:i,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>GDe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&SDe(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Ll.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:i,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!qDe(t,r,s,a))if(i)this.options.duration=0;else{c?.(y_(t,this.options,n)),l?.(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const y1=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Coe=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let a=0;a<s;a++)r+=e(y1(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function Soe(e,t){return t?e*(1e3/t):0}const YDe=5;function Moe(e,t,n){const r=Math.max(t-YDe,0);return Soe(n-e(r),t-r)}const Ir={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jq=.001;function KDe({duration:e=Ir.duration,bounce:t=Ir.bounce,velocity:n=Ir.velocity,mass:r=Ir.mass}){let s,a,i=1-t;i=iu(Ir.minDamping,Ir.maxDamping,i),e=iu(Ir.minDuration,Ir.maxDuration,ru(e)),i<1?(s=u=>{const d=u*i,h=d*e,m=d-n,g=kj(u,i),v=Math.exp(-h);return jq-m/g*v},a=u=>{const h=u*i*e,m=h*n+n,g=Math.pow(i,2)*Math.pow(u,2)*e,v=Math.exp(-h),x=kj(Math.pow(u,2),i);return(-s(u)+jq>0?-1:1)*((m-g)*v)/x}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-.001+d*h},a=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const l=5/e,c=XDe(s,a,l);if(e=nu(e),isNaN(c))return{stiffness:Ir.stiffness,damping:Ir.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:e}}}const QDe=12;function XDe(e,t,n){let r=n;for(let s=1;s<QDe;s++)r=r-e(r)/t(r);return r}function kj(e,t){return e*Math.sqrt(1-t*t)}const Ej=2e4;function koe(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Ej;)t+=n,r=e.next(t);return t>=Ej?1/0:t}const ZDe=["duration","bounce"],JDe=["stiffness","damping","mass"];function Aq(e,t){return t.some(n=>e[n]!==void 0)}function eFe(e){let t={velocity:Ir.velocity,stiffness:Ir.stiffness,damping:Ir.damping,mass:Ir.mass,isResolvedFromDuration:!1,...e};if(!Aq(e,JDe)&&Aq(e,ZDe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*iu(.05,1,1-e.bounce)*Math.sqrt(s);t={...t,mass:Ir.mass,stiffness:s,damping:a}}else{const n=KDe(e);t={...t,...n,mass:Ir.mass},t.isResolvedFromDuration=!0}return t}function Eoe(e=Ir.visualDuration,t=Ir.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],i=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:h,velocity:m,isResolvedFromDuration:g}=eFe({...n,velocity:-ru(n.velocity||0)}),v=m||0,x=u/(2*Math.sqrt(c*d)),b=i-a,w=ru(Math.sqrt(c/d)),C=Math.abs(b)<5;r||(r=C?Ir.restSpeed.granular:Ir.restSpeed.default),s||(s=C?Ir.restDelta.granular:Ir.restDelta.default);let S;if(x<1){const E=kj(w,x);S=T=>{const j=Math.exp(-x*w*T);return i-j*((v+x*w*b)/E*Math.sin(E*T)+b*Math.cos(E*T))}}else if(x===1)S=E=>i-Math.exp(-w*E)*(b+(v+w*b)*E);else{const E=w*Math.sqrt(x*x-1);S=T=>{const j=Math.exp(-x*w*T),N=Math.min(E*T,300);return i-j*((v+x*w*b)*Math.sinh(N)+E*b*Math.cosh(N))/E}}const k={calculatedDuration:g&&h||null,next:E=>{const T=S(E);if(g)l.done=E>=h;else{let j=0;x<1&&(j=E===0?nu(v):Moe(S,E,T));const N=Math.abs(j)<=r,R=Math.abs(i-T)<=s;l.done=N&&R}return l.value=l.done?i:T,l},toString:()=>{const E=Math.min(koe(k),Ej),T=Coe(j=>k.next(E*j).value,E,30);return E+"ms "+T}};return k}function Rq({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],m={done:!1,value:h},g=N=>l!==void 0&&N<l||c!==void 0&&N>c,v=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let x=n*t;const b=h+x,w=i===void 0?b:i(b);w!==b&&(x=w-h);const C=N=>-x*Math.exp(-N/r),S=N=>w+C(N),k=N=>{const R=C(N),O=S(N);m.done=Math.abs(R)<=u,m.value=m.done?w:O};let E,T;const j=N=>{g(m.value)&&(E=N,T=Eoe({keyframes:[m.value,v(m.value)],velocity:Moe(S,N,m.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return j(0),{calculatedDuration:null,next:N=>{let R=!1;return!T&&E===void 0&&(R=!0,k(N),j(N)),E!==void 0&&N>=E?T.next(N-E):(!R&&k(N),m)}}}const Toe=Hl(.42,0,1,1),Mi=Hl(0,0,.58,1),qc=Hl(.42,0,.58,1),tFe=e=>Array.isArray(e)&&typeof e[0]!="number",xP=e=>Array.isArray(e)&&typeof e[0]=="number",nFe={linear:_i,easeIn:Toe,easeInOut:qc,easeOut:Mi,circIn:dP,circInOut:aoe,circOut:soe,backIn:uP,backInOut:noe,backOut:toe,anticipate:roe},Lq=e=>{if(xP(e)){Qie(e.length===4);const[t,n,r,s]=e;return Hl(t,n,r,s)}else if(typeof e=="string")return nFe[e];return e},rFe=(e,t)=>n=>t(e(n)),lx=(...e)=>e.reduce(rFe),jr=(e,t,n)=>e+(t-e)*n;function L7(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function sFe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,a=0,i=0;if(!t)s=a=i=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;s=L7(c,l,e+1/3),a=L7(c,l,e),i=L7(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(i*255),alpha:r}}function iw(e,t){return n=>n>0?t:e}const O7=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},aFe=[Sj,ch,Tp],iFe=e=>aFe.find(t=>t.test(e));function Oq(e){const t=iFe(e);if(!t)return!1;let n=t.parse(e);return t===Tp&&(n=sFe(n)),n}const Pq=(e,t)=>{const n=Oq(e),r=Oq(t);if(!n||!r)return iw(e,t);const s={...n};return a=>(s.red=O7(n.red,r.red,a),s.green=O7(n.green,r.green,a),s.blue=O7(n.blue,r.blue,a),s.alpha=jr(n.alpha,r.alpha,a),ch.transform(s))},Tj=new Set(["none","hidden"]);function oFe(e,t){return Tj.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function lFe(e,t){return n=>jr(e,t,n)}function bP(e){return typeof e=="number"?lFe:typeof e=="string"?fP(e)?iw:aa.test(e)?Pq:dFe:Array.isArray(e)?Noe:typeof e=="object"?aa.test(e)?Pq:cFe:iw}function Noe(e,t){const n=[...e],r=n.length,s=e.map((a,i)=>bP(a)(a,t[i]));return a=>{for(let i=0;i<r;i++)n[i]=s[i](a);return n}}function cFe(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=bP(e[s])(e[s],t[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function uFe(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],l=e.indexes[i][s[i]],c=(n=e.values[l])!==null&&n!==void 0?n:0;r[a]=c,s[i]++}return r}const dFe=(e,t)=>{const n=Pd.createTransformer(t),r=K2(e),s=K2(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Tj.has(e)&&!s.values.length||Tj.has(t)&&!r.values.length?oFe(e,t):lx(Noe(uFe(r,s),s.values),n):iw(e,t)};function joe(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?jr(e,t,n):bP(e)(e,t)}function fFe(e,t,n){const r=[],s=n||joe,a=e.length-1;for(let i=0;i<a;i++){let l=s(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||_i:t;l=lx(c,l)}r.push(l)}return r}function hFe(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const a=e.length;if(Qie(a===t.length),a===1)return()=>t[0];if(a===2&&e[0]===e[1])return()=>t[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=fFe(t,r,s),l=i.length,c=u=>{let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=y1(e[d],e[d+1],u);return i[d](h)};return n?u=>c(iu(e[0],e[a-1],u)):c}function mFe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=y1(0,t,r);e.push(jr(n,1,s))}}function pFe(e){const t=[0];return mFe(t,e.length-1),t}function gFe(e,t){return e.map(n=>n*t)}function vFe(e,t){return e.map(()=>t||qc).splice(0,e.length-1)}function ow({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=tFe(r)?r.map(Lq):Lq(r),a={done:!1,value:t[0]},i=gFe(n&&n.length===t.length?n:pFe(t),e),l=hFe(i,t,{ease:Array.isArray(s)?s:vFe(t,s)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const yFe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>mr.update(t,!0),stop:()=>Od(t),now:()=>Gs.isProcessing?Gs.timestamp:Ll.now()}},xFe={decay:Rq,inertia:Rq,tween:ow,keyframes:ow,spring:Eoe},bFe=e=>e/100;class wP extends _oe{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:s,keyframes:a}=this.options,i=s?.KeyframeResolver||hP,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new i(a,l,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:i=0}=this.options,l=yP(n)?n:xFe[n]||ow;let c,u;l!==ow&&typeof t[0]!="number"&&(c=lx(bFe,joe(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});a==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=koe(d));const{calculatedDuration:h}=d,m=h+s,g=m*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:m,totalDuration:g}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:N}=this.options;return{done:!0,value:N[N.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:i,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return a.next(0);const{delay:m,repeat:g,repeatType:v,repeatDelay:x,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const w=this.currentTime-m*(this.speed>=0?1:-1),C=this.speed>=0?w<0:w>d;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let S=this.currentTime,k=a;if(g){const N=Math.min(this.currentTime,d)/h;let R=Math.floor(N),O=N%1;!O&&N>=1&&(O=1),O===1&&R--,R=Math.min(R,g+1),!!(R%2)&&(v==="reverse"?(O=1-O,x&&(O-=x/h)):v==="mirror"&&(k=i)),S=iu(0,1,O)*h}const E=C?{done:!1,value:c[0]}:k.next(S);l&&(E.value=l(E.value));let{done:T}=E;!C&&u!==null&&(T=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return j&&s!==void 0&&(E.value=y_(c,this.options,s)),b&&b(E.value),j&&this.finish(),E}get duration(){const{resolved:t}=this;return t?ru(t.calculatedDuration):0}get time(){return ru(this.currentTime)}set time(t){t=nu(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ru(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=yFe,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const wFe=new Set(["opacity","clipPath","filter","transform"]);function _P(e){let t;return()=>(t===void 0&&(t=e()),t)}const _Fe={linearEasing:void 0};function CFe(e,t){const n=_P(e);return()=>{var r;return(r=_Fe[t])!==null&&r!==void 0?r:n()}}const lw=CFe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function Aoe(e){return!!(typeof e=="function"&&lw()||!e||typeof e=="string"&&(e in Nj||lw())||xP(e)||Array.isArray(e)&&e.every(Aoe))}const Fv=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Nj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fv([0,.65,.55,1]),circOut:Fv([.55,0,1,.45]),backIn:Fv([.31,.01,.66,-.59]),backOut:Fv([.33,1.53,.69,.99])};function Roe(e,t){if(e)return typeof e=="function"&&lw()?Coe(e,t):xP(e)?Fv(e):Array.isArray(e)?e.map(n=>Roe(n,t)||Nj.easeOut):Nj[e]}function SFe(e,t,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:i="loop",ease:l="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=Roe(l,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:i==="reverse"?"alternate":"normal"})}function Iq(e,t){e.timeline=t,e.onfinish=null}const MFe=_P(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),cw=10,kFe=2e4;function EFe(e){return yP(e.type)||e.type==="spring"||!Aoe(e.ease)}function TFe(e,t){const n=new wP({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let a=0;for(;!r.done&&a<kFe;)r=n.sample(a),s.push(r.value),a+=cw;return{times:void 0,keyframes:s,duration:a-cw,ease:"linear"}}const Loe={anticipate:roe,backInOut:noe,circInOut:aoe};function NFe(e){return e in Loe}class Dq extends _oe{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new woe(a,(i,l)=>this.onKeyframesResolved(i,l),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:s=300,times:a,ease:i,type:l,motionValue:c,name:u,startTime:d}=this.options;if(!(!((r=c.owner)===null||r===void 0)&&r.current))return!1;if(typeof i=="string"&&lw()&&NFe(i)&&(i=Loe[i]),EFe(this.options)){const{onComplete:m,onUpdate:g,motionValue:v,element:x,...b}=this.options,w=TFe(t,b);t=w.keyframes,t.length===1&&(t[1]=t[0]),s=w.duration,a=w.times,i=w.ease,l="keyframes"}const h=SFe(c.owner.current,u,t,{...this.options,duration:s,times:a,ease:i});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(Iq(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:m}=this.options;c.set(y_(t,this.options,n)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:s,times:a,type:l,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return ru(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return ru(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=nu(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return _i;const{animation:r}=n;Iq(r,t)}return _i}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:a,ease:i,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:m,...g}=this.options,v=new wP({...g,keyframes:r,duration:s,type:a,ease:i,times:l,isGenerator:!0}),x=nu(this.time);u.setWithVelocity(v.sample(x-cw).value,v.sample(x).value,cw)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:a,damping:i,type:l}=t;return MFe()&&r&&wFe.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&a!=="mirror"&&i!==0&&l!=="inertia"}}const jFe=_P(()=>window.ScrollTimeline!==void 0);class AFe{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>jFe()&&s.attachTimeline?s.attachTimeline(t):n(s));return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function RFe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const CP=(e,t,n,r={},s,a)=>i=>{const l=cP(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-nu(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{i(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:s};RFe(l)||(d={...d,...sDe(e,d)}),d.duration&&(d.duration=nu(d.duration)),d.repeatDelay&&(d.repeatDelay=nu(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!a&&t.get()!==void 0){const m=y_(d.keyframes,l);if(m!==void 0)return mr.update(()=>{d.onUpdate(m),d.onComplete()}),new AFe([])}return!a&&Dq.supports(d)?new Dq(d):new wP(d)},LFe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),OFe=e=>wj(e)?e[e.length-1]||0:e;function SP(e,t){e.indexOf(t)===-1&&e.push(t)}function MP(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class kP{constructor(){this.subscriptions=[]}add(t){return SP(this.subscriptions,t),()=>MP(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let a=0;a<s;a++){const i=this.subscriptions[a];i&&i(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Fq=30,PFe=e=>!isNaN(parseFloat(e));class IFe{constructor(t,n={}){this.version="11.15.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=Ll.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ll.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=PFe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new kP);const r=this.events[t].add(n);return t==="change"?()=>{r(),mr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ll.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Fq)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Fq);return Soe(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Q2(e,t){return new IFe(e,t)}function DFe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Q2(n))}function FFe(e,t){const n=v_(e,t);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const i in a){const l=OFe(a[i]);DFe(e,i,l)}}const EP=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),UFe="framerAppearId",Ooe="data-"+EP(UFe);function Poe(e){return e.props[Ooe]}const ha=e=>!!(e&&e.getVelocity);function BFe(e){return!!(ha(e)&&e.add)}function jj(e,t){const n=e.getValue("willChange");if(BFe(n))return n.add(t)}function VFe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Ioe(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var a;let{transition:i=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(i=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in c){const m=e.getValue(h,(a=e.latestValues[h])!==null&&a!==void 0?a:null),g=c[h];if(g===void 0||d&&VFe(d,h))continue;const v={delay:n,...cP(i||{},h)};let x=!1;if(window.MotionHandoffAnimation){const w=Poe(e);if(w){const C=window.MotionHandoffAnimation(w,h,mr);C!==null&&(v.startTime=C,x=!0)}}jj(e,h),m.start(CP(h,m,g,e.shouldReduceMotion&&nm.has(h)?{type:!1}:v,e,x));const b=m.animation;b&&u.push(b)}return l&&Promise.all(u).then(()=>{mr.update(()=>{l&&FFe(e,l)})}),u}function Aj(e,t,n={}){var r;const s=v_(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const i=s?()=>Promise.all(Ioe(e,s,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=a;return zFe(e,t,d+u,h,m,n)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,d]=c==="beforeChildren"?[i,l]:[l,i];return u().then(()=>d())}else return Promise.all([i(),l(n.delay)])}function zFe(e,t,n=0,r=0,s=1,a){const i=[],l=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(HFe).forEach((u,d)=>{u.notify("AnimationStart",t),i.push(Aj(u,t,{...a,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(i)}function HFe(e,t){return e.sortNodePosition(t)}function WFe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(a=>Aj(e,a,n));r=Promise.all(s)}else if(typeof t=="string")r=Aj(e,t,n);else{const s=typeof t=="function"?v_(e,t,n.custom):t;r=Promise.all(Ioe(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const $Fe=lP.length;function Doe(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Doe(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<$Fe;n++){const r=lP[n],s=e.props[r];(G2(s)||s===!1)&&(t[r]=s)}return t}const qFe=[...oP].reverse(),GFe=oP.length;function YFe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>WFe(e,n,r)))}function KFe(e){let t=YFe(e),n=Uq(),r=!0;const s=c=>(u,d)=>{var h;const m=v_(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:g,transitionEnd:v,...x}=m;u={...u,...x,...v}}return u};function a(c){t=c(e)}function i(c){const{props:u}=e,d=Doe(e.parent)||{},h=[],m=new Set;let g={},v=1/0;for(let b=0;b<GFe;b++){const w=qFe[b],C=n[w],S=u[w]!==void 0?u[w]:d[w],k=G2(S),E=w===c?C.isActive:null;E===!1&&(v=b);let T=S===d[w]&&S!==u[w]&&k;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),C.protectedKeys={...g},!C.isActive&&E===null||!S&&!C.prevProp||g_(S)||typeof S=="boolean")continue;const j=QFe(C.prevProp,S);let N=j||w===c&&C.isActive&&!T&&k||b>v&&k,R=!1;const O=Array.isArray(S)?S:[S];let I=O.reduce(s(w),{});E===!1&&(I={});const{prevResolvedValues:B={}}=C,D={...B,...I},z=H=>{N=!0,m.has(H)&&(R=!0,m.delete(H)),C.needsAnimating[H]=!0;const q=e.getValue(H);q&&(q.liveStyle=!1)};for(const H in D){const q=I[H],$=B[H];if(g.hasOwnProperty(H))continue;let G=!1;wj(q)&&wj($)?G=!Kie(q,$):G=q!==$,G?q!=null?z(H):m.add(H):q!==void 0&&m.has(H)?z(H):C.protectedKeys[H]=!0}C.prevProp=S,C.prevResolvedValues=I,C.isActive&&(g={...g,...I}),r&&e.blockInitialAnimation&&(N=!1),N&&(!(T&&j)||R)&&h.push(...O.map(H=>({animation:H,options:{type:w}})))}if(m.size){const b={};m.forEach(w=>{const C=e.getBaseTarget(w),S=e.getValue(w);S&&(S.liveStyle=!0),b[w]=C??null}),h.push({animation:b})}let x=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(h):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(c,u)}),n[c].isActive=u;const h=i(c);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:i,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Uq(),r=!0}}}function QFe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Kie(t,e):!1}function qf(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Uq(){return{animate:qf(!0),whileInView:qf(),whileHover:qf(),whileTap:qf(),whileDrag:qf(),whileFocus:qf(),exit:qf()}}class Jd{constructor(t){this.isMounted=!1,this.node=t}update(){}}class XFe extends Jd{constructor(t){super(t),t.animationState||(t.animationState=KFe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();g_(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let ZFe=0;class JFe extends Jd{constructor(){super(...arguments),this.id=ZFe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const eUe={animation:{Feature:XFe},exit:{Feature:JFe}},Ao={x:!1,y:!1};function Foe(){return Ao.x||Ao.y}function Uoe(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;t&&(s=t.current);const a=(r=n?.[e])!==null&&r!==void 0?r:s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function Boe(e,t){const n=Uoe(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function Bq(e){return t=>{t.pointerType==="touch"||Foe()||e(t)}}function tUe(e,t,n={}){const[r,s,a]=Boe(e,n),i=Bq(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const d=Bq(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return r.forEach(l=>{l.addEventListener("pointerenter",i,s)}),a}const Voe=(e,t)=>t?e===t?!0:Voe(e,t.parentElement):!1,TP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,nUe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function rUe(e){return nUe.has(e.tagName)||e.tabIndex!==-1}const Uv=new WeakSet;function Vq(e){return t=>{t.key==="Enter"&&e(t)}}function P7(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const sUe=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Vq(()=>{if(Uv.has(n))return;P7(n,"down");const s=Vq(()=>{P7(n,"up")}),a=()=>P7(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function zq(e){return TP(e)&&!Foe()}function aUe(e,t,n={}){const[r,s,a]=Boe(e,n),i=l=>{const c=l.currentTarget;if(!zq(l)||Uv.has(c))return;Uv.add(c);const u=t(l),d=(g,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),!(!zq(g)||!Uv.has(c))&&(Uv.delete(c),typeof u=="function"&&u(g,{success:v}))},h=g=>{d(g,n.useGlobalTarget||Voe(c,g.target))},m=g=>{d(g,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",m,s)};return r.forEach(l=>{!rUe(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",i,s),l.addEventListener("focus",u=>sUe(u,s),s)}),a}function iUe(e){return e==="x"||e==="y"?Ao[e]?null:(Ao[e]=!0,()=>{Ao[e]=!1}):Ao.x||Ao.y?null:(Ao.x=Ao.y=!0,()=>{Ao.x=Ao.y=!1})}function cx(e){return{point:{x:e.pageX,y:e.pageY}}}const oUe=e=>t=>TP(t)&&e(t,cx(t));function X2(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function i2(e,t,n,r){return X2(e,t,oUe(n),r)}const Hq=(e,t)=>Math.abs(e-t);function lUe(e,t){const n=Hq(e.x,t.x),r=Hq(e.y,t.y);return Math.sqrt(n**2+r**2)}class zoe{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=D7(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=lUe(h.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:v}=h,{timestamp:x}=Gs;this.history.push({...v,timestamp:x});const{onStart:b,onMove:w}=this.handlers;m||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=I7(m,this.transformPagePoint),mr.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=D7(h.type==="pointercancel"?this.lastMoveEventInfo:I7(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,b),v&&v(h,b)},!TP(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const i=cx(t),l=I7(i,this.transformPagePoint),{point:c}=l,{timestamp:u}=Gs;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,D7(l,this.history)),this.removeListeners=lx(i2(this.contextWindow,"pointermove",this.handlePointerMove),i2(this.contextWindow,"pointerup",this.handlePointerUp),i2(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Od(this.updatePoint)}}function I7(e,t){return t?{point:t(e.point)}:e}function Wq(e,t){return{x:e.x-t.x,y:e.y-t.y}}function D7({point:e},t){return{point:e,delta:Wq(e,Hoe(t)),offset:Wq(e,cUe(t)),velocity:uUe(t,.1)}}function cUe(e){return e[0]}function Hoe(e){return e[e.length-1]}function uUe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Hoe(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>nu(t)));)n--;if(!r)return{x:0,y:0};const a=ru(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const i={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Np(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const Woe=1e-4,dUe=1-Woe,fUe=1+Woe,$oe=.01,hUe=0-$oe,mUe=0+$oe;function ki(e){return e.max-e.min}function pUe(e,t,n){return Math.abs(e-t)<=n}function $q(e,t,n,r=.5){e.origin=r,e.originPoint=jr(t.min,t.max,e.origin),e.scale=ki(n)/ki(t),e.translate=jr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=dUe&&e.scale<=fUe||isNaN(e.scale))&&(e.scale=1),(e.translate>=hUe&&e.translate<=mUe||isNaN(e.translate))&&(e.translate=0)}function o2(e,t,n,r){$q(e.x,t.x,n.x,r?r.originX:void 0),$q(e.y,t.y,n.y,r?r.originY:void 0)}function qq(e,t,n){e.min=n.min+t.min,e.max=e.min+ki(t)}function gUe(e,t,n){qq(e.x,t.x,n.x),qq(e.y,t.y,n.y)}function Gq(e,t,n){e.min=t.min-n.min,e.max=e.min+ki(t)}function l2(e,t,n){Gq(e.x,t.x,n.x),Gq(e.y,t.y,n.y)}function vUe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?jr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?jr(n,e,r.max):Math.min(e,n)),e}function Yq(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function yUe(e,{top:t,left:n,bottom:r,right:s}){return{x:Yq(e.x,n,s),y:Yq(e.y,t,r)}}function Kq(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function xUe(e,t){return{x:Kq(e.x,t.x),y:Kq(e.y,t.y)}}function bUe(e,t){let n=.5;const r=ki(e),s=ki(t);return s>r?n=y1(t.min,t.max-r,e.min):r>s&&(n=y1(e.min,e.max-s,t.min)),iu(0,1,n)}function wUe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Rj=.35;function _Ue(e=Rj){return e===!1?e=0:e===!0&&(e=Rj),{x:Qq(e,"left","right"),y:Qq(e,"top","bottom")}}function Qq(e,t,n){return{min:Xq(e,t),max:Xq(e,n)}}function Xq(e,t){return typeof e=="number"?e:e[t]||0}const Zq=()=>({translate:0,scale:1,origin:0,originPoint:0}),jp=()=>({x:Zq(),y:Zq()}),Jq=()=>({min:0,max:0}),Hr=()=>({x:Jq(),y:Jq()});function Gi(e){return[e("x"),e("y")]}function qoe({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function CUe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function SUe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function F7(e){return e===void 0||e===1}function Lj({scale:e,scaleX:t,scaleY:n}){return!F7(e)||!F7(t)||!F7(n)}function rh(e){return Lj(e)||Goe(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Goe(e){return eG(e.x)||eG(e.y)}function eG(e){return e&&e!=="0%"}function uw(e,t,n){const r=e-n,s=t*r;return n+s}function tG(e,t,n,r,s){return s!==void 0&&(e=uw(e,s,r)),uw(e,n,r)+t}function Oj(e,t=0,n=1,r,s){e.min=tG(e.min,t,n,r,s),e.max=tG(e.max,t,n,r,s)}function Yoe(e,{x:t,y:n}){Oj(e.x,t.translate,t.scale,t.originPoint),Oj(e.y,n.translate,n.scale,n.originPoint)}const nG=.999999999999,rG=1.0000000000001;function MUe(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let a,i;for(let l=0;l<s;l++){a=n[l],i=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Rp(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,Yoe(e,i)),r&&rh(a.latestValues)&&Rp(e,a.latestValues))}t.x<rG&&t.x>nG&&(t.x=1),t.y<rG&&t.y>nG&&(t.y=1)}function Ap(e,t){e.min=e.min+t,e.max=e.max+t}function sG(e,t,n,r,s=.5){const a=jr(e.min,e.max,s);Oj(e,t,n,a,r)}function Rp(e,t){sG(e.x,t.x,t.scaleX,t.scale,t.originX),sG(e.y,t.y,t.scaleY,t.scale,t.originY)}function Koe(e,t){return qoe(SUe(e.getBoundingClientRect(),t))}function kUe(e,t,n){const r=Koe(e,n),{scroll:s}=t;return s&&(Ap(r.x,s.offset.x),Ap(r.y,s.offset.y)),r}const Qoe=({current:e})=>e?e.ownerDocument.defaultView:null,EUe=new WeakMap;class TUe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cx(d).point)},a=(d,h)=>{const{drag:m,dragPropagation:g,onDragStart:v}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=iUe(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gi(b=>{let w=this.getAxisMotionValue(b).get()||0;if(Rl.test(w)){const{projection:C}=this.visualElement;if(C&&C.layout){const S=C.layout.layoutBox[b];S&&(w=ki(S)*(parseFloat(w)/100))}}this.originPoint[b]=w}),v&&mr.postRender(()=>v(d,h)),jj(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},i=(d,h)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:v,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:b}=h;if(g&&this.currentDirection===null){this.currentDirection=NUe(b),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),x&&x(d,h)},l=(d,h)=>this.stop(d,h),c=()=>Gi(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new zoe(t,{onSessionStart:s,onStart:a,onMove:i,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Qoe(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&mr.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!W3(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=vUe(i,this.constraints[t],this.elastic[t])),a.set(i)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&Np(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=yUe(s.layoutBox,n):this.constraints=!1,this.elastic=_Ue(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Gi(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=wUe(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Np(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=kUe(r,s.root,this.visualElement.getTransformPagePoint());let i=xUe(s.layout.layoutBox,a);if(n){const l=n(CUe(i));this.hasMutatedConstraints=!!l,l&&(i=qoe(l))}return i}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Gi(d=>{if(!W3(d,n,this.currentDirection))return;let h=c&&c[d]||{};i&&(h={min:0,max:0});const m=s?200:1e6,g=s?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return jj(this.visualElement,t),r.start(CP(t,r,0,n,this.visualElement,!1))}stopAnimation(){Gi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Gi(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Gi(n=>{const{drag:r}=this.getProps();if(!W3(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:i,max:l}=s.layout.layoutBox[n];a.set(t[n]-jr(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Np(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Gi(i=>{const l=this.getAxisMotionValue(i);if(l&&this.constraints!==!1){const c=l.get();s[i]=bUe({min:c,max:c},this.constraints[i])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Gi(i=>{if(!W3(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(jr(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;EUe.set(this.visualElement,this);const t=this.visualElement.current,n=i2(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Np(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),mr.read(r);const i=X2(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Gi(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:i=Rj,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:i,dragMomentum:l}}}function W3(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function NUe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class jUe extends Jd{constructor(t){super(t),this.removeGroupControls=_i,this.removeListeners=_i,this.controls=new TUe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_i}unmount(){this.removeGroupControls(),this.removeListeners()}}const aG=e=>(t,n)=>{e&&mr.postRender(()=>e(t,n))};class AUe extends Jd{constructor(){super(...arguments),this.removePointerDownListener=_i}onPointerDown(t){this.session=new zoe(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Qoe(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:aG(t),onStart:aG(n),onMove:r,onEnd:(a,i)=>{delete this.session,s&&mr.postRender(()=>s(a,i))}}}mount(){this.removePointerDownListener=i2(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const x_=f.createContext(null);function RUe(){const e=f.useContext(x_);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=f.useId();f.useEffect(()=>r(s),[]);const a=f.useCallback(()=>n&&n(s),[s,n]);return!t&&n?[!1,a]:[!0]}const Z2=f.createContext({}),Xoe=f.createContext({}),x5={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function iG(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const uv={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(qt.test(e))e=parseFloat(e);else return e;const n=iG(e,t.target.x),r=iG(e,t.target.y);return`${n}% ${r}%`}},LUe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Pd.parse(e);if(s.length>5)return r;const a=Pd.createTransformer(e),i=typeof s[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;s[0+i]/=l,s[1+i]/=c;const u=jr(l,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),a(s)}},dw={};function OUe(e){Object.assign(dw,e)}const{schedule:NP}=Xie(queueMicrotask,!1);class PUe extends f.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=t;OUe(IUe),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),x5.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,i=r.projection;return i&&(i.isPresent=a,s||t.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?i.promote():i.relegate()||mr.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),NP.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Zoe(e){const[t,n]=RUe(),r=f.useContext(Z2);return o.jsx(PUe,{...e,layoutGroup:r,switchLayoutGroup:f.useContext(Xoe),isPresent:t,safeToRemove:n})}const IUe={borderRadius:{...uv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:uv,borderTopRightRadius:uv,borderBottomLeftRadius:uv,borderBottomRightRadius:uv,boxShadow:LUe},Joe=["TopLeft","TopRight","BottomLeft","BottomRight"],DUe=Joe.length,oG=e=>typeof e=="string"?parseFloat(e):e,lG=e=>typeof e=="number"||qt.test(e);function FUe(e,t,n,r,s,a){s?(e.opacity=jr(0,n.opacity!==void 0?n.opacity:1,UUe(r)),e.opacityExit=jr(t.opacity!==void 0?t.opacity:1,0,BUe(r))):a&&(e.opacity=jr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<DUe;i++){const l=`border${Joe[i]}Radius`;let c=cG(t,l),u=cG(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||lG(c)===lG(u)?(e[l]=Math.max(jr(oG(c),oG(u),r),0),(Rl.test(u)||Rl.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=jr(t.rotate||0,n.rotate||0,r))}function cG(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const UUe=ele(0,.5,soe),BUe=ele(.5,.95,_i);function ele(e,t,n){return r=>r<e?0:r>t?1:n(y1(e,t,r))}function uG(e,t){e.min=t.min,e.max=t.max}function Hi(e,t){uG(e.x,t.x),uG(e.y,t.y)}function dG(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function fG(e,t,n,r,s){return e-=t,e=uw(e,1/n,r),s!==void 0&&(e=uw(e,1/s,r)),e}function VUe(e,t=0,n=1,r=.5,s,a=e,i=e){if(Rl.test(t)&&(t=parseFloat(t),t=jr(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=jr(a.min,a.max,r);e===a&&(l-=t),e.min=fG(e.min,t,n,l,s),e.max=fG(e.max,t,n,l,s)}function hG(e,t,[n,r,s],a,i){VUe(e,t[n],t[r],t[s],t.scale,a,i)}const zUe=["x","scaleX","originX"],HUe=["y","scaleY","originY"];function mG(e,t,n,r){hG(e.x,t,zUe,n?n.x:void 0,r?r.x:void 0),hG(e.y,t,HUe,n?n.y:void 0,r?r.y:void 0)}function pG(e){return e.translate===0&&e.scale===1}function tle(e){return pG(e.x)&&pG(e.y)}function gG(e,t){return e.min===t.min&&e.max===t.max}function WUe(e,t){return gG(e.x,t.x)&&gG(e.y,t.y)}function vG(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function nle(e,t){return vG(e.x,t.x)&&vG(e.y,t.y)}function yG(e){return ki(e.x)/ki(e.y)}function xG(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class $Ue{constructor(){this.members=[]}add(t){SP(this.members,t),t.scheduleRender()}remove(t){if(MP(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qUe(e,t,n){let r="";const s=e.x.translate/t.x,a=e.y.translate/t.y,i=n?.z||0;if((s||a||i)&&(r=`translate3d(${s}px, ${a}px, ${i}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:m,skewX:g,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const GUe=(e,t)=>e.depth-t.depth;class YUe{constructor(){this.children=[],this.isDirty=!1}add(t){SP(this.children,t),this.isDirty=!0}remove(t){MP(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(GUe),this.isDirty=!1,this.children.forEach(t)}}function b5(e){const t=ha(e)?e.get():e;return LFe(t)?t.toValue():t}function KUe(e,t){const n=Ll.now(),r=({timestamp:s})=>{const a=s-n;a>=t&&(Od(r),e(a-t))};return mr.read(r,!0),()=>Od(r)}function QUe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function XUe(e,t,n){const r=ha(e)?e:Q2(e);return r.start(CP("",r,t,n)),r.animation}const sh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Bv=typeof window<"u"&&window.MotionDebug!==void 0,U7=["","X","Y","Z"],ZUe={visibility:"hidden"},bG=1e3;let JUe=0;function B7(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function rle(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Poe(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",mr,!(s||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&rle(r)}function sle({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},l=t?.()){this.id=JUe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Bv&&(sh.totalNodes=sh.resolvedTargetDeltas=sh.recalculatedProjection=0),this.nodes.forEach(nBe),this.nodes.forEach(oBe),this.nodes.forEach(lBe),this.nodes.forEach(rBe),Bv&&window.MotionDebug.record(sh)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new YUe)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new kP),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=QUe(i),this.instance=i;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const m=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=KUe(m,250),x5.hasAnimatedSinceResize&&(x5.hasAnimatedSinceResize=!1,this.nodes.forEach(_G))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||hBe,{onLayoutAnimationStart:b,onLayoutAnimationComplete:w}=d.getProps(),C=!this.targetLayout||!nle(this.targetLayout,v)||g,S=!m&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||m&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,S);const k={...cP(x,"layout"),onPlay:b,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else m||_G(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Od(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cBe),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rle(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wG);return}this.isUpdating||this.nodes.forEach(aBe),this.isUpdating=!1,this.nodes.forEach(iBe),this.nodes.forEach(eBe),this.nodes.forEach(tBe),this.clearAllSnapshots();const l=Ll.now();Gs.delta=iu(0,1e3/60,l-Gs.timestamp),Gs.timestamp=l,Gs.isProcessing=!0,A7.update.process(Gs),A7.preRender.process(Gs),A7.render.process(Gs),Gs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,NP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sBe),this.sharedNodes.forEach(uBe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Hr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!tle(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(l||rh(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),mBe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var i;const{visualElement:l}=this.options;if(!l)return Hr();const c=l.measureViewportBox();if(!(((i=this.scroll)===null||i===void 0?void 0:i.wasRoot)||this.path.some(pBe))){const{scroll:d}=this.root;d&&(Ap(c.x,d.offset.x),Ap(c.y,d.offset.y))}return c}removeElementScroll(i){var l;const c=Hr();if(Hi(c,i),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&Hi(c,i),Ap(c.x,h.offset.x),Ap(c.y,h.offset.y))}return c}applyTransform(i,l=!1){const c=Hr();Hi(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Rp(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),rh(d.latestValues)&&Rp(c,d.latestValues)}return rh(this.latestValues)&&Rp(c,this.latestValues),c}removeTransform(i){const l=Hr();Hi(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!rh(u.latestValues))continue;Lj(u.latestValues)&&u.updateSnapshot();const d=Hr(),h=u.measurePageBox();Hi(d,h),mG(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return rh(this.latestValues)&&mG(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=Gs.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hr(),this.relativeTargetOrigin=Hr(),l2(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Hi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Hr(),this.targetWithTransforms=Hr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gUe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hi(this.target,this.layout.layoutBox),Yoe(this.target,this.targetDelta)):Hi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hr(),this.relativeTargetOrigin=Hr(),l2(this.relativeTargetOrigin,this.target,g.target),Hi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Bv&&sh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Lj(this.parent.latestValues)||Goe(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Gs.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Hi(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;MUe(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Hr());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dG(this.prevProjectionDelta.x,this.projectionDelta.x),dG(this.prevProjectionDelta.y,this.projectionDelta.y)),o2(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!xG(this.projectionDelta.x,this.prevProjectionDelta.x)||!xG(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Bv&&sh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=jp(),this.projectionDelta=jp(),this.projectionDeltaWithTransform=jp()}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=jp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Hr(),g=c?c.source:void 0,v=this.layout?this.layout.source:void 0,x=g!==v,b=this.getStack(),w=!b||b.members.length<=1,C=!!(x&&!w&&this.options.crossfade===!0&&!this.path.some(fBe));this.animationProgress=0;let S;this.mixTargetDelta=k=>{const E=k/1e3;CG(h.x,i.x,E),CG(h.y,i.y,E),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(l2(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dBe(this.relativeTarget,this.relativeTargetOrigin,m,E),S&&WUe(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Hr()),Hi(S,this.relativeTarget)),x&&(this.animationValues=d,FUe(d,u,this.latestValues,E,C,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Od(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mr.update(()=>{x5.hasAnimatedSinceResize=!0,this.currentAnimation=XUe(0,bG,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bG),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&ale(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Hr();const h=ki(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+h;const m=ki(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+m}Hi(l,c),Rp(l,d),o2(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new $Ue),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:l}=this.options;return l?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:l}=this.options;return l?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&B7("z",i,u,this.animationValues);for(let d=0;d<U7.length;d++)B7(`rotate${U7[d]}`,i,u,this.animationValues),B7(`skew${U7[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}getProjectionStyles(i){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ZUe;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=b5(i?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=b5(i?.pointerEvents)||""),this.hasProjected&&!rh(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=qUe(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:g,y:v}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const x in dw){if(m[x]===void 0)continue;const{correct:b,applyTo:w}=dw[x],C=u.transform==="none"?m[x]:b(m[x],h);if(w){const S=w.length;for(let k=0;k<S;k++)u[w[k]]=C}else u[x]=C}return this.options.layoutId&&(u.pointerEvents=h===this?b5(i?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(wG),this.root.sharedNodes.clear()}}}function eBe(e){e.updateLayout()}function tBe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:a}=e.options,i=n.source!==e.layout.source;a==="size"?Gi(h=>{const m=i?n.measuredBox[h]:n.layoutBox[h],g=ki(m);m.min=r[h].min,m.max=m.min+g}):ale(a,n.layoutBox,r)&&Gi(h=>{const m=i?n.measuredBox[h]:n.layoutBox[h],g=ki(r[h]);m.max=m.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const l=jp();o2(l,r,n.layoutBox);const c=jp();i?o2(c,e.applyTransform(s,!0),n.measuredBox):o2(c,r,n.layoutBox);const u=!tle(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:g}=h;if(m&&g){const v=Hr();l2(v,n.layoutBox,m.layoutBox);const x=Hr();l2(x,r,g.layoutBox),nle(v,x)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function nBe(e){Bv&&sh.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function rBe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function sBe(e){e.clearSnapshot()}function wG(e){e.clearMeasurements()}function aBe(e){e.isLayoutDirty=!1}function iBe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function _G(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function oBe(e){e.resolveTargetDelta()}function lBe(e){e.calcProjection()}function cBe(e){e.resetSkewAndRotation()}function uBe(e){e.removeLeadSnapshot()}function CG(e,t,n){e.translate=jr(t.translate,0,n),e.scale=jr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function SG(e,t,n,r){e.min=jr(t.min,n.min,r),e.max=jr(t.max,n.max,r)}function dBe(e,t,n,r){SG(e.x,t.x,n.x,r),SG(e.y,t.y,n.y,r)}function fBe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const hBe={duration:.45,ease:[.4,0,.1,1]},MG=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),kG=MG("applewebkit/")&&!MG("chrome/")?Math.round:_i;function EG(e){e.min=kG(e.min),e.max=kG(e.max)}function mBe(e){EG(e.x),EG(e.y)}function ale(e,t,n){return e==="position"||e==="preserve-aspect"&&!pUe(yG(t),yG(n),.2)}function pBe(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const gBe=sle({attachResizeListener:(e,t)=>X2(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),V7={current:void 0},ile=sle({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!V7.current){const e=new gBe({});e.mount(window),e.setOptions({layoutScroll:!0}),V7.current=e}return V7.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),vBe={pan:{Feature:AUe},drag:{Feature:jUe,ProjectionNode:ile,MeasureLayout:Zoe}};function TG(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&mr.postRender(()=>a(t,cx(t)))}class yBe extends Jd{mount(){const{current:t}=this.node;t&&(this.unmount=tUe(t,n=>(TG(this.node,n,"Start"),r=>TG(this.node,r,"End"))))}unmount(){}}class xBe extends Jd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=lx(X2(this.node.current,"focus",()=>this.onFocus()),X2(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function NG(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&mr.postRender(()=>a(t,cx(t)))}class bBe extends Jd{mount(){const{current:t}=this.node;t&&(this.unmount=aUe(t,n=>(NG(this.node,n,"Start"),(r,{success:s})=>NG(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Pj=new WeakMap,z7=new WeakMap,wBe=e=>{const t=Pj.get(e.target);t&&t(e)},_Be=e=>{e.forEach(wBe)};function CBe({root:e,...t}){const n=e||document;z7.has(n)||z7.set(n,{});const r=z7.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(_Be,{root:e,...t})),r[s]}function SBe(e,t,n){const r=CBe(t);return Pj.set(e,n),r.observe(e),()=>{Pj.delete(e),r.unobserve(e)}}const MBe={some:0,all:1};class kBe extends Jd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=t,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:MBe[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=u?d:h;m&&m(c)};return SBe(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(EBe(t,n))&&this.startObserver()}unmount(){}}function EBe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const TBe={inView:{Feature:kBe},tap:{Feature:bBe},focus:{Feature:xBe},hover:{Feature:yBe}},NBe={layout:{ProjectionNode:ile,MeasureLayout:Zoe}},jP=f.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),b_=f.createContext({}),AP=typeof window<"u",RP=AP?f.useLayoutEffect:f.useEffect,ole=f.createContext({strict:!1});function jBe(e,t,n,r,s){var a,i;const{visualElement:l}=f.useContext(b_),c=f.useContext(ole),u=f.useContext(x_),d=f.useContext(jP).reducedMotion,h=f.useRef(null);r=r||c.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,g=f.useContext(Xoe);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&ABe(h.current,n,s,g);const v=f.useRef(!1);f.useInsertionEffect(()=>{m&&v.current&&m.update(n,u)});const x=n[Ooe],b=f.useRef(!!x&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,x))&&((i=window.MotionHasOptimisedAnimation)===null||i===void 0?void 0:i.call(window,x)));return RP(()=>{m&&(v.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),NP.render(m.render),b.current&&m.animationState&&m.animationState.animateChanges())}),f.useEffect(()=>{m&&(!b.current&&m.animationState&&m.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,x)}),b.current=!1))}),m}function ABe(e,t,n,r){const{layoutId:s,layout:a,drag:i,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:lle(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!i||l&&Np(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function lle(e){if(e)return e.options.allowProjection!==!1?e.projection:lle(e.parent)}function RBe(e,t,n){return f.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Np(n)&&(n.current=r))},[t])}function w_(e){return g_(e.animate)||lP.some(t=>G2(e[t]))}function cle(e){return!!(w_(e)||e.variants)}function LBe(e,t){if(w_(e)){const{initial:n,animate:r}=e;return{initial:n===!1||G2(n)?n:void 0,animate:G2(r)?r:void 0}}return e.inherit!==!1?t:{}}function OBe(e){const{initial:t,animate:n}=LBe(e,f.useContext(b_));return f.useMemo(()=>({initial:t,animate:n}),[jG(t),jG(n)])}function jG(e){return Array.isArray(e)?e.join(" "):e}const AG={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},x1={};for(const e in AG)x1[e]={isEnabled:t=>AG[e].some(n=>!!t[n])};function PBe(e){for(const t in e)x1[t]={...x1[t],...e[t]}}const IBe=Symbol.for("motionComponentSymbol");function DBe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&PBe(e);function a(l,c){let u;const d={...f.useContext(jP),...l,layoutId:FBe(l)},{isStatic:h}=d,m=OBe(l),g=r(l,h);if(!h&&AP){UBe();const v=BBe(d);u=v.MeasureLayout,m.visualElement=jBe(s,g,d,t,v.ProjectionNode)}return o.jsxs(b_.Provider,{value:m,children:[u&&m.visualElement?o.jsx(u,{visualElement:m.visualElement,...d}):null,n(s,l,RBe(g,m.visualElement,c),g,h,m.visualElement)]})}const i=f.forwardRef(a);return i[IBe]=s,i}function FBe({layoutId:e}){const t=f.useContext(Z2).id;return t&&e!==void 0?t+"-"+e:e}function UBe(e,t){f.useContext(ole).strict}function BBe(e){const{drag:t,layout:n}=x1;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const VBe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function LP(e){return typeof e!="string"||e.includes("-")?!1:!!(VBe.indexOf(e)>-1||/[A-Z]/u.test(e))}function ule(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const dle=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fle(e,t,n,r){ule(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(dle.has(s)?s:EP(s),t.attrs[s])}function hle(e,{layout:t,layoutId:n}){return nm.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!dw[e]||e==="opacity")}function OP(e,t,n){var r;const{style:s}=e,a={};for(const i in s)(ha(s[i])||t.style&&ha(t.style[i])||hle(i,e)||((r=n?.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[i]=s[i]);return a}function mle(e,t,n){const r=OP(e,t,n);for(const s in e)if(ha(e[s])||ha(t[s])){const a=ix.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=e[s]}return r}function PP(e){const t=f.useRef(null);return t.current===null&&(t.current=e()),t.current}function zBe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,a){const i={latestValues:HBe(r,s,a,e),renderState:t()};return n&&(i.mount=l=>n(r,l,i)),i}const ple=e=>(t,n)=>{const r=f.useContext(b_),s=f.useContext(x_),a=()=>zBe(e,t,r,s);return n?a():PP(a)};function HBe(e,t,n,r){const s={},a=r(e,{});for(const m in a)s[m]=b5(a[m]);let{initial:i,animate:l}=e;const c=w_(e),u=cle(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const h=d?l:i;if(h&&typeof h!="boolean"&&!g_(h)){const m=Array.isArray(h)?h:[h];for(let g=0;g<m.length;g++){const v=iP(e,m[g]);if(v){const{transitionEnd:x,transition:b,...w}=v;for(const C in w){let S=w[C];if(Array.isArray(S)){const k=d?S.length-1:0;S=S[k]}S!==null&&(s[C]=S)}for(const C in x)s[C]=x[C]}}}return s}const IP=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),gle=()=>({...IP(),attrs:{}}),vle=(e,t)=>t&&typeof e=="number"?t.transform(e):e,WBe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$Be=ix.length;function qBe(e,t,n){let r="",s=!0;for(let a=0;a<$Be;a++){const i=ix[a],l=e[i];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(i.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=vle(l,gP[i]);if(!c){s=!1;const d=WBe[i]||i;r+=`${d}(${u}) `}n&&(t[i]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function DP(e,t,n){const{style:r,vars:s,transformOrigin:a}=e;let i=!1,l=!1;for(const c in t){const u=t[c];if(nm.has(c)){i=!0;continue}else if(coe(c)){s[c]=u;continue}else{const d=vle(u,gP[c]);c.startsWith("origin")?(l=!0,a[c]=d):r[c]=d}}if(t.transform||(i||n?r.transform=qBe(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;r.transformOrigin=`${c} ${u} ${d}`}}function RG(e,t,n){return typeof e=="string"?e:qt.transform(t+n*e)}function GBe(e,t,n){const r=RG(t,e.x,e.width),s=RG(n,e.y,e.height);return`${r} ${s}`}const YBe={offset:"stroke-dashoffset",array:"stroke-dasharray"},KBe={offset:"strokeDashoffset",array:"strokeDasharray"};function QBe(e,t,n=1,r=0,s=!0){e.pathLength=1;const a=s?YBe:KBe;e[a.offset]=qt.transform(-r);const i=qt.transform(t),l=qt.transform(n);e[a.array]=`${i} ${l}`}function FP(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:a,pathLength:i,pathSpacing:l=1,pathOffset:c=0,...u},d,h){if(DP(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:g,dimensions:v}=e;m.transform&&(v&&(g.transform=m.transform),delete m.transform),v&&(s!==void 0||a!==void 0||g.transform)&&(g.transformOrigin=GBe(v,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&QBe(m,i,l,c,!1)}const UP=e=>typeof e=="string"&&e.toLowerCase()==="svg",XBe={useVisualState:ple({scrapeMotionValuesFromProps:mle,createRenderState:gle,onMount:(e,t,{renderState:n,latestValues:r})=>{mr.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),mr.render(()=>{FP(n,r,UP(t.tagName),e.transformTemplate),fle(t,n)})}})},ZBe={useVisualState:ple({scrapeMotionValuesFromProps:OP,createRenderState:IP})};function yle(e,t,n){for(const r in t)!ha(t[r])&&!hle(r,n)&&(e[r]=t[r])}function JBe({transformTemplate:e},t){return f.useMemo(()=>{const n=IP();return DP(n,t,e),Object.assign({},n.vars,n.style)},[t])}function eVe(e,t){const n=e.style||{},r={};return yle(r,n,e),Object.assign(r,JBe(e,t)),r}function tVe(e,t){const n={},r=eVe(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const nVe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fw(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||nVe.has(e)}let xle=e=>!fw(e);function rVe(e){e&&(xle=t=>t.startsWith("on")?!fw(t):e(t))}try{rVe(require("@emotion/is-prop-valid").default)}catch{}function sVe(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(xle(s)||n===!0&&fw(s)||!t&&!fw(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function aVe(e,t,n,r){const s=f.useMemo(()=>{const a=gle();return FP(a,t,UP(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};yle(a,e.style,e),s.style={...a,...s.style}}return s}function iVe(e=!1){return(n,r,s,{latestValues:a},i)=>{const c=(LP(n)?aVe:tVe)(r,a,i,n),u=sVe(r,typeof n=="string",e),d=n!==f.Fragment?{...u,...c,ref:s}:{},{children:h}=r,m=f.useMemo(()=>ha(h)?h.get():h,[h]);return f.createElement(n,{...d,children:m})}}function oVe(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const i={...LP(r)?XBe:ZBe,preloadedFeatures:e,useRender:iVe(s),createVisualElement:t,Component:r};return DBe(i)}}const hw={current:null},BP={current:!1};function ble(){if(BP.current=!0,!!AP)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>hw.current=e.matches;e.addListener(t),t()}else hw.current=!1}function lVe(e,t,n){for(const r in t){const s=t[r],a=n[r];if(ha(s))e.addValue(r,s);else if(ha(a))e.addValue(r,Q2(s,{owner:e}));else if(a!==s)if(e.hasValue(r)){const i=e.getValue(r);i.liveStyle===!0?i.jump(s):i.hasAnimated||i.set(s)}else{const i=e.getStaticValue(r);e.addValue(r,Q2(i!==void 0?i:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const LG=new WeakMap,cVe=[...foe,aa,Pd],uVe=e=>cVe.find(doe(e)),OG=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class dVe{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Ll.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,mr.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=i;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=w_(n),this.isVariantNode=cle(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const g=h[m];c[m]!==void 0&&ha(g)&&g.set(c[m],!1)}}mount(t){this.current=t,LG.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),BP.current||ble(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){LG.delete(this.current),this.projection&&this.projection.unmount(),Od(this.notifyUpdate),Od(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=nm.has(t),s=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&mr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),a(),i&&i(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in x1){const n=x1[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<OG.length;r++){const s=OG[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,i=t[a];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=lVe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Q2(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(ooe(s)||ioe(s))?s=parseFloat(s):!uVe(s)&&Pd.test(n)&&(s=boe(t,n)),this.setBaseTarget(t,ha(s)?s.get():s)),ha(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const i=iP(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);i&&(s=i[t])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ha(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new kP),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class wle extends dVe{constructor(){super(...arguments),this.KeyframeResolver=woe}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ha(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function fVe(e){return window.getComputedStyle(e)}class hVe extends wle{constructor(){super(...arguments),this.type="html",this.renderInstance=ule}readValueFromInstance(t,n){if(nm.has(n)){const r=vP(n);return r&&r.default||0}else{const r=fVe(t),s=(coe(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Koe(t,n)}build(t,n,r){DP(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return OP(t,n,r)}}class mVe extends wle{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hr}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(nm.has(n)){const r=vP(n);return r&&r.default||0}return n=dle.has(n)?n:EP(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return mle(t,n,r)}build(t,n,r){FP(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){fle(t,n,r,s)}mount(t){this.isSVGTag=UP(t.tagName),super.mount(t)}}const pVe=(e,t)=>LP(e)?new mVe(t):new hVe(t,{allowProjection:e!==f.Fragment}),gVe=oVe({...eUe,...TBe,...vBe,...NBe},pVe),je=JIe(gVe);class vVe extends f.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function yVe({children:e,isPresent:t}){const n=f.useId(),r=f.useRef(null),s=f.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=f.useContext(jP);return f.useInsertionEffect(()=>{const{width:i,height:l,top:c,left:u}=s.current;if(t||!r.current||!i||!l)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return a&&(d.nonce=a),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),o.jsx(vVe,{isPresent:t,childRef:r,sizeRef:s,children:f.cloneElement(e,{ref:r})})}const xVe=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:i})=>{const l=PP(bVe),c=f.useId(),u=f.useCallback(h=>{l.set(h,!0);for(const m of l.values())if(!m)return;r&&r()},[l,r]),d=f.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),a?[Math.random(),u]:[n,u]);return f.useMemo(()=>{l.forEach((h,m)=>l.set(m,!1))},[n]),f.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),i==="popLayout"&&(e=o.jsx(yVe,{isPresent:n,children:e})),o.jsx(x_.Provider,{value:d,children:e})};function bVe(){return new Map}const $3=e=>e.key||"";function PG(e){const t=[];return f.Children.forEach(e,n=>{f.isValidElement(n)&&t.push(n)}),t}const kt=({children:e,exitBeforeEnter:t,custom:n,initial:r=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:i="sync"})=>{const l=f.useMemo(()=>PG(e),[e]),c=l.map($3),u=f.useRef(!0),d=f.useRef(l),h=PP(()=>new Map),[m,g]=f.useState(l),[v,x]=f.useState(l);RP(()=>{u.current=!1,d.current=l;for(let C=0;C<v.length;C++){const S=$3(v[C]);c.includes(S)?h.delete(S):h.get(S)!==!0&&h.set(S,!1)}},[v,c.length,c.join("-")]);const b=[];if(l!==m){let C=[...l];for(let S=0;S<v.length;S++){const k=v[S],E=$3(k);c.includes(E)||(C.splice(S,0,k),b.push(k))}i==="wait"&&b.length&&(C=b),x(PG(C)),g(l);return}const{forceRender:w}=f.useContext(Z2);return o.jsx(o.Fragment,{children:v.map(C=>{const S=$3(C),k=l===v||c.includes(S),E=()=>{if(h.has(S))h.set(S,!0);else return;let T=!0;h.forEach(j=>{j||(T=!1)}),T&&(w?.(),x(d.current),s&&s())};return o.jsx(xVe,{isPresent:k,initial:!u.current||r?void 0:!1,custom:k?void 0:n,presenceAffectsLayout:a,mode:i,onExitComplete:k?void 0:E,children:C},S)})})},wVe=f.createContext(null);function _Ve(){const e=f.useRef(!1);return RP(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function CVe(){const e=_Ve(),[t,n]=f.useState(0),r=f.useCallback(()=>{e.current&&n(t+1)},[t]);return[f.useCallback(()=>mr.postRender(r),[r]),t]}const SVe=e=>!e.isLayoutDirty&&e.willUpdate(!1);function IG(){const e=new Set,t=new WeakMap,n=()=>e.forEach(SVe);return{add:r=>{e.add(r),t.set(r,r.addEventListener("willUpdate",n))},remove:r=>{e.delete(r);const s=t.get(r);s&&(s(),t.delete(r)),n()},dirty:n}}const _le=e=>e===!0,MVe=e=>_le(e===!0)||e==="id",rm=({children:e,id:t,inherit:n=!0})=>{const r=f.useContext(Z2),s=f.useContext(wVe),[a,i]=CVe(),l=f.useRef(null),c=r.id||s;l.current===null&&(MVe(n)&&c&&(t=t?c+"-"+t:c),l.current={id:t,group:_le(n)&&r.group||IG()});const u=f.useMemo(()=>({...l.current,forceRender:a}),[i]);return o.jsx(Z2.Provider,{value:u,children:e})};function __(){!BP.current&&ble();const[e]=f.useState(hw.current);return e}const kVe={some:0,all:1};function EVe(e,t,{root:n,margin:r,amount:s="some"}={}){const a=Uoe(e),i=new WeakMap,l=u=>{u.forEach(d=>{const h=i.get(d.target);if(d.isIntersecting!==!!h)if(d.isIntersecting){const m=t(d);typeof m=="function"?i.set(d.target,m):c.unobserve(d.target)}else h&&(h(d),i.delete(d.target))})},c=new IntersectionObserver(l,{root:n,rootMargin:r,threshold:typeof s=="number"?s:kVe[s]});return a.forEach(u=>c.observe(u)),()=>c.disconnect()}function TVe(e,{root:t,margin:n,amount:r,once:s=!1}={}){const[a,i]=f.useState(!1);return f.useEffect(()=>{if(!e.current||s&&a)return;const l=()=>(i(!0),s?void 0:()=>i(!1)),c={root:t&&t.current||void 0,margin:n,amount:r};return EVe(e.current,l,c)},[t,e,n,s,r]),a}function NVe(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,a,i=[],l="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(i.push(n),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),a=s.indexOf(".",1),i.push(s.substring(1,~r?r:~a?a:s.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+s.substring(a))):l+="/"+s;return{keys:i,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var H7={exports:{}},W7={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DG;function jVe(){if(DG)return W7;DG=1;var e=Xd();function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,a=e.useLayoutEffect,i=e.useDebugValue;function l(h,m){var g=m(),v=r({inst:{value:g,getSnapshot:m}}),x=v[0].inst,b=v[1];return a(function(){x.value=g,x.getSnapshot=m,c(x)&&b({inst:x})},[h,g,m]),s(function(){return c(x)&&b({inst:x}),h(function(){c(x)&&b({inst:x})})},[h]),i(g),g}function c(h){var m=h.getSnapshot;h=h.value;try{var g=m();return!n(h,g)}catch{return!0}}function u(h,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return W7.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,W7}var FG;function AVe(){return FG||(FG=1,H7.exports=jVe()),H7.exports}var RVe=AVe();const LVe=eP.useInsertionEffect,OVe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cle=OVe?f.useLayoutEffect:f.useEffect,PVe=LVe||Cle,C_=e=>{const t=f.useRef([e,(...n)=>t[0](...n)]).current;return PVe(()=>{t[0]=e}),t[1]},IVe="popstate",VP="pushState",zP="replaceState",DVe="hashchange",UG=[IVe,VP,zP,DVe],FVe=e=>{for(const t of UG)addEventListener(t,e);return()=>{for(const t of UG)removeEventListener(t,e)}},Sle=(e,t)=>RVe.useSyncExternalStore(FVe,e,t),UVe=()=>location.search,BVe=({ssrSearch:e=""}={})=>Sle(UVe,()=>e),BG=()=>location.pathname,VVe=({ssrPath:e}={})=>Sle(BG,e?()=>e:BG),zVe=(e,{replace:t=!1,state:n=null}={})=>history[t?zP:VP](n,"",e),HVe=(e={})=>[VVe(e),zVe],VG=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[VG]>"u"){for(const e of[VP,zP]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,VG,{value:!0})}const WVe=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",Mle=(e="")=>e==="/"?"":e,$Ve=(e,t)=>e[0]==="~"?e.slice(1):Mle(t)+e,qVe=(e="",t)=>WVe(Ij(Mle(e)),Ij(t)),GVe=e=>e[0]==="?"?e.slice(1):e,Ij=e=>{try{return decodeURI(e)}catch{return e}},YVe=e=>Ij(GVe(e)),kle={hook:HVe,searchHook:BVe,parser:NVe,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},Ele=f.createContext(kle),Jl=()=>f.useContext(Ele),Tle={},Nle=f.createContext(Tle),HP=()=>f.useContext(Nle),ux=e=>{const[t,n]=e.hook(e);return[qVe(e.base,t),C_((r,s)=>n($Ve(r,e.base),s))]},WP=()=>ux(Jl()),KVe=()=>{const e=Jl();return YVe(e.searchHook(e))},S_=(e,t,n,r)=>{const{pattern:s,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),i=s.exec(n)||[],[l,...c]=i;return l!==void 0?[!0,(()=>{const u=a!==!1?Object.fromEntries(a.map((h,m)=>[h,c[m]])):i.groups;let d={...c};return u&&Object.assign(d,u),d})(),...r?[l]:[]]:[!1,null]},jle=({children:e,...t})=>{const n=Jl(),r=t.hook?kle:n;let s=r;const[a,i]=t.ssrPath?.split("?")??[];i&&(t.ssrSearch=i,t.ssrPath=a),t.hrefs=t.hrefs??t.hook?.hrefs;let l=f.useRef({}),c=l.current,u=c;for(let d in r){const h=d==="base"?r[d]+(t[d]||""):t[d]||r[d];c===u&&h!==u[d]&&(l.current=u={...u}),u[d]=h,h!==r[d]&&(s=u)}return f.createElement(Ele.Provider,{value:s,children:e})},zG=({children:e,component:t},n)=>t?f.createElement(t,{params:n}):typeof e=="function"?e(n):e,QVe=e=>{let t=f.useRef(Tle);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([r,s])=>s!==n[r])?e:n};function Ale(){const[e,t]=WP(),n=KVe(),r=f.useMemo(()=>new URLSearchParams(n),[n]);let s=r;const a=C_((i,l)=>{s=new URLSearchParams(typeof i=="function"?i(s):i),t(e+"?"+s,l)});return[r,a]}const XVe=({path:e,nest:t,match:n,...r})=>{const s=Jl(),[a]=ux(s),[i,l,c]=n??S_(s.parser,e,a,t),u=QVe({...HP(),...l});if(!i)return null;const d=c?f.createElement(jle,{base:c},zG(r,u)):zG(r,u);return f.createElement(Nle.Provider,{value:u,children:d})};f.forwardRef((e,t)=>{const n=Jl(),[r,s]=ux(n),{to:a="",href:i=a,onClick:l,asChild:c,children:u,className:d,replace:h,state:m,...g}=e,v=C_(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(l?.(b),b.defaultPrevented||(b.preventDefault(),s(i,e)))}),x=n.hrefs(i[0]==="~"?i.slice(1):n.base+i,n);return c&&f.isValidElement(u)?f.cloneElement(u,{onClick:v,href:x}):f.createElement("a",{...g,onClick:v,href:x,className:d?.call?d(r===i):d,children:u,ref:t})});const Rle=e=>Array.isArray(e)?e.flatMap(t=>Rle(t&&t.type===f.Fragment?t.props.children:t)):[e],ZVe=({children:e,location:t})=>{const n=Jl(),[r]=ux(n);for(const s of Rle(e)){let a=0;if(f.isValidElement(s)&&(a=S_(n.parser,s.props.path,t||r,s.props.nest))[0])return f.cloneElement(s,{match:a})}return null},uh=e=>{const{to:t,href:n=t}=e,r=Jl(),[,s]=ux(r),a=C_(()=>s(t||n,e)),{ssrContext:i}=r;return Cle(()=>{a()},[]),i&&(i.redirectTo=t),null};function JVe(){return f.useMemo(()=>({push:e=>{window.history.pushState({},"",e)},refresh:()=>{window.location.reload()}}),[])}function eze(){const[e]=WP();return e}function tze(){const[e]=Ale();return e}function nze(){return HP()}const HG={},wn=()=>{const e=tze(),[t]=Ale();return f.useMemo(()=>new URLSearchParams((e||t).toString()),[e,t])},rze=()=>{const e=nze(),t=HP(),n=Object.keys(e).length?e:HG,r=Object.keys(t).length?t:HG;return f.useMemo(()=>({...n,...r}),[n,r])},ln=()=>{const e=eze(),[t]=WP();return e||t};var Xs=kie();const Lle=Js(Xs),$P=f.createContext({container:null,setContainer:()=>{}}),Ole=L.memo(({children:e})=>{const[t,n]=f.useState(null),r=f.useMemo(()=>({container:t,setContainer:n}),[t,n]);return o.jsx($P.Provider,{value:r,children:e})});Ole.displayName="SearchSideContainerProvider";const sze=L.memo(({children:e})=>{const{container:t}=f.useContext($P);return t?Xs.createPortal(e,t):(le.warn("SearchSideContainerContext is not configured"),null)});sze.displayName="SearchSideContent";var $7={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var WG;function mg(){return WG||(WG=1,function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],s=0;s<arguments.length;s++){var a=arguments[s];if(a){var i=typeof a;if(i==="string"||i==="number")r.push(a);else if(Array.isArray(a)){if(a.length){var l=n.apply(null,a);l&&r.push(l)}}else if(i==="object"){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){r.push(a.toString());continue}for(var c in a)t.call(a,c)&&a[c]&&r.push(c)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()}($7)),$7.exports}var aze=mg();const W=Js(aze);function $G(e,t){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>e(...r),t)}}function ou({debounce:e,scroll:t,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const s=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,i]=f.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=f.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,d=f.useRef(!1);f.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[h,m,g]=f.useMemo(()=>{const w=()=>{if(!l.current.element)return;const{left:C,top:S,width:k,height:E,bottom:T,right:j,x:N,y:R}=l.current.element.getBoundingClientRect(),O={left:C,top:S,width:k,height:E,bottom:T,right:j,x:N,y:R};l.current.element instanceof HTMLElement&&r&&(O.height=l.current.element.offsetHeight,O.width=l.current.element.offsetWidth),Object.freeze(O),d.current&&!cze(l.current.lastBounds,O)&&i(l.current.lastBounds=O)};return[w,u?$G(w,u):w,c?$G(w,c):w]},[i,r,c,u]);function v(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function x(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(w=>w.addEventListener("scroll",g,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{g()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const b=w=>{!w||w===l.current.element||(v(),l.current.element=w,l.current.scrollContainers=Ple(w),x())};return oze(g,!!t),ize(m),f.useEffect(()=>{v(),x()},[t,g,m]),f.useEffect(()=>v,[]),[b,a,h]}function ize(e){f.useEffect(()=>{const t=e;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[e])}function oze(e,t){f.useEffect(()=>{if(t){const n=e;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[e,t])}function Ple(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:r,overflowY:s}=window.getComputedStyle(e);return[n,r,s].some(a=>a==="auto"||a==="scroll")&&t.push(e),[...t,...Ple(e.parentElement)]}const lze=["x","y","top","bottom","left","right","width","height"],cze=(e,t)=>lze.every(n=>e[n]===t[n]),ii=()=>{const[e,t]=L.useState(!1);return L.useEffect(()=>{t(!0)},[]),e},uze=({children:e,initial:t=!1,mode:n="wait",className:r,transition:s,supportZeroHeight:a=!0,...i})=>{const[l,{height:c}]=ou(),u=ii(),d=a||c>0?c:"auto";return o.jsx(je.div,{animate:{height:u?d:"auto"},className:r,transition:s,...i,children:o.jsx("div",{ref:l,children:o.jsx(kt,{mode:n,initial:t,children:e})})})},Ar=Hl(.16,1,.3,1),hYt=Hl(.7,0,.84,0),dze=f.forwardRef(({children:e,initial:t={opacity:0},animate:n={opacity:1},exit:r,transition:s,className:a,style:i},l)=>o.jsx(je.div,{initial:t,animate:n,exit:r??t,transition:s,ref:l,className:a,style:i,children:e})),ef=uze,lu=dze,Ile={transparent:"transparent",background:"background",offset:"offset"},fze="border-borderMain/50 ring-borderMain/50 divide-borderMain/50 dark:divide-borderMainDark/50 dark:ring-borderMainDark/50 dark:border-borderMainDark/50",Q=f.memo(({variant:e=Ile.transparent,className:t,onClick:n,onMouseOver:r,onMouseLeave:s,children:a,id:i,bgHover:l,style:c,testId:u,as:d="div",ref:h,noBorder:m,...g})=>{const v=f.useMemo(()=>{const x={transparent:"bg-transparent",super:"bg-super",superLight:"bg-superBG",red:"bg-caution",background:"bg-background",offset:"bg-offset",offsetLoading:"bg-offset/50 animate-pulse",offsetPlus:"bg-offsetPlus",darkOffset:"bg-offsetPlusDark",textColor:"bg-textMain",backToSchoolOrange:"bg-backToSchoolOrange",raised:"bg-background-50 dark:bg-offsetDark",raisedOffset:"bg-raisedOffset dark:bg-raisedOffsetDark",max:"bg-max"},b={offset:"md:hover:bg-offset",offsetPlus:"md:hover:bg-offsetPlus",raisedOffset:"md:hover:bg-raisedOffset md:dark:hover:bg-raisedOffsetDark",transparent:"md:hover:bg-transparent",super:"md:hover:bg-super"};return W(t,!m&&fze,l?"transition duration-300":"",x[e]||x.transparent,l&&b[l]||"")},[l,t,e,m]);return f.createElement(d,{id:i,ref:h,className:v,onClick:n,onMouseOver:r,onMouseLeave:s,style:c,"data-testid":u,...g},a)});Q.displayName="Box";const hze=e=>e?.includes("Chrome")??!1,Dle=e=>(e?.includes("Mobile")&&!e?.includes("iPad"))??!1,mze=e=>e?.includes("Android")??!1,pze=e=>(e?.includes("iPhone")||e?.includes("iPad"))??!1,Fle=e=>(e?.includes("Macintosh")||e?.includes("iPad"))??!1,gze=e=>e?.includes("Mobile Safari")??!1,vze=e=>e?.includes("Firefox")??!1,dx=e=>e?.includes("WindowsApp")??!1,yze=e=>e?.includes("FBAN")||e?.includes("FBAV")||e?.includes("Instagram"),xze=e=>e?.includes("SamsungBrowser")??!1,Ule=f.createContext({isChrome:!1,isMobile:!1,isAndroid:!1,isIOS:!1,isMacOS:!1,isFirefox:!1,isMobileSafari:!1,isWindowsApp:!1,isMetaBrowser:!1,isSamsungBrowser:!1,userAgent:""}),Ble=f.memo(({children:e,userAgent:t})=>{const n=f.useMemo(()=>bze(t),[t]);return o.jsx(Ule.Provider,{value:n,children:e})});Ble.displayName="DeviceProvider";const sn=()=>{const e=f.useContext(Ule);if(!e)throw new Error("useDevice must be used within DeviceContext");return e};function bze(e=""){return!e&&typeof navigator<"u"&&(e=navigator.userAgent),{isChrome:hze(e),isMobile:Dle(e),isAndroid:mze(e),isIOS:pze(e),isMacOS:Fle(e),isMobileSafari:gze(e),isFirefox:vze(e),isWindowsApp:dx(e),isMetaBrowser:yze(e),isSamsungBrowser:xze(e),userAgent:e}}const tn={tiny:"tiny",small:"small",regular:"regular",large:"large",xl:"xl",none:"none"};var gt;(function(e){e.RETRY_BUTTON="retryButton",e.PRO_PAGE="proPage",e.SHARE_DROPDOWN="shareDropdown",e.PRICING_TABLE="pricingTable",e.TRY_COPILOT="tryCopilot",e.TRY_RESEARCH="tryResearch",e.TRY_LABS="tryLabs",e.PRO_HOVER_CARD_BUTTON="proHoverCardButton",e.PRO_REASONING_SELECTOR="proReasoningSelector",e.LIBRARY_PAGE="libraryPage",e.SPACES_PAGE="spacesPage",e.SPACES_LANDING="spacesLanding",e.SPACES_TEMPLATES="spacesTemplates",e.DISCOVER_TOPICS="discoverTopics",e.COLLECTIONS="collections",e.SPACES="spaces",e.THREAD_SOCIAL="threadSocial",e.MOBILE_SIGNUP="mobileSignup",e.RELATED_QUERIES="relatedQueries",e.FILE_UPLOAD="fileUpload",e.SPACES_FILE_UPLOAD="spacesFileUpload",e.TRY_PRO="tryPro",e.HOMEPAGE_FREE_PLAN_UPSELL="homepageFreePlanUpsell",e.LOGIN_BUTTON="loginButton",e.SIGNUP_BUTTON="signupButton",e.LOGIN_BUTTON_HEADER="loginButtonHeader",e.SIGNUP_BUTTON_HEADER="signupButtonHeader",e.FLOATING_SIGNUP="floatingSignup",e.SIDEBAR_LOGIN_AD="sidebarLoginAd",e.SIDEBAR_PRO_UPSELL="sidebarProUpsell",e.SIDE_TEXT_PRO_UPSELL="sideTextProUpsell",e.VISITOR_GATE="visitorGate",e.SHARED_THREAD_LOGIN_GATE="sharedThreadLoginGate",e.SHARED_THREAD_INSTALL_GATE="sharedThreadInstallGate",e.REQUEST_ACCESS_LOGIN_GATE="requestAccessLoginGate",e.GENERATE_IMAGE="generateImage",e.PPLX_API_PAGE="pplxApiPage",e.FILES_PAGE="filesPage",e.PURCHASES_PAGE="purchasesPage",e.GOOGLE_ONETAP_HOME="oneTapHome",e.GOOGLE_ONETAP_THREAD="oneTapThread",e.GOOGLE_ONETAP_PAGE="oneTapPage",e.GOOGLE_ONETAP_DISCOVER="oneTapDiscover",e.GOOGLE_ONETAP_UNKNOWN="oneTap",e.ONBOARDING="onboarding",e.NEXTAUTH_SIGNIN_PAGE="nextauthSignInPage",e.DISCOUNT_CODE_BANNER="discountCodeBanner",e.PARTNER_CODE="partnerCode",e.ARTICLE_NEW="articleNew",e.THREAD_TO_ARTICLE="threadToArticle",e.ORG_CREATE="orgCreate",e.ORG_PANEL="orgPanel",e.LOSS_AVERSION_MODAL="lossAversionModal",e.NEW_THREAD_BUTTON="newThreadButton",e.NEW_THREAD_SHORTCUT="newThreadShortcut",e.DISCOVER_BUTTON="discoverButton",e.THREAD_BOOKMARK_BUTTON="threadBookmarkButton",e.PAGE_BOOKMARK_BUTTON="pageBookmarkButton",e.DISCOVER_FEED_BOOKMARK_BUTTON="discoverFeedBookmarkButton",e.BACK_TO_SCHOOL="backToSchool",e.WELCOME_BACK="welcomeBack",e.LEFT_HAND_NAV="leftHandNav",e.SETTINGS="settings",e.PRO_FEATURE_LIMIT_BANNER="proFeatureLimitBanner",e.BUY_WITH_PRO_BUTTON="buyWithProButton",e.FINANCE_WATCHLIST="financeWatchlist",e.DOWNLOAD_COMET="downloadComet",e.PROMO_REDEMPTION="promoRedemption",e.CONNECTORS_PAGE="connectorsPage",e.MARKETING_LANDING_PAGE="marketingLandingPage",e.FINANCE_TRANSCRIPT="financeTranscript",e.FINANCE_RESEARCH="financeResearch",e.LJJ_LANDING_PAGE="ljjLandingPage",e.STUDENT_REFERRAL_LANDING_PAGE="studentReferralLandingPage",e.VOICE_TO_VOICE_BUTTON="voiceToVoiceButton",e.PRO_PERKS="proPerks",e.REFERRAL_PAGE="referralPage",e.HOTEL_BOOKING_PAGE="hotelBookingPage",e.SOURCES_VIEW_MORE="sourcesViewMore",e.SPORTS_WATCHLIST="sportsWatchlist",e.IMAGE_GENERATION_IN_THREAD="imageGenerationInThread",e.AUTO_UPGRADE_TO_PRO="autoUpgradeToPro",e.UNSPECIFIED_GENERALIZED_UPSELL="unspecifiedGeneralizedUpsell",e.MILESTONE_ACHIEVED="milestoneAchieved",e.PRO_PERKS_PARTNER_PAGE="proPerksPartnerPage",e.STUDENT_LANDING_PAGE="studentLandingPage",e.TASKS_PAGE="tasksPage",e.MAX_URL_PAYWALL="maxUrlPaywall",e.MODEL_SELECTOR="modelSelector",e.DISCOVER_FEED_LIKE_BUTTON="discoverFeedLikeButton",e.DISCOVER_FEED_DISLIKE_BUTTON="discoverFeedDislikeButton",e.DISCOVER_FEED_TASK_WIDGET="discoverFeedTaskWidget",e.SIDEBAR_BOTTOM_POPOVER="sidebarBottomPopover",e.HOME_SIDEBAR="homeSidebar",e.WHATSAPP_LINK="whatsappLink",e.UPGRADE_MODAL="upgradeModal",e.MAX_PAGE="maxPage",e.COMET_INVITE="cometInvite"})(gt||(gt={}));var At;(function(e){e[e.OWNER_ONLY=0]="OWNER_ONLY",e[e.PRIVATE_READ=1]="PRIVATE_READ",e[e.PUBLIC_READ=2]="PUBLIC_READ",e[e.PUBLIC_PUBLISHED=3]="PUBLIC_PUBLISHED",e[e.ORG_READ=4]="ORG_READ",e[e.COLLECTION_READ=5]="COLLECTION_READ"})(At||(At={}));const c2={default:{termsOfService:"https://www.perplexity.ai/hub/legal/terms-of-service",enterpriseTermsOfService:"https://www.perplexity.ai/hub/legal/enterprise-terms-of-service",privacyPolicy:"https://www.perplexity.ai/hub/legal/privacy-policy"},"ja-JP":{termsOfService:"https://www.perplexity.ai/ja/hub/legal/terms-of-service",privacyPolicy:"https://www.perplexity.ai/ja/hub/legal/privacy-policy"}},dh=4e4,wze=2e3,qG=4e3,GG=50,YG=1e3,_ze=10,Cze=4,mYt=10,Sze=5e3,Mze=50*1024*1024,KG=10,Dj="https://ppl-ai-public.s3.amazonaws.com/static/img/pplx-default-preview.png",bu="2.18",Vle="default",qP="entropy",Wp="windowsapp",QG=["audio/midi","audio/x-midi","application/msword","application/zip","application/x-tar","application/x-bzip","application/vnd.rar"],GP=[".bash",".bat",".c",".coffee",".conf",".config",".cpp",".cs",".css",".csv",".cxx",".dart",".diff",".docx",".fish",".go",".h",".hpp",".htm",".html",".in",".ini",".ipynb",".java",".js",".json",".jsx",".ksh",".kt",".kts",".latex",".less",".log",".lua",".m",".markdown",".md",".pdf",".php",".pl",".pm",".pptx",".py",".r",".R",".rb",".rmd",".rs",".scala",".sh",".sql",".swift",".t",".tex",".text",".toml",".ts",".tsx",".txt",".xlsx",".xml",".yaml",".yml",".zsh"],kze=GP.join(","),zle=[".jpeg",".jpg",".jpe",".jp2",".png",".gif",".bmp",".tiff",".tif",".svg",".webp",".ico",".avif",".heic",".heif"],Hle=[".mp3",".wav",".aiff",".ogg",".flac",".mp4",".mpeg",".mov",".avi",".flv",".mpg",".webm",".wmv",".3gp"],Eze=zle.join(","),Wle=[...GP,...zle],Tze=Wle.join(","),Nze=[...GP,...Hle],jze=Nze.join(","),Aze=[...Wle,...Hle],Rze=Aze.join(","),pYt="",gYt=At.PUBLIC_READ,$le=At.PRIVATE_READ,mw=At.PRIVATE_READ,vYt="https://chrome.google.com/webstore/detail/perplexity-ai-search/bnaffjbjpgiagpondjlnneblepbdchol",yYt="https://pplx.ai/mac",xYt="https://www.perplexity.ai/comet",XG="onboarding",ZG="uninstall_default_search_extension",Lze="edu_referral_code",Oze="utm_source",Pze="backtoschool",Ize="backtoschool_usc",Dze="backtoschool_cal",Fze="iitm",Uze="krstudents",sm="login-source",JG="login-new",Bze="model_id",eY="max",YP=5,Vze="/static/images/back-to-school-splash.png",zze="back-to-school",bYt="/static/images/search-like-never-before-square.jpg",wYt="search-like-never-before",_Yt="/static/images/file-search-upsell-demo.png",CYt="file-search-upsell-demo",Hze="/static/images/sidebar-upsell-bg-light.svg",Wze="/static/images/sidebar-upsell-bg-dark.svg",tY="App Promo Background",KP="/static/images/data-connectors/factset/factset-avatar.svg",QP="FactSet",XP="/static/images/data-connectors/crunchbase/crunchbase-avatar.svg",ZP="Crunchbase",M_="/static/images/data-connectors/wiley/wiley-avatar.svg",JP="Wiley",qle="Finance",k_="/static/images/data-connectors/google/google-drive-avatar.svg",$ze="/static/images/data-connectors/google/gmail-avatar.svg",qze="Gmail",b1="Google Drive",E_="/static/images/data-connectors/google/gcal-gmail-avatar.svg",J2="Gmail with Calendar",Gze="Microsoft",T_="/static/images/data-connectors/microsoft/onedrive-avatar.svg",w1="OneDrive",N_="/static/images/data-connectors/microsoft/sharepoint-avatar.svg",_1="SharePoint",eI="/static/images/data-connectors/dropbox/dropbox-avatar.svg",C1="Dropbox",j_="/static/images/data-connectors/box/box-avatar.svg",A_="Box",tI="/static/images/data-connectors/notion/notion-avatar.svg",nI="Notion",Yze="/static/images/data-connectors/sidebar-connectors-ad-upsell.png",SYt="/static/images/travel/hotel-pro-banner.png",MYt="Save on hotel bookings with Perplexity Pro",Gle="submit-query",Lp="search-model-change",fd="source-selection-change",pw="windows-app",nY=pw,Kze="If4YwAeizGHdB3eOhX2JxYcjeCgy0N9c",S1=`${pw}/ask/input`,rY={type:"daily",hour:11,minute:0},sY="pplx.windowsApp.milestoneNotificationShown",Qze="pplx.windowsApp.milestoneLastCheck",aY="pplx.windowsApp.milestoneLastResponse",q7="pplx.windowsApp.microphonePermission",iY={silenceThreshold:30,silenceDuration:5e3},Fj="pplx.upload-privacy-accepted",Yle=["answer_modes","media_items","knowledge_cards","inline_entity_cards","place_widgets","finance_widgets","sports_widgets","shopping_widgets","jobs_widgets","search_result_widgets","clarification_responses","inline_images","inline_assets","inline_finance_widgets","placeholder_cards","diff_blocks","inline_knowledge_cards","entity_group_v2"],oY=["google_drive","onedrive","sharepoint","dropbox","box","notion"],Xze=["google_drive","onedrive","sharepoint","dropbox","box"],Uj="Outlook",Kle="/static/images/data-connectors/microsoft/outlook-avatar.svg",Zze=768,Qle=`(max-width: ${Zze}px)`;function lY(){return typeof window>"u"?!1:window.matchMedia(Qle).matches}function fo(e={}){const t=ln(),{isWindowsApp:n}=sn(),r=f.useMemo(()=>!!(n&&t?.includes(S1)),[n,t]),{evaluateOnInit:s=!1}=e,a=Xle(),i=Jze(),[l,c]=f.useState(()=>a||i?!0:s?lY():!1);return f.useEffect(()=>{if(typeof window>"u")return;const u=window.matchMedia(Qle);function d(){c(u.matches)}return u.addEventListener("change",d),()=>{u.removeEventListener("change",d)}},[a]),f.useEffect(()=>{s||c(lY())},[s]),l&&!r}function Xle(e=!1){const{isMobile:t}=sn();return t??e}function Jze(e=!1){const{isAndroid:t}=sn();return t??e}function qe(e={}){const t=ln(),{isWindowsApp:n}=sn(),r=fo(e),s=f.useMemo(()=>!!(n&&t?.includes(S1)),[n,t]),a=f.useMemo(()=>r&&!s,[r,s]),i=Xle();return f.useMemo(()=>({isMobileStyle:a,isMobileUserAgent:i}),[a,i])}/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var eHe={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(e,t,n,r)=>{const s=f.forwardRef(({color:a="currentColor",size:i=24,stroke:l=2,title:c,className:u,children:d,...h},m)=>f.createElement("svg",{ref:m,...eHe[e],width:i,height:i,className:["tabler-icon",`tabler-icon-${t}`,u].join(" "),...e==="filled"?{fill:a}:{strokeWidth:l,stroke:a},...h},[c&&f.createElement("title",{key:"svg-title"},c),...r.map(([g,v])=>f.createElement(g,v)),...Array.isArray(d)?d:[d]]));return s.displayName=`${n}`,s};/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var tHe=fe("outline","access-point","IconAccessPoint",[["path",{d:"M12 12l0 .01",key:"svg-0"}],["path",{d:"M14.828 9.172a4 4 0 0 1 0 5.656",key:"svg-1"}],["path",{d:"M17.657 6.343a8 8 0 0 1 0 11.314",key:"svg-2"}],["path",{d:"M9.168 14.828a4 4 0 0 1 0 -5.656",key:"svg-3"}],["path",{d:"M6.337 17.657a8 8 0 0 1 0 -11.314",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dv=fe("outline","address-book","IconAddressBook",[["path",{d:"M20 6v12a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2z",key:"svg-0"}],["path",{d:"M10 16h6",key:"svg-1"}],["path",{d:"M13 11m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-2"}],["path",{d:"M4 8h3",key:"svg-3"}],["path",{d:"M4 12h3",key:"svg-4"}],["path",{d:"M4 16h3",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var nHe=fe("outline","adjustments-horizontal","IconAdjustmentsHorizontal",[["path",{d:"M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M4 6l8 0",key:"svg-1"}],["path",{d:"M16 6l4 0",key:"svg-2"}],["path",{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M4 12l2 0",key:"svg-4"}],["path",{d:"M10 12l10 0",key:"svg-5"}],["path",{d:"M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-6"}],["path",{d:"M4 18l11 0",key:"svg-7"}],["path",{d:"M19 18l1 0",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Bj=fe("outline","adjustments","IconAdjustments",[["path",{d:"M4 10a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M6 4v4",key:"svg-1"}],["path",{d:"M6 12v8",key:"svg-2"}],["path",{d:"M10 16a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-3"}],["path",{d:"M12 4v10",key:"svg-4"}],["path",{d:"M12 18v2",key:"svg-5"}],["path",{d:"M16 7a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-6"}],["path",{d:"M18 4v1",key:"svg-7"}],["path",{d:"M18 9v11",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zle=fe("outline","affiliate","IconAffiliate",[["path",{d:"M5.931 6.936l1.275 4.249m5.607 5.609l4.251 1.275",key:"svg-0"}],["path",{d:"M11.683 12.317l5.759 -5.759",key:"svg-1"}],["path",{d:"M5.5 5.5m-1.5 0a1.5 1.5 0 1 0 3 0a1.5 1.5 0 1 0 -3 0",key:"svg-2"}],["path",{d:"M18.5 5.5m-1.5 0a1.5 1.5 0 1 0 3 0a1.5 1.5 0 1 0 -3 0",key:"svg-3"}],["path",{d:"M18.5 18.5m-1.5 0a1.5 1.5 0 1 0 3 0a1.5 1.5 0 1 0 -3 0",key:"svg-4"}],["path",{d:"M8.5 15.5m-4.5 0a4.5 4.5 0 1 0 9 0a4.5 4.5 0 1 0 -9 0",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var rHe=fe("outline","alert-circle","IconAlertCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var sHe=fe("outline","alert-triangle","IconAlertTriangle",[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var aHe=fe("outline","arrow-bar-left","IconArrowBarLeft",[["path",{d:"M4 12l10 0",key:"svg-0"}],["path",{d:"M4 12l4 4",key:"svg-1"}],["path",{d:"M4 12l4 -4",key:"svg-2"}],["path",{d:"M20 4l0 16",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var iHe=fe("outline","arrow-bar-right","IconArrowBarRight",[["path",{d:"M20 12l-10 0",key:"svg-0"}],["path",{d:"M20 12l-4 4",key:"svg-1"}],["path",{d:"M20 12l-4 -4",key:"svg-2"}],["path",{d:"M4 4l0 16",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var oHe=fe("outline","arrow-down-right","IconArrowDownRight",[["path",{d:"M7 7l10 10",key:"svg-0"}],["path",{d:"M17 8l0 9l-9 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lHe=fe("outline","arrow-down","IconArrowDown",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 13l-6 6",key:"svg-1"}],["path",{d:"M6 13l6 6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jle=fe("outline","arrow-left","IconArrowLeft",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cY=fe("outline","arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _l=fe("outline","arrow-up-right","IconArrowUpRight",[["path",{d:"M17 7l-10 10",key:"svg-0"}],["path",{d:"M8 7l9 0l0 9",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ece=fe("outline","arrow-up","IconArrowUp",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M18 11l-6 -6",key:"svg-1"}],["path",{d:"M6 11l6 -6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cHe=fe("outline","arrows-shuffle","IconArrowsShuffle",[["path",{d:"M18 4l3 3l-3 3",key:"svg-0"}],["path",{d:"M18 20l3 -3l-3 -3",key:"svg-1"}],["path",{d:"M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5",key:"svg-2"}],["path",{d:"M21 7h-5a4.978 4.978 0 0 0 -3 1m-4 8a4.984 4.984 0 0 1 -3 1h-3",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var uHe=fe("outline","article","IconArticle",[["path",{d:"M3 4m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M7 8h10",key:"svg-1"}],["path",{d:"M7 12h10",key:"svg-2"}],["path",{d:"M7 16h10",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dHe=fe("outline","aspect-ratio","IconAspectRatio",[["path",{d:"M3 5m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M7 12v-3h3",key:"svg-1"}],["path",{d:"M17 12v3h-3",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fHe=fe("outline","baby-carriage","IconBabyCarriage",[["path",{d:"M8 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M18 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M2 5h2.5l1.632 4.897a6 6 0 0 0 5.693 4.103h2.675a5.5 5.5 0 0 0 0 -11h-.5v6",key:"svg-2"}],["path",{d:"M6 9h14",key:"svg-3"}],["path",{d:"M9 17l1 -3",key:"svg-4"}],["path",{d:"M16 14l1 3",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var tce=fe("outline","ball-american-football","IconBallAmericanFootball",[["path",{d:"M15 9l-6 6",key:"svg-0"}],["path",{d:"M10 12l2 2",key:"svg-1"}],["path",{d:"M12 10l2 2",key:"svg-2"}],["path",{d:"M8 21a5 5 0 0 0 -5 -5",key:"svg-3"}],["path",{d:"M16 3c-7.18 0 -13 5.82 -13 13a5 5 0 0 0 5 5c7.18 0 13 -5.82 13 -13a5 5 0 0 0 -5 -5",key:"svg-4"}],["path",{d:"M16 3a5 5 0 0 0 5 5",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var w5=fe("outline","ball-basketball","IconBallBasketball",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M5.65 5.65l12.7 12.7",key:"svg-1"}],["path",{d:"M5.65 18.35l12.7 -12.7",key:"svg-2"}],["path",{d:"M12 3a9 9 0 0 0 9 9",key:"svg-3"}],["path",{d:"M3 12a9 9 0 0 1 9 9",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hHe=fe("outline","bell-check","IconBellCheck",[["path",{d:"M11.5 17h-7.5a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6a2 2 0 1 1 4 0a7 7 0 0 1 4 6v3c.016 .129 .037 .256 .065 .382",key:"svg-0"}],["path",{d:"M9 17v1a3 3 0 0 0 2.502 2.959",key:"svg-1"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mHe=fe("outline","bell-off","IconBellOff",[["path",{d:"M9.346 5.353c.21 -.129 .428 -.246 .654 -.353a2 2 0 1 1 4 0a7 7 0 0 1 4 6v3m-1 3h-13a4 4 0 0 0 2 -3v-3a6.996 6.996 0 0 1 1.273 -3.707",key:"svg-0"}],["path",{d:"M9 17v1a3 3 0 0 0 6 0v-1",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fx=fe("outline","bell","IconBell",[["path",{d:"M10 5a2 2 0 1 1 4 0a7 7 0 0 1 4 6v3a4 4 0 0 0 2 3h-16a4 4 0 0 0 2 -3v-3a7 7 0 0 1 4 -6",key:"svg-0"}],["path",{d:"M9 17v1a3 3 0 0 0 6 0v-1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var nce=fe("outline","bolt","IconBolt",[["path",{d:"M13 3l0 7l6 0l-8 11l0 -7l-6 0l8 -11",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gw=fe("outline","book","IconBook",[["path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-0"}],["path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-1"}],["path",{d:"M3 6l0 13",key:"svg-2"}],["path",{d:"M12 6l0 13",key:"svg-3"}],["path",{d:"M21 6l0 13",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pHe=fe("outline","bookmark-off","IconBookmarkOff",[["path",{d:"M7.708 3.721a3.982 3.982 0 0 1 2.292 -.721h4a4 4 0 0 1 4 4v7m0 4v3l-6 -4l-6 4v-14c0 -.308 .035 -.609 .1 -.897",key:"svg-0"}],["path",{d:"M3 3l18 18",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var rI=fe("outline","bookmark","IconBookmark",[["path",{d:"M18 7v14l-6 -4l-6 4v-14a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gHe=fe("outline","box-multiple","IconBoxMultiple",[["path",{d:"M7 3m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M17 17v2a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h2",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var sI=fe("outline","brand-android","IconBrandAndroid",[["path",{d:"M4 10l0 6",key:"svg-0"}],["path",{d:"M20 10l0 6",key:"svg-1"}],["path",{d:"M7 9h10v8a1 1 0 0 1 -1 1h-8a1 1 0 0 1 -1 -1v-8a5 5 0 0 1 10 0",key:"svg-2"}],["path",{d:"M8 3l1 2",key:"svg-3"}],["path",{d:"M16 3l-1 2",key:"svg-4"}],["path",{d:"M9 18l0 3",key:"svg-5"}],["path",{d:"M15 18l0 3",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vHe=fe("outline","brand-dribbble","IconBrandDribbble",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 3.6c5 6 7 10.5 7.5 16.2",key:"svg-1"}],["path",{d:"M6.4 19c3.5 -3.5 6 -6.5 14.5 -6.4",key:"svg-2"}],["path",{d:"M3.1 10.75c5 0 9.814 -.38 15.314 -5",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var yHe=fe("outline","brand-facebook","IconBrandFacebook",[["path",{d:"M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xHe=fe("outline","brand-google-drive","IconBrandGoogleDrive",[["path",{d:"M12 10l-6 10l-3 -5l6 -10z",key:"svg-0"}],["path",{d:"M9 15h12l-3 5h-12",key:"svg-1"}],["path",{d:"M15 15l-6 -10h6l6 10z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bHe=fe("outline","brand-instagram","IconBrandInstagram",[["path",{d:"M4 8a4 4 0 0 1 4 -4h8a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-8a4 4 0 0 1 -4 -4z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}],["path",{d:"M16.5 7.5v.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wHe=fe("outline","brand-notion","IconBrandNotion",[["path",{d:"M11 17.5v-6.5h.5l4 6h.5v-6.5",key:"svg-0"}],["path",{d:"M19.077 20.071l-11.53 .887a1 1 0 0 1 -.876 -.397l-2.471 -3.294a1 1 0 0 1 -.2 -.6v-10.741a1 1 0 0 1 .923 -.997l11.389 -.876a2 2 0 0 1 1.262 .33l1.535 1.023a2 2 0 0 1 .891 1.664v12.004a1 1 0 0 1 -.923 .997z",key:"svg-1"}],["path",{d:"M4.5 5.5l2.5 2.5",key:"svg-2"}],["path",{d:"M20 7l-13 1v12.5",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _He=fe("outline","brand-onedrive","IconBrandOnedrive",[["path",{d:"M18.456 10.45a6.45 6.45 0 0 0 -12 -2.151a4.857 4.857 0 0 0 -4.44 5.241a4.856 4.856 0 0 0 5.236 4.444h10.751a3.771 3.771 0 0 0 3.99 -3.54a3.772 3.772 0 0 0 -3.538 -3.992z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var CHe=fe("outline","brand-tiktok","IconBrandTiktok",[["path",{d:"M21 7.917v4.034a9.948 9.948 0 0 1 -5 -1.951v4.5a6.5 6.5 0 1 1 -8 -6.326v4.326a2.5 2.5 0 1 0 4 2v-11.5h4.083a6.005 6.005 0 0 0 4.917 4.917z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var SHe=fe("outline","brand-wikipedia","IconBrandWikipedia",[["path",{d:"M3 4.984h2",key:"svg-0"}],["path",{d:"M8 4.984h2.5",key:"svg-1"}],["path",{d:"M14.5 4.984h2.5",key:"svg-2"}],["path",{d:"M22 4.984h-2",key:"svg-3"}],["path",{d:"M4 4.984l5.455 14.516l6.545 -14.516",key:"svg-4"}],["path",{d:"M9 4.984l6 14.516l6 -14.516",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var rce=fe("outline","brand-windows","IconBrandWindows",[["path",{d:"M17.8 20l-12 -1.5c-1 -.1 -1.8 -.9 -1.8 -1.9v-9.2c0 -1 .8 -1.8 1.8 -1.9l12 -1.5c1.2 -.1 2.2 .8 2.2 1.9v12.1c0 1.2 -1.1 2.1 -2.2 1.9z",key:"svg-0"}],["path",{d:"M12 5l0 14",key:"svg-1"}],["path",{d:"M4 12l16 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var MHe=fe("outline","brand-x","IconBrandX",[["path",{d:"M4 4l11.733 16h4.267l-11.733 -16z",key:"svg-0"}],["path",{d:"M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var sce=fe("outline","brand-youtube","IconBrandYoutube",[["path",{d:"M2 8a4 4 0 0 1 4 -4h12a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-12a4 4 0 0 1 -4 -4v-8z",key:"svg-0"}],["path",{d:"M10 9l5 3l-5 3z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kHe=fe("outline","briefcase-2","IconBriefcase2",[["path",{d:"M3 9a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-9z",key:"svg-0"}],["path",{d:"M8 7v-2a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v2",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var EHe=fe("outline","briefcase","IconBriefcase",[["path",{d:"M3 7m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M8 7v-2a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v2",key:"svg-1"}],["path",{d:"M12 12l0 .01",key:"svg-2"}],["path",{d:"M3 13a20 20 0 0 0 18 0",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var THe=fe("outline","broadcast","IconBroadcast",[["path",{d:"M18.364 19.364a9 9 0 1 0 -12.728 0",key:"svg-0"}],["path",{d:"M15.536 16.536a5 5 0 1 0 -7.072 0",key:"svg-1"}],["path",{d:"M12 13m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var uY=fe("outline","browser-minus","IconBrowserMinus",[["path",{d:"M4 8h16",key:"svg-0"}],["path",{d:"M12 20h-6a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v9",key:"svg-1"}],["path",{d:"M8 4v4",key:"svg-2"}],["path",{d:"M16 19h6",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dY=fe("outline","browser-plus","IconBrowserPlus",[["path",{d:"M4 8h16",key:"svg-0"}],["path",{d:"M12 20h-6a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v6",key:"svg-1"}],["path",{d:"M8 4v4",key:"svg-2"}],["path",{d:"M16 19h6",key:"svg-3"}],["path",{d:"M19 16v6",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var NHe=fe("outline","browser","IconBrowser",[["path",{d:"M4 8h16",key:"svg-0"}],["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M8 4v4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var jHe=fe("outline","brush","IconBrush",[["path",{d:"M3 21v-4a4 4 0 1 1 4 4h-4",key:"svg-0"}],["path",{d:"M21 3a16 16 0 0 0 -12.8 10.2",key:"svg-1"}],["path",{d:"M21 3a16 16 0 0 1 -10.2 12.8",key:"svg-2"}],["path",{d:"M10.6 9a9 9 0 0 1 4.4 4.4",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fY=fe("outline","bubble-text","IconBubbleText",[["path",{d:"M7 10h10",key:"svg-0"}],["path",{d:"M9 14h5",key:"svg-1"}],["path",{d:"M12.4 3a5.34 5.34 0 0 1 4.906 3.239a5.333 5.333 0 0 1 -1.195 10.6a4.26 4.26 0 0 1 -5.28 1.863l-3.831 2.298v-3.134a2.668 2.668 0 0 1 -1.795 -3.773a4.8 4.8 0 0 1 2.908 -8.933a5.33 5.33 0 0 1 4.287 -2.16",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hY=fe("outline","bug","IconBug",[["path",{d:"M9 9v-1a3 3 0 0 1 6 0v1",key:"svg-0"}],["path",{d:"M8 9h8a6 6 0 0 1 1 3v3a5 5 0 0 1 -10 0v-3a6 6 0 0 1 1 -3",key:"svg-1"}],["path",{d:"M3 13l4 0",key:"svg-2"}],["path",{d:"M17 13l4 0",key:"svg-3"}],["path",{d:"M12 20l0 -6",key:"svg-4"}],["path",{d:"M4 19l3.35 -2",key:"svg-5"}],["path",{d:"M20 19l-3.35 -2",key:"svg-6"}],["path",{d:"M4 7l3.75 2.4",key:"svg-7"}],["path",{d:"M20 7l-3.75 2.4",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var AHe=fe("outline","building-bank","IconBuildingBank",[["path",{d:"M3 21l18 0",key:"svg-0"}],["path",{d:"M3 10l18 0",key:"svg-1"}],["path",{d:"M5 6l7 -3l7 3",key:"svg-2"}],["path",{d:"M4 10l0 11",key:"svg-3"}],["path",{d:"M20 10l0 11",key:"svg-4"}],["path",{d:"M8 14l0 3",key:"svg-5"}],["path",{d:"M12 14l0 3",key:"svg-6"}],["path",{d:"M16 14l0 3",key:"svg-7"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vj=fe("outline","building-cog","IconBuildingCog",[["path",{d:"M3 21h9",key:"svg-0"}],["path",{d:"M9 8h1",key:"svg-1"}],["path",{d:"M9 12h1",key:"svg-2"}],["path",{d:"M9 16h1",key:"svg-3"}],["path",{d:"M14 8h1",key:"svg-4"}],["path",{d:"M14 12h1",key:"svg-5"}],["path",{d:"M5 21v-16c0 -.53 .211 -1.039 .586 -1.414c.375 -.375 .884 -.586 1.414 -.586h10c.53 0 1.039 .211 1.414 .586c.375 .375 .586 .884 .586 1.414v7",key:"svg-6"}],["path",{d:"M16 18c0 .53 .211 1.039 .586 1.414c.375 .375 .884 .586 1.414 .586c.53 0 1.039 -.211 1.414 -.586c.375 -.375 .586 -.884 .586 -1.414c0 -.53 -.211 -1.039 -.586 -1.414c-.375 -.375 -.884 -.586 -1.414 -.586c-.53 0 -1.039 .211 -1.414 .586c-.375 .375 -.586 .884 -.586 1.414z",key:"svg-7"}],["path",{d:"M18 14.5v1.5",key:"svg-8"}],["path",{d:"M18 20v1.5",key:"svg-9"}],["path",{d:"M21.032 16.25l-1.299 .75",key:"svg-10"}],["path",{d:"M16.27 19l-1.3 .75",key:"svg-11"}],["path",{d:"M14.97 16.25l1.3 .75",key:"svg-12"}],["path",{d:"M19.733 19l1.3 .75",key:"svg-13"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pg=fe("outline","building","IconBuilding",[["path",{d:"M3 21l18 0",key:"svg-0"}],["path",{d:"M9 8l1 0",key:"svg-1"}],["path",{d:"M9 12l1 0",key:"svg-2"}],["path",{d:"M9 16l1 0",key:"svg-3"}],["path",{d:"M14 8l1 0",key:"svg-4"}],["path",{d:"M14 12l1 0",key:"svg-5"}],["path",{d:"M14 16l1 0",key:"svg-6"}],["path",{d:"M5 21v-16a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v16",key:"svg-7"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var RHe=fe("outline","bulb","IconBulb",[["path",{d:"M3 12h1m8 -9v1m8 8h1m-15.4 -6.4l.7 .7m12.1 -.7l-.7 .7",key:"svg-0"}],["path",{d:"M9 16a5 5 0 1 1 6 0a3.5 3.5 0 0 0 -1 3a2 2 0 0 1 -4 0a3.5 3.5 0 0 0 -1 -3",key:"svg-1"}],["path",{d:"M9.7 17l4.6 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var LHe=fe("outline","calculator","IconCalculator",[["path",{d:"M4 3m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M8 7m0 1a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1v1a1 1 0 0 1 -1 1h-6a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M8 14l0 .01",key:"svg-2"}],["path",{d:"M12 14l0 .01",key:"svg-3"}],["path",{d:"M16 14l0 .01",key:"svg-4"}],["path",{d:"M8 17l0 .01",key:"svg-5"}],["path",{d:"M12 17l0 .01",key:"svg-6"}],["path",{d:"M16 17l0 .01",key:"svg-7"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var G7=fe("outline","calendar-event","IconCalendarEvent",[["path",{d:"M4 5m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M16 3l0 4",key:"svg-1"}],["path",{d:"M8 3l0 4",key:"svg-2"}],["path",{d:"M4 11l16 0",key:"svg-3"}],["path",{d:"M8 15h2v2h-2z",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var OHe=fe("outline","calendar-plus","IconCalendarPlus",[["path",{d:"M12.5 21h-6.5a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v5",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M16 19h6",key:"svg-4"}],["path",{d:"M19 16v6",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Y7=fe("outline","calendar-search","IconCalendarSearch",[["path",{d:"M11.5 21h-5.5a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4.5",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-4"}],["path",{d:"M20.2 20.2l1.8 1.8",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Th=fe("outline","calendar-time","IconCalendarTime",[["path",{d:"M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4",key:"svg-0"}],["path",{d:"M18 18m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-1"}],["path",{d:"M15 3v4",key:"svg-2"}],["path",{d:"M7 3v4",key:"svg-3"}],["path",{d:"M3 11h16",key:"svg-4"}],["path",{d:"M18 16.496v1.504l1 1",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var aI=fe("outline","calendar","IconCalendar",[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M11 15h1",key:"svg-4"}],["path",{d:"M12 15v3",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var PHe=fe("outline","cash-banknote","IconCashBanknote",[["path",{d:"M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M3 6m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M18 12l.01 0",key:"svg-2"}],["path",{d:"M6 12l.01 0",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gg=fe("outline","chart-bubble","IconChartBubble",[["path",{d:"M6 16m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M16 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14.5 7.5m-4.5 0a4.5 4.5 0 1 0 9 0a4.5 4.5 0 1 0 -9 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IHe=fe("outline","chart-dots-3","IconChartDots3",[["path",{d:"M5 7m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M16 15m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M18 6m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-2"}],["path",{d:"M6 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-3"}],["path",{d:"M9 17l5 -1.5",key:"svg-4"}],["path",{d:"M6.5 8.5l7.81 5.37",key:"svg-5"}],["path",{d:"M7 7l8 -1",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pa=fe("outline","check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ia=fe("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ace=fe("outline","chevron-left","IconChevronLeft",[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xa=fe("outline","chevron-right","IconChevronRight",[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var iI=fe("outline","chevron-up","IconChevronUp",[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ice=fe("outline","circle-check","IconCircleCheck",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var DHe=fe("outline","circle","IconCircle",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var FHe=fe("outline","click","IconClick",[["path",{d:"M3 12l3 0",key:"svg-0"}],["path",{d:"M12 3l0 3",key:"svg-1"}],["path",{d:"M7.8 7.8l-2.2 -2.2",key:"svg-2"}],["path",{d:"M16.2 7.8l2.2 -2.2",key:"svg-3"}],["path",{d:"M7.8 16.2l-2.2 2.2",key:"svg-4"}],["path",{d:"M12 12l9 3l-4 2l-2 4l-3 -9",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var oce=fe("outline","clipboard-check","IconClipboardCheck",[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M9 14l2 2l4 -4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var UHe=fe("outline","clipboard-heart","IconClipboardHeart",[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M11.993 16.75l2.747 -2.815a1.9 1.9 0 0 0 0 -2.632a1.775 1.775 0 0 0 -2.56 0l-.183 .188l-.183 -.189a1.775 1.775 0 0 0 -2.56 0a1.899 1.899 0 0 0 0 2.632l2.738 2.825z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lce=fe("outline","clock-x","IconClockX",[["path",{d:"M20.926 13.15a9 9 0 1 0 -7.835 7.784",key:"svg-0"}],["path",{d:"M12 7v5l2 2",key:"svg-1"}],["path",{d:"M22 22l-5 -5",key:"svg-2"}],["path",{d:"M17 22l5 -5",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cce=fe("outline","clock","IconClock",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 7v5l3 3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vw=fe("outline","code","IconCode",[["path",{d:"M7 8l-4 4l4 4",key:"svg-0"}],["path",{d:"M17 8l4 4l-4 4",key:"svg-1"}],["path",{d:"M14 4l-4 16",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var BHe=fe("outline","coin","IconCoin",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1",key:"svg-1"}],["path",{d:"M12 7v10",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var VHe=fe("outline","cookie","IconCookie",[["path",{d:"M8 13v.01",key:"svg-1"}],["path",{d:"M12 17v.01",key:"svg-2"}],["path",{d:"M12 12v.01",key:"svg-3"}],["path",{d:"M16 14v.01",key:"svg-4"}],["path",{d:"M11 8v.01",key:"svg-5"}],["path",{d:"M13.148 3.476l2.667 1.104a4 4 0 0 0 4.656 6.14l.053 .132a3 3 0 0 1 0 2.296q -.745 1.18 -1.024 1.852q -.283 .684 -.66 2.216a3 3 0 0 1 -1.624 1.623q -1.572 .394 -2.216 .661q -.712 .295 -1.852 1.024a3 3 0 0 1 -2.296 0q -1.203 -.754 -1.852 -1.024q -.707 -.292 -2.216 -.66a3 3 0 0 1 -1.623 -1.624q -.397 -1.577 -.661 -2.216q -.298 -.718 -1.024 -1.852a3 3 0 0 1 0 -2.296q .719 -1.116 1.024 -1.852q .257 -.62 .66 -2.216a3 3 0 0 1 1.624 -1.623q 1.547 -.384 2.216 -.661q .687 -.285 1.852 -1.024a3 3 0 0 1 2.296 0",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var zHe=fe("outline","copy","IconCopy",[["path",{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var HHe=fe("outline","corner-down-right","IconCornerDownRight",[["path",{d:"M6 6v6a3 3 0 0 0 3 3h10l-4 -4m0 8l4 -4",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var uce=fe("outline","cpu","IconCpu",[["path",{d:"M5 5m0 1a1 1 0 0 1 1 -1h12a1 1 0 0 1 1 1v12a1 1 0 0 1 -1 1h-12a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M9 9h6v6h-6z",key:"svg-1"}],["path",{d:"M3 10h2",key:"svg-2"}],["path",{d:"M3 14h2",key:"svg-3"}],["path",{d:"M10 3v2",key:"svg-4"}],["path",{d:"M14 3v2",key:"svg-5"}],["path",{d:"M21 10h-2",key:"svg-6"}],["path",{d:"M21 14h-2",key:"svg-7"}],["path",{d:"M14 21v-2",key:"svg-8"}],["path",{d:"M10 21v-2",key:"svg-9"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var WHe=fe("outline","cricket","IconCricket",[["path",{d:"M11.105 18.79l-1 .992a4.159 4.159 0 0 1 -6.038 -5.715l.157 -.166l8.282 -8.401l1.5 1.5l3.45 -3.391a2.08 2.08 0 0 1 3.057 2.815l-.116 .126l-3.391 3.45l1.5 1.5l-3.668 3.617",key:"svg-0"}],["path",{d:"M10.5 7.5l6 6",key:"svg-1"}],["path",{d:"M14 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $He=fe("outline","currency-dollar","IconCurrencyDollar",[["path",{d:"M16.7 8a3 3 0 0 0 -2.7 -2h-4a3 3 0 0 0 0 6h4a3 3 0 0 1 0 6h-4a3 3 0 0 1 -2.7 -2",key:"svg-0"}],["path",{d:"M12 3v3m0 12v3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var qHe=fe("outline","device-floppy","IconDeviceFloppy",[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var GHe=fe("outline","device-laptop","IconDeviceLaptop",[["path",{d:"M3 19l18 0",key:"svg-0"}],["path",{d:"M5 6m0 1a1 1 0 0 1 1 -1h12a1 1 0 0 1 1 1v8a1 1 0 0 1 -1 1h-12a1 1 0 0 1 -1 -1z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var YHe=fe("outline","device-tv","IconDeviceTv",[["path",{d:"M3 7m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M16 3l-4 4l-4 -4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var KHe=fe("outline","dots-vertical","IconDotsVertical",[["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var tf=fe("outline","dots","IconDots",[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var R_=fe("outline","download","IconDownload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 11l5 5l5 -5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var am=fe("outline","edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var oI=fe("outline","exclamation-circle","IconExclamationCircle",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 9v4",key:"svg-1"}],["path",{d:"M12 16v.01",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var yw=fe("outline","external-link","IconExternalLink",[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var QHe=fe("outline","eye","IconEye",[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var XHe=fe("outline","file-arrow-right","IconFileArrowRight",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M9 15h6",key:"svg-2"}],["path",{d:"M12.5 17.5l2.5 -2.5l-2.5 -2.5",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dce=fe("outline","file-export","IconFileExport",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M11.5 21h-4.5a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v5m-5 6h7m-3 -3l3 3l-3 3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fce=fe("outline","file-spreadsheet","IconFileSpreadsheet",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M8 11h8v7h-8z",key:"svg-2"}],["path",{d:"M8 15h8",key:"svg-3"}],["path",{d:"M11 11v7",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fh=fe("outline","file-text","IconFileText",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M9 9l1 0",key:"svg-2"}],["path",{d:"M9 13l6 0",key:"svg-3"}],["path",{d:"M9 17l6 0",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZHe=fe("outline","file-type-csv","IconFileTypeCsv",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4",key:"svg-1"}],["path",{d:"M7 16.5a1.5 1.5 0 0 0 -3 0v3a1.5 1.5 0 0 0 3 0",key:"svg-2"}],["path",{d:"M10 20.25c0 .414 .336 .75 .75 .75h1.25a1 1 0 0 0 1 -1v-1a1 1 0 0 0 -1 -1h-1a1 1 0 0 1 -1 -1v-1a1 1 0 0 1 1 -1h1.25a.75 .75 0 0 1 .75 .75",key:"svg-3"}],["path",{d:"M16 15l2 6l2 -6",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var JHe=fe("outline","file-type-doc","IconFileTypeDoc",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4",key:"svg-1"}],["path",{d:"M5 15v6h1a2 2 0 0 0 2 -2v-2a2 2 0 0 0 -2 -2h-1z",key:"svg-2"}],["path",{d:"M20 16.5a1.5 1.5 0 0 0 -3 0v3a1.5 1.5 0 0 0 3 0",key:"svg-3"}],["path",{d:"M12.5 15a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1 -3 0v-3a1.5 1.5 0 0 1 1.5 -1.5z",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var eWe=fe("outline","file-type-docx","IconFileTypeDocx",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4",key:"svg-1"}],["path",{d:"M2 15v6h1a2 2 0 0 0 2 -2v-2a2 2 0 0 0 -2 -2h-1z",key:"svg-2"}],["path",{d:"M17 16.5a1.5 1.5 0 0 0 -3 0v3a1.5 1.5 0 0 0 3 0",key:"svg-3"}],["path",{d:"M9.5 15a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1 -3 0v-3a1.5 1.5 0 0 1 1.5 -1.5z",key:"svg-4"}],["path",{d:"M19.5 15l3 6",key:"svg-5"}],["path",{d:"M19.5 21l3 -6",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hce=fe("outline","file-type-pdf","IconFileTypePdf",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4",key:"svg-1"}],["path",{d:"M5 18h1.5a1.5 1.5 0 0 0 0 -3h-1.5v6",key:"svg-2"}],["path",{d:"M17 18h2",key:"svg-3"}],["path",{d:"M20 15h-3v6",key:"svg-4"}],["path",{d:"M11 15v6h1a2 2 0 0 0 2 -2v-2a2 2 0 0 0 -2 -2h-1z",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var tWe=fe("outline","file-type-ppt","IconFileTypePpt",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-1"}],["path",{d:"M5 18h1.5a1.5 1.5 0 0 0 0 -3h-1.5v6",key:"svg-2"}],["path",{d:"M11 18h1.5a1.5 1.5 0 0 0 0 -3h-1.5v6",key:"svg-3"}],["path",{d:"M16.5 15h3",key:"svg-4"}],["path",{d:"M18 15v6",key:"svg-5"}],["path",{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var nWe=fe("outline","file-type-zip","IconFileTypeZip",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M5 12v-7a2 2 0 0 1 2 -2h7l5 5v4",key:"svg-1"}],["path",{d:"M16 18h1.5a1.5 1.5 0 0 0 0 -3h-1.5v6",key:"svg-2"}],["path",{d:"M12 15v6",key:"svg-3"}],["path",{d:"M5 15h3l-3 6h3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var rWe=fe("outline","file-upload","IconFileUpload",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M12 11v6",key:"svg-2"}],["path",{d:"M9.5 13.5l2.5 -2.5l2.5 2.5",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var nf=fe("outline","file","IconFile",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mce=fe("outline","files","IconFiles",[["path",{d:"M15 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M18 17h-7a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h4l5 5v7a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M16 17v2a2 2 0 0 1 -2 2h-7a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h2",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var sWe=fe("outline","filter","IconFilter",[["path",{d:"M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var aWe=fe("outline","flag","IconFlag",[["path",{d:"M5 5a5 5 0 0 1 7 0a5 5 0 0 0 7 0v9a5 5 0 0 1 -7 0a5 5 0 0 0 -7 0v-9z",key:"svg-0"}],["path",{d:"M5 21v-7",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var iWe=fe("outline","flame","IconFlame",[["path",{d:"M12 10.941c2.333 -3.308 .167 -7.823 -1 -8.941c0 3.395 -2.235 5.299 -3.667 6.706c-1.43 1.408 -2.333 3.621 -2.333 5.588c0 3.704 3.134 6.706 7 6.706s7 -3.002 7 -6.706c0 -1.712 -1.232 -4.403 -2.333 -5.588c-2.084 3.353 -3.257 3.353 -4.667 2.235",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var oWe=fe("outline","flask","IconFlask",[["path",{d:"M9 3l6 0",key:"svg-0"}],["path",{d:"M10 9l4 0",key:"svg-1"}],["path",{d:"M10 3v6l-4 11a.7 .7 0 0 0 .5 1h11a.7 .7 0 0 0 .5 -1l-4 -11v-6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lWe=fe("outline","forms","IconForms",[["path",{d:"M12 3a3 3 0 0 0 -3 3v12a3 3 0 0 0 3 3",key:"svg-0"}],["path",{d:"M6 3a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3",key:"svg-1"}],["path",{d:"M13 7h7a1 1 0 0 1 1 1v8a1 1 0 0 1 -1 1h-7",key:"svg-2"}],["path",{d:"M5 7h-1a1 1 0 0 0 -1 1v8a1 1 0 0 0 1 1h1",key:"svg-3"}],["path",{d:"M17 12h.01",key:"svg-4"}],["path",{d:"M13 12h.01",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var L_=fe("outline","git-fork","IconGitFork",[["path",{d:"M12 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M7 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M17 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-2"}],["path",{d:"M7 8v2a2 2 0 0 0 2 2h6a2 2 0 0 0 2 -2v-2",key:"svg-3"}],["path",{d:"M12 12l0 4",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mY=fe("outline","git-merge","IconGitMerge",[["path",{d:"M7 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M7 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M17 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-2"}],["path",{d:"M7 8l0 8",key:"svg-3"}],["path",{d:"M7 8a4 4 0 0 0 4 4h4",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cWe=fe("outline","globe","IconGlobe",[["path",{d:"M7 9a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M5.75 15a8.015 8.015 0 1 0 9.25 -13",key:"svg-1"}],["path",{d:"M11 17v4",key:"svg-2"}],["path",{d:"M7 21h8",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var uWe=fe("outline","graph","IconGraph",[["path",{d:"M4 18v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M7 14l3 -3l2 2l3 -3l2 2",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dWe=fe("outline","grid-dots","IconGridDots",[["path",{d:"M5 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}],["path",{d:"M5 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-6"}],["path",{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-7"}],["path",{d:"M19 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fWe=fe("outline","hanger","IconHanger",[["path",{d:"M14 6a2 2 0 1 0 -4 0c0 1.667 .67 3 2 4h-.008l7.971 4.428a2 2 0 0 1 1.029 1.749v.823a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-.823a2 2 0 0 1 1.029 -1.749l7.971 -4.428",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hWe=fe("outline","heart-handshake","IconHeartHandshake",[["path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572",key:"svg-0"}],["path",{d:"M12 6l-3.293 3.293a1 1 0 0 0 0 1.414l.543 .543c.69 .69 1.81 .69 2.5 0l1 -1a3.182 3.182 0 0 1 4.5 0l2.25 2.25",key:"svg-1"}],["path",{d:"M12.5 15.5l2 2",key:"svg-2"}],["path",{d:"M15 13l2 2",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var zj=fe("outline","heart","IconHeart",[["path",{d:"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mWe=fe("outline","horse-toy","IconHorseToy",[["path",{d:"M3.5 17.5c5.667 4.667 11.333 4.667 17 0",key:"svg-0"}],["path",{d:"M19 18.5l-2 -8.5l1 -2l2 1l1.5 -1.5l-2.5 -4.5c-5.052 .218 -5.99 3.133 -7 6h-6a3 3 0 0 0 -3 3",key:"svg-1"}],["path",{d:"M5 18.5l2 -9.5",key:"svg-2"}],["path",{d:"M8 20l2 -5h4l2 5",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pWe=fe("outline","hourglass-high","IconHourglassHigh",[["path",{d:"M6.5 7h11",key:"svg-0"}],["path",{d:"M6 20v-2a6 6 0 1 1 12 0v2a1 1 0 0 1 -1 1h-10a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M6 4v2a6 6 0 1 0 12 0v-2a1 1 0 0 0 -1 -1h-10a1 1 0 0 0 -1 1z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gWe=fe("outline","inbox","IconInbox",[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M4 13h3l3 3h4l3 -3h3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vWe=fe("outline","info-circle","IconInfoCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var yWe=fe("outline","input-search","IconInputSearch",[["path",{d:"M20 11v-2a2 2 0 0 0 -2 -2h-12a2 2 0 0 0 -2 2v5a2 2 0 0 0 2 2h5",key:"svg-0"}],["path",{d:"M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M20.2 20.2l1.8 1.8",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xWe=fe("outline","key","IconKey",[["path",{d:"M16.555 3.843l3.602 3.602a2.877 2.877 0 0 1 0 4.069l-2.643 2.643a2.877 2.877 0 0 1 -4.069 0l-.301 -.301l-6.558 6.558a2 2 0 0 1 -1.239 .578l-.175 .008h-1.172a1 1 0 0 1 -.993 -.883l-.007 -.117v-1.172a2 2 0 0 1 .467 -1.284l.119 -.13l.414 -.414h2v-2h2v-2l2.144 -2.144l-.301 -.301a2.877 2.877 0 0 1 0 -4.069l2.643 -2.643a2.877 2.877 0 0 1 4.069 0z",key:"svg-0"}],["path",{d:"M15 9h.01",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _5=fe("outline","keyboard","IconKeyboard",[["path",{d:"M2 6m0 2a2 2 0 0 1 2 -2h16a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-16a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M6 10l0 .01",key:"svg-1"}],["path",{d:"M10 10l0 .01",key:"svg-2"}],["path",{d:"M14 10l0 .01",key:"svg-3"}],["path",{d:"M18 10l0 .01",key:"svg-4"}],["path",{d:"M6 14l0 .01",key:"svg-5"}],["path",{d:"M18 14l0 .01",key:"svg-6"}],["path",{d:"M10 14l4 .01",key:"svg-7"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bWe=fe("outline","language","IconLanguage",[["path",{d:"M4 5h7",key:"svg-0"}],["path",{d:"M9 3v2c0 4.418 -2.239 8 -5 8",key:"svg-1"}],["path",{d:"M5 9c0 2.144 2.952 3.908 6.7 4",key:"svg-2"}],["path",{d:"M12 20l4 -9l4 9",key:"svg-3"}],["path",{d:"M19.1 18h-6.2",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wWe=fe("outline","layout-collage","IconLayoutCollage",[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M10 4l4 16",key:"svg-1"}],["path",{d:"M12 12l-8 2",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _We=fe("outline","layout-columns","IconLayoutColumns",[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M12 4l0 16",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var CWe=fe("outline","layout-grid-add","IconLayoutGridAdd",[["path",{d:"M4 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M14 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z",key:"svg-2"}],["path",{d:"M14 17h6m-3 -3v6",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var SWe=fe("outline","library-photo","IconLibraryPhoto",[["path",{d:"M7 3m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 7.26a2.005 2.005 0 0 0 -1.012 1.737v10c0 1.1 .9 2 2 2h10c.75 0 1.158 -.385 1.5 -1",key:"svg-1"}],["path",{d:"M17 7h.01",key:"svg-2"}],["path",{d:"M7 13l3.644 -3.644a1.21 1.21 0 0 1 1.712 0l3.644 3.644",key:"svg-3"}],["path",{d:"M15 12l1.644 -1.644a1.21 1.21 0 0 1 1.712 0l2.644 2.644",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hx=fe("outline","link","IconLink",[["path",{d:"M9 15l6 -6",key:"svg-0"}],["path",{d:"M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464",key:"svg-1"}],["path",{d:"M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vg=fe("outline","list-search","IconListSearch",[["path",{d:"M15 15m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M18.5 18.5l2.5 2.5",key:"svg-1"}],["path",{d:"M4 6h16",key:"svg-2"}],["path",{d:"M4 12h4",key:"svg-3"}],["path",{d:"M4 18h4",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pce=fe("outline","loader-2","IconLoader2",[["path",{d:"M12 3a9 9 0 1 0 9 9",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gce=fe("outline","location","IconLocation",[["path",{d:"M21 3l-6.5 18a.55 .55 0 0 1 -1 0l-3.5 -7l-7 -3.5a.55 .55 0 0 1 0 -1l18 -6.5",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ey=fe("outline","lock","IconLock",[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var K7=fe("outline","mail-search","IconMailSearch",[["path",{d:"M11 19h-6a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v4.5",key:"svg-0"}],["path",{d:"M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M20.2 20.2l1.8 1.8",key:"svg-2"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var lI=fe("outline","mail","IconMail",[["path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z",key:"svg-0"}],["path",{d:"M3 7l9 6l9 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vce=fe("outline","map-pin","IconMapPin",[["path",{d:"M9 11a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M17.657 16.657l-4.243 4.243a2 2 0 0 1 -2.827 0l-4.244 -4.243a8 8 0 1 1 11.314 0z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var MWe=fe("outline","map","IconMap",[["path",{d:"M3 7l6 -3l6 3l6 -3v13l-6 3l-6 -3l-6 3v-13",key:"svg-0"}],["path",{d:"M9 4v13",key:"svg-1"}],["path",{d:"M15 7v13",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kWe=fe("outline","markdown","IconMarkdown",[["path",{d:"M3 5m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M7 15v-6l2 2l2 -2v6",key:"svg-1"}],["path",{d:"M14 13l2 2l2 -2m-2 2v-6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var EWe=fe("outline","masks-theater","IconMasksTheater",[["path",{d:"M13.192 9h6.616a2 2 0 0 1 1.992 2.183l-.567 6.182a4 4 0 0 1 -3.983 3.635h-1.5a4 4 0 0 1 -3.983 -3.635l-.567 -6.182a2 2 0 0 1 1.992 -2.183z",key:"svg-0"}],["path",{d:"M15 13h.01",key:"svg-1"}],["path",{d:"M18 13h.01",key:"svg-2"}],["path",{d:"M15 16.5c1 .667 2 .667 3 0",key:"svg-3"}],["path",{d:"M8.632 15.982a4.037 4.037 0 0 1 -.382 .018h-1.5a4 4 0 0 1 -3.983 -3.635l-.567 -6.182a2 2 0 0 1 1.992 -2.183h6.616a2 2 0 0 1 2 2",key:"svg-4"}],["path",{d:"M6 8h.01",key:"svg-5"}],["path",{d:"M9 8h.01",key:"svg-6"}],["path",{d:"M6 12c.764 -.51 1.528 -.63 2.291 -.36",key:"svg-7"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var TWe=fe("outline","medicine-syrup","IconMedicineSyrup",[["path",{d:"M8 21h8a1 1 0 0 0 1 -1v-10a3 3 0 0 0 -3 -3h-4a3 3 0 0 0 -3 3v10a1 1 0 0 0 1 1z",key:"svg-0"}],["path",{d:"M10 14h4",key:"svg-1"}],["path",{d:"M12 12v4",key:"svg-2"}],["path",{d:"M10 7v-3a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v3",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var NWe=fe("outline","menu-2","IconMenu2",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l16 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var jWe=fe("outline","message-circle","IconMessageCircle",[["path",{d:"M3 20l1.3 -3.9c-2.324 -3.437 -1.426 -7.872 2.1 -10.374c3.526 -2.501 8.59 -2.296 11.845 .48c3.255 2.777 3.695 7.266 1.029 10.501c-2.666 3.235 -7.615 4.215 -11.574 2.293l-4.7 1",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var yce=fe("outline","message","IconMessage",[["path",{d:"M8 9h8",key:"svg-0"}],["path",{d:"M8 13h6",key:"svg-1"}],["path",{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var AWe=fe("outline","minus","IconMinus",[["path",{d:"M5 12l14 0",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xce=fe("outline","movie","IconMovie",[["path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M8 4l0 16",key:"svg-1"}],["path",{d:"M16 4l0 16",key:"svg-2"}],["path",{d:"M4 8l4 0",key:"svg-3"}],["path",{d:"M4 16l4 0",key:"svg-4"}],["path",{d:"M4 12l16 0",key:"svg-5"}],["path",{d:"M16 8l4 0",key:"svg-6"}],["path",{d:"M16 16l4 0",key:"svg-7"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var RWe=fe("outline","music","IconMusic",[["path",{d:"M3 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M13 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}],["path",{d:"M9 17v-13h10v13",key:"svg-2"}],["path",{d:"M9 8h10",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var LWe=fe("outline","palette","IconPalette",[["path",{d:"M12 21a9 9 0 0 1 0 -18c4.97 0 9 3.582 9 8c0 1.06 -.474 2.078 -1.318 2.828c-.844 .75 -1.989 1.172 -3.182 1.172h-2.5a2 2 0 0 0 -1 3.75a1.3 1.3 0 0 1 -1 2.25",key:"svg-0"}],["path",{d:"M8.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M12.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M16.5 10.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cI=fe("outline","paperclip","IconPaperclip",[["path",{d:"M15 7l-6.5 6.5a1.5 1.5 0 0 0 3 3l6.5 -6.5a3 3 0 0 0 -6 -6l-6.5 6.5a4.5 4.5 0 0 0 9 9l6.5 -6.5",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var OWe=fe("outline","pdf","IconPdf",[["path",{d:"M10 8v8h2a2 2 0 0 0 2 -2v-4a2 2 0 0 0 -2 -2h-2z",key:"svg-0"}],["path",{d:"M3 12h2a2 2 0 1 0 0 -4h-2v8",key:"svg-1"}],["path",{d:"M17 12h3",key:"svg-2"}],["path",{d:"M21 8h-4v8",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var uI=fe("outline","pencil","IconPencil",[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var PWe=fe("outline","phone","IconPhone",[["path",{d:"M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bce=fe("outline","photo-bolt","IconPhotoBolt",[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M13.5 21h-7.5a3 3 0 0 1 -3 -3v-12a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v6.5",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l4 4",key:"svg-2"}],["path",{d:"M14 14l1 -1c.669 -.643 1.45 -.823 2.18 -.54",key:"svg-3"}],["path",{d:"M19 16l-2 3h4l-2 3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var mx=fe("outline","photo","IconPhoto",[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var IWe=fe("outline","pig-money","IconPigMoney",[["path",{d:"M15 11v.01",key:"svg-0"}],["path",{d:"M5.173 8.378a3 3 0 1 1 4.656 -1.377",key:"svg-1"}],["path",{d:"M16 4v3.803a6.019 6.019 0 0 1 2.658 3.197h1.341a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-1.342c-.336 .95 -.907 1.8 -1.658 2.473v2.027a1.5 1.5 0 0 1 -3 0v-.583a6.04 6.04 0 0 1 -1 .083h-4a6.04 6.04 0 0 1 -1 -.083v.583a1.5 1.5 0 0 1 -3 0v-2l0 -.027a6 6 0 0 1 4 -10.473h2.5l4.5 -3h0z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var DWe=fe("outline","pin","IconPin",[["path",{d:"M15 4.5l-4 4l-4 1.5l-1.5 1.5l7 7l1.5 -1.5l1.5 -4l4 -4",key:"svg-0"}],["path",{d:"M9 15l-4.5 4.5",key:"svg-1"}],["path",{d:"M14.5 4l5.5 5.5",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var FWe=fe("outline","plane-tilt","IconPlaneTilt",[["path",{d:"M14.5 6.5l3 -2.9a2.05 2.05 0 0 1 2.9 2.9l-2.9 3l2.5 7.5l-2.5 2.55l-3.5 -6.55l-3 3v3l-2 2l-1.5 -4.5l-4.5 -1.5l2 -2h3l3 -3l-6.5 -3.5l2.5 -2.5l7.5 2.5z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var O_=fe("outline","plane","IconPlane",[["path",{d:"M16 10h4a2 2 0 0 1 0 4h-4l-4 7h-3l2 -7h-4l-2 2h-3l2 -4l-2 -4h3l2 2h4l-2 -7h3z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wce=fe("outline","player-play","IconPlayerPlay",[["path",{d:"M7 4v16l13 -8z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var UWe=fe("outline","player-track-next","IconPlayerTrackNext",[["path",{d:"M3 5v14l8 -7z",key:"svg-0"}],["path",{d:"M14 5v14l8 -7z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var BWe=fe("outline","playstation-triangle","IconPlaystationTriangle",[["path",{d:"M12 21a9 9 0 0 0 9 -9a9 9 0 0 0 -9 -9a9 9 0 0 0 -9 9a9 9 0 0 0 9 9z",key:"svg-0"}],["path",{d:"M7.5 15h9l-4.5 -8z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $r=fe("outline","plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var VWe=fe("outline","question-mark","IconQuestionMark",[["path",{d:"M8 8a3.5 3 0 0 1 3.5 -3h1a3.5 3 0 0 1 3.5 3a3 3 0 0 1 -2 3a3 4 0 0 0 -2 4",key:"svg-0"}],["path",{d:"M12 19l0 .01",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var zWe=fe("outline","quote","IconQuote",[["path",{d:"M10 11h-4a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1h3a1 1 0 0 1 1 1v6c0 2.667 -1.333 4.333 -4 5",key:"svg-0"}],["path",{d:"M19 11h-4a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1h3a1 1 0 0 1 1 1v6c0 2.667 -1.333 4.333 -4 5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _ce=fe("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var HWe=fe("outline","repeat","IconRepeat",[["path",{d:"M4 12v-3a3 3 0 0 1 3 -3h13m-3 -3l3 3l-3 3",key:"svg-0"}],["path",{d:"M20 12v3a3 3 0 0 1 -3 3h-13m3 3l-3 -3l3 -3",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Cce=fe("outline","report-money","IconReportMoney",[["path",{d:"M9 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2h-2",key:"svg-0"}],["path",{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-1"}],["path",{d:"M14 11h-2.5a1.5 1.5 0 0 0 0 3h1a1.5 1.5 0 0 1 0 3h-2.5",key:"svg-2"}],["path",{d:"M12 17v1m0 -8v1",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sce=fe("outline","report-search","IconReportSearch",[["path",{d:"M8 5h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h5.697",key:"svg-0"}],["path",{d:"M18 12v-5a2 2 0 0 0 -2 -2h-2",key:"svg-1"}],["path",{d:"M8 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z",key:"svg-2"}],["path",{d:"M8 11h4",key:"svg-3"}],["path",{d:"M8 15h3",key:"svg-4"}],["path",{d:"M16.5 17.5m-2.5 0a2.5 2.5 0 1 0 5 0a2.5 2.5 0 1 0 -5 0",key:"svg-5"}],["path",{d:"M18.5 19.5l2.5 2.5",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var pY=fe("outline","scale","IconScale",[["path",{d:"M7 20l10 0",key:"svg-0"}],["path",{d:"M6 6l6 -1l6 1",key:"svg-1"}],["path",{d:"M12 3l0 17",key:"svg-2"}],["path",{d:"M9 12l-3 -6l-3 6a3 3 0 0 0 6 0",key:"svg-3"}],["path",{d:"M21 12l-3 -6l-3 6a3 3 0 0 0 6 0",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var WWe=fe("outline","scan-eye","IconScanEye",[["path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2",key:"svg-0"}],["path",{d:"M4 16v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2",key:"svg-3"}],["path",{d:"M7 12c3.333 -4.667 6.667 -4.667 10 0",key:"svg-4"}],["path",{d:"M7 12c3.333 4.667 6.667 4.667 10 0",key:"svg-5"}],["path",{d:"M12 12h-.01",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xw=fe("outline","school","IconSchool",[["path",{d:"M22 9l-10 -4l-10 4l10 4l10 -4v6",key:"svg-0"}],["path",{d:"M6 10.6v5.4a6 3 0 0 0 12 0v-5.4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $We=fe("outline","screenshot","IconScreenshot",[["path",{d:"M7 19a2 2 0 0 1 -2 -2",key:"svg-0"}],["path",{d:"M5 13v-2",key:"svg-1"}],["path",{d:"M5 7a2 2 0 0 1 2 -2",key:"svg-2"}],["path",{d:"M11 5h2",key:"svg-3"}],["path",{d:"M17 5a2 2 0 0 1 2 2",key:"svg-4"}],["path",{d:"M19 11v2",key:"svg-5"}],["path",{d:"M19 17v4",key:"svg-6"}],["path",{d:"M21 19h-4",key:"svg-7"}],["path",{d:"M13 19h-2",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var cu=fe("outline","search","IconSearch",[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var qWe=fe("outline","server-bolt","IconServerBolt",[["path",{d:"M3 4m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v2a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z",key:"svg-0"}],["path",{d:"M15 20h-9a3 3 0 0 1 -3 -3v-2a3 3 0 0 1 3 -3h12",key:"svg-1"}],["path",{d:"M7 8v.01",key:"svg-2"}],["path",{d:"M7 16v.01",key:"svg-3"}],["path",{d:"M20 15l-2 3h3l-2 3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var GWe=fe("outline","server-off","IconServerOff",[["path",{d:"M12 12h-6a3 3 0 0 1 -3 -3v-2c0 -1.083 .574 -2.033 1.435 -2.56m3.565 -.44h10a3 3 0 0 1 3 3v2a3 3 0 0 1 -3 3h-2",key:"svg-0"}],["path",{d:"M16 12h2a3 3 0 0 1 3 3v2m-1.448 2.568a2.986 2.986 0 0 1 -1.552 .432h-12a3 3 0 0 1 -3 -3v-2a3 3 0 0 1 3 -3h6",key:"svg-1"}],["path",{d:"M7 8v.01",key:"svg-2"}],["path",{d:"M7 16v.01",key:"svg-3"}],["path",{d:"M3 3l18 18",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var dI=fe("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bw=fe("outline","share-3","IconShare3",[["path",{d:"M13 4v4c-6.575 1.028 -9.02 6.788 -10 12c-.037 .206 5.384 -5.962 10 -6v4l8 -7l-8 -7z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mce=fe("outline","share","IconShare",[["path",{d:"M6 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M18 6m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-2"}],["path",{d:"M8.7 10.7l6.6 -3.4",key:"svg-3"}],["path",{d:"M8.7 13.3l6.6 3.4",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hj=fe("outline","shopping-bag","IconShoppingBag",[["path",{d:"M6.331 8h11.339a2 2 0 0 1 1.977 2.304l-1.255 8.152a3 3 0 0 1 -2.966 2.544h-6.852a3 3 0 0 1 -2.965 -2.544l-1.255 -8.152a2 2 0 0 1 1.977 -2.304z",key:"svg-0"}],["path",{d:"M9 11v-5a3 3 0 0 1 6 0v5",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var YWe=fe("outline","shopping-cart","IconShoppingCart",[["path",{d:"M6 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M17 19m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M17 17h-11v-14h-2",key:"svg-2"}],["path",{d:"M6 5l14 1l-1 7h-13",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var KWe=fe("outline","slash","IconSlash",[["path",{d:"M17 5l-10 14",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var kce=fe("outline","slideshow","IconSlideshow",[["path",{d:"M15 6l.01 0",key:"svg-0"}],["path",{d:"M3 3m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z",key:"svg-1"}],["path",{d:"M3 13l4 -4a3 5 0 0 1 3 0l4 4",key:"svg-2"}],["path",{d:"M13 12l2 -2a3 5 0 0 1 3 0l3 3",key:"svg-3"}],["path",{d:"M8 21l.01 0",key:"svg-4"}],["path",{d:"M12 21l.01 0",key:"svg-5"}],["path",{d:"M16 21l.01 0",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var QWe=fe("outline","spaces","IconSpaces",[["path",{d:"M6.045 9.777a6 6 0 1 0 5.951 .023",key:"svg-0"}],["path",{d:"M11.997 20.196a6 6 0 1 0 -2.948 -5.97",key:"svg-1"}],["path",{d:"M17.95 9.785q .05 -.386 .05 -.785a6 6 0 1 0 -3.056 5.23",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var XWe=fe("outline","sparkles","IconSparkles",[["path",{d:"M16 18a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm0 -12a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm-7 12a6 6 0 0 1 6 -6a6 6 0 0 1 -6 -6a6 6 0 0 1 -6 6a6 6 0 0 1 6 6z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ece=fe("outline","square-check","IconSquareCheck",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 12l2 2l4 -4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZWe=fe("outline","square-forbid-2","IconSquareForbid2",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M9 15l6 -6",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var JWe=fe("outline","square-rounded-arrow-down","IconSquareRoundedArrowDown",[["path",{d:"M8 12l4 4l4 -4",key:"svg-0"}],["path",{d:"M12 8v8",key:"svg-1"}],["path",{d:"M12 3c7.2 0 9 1.8 9 9s-1.8 9 -9 9s-9 -1.8 -9 -9s1.8 -9 9 -9z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var e$e=fe("outline","square","IconSquare",[["path",{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var t$e=fe("outline","stack-2","IconStack2",[["path",{d:"M12 4l-8 4l8 4l8 -4l-8 -4",key:"svg-0"}],["path",{d:"M4 12l8 4l8 -4",key:"svg-1"}],["path",{d:"M4 16l8 4l8 -4",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wj=fe("outline","star","IconStar",[["path",{d:"M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var n$e=fe("outline","stethoscope","IconStethoscope",[["path",{d:"M6 4h-1a2 2 0 0 0 -2 2v3.5h0a5.5 5.5 0 0 0 11 0v-3.5a2 2 0 0 0 -2 -2h-1",key:"svg-0"}],["path",{d:"M8 15a6 6 0 1 0 12 0v-3",key:"svg-1"}],["path",{d:"M11 3v2",key:"svg-2"}],["path",{d:"M6 3v2",key:"svg-3"}],["path",{d:"M20 10m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var r$e=fe("outline","tag","IconTag",[["path",{d:"M7.5 7.5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M3 6v5.172a2 2 0 0 0 .586 1.414l7.71 7.71a2.41 2.41 0 0 0 3.408 0l5.592 -5.592a2.41 2.41 0 0 0 0 -3.408l-7.71 -7.71a2 2 0 0 0 -1.414 -.586h-5.172a3 3 0 0 0 -3 3z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var s$e=fe("outline","test-pipe","IconTestPipe",[["path",{d:"M20 8.04l-12.122 12.124a2.857 2.857 0 1 1 -4.041 -4.04l12.122 -12.124",key:"svg-0"}],["path",{d:"M7 13h8",key:"svg-1"}],["path",{d:"M19 15l1.5 1.6a2 2 0 1 1 -3 0l1.5 -1.6z",key:"svg-2"}],["path",{d:"M15 3l6 6",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gY=fe("outline","thumb-down","IconThumbDown",[["path",{d:"M7 13v-8a1 1 0 0 0 -1 -1h-2a1 1 0 0 0 -1 1v7a1 1 0 0 0 1 1h3a4 4 0 0 1 4 4v1a2 2 0 0 0 4 0v-5h3a2 2 0 0 0 2 -2l-1 -5a2 3 0 0 0 -2 -2h-7a3 3 0 0 0 -3 3",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $j=fe("outline","thumb-up","IconThumbUp",[["path",{d:"M7 11v8a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1v-7a1 1 0 0 1 1 -1h3a4 4 0 0 0 4 -4v-1a2 2 0 0 1 4 0v5h3a2 2 0 0 1 2 2l-1 5a2 3 0 0 1 -2 2h-7a3 3 0 0 1 -3 -3",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var a$e=fe("outline","toggle-left","IconToggleLeft",[["path",{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M2 6m0 6a6 6 0 0 1 6 -6h8a6 6 0 0 1 6 6v0a6 6 0 0 1 -6 6h-8a6 6 0 0 1 -6 -6z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var i$e=fe("outline","toggle-right","IconToggleRight",[["path",{d:"M16 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M2 6m0 6a6 6 0 0 1 6 -6h8a6 6 0 0 1 6 6v0a6 6 0 0 1 -6 6h-8a6 6 0 0 1 -6 -6z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var fI=fe("outline","tool","IconTool",[["path",{d:"M7 10h3v-3l-3.5 -3.5a6 6 0 0 1 8 8l6 6a2 2 0 0 1 -3 3l-6 -6a6 6 0 0 1 -8 -8l3.5 3.5",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vY=fe("outline","tools","IconTools",[["path",{d:"M3 21h4l13 -13a1.5 1.5 0 0 0 -4 -4l-13 13v4",key:"svg-0"}],["path",{d:"M14.5 5.5l4 4",key:"svg-1"}],["path",{d:"M12 8l-5 -5l-4 4l5 5",key:"svg-2"}],["path",{d:"M7 8l-1.5 1.5",key:"svg-3"}],["path",{d:"M16 12l5 5l-4 4l-5 -5",key:"svg-4"}],["path",{d:"M16 17l-1.5 1.5",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var yY=fe("outline","topology-star","IconTopologyStar",[["path",{d:"M8 18a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-0"}],["path",{d:"M20 6a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-1"}],["path",{d:"M8 6a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-2"}],["path",{d:"M20 18a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-3"}],["path",{d:"M14 12a2 2 0 1 0 -4 0a2 2 0 0 0 4 0z",key:"svg-4"}],["path",{d:"M7.5 7.5l3 3",key:"svg-5"}],["path",{d:"M7.5 16.5l3 -3",key:"svg-6"}],["path",{d:"M13.5 13.5l3 3",key:"svg-7"}],["path",{d:"M16.5 7.5l-3 3",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Id=fe("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tce=fe("outline","trending-up","IconTrendingUp",[["path",{d:"M3 17l6 -6l4 4l8 -8",key:"svg-0"}],["path",{d:"M14 7l7 0l0 7",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var o$e=fe("outline","trophy","IconTrophy",[["path",{d:"M8 21l8 0",key:"svg-0"}],["path",{d:"M12 17l0 4",key:"svg-1"}],["path",{d:"M7 4l10 0",key:"svg-2"}],["path",{d:"M17 4v8a5 5 0 0 1 -10 0v-8",key:"svg-3"}],["path",{d:"M5 9m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-4"}],["path",{d:"M19 9m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var px=fe("outline","upload","IconUpload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xY=fe("outline","user-circle","IconUserCircle",[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M12 10m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M6.168 18.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nce=fe("outline","user-heart","IconUserHeart",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h.5",key:"svg-1"}],["path",{d:"M18 22l3.35 -3.284a2.143 2.143 0 0 0 .005 -3.071a2.242 2.242 0 0 0 -3.129 -.006l-.224 .22l-.223 -.22a2.242 2.242 0 0 0 -3.128 -.006a2.143 2.143 0 0 0 -.006 3.071l3.355 3.296z",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var jce=fe("outline","user-scan","IconUserScan",[["path",{d:"M10 9a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M4 8v-2a2 2 0 0 1 2 -2h2",key:"svg-1"}],["path",{d:"M4 16v2a2 2 0 0 0 2 2h2",key:"svg-2"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2",key:"svg-3"}],["path",{d:"M16 20h2a2 2 0 0 0 2 -2v-2",key:"svg-4"}],["path",{d:"M8 16a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ww=fe("outline","user-search","IconUserSearch",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h1.5",key:"svg-1"}],["path",{d:"M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-2"}],["path",{d:"M20.2 20.2l1.8 1.8",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var qj=fe("outline","user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bY=fe("outline","users-group","IconUsersGroup",[["path",{d:"M10 13a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M8 21v-1a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v1",key:"svg-1"}],["path",{d:"M15 5a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-2"}],["path",{d:"M17 10h2a2 2 0 0 1 2 2v1",key:"svg-3"}],["path",{d:"M5 5a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-4"}],["path",{d:"M3 13v-1a2 2 0 0 1 2 -2h2",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q7=fe("outline","world-search","IconWorldSearch",[["path",{d:"M21 12a9 9 0 1 0 -9 9",key:"svg-0"}],["path",{d:"M3.6 9h16.8",key:"svg-1"}],["path",{d:"M3.6 15h7.9",key:"svg-2"}],["path",{d:"M11.5 3a17 17 0 0 0 0 18",key:"svg-3"}],["path",{d:"M12.5 3a16.984 16.984 0 0 1 2.574 8.62",key:"svg-4"}],["path",{d:"M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-5"}],["path",{d:"M20.2 20.2l1.8 1.8",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var gx=fe("outline","world","IconWorld",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M3.6 9h16.8",key:"svg-1"}],["path",{d:"M3.6 15h16.8",key:"svg-2"}],["path",{d:"M11.5 3a17 17 0 0 0 0 18",key:"svg-3"}],["path",{d:"M12.5 3a17 17 0 0 1 0 18",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var yn=fe("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var l$e=fe("filled","alert-triangle-filled","IconAlertTriangleFilled",[["path",{d:"M12 1.67c.955 0 1.845 .467 2.39 1.247l.105 .16l8.114 13.548a2.914 2.914 0 0 1 -2.307 4.363l-.195 .008h-16.225a2.914 2.914 0 0 1 -2.582 -4.2l.099 -.185l8.11 -13.538a2.914 2.914 0 0 1 2.491 -1.403zm.01 13.33l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007zm-.01 -7a1 1 0 0 0 -.993 .883l-.007 .117v4l.007 .117a1 1 0 0 0 1.986 0l.007 -.117v-4l-.007 -.117a1 1 0 0 0 -.993 -.883z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ace=fe("filled","bookmark-filled","IconBookmarkFilled",[["path",{d:"M14 2a5 5 0 0 1 5 5v14a1 1 0 0 1 -1.555 .832l-5.445 -3.63l-5.444 3.63a1 1 0 0 1 -1.55 -.72l-.006 -.112v-14a5 5 0 0 1 5 -5h4z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wY=fe("filled","brand-apple-filled","IconBrandAppleFilled",[["path",{d:"M15.079 5.999l.239 .012c1.43 .097 3.434 1.013 4.508 2.586a1 1 0 0 1 -.344 1.44c-.05 .028 -.372 .158 -.497 .217a4.15 4.15 0 0 0 -.722 .431c-.614 .461 -.948 1.009 -.942 1.694c.01 .885 .339 1.454 .907 1.846c.208 .143 .436 .253 .666 .33c.126 .043 .426 .116 .444 .122a1 1 0 0 1 .662 .942c0 2.621 -3.04 6.381 -5.286 6.381c-.79 0 -1.272 -.091 -1.983 -.315l-.098 -.031c-.463 -.146 -.702 -.192 -1.133 -.192c-.52 0 -.863 .06 -1.518 .237l-.197 .053c-.575 .153 -.964 .226 -1.5 .248c-2.749 0 -5.285 -5.093 -5.285 -9.072c0 -3.87 1.786 -6.92 5.286 -6.92c.297 0 .598 .045 .909 .128c.403 .107 .774 .26 1.296 .508c.787 .374 .948 .44 1.009 .44h.016c.03 -.003 .128 -.047 1.056 -.457c1.061 -.467 1.864 -.685 2.746 -.616l-.24 -.012z",key:"svg-0"}],["path",{d:"M14 1a1 1 0 0 1 1 1a3 3 0 0 1 -3 3a1 1 0 0 1 -1 -1a3 3 0 0 1 3 -3z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var c$e=fe("filled","brand-google-filled","IconBrandGoogleFilled",[["path",{d:"M12 2a9.96 9.96 0 0 1 6.29 2.226a1 1 0 0 1 .04 1.52l-1.51 1.362a1 1 0 0 1 -1.265 .06a6 6 0 1 0 2.103 6.836l.001 -.004h-3.66a1 1 0 0 1 -.992 -.883l-.007 -.117v-2a1 1 0 0 1 1 -1h6.945a1 1 0 0 1 .994 .89c.04 .367 .061 .737 .061 1.11c0 5.523 -4.477 10 -10 10s-10 -4.477 -10 -10s4.477 -10 10 -10z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var hI=fe("filled","brand-whatsapp-filled","IconBrandWhatsappFilled",[["path",{d:"M18.497 4.409a10 10 0 0 1 -10.36 16.828l-.223 -.098l-4.759 .849l-.11 .011a1 1 0 0 1 -.11 0l-.102 -.013l-.108 -.024l-.105 -.037l-.099 -.047l-.093 -.058l-.014 -.011l-.012 -.007l-.086 -.073l-.077 -.08l-.067 -.088l-.056 -.094l-.034 -.07l-.04 -.108l-.028 -.128l-.012 -.102a1 1 0 0 1 0 -.125l.012 -.1l.024 -.11l.045 -.122l1.433 -3.304l-.009 -.014a10 10 0 0 1 1.549 -12.454l.215 -.203a10 10 0 0 1 13.226 -.217m-8.997 3.09a1.5 1.5 0 0 0 -1.5 1.5v1a6 6 0 0 0 6 6h1a1.5 1.5 0 0 0 0 -3h-1l-.144 .007a1.5 1.5 0 0 0 -1.128 .697l-.042 .074l-.022 -.007a4.01 4.01 0 0 1 -2.435 -2.435l-.008 -.023l.075 -.041a1.5 1.5 0 0 0 .704 -1.272v-1a1.5 1.5 0 0 0 -1.5 -1.5",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var u$e=fe("filled","circle-check-filled","IconCircleCheckFilled",[["path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gj=fe("filled","circle-filled","IconCircleFilled",[["path",{d:"M7 3.34a10 10 0 1 1 -4.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 4.995 -8.336z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var d$e=fe("filled","folder-filled","IconFolderFilled",[["path",{d:"M9 3a1 1 0 0 1 .608 .206l.1 .087l2.706 2.707h6.586a3 3 0 0 1 2.995 2.824l.005 .176v8a3 3 0 0 1 -2.824 2.995l-.176 .005h-14a3 3 0 0 1 -2.995 -2.824l-.005 -.176v-11a3 3 0 0 1 2.824 -2.995l.176 -.005h4z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var _Y=fe("filled","microphone-filled","IconMicrophoneFilled",[["path",{d:"M19 9a1 1 0 0 1 1 1a8 8 0 0 1 -6.999 7.938l-.001 2.062h3a1 1 0 0 1 0 2h-8a1 1 0 0 1 0 -2h3v-2.062a8 8 0 0 1 -7 -7.938a1 1 0 1 1 2 0a6 6 0 0 0 12 0a1 1 0 0 1 1 -1m-7 -8a4 4 0 0 1 4 4v5a4 4 0 1 1 -8 0v-5a4 4 0 0 1 4 -4",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var f$e=fe("filled","pinned-filled","IconPinnedFilled",[["path",{d:"M16 3a1 1 0 0 1 .117 1.993l-.117 .007v4.764l1.894 3.789a1 1 0 0 1 .1 .331l.006 .116v2a1 1 0 0 1 -.883 .993l-.117 .007h-4v4a1 1 0 0 1 -1.993 .117l-.007 -.117v-4h-4a1 1 0 0 1 -.993 -.883l-.007 -.117v-2a1 1 0 0 1 .06 -.34l.046 -.107l1.894 -3.791v-4.762a1 1 0 0 1 -.117 -1.993l.117 -.007h8z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yj=fe("filled","player-stop-filled","IconPlayerStopFilled",[["path",{d:"M17 4h-10a3 3 0 0 0 -3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3 -3v-10a3 3 0 0 0 -3 -3z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var CY=fe("filled","point-filled","IconPointFilled",[["path",{d:"M12 7a5 5 0 1 1 -4.995 5.217l-.005 -.217l.005 -.217a5 5 0 0 1 4.995 -4.783z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var h$e=fe("filled","quote-filled","IconQuoteFilled",[["path",{d:"M9 5a2 2 0 0 1 2 2v6c0 3.13 -1.65 5.193 -4.757 5.97a1 1 0 1 1 -.486 -1.94c2.227 -.557 3.243 -1.827 3.243 -4.03v-1h-3a2 2 0 0 1 -1.995 -1.85l-.005 -.15v-3a2 2 0 0 1 2 -2z",key:"svg-0"}],["path",{d:"M18 5a2 2 0 0 1 2 2v6c0 3.13 -1.65 5.193 -4.757 5.97a1 1 0 1 1 -.486 -1.94c2.227 -.557 3.243 -1.827 3.243 -4.03v-1h-3a2 2 0 0 1 -1.995 -1.85l-.005 -.15v-3a2 2 0 0 1 2 -2z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rce=fe("filled","rosette-filled","IconRosetteFilled",[["path",{d:"M12.01 2.011a3.2 3.2 0 0 1 2.113 .797l.154 .145l.698 .698a1.2 1.2 0 0 0 .71 .341l.135 .008h1a3.2 3.2 0 0 1 3.195 3.018l.005 .182v1c0 .27 .092 .533 .258 .743l.09 .1l.697 .698a3.2 3.2 0 0 1 .147 4.382l-.145 .154l-.698 .698a1.2 1.2 0 0 0 -.341 .71l-.008 .135v1a3.2 3.2 0 0 1 -3.018 3.195l-.182 .005h-1a1.2 1.2 0 0 0 -.743 .258l-.1 .09l-.698 .697a3.2 3.2 0 0 1 -4.382 .147l-.154 -.145l-.698 -.698a1.2 1.2 0 0 0 -.71 -.341l-.135 -.008h-1a3.2 3.2 0 0 1 -3.195 -3.018l-.005 -.182v-1a1.2 1.2 0 0 0 -.258 -.743l-.09 -.1l-.697 -.698a3.2 3.2 0 0 1 -.147 -4.382l.145 -.154l.698 -.698a1.2 1.2 0 0 0 .341 -.71l.008 -.135v-1l.005 -.182a3.2 3.2 0 0 1 3.013 -3.013l.182 -.005h1a1.2 1.2 0 0 0 .743 -.258l.1 -.09l.698 -.697a3.2 3.2 0 0 1 2.269 -.944z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lce=fe("filled","square-rounded-check-filled","IconSquareRoundedCheckFilled",[["path",{d:"M12 2c-.218 0 -.432 .002 -.642 .005l-.616 .017l-.299 .013l-.579 .034l-.553 .046c-4.785 .464 -6.732 2.411 -7.196 7.196l-.046 .553l-.034 .579c-.005 .098 -.01 .198 -.013 .299l-.017 .616l-.004 .318l-.001 .324c0 .218 .002 .432 .005 .642l.017 .616l.013 .299l.034 .579l.046 .553c.464 4.785 2.411 6.732 7.196 7.196l.553 .046l.579 .034c.098 .005 .198 .01 .299 .013l.616 .017l.642 .005l.642 -.005l.616 -.017l.299 -.013l.579 -.034l.553 -.046c4.785 -.464 6.732 -2.411 7.196 -7.196l.046 -.553l.034 -.579c.005 -.098 .01 -.198 .013 -.299l.017 -.616l.005 -.642l-.005 -.642l-.017 -.616l-.013 -.299l-.034 -.579l-.046 -.553c-.464 -4.785 -2.411 -6.732 -7.196 -7.196l-.553 -.046l-.579 -.034a28.058 28.058 0 0 0 -.299 -.013l-.616 -.017l-.318 -.004l-.324 -.001zm2.293 7.293a1 1 0 0 1 1.497 1.32l-.083 .094l-4 4a1 1 0 0 1 -1.32 .083l-.094 -.083l-2 -2a1 1 0 0 1 1.32 -1.497l.094 .083l1.293 1.292l3.293 -3.292z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Oce=fe("filled","square-rounded-filled","IconSquareRoundedFilled",[["path",{d:"M12 2c-.218 0 -.432 .002 -.642 .005l-.616 .017l-.299 .013l-.579 .034l-.553 .046c-4.785 .464 -6.732 2.411 -7.196 7.196l-.046 .553l-.034 .579c-.005 .098 -.01 .198 -.013 .299l-.017 .616l-.004 .318l-.001 .324c0 .218 .002 .432 .005 .642l.017 .616l.013 .299l.034 .579l.046 .553c.464 4.785 2.411 6.732 7.196 7.196l.553 .046l.579 .034c.098 .005 .198 .01 .299 .013l.616 .017l.642 .005l.642 -.005l.616 -.017l.299 -.013l.579 -.034l.553 -.046c4.785 -.464 6.732 -2.411 7.196 -7.196l.046 -.553l.034 -.579c.005 -.098 .01 -.198 .013 -.299l.017 -.616l.005 -.642l-.005 -.642l-.017 -.616l-.013 -.299l-.034 -.579l-.046 -.553c-.464 -4.785 -2.411 -6.732 -7.196 -7.196l-.553 -.046l-.579 -.034a28.058 28.058 0 0 0 -.299 -.013l-.616 -.017l-.318 -.004l-.324 -.001z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $p=fe("filled","star-filled","IconStarFilled",[["path",{d:"M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var m$e=fe("filled","thumb-down-filled","IconThumbDownFilled",[["path",{d:"M13 21.008a3 3 0 0 0 2.995 -2.823l.005 -.177v-4h2a3 3 0 0 0 2.98 -2.65l.015 -.173l.005 -.177l-.02 -.196l-1.006 -5.032c-.381 -1.625 -1.502 -2.796 -2.81 -2.78l-.164 .008h-8a1 1 0 0 0 -.993 .884l-.007 .116l.001 9.536a1 1 0 0 0 .5 .866a2.998 2.998 0 0 1 1.492 2.396l.007 .202v1a3 3 0 0 0 3 3z",key:"svg-0"}],["path",{d:"M5 14.008a1 1 0 0 0 .993 -.883l.007 -.117v-9a1 1 0 0 0 -.883 -.993l-.117 -.007h-1a2 2 0 0 0 -1.995 1.852l-.005 .15v7a2 2 0 0 0 1.85 1.994l.15 .005h1z",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.30.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var p$e=fe("filled","thumb-up-filled","IconThumbUpFilled",[["path",{d:"M13 3a3 3 0 0 1 2.995 2.824l.005 .176v4h2a3 3 0 0 1 2.98 2.65l.015 .174l.005 .176l-.02 .196l-1.006 5.032c-.381 1.626 -1.502 2.796 -2.81 2.78l-.164 -.008h-8a1 1 0 0 1 -.993 -.883l-.007 -.117l.001 -9.536a1 1 0 0 1 .5 -.865a2.998 2.998 0 0 0 1.492 -2.397l.007 -.202v-1a3 3 0 0 1 3 -3z",key:"svg-0"}],["path",{d:"M5 10a1 1 0 0 1 .993 .883l.007 .117v9a1 1 0 0 1 -.883 .993l-.117 .007h-1a2 2 0 0 1 -1.995 -1.85l-.005 -.15v-7a2 2 0 0 1 1.85 -1.995l.15 -.005h1z",key:"svg-1"}]]),Pce=typeof global=="object"&&global&&global.Object===Object&&global,g$e=typeof self=="object"&&self&&self.Object===Object&&self,Xo=Pce||g$e||Function("return this")(),so=Xo.Symbol,Ice=Object.prototype,v$e=Ice.hasOwnProperty,y$e=Ice.toString,fv=so?so.toStringTag:void 0;function x$e(e){var t=v$e.call(e,fv),n=e[fv];try{e[fv]=void 0;var r=!0}catch{}var s=y$e.call(e);return r&&(t?e[fv]=n:delete e[fv]),s}var b$e=Object.prototype,w$e=b$e.toString;function _$e(e){return w$e.call(e)}var C$e="[object Null]",S$e="[object Undefined]",SY=so?so.toStringTag:void 0;function yg(e){return e==null?e===void 0?S$e:C$e:SY&&SY in Object(e)?x$e(e):_$e(e)}function uu(e){return e!=null&&typeof e=="object"}var M$e="[object Symbol]";function P_(e){return typeof e=="symbol"||uu(e)&&yg(e)==M$e}function mI(e,t){for(var n=-1,r=e==null?0:e.length,s=Array(r);++n<r;)s[n]=t(e[n],n,e);return s}var ao=Array.isArray,MY=so?so.prototype:void 0,kY=MY?MY.toString:void 0;function Dce(e){if(typeof e=="string")return e;if(ao(e))return mI(e,Dce)+"";if(P_(e))return kY?kY.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var k$e=/\s/;function E$e(e){for(var t=e.length;t--&&k$e.test(e.charAt(t)););return t}var T$e=/^\s+/;function N$e(e){return e&&e.slice(0,E$e(e)+1).replace(T$e,"")}function io(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var EY=NaN,j$e=/^[-+]0x[0-9a-f]+$/i,A$e=/^0b[01]+$/i,R$e=/^0o[0-7]+$/i,L$e=parseInt;function TY(e){if(typeof e=="number")return e;if(P_(e))return EY;if(io(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=io(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=N$e(e);var n=A$e.test(e);return n||R$e.test(e)?L$e(e.slice(2),n?2:8):j$e.test(e)?EY:+e}function pI(e){return e}var O$e="[object AsyncFunction]",P$e="[object Function]",I$e="[object GeneratorFunction]",D$e="[object Proxy]";function Fce(e){if(!io(e))return!1;var t=yg(e);return t==P$e||t==I$e||t==O$e||t==D$e}var X7=Xo["__core-js_shared__"],NY=function(){var e=/[^.]+$/.exec(X7&&X7.keys&&X7.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function F$e(e){return!!NY&&NY in e}var U$e=Function.prototype,B$e=U$e.toString;function im(e){if(e!=null){try{return B$e.call(e)}catch{}try{return e+""}catch{}}return""}var V$e=/[\\^$.*+?()[\]{}|]/g,z$e=/^\[object .+?Constructor\]$/,H$e=Function.prototype,W$e=Object.prototype,$$e=H$e.toString,q$e=W$e.hasOwnProperty,G$e=RegExp("^"+$$e.call(q$e).replace(V$e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Y$e(e){if(!io(e)||F$e(e))return!1;var t=Fce(e)?G$e:z$e;return t.test(im(e))}function K$e(e,t){return e?.[t]}function om(e,t){var n=K$e(e,t);return Y$e(n)?n:void 0}var Kj=om(Xo,"WeakMap"),jY=Object.create,Q$e=function(){function e(){}return function(t){if(!io(t))return{};if(jY)return jY(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function X$e(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Yn(){}function Z$e(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var J$e=800,eqe=16,tqe=Date.now;function nqe(e){var t=0,n=0;return function(){var r=tqe(),s=eqe-(r-n);if(n=r,s>0){if(++t>=J$e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function rqe(e){return function(){return e}}var _w=function(){try{var e=om(Object,"defineProperty");return e({},"",{}),e}catch{}}(),sqe=_w?function(e,t){return _w(e,"toString",{configurable:!0,enumerable:!1,value:rqe(t),writable:!0})}:pI,aqe=nqe(sqe);function iqe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function oqe(e,t,n,r){for(var s=e.length,a=n+-1;++a<s;)if(t(e[a],a,e))return a;return-1}function lqe(e){return e!==e}function cqe(e,t,n){for(var r=n-1,s=e.length;++r<s;)if(e[r]===t)return r;return-1}function uqe(e,t,n){return t===t?cqe(e,t,n):oqe(e,lqe,n)}function dqe(e,t){var n=e==null?0:e.length;return!!n&&uqe(e,t,0)>-1}var fqe=9007199254740991,hqe=/^(?:0|[1-9]\d*)$/;function gI(e,t){var n=typeof e;return t=t??fqe,!!t&&(n=="number"||n!="symbol"&&hqe.test(e))&&e>-1&&e%1==0&&e<t}function mqe(e,t,n){t=="__proto__"&&_w?_w(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function vI(e,t){return e===t||e!==e&&t!==t}var pqe=Object.prototype,gqe=pqe.hasOwnProperty;function Uce(e,t,n){var r=e[t];(!(gqe.call(e,t)&&vI(r,n))||n===void 0&&!(t in e))&&mqe(e,t,n)}var AY=Math.max;function vqe(e,t,n){return t=AY(t===void 0?e.length-1:t,0),function(){for(var r=arguments,s=-1,a=AY(r.length-t,0),i=Array(a);++s<a;)i[s]=r[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=r[s];return l[t]=n(i),X$e(e,this,l)}}function yqe(e,t){return aqe(vqe(e,t,pI),e+"")}var xqe=9007199254740991;function yI(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=xqe}function xI(e){return e!=null&&yI(e.length)&&!Fce(e)}var bqe=Object.prototype;function bI(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||bqe;return e===n}function wqe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var _qe="[object Arguments]";function RY(e){return uu(e)&&yg(e)==_qe}var Bce=Object.prototype,Cqe=Bce.hasOwnProperty,Sqe=Bce.propertyIsEnumerable,wI=RY(function(){return arguments}())?RY:function(e){return uu(e)&&Cqe.call(e,"callee")&&!Sqe.call(e,"callee")};function Mqe(){return!1}var Vce=typeof exports=="object"&&exports&&!exports.nodeType&&exports,LY=Vce&&typeof module=="object"&&module&&!module.nodeType&&module,kqe=LY&&LY.exports===Vce,OY=kqe?Xo.Buffer:void 0,Eqe=OY?OY.isBuffer:void 0,Cw=Eqe||Mqe,Tqe="[object Arguments]",Nqe="[object Array]",jqe="[object Boolean]",Aqe="[object Date]",Rqe="[object Error]",Lqe="[object Function]",Oqe="[object Map]",Pqe="[object Number]",Iqe="[object Object]",Dqe="[object RegExp]",Fqe="[object Set]",Uqe="[object String]",Bqe="[object WeakMap]",Vqe="[object ArrayBuffer]",zqe="[object DataView]",Hqe="[object Float32Array]",Wqe="[object Float64Array]",$qe="[object Int8Array]",qqe="[object Int16Array]",Gqe="[object Int32Array]",Yqe="[object Uint8Array]",Kqe="[object Uint8ClampedArray]",Qqe="[object Uint16Array]",Xqe="[object Uint32Array]",gr={};gr[Hqe]=gr[Wqe]=gr[$qe]=gr[qqe]=gr[Gqe]=gr[Yqe]=gr[Kqe]=gr[Qqe]=gr[Xqe]=!0;gr[Tqe]=gr[Nqe]=gr[Vqe]=gr[jqe]=gr[zqe]=gr[Aqe]=gr[Rqe]=gr[Lqe]=gr[Oqe]=gr[Pqe]=gr[Iqe]=gr[Dqe]=gr[Fqe]=gr[Uqe]=gr[Bqe]=!1;function Zqe(e){return uu(e)&&yI(e.length)&&!!gr[yg(e)]}function _I(e){return function(t){return e(t)}}var zce=typeof exports=="object"&&exports&&!exports.nodeType&&exports,u2=zce&&typeof module=="object"&&module&&!module.nodeType&&module,Jqe=u2&&u2.exports===zce,Z7=Jqe&&Pce.process,M1=function(){try{var e=u2&&u2.require&&u2.require("util").types;return e||Z7&&Z7.binding&&Z7.binding("util")}catch{}}(),PY=M1&&M1.isTypedArray,Hce=PY?_I(PY):Zqe,eGe=Object.prototype,tGe=eGe.hasOwnProperty;function Wce(e,t){var n=ao(e),r=!n&&wI(e),s=!n&&!r&&Cw(e),a=!n&&!r&&!s&&Hce(e),i=n||r||s||a,l=i?wqe(e.length,String):[],c=l.length;for(var u in e)(t||tGe.call(e,u))&&!(i&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||gI(u,c)))&&l.push(u);return l}function $ce(e,t){return function(n){return e(t(n))}}var nGe=$ce(Object.keys,Object),rGe=Object.prototype,sGe=rGe.hasOwnProperty;function aGe(e){if(!bI(e))return nGe(e);var t=[];for(var n in Object(e))sGe.call(e,n)&&n!="constructor"&&t.push(n);return t}function CI(e){return xI(e)?Wce(e):aGe(e)}function iGe(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var oGe=Object.prototype,lGe=oGe.hasOwnProperty;function cGe(e){if(!io(e))return iGe(e);var t=bI(e),n=[];for(var r in e)r=="constructor"&&(t||!lGe.call(e,r))||n.push(r);return n}function uGe(e){return xI(e)?Wce(e,!0):cGe(e)}var dGe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fGe=/^\w*$/;function SI(e,t){if(ao(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||P_(e)?!0:fGe.test(e)||!dGe.test(e)||t!=null&&e in Object(t)}var ty=om(Object,"create");function hGe(){this.__data__=ty?ty(null):{},this.size=0}function mGe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var pGe="__lodash_hash_undefined__",gGe=Object.prototype,vGe=gGe.hasOwnProperty;function yGe(e){var t=this.__data__;if(ty){var n=t[e];return n===pGe?void 0:n}return vGe.call(t,e)?t[e]:void 0}var xGe=Object.prototype,bGe=xGe.hasOwnProperty;function wGe(e){var t=this.__data__;return ty?t[e]!==void 0:bGe.call(t,e)}var _Ge="__lodash_hash_undefined__";function CGe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ty&&t===void 0?_Ge:t,this}function Nh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Nh.prototype.clear=hGe;Nh.prototype.delete=mGe;Nh.prototype.get=yGe;Nh.prototype.has=wGe;Nh.prototype.set=CGe;function SGe(){this.__data__=[],this.size=0}function I_(e,t){for(var n=e.length;n--;)if(vI(e[n][0],t))return n;return-1}var MGe=Array.prototype,kGe=MGe.splice;function EGe(e){var t=this.__data__,n=I_(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():kGe.call(t,n,1),--this.size,!0}function TGe(e){var t=this.__data__,n=I_(t,e);return n<0?void 0:t[n][1]}function NGe(e){return I_(this.__data__,e)>-1}function jGe(e,t){var n=this.__data__,r=I_(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function wu(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}wu.prototype.clear=SGe;wu.prototype.delete=EGe;wu.prototype.get=TGe;wu.prototype.has=NGe;wu.prototype.set=jGe;var ny=om(Xo,"Map");function AGe(){this.size=0,this.__data__={hash:new Nh,map:new(ny||wu),string:new Nh}}function RGe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function D_(e,t){var n=e.__data__;return RGe(t)?n[typeof t=="string"?"string":"hash"]:n.map}function LGe(e){var t=D_(this,e).delete(e);return this.size-=t?1:0,t}function OGe(e){return D_(this,e).get(e)}function PGe(e){return D_(this,e).has(e)}function IGe(e,t){var n=D_(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function _u(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_u.prototype.clear=AGe;_u.prototype.delete=LGe;_u.prototype.get=OGe;_u.prototype.has=PGe;_u.prototype.set=IGe;var DGe="Expected a function";function vx(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(DGe);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],a=n.cache;if(a.has(s))return a.get(s);var i=e.apply(this,r);return n.cache=a.set(s,i)||a,i};return n.cache=new(vx.Cache||_u),n}vx.Cache=_u;var FGe=500;function UGe(e){var t=vx(e,function(r){return n.size===FGe&&n.clear(),r}),n=t.cache;return t}var BGe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,VGe=/\\(\\)?/g,zGe=UGe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(BGe,function(n,r,s,a){t.push(s?a.replace(VGe,"$1"):r||n)}),t});function HGe(e){return e==null?"":Dce(e)}function F_(e,t){return ao(e)?e:SI(e,t)?[e]:zGe(HGe(e))}function yx(e){if(typeof e=="string"||P_(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function MI(e,t){t=F_(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[yx(t[n++])];return n&&n==r?e:void 0}function WGe(e,t,n){var r=e==null?void 0:MI(e,t);return r===void 0?n:r}function kI(e,t){for(var n=-1,r=t.length,s=e.length;++n<r;)e[s+n]=t[n];return e}var IY=so?so.isConcatSpreadable:void 0;function $Ge(e){return ao(e)||wI(e)||!!(IY&&e&&e[IY])}function qGe(e,t,n,r,s){var a=-1,i=e.length;for(n||(n=$Ge),s||(s=[]);++a<i;){var l=e[a];n(l)&&kI(s,l)}return s}var qce=$ce(Object.getPrototypeOf,Object);function GGe(){this.__data__=new wu,this.size=0}function YGe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function KGe(e){return this.__data__.get(e)}function QGe(e){return this.__data__.has(e)}var XGe=200;function ZGe(e,t){var n=this.__data__;if(n instanceof wu){var r=n.__data__;if(!ny||r.length<XGe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new _u(r)}return n.set(e,t),this.size=n.size,this}function Ol(e){var t=this.__data__=new wu(e);this.size=t.size}Ol.prototype.clear=GGe;Ol.prototype.delete=YGe;Ol.prototype.get=KGe;Ol.prototype.has=QGe;Ol.prototype.set=ZGe;var Gce=typeof exports=="object"&&exports&&!exports.nodeType&&exports,DY=Gce&&typeof module=="object"&&module&&!module.nodeType&&module,JGe=DY&&DY.exports===Gce,FY=JGe?Xo.Buffer:void 0;FY&&FY.allocUnsafe;function eYe(e,t){return e.slice()}function tYe(e,t){for(var n=-1,r=e==null?0:e.length,s=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[s++]=i)}return a}function Yce(){return[]}var nYe=Object.prototype,rYe=nYe.propertyIsEnumerable,UY=Object.getOwnPropertySymbols,Kce=UY?function(e){return e==null?[]:(e=Object(e),tYe(UY(e),function(t){return rYe.call(e,t)}))}:Yce,sYe=Object.getOwnPropertySymbols,aYe=sYe?function(e){for(var t=[];e;)kI(t,Kce(e)),e=qce(e);return t}:Yce;function Qce(e,t,n){var r=t(e);return ao(e)?r:kI(r,n(e))}function Qj(e){return Qce(e,CI,Kce)}function iYe(e){return Qce(e,uGe,aYe)}var Xj=om(Xo,"DataView"),Zj=om(Xo,"Promise"),qp=om(Xo,"Set"),BY="[object Map]",oYe="[object Object]",VY="[object Promise]",zY="[object Set]",HY="[object WeakMap]",WY="[object DataView]",lYe=im(Xj),cYe=im(ny),uYe=im(Zj),dYe=im(qp),fYe=im(Kj),Oo=yg;(Xj&&Oo(new Xj(new ArrayBuffer(1)))!=WY||ny&&Oo(new ny)!=BY||Zj&&Oo(Zj.resolve())!=VY||qp&&Oo(new qp)!=zY||Kj&&Oo(new Kj)!=HY)&&(Oo=function(e){var t=yg(e),n=t==oYe?e.constructor:void 0,r=n?im(n):"";if(r)switch(r){case lYe:return WY;case cYe:return BY;case uYe:return VY;case dYe:return zY;case fYe:return HY}return t});var hYe=Object.prototype,mYe=hYe.hasOwnProperty;function pYe(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&mYe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Sw=Xo.Uint8Array;function EI(e){var t=new e.constructor(e.byteLength);return new Sw(t).set(new Sw(e)),t}function gYe(e,t){var n=EI(e.buffer);return new e.constructor(n,e.byteOffset,e.byteLength)}var vYe=/\w*$/;function yYe(e){var t=new e.constructor(e.source,vYe.exec(e));return t.lastIndex=e.lastIndex,t}var $Y=so?so.prototype:void 0,qY=$Y?$Y.valueOf:void 0;function xYe(e){return qY?Object(qY.call(e)):{}}function bYe(e,t){var n=EI(e.buffer);return new e.constructor(n,e.byteOffset,e.length)}var wYe="[object Boolean]",_Ye="[object Date]",CYe="[object Map]",SYe="[object Number]",MYe="[object RegExp]",kYe="[object Set]",EYe="[object String]",TYe="[object Symbol]",NYe="[object ArrayBuffer]",jYe="[object DataView]",AYe="[object Float32Array]",RYe="[object Float64Array]",LYe="[object Int8Array]",OYe="[object Int16Array]",PYe="[object Int32Array]",IYe="[object Uint8Array]",DYe="[object Uint8ClampedArray]",FYe="[object Uint16Array]",UYe="[object Uint32Array]";function BYe(e,t,n){var r=e.constructor;switch(t){case NYe:return EI(e);case wYe:case _Ye:return new r(+e);case jYe:return gYe(e);case AYe:case RYe:case LYe:case OYe:case PYe:case IYe:case DYe:case FYe:case UYe:return bYe(e);case CYe:return new r;case SYe:case EYe:return new r(e);case MYe:return yYe(e);case kYe:return new r;case TYe:return xYe(e)}}function VYe(e){return typeof e.constructor=="function"&&!bI(e)?Q$e(qce(e)):{}}var zYe="[object Map]";function HYe(e){return uu(e)&&Oo(e)==zYe}var GY=M1&&M1.isMap,WYe=GY?_I(GY):HYe,$Ye="[object Set]";function qYe(e){return uu(e)&&Oo(e)==$Ye}var YY=M1&&M1.isSet,GYe=YY?_I(YY):qYe,Xce="[object Arguments]",YYe="[object Array]",KYe="[object Boolean]",QYe="[object Date]",XYe="[object Error]",Zce="[object Function]",ZYe="[object GeneratorFunction]",JYe="[object Map]",eKe="[object Number]",Jce="[object Object]",tKe="[object RegExp]",nKe="[object Set]",rKe="[object String]",sKe="[object Symbol]",aKe="[object WeakMap]",iKe="[object ArrayBuffer]",oKe="[object DataView]",lKe="[object Float32Array]",cKe="[object Float64Array]",uKe="[object Int8Array]",dKe="[object Int16Array]",fKe="[object Int32Array]",hKe="[object Uint8Array]",mKe="[object Uint8ClampedArray]",pKe="[object Uint16Array]",gKe="[object Uint32Array]",ur={};ur[Xce]=ur[YYe]=ur[iKe]=ur[oKe]=ur[KYe]=ur[QYe]=ur[lKe]=ur[cKe]=ur[uKe]=ur[dKe]=ur[fKe]=ur[JYe]=ur[eKe]=ur[Jce]=ur[tKe]=ur[nKe]=ur[rKe]=ur[sKe]=ur[hKe]=ur[mKe]=ur[pKe]=ur[gKe]=!0;ur[XYe]=ur[Zce]=ur[aKe]=!1;function C5(e,t,n,r,s,a){var i;if(i!==void 0)return i;if(!io(e))return e;var l=ao(e);if(l)i=pYe(e);else{var c=Oo(e),u=c==Zce||c==ZYe;if(Cw(e))return eYe(e);if(c==Jce||c==Xce||u&&!s)i=u?{}:VYe(e);else{if(!ur[c])return s?e:{};i=BYe(e,c)}}a||(a=new Ol);var d=a.get(e);if(d)return d;a.set(e,i),GYe(e)?e.forEach(function(g){i.add(C5(g,t,n,g,e,a))}):WYe(e)&&e.forEach(function(g,v){i.set(v,C5(g,t,n,v,e,a))});var h=Qj,m=l?void 0:h(e);return iqe(m||e,function(g,v){m&&(v=g,g=e[v]),Uce(i,v,C5(g,t,n,v,e,a))}),i}var vKe=1,yKe=4;function KY(e){return C5(e,vKe|yKe)}var xKe="__lodash_hash_undefined__";function bKe(e){return this.__data__.set(e,xKe),this}function wKe(e){return this.__data__.has(e)}function ry(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new _u;++t<n;)this.add(e[t])}ry.prototype.add=ry.prototype.push=bKe;ry.prototype.has=wKe;function _Ke(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function eue(e,t){return e.has(t)}var CKe=1,SKe=2;function tue(e,t,n,r,s,a){var i=n&CKe,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var h=-1,m=!0,g=n&SKe?new ry:void 0;for(a.set(e,t),a.set(t,e);++h<l;){var v=e[h],x=t[h];if(r)var b=i?r(x,v,h,t,e,a):r(v,x,h,e,t,a);if(b!==void 0){if(b)continue;m=!1;break}if(g){if(!_Ke(t,function(w,C){if(!eue(g,C)&&(v===w||s(v,w,n,r,a)))return g.push(C)})){m=!1;break}}else if(!(v===x||s(v,x,n,r,a))){m=!1;break}}return a.delete(e),a.delete(t),m}function MKe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,s){n[++t]=[s,r]}),n}function TI(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var kKe=1,EKe=2,TKe="[object Boolean]",NKe="[object Date]",jKe="[object Error]",AKe="[object Map]",RKe="[object Number]",LKe="[object RegExp]",OKe="[object Set]",PKe="[object String]",IKe="[object Symbol]",DKe="[object ArrayBuffer]",FKe="[object DataView]",QY=so?so.prototype:void 0,J7=QY?QY.valueOf:void 0;function UKe(e,t,n,r,s,a,i){switch(n){case FKe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case DKe:return!(e.byteLength!=t.byteLength||!a(new Sw(e),new Sw(t)));case TKe:case NKe:case RKe:return vI(+e,+t);case jKe:return e.name==t.name&&e.message==t.message;case LKe:case PKe:return e==t+"";case AKe:var l=MKe;case OKe:var c=r&kKe;if(l||(l=TI),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;r|=EKe,i.set(e,t);var d=tue(l(e),l(t),r,s,a,i);return i.delete(e),d;case IKe:if(J7)return J7.call(e)==J7.call(t)}return!1}var BKe=1,VKe=Object.prototype,zKe=VKe.hasOwnProperty;function HKe(e,t,n,r,s,a){var i=n&BKe,l=Qj(e),c=l.length,u=Qj(t),d=u.length;if(c!=d&&!i)return!1;for(var h=c;h--;){var m=l[h];if(!(i?m in t:zKe.call(t,m)))return!1}var g=a.get(e),v=a.get(t);if(g&&v)return g==t&&v==e;var x=!0;a.set(e,t),a.set(t,e);for(var b=i;++h<c;){m=l[h];var w=e[m],C=t[m];if(r)var S=i?r(C,w,m,t,e,a):r(w,C,m,e,t,a);if(!(S===void 0?w===C||s(w,C,n,r,a):S)){x=!1;break}b||(b=m=="constructor")}if(x&&!b){var k=e.constructor,E=t.constructor;k!=E&&"constructor"in e&&"constructor"in t&&!(typeof k=="function"&&k instanceof k&&typeof E=="function"&&E instanceof E)&&(x=!1)}return a.delete(e),a.delete(t),x}var WKe=1,XY="[object Arguments]",ZY="[object Array]",q3="[object Object]",$Ke=Object.prototype,JY=$Ke.hasOwnProperty;function qKe(e,t,n,r,s,a){var i=ao(e),l=ao(t),c=i?ZY:Oo(e),u=l?ZY:Oo(t);c=c==XY?q3:c,u=u==XY?q3:u;var d=c==q3,h=u==q3,m=c==u;if(m&&Cw(e)){if(!Cw(t))return!1;i=!0,d=!1}if(m&&!d)return a||(a=new Ol),i||Hce(e)?tue(e,t,n,r,s,a):UKe(e,t,c,n,r,s,a);if(!(n&WKe)){var g=d&&JY.call(e,"__wrapped__"),v=h&&JY.call(t,"__wrapped__");if(g||v){var x=g?e.value():e,b=v?t.value():t;return a||(a=new Ol),s(x,b,n,r,a)}}return m?(a||(a=new Ol),HKe(e,t,n,r,s,a)):!1}function U_(e,t,n,r,s){return e===t?!0:e==null||t==null||!uu(e)&&!uu(t)?e!==e&&t!==t:qKe(e,t,n,r,U_,s)}var GKe=1,YKe=2;function KKe(e,t,n,r){var s=n.length,a=s;if(e==null)return!a;for(e=Object(e);s--;){var i=n[s];if(i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++s<a;){i=n[s];var l=i[0],c=e[l],u=i[1];if(i[2]){if(c===void 0&&!(l in e))return!1}else{var d=new Ol,h;if(!(h===void 0?U_(u,c,GKe|YKe,r,d):h))return!1}}return!0}function nue(e){return e===e&&!io(e)}function QKe(e){for(var t=CI(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,nue(s)]}return t}function rue(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function XKe(e){var t=QKe(e);return t.length==1&&t[0][2]?rue(t[0][0],t[0][1]):function(n){return n===e||KKe(n,e,t)}}function ZKe(e,t){return e!=null&&t in Object(e)}function JKe(e,t,n){t=F_(t,e);for(var r=-1,s=t.length,a=!1;++r<s;){var i=yx(t[r]);if(!(a=e!=null&&n(e,i)))break;e=e[i]}return a||++r!=s?a:(s=e==null?0:e.length,!!s&&yI(s)&&gI(i,s)&&(ao(e)||wI(e)))}function eQe(e,t){return e!=null&&JKe(e,t,ZKe)}var tQe=1,nQe=2;function rQe(e,t){return SI(e)&&nue(t)?rue(yx(e),t):function(n){var r=WGe(n,e);return r===void 0&&r===t?eQe(n,e):U_(t,r,tQe|nQe)}}function sQe(e){return function(t){return t?.[e]}}function aQe(e){return function(t){return MI(t,e)}}function iQe(e){return SI(e)?sQe(yx(e)):aQe(e)}function NI(e){return typeof e=="function"?e:e==null?pI:typeof e=="object"?ao(e)?rQe(e[0],e[1]):XKe(e):iQe(e)}var eM=function(){return Xo.Date.now()},oQe="Expected a function",lQe=Math.max,cQe=Math.min;function Ni(e,t,n){var r,s,a,i,l,c,u=0,d=!1,h=!1,m=!0;if(typeof e!="function")throw new TypeError(oQe);t=TY(t)||0,io(n)&&(d=!!n.leading,h="maxWait"in n,a=h?lQe(TY(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m);function g(T){var j=r,N=s;return r=s=void 0,u=T,i=e.apply(N,j),i}function v(T){return u=T,l=setTimeout(w,t),d?g(T):i}function x(T){var j=T-c,N=T-u,R=t-j;return h?cQe(R,a-N):R}function b(T){var j=T-c,N=T-u;return c===void 0||j>=t||j<0||h&&N>=a}function w(){var T=eM();if(b(T))return C(T);l=setTimeout(w,x(T))}function C(T){return l=void 0,m&&r?g(T):(r=s=void 0,i)}function S(){l!==void 0&&clearTimeout(l),u=0,r=c=s=l=void 0}function k(){return l===void 0?i:C(eM())}function E(){var T=eM(),j=b(T);if(r=arguments,s=this,c=T,j){if(l===void 0)return v(c);if(h)return clearTimeout(l),l=setTimeout(w,t),g(c)}return l===void 0&&(l=setTimeout(w,t)),i}return E.cancel=S,E.flush=k,E}function eK(e){return uu(e)&&xI(e)}function uQe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function dQe(e,t){return mI(t,function(n){return e[n]})}function fQe(e){return e==null?[]:dQe(e,CI(e))}function Ya(e,t){return U_(e,t)}function hQe(e,t,n,r){if(!io(e))return e;t=F_(t,e);for(var s=-1,a=t.length,i=a-1,l=e;l!=null&&++s<a;){var c=yx(t[s]),u=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(s!=i){var d=l[c];u=void 0,u===void 0&&(u=io(d)?d:gI(t[s+1])?[]:{})}Uce(l,c,u),l=l[c]}return e}function mQe(e,t,n){for(var r=-1,s=t.length,a={};++r<s;){var i=t[r],l=MI(e,i);n(l,i)&&hQe(a,F_(i,e),l)}return a}function pQe(e,t){if(e==null)return{};var n=mI(iYe(e),function(r){return[r]});return t=NI(t),mQe(e,n,function(r,s){return t(r,s[0])})}var gQe=Math.floor,vQe=Math.random;function yQe(e,t){return e+gQe(vQe()*(t-e+1))}function sue(e,t){var n=-1,r=e.length,s=r-1;for(t=t===void 0?r:t;++n<t;){var a=yQe(n,s),i=e[a];e[a]=e[n],e[n]=i}return e.length=t,e}function xQe(e){return sue(Z$e(e))}function bQe(e){return sue(fQe(e))}function aue(e){var t=ao(e)?xQe:bQe;return t(e)}var wQe="Expected a function";function B_(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new TypeError(wQe);return io(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),Ni(e,t,{leading:r,maxWait:t,trailing:s})}var _Qe=1/0,CQe=qp&&1/TI(new qp([,-0]))[1]==_Qe?function(e){return new qp(e)}:Yn,SQe=200;function jI(e,t,n){var r=-1,s=dqe,a=e.length,i=!0,l=[],c=l;if(a>=SQe){var u=t?null:CQe(e);if(u)return TI(u);i=!1,s=eue,c=new ry}else c=t?[]:l;e:for(;++r<a;){var d=e[r],h=t?t(d):d;if(d=d!==0?d:0,i&&h===h){for(var m=c.length;m--;)if(c[m]===h)continue e;t&&c.push(h),l.push(d)}else s(c,h,n)||(c!==l&&c.push(h),l.push(d))}return l}var MQe=yqe(function(e){var t=uQe(e);return eK(t)&&(t=void 0),jI(qGe(e,1,eK),NI(t))});function tK(e){return e&&e.length?jI(e):[]}function iue(e,t){return e&&e.length?jI(e,NI(t)):[]}const kQe=1.75,nK={"3xs":{size:10,stroke:.5},"2xs":{size:12,stroke:.75},xs:{size:14,stroke:1},sm:{size:16,stroke:1.2},md:{size:18,stroke:1.3},base:{size:20,stroke:1.5},lg:{size:24,stroke:1.75},xl:{size:28,stroke:2},"2xl":{size:32,stroke:2.25},"3xl":{size:48,stroke:3.5},"4xl":{size:64,stroke:4.75}},EQe=e=>e.displayName?.startsWith("IconPerplexity")||e.displayName?.endsWith("Filled"),Ne=L.memo(({icon:e,size:t="base",color:n="currentColor",stroke:r,className:s,style:a,"aria-label":i,opacity:l,badge:c})=>{const u=typeof t=="number"?t:nK[t].size,d=!EQe(e);let h;d&&(r!==void 0?h=r:typeof t=="string"?h=nK[t].stroke:h=kQe);const m=h?typeof r=="number"?r:Number(h)*24/Number(u):void 0,g=u*.65;return c?o.jsxs("div",{className:"relative inline-flex",children:[o.jsx(e,{size:u,color:n,strokeWidth:m,className:W("shrink-0",s),style:a,"aria-label":i,opacity:l}),o.jsx("div",{className:"-bottom-two -right-two absolute overflow-hidden",style:{width:`${g}px`,height:`${g}px`},children:typeof c=="string"?o.jsx("img",{src:c,alt:"Badge",style:{width:"100%",height:"100%"}}):c})]}):o.jsx(e,{size:u,color:n,strokeWidth:m,className:s,style:a,"aria-label":i,opacity:l})});Ne.displayName="TablerIcon";function Gp(e){try{return new URL(e)}catch{return new URL(e,window.location.origin)}}const oue={current:0},xg=f.createContext({spaRoutes:[],strictSpa:!1,openNonSpaRouteInNewTab:!1,startTimeFromTimeOriginRef:oue}),lue=L.memo(({spaRoutes:e,strictSpa:t,openNonSpaRouteInNewTab:n,children:r})=>o.jsx(xg.Provider,{value:{spaRoutes:e,strictSpa:t,openNonSpaRouteInNewTab:n,startTimeFromTimeOriginRef:oue},children:r}));lue.displayName="RouterProvider";function TQe(e,t){return!t||t==="/"?e:e.startsWith(t)?e.slice(t.length):e}function NQe(e,t){return!t||t==="/"||e.startsWith(t)?e:`${t}${e}`}const AI=[];function Jj(e,t,n){return e.some(r=>{const[s]=S_(t,r.startsWith("^")?new RegExp(r):r,n);return s})}function rK(e,t,n,r){const s=Gp(window.location.href),a=Gp(e);if(a.origin!==window.location.origin)return{shouldNavigate:!1,absolutePath:a.toString()};const i=TQe(s.pathname,t);return{shouldNavigate:Jj(n,r,a.pathname)&&Jj(n,r,i),absolutePath:NQe(e,t)}}function Qt(){const e=JVe(),{parser:t,base:n}=Jl(),r=cue(),s=f.useContext(xg),a=s?.spaRoutes??AI,i=s.startTimeFromTimeOriginRef,l=f.useCallback((d,h={},m)=>{i.current=performance.now();const g=Gp(window.location.href);le.debug("Pushing route",{reason:m,path:d,previousPath:g.pathname,referrer:document.referrer,previousSearchParams:g.searchParams.toString(),previousUrl:g.toString()});const{shouldNavigate:v,absolutePath:x}=rK(d,n,a,t);v?window.history.pushState({},"",x):r?window.location.href=x:e.push(d,h)},[e,i,n,a,t,r]),c=f.useCallback(d=>{i.current=performance.now();const h=Gp(window.location.href);le.debug("Refreshing route",{reason:d,path:window.location.pathname,referrer:document.referrer,previousSearchParams:h.searchParams.toString(),previousUrl:h.toString()}),e.refresh()},[e,i]),u=f.useCallback((d,h)=>{const m=Gp(window.location.href);le.debug("Replacing route",{reason:h,path:d,previousPath:m.pathname,referrer:document.referrer,previousSearchParams:m.searchParams.toString(),previousUrl:m.toString()});const{absolutePath:g}=rK(d,n,a,t);window.history.replaceState({},"",g)},[n,t,a]);return f.useEffect(()=>{const d=()=>{i.current=performance.now()};return window.addEventListener("popstate",d),()=>{window.removeEventListener("popstate",d)}},[i]),f.useMemo(()=>({push:l.bind(e),refresh:c.bind(e),replace:u.bind(e),base:n,startTimeFromTimeOriginRef:i}),[e,l,c,u,n,i])}function cue(){return f.useContext(xg)?.strictSpa??!1}function jQe(){return f.useContext(xg)?.openNonSpaRouteInNewTab??!1}function uue(){const{parser:e}=Jl(),t=f.useContext(xg)?.spaRoutes??AI;return f.useCallback(n=>Jj(t,e,n),[t,e])}function AQe(e){const{parser:t}=Jl(),n=f.useContext(xg)?.spaRoutes??AI,r=f.useRef({});if(!r.current[e])for(const s of n){const a=S_(t,s.startsWith("^")?new RegExp(s):s,e);if(a[0]){r.current[e]=a[1];break}}return r.current[e]}const Nt=f.forwardRef(({href:e,onClick:t,target:n,...r},s)=>{const a=Qt(),i=cue(),l=jQe(),c=uue(),[u,d]=f.useState(n);f.useEffect(()=>{!i||n==="_blank"||!e||!c(e)&&l&&d("_blank")},[e,c,i,n,l]);const h=f.useCallback(m=>{if(t?.(m),m.defaultPrevented)return;const g=navigator.userAgent.includes("Macintosh")||navigator.userAgent.includes("iPad");!(g&&m.metaKey)&&!(!g&&m.ctrlKey)&&e&&u!=="_blank"&&(m.preventDefault(),a.push(e))},[e,u,t,a]);return o.jsx("a",{...r,ref:s,target:u,href:e,onClick:h})});Nt.displayName="Link";const RQe={[tn.tiny]:"xs",[tn.small]:"sm",[tn.regular]:"base",[tn.large]:"lg",[tn.xl]:"xl",[tn.none]:"base"},d2=L.memo(({icon:e,showClicked:t=!1,buttonSize:n,iconClassName:r})=>o.jsx(Ne,{icon:t?Pa:e,size:RQe[n]||"base",className:r}));d2.displayName="BaseIcon";const Cu=L.memo(({size:e=16,className:t,...n})=>o.jsx("div",{className:W("aspect-square shrink-0 animate-spin rounded-full p-[2px]",t),style:{width:e,backgroundImage:"conic-gradient(from 270deg, transparent 0%, currentColor 99%)",mask:`radial-gradient(transparent 0%, transparent ${e/2-2}px, black ${e/2-2}px, black) center center`},...n}));Cu.displayName="Spinner";function pn(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}function LQe(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function due(...e){return t=>e.forEach(n=>LQe(n,t))}function Fr(...e){return f.useCallback(due(...e),e)}function OQe(e,t){const n=f.createContext(t),r=a=>{const{children:i,...l}=a,c=f.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(a){const i=f.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function Zo(e,t=[]){let n=[];function r(a,i){const l=f.createContext(i),c=n.length;n=[...n,i];const u=h=>{const{scope:m,children:g,...v}=h,x=m?.[e]?.[c]||l,b=f.useMemo(()=>v,Object.values(v));return o.jsx(x.Provider,{value:b,children:g})};u.displayName=a+"Provider";function d(h,m){const g=m?.[e]?.[c]||l,v=f.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=n.map(i=>f.createContext(i));return function(l){const c=l?.[e]||a;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,PQe(s,...t)]}function PQe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var V_=f.forwardRef((e,t)=>{const{children:n,...r}=e,s=f.Children.toArray(n),a=s.find(IQe);if(a){const i=a.props.children,l=s.map(c=>c===a?f.Children.count(i)>1?f.Children.only(null):f.isValidElement(i)?i.props.children:null:c);return o.jsx(eA,{...r,ref:t,children:f.isValidElement(i)?f.cloneElement(i,void 0,l):null})}return o.jsx(eA,{...r,ref:t,children:n})});V_.displayName="Slot";var eA=f.forwardRef((e,t)=>{const{children:n,...r}=e;if(f.isValidElement(n)){const s=FQe(n);return f.cloneElement(n,{...DQe(r,n.props),ref:t?due(t,s):s})}return f.Children.count(n)>1?f.Children.only(null):null});eA.displayName="SlotClone";var fue=({children:e})=>o.jsx(o.Fragment,{children:e});function IQe(e){return f.isValidElement(e)&&e.type===fue}function DQe(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{a(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function FQe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var UQe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Jn=UQe.reduce((e,t)=>{const n=f.forwardRef((r,s)=>{const{asChild:a,...i}=r,l=a?V_:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...i,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function BQe(e,t){e&&Xs.flushSync(()=>e.dispatchEvent(t))}function da(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>t.current?.(...n),[])}function VQe(e,t=globalThis?.document){const n=da(e);f.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var zQe="DismissableLayer",tA="dismissableLayer.update",HQe="dismissableLayer.pointerDownOutside",WQe="dismissableLayer.focusOutside",sK,hue=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xx=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,onDismiss:l,...c}=e,u=f.useContext(hue),[d,h]=f.useState(null),m=d?.ownerDocument??globalThis?.document,[,g]=f.useState({}),v=Fr(t,j=>h(j)),x=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=x.indexOf(b),C=d?x.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,k=C>=w,E=GQe(j=>{const N=j.target,R=[...u.branches].some(O=>O.contains(N));!k||R||(s?.(j),i?.(j),j.defaultPrevented||l?.())},m),T=YQe(j=>{const N=j.target;[...u.branches].some(O=>O.contains(N))||(a?.(j),i?.(j),j.defaultPrevented||l?.())},m);return VQe(j=>{C===u.layers.size-1&&(r?.(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},m),f.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(sK=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),aK(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=sK)}},[d,m,n,u]),f.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),aK())},[d,u]),f.useEffect(()=>{const j=()=>g({});return document.addEventListener(tA,j),()=>document.removeEventListener(tA,j)},[]),o.jsx(Jn.div,{...c,ref:v,style:{pointerEvents:S?k?"auto":"none":void 0,...e.style},onFocusCapture:pn(e.onFocusCapture,T.onFocusCapture),onBlurCapture:pn(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:pn(e.onPointerDownCapture,E.onPointerDownCapture)})});xx.displayName=zQe;var $Qe="DismissableLayerBranch",qQe=f.forwardRef((e,t)=>{const n=f.useContext(hue),r=f.useRef(null),s=Fr(t,r);return f.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),o.jsx(Jn.div,{...e,ref:s})});qQe.displayName=$Qe;function GQe(e,t=globalThis?.document){const n=da(e),r=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){mue(HQe,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function YQe(e,t=globalThis?.document){const n=da(e),r=f.useRef(!1);return f.useEffect(()=>{const s=a=>{a.target&&!r.current&&mue(WQe,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function aK(){const e=new CustomEvent(tA);document.dispatchEvent(e)}function mue(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?BQe(s,a):s.dispatchEvent(a)}var Wl=globalThis?.document?f.useLayoutEffect:()=>{},KQe=eP.useId||(()=>{}),QQe=0;function Yp(e){const[t,n]=f.useState(KQe());return Wl(()=>{n(r=>r??String(QQe++))},[e]),t?`radix-${t}`:""}const XQe=["top","right","bottom","left"],Vo=Math.min,ca=Math.max,Mw=Math.round,G3=Math.floor,Pl=e=>({x:e,y:e}),ZQe={left:"right",right:"left",bottom:"top",top:"bottom"},JQe={start:"end",end:"start"};function nA(e,t,n){return ca(e,Vo(t,n))}function $l(e,t){return typeof e=="function"?e(t):e}function zo(e){return e.split("-")[0]}function bg(e){return e.split("-")[1]}function RI(e){return e==="x"?"y":"x"}function LI(e){return e==="y"?"height":"width"}function du(e){return["top","bottom"].includes(zo(e))?"y":"x"}function OI(e){return RI(du(e))}function eXe(e,t,n){n===void 0&&(n=!1);const r=bg(e),s=OI(e),a=LI(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=kw(i)),[i,kw(i)]}function tXe(e){const t=kw(e);return[rA(e),t,rA(t)]}function rA(e){return e.replace(/start|end/g,t=>JQe[t])}function nXe(e,t,n){const r=["left","right"],s=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?a:i;default:return[]}}function rXe(e,t,n,r){const s=bg(e);let a=nXe(zo(e),n==="start",r);return s&&(a=a.map(i=>i+"-"+s),t&&(a=a.concat(a.map(rA)))),a}function kw(e){return e.replace(/left|right|bottom|top/g,t=>ZQe[t])}function sXe(e){return{top:0,right:0,bottom:0,left:0,...e}}function PI(e){return typeof e!="number"?sXe(e):{top:e,right:e,bottom:e,left:e}}function k1(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function iK(e,t,n){let{reference:r,floating:s}=e;const a=du(t),i=OI(t),l=LI(i),c=zo(t),u=a==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let g;switch(c){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-s.width,y:h};break;default:g={x:r.x,y:r.y}}switch(bg(t)){case"start":g[i]-=m*(n&&u?-1:1);break;case"end":g[i]+=m*(n&&u?-1:1);break}return g}const aXe=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:i}=n,l=a.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=iK(u,r,c),m=r,g={},v=0;for(let x=0;x<l.length;x++){const{name:b,fn:w}=l[x],{x:C,y:S,data:k,reset:E}=await w({x:d,y:h,initialPlacement:r,placement:m,strategy:s,middlewareData:g,rects:u,platform:i,elements:{reference:e,floating:t}});d=C??d,h=S??h,g={...g,[b]:{...g[b],...k}},E&&v<=50&&(v++,typeof E=="object"&&(E.placement&&(m=E.placement),E.rects&&(u=E.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):E.rects),{x:d,y:h}=iK(u,m,c)),x=-1)}return{x:d,y:h,placement:m,strategy:s,middlewareData:g}};async function sy(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=$l(t,e),v=PI(g),b=l[m?h==="floating"?"reference":"floating":h],w=k1(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(b)))==null||n?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),C=h==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),k=await(a.isElement==null?void 0:a.isElement(S))?await(a.getScale==null?void 0:a.getScale(S))||{x:1,y:1}:{x:1,y:1},E=k1(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:S,strategy:c}):C);return{top:(w.top-E.top+v.top)/k.y,bottom:(E.bottom-w.bottom+v.bottom)/k.y,left:(w.left-E.left+v.left)/k.x,right:(E.right-w.right+v.right)/k.x}}const iXe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=$l(e,t)||{};if(u==null)return{};const h=PI(d),m={x:n,y:r},g=OI(s),v=LI(g),x=await i.getDimensions(u),b=g==="y",w=b?"top":"left",C=b?"bottom":"right",S=b?"clientHeight":"clientWidth",k=a.reference[v]+a.reference[g]-m[g]-a.floating[v],E=m[g]-a.reference[g],T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let j=T?T[S]:0;(!j||!await(i.isElement==null?void 0:i.isElement(T)))&&(j=l.floating[S]||a.floating[v]);const N=k/2-E/2,R=j/2-x[v]/2-1,O=Vo(h[w],R),I=Vo(h[C],R),B=O,D=j-x[v]-I,z=j/2-x[v]/2+N,V=nA(B,z,D),U=!c.arrow&&bg(s)!=null&&z!==V&&a.reference[v]/2-(z<B?O:I)-x[v]/2<0,H=U?z<B?z-B:z-D:0;return{[g]:m[g]+H,data:{[g]:V,centerOffset:z-V-H,...U&&{alignmentOffset:H}},reset:U}}}),oXe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...b}=$l(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const w=zo(s),C=du(l),S=zo(l)===l,k=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=m||(S||!x?[kw(l)]:tXe(l)),T=v!=="none";!m&&T&&E.push(...rXe(l,x,v,k));const j=[l,...E],N=await sy(t,b),R=[];let O=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&R.push(N[w]),h){const z=eXe(s,i,k);R.push(N[z[0]],N[z[1]])}if(O=[...O,{placement:s,overflows:R}],!R.every(z=>z<=0)){var I,B;const z=(((I=a.flip)==null?void 0:I.index)||0)+1,V=j[z];if(V)return{data:{index:z,overflows:O},reset:{placement:V}};let U=(B=O.filter(H=>H.overflows[0]<=0).sort((H,q)=>H.overflows[1]-q.overflows[1])[0])==null?void 0:B.placement;if(!U)switch(g){case"bestFit":{var D;const H=(D=O.filter(q=>{if(T){const $=du(q.placement);return $===C||$==="y"}return!0}).map(q=>[q.placement,q.overflows.filter($=>$>0).reduce(($,G)=>$+G,0)]).sort((q,$)=>q[1]-$[1])[0])==null?void 0:D[0];H&&(U=H);break}case"initialPlacement":U=l;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function oK(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function lK(e){return XQe.some(t=>e[t]>=0)}const lXe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=$l(e,t);switch(r){case"referenceHidden":{const a=await sy(t,{...s,elementContext:"reference"}),i=oK(a,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:lK(i)}}}case"escaped":{const a=await sy(t,{...s,altBoundary:!0}),i=oK(a,n.floating);return{data:{escapedOffsets:i,escaped:lK(i)}}}default:return{}}}}};function pue(e){const t=Vo(...e.map(a=>a.left)),n=Vo(...e.map(a=>a.top)),r=ca(...e.map(a=>a.right)),s=ca(...e.map(a=>a.bottom));return{x:t,y:n,width:r-t,height:s-n}}function cXe(e){const t=e.slice().sort((s,a)=>s.y-a.y),n=[];let r=null;for(let s=0;s<t.length;s++){const a=t[s];!r||a.y-r.y>r.height/2?n.push([a]):n[n.length-1].push(a),r=a}return n.map(s=>k1(pue(s)))}const uXe=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:s,platform:a,strategy:i}=t,{padding:l=2,x:c,y:u}=$l(e,t),d=Array.from(await(a.getClientRects==null?void 0:a.getClientRects(r.reference))||[]),h=cXe(d),m=k1(pue(d)),g=PI(l);function v(){if(h.length===2&&h[0].left>h[1].right&&c!=null&&u!=null)return h.find(b=>c>b.left-g.left&&c<b.right+g.right&&u>b.top-g.top&&u<b.bottom+g.bottom)||m;if(h.length>=2){if(du(n)==="y"){const O=h[0],I=h[h.length-1],B=zo(n)==="top",D=O.top,z=I.bottom,V=B?O.left:I.left,U=B?O.right:I.right,H=U-V,q=z-D;return{top:D,bottom:z,left:V,right:U,width:H,height:q,x:V,y:D}}const b=zo(n)==="left",w=ca(...h.map(O=>O.right)),C=Vo(...h.map(O=>O.left)),S=h.filter(O=>b?O.left===C:O.right===w),k=S[0].top,E=S[S.length-1].bottom,T=C,j=w,N=j-T,R=E-k;return{top:k,bottom:E,left:T,right:j,width:N,height:R,x:T,y:k}}return m}const x=await a.getElementRects({reference:{getBoundingClientRect:v},floating:r.floating,strategy:i});return s.reference.x!==x.reference.x||s.reference.y!==x.reference.y||s.reference.width!==x.reference.width||s.reference.height!==x.reference.height?{reset:{rects:x}}:{}}}};async function dXe(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=zo(n),l=bg(n),c=du(n)==="y",u=["left","top"].includes(i)?-1:1,d=a&&c?-1:1,h=$l(t,e);let{mainAxis:m,crossAxis:g,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(g=l==="end"?v*-1:v),c?{x:g*d,y:m*u}:{x:m*u,y:g*d}}const fXe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:i,middlewareData:l}=t,c=await dXe(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:i}}}}},hXe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:w,y:C}=b;return{x:w,y:C}}},...c}=$l(e,t),u={x:n,y:r},d=await sy(t,c),h=du(zo(s)),m=RI(h);let g=u[m],v=u[h];if(a){const b=m==="y"?"top":"left",w=m==="y"?"bottom":"right",C=g+d[b],S=g-d[w];g=nA(C,g,S)}if(i){const b=h==="y"?"top":"left",w=h==="y"?"bottom":"right",C=v+d[b],S=v-d[w];v=nA(C,v,S)}const x=l.fn({...t,[m]:g,[h]:v});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[m]:a,[h]:i}}}}}},mXe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=$l(e,t),d={x:n,y:r},h=du(s),m=RI(h);let g=d[m],v=d[h];const x=$l(l,t),b=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const S=m==="y"?"height":"width",k=a.reference[m]-a.floating[S]+b.mainAxis,E=a.reference[m]+a.reference[S]-b.mainAxis;g<k?g=k:g>E&&(g=E)}if(u){var w,C;const S=m==="y"?"width":"height",k=["top","left"].includes(zo(s)),E=a.reference[h]-a.floating[S]+(k&&((w=i.offset)==null?void 0:w[h])||0)+(k?0:b.crossAxis),T=a.reference[h]+a.reference[S]+(k?0:((C=i.offset)==null?void 0:C[h])||0)-(k?b.crossAxis:0);v<E?v=E:v>T&&(v=T)}return{[m]:g,[h]:v}}}},pXe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:i,elements:l}=t,{apply:c=()=>{},...u}=$l(e,t),d=await sy(t,u),h=zo(s),m=bg(s),g=du(s)==="y",{width:v,height:x}=a.floating;let b,w;h==="top"||h==="bottom"?(b=h,w=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(w=h,b=m==="end"?"top":"bottom");const C=x-d.top-d.bottom,S=v-d.left-d.right,k=Vo(x-d[b],C),E=Vo(v-d[w],S),T=!t.middlewareData.shift;let j=k,N=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=S),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(j=C),T&&!m){const O=ca(d.left,0),I=ca(d.right,0),B=ca(d.top,0),D=ca(d.bottom,0);g?N=v-2*(O!==0||I!==0?O+I:ca(d.left,d.right)):j=x-2*(B!==0||D!==0?B+D:ca(d.top,d.bottom))}await c({...t,availableWidth:N,availableHeight:j});const R=await i.getDimensions(l.floating);return v!==R.width||x!==R.height?{reset:{rects:!0}}:{}}}};function z_(){return typeof window<"u"}function wg(e){return gue(e)?(e.nodeName||"").toLowerCase():"#document"}function Ci(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ec(e){var t;return(t=(gue(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function gue(e){return z_()?e instanceof Node||e instanceof Ci(e).Node:!1}function Na(e){return z_()?e instanceof Element||e instanceof Ci(e).Element:!1}function ql(e){return z_()?e instanceof HTMLElement||e instanceof Ci(e).HTMLElement:!1}function cK(e){return!z_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ci(e).ShadowRoot}function bx(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=oo(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function gXe(e){return["table","td","th"].includes(wg(e))}function H_(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function II(e){const t=DI(),n=Na(e)?oo(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function vXe(e){let t=Dd(e);for(;ql(t)&&!E1(t);){if(II(t))return t;if(H_(t))return null;t=Dd(t)}return null}function DI(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function E1(e){return["html","body","#document"].includes(wg(e))}function oo(e){return Ci(e).getComputedStyle(e)}function W_(e){return Na(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Dd(e){if(wg(e)==="html")return e;const t=e.assignedSlot||e.parentNode||cK(e)&&e.host||ec(e);return cK(t)?t.host:t}function vue(e){const t=Dd(e);return E1(t)?e.ownerDocument?e.ownerDocument.body:e.body:ql(t)&&bx(t)?t:vue(t)}function ay(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=vue(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),i=Ci(s);if(a){const l=sA(i);return t.concat(i,i.visualViewport||[],bx(s)?s:[],l&&n?ay(l):[])}return t.concat(s,ay(s,[],n))}function sA(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function yue(e){const t=oo(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=ql(e),a=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=Mw(n)!==a||Mw(r)!==i;return l&&(n=a,r=i),{width:n,height:r,$:l}}function FI(e){return Na(e)?e:e.contextElement}function Kp(e){const t=FI(e);if(!ql(t))return Pl(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=yue(t);let i=(a?Mw(n.width):n.width)/r,l=(a?Mw(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const yXe=Pl(0);function xue(e){const t=Ci(e);return!DI()||!t.visualViewport?yXe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xXe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ci(e)?!1:t}function jh(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=FI(e);let i=Pl(1);t&&(r?Na(r)&&(i=Kp(r)):i=Kp(e));const l=xXe(a,n,r)?xue(a):Pl(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,h=s.height/i.y;if(a){const m=Ci(a),g=r&&Na(r)?Ci(r):r;let v=m,x=sA(v);for(;x&&r&&g!==v;){const b=Kp(x),w=x.getBoundingClientRect(),C=oo(x),S=w.left+(x.clientLeft+parseFloat(C.paddingLeft))*b.x,k=w.top+(x.clientTop+parseFloat(C.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,h*=b.y,c+=S,u+=k,v=Ci(x),x=sA(v)}}return k1({width:d,height:h,x:c,y:u})}function UI(e,t){const n=W_(e).scrollLeft;return t?t.left+n:jh(ec(e)).left+n}function bue(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:UI(e,r)),a=r.top+t.scrollTop;return{x:s,y:a}}function bXe(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",i=ec(r),l=t?H_(t.floating):!1;if(r===i||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=Pl(1);const d=Pl(0),h=ql(r);if((h||!h&&!a)&&((wg(r)!=="body"||bx(i))&&(c=W_(r)),ql(r))){const g=jh(r);u=Kp(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const m=i&&!h&&!a?bue(i,c,!0):Pl(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function wXe(e){return Array.from(e.getClientRects())}function _Xe(e){const t=ec(e),n=W_(e),r=e.ownerDocument.body,s=ca(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=ca(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+UI(e);const l=-n.scrollTop;return oo(r).direction==="rtl"&&(i+=ca(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:i,y:l}}function CXe(e,t){const n=Ci(e),r=ec(e),s=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;const u=DI();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:l,y:c}}function SXe(e,t){const n=jh(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=ql(e)?Kp(e):Pl(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:i,height:l,x:c,y:u}}function uK(e,t,n){let r;if(t==="viewport")r=CXe(e,n);else if(t==="document")r=_Xe(ec(e));else if(Na(t))r=SXe(t,n);else{const s=xue(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return k1(r)}function wue(e,t){const n=Dd(e);return n===t||!Na(n)||E1(n)?!1:oo(n).position==="fixed"||wue(n,t)}function MXe(e,t){const n=t.get(e);if(n)return n;let r=ay(e,[],!1).filter(l=>Na(l)&&wg(l)!=="body"),s=null;const a=oo(e).position==="fixed";let i=a?Dd(e):e;for(;Na(i)&&!E1(i);){const l=oo(i),c=II(i);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||bx(i)&&!c&&wue(e,i))?r=r.filter(d=>d!==i):s=l,i=Dd(i)}return t.set(e,r),r}function kXe(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?H_(t)?[]:MXe(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,d)=>{const h=uK(t,d,s);return u.top=ca(h.top,u.top),u.right=Vo(h.right,u.right),u.bottom=Vo(h.bottom,u.bottom),u.left=ca(h.left,u.left),u},uK(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function EXe(e){const{width:t,height:n}=yue(e);return{width:t,height:n}}function TXe(e,t,n){const r=ql(t),s=ec(t),a=n==="fixed",i=jh(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Pl(0);if(r||!r&&!a)if((wg(t)!=="body"||bx(s))&&(l=W_(t)),r){const m=jh(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&(c.x=UI(s));const u=s&&!r&&!a?bue(s,l):Pl(0),d=i.left+l.scrollLeft-c.x-u.x,h=i.top+l.scrollTop-c.y-u.y;return{x:d,y:h,width:i.width,height:i.height}}function tM(e){return oo(e).position==="static"}function dK(e,t){if(!ql(e)||oo(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ec(e)===n&&(n=n.ownerDocument.body),n}function _ue(e,t){const n=Ci(e);if(H_(e))return n;if(!ql(e)){let s=Dd(e);for(;s&&!E1(s);){if(Na(s)&&!tM(s))return s;s=Dd(s)}return n}let r=dK(e,t);for(;r&&gXe(r)&&tM(r);)r=dK(r,t);return r&&E1(r)&&tM(r)&&!II(r)?n:r||vXe(e)||n}const NXe=async function(e){const t=this.getOffsetParent||_ue,n=this.getDimensions,r=await n(e.floating);return{reference:TXe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function jXe(e){return oo(e).direction==="rtl"}const AXe={convertOffsetParentRelativeRectToViewportRelativeRect:bXe,getDocumentElement:ec,getClippingRect:kXe,getOffsetParent:_ue,getElementRects:NXe,getClientRects:wXe,getDimensions:EXe,getScale:Kp,isElement:Na,isRTL:jXe};function Cue(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function RXe(e,t){let n=null,r;const s=ec(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:h,width:m,height:g}=u;if(l||t(),!m||!g)return;const v=G3(h),x=G3(s.clientWidth-(d+m)),b=G3(s.clientHeight-(h+g)),w=G3(d),S={rootMargin:-v+"px "+-x+"px "+-b+"px "+-w+"px",threshold:ca(0,Vo(1,c))||1};let k=!0;function E(T){const j=T[0].intersectionRatio;if(j!==c){if(!k)return i();j?i(!1,j):r=setTimeout(()=>{i(!1,1e-7)},1e3)}j===1&&!Cue(u,e.getBoundingClientRect())&&i(),k=!1}try{n=new IntersectionObserver(E,{...S,root:s.ownerDocument})}catch{n=new IntersectionObserver(E,S)}n.observe(e)}return i(!0),a}function Sue(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=FI(e),d=s||a?[...u?ay(u):[],...ay(t)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",n,{passive:!0}),a&&w.addEventListener("resize",n)});const h=u&&l?RXe(u,n):null;let m=-1,g=null;i&&(g=new ResizeObserver(w=>{let[C]=w;C&&C.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=g)==null||S.observe(t)})),n()}),u&&!c&&g.observe(u),g.observe(t));let v,x=c?jh(e):null;c&&b();function b(){const w=jh(e);x&&!Cue(x,w)&&n(),x=w,v=requestAnimationFrame(b)}return n(),()=>{var w;d.forEach(C=>{s&&C.removeEventListener("scroll",n),a&&C.removeEventListener("resize",n)}),h?.(),(w=g)==null||w.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const LXe=fXe,OXe=hXe,PXe=oXe,IXe=pXe,DXe=lXe,fK=iXe,kYt=uXe,FXe=mXe,UXe=(e,t,n)=>{const r=new Map,s={platform:AXe,...n},a={...s.platform,_c:r};return aXe(e,t,{...s,platform:a})};var S5=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Ew(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ew(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!Ew(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Mue(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function hK(e,t){const n=Mue(e);return Math.round(t*n)/n}function nM(e){const t=f.useRef(e);return S5(()=>{t.current=e}),t}function kue(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,g]=f.useState(r);Ew(m,r)||g(r);const[v,x]=f.useState(null),[b,w]=f.useState(null),C=f.useCallback(q=>{q!==T.current&&(T.current=q,x(q))},[]),S=f.useCallback(q=>{q!==j.current&&(j.current=q,w(q))},[]),k=a||v,E=i||b,T=f.useRef(null),j=f.useRef(null),N=f.useRef(d),R=c!=null,O=nM(c),I=nM(s),B=nM(u),D=f.useCallback(()=>{if(!T.current||!j.current)return;const q={placement:t,strategy:n,middleware:m};I.current&&(q.platform=I.current),UXe(T.current,j.current,q).then($=>{const G={...$,isPositioned:B.current!==!1};z.current&&!Ew(N.current,G)&&(N.current=G,Xs.flushSync(()=>{h(G)}))})},[m,t,n,I,B]);S5(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(q=>({...q,isPositioned:!1})))},[u]);const z=f.useRef(!1);S5(()=>(z.current=!0,()=>{z.current=!1}),[]),S5(()=>{if(k&&(T.current=k),E&&(j.current=E),k&&E){if(O.current)return O.current(k,E,D);D()}},[k,E,D,O,R]);const V=f.useMemo(()=>({reference:T,floating:j,setReference:C,setFloating:S}),[C,S]),U=f.useMemo(()=>({reference:k,floating:E}),[k,E]),H=f.useMemo(()=>{const q={position:n,left:0,top:0};if(!U.floating)return q;const $=hK(U.floating,d.x),G=hK(U.floating,d.y);return l?{...q,transform:"translate("+$+"px, "+G+"px)",...Mue(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:G}},[n,l,U.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:D,refs:V,elements:U,floatingStyles:H}),[d,D,V,U,H])}const BXe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?fK({element:r.current,padding:s}).fn(n):{}:r?fK({element:r,padding:s}).fn(n):{}}}},BI=(e,t)=>({...LXe(e),options:[e,t]}),Eue=(e,t)=>({...OXe(e),options:[e,t]}),Tue=(e,t)=>({...FXe(e),options:[e,t]}),Nue=(e,t)=>({...PXe(e),options:[e,t]}),jue=(e,t)=>({...IXe(e),options:[e,t]}),VXe=(e,t)=>({...DXe(e),options:[e,t]}),Aue=(e,t)=>({...BXe(e),options:[e,t]});var zXe="Arrow",Rue=f.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return o.jsx(Jn.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});Rue.displayName=zXe;var HXe=Rue;function Lue(e,t=[]){let n=[];function r(a,i){const l=f.createContext(i),c=n.length;n=[...n,i];function u(h){const{scope:m,children:g,...v}=h,x=m?.[e][c]||l,b=f.useMemo(()=>v,Object.values(v));return o.jsx(x.Provider,{value:b,children:g})}function d(h,m){const g=m?.[e][c]||l,v=f.useContext(g);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=n.map(i=>f.createContext(i));return function(l){const c=l?.[e]||a;return f.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,WXe(s,...t)]}function WXe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function $_(e){const[t,n]=f.useState(void 0);return Wl(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var VI="Popper",[Oue,_g]=Lue(VI),[$Xe,Pue]=Oue(VI),Iue=e=>{const{__scopePopper:t,children:n}=e,[r,s]=f.useState(null);return o.jsx($Xe,{scope:t,anchor:r,onAnchorChange:s,children:n})};Iue.displayName=VI;var Due="PopperAnchor",Fue=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=Pue(Due,n),i=f.useRef(null),l=Fr(t,i);return f.useEffect(()=>{a.onAnchorChange(r?.current||i.current)}),r?null:o.jsx(Jn.div,{...s,ref:l})});Fue.displayName=Due;var zI="PopperContent",[qXe,GXe]=Oue(zI),Uue=f.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:v,...x}=e,b=Pue(zI,n),[w,C]=f.useState(null),S=Fr(t,X=>C(X)),[k,E]=f.useState(null),T=$_(k),j=T?.width??0,N=T?.height??0,R=r+(a!=="center"?"-"+a:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],B=I.length>0,D={padding:O,boundary:I.filter(KXe),altBoundary:B},{refs:z,floatingStyles:V,placement:U,isPositioned:H,middlewareData:q}=kue({strategy:"fixed",placement:R,whileElementsMounted:(...X)=>Sue(...X,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[BI({mainAxis:s+N,alignmentAxis:i}),c&&Eue({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Tue():void 0,...D}),c&&Nue({...D}),jue({...D,apply:({elements:X,rects:ce,availableWidth:se,availableHeight:J})=>{const{width:de,height:ie}=ce.reference,he=X.floating.style;he.setProperty("--radix-popper-available-width",`${se}px`),he.setProperty("--radix-popper-available-height",`${J}px`),he.setProperty("--radix-popper-anchor-width",`${de}px`),he.setProperty("--radix-popper-anchor-height",`${ie}px`)}}),k&&Aue({element:k,padding:l}),QXe({arrowWidth:j,arrowHeight:N}),m&&VXe({strategy:"referenceHidden",...D})]}),[$,G]=zue(U),K=da(v);Wl(()=>{H&&K?.()},[H,K]);const ee=q.arrow?.x,oe=q.arrow?.y,ne=q.arrow?.centerOffset!==0,[te,re]=f.useState();return Wl(()=>{w&&re(window.getComputedStyle(w).zIndex)},[w]),o.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:H?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[q.transformOrigin?.x,q.transformOrigin?.y].join(" "),...q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(qXe,{scope:n,placedSide:$,onArrowChange:E,arrowX:ee,arrowY:oe,shouldHideArrow:ne,children:o.jsx(Jn.div,{"data-side":$,"data-align":G,...x,ref:S,style:{...x.style,animation:H?void 0:"none"}})})})});Uue.displayName=zI;var Bue="PopperArrow",YXe={top:"bottom",right:"left",bottom:"top",left:"right"},Vue=f.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=GXe(Bue,r),i=YXe[a.placedSide];return o.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:o.jsx(HXe,{...s,ref:n,style:{...s.style,display:"block"}})})});Vue.displayName=Bue;function KXe(e){return e!==null}var QXe=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:s}=t,i=s.arrow?.centerOffset!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=zue(n),h={start:"0%",center:"50%",end:"100%"}[d],m=(s.arrow?.x??0)+l/2,g=(s.arrow?.y??0)+c/2;let v="",x="";return u==="bottom"?(v=i?h:`${m}px`,x=`${-c}px`):u==="top"?(v=i?h:`${m}px`,x=`${r.floating.height+c}px`):u==="right"?(v=`${-c}px`,x=i?h:`${g}px`):u==="left"&&(v=`${r.floating.width+c}px`,x=i?h:`${g}px`),{data:{x:v,y:x}}}});function zue(e){const[t,n="center"]=e.split("-");return[t,n]}var HI=Iue,q_=Fue,WI=Uue,$I=Vue,XXe="Portal",wx=f.forwardRef((e,t)=>{const{container:n,...r}=e,[s,a]=f.useState(!1);Wl(()=>a(!0),[]);const i=n||s&&globalThis?.document?.body;return i?Lle.createPortal(o.jsx(Jn.div,{...r,ref:t}),i):null});wx.displayName=XXe;function ZXe(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var Da=e=>{const{present:t,children:n}=e,r=JXe(t),s=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),a=Fr(r.ref,eZe(s));return typeof n=="function"||r.isPresent?f.cloneElement(s,{ref:a}):null};Da.displayName="Presence";function JXe(e){const[t,n]=f.useState(),r=f.useRef({}),s=f.useRef(e),a=f.useRef("none"),i=e?"mounted":"unmounted",[l,c]=ZXe(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=Y3(r.current);a.current=l==="mounted"?u:"none"},[l]),Wl(()=>{const u=r.current,d=s.current;if(d!==e){const m=a.current,g=Y3(u);e?c("MOUNT"):g==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Wl(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=g=>{const x=Y3(r.current).includes(g.animationName);if(g.target===t&&x&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=g=>{g.target===t&&(a.current=Y3(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Y3(e){return e?.animationName||"none"}function eZe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function rf({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=tZe({defaultProp:t,onChange:n}),a=e!==void 0,i=a?e:r,l=da(n),c=f.useCallback(u=>{if(a){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else s(u)},[a,e,s,l]);return[i,c]}function tZe({defaultProp:e,onChange:t}){const n=f.useState(e),[r]=n,s=f.useRef(r),a=da(t);return f.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}var nZe="VisuallyHidden",_x=f.forwardRef((e,t)=>o.jsx(Jn.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));_x.displayName=nZe;var qI=_x,[G_,EYt]=Zo("Tooltip",[_g]),Y_=_g(),Hue="TooltipProvider",rZe=700,aA="tooltip.open",[sZe,GI]=G_(Hue),YI=e=>{const{__scopeTooltip:t,delayDuration:n=rZe,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,[i,l]=f.useState(!0),c=f.useRef(!1),u=f.useRef(0);return f.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),o.jsx(sZe,{scope:t,isOpenDelayed:i,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:f.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:f.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:a})};YI.displayName=Hue;var K_="Tooltip",[aZe,Cx]=G_(K_),Wue=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:i,delayDuration:l}=e,c=GI(K_,e.__scopeTooltip),u=Y_(t),[d,h]=f.useState(null),m=Yp(),g=f.useRef(0),v=i??c.disableHoverableContent,x=l??c.delayDuration,b=f.useRef(!1),[w=!1,C]=rf({prop:r,defaultProp:s,onChange:j=>{j?(c.onOpen(),document.dispatchEvent(new CustomEvent(aA))):c.onClose(),a?.(j)}}),S=f.useMemo(()=>w?b.current?"delayed-open":"instant-open":"closed",[w]),k=f.useCallback(()=>{window.clearTimeout(g.current),g.current=0,b.current=!1,C(!0)},[C]),E=f.useCallback(()=>{window.clearTimeout(g.current),g.current=0,C(!1)},[C]),T=f.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{b.current=!0,C(!0),g.current=0},x)},[x,C]);return f.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),o.jsx(HI,{...u,children:o.jsx(aZe,{scope:t,contentId:m,open:w,stateAttribute:S,trigger:d,onTriggerChange:h,onTriggerEnter:f.useCallback(()=>{c.isOpenDelayed?T():k()},[c.isOpenDelayed,T,k]),onTriggerLeave:f.useCallback(()=>{v?E():(window.clearTimeout(g.current),g.current=0)},[E,v]),onOpen:k,onClose:E,disableHoverableContent:v,children:n})})};Wue.displayName=K_;var iA="TooltipTrigger",KI=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Cx(iA,n),a=GI(iA,n),i=Y_(n),l=f.useRef(null),c=Fr(t,l,s.onTriggerChange),u=f.useRef(!1),d=f.useRef(!1),h=f.useCallback(()=>u.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),o.jsx(q_,{asChild:!0,...i,children:o.jsx(Jn.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:pn(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:pn(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:pn(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:pn(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:pn(e.onBlur,s.onClose),onClick:pn(e.onClick,s.onClose)})})});KI.displayName=iA;var QI="TooltipPortal",[iZe,oZe]=G_(QI,{forceMount:void 0}),XI=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:s}=e,a=Cx(QI,t);return o.jsx(iZe,{scope:t,forceMount:n,children:o.jsx(Da,{present:n||a.open,children:o.jsx(wx,{asChild:!0,container:s,children:r})})})};XI.displayName=QI;var T1="TooltipContent",ZI=f.forwardRef((e,t)=>{const n=oZe(T1,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,i=Cx(T1,e.__scopeTooltip);return o.jsx(Da,{present:r||i.open,children:i.disableHoverableContent?o.jsx($ue,{side:s,...a,ref:t}):o.jsx(lZe,{side:s,...a,ref:t})})}),lZe=f.forwardRef((e,t)=>{const n=Cx(T1,e.__scopeTooltip),r=GI(T1,e.__scopeTooltip),s=f.useRef(null),a=Fr(t,s),[i,l]=f.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,m=f.useCallback(()=>{l(null),h(!1)},[h]),g=f.useCallback((v,x)=>{const b=v.currentTarget,w={x:v.clientX,y:v.clientY},C=dZe(w,b.getBoundingClientRect()),S=fZe(w,C),k=hZe(x.getBoundingClientRect()),E=pZe([...S,...k]);l(E),h(!0)},[h]);return f.useEffect(()=>()=>m(),[m]),f.useEffect(()=>{if(c&&d){const v=b=>g(b,d),x=b=>g(b,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",x)}}},[c,d,g,m]),f.useEffect(()=>{if(i){const v=x=>{const b=x.target,w={x:x.clientX,y:x.clientY},C=c?.contains(b)||d?.contains(b),S=!mZe(w,i);C?m():S&&(m(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,i,u,m]),o.jsx($ue,{...e,ref:a})}),[cZe,uZe]=G_(K_,{isInside:!1}),$ue=f.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:i,...l}=e,c=Cx(T1,n),u=Y_(n),{onClose:d}=c;return f.useEffect(()=>(document.addEventListener(aA,d),()=>document.removeEventListener(aA,d)),[d]),f.useEffect(()=>{if(c.trigger){const h=m=>{m.target?.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),o.jsx(xx,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:o.jsxs(WI,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(fue,{children:r}),o.jsx(cZe,{scope:n,isInside:!0,children:o.jsx(qI,{id:c.contentId,role:"tooltip",children:s||r})})]})})});ZI.displayName=T1;var que="TooltipArrow",Tw=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Y_(n);return uZe(que,n).isInside?null:o.jsx($I,{...s,...r,ref:t})});Tw.displayName=que;function dZe(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function fZe(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function hZe(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function mZe(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,i=t.length-1;a<t.length;i=a++){const l=t[a].x,c=t[a].y,u=t[i].x,d=t[i].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function pZe(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),gZe(t)}function gZe(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const a=n[n.length-1],i=n[n.length-2];if((a.x-i.x)*(s.y-i.y)>=(a.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var vZe=YI,Gue=Wue,yZe=KI,xZe=XI,bZe=ZI,wZe=Tw;const _Ze={micro:"font-sans text-2xs font-normal",tiny:"font-sans text-xs font-medium",tinyRegular:"font-sans text-xs font-normal",tinyBold:"font-sans text-xs font-bold",extraSmall:"font-sans text-[13px]",small:"font-sans text-sm",smallBold:"font-sans text-sm font-medium leading-[1.125rem]",smallExtraBold:"font-sans text-sm font-extrabold leading-[1.125rem]",base:"font-sans text-base",baseSemi:"font-sans text-base font-medium",tinyMono:"font-mono text-2xs md:text-xs",smallMono:"font-mono text-sm",smallCaps:"text-2xs md:text-xs tracking-wide font-mono leading-none uppercase","section-title":"font-display text-lg font-medium","page-title":"font-display font-[475] dark:font-[450] text-2xl",display:"font-display text-4xl lg:text-[2.8rem] !leading-[1.2]","entry-title":"font-display text-pretty text-xl lg:text-3xl font-[475] dark:font-[450]","entry-title-100":"font-display text-pretty text-xl lg:text-3xl font-[475] dark:font-[450]","entry-title-200":"font-display text-lg lg:text-xl font-[500]","entry-title-300":"font-sans text-pretty font-medium"},CZe={default:"text-textMain",defaultInverted:"dark:text-light-text text-textMainDark",light:"text-textOff ",ultraLight:"text-textMain/35 dark:text-textMainDark/30",red:"text-caution",yellow:"text-yellow-600 dark:text-yellow-400",super:"text-super",white:"text-white",positive:"text-positive",negative:"text-negative",max:"text-max"},SZe=(e,t,n)=>t||(e==="page-title"?"h1":e==="entry-title"?"h2":n?"span":"div"),MZe=(e,t,n,r,s)=>{const a=_Ze[e],i=CZe[t];return W(s,a,i,n?"text-center block":"",r?"hover:text-super":"","selection:bg-super/50 selection:text-textMain dark:selection:bg-super/10 dark:selection:text-super")},F=L.memo(({children:e,variant:t="base",color:n="default",textCenter:r,className:s,inline:a,superHover:i,testId:l,as:c,ref:u,...d})=>{const h=f.useMemo(()=>SZe(t,c,a),[t,c,a]),m=f.useMemo(()=>MZe(t,n,r,i,s),[s,n,r,t,i]);return L.createElement(h,{className:m,"data-testid":l,ref:u,...d},e)});F.displayName="TextBlock";const kZe=new Proxy(Object.freeze([]),{set(){throw new Error("Cannot modify default array")}}),Fe=kZe,Yue=new Proxy(Object.freeze({}),{set(){throw new Error("Cannot modify default object")}}),Kue=L.memo(({className:e,textClassName:t,text:n,shortcut:r=Fe,...s})=>o.jsxs("div",{className:W("gap-x-sm bg-textMain px-sm py-xs dark:bg-offsetPlusDark flex max-w-[280px] items-center rounded",e),...s,children:[typeof n=="string"?o.jsx(F,{variant:"tiny",className:W("text-textMainDark",t),children:n}):n,r.length>0&&o.jsx("div",{className:"flex gap-[2px]",children:r.map(a=>o.jsx(F,{variant:"smallCaps",className:"border-borderMain/10 bg-textMain px-xs py-two dark:bg-offsetPlusDark rounded border shadow-md",children:o.jsx("span",{className:"text-textMainDark",children:a})},a))})]}));Kue.displayName="TooltipBody";const Mn=L.memo(({tooltipText:e,tooltipLayout:t="top",children:n,keyboardShortcut:r,showTooltip:s=!0,className:a="",asChild:i=!1,testId:l,offset:c=8,closeOnClick:u=!0,bodyClassName:d,bodyTextClassName:h,arrowClassName:m,open:g,onClickOutsideTooltip:v,onOpenChange:x,delayDuration:b})=>s?o.jsxs(Gue,{open:g,onOpenChange:x,delayDuration:b,children:[o.jsx(xZe,{children:o.jsxs(bZe,{side:t,sideOffset:c,className:W(t==="bottom"&&"data-[state=closed]:animate-slideUpAndFadeOut data-[state=delayed-open]:animate-slideDownAndFadeIn",t==="top"&&"data-[state=closed]:animate-slideDownAndFadeOut data-[state=delayed-open]:animate-slideUpAndFadeIn",t==="left"&&"data-[state=closed]:animate-slideRightAndFadeOut data-[state=delayed-open]:animate-slideLeftAndFadeIn",t==="right"&&"data-[state=closed]:animate-slideLeftAndFadeOut data-[state=delayed-open]:animate-slideRightAndFadeIn",a),onPointerDownOutside:u?v:w=>{w.preventDefault()},children:[o.jsx(Kue,{text:e,shortcut:r,"data-test-id":l,className:d,textClassName:h}),m&&o.jsx(wZe,{className:W("fill-text dark:fill-offsetPlusDark bg-transparent",m)})]})}),o.jsx(yZe,{asChild:i,onClick:u?v:w=>{w.preventDefault()},children:n})]}):o.jsx(o.Fragment,{children:n})),EZe=2e3,TZe=1e3,mK={[tn.tiny]:{height:"h-6",text:"text-xs",padding:{left:{default:"pl-2",reduced:"pl-1.5"},right:{default:"pr-2",reduced:"pr-1.5"}},iconWrapperSize:"size-3.5",gap:"gap-1",baselineShift:"-mb-px"},[tn.small]:{height:"h-8",text:"text-sm",padding:{left:{default:"pl-3",reduced:"pl-2.5"},right:{default:"pr-3",reduced:"pr-2.5"}},iconWrapperSize:"size-4",gap:"gap-1.5",baselineShift:"-mb-px"},[tn.regular]:{height:"h-10",text:"text-base",padding:{left:{default:"pl-4",reduced:"pl-3"},right:{default:"pr-4",reduced:"pr-3"}},iconWrapperSize:"size-5",gap:"gap-1.5",baselineShift:"-mb-[2px]"},[tn.large]:{height:"h-14",text:"text-lg",padding:{left:{default:"pl-5",reduced:"pl-[18px]"},right:{default:"pr-5",reduced:"pr-4"}},iconWrapperSize:"size-7",gap:"gap-1.5",baselineShift:"-mb-[3px]"}},Que=e=>mK[e]||mK[tn.regular],pK=({children:e,buttonSize:t=tn.regular})=>o.jsx("div",{className:W("flex shrink-0 items-center justify-center",Que(t).iconWrapperSize),children:e}),Xue=f.memo(f.forwardRef(({text:e,textClassName:t="",size:n=tn.regular,disabled:r=!1,fullWidth:s,fullWidthMobile:a,layout:i="center",type:l="button",noWrap:c=!0,onClick:u=Yn,onMouseDown:d,href:h,target:m,extraCSS:g,icon:v,iconClassName:x,pill:b=!1,noRounded:w=!1,toolTip:C,keyboardShortcut:S,tooltipLayout:k="top",tooltipProps:E,badge:T,chevron:j,isLoading:N,loadingVariant:R="spin",leadingComponent:O,trailingComponent:I,maxWidth:B,chevronIcon:D=Ia,clickFeedback:z=!1,debounce:V=!1,testId:U,ariaLabel:H,variant:q,autoFocus:$,...G},K)=>{const[ee,oe]=f.useState(!1),[ne,te]=f.useState(!1),[re,X]=f.useState(r),ce=f.useMemo(()=>Que(n),[n]);f.useEffect(()=>{V&&X(ne||r)},[V,ne,r]),f.useEffect(()=>{X(r)},[r]);const se=Pe=>{(!V||!ne)&&(te(!0),setTimeout(()=>te(!1),TZe),u(Pe)),z&&(oe(!0),setTimeout(()=>oe(!1),EZe))},J=!!e,de=f.useMemo(()=>W(g,"font-sans focus:outline-none outline-none outline-transparent transition duration-300 ease-out font-sans  select-none items-center relative group/button ",{"justify-center text-center items-center":i==="center","justify-start":i==="left","rounded-none":w,"rounded-lg":!b&&!w,"rounded-full":b&&!w,"cursor-default opacity-50":re,"cursor-pointer active:scale-[0.97] active:duration-150 active:ease-outExpo origin-center":!re,"whitespace-nowrap":c,"break-words":!c,"flex w-full":s,"inline-flex":!s&&!a,"flex w-full md:inline-flex md:w-auto":a,[ce.text]:!0,[ce.height]:!0,[ce.padding.left.reduced]:J&&(v||O||T),[ce.padding.left.default]:J&&!v&&!O&&!T,[ce.padding.right.reduced]:J&&I,[ce.padding.right.default]:J&&!I,[b?"aspect-square":"aspect-[9/8]"]:!J&&!j&&!T&&!(v&&O)}),[T,ce,j,re,g,s,a,J,v,i,O,w,c,b,I]),ie=f.useMemo(()=>W("flex items-center min-w-0 font-medium",ce.gap,{"flex-col":i==="stacked","justify-center":i==="center","justify-left":i==="left","justify-between":i==="split","w-full":s,"gap-sm":i==="stacked"}),[ce.gap,s,i]);let he=14;i==="stacked"&&(he=16),n===tn.regular&&(J||(he=16)),n===tn.large&&J&&(he=16);const pe=o.jsxs("div",{className:ie,style:{maxWidth:B},children:[O&&o.jsx("div",{children:O}),N&&o.jsx(pK,{buttonSize:n,children:R==="spin"?o.jsx(Cu,{size:he}):R==="pulse"?o.jsx("div",{className:W("relative flex items-center justify-center",q==="primary"?"text-textMainDark dark:text-light-text":"text-super"),children:o.jsxs("div",{className:"relative scale-[0.8]",children:[o.jsx(d2,{icon:Gj,buttonSize:n}),o.jsx(d2,{icon:Gj,buttonSize:n,iconClassName:"duration-1200 absolute inset-0 animate-ping"})]})}):null}),!N&&v&&o.jsx(pK,{buttonSize:n,children:o.jsx(d2,{icon:v,showClicked:ee,buttonSize:n,iconClassName:x})}),e&&o.jsx("div",{className:W("text-align-center relative truncate",{"leading-loose":i!=="stacked","leading-none":i==="stacked"},ce.baselineShift,t),children:e}),T&&o.jsxs("span",{children:[" · ",T]}),j&&o.jsx(Ne,{size:"xs",icon:D,className:"opacity-50"}),I]});let ge;v&&!e&&C&&(ge=C);const Ce=f.useMemo(()=>({WebkitTapHighlightColor:"transparent"}),[]);let we;return h?we=o.jsx(Nt,{"data-testid":U,role:"button","aria-label":H??ge,href:h??"/",className:de,target:m,onClick:u,onMouseDown:d,style:Ce,...G,ref:K,children:pe}):we=o.jsx("button",{"data-testid":U,"aria-label":H??ge,type:l,disabled:re,onClick:se,onMouseDown:d,className:de,...G,ref:K,children:pe}),S||C?o.jsx(Mn,{tooltipText:C??"",keyboardShortcut:S,tooltipLayout:k,...E,asChild:!0,children:we}):we})),Le=f.memo(f.forwardRef(({variant:e="common",disabled:t,extraCSS:n,...r},s)=>{const{buttonClass:a}=f.useMemo(()=>{const i={disabled:"bg-idle text-textOff dark:bg-idleDark",primary:"bg-super dark:text-backgroundDark text-white hover:opacity-80",primaryGhost:"border border-super/20 bg-super/10 hover:bg-super/20 hover:border-super/30 text-super",common:"bg-offsetPlus text-textMain md:hover:text-textOff",border:"border border-borderMain/50 text-textOff md:hover:border-borderMain  md:hover:text-textMain hover:bg-offset bg-background",inverted:"bg-textMain text-textMainDark dark:text-light-text hover:opacity-80",rejecter:"border border-borderMain/50 text-caution md:dark:hover:text-textMainDark hover:bg-caution/30 hover:border-caution/20 bg-background",rejected:"bg-caution text-white hover:opacity-50 text-white",backToSchoolOrange:"bg-backToSchoolOrange text-white hover:opacity-50",maxGold:"bg-max text-backgroundDark hover:opacity-80"},l=t?i.disabled:i[e];return{buttonClass:W(l,n)}},[e,t,n]);return o.jsx(Xue,{extraCSS:a,disabled:t,variant:e,...r,ref:s})})),Zue=L.memo(({lineColor:e,width:t,fillColor:n,...r})=>{const s=W("h-auto group",t),a=W(e,"transition-all duration-300");return o.jsx("div",{className:s,...r,children:o.jsxs("svg",{viewBox:"0 0 400 91",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M196.978 27.8931H200.033V34.1872H196.079C192.979 34.1872 190.669 34.9333 189.14 36.4254C187.615 37.9176 186.85 40.3662 186.85 43.7711V64.401H180.606V28.0333H186.85V33.8367C186.85 34.1622 187.014 34.3274 187.337 34.3274C187.52 34.3274 187.659 34.2823 187.754 34.1872C187.848 34.0921 187.938 33.9068 188.032 33.6264C189.234 29.8058 192.219 27.8931 196.983 27.8931H196.978ZM237.763 35.6894C239.402 38.6036 240.227 42.1137 240.227 46.2146C240.227 50.3156 239.407 53.8257 237.763 56.7399C236.119 59.6541 233.993 61.8323 231.38 63.2794C228.767 64.7265 225.956 65.4476 222.951 65.4476C217.03 65.4476 212.868 63.0691 210.464 58.3122C210.28 57.9417 210.046 57.7514 209.768 57.7514C209.49 57.7514 209.351 57.8916 209.351 58.172V77.6853H203.107V28.0333H209.351V34.2573C209.351 34.5377 209.49 34.6779 209.768 34.6779C210.046 34.6779 210.275 34.4926 210.464 34.1171C212.868 29.3602 217.03 26.9817 222.951 26.9817C225.956 26.9817 228.767 27.7028 231.38 29.1499C233.993 30.597 236.119 32.7751 237.763 35.6894ZM233.983 46.2146C233.983 41.9234 232.841 38.5786 230.551 36.1801C228.261 33.7816 225.246 32.5799 221.496 32.5799C217.745 32.5799 214.73 33.7816 212.44 36.1801C210.151 38.5836 209.311 41.9284 209.311 46.2146C209.311 50.5009 210.151 53.8507 212.44 56.2492C214.73 58.6527 217.75 59.8494 221.496 59.8494C225.241 59.8494 228.261 58.6477 230.551 56.2492C232.841 53.8507 233.983 50.5009 233.983 46.2146ZM134.595 35.7445C136.235 38.6587 137.059 42.1688 137.059 46.2697C137.059 50.3707 136.24 53.8808 134.595 56.795C132.951 59.7092 130.825 61.8874 128.213 63.3345C125.6 64.7816 122.788 65.5026 119.783 65.5026C113.863 65.5026 109.7 63.1242 107.296 58.3673C107.112 57.9967 106.879 57.8065 106.601 57.8065C106.322 57.8065 106.183 57.9467 106.183 58.2271V77.7404H99.9446V28.0883H106.188V34.3124C106.188 34.5928 106.327 34.733 106.606 34.733C106.884 34.733 107.112 34.5477 107.301 34.1722C109.705 29.4153 113.867 27.0368 119.788 27.0368C122.793 27.0368 125.605 27.7579 128.218 29.205C130.83 30.6521 132.956 32.8302 134.6 35.7445H134.595ZM130.815 46.2697C130.815 41.9785 129.673 38.6336 127.383 36.2352C125.093 33.8367 122.078 32.6349 118.328 32.6349C114.578 32.6349 111.563 33.8367 109.273 36.2352C106.983 38.6387 106.144 41.9835 106.144 46.2697C106.144 50.5559 106.983 53.9058 109.273 56.3043C111.563 58.7078 114.578 59.9045 118.328 59.9045C122.078 59.9045 125.093 58.7028 127.383 56.3043C129.673 53.9058 130.815 50.5559 130.815 46.2697ZM169.112 52.8543H175.703C174.824 56.2592 173.031 59.2085 170.329 61.7021C167.622 64.1957 163.748 65.4425 158.706 65.4425C154.911 65.4425 151.573 64.6614 148.682 63.0991C145.791 61.5369 143.561 59.3137 141.986 56.4195C140.412 53.5303 139.627 50.1253 139.627 46.2096C139.627 42.294 140.392 38.889 141.917 35.9998C143.442 33.1106 145.583 30.8824 148.335 29.3201C151.086 27.7579 154.31 26.9767 158.011 26.9767C161.711 26.9767 164.776 27.7479 167.344 29.2851C169.912 30.8223 171.829 32.8653 173.101 35.404C174.372 37.9477 175.008 40.7317 175.008 43.7611V47.9572H146.219C146.447 51.5925 147.664 54.4867 149.859 56.6298C152.055 58.7729 155.005 59.8494 158.706 59.8494C161.711 59.8494 164.016 59.2335 165.61 57.9967C167.205 56.7599 168.372 55.0475 169.112 52.8543ZM146.288 42.7146H168.074C168.074 39.545 167.264 37.0614 165.645 35.2638C164.026 33.4712 161.483 32.5699 158.015 32.5699C154.777 32.5699 152.129 33.4461 150.073 35.1937C148.017 36.9412 146.755 39.4498 146.293 42.7096L146.288 42.7146ZM245.169 64.396H251.413V14.043H245.169V64.401V64.396ZM331.801 24.0625H339.093V16.1911H331.801V24.0625ZM357.526 58.9782C356.393 59.0933 355.708 59.1534 355.479 59.1534C355.156 59.1534 354.898 59.0583 354.714 58.873C354.531 58.6877 354.436 58.4324 354.436 58.1019C354.436 57.8716 354.496 57.1806 354.61 56.0389C354.724 54.8972 354.784 53.1347 354.784 50.7612V33.361H363.69L361.937 28.0333H354.789V18.2391H348.545V28.0283H341.755V33.356H348.545V52.5038C348.545 56.5146 349.519 59.4989 351.461 61.4568C353.403 63.4146 356.363 64.396 360.342 64.396H365.2V58.8029H362.771C360.412 58.8029 358.663 58.863 357.531 58.9782H357.526ZM394.059 28.0283L383.723 58.5425C383.583 58.9181 383.365 59.4088 382.655 59.4088C381.944 59.4088 381.726 58.9181 381.587 58.5425L371.25 28.0283H364.882L376.853 64.396H381.085C381.363 64.396 381.572 64.4211 381.711 64.4661C381.85 64.5112 381.964 64.6264 382.059 64.8166C382.242 65.097 382.217 65.5177 381.989 66.0735L380.047 71.3862C379.769 72.0872 379.237 72.4377 378.452 72.4377C378.174 72.4377 377.529 72.3776 376.51 72.2624C375.492 72.1473 374.176 72.0872 372.556 72.0872H367.49V77.6803H374.151C378.035 77.6803 380.375 77.0143 382.386 75.6874C384.398 74.3605 385.958 72.0171 387.07 68.6572L400 29.4203V28.0233H394.059V28.0283ZM311.406 41.5979L301.626 28.0283H294.756V29.4253L306.478 45.1631L292.188 62.999V64.396H299.197L310.576 49.7798L321.191 64.396H327.922V62.999L315.504 46.2146L328.965 29.5004V28.0333H321.956L311.411 41.603L311.406 41.5979ZM332.467 64.396H338.71V28.0333H332.467V64.401V64.396ZM292.471 52.8543C291.592 56.2592 289.799 59.2085 287.097 61.7021C284.39 64.1957 280.515 65.4425 275.474 65.4425C271.679 65.4425 268.341 64.6614 265.45 63.0991C262.559 61.5369 260.329 59.3137 258.754 56.4195C257.18 53.5303 256.395 50.1253 256.395 46.2096C256.395 42.294 257.16 38.889 258.685 35.9998C260.21 33.1106 262.35 30.8824 265.102 29.3201C267.854 27.7579 271.078 26.9767 274.778 26.9767C278.479 26.9767 281.543 27.7479 284.111 29.2851C286.679 30.8223 288.597 32.8653 289.868 35.404C291.14 37.9477 291.776 40.7317 291.776 43.7611V47.9572H262.986C263.215 51.5925 264.432 54.4867 266.627 56.6298C268.823 58.7729 271.773 59.8494 275.474 59.8494C278.479 59.8494 280.783 59.2335 282.378 57.9967C283.972 56.7599 285.14 55.0475 285.88 52.8543H292.471ZM263.056 42.7146H284.842C284.842 39.545 284.032 37.0614 282.413 35.2638C280.793 33.4712 278.25 32.5699 274.783 32.5699C271.545 32.5699 268.897 33.4461 266.841 35.1937C264.784 36.9412 263.523 39.4498 263.061 42.7096L263.056 42.7146Z",className:n}),o.jsx("path",{d:"M38.6936 29.9832L12.8633 5.88983V29.9832H38.6936Z M39.5005 29.9832L65.3308 5.88983V29.9832H39.5005Z M38.7227 2L38.7227 90.2534 M64.5246 53.7584L38.6943 30.0068V62.9404L64.5246 85.9724V53.7584Z M12.8924 53.7584L38.7227 30.0068V62.9404L12.8924 85.9724V53.7584Z M2.28711 29.9832V64.4236H12.8863V53.7348L38.7226 29.9832H2.28711Z M38.6943 30.3L64.5246 54.0515V64.7403H75.2872V30.3L38.6943 30.3Z",className:a,strokeWidth:"4.30504",strokeMiterlimit:"10"})]})})});Zue.displayName="Full";const Jue=L.memo(({width:e,fillColor:t,...n})=>{const r=W("h-auto group",e,{});return o.jsx("div",{className:r,...n,children:o.jsxs("svg",{viewBox:"0 0 1456 187",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M311.555 34.9571C330.01 34.9571 344.672 45.7532 344.672 65.084C344.672 84.4148 330.01 95.3568 311.555 95.3568H279.094V140H265.817V34.9571H311.555ZM279.094 84.0501H309.585C322.643 84.0501 331.396 77.1931 331.396 65.157C331.396 53.0478 322.643 46.2638 309.585 46.2638H279.094V84.0501ZM353.444 102.797C353.444 77.7037 367.669 63.9169 390.209 63.9169C412.823 63.9169 425.151 77.8496 425.151 99.5877V105.934H365.918C366.137 121.399 375.255 131.465 390.209 131.465C404.434 131.465 410.926 123.587 412.093 116.73H423.619V118.918C421.868 128.037 413.187 141.751 390.355 141.751C367.815 141.751 353.444 127.964 353.444 102.797ZM366.064 95.8674H412.896C412.75 83.2477 405.09 74.1294 390.136 74.1294C375.474 74.1294 367.085 83.3936 366.064 95.8674ZM447.732 65.6676H460.133V76.1719H461.3C464.218 69.8985 469.908 65.4487 483.257 65.4487H500.691V76.3907H483.549C467.501 76.3907 460.571 84.7795 460.571 101.849V140H447.732V65.6676ZM517.092 169.179V65.6676H529.638V75.8801H530.805C536.349 67.3453 545.322 63.9898 555.826 63.9898C575.157 63.9898 589.965 77.1202 589.965 102.87C589.965 128.547 575.157 141.678 555.826 141.678C545.541 141.678 536.641 138.395 531.097 130.152H529.93V169.179H517.092ZM529.492 102.87C529.492 120.888 539.121 131.028 553.2 131.028C567.425 131.028 576.981 120.888 576.981 102.87C576.981 84.7795 567.425 74.64 553.2 74.64C539.121 74.64 529.492 84.7795 529.492 102.87ZM637.266 34.9571V129.642H651.272V140H605.899V129.642H624.428V45.2426H610.276V34.9571H637.266ZM665.9 102.797C665.9 77.7037 680.125 63.9169 702.665 63.9169C725.278 63.9169 737.606 77.8496 737.606 99.5877V105.934H678.374C678.593 121.399 687.711 131.465 702.665 131.465C716.89 131.465 723.382 123.587 724.549 116.73H736.074V118.918C734.324 128.037 725.643 141.751 702.811 141.751C680.27 141.751 665.9 127.964 665.9 102.797ZM678.52 95.8674H725.351C725.205 83.2477 717.546 74.1294 702.592 74.1294C687.93 74.1294 679.541 83.3936 678.52 95.8674ZM752.566 65.6676H765.696L786.851 93.3143H788.018L810.85 65.6676H823.762V67.856L795.313 102.36L822.522 137.812V140H809.391L787.289 111.186H786.121L762.414 140H749.502V137.812L778.827 102.214L752.566 67.856V65.6676ZM871.43 65.6676V129.642H885.436V140H840.063V129.642H858.591V75.953H844.44V65.6676H871.43ZM857.205 52.9749V38.8962H872.087V52.9749H857.205ZM896.344 65.6676H919.613V43.8566H932.452V65.6676H962.068V76.0989H932.452V127.745L933.619 128.912H961.849V140H938.725C926.543 140 919.613 133.945 919.613 121.836V76.0989H896.344V65.6676ZM973.245 65.6676H986.302L1010.01 124.681H1011.18L1034.81 65.6676H1047.5V67.856L1004.76 169.179H991.992V166.99L1003.66 139.927L973.245 67.856V65.6676ZM1116.67 34.9571H1130.09V128.256H1189.03V140H1116.67V34.9571ZM1205.12 86.3114C1206.66 72.5245 1218.55 63.9169 1237.95 63.9169C1257.21 63.9169 1268.59 72.5245 1268.59 91.0529V140H1256.62V129.787H1255.46C1252.25 135.477 1244.66 141.605 1229.05 141.605C1212.78 141.605 1201.55 133.508 1201.55 119.648C1201.55 104.913 1212.78 98.4205 1227.96 96.5239L1256.19 93.0225V90.3235C1256.19 78.725 1249.84 74.1294 1237.66 74.1294C1225.4 74.1294 1218.18 78.725 1217.16 88.4998H1205.12V86.3114ZM1214.31 119.064C1214.31 126.797 1220.88 131.246 1231.17 131.246C1244.88 131.246 1256.19 123.952 1256.19 107.539V102.943L1230.51 106.299C1220.52 107.612 1214.31 111.259 1214.31 119.064ZM1291.61 34.9571H1304.44V75.5153H1305.61C1311.16 67.1995 1320.06 63.9898 1330.34 63.9898C1349.67 63.9898 1364.48 77.1202 1364.48 102.87C1364.48 128.547 1349.67 141.678 1330.34 141.678C1319.84 141.678 1310.86 138.322 1305.32 129.787H1304.15V140H1291.61V34.9571ZM1304.01 102.87C1304.01 120.888 1313.64 131.028 1327.71 131.028C1341.94 131.028 1351.49 120.888 1351.49 102.87C1351.49 84.7795 1341.94 74.64 1327.71 74.64C1313.64 74.64 1304.01 84.7795 1304.01 102.87ZM1381.07 85.1443C1381.07 71.941 1392.52 63.9898 1411.78 63.9898C1431.18 63.9898 1443 71.941 1444.17 86.0926V88.281H1432.42C1431.91 77.9955 1423.74 74.1294 1411.85 74.1294C1400.04 74.1294 1393.4 77.9226 1393.4 84.8525C1393.4 91.7824 1399.09 94.4085 1407.19 95.3568L1419.95 96.9616C1434.98 98.7853 1445.41 105.132 1445.41 118.773C1445.41 132.487 1434.54 141.678 1413.9 141.678C1393.25 141.678 1380.34 132.559 1379.39 119.064V116.876H1391.36C1392.09 126.943 1401.28 131.538 1413.9 131.538C1426.59 131.538 1433.01 126.87 1433.01 119.429C1433.01 112.134 1426.95 108.852 1417.18 107.612L1404.41 106.007C1390.41 104.329 1381.07 98.2017 1381.07 85.1443Z",className:t}),o.jsx("path",{d:"M59.4967 39.8367C30.9654 39.8367 7.83624 62.9671 7.83624 91.5C7.83624 120.033 30.9654 143.163 59.4967 143.163C83.9985 143.163 104.516 126.105 109.823 103.216H117.84C112.399 130.466 88.3457 151 59.4967 151C26.6376 151 0 124.361 0 91.5C0 58.639 26.6376 32 59.4967 32C91.0393 32 116.849 56.5473 118.866 87.5817H155.879L123.292 54.9276L128.838 49.3918L161.428 82.0483L161.387 35.9218L169.223 35.9149L169.264 82.0641L201.87 49.3918L207.416 54.9276L174.829 87.5817H221V95.4183H174.771L207.416 128.131L201.87 133.667L169.281 101.011L169.321 147.157L161.485 147.163L161.444 100.993L128.838 133.667L123.292 128.131L155.937 95.4183H129.748V95.3791H84.6892V95.4183H59.495V87.5817H111.011C109.008 60.8792 86.7098 39.8367 59.4967 39.8367Z",className:t})]})})});Jue.displayName="Labs";const ede=L.memo(({lineColor:e,width:t,...n})=>{const r=W("h-auto group ",t);return o.jsx("div",{className:r,...n,children:o.jsx("svg",{viewBox:"0 0 101 116",stroke:"none",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{className:e,d:"M86.4325 6.53418L50.4634 36.9696H86.4325V6.53418Z M50.4625 36.9696L17.2603 6.53418V36.9696H50.4625Z M50.4634 1L50.4634 114.441 M83.6656 70.172L50.4634 36.9697V79.3026L83.6656 108.908V70.172Z M17.2603 70.172L50.4625 36.9697V78.4497L17.2603 108.908V70.172Z M3.42627 36.9697V81.2394H17.2605V70.172L50.4628 36.9697H3.42627Z M50.4634 36.9697L83.6656 70.172V81.2394H97.4999V36.9697L50.4634 36.9697Z",strokeWidth:"5.53371",strokeMiterlimit:"10"})})})});ede.displayName="Mark";const Sx=L.memo(({width:e="w-10",sizeVariant:t="regular",fillColor:n="fill-super",svgClassName:r,...s})=>{const a=W("h-auto group",e);return o.jsx("div",{className:a,...s,children:t==="small"?o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1102.02 529.46",className:r,children:[o.jsx("path",{className:n,d:"M1068.23,126.49c-23.5-41.68-58.35-75.11-100.77-96.67C928.5,10.04,884.37,0,836.29,0H66.16C29.56,0-.08,29.71,0,66.3l1,463.16h109.72V107.9h78.16v24.37c0,2.66,3.19,3.99,5.1,2.13,20.89-20.25,50.62-30.5,88.64-30.5,26.8,0,51.2,6.11,72.52,18.17,21.44,12.13,38.59,30.51,50.96,54.66h0c12.27,23.95,18.49,53.6,18.49,88.14s-6.22,63.91-18.49,87.85c-12.37,24.14-29.52,42.53-50.96,54.66-21.33,12.06-45.73,18.17-72.52,18.17-16.55,0-55.7-2.68-87.27-25.54-1.98-1.43-4.75-.01-4.75,2.43v127.02h645.68c48.09,0,92.22-10.03,131.18-29.83,42.41-21.55,77.26-54.98,100.78-96.69,22.41-39.76,33.78-86.22,33.78-138.07s-11.37-98.6-33.79-138.39ZM650.3,177.46h-33.53c-23.25,0-40.37,6.1-50.86,18.14-10.7,12.27-16.12,32.09-16.12,58.91v164.71h-79.89V107.9h77.01v20.91c0,2.68,3.28,4.04,5.13,2.11,4.56-4.76,9.87-8.79,15.89-12.06,11.94-6.49,28.27-9.77,48.55-9.77h33.81v68.37ZM967.21,352.21c-13.66,24.23-33.03,42.83-57.56,55.29-24.32,12.36-52.71,18.62-84.38,18.62s-60.35-6.27-84.67-18.62c-24.54-12.46-43.9-31.07-57.56-55.29-13.58-24.09-20.47-53.47-20.47-87.34s6.89-63.54,20.47-87.63c13.65-24.22,33.02-42.82,57.56-55.29,24.33-12.36,52.81-18.62,84.67-18.62s60.06,6.27,84.38,18.62c24.53,12.47,43.9,31.07,57.56,55.29,13.58,24.1,20.47,53.58,20.47,87.63s-6.89,63.25-20.47,87.34Z"}),o.jsx("path",{className:n,d:"M868.46,179.51c-12.16-7.28-26.7-10.97-43.2-10.97s-31.32,3.69-43.48,10.97c-12.07,7.23-21.57,18.05-28.23,32.16-6.79,14.4-10.23,32.3-10.23,53.2s3.45,38.57,10.24,53.07c6.66,14.2,16.19,25.06,28.35,32.28,12.26,7.29,26.85,10.98,43.36,10.98s31.04-3.69,43.2-10.97c12.07-7.23,21.56-18.09,28.22-32.29,6.79-14.5,10.24-32.35,10.24-53.07s-3.45-38.57-10.24-53.07c-6.66-14.2-16.15-25.07-28.22-32.29Z"}),o.jsx("path",{className:n,d:"M221.1,351.54c12.26,7.29,26.85,10.98,43.36,10.98s31.04-3.69,43.2-10.97c12.07-7.23,21.56-18.09,28.22-32.29,6.79-14.5,10.24-32.35,10.24-53.07s-3.45-38.57-10.24-53.07c-6.66-14.2-16.15-25.06-28.22-32.29-12.16-7.28-26.7-10.97-43.19-10.97s-31.32,3.69-43.48,10.97c-12.07,7.23-21.57,18.05-28.23,32.16-6.79,14.4-10.23,32.3-10.23,53.2s3.45,38.57,10.24,53.07c6.66,14.2,16.19,25.06,28.35,32.28Z"})]}):o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 804.75 382.36",children:[o.jsx("path",{className:n,d:"M558.95,126.72c-27.44,27.72-27.17,101.45,0,129.38,25.44,28.65,83.99,28.94,109.2,0h0c13.9-14.68,20.94-38.51,20.94-64.92,0-26.44-7.04-50.1-20.98-64.5-25.23-29.51-83.73-29.21-109.17.04Z"}),o.jsx("path",{className:n,d:"M780.18,91.05l-.13-.24c-16.48-29.44-40.65-53.13-69.89-68.52l-.17-.09c-27.73-14.73-58.76-22.2-92.21-22.2H30.68C14.13,0,.71,13.4.68,29.94l-.68,352.42h61.16V69.44h51.68v20.46c0,2.11,2.57,3.13,4.03,1.6,47.58-52.18,144.58-36.94,178.65,27.45,11.54,19.66,17.39,43.96,17.39,72.23,1.63,73.04-48.06,131.68-120.25,131.21-32.37,0-57.81-12.59-75.79-31.52-1.45-1.53-4.03-.51-4.03,1.6v89.9h504.93c33.45,0,64.43-7.45,92.09-22.14l.17-.09c29.33-15.43,53.53-39.13,69.99-68.53l.14-.25c16.31-28.74,24.58-62.44,24.58-100.17s-8.27-71.4-24.57-100.13ZM479.99,118.23c-23.81.5-56.08-3.74-72.26,13-8.74,8.61-13.17,23.4-13.17,43.96v140.34h-51.67V69.44h51.67v20.46c0,2.35,3.08,3.22,4.32,1.22,5.01-8.06,10.34-13.58,16.12-16.74,9.81-5.62,23.28-8.48,40.05-8.48h24.94v52.31ZM613.77,322.39c-75.99.52-128.52-54.09-127-131.21,0-27.33,5.53-51.14,16.45-70.78,43.24-80.65,177.73-80.74,220.65-.03,11.22,19.65,16.91,43.48,16.91,70.8,1.27,76.58-51.1,131.74-127,131.21Z"}),o.jsx("path",{className:n,d:"M240.29,256.1h0c13.9-14.68,20.94-38.51,20.94-64.92,0-26.44-7.04-50.1-20.98-64.5-25.23-29.51-83.73-29.21-109.17.04-27.44,27.72-27.18,101.45,0,129.38,25.44,28.65,83.99,28.94,109.2,0Z"})]})})});Sx.displayName="Pro";const oA=L.memo(({width:e,fillColor:t,isPro:n,isMax:r,...s})=>{const a=W("h-auto group",e,{"":n});return n?o.jsx("div",{className:a,...s,children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 3913.07 632",children:[o.jsx("path",{className:t,d:"M972.21,137.43h30.23v62.43h-39.13c-30.66,0-53.52,7.39-68.68,22.22-15.07,14.78-22.64,39.1-22.64,72.9v204.71h-61.76V138.85h61.76v57.58c0,3.25,1.63,4.85,4.8,4.85,1.81,0,3.17-.45,4.14-1.38.97-.94,1.8-2.76,2.77-5.57,11.89-37.9,41.46-56.87,88.55-56.87h-.04v-.04ZM1383.06,214.78c16.21,28.9,24.36,63.73,24.36,104.43s-8.11,75.53-24.36,104.43c-16.26,28.9-37.32,50.54-63.18,64.88-25.86,14.34-53.66,21.51-83.39,21.51-58.59,0-99.78-23.6-123.57-70.81-1.81-3.7-4.14-5.57-6.87-5.57s-4.14,1.38-4.14,4.19v193.63h-61.77V138.81h61.77v61.77c0,2.76,1.36,4.19,4.14,4.19s5.02-1.83,6.87-5.57c23.79-47.2,64.98-70.81,123.57-70.81,29.73,0,57.53,7.17,83.39,21.51,25.86,14.34,46.88,35.98,63.18,64.88ZM1345.7,319.21c0-42.57-11.32-75.75-33.97-99.57-22.64-23.83-52.46-35.72-89.6-35.72s-66.96,11.93-89.61,35.72c-22.68,23.82-30.96,57.04-30.96,99.57s8.32,75.75,30.96,99.57c22.65,23.87,52.51,35.72,89.61,35.72s66.96-11.93,89.6-35.72c22.65-23.78,33.97-57.04,33.97-99.57ZM342.87,215.31c16.21,28.9,24.36,63.73,24.36,104.43s-8.11,75.53-24.36,104.43c-16.26,28.9-37.31,50.55-63.17,64.88-25.86,14.34-53.66,21.51-83.39,21.51-58.59,0-99.78-23.6-123.57-70.81-1.8-3.7-4.14-5.57-6.87-5.57s-4.14,1.38-4.14,4.18v193.63H0V139.34h61.76v61.76c0,2.76,1.36,4.19,4.14,4.19s5.02-1.83,6.87-5.57c23.79-47.2,64.98-70.81,123.57-70.81,29.74,0,57.53,7.17,83.39,21.51,25.86,14.34,46.87,35.98,63.17,64.88h-.05ZM305.46,319.74c0-42.57-11.32-75.75-33.96-99.57-22.65-23.78-52.51-35.72-89.61-35.72s-66.96,11.93-89.6,35.72c-22.64,23.87-30.97,57.05-30.97,99.57s8.33,75.75,30.97,99.58c22.64,23.87,52.47,35.71,89.6,35.71s66.96-11.93,89.61-35.71c22.64-23.78,33.96-57.05,33.96-99.58ZM701.07,385.07h65.2c-8.68,33.8-26.43,63.05-53.17,87.77-26.79,24.76-65.11,37.1-115.02,37.1-37.53,0-70.57-7.75-99.16-23.25-28.59-15.5-50.66-37.54-66.26-66.26-15.59-28.68-23.35-62.43-23.35-101.31s7.58-72.63,22.64-101.31c15.07-28.68,36.26-50.77,63.48-66.26,27.23-15.5,59.12-23.25,95.73-23.25s66.96,7.66,92.33,22.89c25.42,15.27,44.36,35.54,56.96,60.7,12.6,25.25,18.85,52.86,18.85,82.92v41.64h-284.85c2.24,36.07,14.32,64.8,36.03,86.04,21.72,21.29,50.92,31.93,87.54,31.93,29.73,0,52.55-6.1,68.33-18.39,15.77-12.29,27.31-29.26,34.67-51.03l.04.09ZM473.18,284.47h215.55c0-31.44-8.02-56.11-24.05-73.92-16.03-17.77-41.19-26.72-75.51-26.72-32.03,0-58.24,8.68-78.59,26.05-20.35,17.32-32.82,42.22-37.4,74.59ZM1457.24,499.61h61.81V0h-61.81v499.65-.04ZM2325.88,99.4h72.17V21.24h-72.17v78.15ZM2592.35,445.86c-11.22,1.16-18.01,1.74-20.24,1.74-3.18,0-5.79-.93-7.58-2.81-1.82-1.83-2.77-4.36-2.77-7.66,0-2.27.59-9.13,1.76-20.48,1.09-11.31,1.71-28.81,1.71-52.37v-172.65h88.1l-17.36-52.86h-70.71V41.59h-61.74v97.13h-67.2v52.86h67.2v189.97c0,39.81,9.65,69.43,28.83,88.84,19.21,19.42,48.51,29.17,87.91,29.17h48.05v-55.49h-24.05c-23.34,0-40.63.58-51.85,1.74l-.06.05ZM2965.71,138.76l-102.29,302.77c-1.35,3.74-3.53,8.6-10.51,8.6s-9.21-4.85-10.6-8.6l-102.29-302.77h-62.99l118.46,360.85h41.9c2.72,0,4.81.27,6.22.71,1.36.45,2.5,1.6,3.43,3.47,1.79,2.76,1.57,6.95-.71,12.47l-19.21,52.73c-2.77,6.95-8.02,10.42-15.76,10.42-2.77,0-9.16-.58-19.22-1.74-10.08-1.16-23.07-1.73-39.1-1.73h-50.14v55.48h65.9c38.45,0,61.58-6.59,81.5-19.77,19.92-13.18,35.33-36.43,46.33-69.73l127.94-389.3v-13.85h-58.86ZM2116.82,273.38l-96.8-134.62h-67.96v13.85l115.98,156.13-141.42,176.97v13.85h69.35l112.59-145.04,105.03,145.04h66.61v-13.85l-122.92-166.55,133.24-165.84v-14.56h-69.35l-104.32,134.62h-.03ZM2332.45,499.61h61.8V138.81h-61.8v360.84-.04ZM1925.78,385.07c-8.72,33.8-26.41,63.05-53.15,87.77-26.8,24.76-65.12,37.1-115.04,37.1-37.52,0-70.57-7.75-99.16-23.25-28.64-15.5-50.65-37.54-66.25-66.26-15.55-28.68-23.31-62.43-23.31-101.31s7.58-72.63,22.65-101.31c15.12-28.68,36.26-50.77,63.49-66.26,27.2-15.5,59.1-23.25,95.76-23.25s66.96,7.66,92.37,22.89c25.38,15.27,44.38,35.54,56.96,60.7,12.61,25.25,18.86,52.86,18.86,82.92v41.64h-284.88c2.29,36.07,14.3,64.8,36.04,86.04,21.71,21.29,50.92,31.93,87.53,31.93,29.73,0,52.56-6.1,68.32-18.39,15.76-12.29,27.31-29.26,34.62-51.03h65.24l-.05.09ZM1634.25,284.47h215.55c0-31.44-8.02-56.11-24-73.92-16.06-17.77-41.19-26.72-75.52-26.72-32.04,0-58.23,8.68-78.59,26.05-20.35,17.32-32.85,42.22-37.39,74.59h-.05Z"}),o.jsxs("g",{children:[o.jsx("path",{className:"fill-super",d:"M3355.84,188.2c-34.07-64.39-131.07-79.63-178.65-27.45-1.45,1.53-4.03.51-4.03-1.6v-20.46s-51.68,0-51.68,0v360.92h51.68v-137.9c0-2.11,2.57-3.13,4.03-1.6,17.98,18.93,43.42,31.52,75.79,31.52,72.2.47,121.88-58.16,120.25-131.21,0-28.27-5.85-52.57-17.39-72.23ZM3321.56,260.43c0,26.4-7.05,50.24-20.94,64.92h0c-25.21,28.94-83.76,28.65-109.2,0-27.18-27.93-27.44-101.65,0-129.38,25.44-29.25,83.94-29.55,109.17-.04,13.94,14.4,20.97,38.06,20.98,64.5Z"}),o.jsx("path",{className:"fill-super",d:"M3678.1,499.61h-438.05v-48.22h438.05c33.41,0,64.39-7.45,92.07-22.16,29.4-15.46,53.58-39.15,70.02-68.56l.08-.14c16.31-28.72,24.58-62.4,24.58-100.11s-8.26-71.36-24.56-100.07l-.08-.13c-16.46-29.43-40.64-53.13-69.93-68.54-27.79-14.76-58.78-22.22-92.19-22.22h-555.91V21.24h555.91c41.39,0,79.99,9.36,114.73,27.81,37.45,19.7,68.41,49.99,89.43,87.55,20.45,36.05,30.82,77.7,30.82,123.82s-10.38,87.81-30.84,123.86c-21,37.53-51.96,67.81-89.53,87.57-34.63,18.4-73.22,27.75-114.61,27.75Z"}),o.jsx("path",{className:"fill-super",d:"M3784.19,189.62c-42.92-80.72-177.41-80.62-220.65.03-10.91,19.63-16.45,43.44-16.45,70.78-1.52,77.12,51.01,131.73,127,131.21,75.9.53,128.27-54.63,127-131.21,0-27.33-5.69-51.15-16.91-70.8ZM3749.42,260.43c0,26.4-7.05,50.24-20.94,64.92h0c-25.21,28.94-83.76,28.65-109.2,0-27.17-27.93-27.44-101.65,0-129.38,25.44-29.25,83.94-29.55,109.17-.04,13.94,14.4,20.97,38.06,20.98,64.5Z"}),o.jsx("path",{className:"fill-super",d:"M3515.38,135.16c-16.77,0-30.24,2.85-40.05,8.48-5.78,3.15-11.11,8.68-16.12,16.74-1.24,2-4.32,1.13-4.32-1.22v-20.46s-51.67,0-51.67,0v246.1h51.67v-140.34c0-20.57,4.43-35.36,13.17-43.97,16.17-16.75,48.45-12.5,72.26-13v-52.31h-24.94Z"})]})]})}):r?o.jsx("div",{className:a,...s,children:o.jsxs("svg",{viewBox:"0 0 485 74",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M113.78 16.0915H117.318V23.4013H112.739C109.15 23.4013 106.475 24.2666 104.701 26.003C102.937 27.7336 102.051 30.5812 102.051 34.5388V58.508H94.8233V16.2578H102.051V22.9997C102.051 23.3803 102.242 23.5676 102.613 23.5676C102.825 23.5676 102.984 23.5149 103.098 23.406C103.211 23.2959 103.308 23.0828 103.422 22.7538C104.813 18.3162 108.274 16.095 113.785 16.095H113.78V16.0903V16.0915ZM161.863 25.1483C163.76 28.5322 164.714 32.6103 164.714 37.3759C164.714 42.1414 163.765 46.2196 161.863 49.6034C159.96 52.9873 157.495 55.5211 154.469 57.2001C151.443 58.8792 148.189 59.7187 144.71 59.7187C137.853 59.7187 133.032 56.9554 130.248 51.4277C130.036 50.9944 129.763 50.7755 129.444 50.7755C129.124 50.7755 128.959 50.9371 128.959 51.2661V73.9379H121.73V16.2531H128.959V23.4856C128.959 23.8088 129.119 23.9762 129.444 23.9762C129.769 23.9762 130.031 23.762 130.248 23.324C133.032 17.7975 137.853 15.033 144.71 15.033C148.189 15.033 151.443 15.8725 154.469 17.5516C157.495 19.2306 159.955 21.7644 161.863 25.1483ZM157.491 37.3759C157.491 32.3914 156.166 28.5064 153.515 25.7173C150.866 22.9271 147.376 21.5349 143.029 21.5349C138.682 21.5349 135.193 22.9318 132.542 25.7173C129.887 28.5064 128.918 32.3961 128.918 37.3759C128.918 42.3556 129.892 46.2453 132.542 49.0344C135.193 51.8293 138.687 53.2168 143.029 53.2168C147.371 53.2168 150.866 51.8199 153.515 49.0344C156.166 46.25 157.491 42.3556 157.491 37.3759ZM40.127 25.2103C42.0241 28.5942 42.9779 32.6724 42.9779 37.4379C42.9779 42.2034 42.0287 46.2816 40.127 49.6655C38.224 53.0493 35.7605 55.5843 32.734 57.2622C29.7076 58.9412 26.454 59.7808 22.9747 59.7808C16.1177 59.7808 11.2972 57.0175 8.51295 51.4897C8.30229 51.0565 8.02844 50.8375 7.70894 50.8375C7.38944 50.8375 7.22442 50.9991 7.22442 51.327V73.9988H0V16.3151H7.22793V23.5465C7.22793 23.8697 7.3871 24.0371 7.71245 24.0371C8.0378 24.0371 8.29995 23.8228 8.51646 23.3849C11.3007 17.8584 16.1212 15.0939 22.9782 15.0939C26.4587 15.0939 29.7111 15.9334 32.7375 17.6125C35.764 19.2915 38.2228 21.8253 40.1305 25.2092H40.1246L40.127 25.2103ZM35.7488 37.4379C35.7488 32.4534 34.424 28.5684 31.7743 25.7794C29.1236 22.995 25.629 21.597 21.2871 21.597C16.9451 21.597 13.4506 22.9939 10.8009 25.7794C8.15132 28.5743 7.17644 32.4593 7.17644 37.4379C7.17644 42.4165 8.15132 46.3074 10.8009 49.0976C13.4506 51.8925 16.9416 53.2788 21.2871 53.2788C25.6325 53.2788 29.1236 51.882 31.7743 49.0976C34.424 46.3132 35.7488 42.4177 35.7488 37.4379ZM82.048 45.0873H89.6786C88.6627 49.0449 86.5854 52.4697 83.4559 55.3642C80.3206 58.2633 75.8359 59.7082 69.9949 59.7082C65.6026 59.7082 61.7359 58.8007 58.3899 56.9859C55.0439 55.171 52.461 52.5903 50.6353 49.2276C48.8108 45.8695 47.9026 41.9177 47.9026 37.3653C47.9026 32.8129 48.7897 28.8612 50.5522 25.5031C52.3159 22.145 54.7958 19.5585 57.9815 17.7448C61.1683 15.9299 64.9004 15.0225 69.185 15.0225C73.4695 15.0225 77.0215 15.9194 79.9906 17.7026C82.9656 19.4906 85.1822 21.864 86.6568 24.8099C88.1314 27.7664 88.8628 30.9992 88.8628 34.5189V39.3945H55.5261C55.7883 43.6178 57.202 46.9818 59.7428 49.4688C62.2847 51.9616 65.7021 53.2074 69.9878 53.2074C73.4672 53.2074 76.1379 52.4932 77.9847 51.0541C79.8303 49.6151 81.1808 47.6281 82.0422 45.0791L82.0469 45.0896L82.048 45.0873ZM55.3775 33.3082H80.6039C80.6039 29.6269 79.6653 26.7384 77.7892 24.653C75.9132 22.5723 72.9686 21.5244 68.9521 21.5244C65.2035 21.5244 62.1361 22.5407 59.7545 24.5746C57.3729 26.6025 55.9135 29.518 55.3775 33.3082ZM170.545 58.4986H177.778V0H170.545V58.5033V58.4986ZM272.204 11.6386H280.65V2.49282H272.204V11.6386ZM303.389 52.2051C302.076 52.3409 301.282 52.4089 301.021 52.4089C300.649 52.4089 300.343 52.3 300.134 52.0798C299.921 51.8656 299.809 51.5693 299.809 51.1829C299.809 50.9171 299.878 50.1139 300.015 48.785C300.143 47.4607 300.216 45.4116 300.216 42.653V22.4377H310.526L308.494 16.2484H300.219V4.86971H292.993V16.2425H285.129V22.4318H292.993V44.6752C292.993 49.3365 294.123 52.8046 296.367 55.0773C298.616 57.3512 302.045 58.4928 306.656 58.4928H312.279V51.9955H309.465C306.733 51.9955 304.71 52.0634 303.396 52.1993L303.389 52.2051ZM347.085 16.2425L335.113 51.6993C334.955 52.1372 334.7 52.7063 333.883 52.7063C333.067 52.7063 332.806 52.1384 332.643 51.6993L320.672 16.2484H313.3L327.163 58.4998H332.067C332.385 58.4998 332.63 58.5314 332.795 58.5829C332.954 58.6356 333.088 58.7703 333.196 58.9892C333.406 59.3124 333.38 59.803 333.113 60.4493L330.865 66.6234C330.541 67.4372 329.927 67.8435 329.021 67.8435C328.697 67.8435 327.949 67.7756 326.771 67.6397C325.592 67.5039 324.071 67.4372 322.195 67.4372H316.327V73.9333H324.04C328.54 73.9333 331.247 73.1616 333.578 71.6184C335.909 70.0752 337.713 67.3529 339 63.4538L353.973 17.8712V16.2437L347.094 16.2496L347.085 16.2437V16.2425ZM247.737 32.0097L236.408 16.2472H228.455V17.8689L242.028 36.1499L225.477 56.8711V58.4928H233.594L246.77 41.5103L259.062 58.4928H266.858V56.8711L252.472 37.37L268.065 17.952V16.2472H259.949L247.74 32.0097H247.737ZM272.973 58.4986H280.205V16.2531H272.973V58.5033V58.4986ZM225.379 45.0873C224.358 49.0449 222.288 52.4697 219.159 55.3642C216.022 58.2633 211.538 59.7082 205.695 59.7082C201.304 59.7082 197.436 58.8007 194.09 56.9859C190.739 55.171 188.163 52.5903 186.337 49.2276C184.517 45.8695 183.609 41.9177 183.609 37.3653C183.609 32.8129 184.496 28.8612 186.26 25.5031C188.029 22.145 190.503 19.5585 193.69 17.7448C196.873 15.9299 200.607 15.0225 204.897 15.0225C209.188 15.0225 212.734 15.9194 215.707 17.7026C218.678 19.4906 220.901 21.864 222.374 24.8099C223.849 27.7664 224.581 30.9992 224.581 34.5189V39.3945H191.241C191.509 43.6178 192.914 46.9818 195.458 49.4688C197.999 51.9616 201.418 53.2074 205.702 53.2074C209.182 53.2074 211.854 52.4932 213.698 51.0541C215.542 49.6151 216.894 47.6281 217.75 45.0791H225.385L225.379 45.0896V45.0873ZM191.261 33.3082H216.487C216.487 29.6269 215.548 26.7384 213.678 24.653C211.799 22.5723 208.858 21.5244 204.84 21.5244C201.09 21.5244 198.025 22.5407 195.642 24.5746C193.261 26.6025 191.798 29.518 191.266 33.3082H191.261Z",className:t}),o.jsxs("g",{children:[o.jsx("path",{d:"M369.705 16.0751V19.7517H370.279C371.485 17.7413 373.552 15.3866 379.007 15.3866C384.461 15.3866 386.93 18.2588 387.906 20.7282H388.48C389.915 18.1429 392.499 15.3866 398.241 15.3866C403.982 15.3866 408.345 18.5457 408.345 25.2666V45.3133H403.293V25.612C403.293 21.7633 401.169 19.4086 397.035 19.4086C392.385 19.4086 389.112 22.2234 389.112 28.0825V45.3145H384.06V25.6131C384.06 21.7644 381.936 19.4098 377.802 19.4098C373.151 19.4098 369.879 22.2246 369.879 28.0837V45.3156H364.827V16.0786H369.707L369.705 16.0751Z",className:"fill-max"}),o.jsx("path",{d:"M412.837 24.5758C413.813 19.1194 418.693 15.3855 425.985 15.3855C433.276 15.3855 438.328 19.1194 438.328 26.2419V45.3121H433.448V41.0045H432.873C431.61 43.0722 428.797 45.9444 422.711 45.9444C416.626 45.9444 412.032 42.7854 412.032 37.5585C412.032 32.3317 416.452 29.5169 422.423 28.9432L433.332 27.9093V26.1283C433.332 21.3605 430.518 19.178 425.869 19.178C421.219 19.178 418.232 21.3605 417.716 25.4387H412.836V24.5769L412.837 24.5758ZM423.573 42.1519C428.912 42.1519 433.333 39.0502 433.333 32.4441V31.6397L423.114 32.6162C419.324 32.9605 417.085 34.3971 417.085 37.3267C417.085 40.2563 419.612 42.1519 423.573 42.1519Z",className:"fill-max"}),o.jsx("path",{d:"M456.8 2.49283C461.595 2.49283 466.06 3.61337 470.071 5.74672C474.452 8.0522 477.928 11.4606 480.394 15.8725C482.786 20.0889 483.999 24.9855 483.999 30.4255C483.999 35.8654 482.786 40.7632 480.394 44.9796C479.086 47.319 477.492 49.3739 475.629 51.1349C474.431 52.2672 473.125 53.2788 471.71 54.1617L468.776 50.4617L455.493 33.7133H455.001L445.815 45.3156H440.418V44.4539L451.985 30.3037L440.418 16.1536V15.2918H445.815L455.001 26.8941H455.493L464.679 15.2918H470.075V16.1536L458.509 30.3037L472.647 47.5052C474.071 46.1142 475.295 44.5054 476.312 42.6858L476.32 42.6718C478.31 39.1685 479.319 35.0481 479.319 30.4255C479.319 25.8028 478.31 21.6837 476.321 18.1792L476.313 18.1651C474.297 14.5541 471.46 11.7686 467.883 9.88697C464.547 8.11308 460.821 7.21618 456.8 7.21618H364.861V2.49283H456.8Z",className:"fill-max"}),o.jsx("path",{d:"M462.359 55.5562L460.611 53.3526C459.374 53.5399 458.103 53.6348 456.8 53.6348H364.861V58.3183H456.8C459.252 58.3183 461.616 58.0326 463.877 57.4706L462.358 55.5562H462.359Z",className:"fill-max"})]})]})}):o.jsx("div",{className:a,...s,children:o.jsx("svg",{viewBox:"0 0 962 202",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M310.846 43.922H320.632V63.8822H307.966C298.037 63.8822 290.638 66.2483 285.737 70.9803C280.852 75.7123 278.401 83.4772 278.401 94.2751V159.698H258.4V44.3666H278.401V62.7707C278.401 63.8028 278.926 64.3269 279.961 64.3269C280.549 64.3269 280.995 64.1839 281.297 63.8822C281.6 63.5805 281.886 62.993 282.188 62.1038C286.039 49.9879 295.602 43.922 310.862 43.922H310.846ZM441.502 68.646C446.753 77.8877 449.395 89.0191 449.395 102.024C449.395 115.029 446.769 126.161 441.502 135.402C436.235 144.644 429.425 151.552 421.055 156.141C412.685 160.73 403.679 163.016 394.052 163.016C375.084 163.016 361.75 155.474 354.048 140.388C353.459 139.213 352.712 138.61 351.82 138.61C350.929 138.61 350.484 139.055 350.484 139.944V201.825H330.482V44.3666H350.484V64.1045C350.484 64.9938 350.929 65.4384 351.82 65.4384C352.712 65.4384 353.444 64.8509 354.048 63.6599C361.75 48.5746 375.084 41.032 394.052 41.032C403.679 41.032 412.685 43.3186 421.055 47.9077C429.425 52.4968 436.235 59.4043 441.502 68.646ZM429.393 102.024C429.393 88.4157 425.733 77.8083 418.397 70.2022C411.062 62.596 401.403 58.785 389.389 58.785C377.376 58.785 367.717 62.596 360.381 70.2022C353.046 77.8242 350.357 88.4316 350.357 102.024C350.357 115.617 353.046 126.24 360.381 133.846C367.717 141.468 377.392 145.263 389.389 145.263C401.387 145.263 411.062 141.452 418.397 133.846C425.733 126.24 429.393 115.617 429.393 102.024ZM111.004 68.8207C116.255 78.0624 118.897 89.1938 118.897 102.199C118.897 115.204 116.271 126.335 111.004 135.577C105.737 144.819 98.9266 151.726 90.5568 156.315C82.1869 160.904 73.1806 163.191 63.5536 163.191C44.5862 163.191 31.2517 155.648 23.5502 140.563C22.9614 139.388 22.2135 138.785 21.3225 138.785C20.4314 138.785 19.9858 139.229 19.9858 140.119V202H0V44.5413H20.0017V64.2792C20.0017 65.1685 20.4473 65.6131 21.3384 65.6131C22.2295 65.6131 22.9614 65.0256 23.5661 63.8346C31.2676 48.7493 44.6021 41.2067 63.5696 41.2067C73.1965 41.2067 82.2028 43.4933 90.5727 48.0824C98.9426 52.6715 105.753 59.579 111.02 68.8207H111.004ZM98.8948 102.199C98.8948 88.5904 95.235 77.983 87.8994 70.3769C80.5639 62.7707 70.9051 58.9597 58.8913 58.9597C46.8776 58.9597 37.2188 62.7707 29.8833 70.3769C22.5477 77.9989 19.8585 88.6062 19.8585 102.199C19.8585 115.792 22.5477 126.415 29.8833 134.021C37.2188 141.643 46.8776 145.438 58.8913 145.438C70.9051 145.438 80.5639 141.627 87.8994 134.021C95.235 126.415 98.8948 115.792 98.8948 102.199ZM221.578 123.08H242.694C239.878 133.878 234.133 143.231 225.477 151.139C216.805 159.047 204.393 163.001 188.242 163.001C176.085 163.001 165.392 160.523 156.131 155.569C146.87 150.615 139.726 143.564 134.682 134.386C129.637 125.224 127.123 114.426 127.123 102.008C127.123 89.5908 129.574 78.7929 134.459 69.6305C139.344 60.4682 146.202 53.4019 155.017 48.4476C163.833 43.4933 174.16 41.0161 186.015 41.0161C197.869 41.0161 207.687 43.4615 215.914 48.3365C224.14 53.2114 230.283 59.6901 234.356 67.7409C238.43 75.8076 240.466 84.6364 240.466 94.2434V107.55H148.239C148.971 119.079 152.869 128.257 159.902 135.053C166.936 141.849 176.388 145.263 188.242 145.263C197.869 145.263 205.252 143.31 210.36 139.388C215.468 135.466 219.208 130.035 221.578 123.08ZM148.462 90.9246H218.253C218.253 80.873 215.659 72.9969 210.472 67.2963C205.284 61.6115 197.137 58.7532 186.03 58.7532C175.656 58.7532 167.174 61.5321 160.587 67.074C153.999 72.6158 149.957 80.5713 148.477 90.9087L148.462 90.9246ZM465.227 159.682H485.229V0H465.227V159.698V159.682ZM742.753 31.7744H766.113V6.8122H742.753V31.7744ZM825.163 142.5C821.535 142.866 819.339 143.056 818.607 143.056C817.573 143.056 816.745 142.755 816.157 142.167C815.568 141.579 815.266 140.77 815.266 139.722C815.266 138.991 815.457 136.8 815.823 133.179C816.189 129.559 816.379 123.969 816.379 116.443V61.2622H844.91L839.293 44.3666H816.395V13.3068H796.394V44.3508H774.642V61.2463H796.394V121.969C796.394 134.688 799.512 144.152 805.734 150.361C811.956 156.569 821.44 159.682 834.185 159.682H849.748V141.945H841.966C834.408 141.945 828.807 142.135 825.179 142.5H825.163ZM942.198 44.3508L909.084 141.119C908.639 142.31 907.939 143.866 905.663 143.866C903.388 143.866 902.688 142.31 902.242 141.119L869.129 44.3508H848.729L887.078 159.682H900.635C901.526 159.682 902.194 159.761 902.64 159.904C903.086 160.047 903.451 160.412 903.754 161.016C904.343 161.905 904.263 163.239 903.531 165.001L897.309 181.849C896.418 184.072 894.716 185.184 892.201 185.184C891.31 185.184 889.242 184.993 885.98 184.628C882.718 184.263 878.501 184.072 873.314 184.072H857.083V201.809H878.421C890.865 201.809 898.359 199.698 904.804 195.49C911.248 191.281 916.245 183.85 919.809 173.195L961.229 48.7652V44.3349H942.198V44.3508ZM677.418 87.3835L646.086 44.3508H624.08V48.7811L661.633 98.6896L615.853 155.251V159.682H638.305L674.76 113.33L708.765 159.682H730.326V155.251L690.545 102.024L733.667 49.0193V44.3666H711.215L677.433 87.3994L677.418 87.3835ZM744.886 159.682H764.887V44.3666H744.886V159.698V159.682ZM616.76 123.08C613.943 133.878 608.199 143.231 599.543 151.139C590.871 159.047 578.459 163.001 562.308 163.001C550.151 163.001 539.458 160.523 530.197 155.569C520.936 150.615 513.792 143.564 508.747 134.386C503.703 125.224 501.189 114.426 501.189 102.008C501.189 89.5908 503.64 78.7929 508.525 69.6305C513.41 60.4682 520.268 53.4019 529.083 48.4476C537.899 43.4933 548.226 41.0161 560.08 41.0161C571.935 41.0161 581.753 43.4615 589.98 48.3365C598.206 53.2114 604.348 59.6901 608.422 67.7409C612.495 75.8076 614.532 84.6364 614.532 94.2434V107.55H522.305C523.037 119.079 526.935 128.257 533.968 135.053C541.002 141.849 550.453 145.263 562.308 145.263C571.935 145.263 579.318 143.31 584.426 139.388C589.534 135.466 593.273 130.035 595.644 123.08H616.76ZM522.527 90.9246H592.319C592.319 80.873 589.725 72.9969 584.538 67.2963C579.35 61.6115 571.203 58.7532 560.096 58.7532C549.721 58.7532 541.24 61.5321 534.653 67.074C528.065 72.6158 524.023 80.5713 522.543 90.9087L522.527 90.9246Z",className:t})})})});oA.displayName="Word";const NZe={tiny:"w-4 md:w-6",small:"",md:"w-10","md-large":"w-20",large:"w-24",xl:"w-36"},jZe="w-6 md:w-8",Ei=L.memo(({size:e="large",includeEffects:t=!1,isPro:n=!1,variant:r="full",color:s="textMain",...a})=>{let i="w-28 md:w-[140px]";e==="tiny"?i="w-14 md:w-16":e==="small"?i="w-24":e==="large"?i="w-40 md:w-52":e==="xl"&&(i="w-64");const l=NZe?.[e]||jZe;let c="w-6";e==="large"?c="w-12":e==="md-large"?c="w-8":e==="xl"&&(c="w-36");const u=W("",{"stroke-textMain dark:stroke-textMainDark":s==="textMain","stroke-textOff dark:stroke-textOff":s==="textOff","stroke-super":s==="super"||s==="mixed","stroke-caution":s==="caution","stroke-textMainDark":s==="white","stroke-background":s==="background","group-hover:stroke-super transition-colors duration-300":t}),d=W(" block",{"fill-textMain dark:fill-textMainDark":s==="textMain"||s==="mixed","fill-textOff dark:fill-textOff":s==="textOff","fill-super":s==="super","fill-caution":s==="caution","fill-textMainDark":s==="white","fill-background":s==="background","group-hover:fill-super transition-colors duration-300":t});return r==="pro"?o.jsx(Sx,{width:c,fillColor:d,...a}):r==="mark"?o.jsx("div",{className:W({"transition-all duration-300 ease-in-out hover:scale-105":t}),children:o.jsx(ede,{lineColor:u,width:l,...a})}):r==="text"?o.jsx(oA,{fillColor:d,width:i,isPro:n,...a}):r==="max-text"?o.jsx(oA,{fillColor:d,width:i,isMax:!0,...a}):r==="full"?o.jsx(Zue,{fillColor:d,lineColor:u,width:i,...a}):r==="labs"?o.jsx(Jue,{width:i,fillColor:d,...a}):null});function br({name:e,path:t,variant:n="stroked"}){const r=L.forwardRef((s,a)=>{const{size:i=24,...l}=s,c=typeof i=="number"?`${i}`:i||"24",u=n==="filled"?{fill:"currentColor",fillRule:"evenodd"}:{fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"};return o.jsx("svg",{ref:a,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",...l,...u,children:o.jsx("path",{d:t})})});return r.displayName=e,r}const JI=br({path:"M15.966 5.901c.144 0 .366.017.667.052.307.027.656.102 1.046.225.39.123.786.322 1.19.595.402.273.775.656 1.117 1.148-.034.02-.164.113-.39.277a5.377 5.377 0 0 0-.748.718c-.28.308-.527.7-.739 1.18-.205.47-.307 1.035-.307 1.691 0 .752.13 1.388.39 1.907.266.52.574.94.922 1.262.356.32.67.557.944.707.28.144.43.219.45.226a15.09 15.09 0 0 1-.153.461c-.096.273-.246.629-.451 1.066a9.353 9.353 0 0 1-.78 1.354 20.42 20.42 0 0 1-.912 1.2 4.325 4.325 0 0 1-1.015.933 2.14 2.14 0 0 1-1.23.369 2.84 2.84 0 0 1-.893-.123 5.877 5.877 0 0 1-.707-.287 5.593 5.593 0 0 0-.728-.277c-.267-.082-.598-.123-.995-.123-.52 0-.954.068-1.302.205a51.31 51.31 0 0 0-.974.42c-.308.137-.67.206-1.087.206-.636 0-1.197-.253-1.682-.76-.478-.505-.97-1.11-1.476-1.814-.39-.56-.746-1.207-1.067-1.938a13.276 13.276 0 0 1-.769-2.328c-.191-.82-.287-1.64-.287-2.46 0-1.313.25-2.417.749-3.313.499-.895 1.138-1.572 1.917-2.03.78-.458 1.59-.687 2.43-.687.445 0 .862.072 1.251.215.397.144.766.29 1.108.441.341.144.652.215.933.215.266 0 .58-.075.943-.225.362-.157.762-.315 1.2-.472a4.273 4.273 0 0 1 1.435-.236Zm-.717-1.66a4.134 4.134 0 0 1-1.293 1.035c-.512.273-.997.41-1.455.41-.096 0-.188-.01-.277-.03a3.556 3.556 0 0 1-.031-.144 2.259 2.259 0 0 1-.01-.226c0-.52.112-1.025.338-1.517.226-.493.485-.903.78-1.23.362-.432.82-.79 1.373-1.078.56-.287 1.098-.44 1.61-.461.02.116.03.25.03.4 0 .526-.098 1.039-.296 1.538a4.818 4.818 0 0 1-.77 1.302Z",name:"IconBrandApple",variant:"filled"});function AZe(e){return Intl.getCanonicalLocales(e)}var rM={supplemental:{languageMatching:{"written-new":[{paradigmLocales:{_locales:"en en_GB es es_419 pt_BR pt_PT"}},{$enUS:{_value:"AS+CA+GU+MH+MP+PH+PR+UM+US+VI"}},{$cnsar:{_value:"HK+MO"}},{$americas:{_value:"019"}},{$maghreb:{_value:"MA+DZ+TN+LY+MR+EH"}},{no:{_desired:"nb",_distance:"1"}},{bs:{_desired:"hr",_distance:"4"}},{bs:{_desired:"sh",_distance:"4"}},{hr:{_desired:"sh",_distance:"4"}},{sr:{_desired:"sh",_distance:"4"}},{aa:{_desired:"ssy",_distance:"4"}},{de:{_desired:"gsw",_distance:"4",_oneway:"true"}},{de:{_desired:"lb",_distance:"4",_oneway:"true"}},{no:{_desired:"da",_distance:"8"}},{nb:{_desired:"da",_distance:"8"}},{ru:{_desired:"ab",_distance:"30",_oneway:"true"}},{en:{_desired:"ach",_distance:"30",_oneway:"true"}},{nl:{_desired:"af",_distance:"20",_oneway:"true"}},{en:{_desired:"ak",_distance:"30",_oneway:"true"}},{en:{_desired:"am",_distance:"30",_oneway:"true"}},{es:{_desired:"ay",_distance:"20",_oneway:"true"}},{ru:{_desired:"az",_distance:"30",_oneway:"true"}},{ur:{_desired:"bal",_distance:"20",_oneway:"true"}},{ru:{_desired:"be",_distance:"20",_oneway:"true"}},{en:{_desired:"bem",_distance:"30",_oneway:"true"}},{hi:{_desired:"bh",_distance:"30",_oneway:"true"}},{en:{_desired:"bn",_distance:"30",_oneway:"true"}},{zh:{_desired:"bo",_distance:"20",_oneway:"true"}},{fr:{_desired:"br",_distance:"20",_oneway:"true"}},{es:{_desired:"ca",_distance:"20",_oneway:"true"}},{fil:{_desired:"ceb",_distance:"30",_oneway:"true"}},{en:{_desired:"chr",_distance:"20",_oneway:"true"}},{ar:{_desired:"ckb",_distance:"30",_oneway:"true"}},{fr:{_desired:"co",_distance:"20",_oneway:"true"}},{fr:{_desired:"crs",_distance:"20",_oneway:"true"}},{sk:{_desired:"cs",_distance:"20"}},{en:{_desired:"cy",_distance:"20",_oneway:"true"}},{en:{_desired:"ee",_distance:"30",_oneway:"true"}},{en:{_desired:"eo",_distance:"30",_oneway:"true"}},{es:{_desired:"eu",_distance:"20",_oneway:"true"}},{da:{_desired:"fo",_distance:"20",_oneway:"true"}},{nl:{_desired:"fy",_distance:"20",_oneway:"true"}},{en:{_desired:"ga",_distance:"20",_oneway:"true"}},{en:{_desired:"gaa",_distance:"30",_oneway:"true"}},{en:{_desired:"gd",_distance:"20",_oneway:"true"}},{es:{_desired:"gl",_distance:"20",_oneway:"true"}},{es:{_desired:"gn",_distance:"20",_oneway:"true"}},{hi:{_desired:"gu",_distance:"30",_oneway:"true"}},{en:{_desired:"ha",_distance:"30",_oneway:"true"}},{en:{_desired:"haw",_distance:"20",_oneway:"true"}},{fr:{_desired:"ht",_distance:"20",_oneway:"true"}},{ru:{_desired:"hy",_distance:"30",_oneway:"true"}},{en:{_desired:"ia",_distance:"30",_oneway:"true"}},{en:{_desired:"ig",_distance:"30",_oneway:"true"}},{en:{_desired:"is",_distance:"20",_oneway:"true"}},{id:{_desired:"jv",_distance:"20",_oneway:"true"}},{en:{_desired:"ka",_distance:"30",_oneway:"true"}},{fr:{_desired:"kg",_distance:"30",_oneway:"true"}},{ru:{_desired:"kk",_distance:"30",_oneway:"true"}},{en:{_desired:"km",_distance:"30",_oneway:"true"}},{en:{_desired:"kn",_distance:"30",_oneway:"true"}},{en:{_desired:"kri",_distance:"30",_oneway:"true"}},{tr:{_desired:"ku",_distance:"30",_oneway:"true"}},{ru:{_desired:"ky",_distance:"30",_oneway:"true"}},{it:{_desired:"la",_distance:"20",_oneway:"true"}},{en:{_desired:"lg",_distance:"30",_oneway:"true"}},{fr:{_desired:"ln",_distance:"30",_oneway:"true"}},{en:{_desired:"lo",_distance:"30",_oneway:"true"}},{en:{_desired:"loz",_distance:"30",_oneway:"true"}},{fr:{_desired:"lua",_distance:"30",_oneway:"true"}},{hi:{_desired:"mai",_distance:"20",_oneway:"true"}},{en:{_desired:"mfe",_distance:"30",_oneway:"true"}},{fr:{_desired:"mg",_distance:"30",_oneway:"true"}},{en:{_desired:"mi",_distance:"20",_oneway:"true"}},{en:{_desired:"ml",_distance:"30",_oneway:"true"}},{ru:{_desired:"mn",_distance:"30",_oneway:"true"}},{hi:{_desired:"mr",_distance:"30",_oneway:"true"}},{id:{_desired:"ms",_distance:"30",_oneway:"true"}},{en:{_desired:"mt",_distance:"30",_oneway:"true"}},{en:{_desired:"my",_distance:"30",_oneway:"true"}},{en:{_desired:"ne",_distance:"30",_oneway:"true"}},{nb:{_desired:"nn",_distance:"20"}},{no:{_desired:"nn",_distance:"20"}},{en:{_desired:"nso",_distance:"30",_oneway:"true"}},{en:{_desired:"ny",_distance:"30",_oneway:"true"}},{en:{_desired:"nyn",_distance:"30",_oneway:"true"}},{fr:{_desired:"oc",_distance:"20",_oneway:"true"}},{en:{_desired:"om",_distance:"30",_oneway:"true"}},{en:{_desired:"or",_distance:"30",_oneway:"true"}},{en:{_desired:"pa",_distance:"30",_oneway:"true"}},{en:{_desired:"pcm",_distance:"20",_oneway:"true"}},{en:{_desired:"ps",_distance:"30",_oneway:"true"}},{es:{_desired:"qu",_distance:"30",_oneway:"true"}},{de:{_desired:"rm",_distance:"20",_oneway:"true"}},{en:{_desired:"rn",_distance:"30",_oneway:"true"}},{fr:{_desired:"rw",_distance:"30",_oneway:"true"}},{hi:{_desired:"sa",_distance:"30",_oneway:"true"}},{en:{_desired:"sd",_distance:"30",_oneway:"true"}},{en:{_desired:"si",_distance:"30",_oneway:"true"}},{en:{_desired:"sn",_distance:"30",_oneway:"true"}},{en:{_desired:"so",_distance:"30",_oneway:"true"}},{en:{_desired:"sq",_distance:"30",_oneway:"true"}},{en:{_desired:"st",_distance:"30",_oneway:"true"}},{id:{_desired:"su",_distance:"20",_oneway:"true"}},{en:{_desired:"sw",_distance:"30",_oneway:"true"}},{en:{_desired:"ta",_distance:"30",_oneway:"true"}},{en:{_desired:"te",_distance:"30",_oneway:"true"}},{ru:{_desired:"tg",_distance:"30",_oneway:"true"}},{en:{_desired:"ti",_distance:"30",_oneway:"true"}},{ru:{_desired:"tk",_distance:"30",_oneway:"true"}},{en:{_desired:"tlh",_distance:"30",_oneway:"true"}},{en:{_desired:"tn",_distance:"30",_oneway:"true"}},{en:{_desired:"to",_distance:"30",_oneway:"true"}},{ru:{_desired:"tt",_distance:"30",_oneway:"true"}},{en:{_desired:"tum",_distance:"30",_oneway:"true"}},{zh:{_desired:"ug",_distance:"20",_oneway:"true"}},{ru:{_desired:"uk",_distance:"20",_oneway:"true"}},{en:{_desired:"ur",_distance:"30",_oneway:"true"}},{ru:{_desired:"uz",_distance:"30",_oneway:"true"}},{fr:{_desired:"wo",_distance:"30",_oneway:"true"}},{en:{_desired:"xh",_distance:"30",_oneway:"true"}},{en:{_desired:"yi",_distance:"30",_oneway:"true"}},{en:{_desired:"yo",_distance:"30",_oneway:"true"}},{zh:{_desired:"za",_distance:"20",_oneway:"true"}},{en:{_desired:"zu",_distance:"30",_oneway:"true"}},{ar:{_desired:"aao",_distance:"10",_oneway:"true"}},{ar:{_desired:"abh",_distance:"10",_oneway:"true"}},{ar:{_desired:"abv",_distance:"10",_oneway:"true"}},{ar:{_desired:"acm",_distance:"10",_oneway:"true"}},{ar:{_desired:"acq",_distance:"10",_oneway:"true"}},{ar:{_desired:"acw",_distance:"10",_oneway:"true"}},{ar:{_desired:"acx",_distance:"10",_oneway:"true"}},{ar:{_desired:"acy",_distance:"10",_oneway:"true"}},{ar:{_desired:"adf",_distance:"10",_oneway:"true"}},{ar:{_desired:"aeb",_distance:"10",_oneway:"true"}},{ar:{_desired:"aec",_distance:"10",_oneway:"true"}},{ar:{_desired:"afb",_distance:"10",_oneway:"true"}},{ar:{_desired:"ajp",_distance:"10",_oneway:"true"}},{ar:{_desired:"apc",_distance:"10",_oneway:"true"}},{ar:{_desired:"apd",_distance:"10",_oneway:"true"}},{ar:{_desired:"arq",_distance:"10",_oneway:"true"}},{ar:{_desired:"ars",_distance:"10",_oneway:"true"}},{ar:{_desired:"ary",_distance:"10",_oneway:"true"}},{ar:{_desired:"arz",_distance:"10",_oneway:"true"}},{ar:{_desired:"auz",_distance:"10",_oneway:"true"}},{ar:{_desired:"avl",_distance:"10",_oneway:"true"}},{ar:{_desired:"ayh",_distance:"10",_oneway:"true"}},{ar:{_desired:"ayl",_distance:"10",_oneway:"true"}},{ar:{_desired:"ayn",_distance:"10",_oneway:"true"}},{ar:{_desired:"ayp",_distance:"10",_oneway:"true"}},{ar:{_desired:"bbz",_distance:"10",_oneway:"true"}},{ar:{_desired:"pga",_distance:"10",_oneway:"true"}},{ar:{_desired:"shu",_distance:"10",_oneway:"true"}},{ar:{_desired:"ssh",_distance:"10",_oneway:"true"}},{az:{_desired:"azb",_distance:"10",_oneway:"true"}},{et:{_desired:"vro",_distance:"10",_oneway:"true"}},{ff:{_desired:"ffm",_distance:"10",_oneway:"true"}},{ff:{_desired:"fub",_distance:"10",_oneway:"true"}},{ff:{_desired:"fue",_distance:"10",_oneway:"true"}},{ff:{_desired:"fuf",_distance:"10",_oneway:"true"}},{ff:{_desired:"fuh",_distance:"10",_oneway:"true"}},{ff:{_desired:"fui",_distance:"10",_oneway:"true"}},{ff:{_desired:"fuq",_distance:"10",_oneway:"true"}},{ff:{_desired:"fuv",_distance:"10",_oneway:"true"}},{gn:{_desired:"gnw",_distance:"10",_oneway:"true"}},{gn:{_desired:"gui",_distance:"10",_oneway:"true"}},{gn:{_desired:"gun",_distance:"10",_oneway:"true"}},{gn:{_desired:"nhd",_distance:"10",_oneway:"true"}},{iu:{_desired:"ikt",_distance:"10",_oneway:"true"}},{kln:{_desired:"enb",_distance:"10",_oneway:"true"}},{kln:{_desired:"eyo",_distance:"10",_oneway:"true"}},{kln:{_desired:"niq",_distance:"10",_oneway:"true"}},{kln:{_desired:"oki",_distance:"10",_oneway:"true"}},{kln:{_desired:"pko",_distance:"10",_oneway:"true"}},{kln:{_desired:"sgc",_distance:"10",_oneway:"true"}},{kln:{_desired:"tec",_distance:"10",_oneway:"true"}},{kln:{_desired:"tuy",_distance:"10",_oneway:"true"}},{kok:{_desired:"gom",_distance:"10",_oneway:"true"}},{kpe:{_desired:"gkp",_distance:"10",_oneway:"true"}},{luy:{_desired:"ida",_distance:"10",_oneway:"true"}},{luy:{_desired:"lkb",_distance:"10",_oneway:"true"}},{luy:{_desired:"lko",_distance:"10",_oneway:"true"}},{luy:{_desired:"lks",_distance:"10",_oneway:"true"}},{luy:{_desired:"lri",_distance:"10",_oneway:"true"}},{luy:{_desired:"lrm",_distance:"10",_oneway:"true"}},{luy:{_desired:"lsm",_distance:"10",_oneway:"true"}},{luy:{_desired:"lto",_distance:"10",_oneway:"true"}},{luy:{_desired:"lts",_distance:"10",_oneway:"true"}},{luy:{_desired:"lwg",_distance:"10",_oneway:"true"}},{luy:{_desired:"nle",_distance:"10",_oneway:"true"}},{luy:{_desired:"nyd",_distance:"10",_oneway:"true"}},{luy:{_desired:"rag",_distance:"10",_oneway:"true"}},{lv:{_desired:"ltg",_distance:"10",_oneway:"true"}},{mg:{_desired:"bhr",_distance:"10",_oneway:"true"}},{mg:{_desired:"bjq",_distance:"10",_oneway:"true"}},{mg:{_desired:"bmm",_distance:"10",_oneway:"true"}},{mg:{_desired:"bzc",_distance:"10",_oneway:"true"}},{mg:{_desired:"msh",_distance:"10",_oneway:"true"}},{mg:{_desired:"skg",_distance:"10",_oneway:"true"}},{mg:{_desired:"tdx",_distance:"10",_oneway:"true"}},{mg:{_desired:"tkg",_distance:"10",_oneway:"true"}},{mg:{_desired:"txy",_distance:"10",_oneway:"true"}},{mg:{_desired:"xmv",_distance:"10",_oneway:"true"}},{mg:{_desired:"xmw",_distance:"10",_oneway:"true"}},{mn:{_desired:"mvf",_distance:"10",_oneway:"true"}},{ms:{_desired:"bjn",_distance:"10",_oneway:"true"}},{ms:{_desired:"btj",_distance:"10",_oneway:"true"}},{ms:{_desired:"bve",_distance:"10",_oneway:"true"}},{ms:{_desired:"bvu",_distance:"10",_oneway:"true"}},{ms:{_desired:"coa",_distance:"10",_oneway:"true"}},{ms:{_desired:"dup",_distance:"10",_oneway:"true"}},{ms:{_desired:"hji",_distance:"10",_oneway:"true"}},{ms:{_desired:"id",_distance:"10",_oneway:"true"}},{ms:{_desired:"jak",_distance:"10",_oneway:"true"}},{ms:{_desired:"jax",_distance:"10",_oneway:"true"}},{ms:{_desired:"kvb",_distance:"10",_oneway:"true"}},{ms:{_desired:"kvr",_distance:"10",_oneway:"true"}},{ms:{_desired:"kxd",_distance:"10",_oneway:"true"}},{ms:{_desired:"lce",_distance:"10",_oneway:"true"}},{ms:{_desired:"lcf",_distance:"10",_oneway:"true"}},{ms:{_desired:"liw",_distance:"10",_oneway:"true"}},{ms:{_desired:"max",_distance:"10",_oneway:"true"}},{ms:{_desired:"meo",_distance:"10",_oneway:"true"}},{ms:{_desired:"mfa",_distance:"10",_oneway:"true"}},{ms:{_desired:"mfb",_distance:"10",_oneway:"true"}},{ms:{_desired:"min",_distance:"10",_oneway:"true"}},{ms:{_desired:"mqg",_distance:"10",_oneway:"true"}},{ms:{_desired:"msi",_distance:"10",_oneway:"true"}},{ms:{_desired:"mui",_distance:"10",_oneway:"true"}},{ms:{_desired:"orn",_distance:"10",_oneway:"true"}},{ms:{_desired:"ors",_distance:"10",_oneway:"true"}},{ms:{_desired:"pel",_distance:"10",_oneway:"true"}},{ms:{_desired:"pse",_distance:"10",_oneway:"true"}},{ms:{_desired:"tmw",_distance:"10",_oneway:"true"}},{ms:{_desired:"urk",_distance:"10",_oneway:"true"}},{ms:{_desired:"vkk",_distance:"10",_oneway:"true"}},{ms:{_desired:"vkt",_distance:"10",_oneway:"true"}},{ms:{_desired:"xmm",_distance:"10",_oneway:"true"}},{ms:{_desired:"zlm",_distance:"10",_oneway:"true"}},{ms:{_desired:"zmi",_distance:"10",_oneway:"true"}},{ne:{_desired:"dty",_distance:"10",_oneway:"true"}},{om:{_desired:"gax",_distance:"10",_oneway:"true"}},{om:{_desired:"hae",_distance:"10",_oneway:"true"}},{om:{_desired:"orc",_distance:"10",_oneway:"true"}},{or:{_desired:"spv",_distance:"10",_oneway:"true"}},{ps:{_desired:"pbt",_distance:"10",_oneway:"true"}},{ps:{_desired:"pst",_distance:"10",_oneway:"true"}},{qu:{_desired:"qub",_distance:"10",_oneway:"true"}},{qu:{_desired:"qud",_distance:"10",_oneway:"true"}},{qu:{_desired:"quf",_distance:"10",_oneway:"true"}},{qu:{_desired:"qug",_distance:"10",_oneway:"true"}},{qu:{_desired:"quh",_distance:"10",_oneway:"true"}},{qu:{_desired:"quk",_distance:"10",_oneway:"true"}},{qu:{_desired:"qul",_distance:"10",_oneway:"true"}},{qu:{_desired:"qup",_distance:"10",_oneway:"true"}},{qu:{_desired:"qur",_distance:"10",_oneway:"true"}},{qu:{_desired:"qus",_distance:"10",_oneway:"true"}},{qu:{_desired:"quw",_distance:"10",_oneway:"true"}},{qu:{_desired:"qux",_distance:"10",_oneway:"true"}},{qu:{_desired:"quy",_distance:"10",_oneway:"true"}},{qu:{_desired:"qva",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvc",_distance:"10",_oneway:"true"}},{qu:{_desired:"qve",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvh",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvi",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvj",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvl",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvm",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvn",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvo",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvp",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvs",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvw",_distance:"10",_oneway:"true"}},{qu:{_desired:"qvz",_distance:"10",_oneway:"true"}},{qu:{_desired:"qwa",_distance:"10",_oneway:"true"}},{qu:{_desired:"qwc",_distance:"10",_oneway:"true"}},{qu:{_desired:"qwh",_distance:"10",_oneway:"true"}},{qu:{_desired:"qws",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxa",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxc",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxh",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxl",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxn",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxo",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxp",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxr",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxt",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxu",_distance:"10",_oneway:"true"}},{qu:{_desired:"qxw",_distance:"10",_oneway:"true"}},{sc:{_desired:"sdc",_distance:"10",_oneway:"true"}},{sc:{_desired:"sdn",_distance:"10",_oneway:"true"}},{sc:{_desired:"sro",_distance:"10",_oneway:"true"}},{sq:{_desired:"aae",_distance:"10",_oneway:"true"}},{sq:{_desired:"aat",_distance:"10",_oneway:"true"}},{sq:{_desired:"aln",_distance:"10",_oneway:"true"}},{syr:{_desired:"aii",_distance:"10",_oneway:"true"}},{uz:{_desired:"uzs",_distance:"10",_oneway:"true"}},{yi:{_desired:"yih",_distance:"10",_oneway:"true"}},{zh:{_desired:"cdo",_distance:"10",_oneway:"true"}},{zh:{_desired:"cjy",_distance:"10",_oneway:"true"}},{zh:{_desired:"cpx",_distance:"10",_oneway:"true"}},{zh:{_desired:"czh",_distance:"10",_oneway:"true"}},{zh:{_desired:"czo",_distance:"10",_oneway:"true"}},{zh:{_desired:"gan",_distance:"10",_oneway:"true"}},{zh:{_desired:"hak",_distance:"10",_oneway:"true"}},{zh:{_desired:"hsn",_distance:"10",_oneway:"true"}},{zh:{_desired:"lzh",_distance:"10",_oneway:"true"}},{zh:{_desired:"mnp",_distance:"10",_oneway:"true"}},{zh:{_desired:"nan",_distance:"10",_oneway:"true"}},{zh:{_desired:"wuu",_distance:"10",_oneway:"true"}},{zh:{_desired:"yue",_distance:"10",_oneway:"true"}},{"*":{_desired:"*",_distance:"80"}},{"en-Latn":{_desired:"am-Ethi",_distance:"10",_oneway:"true"}},{"ru-Cyrl":{_desired:"az-Latn",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"bn-Beng",_distance:"10",_oneway:"true"}},{"zh-Hans":{_desired:"bo-Tibt",_distance:"10",_oneway:"true"}},{"ru-Cyrl":{_desired:"hy-Armn",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"ka-Geor",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"km-Khmr",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"kn-Knda",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"lo-Laoo",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"ml-Mlym",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"my-Mymr",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"ne-Deva",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"or-Orya",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"pa-Guru",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"ps-Arab",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"sd-Arab",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"si-Sinh",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"ta-Taml",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"te-Telu",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"ti-Ethi",_distance:"10",_oneway:"true"}},{"ru-Cyrl":{_desired:"tk-Latn",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"ur-Arab",_distance:"10",_oneway:"true"}},{"ru-Cyrl":{_desired:"uz-Latn",_distance:"10",_oneway:"true"}},{"en-Latn":{_desired:"yi-Hebr",_distance:"10",_oneway:"true"}},{"sr-Cyrl":{_desired:"sr-Latn",_distance:"5"}},{"zh-Hans":{_desired:"za-Latn",_distance:"10",_oneway:"true"}},{"zh-Hans":{_desired:"zh-Hani",_distance:"20",_oneway:"true"}},{"zh-Hant":{_desired:"zh-Hani",_distance:"20",_oneway:"true"}},{"ar-Arab":{_desired:"ar-Latn",_distance:"20",_oneway:"true"}},{"bn-Beng":{_desired:"bn-Latn",_distance:"20",_oneway:"true"}},{"gu-Gujr":{_desired:"gu-Latn",_distance:"20",_oneway:"true"}},{"hi-Deva":{_desired:"hi-Latn",_distance:"20",_oneway:"true"}},{"kn-Knda":{_desired:"kn-Latn",_distance:"20",_oneway:"true"}},{"ml-Mlym":{_desired:"ml-Latn",_distance:"20",_oneway:"true"}},{"mr-Deva":{_desired:"mr-Latn",_distance:"20",_oneway:"true"}},{"ta-Taml":{_desired:"ta-Latn",_distance:"20",_oneway:"true"}},{"te-Telu":{_desired:"te-Latn",_distance:"20",_oneway:"true"}},{"zh-Hans":{_desired:"zh-Latn",_distance:"20",_oneway:"true"}},{"ja-Jpan":{_desired:"ja-Latn",_distance:"5",_oneway:"true"}},{"ja-Jpan":{_desired:"ja-Hani",_distance:"5",_oneway:"true"}},{"ja-Jpan":{_desired:"ja-Hira",_distance:"5",_oneway:"true"}},{"ja-Jpan":{_desired:"ja-Kana",_distance:"5",_oneway:"true"}},{"ja-Jpan":{_desired:"ja-Hrkt",_distance:"5",_oneway:"true"}},{"ja-Hrkt":{_desired:"ja-Hira",_distance:"5",_oneway:"true"}},{"ja-Hrkt":{_desired:"ja-Kana",_distance:"5",_oneway:"true"}},{"ko-Kore":{_desired:"ko-Hani",_distance:"5",_oneway:"true"}},{"ko-Kore":{_desired:"ko-Hang",_distance:"5",_oneway:"true"}},{"ko-Kore":{_desired:"ko-Jamo",_distance:"5",_oneway:"true"}},{"ko-Hang":{_desired:"ko-Jamo",_distance:"5",_oneway:"true"}},{"*-*":{_desired:"*-*",_distance:"50"}},{"ar-*-$maghreb":{_desired:"ar-*-$maghreb",_distance:"4"}},{"ar-*-$!maghreb":{_desired:"ar-*-$!maghreb",_distance:"4"}},{"ar-*-*":{_desired:"ar-*-*",_distance:"5"}},{"en-*-$enUS":{_desired:"en-*-$enUS",_distance:"4"}},{"en-*-GB":{_desired:"en-*-$!enUS",_distance:"3"}},{"en-*-$!enUS":{_desired:"en-*-$!enUS",_distance:"4"}},{"en-*-*":{_desired:"en-*-*",_distance:"5"}},{"es-*-$americas":{_desired:"es-*-$americas",_distance:"4"}},{"es-*-$!americas":{_desired:"es-*-$!americas",_distance:"4"}},{"es-*-*":{_desired:"es-*-*",_distance:"5"}},{"pt-*-$americas":{_desired:"pt-*-$americas",_distance:"4"}},{"pt-*-$!americas":{_desired:"pt-*-$!americas",_distance:"4"}},{"pt-*-*":{_desired:"pt-*-*",_distance:"5"}},{"zh-Hant-$cnsar":{_desired:"zh-Hant-$cnsar",_distance:"4"}},{"zh-Hant-$!cnsar":{_desired:"zh-Hant-$!cnsar",_distance:"4"}},{"zh-Hant-*":{_desired:"zh-Hant-*",_distance:"5"}},{"*-*-*":{_desired:"*-*-*",_distance:"4"}}]}}},RZe={"001":["001","001-status-grouping","002","005","009","011","013","014","015","017","018","019","021","029","030","034","035","039","053","054","057","061","142","143","145","150","151","154","155","AC","AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CP","CQ","CR","CU","CV","CW","CX","CY","CZ","DE","DG","DJ","DK","DM","DO","DZ","EA","EC","EE","EG","EH","ER","ES","ET","EU","EZ","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","IC","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","QO","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TA","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","UN","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","XK","YE","YT","ZA","ZM","ZW"],"002":["002","002-status-grouping","011","014","015","017","018","202","AO","BF","BI","BJ","BW","CD","CF","CG","CI","CM","CV","DJ","DZ","EA","EG","EH","ER","ET","GA","GH","GM","GN","GQ","GW","IC","IO","KE","KM","LR","LS","LY","MA","MG","ML","MR","MU","MW","MZ","NA","NE","NG","RE","RW","SC","SD","SH","SL","SN","SO","SS","ST","SZ","TD","TF","TG","TN","TZ","UG","YT","ZA","ZM","ZW"],"003":["003","013","021","029","AG","AI","AW","BB","BL","BM","BQ","BS","BZ","CA","CR","CU","CW","DM","DO","GD","GL","GP","GT","HN","HT","JM","KN","KY","LC","MF","MQ","MS","MX","NI","PA","PM","PR","SV","SX","TC","TT","US","VC","VG","VI"],"005":["005","AR","BO","BR","BV","CL","CO","EC","FK","GF","GS","GY","PE","PY","SR","UY","VE"],"009":["009","053","054","057","061","AC","AQ","AS","AU","CC","CK","CP","CX","DG","FJ","FM","GU","HM","KI","MH","MP","NC","NF","NR","NU","NZ","PF","PG","PN","PW","QO","SB","TA","TK","TO","TV","UM","VU","WF","WS"],"011":["011","BF","BJ","CI","CV","GH","GM","GN","GW","LR","ML","MR","NE","NG","SH","SL","SN","TG"],"013":["013","BZ","CR","GT","HN","MX","NI","PA","SV"],"014":["014","BI","DJ","ER","ET","IO","KE","KM","MG","MU","MW","MZ","RE","RW","SC","SO","SS","TF","TZ","UG","YT","ZM","ZW"],"015":["015","DZ","EA","EG","EH","IC","LY","MA","SD","TN"],"017":["017","AO","CD","CF","CG","CM","GA","GQ","ST","TD"],"018":["018","BW","LS","NA","SZ","ZA"],"019":["003","005","013","019","019-status-grouping","021","029","419","AG","AI","AR","AW","BB","BL","BM","BO","BQ","BR","BS","BV","BZ","CA","CL","CO","CR","CU","CW","DM","DO","EC","FK","GD","GF","GL","GP","GS","GT","GY","HN","HT","JM","KN","KY","LC","MF","MQ","MS","MX","NI","PA","PE","PM","PR","PY","SR","SV","SX","TC","TT","US","UY","VC","VE","VG","VI"],"021":["021","BM","CA","GL","PM","US"],"029":["029","AG","AI","AW","BB","BL","BQ","BS","CU","CW","DM","DO","GD","GP","HT","JM","KN","KY","LC","MF","MQ","MS","PR","SX","TC","TT","VC","VG","VI"],"030":["030","CN","HK","JP","KP","KR","MN","MO","TW"],"034":["034","AF","BD","BT","IN","IR","LK","MV","NP","PK"],"035":["035","BN","ID","KH","LA","MM","MY","PH","SG","TH","TL","VN"],"039":["039","AD","AL","BA","ES","GI","GR","HR","IT","ME","MK","MT","PT","RS","SI","SM","VA","XK"],"053":["053","AU","CC","CX","HM","NF","NZ"],"054":["054","FJ","NC","PG","SB","VU"],"057":["057","FM","GU","KI","MH","MP","NR","PW","UM"],"061":["061","AS","CK","NU","PF","PN","TK","TO","TV","WF","WS"],142:["030","034","035","142","143","145","AE","AF","AM","AZ","BD","BH","BN","BT","CN","CY","GE","HK","ID","IL","IN","IQ","IR","JO","JP","KG","KH","KP","KR","KW","KZ","LA","LB","LK","MM","MN","MO","MV","MY","NP","OM","PH","PK","PS","QA","SA","SG","SY","TH","TJ","TL","TM","TR","TW","UZ","VN","YE"],143:["143","KG","KZ","TJ","TM","UZ"],145:["145","AE","AM","AZ","BH","CY","GE","IL","IQ","JO","KW","LB","OM","PS","QA","SA","SY","TR","YE"],150:["039","150","151","154","155","AD","AL","AT","AX","BA","BE","BG","BY","CH","CQ","CZ","DE","DK","EE","ES","FI","FO","FR","GB","GG","GI","GR","HR","HU","IE","IM","IS","IT","JE","LI","LT","LU","LV","MC","MD","ME","MK","MT","NL","NO","PL","PT","RO","RS","RU","SE","SI","SJ","SK","SM","UA","VA","XK"],151:["151","BG","BY","CZ","HU","MD","PL","RO","RU","SK","UA"],154:["154","AX","CQ","DK","EE","FI","FO","GB","GG","IE","IM","IS","JE","LT","LV","NO","SE","SJ"],155:["155","AT","BE","CH","DE","FR","LI","LU","MC","NL"],202:["011","014","017","018","202","AO","BF","BI","BJ","BW","CD","CF","CG","CI","CM","CV","DJ","ER","ET","GA","GH","GM","GN","GQ","GW","IO","KE","KM","LR","LS","MG","ML","MR","MU","MW","MZ","NA","NE","NG","RE","RW","SC","SH","SL","SN","SO","SS","ST","SZ","TD","TF","TG","TZ","UG","YT","ZA","ZM","ZW"],419:["005","013","029","419","AG","AI","AR","AW","BB","BL","BO","BQ","BR","BS","BV","BZ","CL","CO","CR","CU","CW","DM","DO","EC","FK","GD","GF","GP","GS","GT","GY","HN","HT","JM","KN","KY","LC","MF","MQ","MS","MX","NI","PA","PE","PR","PY","SR","SV","SX","TC","TT","UY","VC","VE","VG","VI"],EU:["AT","BE","BG","CY","CZ","DE","DK","EE","ES","EU","FI","FR","GR","HR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK"],EZ:["AT","BE","CY","DE","EE","ES","EZ","FI","FR","GR","IE","IT","LT","LU","LV","MT","NL","PT","SI","SK"],QO:["AC","AQ","CP","DG","QO","TA"],UN:["AD","AE","AF","AG","AL","AM","AO","AR","AT","AU","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BN","BO","BR","BS","BT","BW","BY","BZ","CA","CD","CF","CG","CH","CI","CL","CM","CN","CO","CR","CU","CV","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","ER","ES","ET","FI","FJ","FM","FR","GA","GB","GD","GE","GH","GM","GN","GQ","GR","GT","GW","GY","HN","HR","HT","HU","ID","IE","IL","IN","IQ","IR","IS","IT","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MG","MH","MK","ML","MM","MN","MR","MT","MU","MV","MW","MX","MY","MZ","NA","NE","NG","NI","NL","NO","NP","NR","NZ","OM","PA","PE","PG","PH","PK","PL","PT","PW","PY","QA","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SI","SK","SL","SM","SN","SO","SR","SS","ST","SV","SY","SZ","TD","TG","TH","TJ","TL","TM","TN","TO","TR","TT","TV","TZ","UA","UG","UN","US","UY","UZ","VC","VE","VN","VU","WS","YE","ZA","ZM","ZW"]},tde=/-u(?:-[0-9a-z]{2,8})+/gi;function Gc(e,t,n){if(n===void 0&&(n=Error),!e)throw new n(t)}var LZe=838,sM;function OZe(){var e,t;if(!sM){var n=(t=(e=rM.supplemental.languageMatching["written-new"][0])===null||e===void 0?void 0:e.paradigmLocales)===null||t===void 0?void 0:t._locales.split(" "),r=rM.supplemental.languageMatching["written-new"].slice(1,5),s=rM.supplemental.languageMatching["written-new"].slice(5),a=s.map(function(i){var l=Object.keys(i)[0],c=i[l];return{supported:l,desired:c._desired,distance:+c._distance,oneway:c.oneway==="true"}},{});sM={matches:a,matchVariables:r.reduce(function(i,l){var c=Object.keys(l)[0],u=l[c];return i[c.slice(1)]=u._value.split("+"),i},{}),paradigmLocales:lt(lt([],n,!0),n.map(function(i){return new Intl.Locale(i.replace(/_/g,"-")).maximize().toString()}),!0)}}return sM}function K3(e,t,n){var r=t.split("-"),s=r[0],a=r[1],i=r[2],l=!0;if(i&&i[0]==="$"){var c=i[1]!=="!",u=c?n[i.slice(1)]:n[i.slice(2)],d=u.map(function(h){return RZe[h]||[h]}).reduce(function(h,m){return lt(lt([],h,!0),m,!0)},[]);l&&(l=d.indexOf(e.region||"")>-1==c)}else l&&(l=e.region?i==="*"||i===e.region:!0);return l&&(l=e.script?a==="*"||a===e.script:!0),l&&(l=e.language?s==="*"||s===e.language:!0),l}function gK(e){return[e.language,e.script,e.region].filter(Boolean).join("-")}function aM(e,t,n){for(var r=0,s=n.matches;r<s.length;r++){var a=s[r],i=K3(e,a.desired,n.matchVariables)&&K3(t,a.supported,n.matchVariables);if(!a.oneway&&!i&&(i=K3(e,a.supported,n.matchVariables)&&K3(t,a.desired,n.matchVariables)),i){var l=a.distance*10;return n.paradigmLocales.indexOf(gK(e))>-1!=n.paradigmLocales.indexOf(gK(t))>-1?l-1:l}}throw new Error("No matching distance found")}function PZe(e,t){var n=new Intl.Locale(e).maximize(),r=new Intl.Locale(t).maximize(),s={language:n.language,script:n.script||"",region:n.region||""},a={language:r.language,script:r.script||"",region:r.region||""},i=0,l=OZe();return s.language!==a.language&&(i+=aM({language:n.language,script:"",region:""},{language:r.language,script:"",region:""},l)),s.script!==a.script&&(i+=aM({language:n.language,script:s.script,region:""},{language:r.language,script:a.script,region:""},l)),s.region!==a.region&&(i+=aM(s,a,l)),i}function IZe(e,t,n){n===void 0&&(n=LZe);var r=1/0,s={matchedDesiredLocale:"",distances:{}};return e.forEach(function(a,i){s.distances[a]||(s.distances[a]={}),t.forEach(function(l){var c=PZe(a,l)+0+i*40;s.distances[a][l]=c,c<r&&(r=c,s.matchedDesiredLocale=a,s.matchedSupportedLocale=l)})}),r>=n&&(s.matchedDesiredLocale=void 0,s.matchedSupportedLocale=void 0),s}function DZe(e,t,n){var r,s,a=[],i=t.reduce(function(c,u){var d=u.replace(tde,"");return a.push(d),c[d]=u,c},{}),l=IZe(a,e);return l.matchedSupportedLocale&&l.matchedDesiredLocale&&(r=l.matchedSupportedLocale,s=i[l.matchedDesiredLocale].slice(l.matchedDesiredLocale.length)||void 0),r?{locale:r,extension:s}:{locale:n()}}function FZe(e,t){var n=t.toLowerCase();Gc(e!==void 0,"ukey must be defined");var r=n;return r}function vK(e){return Intl.getCanonicalLocales(e)[0]}function UZe(e,t,n){Gc(e.indexOf("-u-")===-1,"Expected locale to not have a Unicode locale extension");for(var r="-u",s=0,a=t;s<a.length;s++){var i=a[s];r+="-".concat(i)}for(var l=0,c=n;l<c.length;l++){var u=c[l],d=u.key,h=u.value;r+="-".concat(d),h!==""&&(r+="-".concat(h))}if(r==="-u")return vK(e);var m=e.indexOf("-x-"),g;if(m===-1)g=e+r;else{var v=e.slice(0,m),x=e.slice(m);g=v+r+x}return vK(g)}function BZe(e,t){for(var n=t;;){if(e.indexOf(n)>-1)return n;var r=n.lastIndexOf("-");if(!~r)return;r>=2&&n[r-2]==="-"&&(r-=2),n=n.slice(0,r)}}function VZe(e,t,n){for(var r={locale:""},s=0,a=t;s<a.length;s++){var i=a[s],l=i.replace(tde,""),c=BZe(e,l);if(c)return r.locale=c,i!==l&&(r.extension=i.slice(l.length,i.length)),r}return r.locale=n(),r}function zZe(e){Gc(e===e.toLowerCase(),"Expected extension to be lowercase"),Gc(e.slice(0,3)==="-u-","Expected extension to be a Unicode locale extension");for(var t=[],n=[],r,s=e.length,a=3;a<s;){var i=e.indexOf("-",a),l=void 0;i===-1?l=s-a:l=i-a;var c=e.slice(a,a+l);Gc(l>=2,"Expected a subtag to have at least 2 characters"),r===void 0&&l!=2?t.indexOf(c)===-1&&t.push(c):l===2?(r={key:c,value:""},n.find(function(u){return u.key===r?.key})===void 0&&n.push(r)):r?.value===""?r.value=c:(Gc(r!==void 0,"Expected keyword to be defined"),r.value+="-"+c),a+=l+1}return{attributes:t,keywords:n}}function HZe(e,t,n,r,s,a){var i,l=n.localeMatcher,c;l==="lookup"?c=VZe(Array.from(e),t,a):c=DZe(Array.from(e),t,a),c==null&&(c={locale:a(),extension:""});var u=c.locale,d=s[u],h={locale:"en",dataLocale:u},m,g;c.extension?(m=zZe(c.extension),g=m.keywords):g=[];for(var v=[],x=function(k){var E=(i=d?.[k])!==null&&i!==void 0?i:[];Gc(Array.isArray(E),"keyLocaleData for ".concat(k," must be an array"));var T=E[0];Gc(T===void 0||typeof T=="string","value must be a string or undefined");var j=void 0,N=g.find(function(B){return B.key===k});if(N){var R=N.value;R!==""?E.indexOf(R)>-1&&(T=R,j={key:k,value:T}):E.indexOf("true")>-1&&(T="true",j={key:k,value:T})}var O=n[k];if(Gc(O==null||typeof O=="string","optionsValue must be a string or undefined"),typeof O=="string"){var I=k.toLowerCase();O=FZe(I,O),O===""&&(O="true")}O!==T&&E.indexOf(O)>-1&&(T=O,j=void 0),j&&v.push(j),h[k]=T},b=0,w=r;b<w.length;b++){var C=w[b];x(C)}var S=[];return v.length>0&&(S=[],u=UZe(u,S,v)),h.locale=u,h}function WZe(e,t,n,r){return HZe(t,AZe(e),{localeMatcher:"best fit"},[],{},function(){return n}).locale}const Fd="en-US",eD={"ar-SA":{characterOrder:"rtl",displayName:"العربية (المملكة العربية السعودية)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./ar-SA-DXoQcf9x.js");return{default:e}},[])).default},"bn-BD":{characterOrder:"ltr",displayName:"বাংলা (বাংলাদেশ)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./bn-BD-BHRbfMcZ.js");return{default:e}},[])).default},"cs-CZ":{characterOrder:"ltr",displayName:"čeština (Česko)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./cs-CZ-HYDsW5Fa.js");return{default:e}},[])).default},"de-DE":{characterOrder:"ltr",displayName:"Deutsch (Deutschland)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./de-DE-C0ZEUVx4.js");return{default:e}},[])).default},"el-GR":{characterOrder:"ltr",displayName:"Ελληνικά (Ελλάδα)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./el-GR-wNGf1NE4.js");return{default:e}},[])).default},"en-US":{characterOrder:"ltr",displayName:"American English",translations:async()=>Promise.resolve({})},"es-ES":{characterOrder:"ltr",displayName:"español de España",translations:async()=>(await Me(async()=>{const{default:e}=await import("./es-ES-Cg7GXhTP.js");return{default:e}},[])).default},"fr-FR":{characterOrder:"ltr",displayName:"français (France)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./fr-FR-DyycHjS3.js");return{default:e}},[])).default},"hi-IN":{characterOrder:"ltr",displayName:"हिन्दी (भारत)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./hi-IN-CcdnYxvc.js");return{default:e}},[])).default},"hr-HR":{characterOrder:"ltr",displayName:"hrvatski (Hrvatska)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./hr-HR-C3PkS9Hr.js");return{default:e}},[])).default},"hu-HU":{characterOrder:"ltr",displayName:"magyar (Magyarország)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./hu-HU-z4Mt-FXj.js");return{default:e}},[])).default},"id-ID":{characterOrder:"ltr",displayName:"Indonesia (Indonesia)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./id-ID-NZJlxlxg.js");return{default:e}},[])).default},"it-IT":{characterOrder:"ltr",displayName:"italiano (Italia)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./it-IT-C9oZAhya.js");return{default:e}},[])).default},"ja-JP":{characterOrder:"ltr",displayName:"日本語 (日本)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./ja-JP-C0ZHI6g2.js");return{default:e}},[])).default},"kn-IN":{characterOrder:"ltr",displayName:"ಕನ್ನಡ (ಭಾರತ)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./kn-IN-Dg4IRTjY.js");return{default:e}},[])).default},"ko-KR":{characterOrder:"ltr",displayName:"한국어(대한민국)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./ko-KR-CXF5tUKb.js");return{default:e}},[])).default},"ml-IN":{characterOrder:"ltr",displayName:"മലയാളം (ഇന്ത്യ)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./ml-IN-C8h9KKYG.js");return{default:e}},[])).default},"mr-IN":{characterOrder:"ltr",displayName:"मराठी (भारत)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./mr-IN-mbJ3EI-E.js");return{default:e}},[])).default},"nl-NL":{characterOrder:"ltr",displayName:"Nederlands (Nederland)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./nl-NL-DmAq1TR0.js");return{default:e}},[])).default},"pl-PL":{characterOrder:"ltr",displayName:"polski (Polska)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./pl-PL-DIxYHOlm.js");return{default:e}},[])).default},"pt-BR":{characterOrder:"ltr",displayName:"português (Brasil)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./pt-BR-C0QWAHT9.js");return{default:e}},[])).default},"pt-PT":{characterOrder:"ltr",displayName:"português europeu",translations:async()=>(await Me(async()=>{const{default:e}=await import("./pt-PT-C45jHcgh.js");return{default:e}},[])).default},"ro-RO":{characterOrder:"ltr",displayName:"română (România)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./ro-RO-DsHI_H__.js");return{default:e}},[])).default},"ru-RU":{characterOrder:"ltr",displayName:"русский (Россия)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./ru-RU-EOJidOeR.js");return{default:e}},[])).default},"sk-SK":{characterOrder:"ltr",displayName:"slovenčina (Slovensko)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./sk-SK-UvDxTFCV.js");return{default:e}},[])).default},"sr-Cyrl-ME":{characterOrder:"ltr",displayName:"српски (ћирилица, Црна Гора)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./sr-Cyrl-ME-Dd7mwdE1.js");return{default:e}},[])).default},"ta-IN":{characterOrder:"ltr",displayName:"தமிழ் (இந்தியா)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./ta-IN-C3JrK5Us.js");return{default:e}},[])).default},"te-IN":{characterOrder:"ltr",displayName:"తెలుగు (భారతదేశం)",translations:async()=>(await Me(async()=>{const{default:e}=await import("./te-IN-5cv1qmpn.js");return{default:e}},[])).default},"zh-CN":{characterOrder:"ltr",displayName:"简体中文",translations:async()=>(await Me(async()=>{const{default:e}=await import("./zh-CN-B4YuA_1j.js");return{default:e}},[])).default},"zh-TW":{characterOrder:"ltr",displayName:"繁體中文",translations:async()=>(await Me(async()=>{const{default:e}=await import("./zh-TW-CLPbtYwE.js");return{default:e}},[])).default}},$Ze="pplx.chosen-locale",tD=new Intl.DateTimeFormat().resolvedOptions().timeZone,M5=Object.keys(eD),qZe=Object.entries(eD).map(([e,t])=>({locale:e,label:t.displayName,characterOrder:t.characterOrder})),nde=(e,t=M5)=>{try{return WZe(e,t,Fd)}catch{return Fd}};async function GZe(e=Fd){const t=nde(Array.isArray(e)?e:[e]);if(t===Fd)return Promise.resolve({matchedLocale:t,translations:{}});const n=await eD[t].translations()??{};return Promise.resolve({matchedLocale:t,translations:n})}function Sd(){const t=[new URL(globalThis.location.href).searchParams.get("locale"),Wn($Ze),globalThis.navigator.language].filter(n=>!!n);return nde(t)}let Zm;const rde=new URL("/ws",WPe());rde.protocol="wss:";async function sde(){return Zm||(Zm=new Promise(e=>{const t=new WebSocket(rde);t.addEventListener("error",()=>{try{t.close()}finally{Zm=void 0}}),t.addEventListener("close",()=>{Zm=void 0}),t.addEventListener("open",()=>{e(t)})}),Zm)}var YZe={};function KZe(){return typeof window>"u"||window.location.hostname.includes("localhost")?new URL(oq,dIe()):new URL(oq,window.location.origin)}const QZe=KZe();function ade(e){return navigator.sendBeacon(QZe,new Blob([JSON.stringify(e)],{type:"application/json; charset=UTF-8"}))}function ide(){const e={};try{navigator.hardwareConcurrency&&(e.hardwareConcurrency=navigator.hardwareConcurrency);const t=new Float32Array(1),n=new Uint8Array(t.buffer);t[0]=1/0,t[0]=t[0]-t[0];const r=n[3];r&&(e.architecture=r),globalThis.screen.colorDepth&&(e.colorDepth=globalThis.screen.colorDepth),globalThis.screen.width&&globalThis.screen.height&&(e.screenSize=`${globalThis.screen.width}x${globalThis.screen.height}`)}catch{}return e}const XZe=ide(),ZZe=(e={},t)=>{const n=Date.now(),r={...e,isStandaloneApp:!1,timestamp:n,isBrowserExtension:!1,timeZone:tD,isPro:t?.user?.subscription_status&&t?.user?.subscription_status!=="none",userId:t?.user?.id,deviceInfo:XZe},s=globalThis.location.pathname+globalThis.location.search,a=!!getComputedStyle(document.documentElement).getPropertyValue("--arc-palette-title"),i=ide(),l=Wn(hj),c=Wn(mj);let u;return r.internalReferrer?u=r.internalReferrer:u=document.referrer,(globalThis.matchMedia("(display-mode: standalone)").matches||globalThis.matchMedia("(display-mode: minimal-ui)").matches||globalThis.navigator?.standalone)&&(r.isStandaloneApp=!0),{eventData:r,pathnameAndParams:s,visitorId:l,isArcBrowser:a,sessionId:c,deviceInfo:i,referrer:u}};function ode(e){const{name:t,data:n,session:r,source:s}=e,{eventData:a,visitorId:i,sessionId:l,pathnameAndParams:c,deviceInfo:u,referrer:d,isArcBrowser:h}=ZZe(n,r);return c.startsWith("/search/render")?void 0:(YZe.NEXT_PUBLIC_EVENT_DEBUG_PRINT&&le.log(`[trackEvent] ${t}: `,a),{event_name:t,event_data:a,visitor_id:i??"",session_id:l??"",url:c,referrer:d,language:Sd(),screen:Q_(),hostname:globalThis.location.hostname,device_info:u,is_arc_browser:h,source:s})}function Il(e){const t=ode(e);t&&(ade(t)||(Ld("web.browser.analytics.send_event_failed"),sde().then(n=>{n.send(JSON.stringify(t))})))}function JZe(e){const t=e.map(n=>ode(n)).filter(n=>n!==void 0);t.length!==0&&(ade(t)||(Ld("web.browser.analytics.send_event_failed"),sde().then(n=>{n.send(JSON.stringify(t))})))}function Q_(){return`${globalThis.screen.width}x${globalThis.screen.height}`}const yK=Object.freeze({});function ga(){return typeof window<"u"?window.__PPL_CONFIG__??yK:yK}var Vv={exports:{}},eJe=Vv.exports,xK;function tJe(){return xK||(xK=1,function(e,t){(function(n,r){var s="",a="?",i="function",l="undefined",c="object",u="string",d="major",h="model",m="name",g="type",v="vendor",x="version",b="architecture",w="console",C="mobile",S="tablet",k="smarttv",E="wearable",T="embedded",j=500,N="Amazon",R="Apple",O="ASUS",I="BlackBerry",B="Browser",D="Chrome",z="Edge",V="Firefox",U="Google",H="Huawei",q="LG",$="Microsoft",G="Motorola",K="Opera",ee="Samsung",oe="Sharp",ne="Sony",te="Xiaomi",re="Zebra",X="Facebook",ce="Chromium OS",se="Mac OS",J=function($e,tt){var at={};for(var xe in $e)tt[xe]&&tt[xe].length%2===0?at[xe]=tt[xe].concat($e[xe]):at[xe]=$e[xe];return at},de=function($e){for(var tt={},at=0;at<$e.length;at++)tt[$e[at].toUpperCase()]=$e[at];return tt},ie=function($e,tt){return typeof $e===u?he(tt).indexOf(he($e))!==-1:!1},he=function($e){return $e.toLowerCase()},pe=function($e){return typeof $e===u?$e.replace(/[^\d\.]/g,s).split(".")[0]:r},ge=function($e,tt){if(typeof $e===u)return $e=$e.replace(/^\s\s*/,s),typeof tt===l?$e:$e.substring(0,j)},Ce=function($e,tt){for(var at=0,xe,Oe,Qe,Ge,ze,Ze;at<tt.length&&!ze;){var St=tt[at],It=tt[at+1];for(xe=Oe=0;xe<St.length&&!ze&&St[xe];)if(ze=St[xe++].exec($e),ze)for(Qe=0;Qe<It.length;Qe++)Ze=ze[++Oe],Ge=It[Qe],typeof Ge===c&&Ge.length>0?Ge.length===2?typeof Ge[1]==i?this[Ge[0]]=Ge[1].call(this,Ze):this[Ge[0]]=Ge[1]:Ge.length===3?typeof Ge[1]===i&&!(Ge[1].exec&&Ge[1].test)?this[Ge[0]]=Ze?Ge[1].call(this,Ze,Ge[2]):r:this[Ge[0]]=Ze?Ze.replace(Ge[1],Ge[2]):r:Ge.length===4&&(this[Ge[0]]=Ze?Ge[3].call(this,Ze.replace(Ge[1],Ge[2])):r):this[Ge]=Ze||r;at+=2}},we=function($e,tt){for(var at in tt)if(typeof tt[at]===c&&tt[at].length>0){for(var xe=0;xe<tt[at].length;xe++)if(ie(tt[at][xe],$e))return at===a?r:at}else if(ie(tt[at],$e))return at===a?r:at;return $e},Pe={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ot={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Be={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[x,[m,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[x,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,x],[/opios[\/ ]+([\w\.]+)/i],[x,[m,K+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[x,[m,K+" GX"]],[/\bopr\/([\w\.]+)/i],[x,[m,K]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[x,[m,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[m,x],[/\bddg\/([\w\.]+)/i],[x,[m,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[x,[m,"UC"+B]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[x,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[x,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[x,[m,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[x,[m,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[x,[m,"Smart Lenovo "+B]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure "+B],x],[/\bfocus\/([\w\.]+)/i],[x,[m,V+" Focus"]],[/\bopt\/([\w\.]+)/i],[x,[m,K+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[x,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[x,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[x,[m,K+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[x,[m,"MIUI "+B]],[/fxios\/([-\w\.]+)/i],[x,[m,V]],[/\bqihu|(qi?ho?o?|360)browser/i],[[m,"360 "+B]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1 "+B],x],[/samsungbrowser\/([\w\.]+)/i],[x,[m,ee+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[m,/_/g," "],x],[/metasr[\/ ]?([\d\.]+)/i],[x,[m,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[m,"Sogou Mobile"],x],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[m,x],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,X],x],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[m,x],[/\bgsa\/([\w\.]+) .*safari\//i],[x,[m,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[x,[m,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[x,[m,D+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,D+" WebView"],x],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[x,[m,"Android "+B]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,x],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[x,[m,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[x,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[x,we,Pe]],[/(webkit|khtml)\/([\w\.]+)/i],[m,x],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],x],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[x,[m,V+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[m,x],[/(cobalt)\/([\w\.]+)/i],[m,[x,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,he]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows (ce|mobile); ppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[b,/ower/,s,he]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,he]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[v,ee],[g,S]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[v,ee],[g,C]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[v,R],[g,C]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[v,R],[g,S]],[/(macintosh);/i],[h,[v,R]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[v,oe],[g,C]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[v,H],[g,S]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[v,H],[g,C]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[v,te],[g,C]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[v,te],[g,S]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[v,"OPPO"],[g,C]],[/\b(opd2\d{3}a?) bui/i],[h,[v,"OPPO"],[g,S]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[v,"Vivo"],[g,C]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[h,[v,"Realme"],[g,C]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[v,G],[g,C]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[v,G],[g,S]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[v,q],[g,S]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[v,q],[g,C]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[v,"Lenovo"],[g,S]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[v,"Nokia"],[g,C]],[/(pixel c)\b/i],[h,[v,U],[g,S]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[v,U],[g,C]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[v,ne],[g,C]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[v,ne],[g,S]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[v,"OnePlus"],[g,C]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[v,N],[g,S]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[v,N],[g,C]],[/(playbook);[-\w\),; ]+(rim)/i],[h,v,[g,S]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[v,I],[g,C]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[v,O],[g,S]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[v,O],[g,C]],[/(nexus 9)/i],[h,[v,"HTC"],[g,S]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[v,[h,/_/g," "],[g,C]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[v,"Acer"],[g,S]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[v,"Meizu"],[g,C]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[h,[v,"Ulefone"],[g,C]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[v,h,[g,C]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[v,h,[g,S]],[/(surface duo)/i],[h,[v,$],[g,S]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[v,"Fairphone"],[g,C]],[/(u304aa)/i],[h,[v,"AT&T"],[g,C]],[/\bsie-(\w*)/i],[h,[v,"Siemens"],[g,C]],[/\b(rct\w+) b/i],[h,[v,"RCA"],[g,S]],[/\b(venue[\d ]{2,7}) b/i],[h,[v,"Dell"],[g,S]],[/\b(q(?:mv|ta)\w+) b/i],[h,[v,"Verizon"],[g,S]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[v,"Barnes & Noble"],[g,S]],[/\b(tm\d{3}\w+) b/i],[h,[v,"NuVision"],[g,S]],[/\b(k88) b/i],[h,[v,"ZTE"],[g,S]],[/\b(nx\d{3}j) b/i],[h,[v,"ZTE"],[g,C]],[/\b(gen\d{3}) b.+49h/i],[h,[v,"Swiss"],[g,C]],[/\b(zur\d{3}) b/i],[h,[v,"Swiss"],[g,S]],[/\b((zeki)?tb.*\b) b/i],[h,[v,"Zeki"],[g,S]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[v,"Dragon Touch"],h,[g,S]],[/\b(ns-?\w{0,9}) b/i],[h,[v,"Insignia"],[g,S]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[v,"NextBook"],[g,S]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[v,"Voice"],h,[g,C]],[/\b(lvtel\-)?(v1[12]) b/i],[[v,"LvTel"],h,[g,C]],[/\b(ph-1) /i],[h,[v,"Essential"],[g,C]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[v,"Envizen"],[g,S]],[/\b(trio[-\w\. ]+) b/i],[h,[v,"MachSpeed"],[g,S]],[/\btu_(1491) b/i],[h,[v,"Rotor"],[g,S]],[/(shield[\w ]+) b/i],[h,[v,"Nvidia"],[g,S]],[/(sprint) (\w+)/i],[v,h,[g,C]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[v,$],[g,C]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[v,re],[g,S]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[v,re],[g,C]],[/smart-tv.+(samsung)/i],[v,[g,k]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[v,ee],[g,k]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[v,q],[g,k]],[/(apple) ?tv/i],[v,[h,R+" TV"],[g,k]],[/crkey/i],[[h,D+"cast"],[v,U],[g,k]],[/droid.+aft(\w+)( bui|\))/i],[h,[v,N],[g,k]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[v,oe],[g,k]],[/(bravia[\w ]+)( bui|\))/i],[h,[v,ne],[g,k]],[/(mitv-\w{5}) bui/i],[h,[v,te],[g,k]],[/Hbbtv.*(technisat) (.*);/i],[v,h,[g,k]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[v,ge],[h,ge],[g,k]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,k]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[v,h,[g,w]],[/droid.+; (shield) bui/i],[h,[v,"Nvidia"],[g,w]],[/(playstation [345portablevi]+)/i],[h,[v,ne],[g,w]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[v,$],[g,w]],[/((pebble))app/i],[v,h,[g,E]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[v,R],[g,E]],[/droid.+; (glass) \d/i],[h,[v,U],[g,E]],[/droid.+; (wt63?0{2,3})\)/i],[h,[v,re],[g,E]],[/(quest( \d| pro)?)/i],[h,[v,X],[g,E]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[v,[g,T]],[/(aeobc)\b/i],[h,[v,N],[g,T]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[h,[g,C]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[g,S]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,S]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,C]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[v,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[x,[m,z+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[x,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[m,x],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[x,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,x],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[m,[x,we,ot]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[x,we,ot],[m,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[x,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,se],[x,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[x,m],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[m,x],[/\(bb(10);/i],[x,[m,I]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[x,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[x,[m,V+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[x,[m,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[x,[m,"watchOS"]],[/crkey\/([\d\.]+)/i],[x,[m,D+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[m,ce],x],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,x],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],x],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[m,x]]},Ee=function($e,tt){if(typeof $e===c&&(tt=$e,$e=r),!(this instanceof Ee))return new Ee($e,tt).getResult();var at=typeof n!==l&&n.navigator?n.navigator:r,xe=$e||(at&&at.userAgent?at.userAgent:s),Oe=at&&at.userAgentData?at.userAgentData:r,Qe=tt?J(Be,tt):Be,Ge=at&&at.userAgent==xe;return this.getBrowser=function(){var ze={};return ze[m]=r,ze[x]=r,Ce.call(ze,xe,Qe.browser),ze[d]=pe(ze[x]),Ge&&at&&at.brave&&typeof at.brave.isBrave==i&&(ze[m]="Brave"),ze},this.getCPU=function(){var ze={};return ze[b]=r,Ce.call(ze,xe,Qe.cpu),ze},this.getDevice=function(){var ze={};return ze[v]=r,ze[h]=r,ze[g]=r,Ce.call(ze,xe,Qe.device),Ge&&!ze[g]&&Oe&&Oe.mobile&&(ze[g]=C),Ge&&ze[h]=="Macintosh"&&at&&typeof at.standalone!==l&&at.maxTouchPoints&&at.maxTouchPoints>2&&(ze[h]="iPad",ze[g]=S),ze},this.getEngine=function(){var ze={};return ze[m]=r,ze[x]=r,Ce.call(ze,xe,Qe.engine),ze},this.getOS=function(){var ze={};return ze[m]=r,ze[x]=r,Ce.call(ze,xe,Qe.os),Ge&&!ze[m]&&Oe&&Oe.platform&&Oe.platform!="Unknown"&&(ze[m]=Oe.platform.replace(/chrome os/i,ce).replace(/macos/i,se)),ze},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return xe},this.setUA=function(ze){return xe=typeof ze===u&&ze.length>j?ge(ze,j):ze,this},this.setUA(xe),this};Ee.BROWSER=de([m,x,d]),Ee.CPU=de([b]),Ee.DEVICE=de([h,v,g,w,C,k,S,E,T]),Ee.ENGINE=Ee.OS=de([m,x]),e.exports&&(t=e.exports=Ee),t.UAParser=Ee;var st=typeof n!==l&&(n.jQuery||n.Zepto);if(st&&!st.ua){var et=new Ee;st.ua=et.getResult(),st.ua.get=function(){return et.getUA()},st.ua.set=function($e){et.setUA($e);var tt=et.getResult();for(var at in tt)st.ua[at]=tt[at]}}})(typeof window=="object"?window:eJe)}(Vv,Vv.exports)),Vv.exports}tJe();const nJe=/\{[^{}]+\}/g,rJe=()=>typeof process=="object"&&Number.parseInt(process?.versions?.node?.substring(0,2))>=18&&process.versions.undici;function sJe(){return Math.random().toString(36).slice(2,11)}function aJe(e){let{baseUrl:t="",Request:n=globalThis.Request,fetch:r=globalThis.fetch,querySerializer:s,bodySerializer:a,headers:i,requestInitExt:l=void 0,...c}={...e};l=rJe()?l:void 0,t=wK(t);const u=[];async function d(h,m){const{baseUrl:g,fetch:v=r,Request:x=n,headers:b,params:w={},parseAs:C="json",querySerializer:S,bodySerializer:k=a??oJe,body:E,...T}=m||{};g&&(t=wK(g));let j=typeof s=="function"?s:bK(s);S&&(j=typeof S=="function"?S:bK({...typeof s=="object"?s:{},...S}));const N=E===void 0?void 0:k(E),R=N===void 0||N instanceof FormData?{}:{"Content-Type":"application/json"},O={redirect:"follow",...c,...T,body:N,headers:cJe(R,i,b,w.header)};let I,B,D=new n(lJe(h,{baseUrl:t,params:w,querySerializer:j}),O),z;for(const U in T)U in D||(D[U]=T[U]);if(u.length){I=sJe(),B=Object.freeze({baseUrl:t,fetch:v,parseAs:C,querySerializer:j,bodySerializer:k});for(const U of u)if(U&&typeof U=="object"&&typeof U.onRequest=="function"){const H=await U.onRequest({request:D,schemaPath:h,params:w,options:B,id:I});if(H)if(H instanceof n)D=H;else if(H instanceof Response){z=H;break}else throw new Error("onRequest: must return new Request() or Response() when modifying the request")}}if(!z){try{z=await v(D,l)}catch(U){let H=U;if(u.length)for(let q=u.length-1;q>=0;q--){const $=u[q];if($&&typeof $=="object"&&typeof $.onError=="function"){const G=await $.onError({request:D,error:H,schemaPath:h,params:w,options:B,id:I});if(G){if(G instanceof Response){H=void 0,z=G;break}if(G instanceof Error){H=G;continue}throw new Error("onError: must return new Response() or instance of Error")}}}if(H)throw H}if(u.length)for(let U=u.length-1;U>=0;U--){const H=u[U];if(H&&typeof H=="object"&&typeof H.onResponse=="function"){const q=await H.onResponse({request:D,response:z,schemaPath:h,params:w,options:B,id:I});if(q){if(!(q instanceof Response))throw new Error("onResponse: must return new Response() when modifying the response");z=q}}}}if(z.status===204||z.headers.get("Content-Length")==="0")return z.ok?{data:void 0,response:z}:{error:void 0,response:z};if(z.ok)return C==="stream"?{data:z.body,response:z}:{data:await z[C](),response:z};let V=await z.text();try{V=JSON.parse(V)}catch{}return{error:V,response:z}}return{request(h,m,g){return d(m,{...g,method:h.toUpperCase()})},GET(h,m){return d(h,{...m,method:"GET"})},PUT(h,m){return d(h,{...m,method:"PUT"})},POST(h,m){return d(h,{...m,method:"POST"})},DELETE(h,m){return d(h,{...m,method:"DELETE"})},OPTIONS(h,m){return d(h,{...m,method:"OPTIONS"})},HEAD(h,m){return d(h,{...m,method:"HEAD"})},PATCH(h,m){return d(h,{...m,method:"PATCH"})},TRACE(h,m){return d(h,{...m,method:"TRACE"})},use(...h){for(const m of h)if(m){if(typeof m!="object"||!("onRequest"in m||"onResponse"in m||"onError"in m))throw new Error("Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`");u.push(m)}},eject(...h){for(const m of h){const g=u.indexOf(m);g!==-1&&u.splice(g,1)}}}}function X_(e,t,n){if(t==null)return"";if(typeof t=="object")throw new Error("Deeply-nested arrays/objects aren’t supported. Provide your own `querySerializer()` to handle these.");return`${e}=${n?.allowReserved===!0?t:encodeURIComponent(t)}`}function lde(e,t,n){if(!t||typeof t!="object")return"";const r=[],s={simple:",",label:".",matrix:";"}[n.style]||"&";if(n.style!=="deepObject"&&n.explode===!1){for(const l in t)r.push(l,n.allowReserved===!0?t[l]:encodeURIComponent(t[l]));const i=r.join(",");switch(n.style){case"form":return`${e}=${i}`;case"label":return`.${i}`;case"matrix":return`;${e}=${i}`;default:return i}}for(const i in t){const l=n.style==="deepObject"?`${e}[${i}]`:i;r.push(X_(l,t[i],n))}const a=r.join(s);return n.style==="label"||n.style==="matrix"?`${s}${a}`:a}function cde(e,t,n){if(!Array.isArray(t))return"";if(n.explode===!1){const a={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[n.style]||",",i=(n.allowReserved===!0?t:t.map(l=>encodeURIComponent(l))).join(a);switch(n.style){case"simple":return i;case"label":return`.${i}`;case"matrix":return`;${e}=${i}`;default:return`${e}=${i}`}}const r={simple:",",label:".",matrix:";"}[n.style]||"&",s=[];for(const a of t)n.style==="simple"||n.style==="label"?s.push(n.allowReserved===!0?a:encodeURIComponent(a)):s.push(X_(e,a,n));return n.style==="label"||n.style==="matrix"?`${r}${s.join(r)}`:s.join(r)}function bK(e){return function(n){const r=[];if(n&&typeof n=="object")for(const s in n){const a=n[s];if(a!=null){if(Array.isArray(a)){if(a.length===0)continue;r.push(cde(s,a,{style:"form",explode:!0,...e?.array,allowReserved:e?.allowReserved||!1}));continue}if(typeof a=="object"){r.push(lde(s,a,{style:"deepObject",explode:!0,...e?.object,allowReserved:e?.allowReserved||!1}));continue}r.push(X_(s,a,e))}}return r.join("&")}}function iJe(e,t){let n=e;for(const r of e.match(nJe)??[]){let s=r.substring(1,r.length-1),a=!1,i="simple";if(s.endsWith("*")&&(a=!0,s=s.substring(0,s.length-1)),s.startsWith(".")?(i="label",s=s.substring(1)):s.startsWith(";")&&(i="matrix",s=s.substring(1)),!t||t[s]===void 0||t[s]===null)continue;const l=t[s];if(Array.isArray(l)){n=n.replace(r,cde(s,l,{style:i,explode:a}));continue}if(typeof l=="object"){n=n.replace(r,lde(s,l,{style:i,explode:a}));continue}if(i==="matrix"){n=n.replace(r,`;${X_(s,l)}`);continue}n=n.replace(r,i==="label"?`.${encodeURIComponent(l)}`:encodeURIComponent(l))}return n}function oJe(e){return e instanceof FormData?e:JSON.stringify(e)}function lJe(e,t){let n=`${t.baseUrl}${e}`;t.params?.path&&(n=iJe(n,t.params.path));let r=t.querySerializer(t.params.query??{});return r.startsWith("?")&&(r=r.substring(1)),r&&(n+=`?${r}`),n}function cJe(...e){const t=new Headers;for(const n of e){if(!n||typeof n!="object")continue;const r=n instanceof Headers?n.entries():Object.entries(n);for(const[s,a]of r)if(a===null)t.delete(s);else if(Array.isArray(a))for(const i of a)t.append(s,i);else a!==void 0&&t.set(s,a)}return t}function wK(e){return e.endsWith("/")?e.substring(0,e.length-1):e}function uJe(e){return aJe(e)}const Gf="x-perplexity-request-reason",dJe=()=>{const e=uJe({baseUrl:"https://perplexity.ai/",fetch:async t=>{const n=new URL(t.url),r=n.pathname,s=n.searchParams,a=await t.text(),i=t.headers.get(Gf)??"typedRestAsyncClient";return or({urlPath:s.size>0?`${r}?${s.toString()}`:r,method:t.method,body:a||void 0,headers:t.headers,timeoutMs:t.timeoutMs,numRetries:t.numRetries,backOffTime:t.backOffTime,reason:i})}});return{...e,GET:(t,n,r)=>e.GET(t,{...r||{},headers:{...r?.headers||{},[Gf]:n}}),POST:(t,n,r)=>e.POST(t,{...r||{},headers:{...r?.headers||{},[Gf]:n}}),PUT:(t,n,r)=>e.PUT(t,{...r||{},headers:{...r?.headers||{},[Gf]:n}}),PATCH:(t,n,r)=>e.PATCH(t,{...r||{},headers:{...r?.headers||{},[Gf]:n}}),DELETE:(t,n,r)=>e.DELETE(t,{...r||{},headers:{...r?.headers||{},[Gf]:n}}),SSE:(t,n,{path:r,...s})=>(r&&Object.entries(r).forEach(([a,i])=>{t=t.replace(`{${a}}`,i)}),$Pe({url:t,...s||{},headers:{...s?.headers||{},[Gf]:n}}))}},me=dJe(),Ur={DEFAULT:1200,LOW:2500,MEDIUM:5e3,HIGH:1e4,VERY_HIGH:3e4,EXREMELY_HIGH:9e4,NONE:0};class pt extends sx{name="ApiClientsError"}const ude=e=>e.trim().replace(/\/+$/,"").replace(/^(?:https?:\/\/)?(?:www\.)?/,""),TYt=e=>!!new RegExp("^((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,})(\\/[\\w\\-._~:/@!$&'()*+,;=%.]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e);function no(e){const t=/(?:https?:\/\/)?(?:www\.)?([a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*(?:\.[a-zA-Z]{2,})?|localhost|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?::\d+)?/,n=e.match(t);return n&&n.length>0?n[1]||n[0]:"unknown"}function dde(e){const t=no(e);return t==="unknown"?"unknown":t.replace(/\.[^.]*$/,"")}function Z_(e){return e.includes("calendar.google.com")||e.includes("google.com/calendar")?"https://calendar.google.com":e.includes("mail.google.com")||e.includes("google.com/mail")?"https://mail.google.com":e.startsWith("chrome://")?"www.perplexity.ai":no(e)}function NYt(e){return e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`}function sf(e){const t=["(?:youtube?\\.com\\/","(?:[^/\\n\\s]+\\/\\S+\\/","|(?:v|e(?:mbed)?)\\/","|\\S*?[?&]v=",")","|youtu\\.be\\/",")([a-zA-Z0-9_-]{11})"].join(""),n=new RegExp(t),r=e.match(n);if(r&&r[1].length==11)return r[1]}const jYt=e=>e.indexOf("unsplash.com")>-1;function f2(e){return e.startsWith("https://pplx-res.cloudinary.com/")||e.startsWith("https://api.cloudinary.com/v1_1/pplx/image/download")}function AYt(e){return e.includes("code-interpreter-files.s3.amazonaws.com")||e.includes("pplx_code_interpreter")}function lA(e){return e.replace(/\/s--[^/]+--\/v\d+\//,"/")}function fde(e){return(!e.is_attachment||e.meta_data?.connection_type)&&!!e.url&&!sf(e.url)&&!f2(e.url)&&!e.is_memory&&!e.is_conversation_history}const hde=e=>{try{const r=new URL(e).pathname.replace(/^\//,"").split("/"),s=r[r.length-1];return decodeURIComponent(s)}catch{return"File"}},fJe=e=>{const t=e,n=t.indexOf("/"),r=Math.max(23,n+16);return t.length>r?t.substring(0,r-1)+"…":t},RYt=e=>`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(e)}`;function mde(e,t){let n=e;const r=e.match(/{([^}]+)}/g)||[];for(const s of r){const a=s.slice(1,-1);t[a]!==void 0?n=n.replace(s,t[a]):n=n.replace(s,"")}try{return new URL(n).toString()}catch{return n}}function LYt(e){return e.includes("https://openai.com/index/image-generation-api/")}const OYt=async e=>{const t=[];return await Promise.all(e.map(async n=>{try{(await fetch(n,{method:"HEAD"})).ok&&t.push(n)}catch(r){console.debug(`URL ${n} is not reachable:`,r)}})),t},J_=e=>{try{const t=new URL(e);return["AWSAccessKeyId","Signature","Expires"].every(n=>t.searchParams.has(n))}catch{return!1}},_K=e=>{if(!e)return"";const t=e.indexOf("?");return t===-1?e:e.substring(0,t)},Qp={COPILOT:"COPILOT",ARTICLE:"ARTICLE"},pde={IN_PROGRESS:"IN_PROGRESS",COMPLETED:"COMPLETED"},Q3={SELECTED:"SELECTED",REVIEWED:"REVIEWED",REVIEWING:"REVIEWING",UNSORTED:"UNSORTED"},Jm={CLICK:"CLICK",FILL:"FILL",SEARCH:"SEARCH",NAVIGATE:"NAVIGATE",SCROLL_PAGE:"SCROLL_PAGE",WAIT:"WAIT"},cA={DOWN:"DOWN"},iM={HISTORY:"HISTORY",OPEN_TABS:"OPEN_TABS",RECENTLY_CLOSED_TABS:"RECENTLY_CLOSED_TABS"},hJe={LOGIN:"LOGIN"},vp={IN_THREAD:"IN_THREAD",SIDEBAR:"SIDEBAR",MODAL:"MODAL",IN_THREAD_BOTTOM:"IN_THREAD_BOTTOM",IN_THREAD_INPUT:"IN_THREAD_INPUT"},ep={PRO_UPGRADE:"PRO_UPGRADE",SIGN_UP_OR_LOGIN:"SIGN_UP_OR_LOGIN",REWRITE_ANSWER:"REWRITE_ANSWER",PERMALINK:"PERMALINK",CONNECTOR:"CONNECTOR",THREAD_TO_SPACE:"THREAD_TO_SPACE"},CK={PRIMARY_COLOR:"PRIMARY_COLOR",MAX_COLOR:"MAX_COLOR"},mJe={PROMPT_INPUT:"PROMPT_INPUT"},Cl={CODE_ASSET:"CODE_ASSET",CHART:"CHART",CODE_FILE:"CODE_FILE",APP:"APP",GENERATED_IMAGE:"GENERATED_IMAGE",GENERATED_VIDEO:"GENERATED_VIDEO"},oM={BROWSER_HISTORY:"BROWSER_HISTORY",OPEN_TAB:"OPEN_TAB",RECENTLY_CLOSED_TAB:"RECENTLY_CLOSED_TAB"},Zs={PENDING:"PENDING",COMPLETED:"COMPLETED",FAILED:"FAILED",STAGED:"STAGED"},iy={NONE:"NONE",INCOGNITO:"INCOGNITO"},PYt={FULL:"FULL",STREAMING:"STREAMING"},yp={IN_PROGRESS:"IN_PROGRESS",DONE:"DONE"},IYt={CALENDAR_EVENT:"CALENDAR_EVENT",PLACE_CARD:"PLACE_CARD",SHOPPING_CARD:"SHOPPING_CARD",CALENDAR_ACTION:"CALENDAR_ACTION"},Vc={SELECTION_STATUS_UNSPECIFIED:"SELECTION_STATUS_UNSPECIFIED",UNSELECTED:"UNSELECTED",SELECTED:"SELECTED",TIE:"TIE"},Nw={MEDIUM:"MEDIUM",HIGH:"HIGH"},Fn={HOTELS:"HOTELS",SHOPPING:"SHOPPING",JOBS:"JOBS",IMAGE:"IMAGE",VIDEO:"VIDEO",SOURCES:"SOURCES",MAPS:"MAPS",ASSETS:"ASSETS",APPS:"APPS",TASKS:"TASKS"},pJe="pplx.comet-device-id",gJe="comet_browser";function Md(){return!!Su()}const Su=vx(function(){const t=Wn(gJe);if(t)try{return{device_id:Wn(pJe),...JSON.parse(t)}}catch{return}},()=>Math.floor(Date.now()/(6*1e4))),vJe=(e,t="selected_by_user_text")=>e?`
<${t}>
<selection_timestamp>${new Date(e.timestamp).toLocaleString()}</selection_timestamp>
${e.text}
</${t}>`:"",yJe=(e,t,n,r)=>{if(!e)return;const s=vJe(t.userSelection);if(n.status==="fulfilled"&&n.value?.content){const{markdown:a="",url:i="",title:l="",og_meta:c={},id:u}=n.value.content;return{content:[a.slice(0,r-s.length)+s],url:i,title:l,content_type:"markdown",content_origin:"current_tab",og_title:c?.title,og_description:c?.description,tab_id:String(u)}}return{content:[],url:t.sourceTabUrl,title:t.sourceTabTitle,content_type:"markdown",content_origin:"current_tab"}},xJe=(e,t,n)=>{const r=[];return e.forEach(s=>{const a=t.status==="fulfilled"&&t.value.contents?.find(i=>i.id===s.id);if(!a){r.push({tab_id:String(s.id),content:[],url:s.url,title:"",content_type:"markdown",content_origin:"open_tab"});return}r.push({tab_id:String(a.id),content:[(a.markdown??"").slice(0,n)],url:a.url??"",title:a.title??"",content_type:"markdown",content_origin:"open_tab",og_title:a.og_meta?.title,og_description:a.og_meta?.description})}),r},bJe=async({clientPayloadCacheKey:e,cometBrowser:t,maxChars:n,includeSidecar:r,attachedTabs:s,reason:a,cometState:i})=>{if(!t)return;const l=[],c=Su(),u={contextType:"runtime",queryContextTimeMs:0,processContextTimeMs:0,getNavigationItemsTimeMs:null,filteredItemsCount:null,version:c.browser_version,mainExtVersion:c.agent_extension_version},d=tu({context_type:u?.contextType,browser_version:u?.version,main_ext_version:u?.mainExtVersion,content_type:u?.contentType});try{const[h,m]=await Promise.allSettled([r?t.GetSidecarContext({key:e}):Promise.resolve(void 0),t.GetContent({key:e,pages:[...s]})]),g=yJe(r,i,h,n);g&&l.push(g);const v=xJe(s,m,n);l.push(...v),u.queryContextTimeMs=performance.now()-d.getStartTimeFromTimeOrigin();const{error:x}=await me.POST("/rest/browser/client_payload",a,{backOffTime:100,numRetries:2,body:{client_payload_cache_key:e,client_context:l||[],client_navigation:[],metadata:u}});if(d.addTiming("browser.client_context.overall_time_ms"),x)throw new pt("API_CLIENTS_ERROR",{details:{clientPayloadCacheKey:e},cause:x})}catch(h){le.error("Error sending client payload for cache key ",e,h)}},wJe=async({url:e,cometBrowser:t,stepUuid:n,extraHeaders:r,reason:s})=>{const a=t.openTab({url:e});await yd(a,n,r,s)},_Je=async({cometBrowser:e,maxUrls:t=20})=>{if(e)try{const n=await e.getTopMostVisitedUrls({maxUrls:t},"get-top-most-urls-for-ntp");return n.is_success?n.mostVisitedUrls:void 0}catch(n){le.error("Error fetching top most urls browser",n);return}},gde=async(e,t,n)=>{try{const{error:r}=await me.POST("/rest/browser/tool_failure",n,{body:{client_payload_cache_key:e.clientPayloadCacheKey,error_type:e.errorType,error_msg:e.errorMsg},backOffTime:100,numRetries:2,headers:t});if(r)throw new pt("API_CLIENTS_ERROR",{details:{clientPayloadCacheKey:e.clientPayloadCacheKey},cause:r})}catch(r){le.error("Error while sending a failure of tool",r)}},yd=async(e,t,n,r)=>{try{const s=await e,{error:a}=await me.POST("/rest/browser/tool_result",r,{body:{client_payload_cache_key:t,payload:s},backOffTime:100,numRetries:2,headers:n});if(a)throw new pt("API_CLIENTS_ERROR",{details:{clientPayloadCacheKey:t},cause:a})}catch(s){const i=s&&s.message||`sendToolResult error: ${s}`,l="errorType"in s?s:{errorType:"unhandled",errorMsg:i};return le.error("Error while sending tool result",l.errorType,l.errorMsg),gde({clientPayloadCacheKey:t,...l},n,r)}},uA={red:"red",maroon:"blue",orange:"cyan",teal:"green",grey:"grey",brown:"orange",green:"pink",gold:"purple",purple:"red",blue:"yellow"},SK=Object.fromEntries(Object.entries(uA).map(([e,t])=>[t,e])),vde=e=>SK[e]??SK.grey;async function CJe(e,t,n,r,s){const a=Promise.allSettled(e.map(async i=>t.groupTabs({tabIds:i.tab_ids,collapsed:i.collapsed,color:uA[i.color]??uA.grey,groupId:i.group_id,title:i.title},n,r["X-Request-ID"]))).then(i=>({groups:i.map(l=>{if(l.status=="fulfilled"&&l.value.is_success)return{...l.value.tabGroup,color:vde(l.value.tabGroup.color)}}).filter(l=>l!==void 0)}));await yd(a,n,r,s)}async function SJe(e,t,n,r,s){const a=t.closeTabs({tabIds:e.tab_ids},n,r["X-Request-ID"]);await yd(a,n,r,s)}async function MJe(e,t,n,r,s){const a={[oM.OPEN_TAB]:iM.OPEN_TABS,[oM.RECENTLY_CLOSED_TAB]:iM.RECENTLY_CLOSED_TABS,[oM.BROWSER_HISTORY]:iM.HISTORY},i=e.browser_content_sources.map(c=>a[c]).filter(Boolean),l=t.SearchBrowser({closed_tabs_max_results:e.max_results,history_max_results:e.max_results,open_tabs_max_results:e.max_results,request_id:r["X-Request-ID"],key:n,queries:Array.isArray(e.queries)?[...e.queries]:[],sources:i,start_time:e.start_time?Date.now()-new Date(e.start_time).getTime():void 0,end_time:e.end_time?Date.now()-new Date(e.end_time).getTime():void 0});await yd(l,n,r,s)}async function MK({result:e,key:t,reason:n}){try{await me.POST("/rest/browser/initial_history_summary",n,{body:{key:t,data:e},backOffTime:100,numRetries:2,headers:{"Content-Type":"application/json"}})}catch(r){le.error("Error sending client payload for cache key ",r)}}function kJe({entropyBrowser:e,browserHistorySummaryNumDays:t,browserHistorySummaryMaxResults:n,reason:r}){const{addTiming:s}=tu(),a=qr();return e.getInitialHistorySummary(a,t,n).then(i=>{s("web.frontend.comet_history_summary_v2"),MK({result:i,key:a,reason:r})}).catch(()=>{MK({result:{open_tabs_results:[],history_results:[],closed_tabs_results:[]},key:a,reason:r})}),a}const EJe=async({entropyBrowser:e,url:t})=>{const n=await e.getQuickActions("get-quick-actions-for-sidecar-suggests");return n.is_success?n.buttons.map(({prompt:r})=>({query:r,image:oy(t)})):[]},TJe=/^\w+:\/\//;let k5=null;const NJe=()=>{if(!Md()||k5!==null)return;const e=new Image;e.onerror=()=>{k5=!1,console.warn("[Comet] chrome://favicon/ is not supported. Using our backend as fallback.")},e.onload=()=>{k5=!0},e.src="chrome://favicon/"},oy=(e,t=64,n="3x")=>{if(!k5)return`https://www.perplexity.ai/rest/browser/favicon?url=${ude(e)}`;const r=TJe.test(e)?e:`https://${e}`;let s;try{s=decodeURIComponent(r)}catch{s=r}const a=s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/'/g,"\\'").replace(/\s/g,"\\ ");return`chrome://favicon/size/${t}@${n}/${a}`},Ln=()=>!!Su(),eC=()=>{const e=Su();return!!(e?.android_version||e?.ios_version)},pr=()=>ga().erp==="sidecar",nD=e=>!(e.defaultPrevented||!Ln()||e.ctrlKey||e.metaKey);var lM={},cM={exports:{}},kK;function tC(){return kK||(kK=1,function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(cM)),cM.exports}var uM={exports:{}},EK;function Mx(){return EK||(EK=1,function(e){function t(n){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(uM)),uM.exports}var dM={exports:{}},TK;function jJe(){return TK||(TK=1,function(e){var t=Mx().default;function n(){e.exports=n=function(){return s},e.exports.__esModule=!0,e.exports.default=e.exports;var r,s={},a=Object.prototype,i=a.hasOwnProperty,l=Object.defineProperty||function($,G,K){$[G]=K.value},c=typeof Symbol=="function"?Symbol:{},u=c.iterator||"@@iterator",d=c.asyncIterator||"@@asyncIterator",h=c.toStringTag||"@@toStringTag";function m($,G,K){return Object.defineProperty($,G,{value:K,enumerable:!0,configurable:!0,writable:!0}),$[G]}try{m({},"")}catch{m=function(K,ee,oe){return K[ee]=oe}}function g($,G,K,ee){var oe=G&&G.prototype instanceof k?G:k,ne=Object.create(oe.prototype),te=new H(ee||[]);return l(ne,"_invoke",{value:D($,K,te)}),ne}function v($,G,K){try{return{type:"normal",arg:$.call(G,K)}}catch(ee){return{type:"throw",arg:ee}}}s.wrap=g;var x="suspendedStart",b="suspendedYield",w="executing",C="completed",S={};function k(){}function E(){}function T(){}var j={};m(j,u,function(){return this});var N=Object.getPrototypeOf,R=N&&N(N(q([])));R&&R!==a&&i.call(R,u)&&(j=R);var O=T.prototype=k.prototype=Object.create(j);function I($){["next","throw","return"].forEach(function(G){m($,G,function(K){return this._invoke(G,K)})})}function B($,G){function K(oe,ne,te,re){var X=v($[oe],$,ne);if(X.type!=="throw"){var ce=X.arg,se=ce.value;return se&&t(se)=="object"&&i.call(se,"__await")?G.resolve(se.__await).then(function(J){K("next",J,te,re)},function(J){K("throw",J,te,re)}):G.resolve(se).then(function(J){ce.value=J,te(ce)},function(J){return K("throw",J,te,re)})}re(X.arg)}var ee;l(this,"_invoke",{value:function(ne,te){function re(){return new G(function(X,ce){K(ne,te,X,ce)})}return ee=ee?ee.then(re,re):re()}})}function D($,G,K){var ee=x;return function(oe,ne){if(ee===w)throw Error("Generator is already running");if(ee===C){if(oe==="throw")throw ne;return{value:r,done:!0}}for(K.method=oe,K.arg=ne;;){var te=K.delegate;if(te){var re=z(te,K);if(re){if(re===S)continue;return re}}if(K.method==="next")K.sent=K._sent=K.arg;else if(K.method==="throw"){if(ee===x)throw ee=C,K.arg;K.dispatchException(K.arg)}else K.method==="return"&&K.abrupt("return",K.arg);ee=w;var X=v($,G,K);if(X.type==="normal"){if(ee=K.done?C:b,X.arg===S)continue;return{value:X.arg,done:K.done}}X.type==="throw"&&(ee=C,K.method="throw",K.arg=X.arg)}}}function z($,G){var K=G.method,ee=$.iterator[K];if(ee===r)return G.delegate=null,K==="throw"&&$.iterator.return&&(G.method="return",G.arg=r,z($,G),G.method==="throw")||K!=="return"&&(G.method="throw",G.arg=new TypeError("The iterator does not provide a '"+K+"' method")),S;var oe=v(ee,$.iterator,G.arg);if(oe.type==="throw")return G.method="throw",G.arg=oe.arg,G.delegate=null,S;var ne=oe.arg;return ne?ne.done?(G[$.resultName]=ne.value,G.next=$.nextLoc,G.method!=="return"&&(G.method="next",G.arg=r),G.delegate=null,S):ne:(G.method="throw",G.arg=new TypeError("iterator result is not an object"),G.delegate=null,S)}function V($){var G={tryLoc:$[0]};1 in $&&(G.catchLoc=$[1]),2 in $&&(G.finallyLoc=$[2],G.afterLoc=$[3]),this.tryEntries.push(G)}function U($){var G=$.completion||{};G.type="normal",delete G.arg,$.completion=G}function H($){this.tryEntries=[{tryLoc:"root"}],$.forEach(V,this),this.reset(!0)}function q($){if($||$===""){var G=$[u];if(G)return G.call($);if(typeof $.next=="function")return $;if(!isNaN($.length)){var K=-1,ee=function oe(){for(;++K<$.length;)if(i.call($,K))return oe.value=$[K],oe.done=!1,oe;return oe.value=r,oe.done=!0,oe};return ee.next=ee}}throw new TypeError(t($)+" is not iterable")}return E.prototype=T,l(O,"constructor",{value:T,configurable:!0}),l(T,"constructor",{value:E,configurable:!0}),E.displayName=m(T,h,"GeneratorFunction"),s.isGeneratorFunction=function($){var G=typeof $=="function"&&$.constructor;return!!G&&(G===E||(G.displayName||G.name)==="GeneratorFunction")},s.mark=function($){return Object.setPrototypeOf?Object.setPrototypeOf($,T):($.__proto__=T,m($,h,"GeneratorFunction")),$.prototype=Object.create(O),$},s.awrap=function($){return{__await:$}},I(B.prototype),m(B.prototype,d,function(){return this}),s.AsyncIterator=B,s.async=function($,G,K,ee,oe){oe===void 0&&(oe=Promise);var ne=new B(g($,G,K,ee),oe);return s.isGeneratorFunction(G)?ne:ne.next().then(function(te){return te.done?te.value:ne.next()})},I(O),m(O,h,"Generator"),m(O,u,function(){return this}),m(O,"toString",function(){return"[object Generator]"}),s.keys=function($){var G=Object($),K=[];for(var ee in G)K.push(ee);return K.reverse(),function oe(){for(;K.length;){var ne=K.pop();if(ne in G)return oe.value=ne,oe.done=!1,oe}return oe.done=!0,oe}},s.values=q,H.prototype={constructor:H,reset:function(G){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(U),!G)for(var K in this)K.charAt(0)==="t"&&i.call(this,K)&&!isNaN(+K.slice(1))&&(this[K]=r)},stop:function(){this.done=!0;var G=this.tryEntries[0].completion;if(G.type==="throw")throw G.arg;return this.rval},dispatchException:function(G){if(this.done)throw G;var K=this;function ee(ce,se){return te.type="throw",te.arg=G,K.next=ce,se&&(K.method="next",K.arg=r),!!se}for(var oe=this.tryEntries.length-1;oe>=0;--oe){var ne=this.tryEntries[oe],te=ne.completion;if(ne.tryLoc==="root")return ee("end");if(ne.tryLoc<=this.prev){var re=i.call(ne,"catchLoc"),X=i.call(ne,"finallyLoc");if(re&&X){if(this.prev<ne.catchLoc)return ee(ne.catchLoc,!0);if(this.prev<ne.finallyLoc)return ee(ne.finallyLoc)}else if(re){if(this.prev<ne.catchLoc)return ee(ne.catchLoc,!0)}else{if(!X)throw Error("try statement without catch or finally");if(this.prev<ne.finallyLoc)return ee(ne.finallyLoc)}}}},abrupt:function(G,K){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var oe=this.tryEntries[ee];if(oe.tryLoc<=this.prev&&i.call(oe,"finallyLoc")&&this.prev<oe.finallyLoc){var ne=oe;break}}ne&&(G==="break"||G==="continue")&&ne.tryLoc<=K&&K<=ne.finallyLoc&&(ne=null);var te=ne?ne.completion:{};return te.type=G,te.arg=K,ne?(this.method="next",this.next=ne.finallyLoc,S):this.complete(te)},complete:function(G,K){if(G.type==="throw")throw G.arg;return G.type==="break"||G.type==="continue"?this.next=G.arg:G.type==="return"?(this.rval=this.arg=G.arg,this.method="return",this.next="end"):G.type==="normal"&&K&&(this.next=K),S},finish:function(G){for(var K=this.tryEntries.length-1;K>=0;--K){var ee=this.tryEntries[K];if(ee.finallyLoc===G)return this.complete(ee.completion,ee.afterLoc),U(ee),S}},catch:function(G){for(var K=this.tryEntries.length-1;K>=0;--K){var ee=this.tryEntries[K];if(ee.tryLoc===G){var oe=ee.completion;if(oe.type==="throw"){var ne=oe.arg;U(ee)}return ne}}throw Error("illegal catch attempt")},delegateYield:function(G,K,ee){return this.delegate={iterator:q(G),resultName:K,nextLoc:ee},this.method==="next"&&(this.arg=r),S}},s}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(dM)),dM.exports}var fM,NK;function nC(){if(NK)return fM;NK=1;var e=jJe()();fM=e;try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}return fM}var hM={exports:{}},mM={exports:{}},pM={exports:{}},jK;function AJe(){return jK||(jK=1,function(e){var t=Mx().default;function n(r,s){if(t(r)!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var i=a.call(r,s||"default");if(t(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(pM)),pM.exports}var AK;function yde(){return AK||(AK=1,function(e){var t=Mx().default,n=AJe();function r(s){var a=n(s,"string");return t(a)=="symbol"?a:a+""}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(mM)),mM.exports}var RK;function rC(){return RK||(RK=1,function(e){var t=yde();function n(r,s,a){return(s=t(s))in r?Object.defineProperty(r,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[s]=a,r}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(hM)),hM.exports}var gM={exports:{}},LK;function sC(){return LK||(LK=1,function(e){function t(r,s,a,i,l,c,u){try{var d=r[c](u),h=d.value}catch(m){return void a(m)}d.done?s(h):Promise.resolve(h).then(i,l)}function n(r){return function(){var s=this,a=arguments;return new Promise(function(i,l){var c=r.apply(s,a);function u(h){t(c,i,l,u,d,"next",h)}function d(h){t(c,i,l,u,d,"throw",h)}u(void 0)})}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(gM)),gM.exports}var vM={exports:{}},yM={exports:{}},OK;function RJe(){return OK||(OK=1,function(e){function t(n){if(Array.isArray(n))return n}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(yM)),yM.exports}var xM={exports:{}},PK;function LJe(){return PK||(PK=1,function(e){function t(n,r){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var a,i,l,c,u=[],d=!0,h=!1;try{if(l=(s=s.call(n)).next,r===0){if(Object(s)!==s)return;d=!1}else for(;!(d=(a=l.call(s)).done)&&(u.push(a.value),u.length!==r);d=!0);}catch(m){h=!0,i=m}finally{try{if(!d&&s.return!=null&&(c=s.return(),Object(c)!==c))return}finally{if(h)throw i}}return u}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(xM)),xM.exports}var bM={exports:{}},wM={exports:{}},IK;function OJe(){return IK||(IK=1,function(e){function t(n,r){(r==null||r>n.length)&&(r=n.length);for(var s=0,a=Array(r);s<r;s++)a[s]=n[s];return a}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(wM)),wM.exports}var DK;function PJe(){return DK||(DK=1,function(e){var t=OJe();function n(r,s){if(r){if(typeof r=="string")return t(r,s);var a={}.toString.call(r).slice(8,-1);return a==="Object"&&r.constructor&&(a=r.constructor.name),a==="Map"||a==="Set"?Array.from(r):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(r,s):void 0}}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(bM)),bM.exports}var _M={exports:{}},FK;function IJe(){return FK||(FK=1,function(e){function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(_M)),_M.exports}var UK;function DJe(){return UK||(UK=1,function(e){var t=RJe(),n=LJe(),r=PJe(),s=IJe();function a(i,l){return t(i)||n(i,l)||r(i,l)||s()}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports}(vM)),vM.exports}var Yf={},rr={},CM={exports:{}},BK;function FJe(){return BK||(BK=1,function(e){function t(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(CM)),CM.exports}var SM={exports:{}},VK;function UJe(){return VK||(VK=1,function(e){var t=yde();function n(s,a){for(var i=0;i<a.length;i++){var l=a[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(s,t(l.key),l)}}function r(s,a,i){return a&&n(s.prototype,a),i&&n(s,i),Object.defineProperty(s,"prototype",{writable:!1}),s}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(SM)),SM.exports}var MM={exports:{}},kM={exports:{}},zK;function BJe(){return zK||(zK=1,function(e){function t(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(kM)),kM.exports}var HK;function VJe(){return HK||(HK=1,function(e){var t=Mx().default,n=BJe();function r(s,a){if(a&&(t(a)=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n(s)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(MM)),MM.exports}var EM={exports:{}},WK;function xde(){return WK||(WK=1,function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(EM)),EM.exports}var TM={exports:{}},NM={exports:{}},$K;function rD(){return $K||($K=1,function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(NM)),NM.exports}var qK;function zJe(){return qK||(qK=1,function(e){var t=rD();function n(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(s&&s.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),s&&t(r,s)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}(TM)),TM.exports}var jM={exports:{}},AM={exports:{}},GK;function HJe(){return GK||(GK=1,function(e){function t(n){try{return Function.toString.call(n).indexOf("[native code]")!==-1}catch{return typeof n=="function"}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(AM)),AM.exports}var RM={exports:{}},LM={exports:{}},YK;function WJe(){return YK||(YK=1,function(e){function t(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e.exports=t=function(){return!!n},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(LM)),LM.exports}var KK;function $Je(){return KK||(KK=1,function(e){var t=WJe(),n=rD();function r(s,a,i){if(t())return Reflect.construct.apply(null,arguments);var l=[null];l.push.apply(l,a);var c=new(s.bind.apply(s,l));return i&&n(c,i.prototype),c}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(RM)),RM.exports}var QK;function qJe(){return QK||(QK=1,function(e){var t=xde(),n=rD(),r=HJe(),s=$Je();function a(i){var l=typeof Map=="function"?new Map:void 0;return e.exports=a=function(u){if(u===null||!r(u))return u;if(typeof u!="function")throw new TypeError("Super expression must either be null or a function");if(l!==void 0){if(l.has(u))return l.get(u);l.set(u,d)}function d(){return s(u,arguments,t(this).constructor)}return d.prototype=Object.create(u.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),n(d,u)},e.exports.__esModule=!0,e.exports.default=e.exports,a(i)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports}(jM)),jM.exports}var XK;function GJe(){if(XK)return rr;XK=1;var e=tC();Object.defineProperty(rr,"__esModule",{value:!0}),rr.UnsupportedStrategy=rr.UnknownError=rr.OAuthCallbackError=rr.MissingSecret=rr.MissingAuthorize=rr.MissingAdapterMethods=rr.MissingAdapter=rr.MissingAPIRoute=rr.InvalidCallbackUrl=rr.AccountNotLinkedError=void 0,rr.adapterErrorHandler=b,rr.capitalize=v,rr.eventsErrorHandler=x,rr.upperSnake=g;var t=e(nC()),n=e(sC()),r=e(rC()),s=e(FJe()),a=e(UJe()),i=e(VJe()),l=e(xde()),c=e(zJe()),u=e(qJe());function d(w,C,S){return C=(0,l.default)(C),(0,i.default)(w,h()?Reflect.construct(C,S||[],(0,l.default)(w).constructor):C.apply(w,S))}function h(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!w})()}var m=rr.UnknownError=function(w){function C(S){var k,E;return(0,s.default)(this,C),E=d(this,C,[(k=S?.message)!==null&&k!==void 0?k:S]),E.name="UnknownError",E.code=S.code,S instanceof Error&&(E.stack=S.stack),E}return(0,c.default)(C,w),(0,a.default)(C,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,stack:this.stack}}}])}((0,u.default)(Error));rr.OAuthCallbackError=function(w){function C(){var S;(0,s.default)(this,C);for(var k=arguments.length,E=new Array(k),T=0;T<k;T++)E[T]=arguments[T];return S=d(this,C,[].concat(E)),(0,r.default)(S,"name","OAuthCallbackError"),S}return(0,c.default)(C,w),(0,a.default)(C)}(m),rr.AccountNotLinkedError=function(w){function C(){var S;(0,s.default)(this,C);for(var k=arguments.length,E=new Array(k),T=0;T<k;T++)E[T]=arguments[T];return S=d(this,C,[].concat(E)),(0,r.default)(S,"name","AccountNotLinkedError"),S}return(0,c.default)(C,w),(0,a.default)(C)}(m),rr.MissingAPIRoute=function(w){function C(){var S;(0,s.default)(this,C);for(var k=arguments.length,E=new Array(k),T=0;T<k;T++)E[T]=arguments[T];return S=d(this,C,[].concat(E)),(0,r.default)(S,"name","MissingAPIRouteError"),(0,r.default)(S,"code","MISSING_NEXTAUTH_API_ROUTE_ERROR"),S}return(0,c.default)(C,w),(0,a.default)(C)}(m),rr.MissingSecret=function(w){function C(){var S;(0,s.default)(this,C);for(var k=arguments.length,E=new Array(k),T=0;T<k;T++)E[T]=arguments[T];return S=d(this,C,[].concat(E)),(0,r.default)(S,"name","MissingSecretError"),(0,r.default)(S,"code","NO_SECRET"),S}return(0,c.default)(C,w),(0,a.default)(C)}(m),rr.MissingAuthorize=function(w){function C(){var S;(0,s.default)(this,C);for(var k=arguments.length,E=new Array(k),T=0;T<k;T++)E[T]=arguments[T];return S=d(this,C,[].concat(E)),(0,r.default)(S,"name","MissingAuthorizeError"),(0,r.default)(S,"code","CALLBACK_CREDENTIALS_HANDLER_ERROR"),S}return(0,c.default)(C,w),(0,a.default)(C)}(m),rr.MissingAdapter=function(w){function C(){var S;(0,s.default)(this,C);for(var k=arguments.length,E=new Array(k),T=0;T<k;T++)E[T]=arguments[T];return S=d(this,C,[].concat(E)),(0,r.default)(S,"name","MissingAdapterError"),(0,r.default)(S,"code","EMAIL_REQUIRES_ADAPTER_ERROR"),S}return(0,c.default)(C,w),(0,a.default)(C)}(m),rr.MissingAdapterMethods=function(w){function C(){var S;(0,s.default)(this,C);for(var k=arguments.length,E=new Array(k),T=0;T<k;T++)E[T]=arguments[T];return S=d(this,C,[].concat(E)),(0,r.default)(S,"name","MissingAdapterMethodsError"),(0,r.default)(S,"code","MISSING_ADAPTER_METHODS_ERROR"),S}return(0,c.default)(C,w),(0,a.default)(C)}(m),rr.UnsupportedStrategy=function(w){function C(){var S;(0,s.default)(this,C);for(var k=arguments.length,E=new Array(k),T=0;T<k;T++)E[T]=arguments[T];return S=d(this,C,[].concat(E)),(0,r.default)(S,"name","UnsupportedStrategyError"),(0,r.default)(S,"code","CALLBACK_CREDENTIALS_JWT_ERROR"),S}return(0,c.default)(C,w),(0,a.default)(C)}(m),rr.InvalidCallbackUrl=function(w){function C(){var S;(0,s.default)(this,C);for(var k=arguments.length,E=new Array(k),T=0;T<k;T++)E[T]=arguments[T];return S=d(this,C,[].concat(E)),(0,r.default)(S,"name","InvalidCallbackUrl"),(0,r.default)(S,"code","INVALID_CALLBACK_URL_ERROR"),S}return(0,c.default)(C,w),(0,a.default)(C)}(m);function g(w){return w.replace(/([A-Z])/g,"_$1").toUpperCase()}function v(w){return"".concat(w[0].toUpperCase()).concat(w.slice(1))}function x(w,C){return Object.keys(w).reduce(function(S,k){return S[k]=(0,n.default)(t.default.mark(function E(){var T,j=arguments;return t.default.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.prev=0,T=w[k],R.next=4,T.apply(void 0,j);case 4:return R.abrupt("return",R.sent);case 7:R.prev=7,R.t0=R.catch(0),C.error("".concat(g(k),"_EVENT_ERROR"),R.t0);case 10:case"end":return R.stop()}},E,null,[[0,7]])})),S},{})}function b(w,C){if(w)return Object.keys(w).reduce(function(S,k){return S[k]=(0,n.default)(t.default.mark(function E(){var T,j,N,R,O,I=arguments;return t.default.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:for(D.prev=0,T=I.length,j=new Array(T),N=0;N<T;N++)j[N]=I[N];return C.debug("adapter_".concat(k),{args:j}),R=w[k],D.next=6,R.apply(void 0,j);case 6:return D.abrupt("return",D.sent);case 9:throw D.prev=9,D.t0=D.catch(0),C.error("adapter_error_".concat(k),D.t0),O=new m(D.t0),O.name="".concat(v(k),"Error"),O;case 15:case"end":return D.stop()}},E,null,[[0,9]])})),S},{})}return rr}var ZK;function YJe(){if(ZK)return Yf;ZK=1;var e=tC();Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.default=void 0,Yf.proxyLogger=h,Yf.setLogger=d;var t=e(nC()),n=e(rC()),r=e(sC()),s=GJe();function a(m,g){var v=Object.keys(m);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(m);g&&(x=x.filter(function(b){return Object.getOwnPropertyDescriptor(m,b).enumerable})),v.push.apply(v,x)}return v}function i(m){for(var g=1;g<arguments.length;g++){var v=arguments[g]!=null?arguments[g]:{};g%2?a(Object(v),!0).forEach(function(x){(0,n.default)(m,x,v[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(v)):a(Object(v)).forEach(function(x){Object.defineProperty(m,x,Object.getOwnPropertyDescriptor(v,x))})}return m}function l(m){if(m instanceof Error&&!(m instanceof s.UnknownError))return{message:m.message,stack:m.stack,name:m.name};if(c(m)){var g;m.error=l(m.error),m.message=(g=m.message)!==null&&g!==void 0?g:m.error.message}return m}function c(m){return!!(m!=null&&m.error)}var u={error:function(g,v){v=l(v),console.error("[next-auth][error][".concat(g,"]"),`
https://next-auth.js.org/errors#`.concat(g.toLowerCase()),v.message,v)},warn:function(g){console.warn("[next-auth][warn][".concat(g,"]"),`
https://next-auth.js.org/warnings#`.concat(g.toLowerCase()))},debug:function(g,v){console.log("[next-auth][debug][".concat(g,"]"),v)}};function d(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=arguments.length>1?arguments[1]:void 0;g||(u.debug=function(){}),m.error&&(u.error=m.error),m.warn&&(u.warn=m.warn),m.debug&&(u.debug=m.debug)}Yf.default=u;function h(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u,g=arguments.length>1?arguments[1]:void 0;try{if(typeof window>"u")return m;var v={},x=function(C){v[C]=function(){var S=(0,r.default)(t.default.mark(function k(E,T){var j,N;return t.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(u[C](E,T),C==="error"&&(T=l(T)),T.client=!0,j="".concat(g,"/_log"),N=new URLSearchParams(i({level:C,code:E},T)),!navigator.sendBeacon){O.next=8;break}return O.abrupt("return",navigator.sendBeacon(j,N));case 8:return O.next=10,fetch(j,{method:"POST",body:N,keepalive:!0});case 10:return O.abrupt("return",O.sent);case 11:case"end":return O.stop()}},k)}));return function(k,E){return S.apply(this,arguments)}}()};for(var b in m)x(b);return v}catch{return u}}return Yf}var X3={},JK;function KJe(){if(JK)return X3;JK=1,Object.defineProperty(X3,"__esModule",{value:!0}),X3.default=e;function e(t){var n;const r=new URL("http://localhost:3000/api/auth");t&&!t.startsWith("http")&&(t=`https://${t}`);const s=new URL((n=t)!==null&&n!==void 0?n:r),a=(s.pathname==="/"?r.pathname:s.pathname).replace(/\/$/,""),i=`${s.origin}${a}`;return{origin:s.origin,host:s.host,path:a,base:i,toString:()=>i}}return X3}var Kf={},eQ;function QJe(){if(eQ)return Kf;eQ=1;var e=tC();Object.defineProperty(Kf,"__esModule",{value:!0}),Kf.BroadcastChannel=h,Kf.apiBaseUrl=u,Kf.fetchData=l,Kf.now=d;var t=e(nC()),n=e(rC()),r=e(sC());function s(m,g){var v=Object.keys(m);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(m);g&&(x=x.filter(function(b){return Object.getOwnPropertyDescriptor(m,b).enumerable})),v.push.apply(v,x)}return v}function a(m){for(var g=1;g<arguments.length;g++){var v=arguments[g]!=null?arguments[g]:{};g%2?s(Object(v),!0).forEach(function(x){(0,n.default)(m,x,v[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(v)):s(Object(v)).forEach(function(x){Object.defineProperty(m,x,Object.getOwnPropertyDescriptor(v,x))})}return m}var i=3;function l(m,g,v){return c.apply(this,arguments)}function c(){return c=(0,r.default)(t.default.mark(function m(g,v,x){var b,w,C,S,k,E,T,j,N,R,O=arguments;return t.default.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:b=O.length>3&&O[3]!==void 0?O[3]:{},w=b.ctx,C=b.req,S=C===void 0?w?.req:C,k="".concat(u(v),"/").concat(g),E=0;case 3:if(!(E<i)){B.next=28;break}return B.prev=4,j={headers:a({"Content-Type":"application/json"},S!=null&&(T=S.headers)!==null&&T!==void 0&&T.cookie?{cookie:S.headers.cookie}:{})},S!=null&&S.body&&(j.body=JSON.stringify(S.body),j.method="POST"),B.next=9,fetch(k,j);case 9:return N=B.sent,B.next=12,N.json();case 12:if(R=B.sent,N.ok){B.next=15;break}throw R;case 15:return B.abrupt("return",Object.keys(R).length>0?R:null);case 18:if(B.prev=18,B.t0=B.catch(4),E++,E!==i){B.next=24;break}throw x.error("CLIENT_FETCH_ERROR",{error:B.t0,url:k}),B.t0;case 24:return B.next=26,new Promise(function(D){return setTimeout(D,Math.pow(2,E)*100)});case 26:B.next=3;break;case 28:return B.abrupt("return",null);case 29:case"end":return B.stop()}},m,null,[[4,18]])})),c.apply(this,arguments)}function u(m){return typeof window>"u"?"".concat(m.baseUrlServer).concat(m.basePathServer):m.basePath}function d(){return Math.floor(Date.now()/1e3)}function h(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"nextauth.message";return{receive:function(v){var x=function(w){var C;if(w.key===m){var S=JSON.parse((C=w.newValue)!==null&&C!==void 0?C:"{}");S?.event!=="session"||!(S!=null&&S.data)||v(S)}};return window.addEventListener("storage",x),function(){return window.removeEventListener("storage",x)}},post:function(v){if(!(typeof window>"u"))try{localStorage.setItem(m,JSON.stringify(a(a({},v),{},{timestamp:d()})))}catch{}}}}return Kf}var OM={},tQ;function XJe(){return tQ||(tQ=1,Object.defineProperty(OM,"__esModule",{value:!0})),OM}var nQ;function ZJe(){return nQ||(nQ=1,function(e){var t={},n=tC(),r=Mx();Object.defineProperty(e,"__esModule",{value:!0});var s={SessionContext:!0,useSession:!0,getSession:!0,getCsrfToken:!0,getProviders:!0,signIn:!0,signOut:!0,SessionProvider:!0};e.SessionContext=void 0,e.SessionProvider=ne,e.getCsrfToken=U,e.getProviders=q,e.getSession=z,e.signIn=G,e.signOut=ee,e.useSession=D;var a=n(nC()),i=n(rC()),l=n(sC()),c=n(DJe()),u=E(Xd()),d=E(YJe()),h=n(KJe()),m=QJe(),g=jie(),v=XJe();Object.keys(v).forEach(function(te){te==="default"||te==="__esModule"||Object.prototype.hasOwnProperty.call(s,te)||te in e&&e[te]===v[te]||Object.defineProperty(e,te,{enumerable:!0,get:function(){return v[te]}})});var x,b,w,C,S;function k(te){if(typeof WeakMap!="function")return null;var re=new WeakMap,X=new WeakMap;return(k=function(se){return se?X:re})(te)}function E(te,re){if(te&&te.__esModule)return te;if(te===null||r(te)!="object"&&typeof te!="function")return{default:te};var X=k(re);if(X&&X.has(te))return X.get(te);var ce={__proto__:null},se=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var J in te)if(J!=="default"&&{}.hasOwnProperty.call(te,J)){var de=se?Object.getOwnPropertyDescriptor(te,J):null;de&&(de.get||de.set)?Object.defineProperty(ce,J,de):ce[J]=te[J]}return ce.default=te,X&&X.set(te,ce),ce}function T(te,re){var X=Object.keys(te);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(te);re&&(ce=ce.filter(function(se){return Object.getOwnPropertyDescriptor(te,se).enumerable})),X.push.apply(X,ce)}return X}function j(te){for(var re=1;re<arguments.length;re++){var X=arguments[re]!=null?arguments[re]:{};re%2?T(Object(X),!0).forEach(function(ce){(0,i.default)(te,ce,X[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(X)):T(Object(X)).forEach(function(ce){Object.defineProperty(te,ce,Object.getOwnPropertyDescriptor(X,ce))})}return te}var N={baseUrl:(0,h.default)((x=t.NEXTAUTH_URL)!==null&&x!==void 0?x:t.VERCEL_URL).origin,basePath:(0,h.default)(t.NEXTAUTH_URL).path,baseUrlServer:(0,h.default)((b=(w=t.NEXTAUTH_URL_INTERNAL)!==null&&w!==void 0?w:t.NEXTAUTH_URL)!==null&&b!==void 0?b:t.VERCEL_URL).origin,basePathServer:(0,h.default)((C=t.NEXTAUTH_URL_INTERNAL)!==null&&C!==void 0?C:t.NEXTAUTH_URL).path,_lastSync:0,_session:void 0,_getSession:function(){}},R=(0,m.BroadcastChannel)(),O=(0,d.proxyLogger)(d.default,N.basePath);function I(){var te=u.useState(typeof navigator<"u"?navigator.onLine:!1),re=(0,c.default)(te,2),X=re[0],ce=re[1],se=function(){return ce(!0)},J=function(){return ce(!1)};return u.useEffect(function(){return window.addEventListener("online",se),window.addEventListener("offline",J),function(){window.removeEventListener("online",se),window.removeEventListener("offline",J)}},[]),X}var B=e.SessionContext=(S=u.createContext)===null||S===void 0?void 0:S.call(u,void 0);function D(te){if(!B)throw new Error("React Context is unavailable in Server Components");var re=u.useContext(B),X=te??{},ce=X.required,se=X.onUnauthenticated,J=ce&&re.status==="unauthenticated";return u.useEffect(function(){if(J){var de="/api/auth/signin?".concat(new URLSearchParams({error:"SessionRequired",callbackUrl:window.location.href}));se?se():window.location.href=de}},[J,se]),J?{data:re.data,update:re.update,status:"loading"}:re}function z(te){return V.apply(this,arguments)}function V(){return V=(0,l.default)(a.default.mark(function te(re){var X,ce;return a.default.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.next=2,(0,m.fetchData)("session",N,O,re);case 2:return ce=J.sent,(!((X=re?.broadcast)!==null&&X!==void 0)||X)&&R.post({event:"session",data:{trigger:"getSession"}}),J.abrupt("return",ce);case 5:case"end":return J.stop()}},te)})),V.apply(this,arguments)}function U(te){return H.apply(this,arguments)}function H(){return H=(0,l.default)(a.default.mark(function te(re){var X;return a.default.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,(0,m.fetchData)("csrf",N,O,re);case 2:return X=se.sent,se.abrupt("return",X?.csrfToken);case 4:case"end":return se.stop()}},te)})),H.apply(this,arguments)}function q(){return $.apply(this,arguments)}function $(){return $=(0,l.default)(a.default.mark(function te(){return a.default.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,(0,m.fetchData)("providers",N,O);case 2:return X.abrupt("return",X.sent);case 3:case"end":return X.stop()}},te)})),$.apply(this,arguments)}function G(te,re,X){return K.apply(this,arguments)}function K(){return K=(0,l.default)(a.default.mark(function te(re,X,ce){var se,J,de,ie,he,pe,ge,Ce,we,Pe,ot,Be,Ee,st,et,$e,tt;return a.default.wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return se=X??{},J=se.callbackUrl,de=J===void 0?window.location.href:J,ie=se.redirect,he=ie===void 0?!0:ie,pe=(0,m.apiBaseUrl)(N),xe.next=4,q();case 4:if(ge=xe.sent,ge){xe.next=8;break}return window.location.href="".concat(pe,"/error"),xe.abrupt("return");case 8:if(!(!re||!(re in ge))){xe.next=11;break}return window.location.href="".concat(pe,"/signin?").concat(new URLSearchParams({callbackUrl:de})),xe.abrupt("return");case 11:return Ce=ge[re].type==="credentials",we=ge[re].type==="email",Pe=Ce||we,ot="".concat(pe,"/").concat(Ce?"callback":"signin","/").concat(re),Be="".concat(ot).concat(ce?"?".concat(new URLSearchParams(ce)):""),xe.t0=fetch,xe.t1=Be,xe.t2={"Content-Type":"application/x-www-form-urlencoded"},xe.t3=URLSearchParams,xe.t4=j,xe.t5=j({},X),xe.t6={},xe.next=25,U();case 25:return xe.t7=xe.sent,xe.t8=de,xe.t9={csrfToken:xe.t7,callbackUrl:xe.t8,json:!0},xe.t10=(0,xe.t4)(xe.t5,xe.t6,xe.t9),xe.t11=new xe.t3(xe.t10),xe.t12={method:"post",headers:xe.t2,body:xe.t11},xe.next=33,(0,xe.t0)(xe.t1,xe.t12);case 33:return Ee=xe.sent,xe.next=36,Ee.json();case 36:if(st=xe.sent,!(he||!Pe)){xe.next=42;break}return $e=(et=st.url)!==null&&et!==void 0?et:de,window.location.href=$e,$e.includes("#")&&window.location.reload(),xe.abrupt("return");case 42:if(tt=new URL(st.url).searchParams.get("error"),!Ee.ok){xe.next=46;break}return xe.next=46,R.post({event:"session",data:{trigger:"signin"}}),N._getSession({event:"storage"});case 46:return xe.abrupt("return",{error:tt,status:Ee.status,ok:Ee.ok,url:tt?null:st.url});case 47:case"end":return xe.stop()}},te)})),K.apply(this,arguments)}function ee(te){return oe.apply(this,arguments)}function oe(){return oe=(0,l.default)(a.default.mark(function te(re){var X,ce,se,J,de,ie,he,pe,ge,Ce;return a.default.wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return ce=re??{},se=ce.callbackUrl,J=se===void 0?window.location.href:se,de=(0,m.apiBaseUrl)(N),Pe.t0={"Content-Type":"application/x-www-form-urlencoded"},Pe.t1=URLSearchParams,Pe.next=6,U();case 6:return Pe.t2=Pe.sent,Pe.t3=J,Pe.t4={csrfToken:Pe.t2,callbackUrl:Pe.t3,json:!0},Pe.t5=new Pe.t1(Pe.t4),ie={method:"post",headers:Pe.t0,body:Pe.t5},Pe.next=13,fetch("".concat(de,"/signout"),ie);case 13:return he=Pe.sent,Pe.next=16,he.json();case 16:if(pe=Pe.sent,R.post({event:"session",data:{trigger:"signout"}}),!(!((X=re?.redirect)!==null&&X!==void 0)||X)){Pe.next=23;break}return Ce=(ge=pe.url)!==null&&ge!==void 0?ge:J,window.location.href=Ce,Ce.includes("#")&&window.location.reload(),Pe.abrupt("return");case 23:return Pe.next=25,N._getSession({event:"storage"});case 25:return Pe.abrupt("return",pe);case 26:case"end":return Pe.stop()}},te)})),oe.apply(this,arguments)}function ne(te){if(!B)throw new Error("React Context is unavailable in Server Components");var re=te.children,X=te.basePath,ce=te.refetchInterval,se=te.refetchWhenOffline;X&&(N.basePath=X);var J=te.session!==void 0;N._lastSync=J?(0,m.now)():0;var de=u.useState(function(){return J&&(N._session=te.session),te.session}),ie=(0,c.default)(de,2),he=ie[0],pe=ie[1],ge=u.useState(!J),Ce=(0,c.default)(ge,2),we=Ce[0],Pe=Ce[1];u.useEffect(function(){return N._getSession=(0,l.default)(a.default.mark(function st(){var et,$e,tt,at=arguments;return a.default.wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(et=at.length>0&&at[0]!==void 0?at[0]:{},$e=et.event,Oe.prev=1,tt=$e==="storage",!(tt||N._session===void 0)){Oe.next=10;break}return N._lastSync=(0,m.now)(),Oe.next=7,z({broadcast:!tt});case 7:return N._session=Oe.sent,pe(N._session),Oe.abrupt("return");case 10:if(!(!$e||N._session===null||(0,m.now)()<N._lastSync)){Oe.next=12;break}return Oe.abrupt("return");case 12:return N._lastSync=(0,m.now)(),Oe.next=15,z();case 15:N._session=Oe.sent,pe(N._session),Oe.next=22;break;case 19:Oe.prev=19,Oe.t0=Oe.catch(1),O.error("CLIENT_SESSION_ERROR",Oe.t0);case 22:return Oe.prev=22,Pe(!1),Oe.finish(22);case 25:case"end":return Oe.stop()}},st,null,[[1,19,22,25]])})),N._getSession(),function(){N._lastSync=0,N._session=void 0,N._getSession=function(){}}},[]),u.useEffect(function(){var st=R.receive(function(){return N._getSession({event:"storage"})});return function(){return st()}},[]),u.useEffect(function(){var st=te.refetchOnWindowFocus,et=st===void 0?!0:st,$e=function(){et&&document.visibilityState==="visible"&&N._getSession({event:"visibilitychange"})};return document.addEventListener("visibilitychange",$e,!1),function(){return document.removeEventListener("visibilitychange",$e,!1)}},[te.refetchOnWindowFocus]);var ot=I(),Be=se!==!1||ot;u.useEffect(function(){if(ce&&Be){var st=setInterval(function(){N._session&&N._getSession({event:"poll"})},ce*1e3);return function(){return clearInterval(st)}}},[ce,Be]);var Ee=u.useMemo(function(){return{data:he,status:we?"loading":he?"authenticated":"unauthenticated",update:function(et){return(0,l.default)(a.default.mark(function $e(){var tt;return a.default.wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(!(we||!he)){xe.next=2;break}return xe.abrupt("return");case 2:return Pe(!0),xe.t0=m.fetchData,xe.t1=N,xe.t2=O,xe.next=8,U();case 8:return xe.t3=xe.sent,xe.t4=et,xe.t5={csrfToken:xe.t3,data:xe.t4},xe.t6={body:xe.t5},xe.t7={req:xe.t6},xe.next=15,(0,xe.t0)("session",xe.t1,xe.t2,xe.t7);case 15:return tt=xe.sent,Pe(!1),tt&&(pe(tt),R.post({event:"session",data:{trigger:"getSession"}})),xe.abrupt("return",tt);case 19:case"end":return xe.stop()}},$e)}))()}}},[he,we]);return(0,g.jsx)(B.Provider,{value:Ee,children:re})}}(lM)),lM}var Jo=ZJe();const on=()=>{const{data:e,status:t}=Jo.useSession(),n=f.useRef(e);return f.useEffect(()=>{t!=="loading"&&(Ya(e?.user,n.current?.user)||(n.current=e))},[e,t]),n.current};let rQ=0;const sD=1e6;class hv{eventTime=-1;setOnce(){return this.eventTime==-1?(this.eventTime=Date.now(),!0):!1}timeSinceTimestamp(t){return this.eventTime===-1||t==null?-1:this.eventTime<t?(le.log(`TimeMarker.timeSinceTimestamp found inconsistency: mytime ${this.eventTime}, old: ${t}`),-1):this.eventTime-t}timeBeforeTimestamp(t){return this.eventTime===-1||t==null?-1:this.eventTime>t?(le.log(`TimeMarker.timeBeforeTimestamp found inconsistency: mytime ${this.eventTime}, next: ${t}`),-1):t-this.eventTime}wasSet(){return this.eventTime!=-1}}const JJe={firstServerResponseReceived:!1,firstLLMTokenReceived:!1,isPerplexityBrowser:!1},el=new Map,eet=(e,{hasLLMToken:t,hasSearchResults:n,hasSources:r},s)=>{tet(e,s),net(e,t,s),ret(e,n),set(e,r)},tet=(e,t)=>{const n=el.get(e);if(!n||n.firstServerResponseReceived||!n.submitTimestamp||!n.startFirstServerResponseMarker?.setOnce())return;n.firstServerResponseReceived=!0;const{queryStr:r,isFollowup:s,queryParams:a}=n,i=wde(e);i>0&&Il({name:"query first server response",data:{startFirstServerResponseElapsed:i,queryStr:r,isFollowup:s,mode:a?.mode??"unknown",isPerplexityBrowser:n.isPerplexityBrowser},session:t??void 0})},net=(e,t,n)=>{const r=el.get(e);if(!r||r.firstLLMTokenReceived||!t||!r.startLLMTokenMarker?.setOnce())return;r.firstLLMTokenReceived=!0;const{queryStr:s,isFollowup:a,queryParams:i}=r,l=_de(e);l>0&&Il({name:"query first llm token",data:{startLLMTokenElapsed:l,queryStr:s,isFollowup:a,mode:i?.mode??"unknown",isPerplexityBrowser:r.isPerplexityBrowser},session:n??void 0})},ret=(e,t)=>{const n=el.get(e);if(n){if(!t)return}else return;n.firstSearchResultsMarker?.setOnce()},set=(e,t)=>{const n=el.get(e);if(n){if(!t)return}else return;n.firstSourcesMarker?.setOnce()},DYt=e=>{const t=el.get(e);t&&t.firstSourcesRenderMarker?.setOnce()},aet=(e,t,n,r)=>{r=r??"unknown",$c("web.frontend.start_stream_elapsed",{startTime:e,duration:t*sD,isFollowup:n,mode:r})},iet=(e,t,n,r)=>{r=r??"unknown",$c("web.frontend.start_llm_token_elapsed",{startTime:e,duration:t*sD,isFollowup:n,mode:r})},oet=(e,t,n,r)=>{r=r??"unknown",$c("web.frontend.first_search_result_elapsed",{startTime:e,duration:t*sD,isFollowup:n,mode:r})},cet=({latencies:e,isMobile:t})=>{Ld("web.frontend.autosuggest_latency",{latencies:e,isMobile:t})},sQ=(e,{session:t,source:n,name:r})=>{const s=el.get(e);s&&(s.endStreamTimestamp||(s.endStreamTimestamp=Date.now(),Il({name:r,data:s,session:t??void 0,source:n})))},bde=(e,t,n,r,s)=>{const a=el.get(e);if(!a)return;a.finalizedTimestamp=Date.now();let i=-1;a.submitTimestamp&&(i=a.finalizedTimestamp-a.submitTimestamp);const l=wde(e);l>0&&aet(a.submitTimestamp??0,l,a.isFollowup??!1,a?.queryParams?.mode);const c=det(e);c>0&&oet(a.submitTimestamp??0,c,a.isFollowup??!1,a?.queryParams?.mode);const u=_de(e);u>0&&iet(a.submitTimestamp??0,u,a.isFollowup??!1,a?.queryParams?.mode);let d=-1;a.endStreamTimestamp&&a.startFirstServerResponseMarker&&(d=a.startFirstServerResponseMarker.timeBeforeTimestamp(a.endStreamTimestamp));const h={...a,totalElapsed:i,startStreamElapsed:l,startFirstServerResponseElapsed:l,startLLMTokenElapsed:u,totalStreamingElapsed:d,submissionResult:t,entryUUID:n?.backend_uuid,displayModel:n?.display_model,stepType:n?.step_type,isPerplexityBrowser:a.isPerplexityBrowser,source:void 0};Il({name:`${t} response`,data:h,session:r??void 0,source:void 0})},FYt=(e,t,n,r)=>{bde(e,"FAILED",t,n)},UYt=(e,t,n,r)=>{bde(e,"SUCCESSFUL",t,n)},uet=(e,{name:t,queryStr:n,queryParams:r,isFollowup:s,frontendUUID:a,isPerplexityBrowser:i,session:l,browserVersion:c,source:u,connectors:d,mentions:h})=>{rQ+=1;const m={...JJe};m.submissionType=t,m.submitTimestamp=Date.now(),m.queryStr=n,m.queryParams=r,m.frontendUUID=a,m.submissionCount=rQ,m.isFollowup=s,m.startFirstServerResponseMarker=new hv,m.startLLMTokenMarker=new hv,m.firstSearchResultsMarker=new hv,m.firstSourcesMarker=new hv,m.firstSourcesRenderMarker=new hv,m.isPerplexityBrowser=i,m.browserVersion=c,m.enabledConnectors=d?.enabled,m.disabledConnectors=d?.disabled;const g=h?.filter(b=>b.type==="tab")??[];m.attachedTabsDomains=[...new Set(g.map(b=>new URL(b.url).host))],m.attachedTabsCount=g.length;const v=h?.filter(b=>b.type==="space")??[];m.mentionedSpacesCount=v.length;const x=h?.filter(b=>b.type==="shortcut")??[];m.mentionedShortcutsCount=x.length,el.set(e,m),Il({name:"submit query",data:m,session:l??void 0,source:u})},wde=e=>{const t=el.get(e);let n=-1;return t&&(n=t.startFirstServerResponseMarker?.timeSinceTimestamp(t.submitTimestamp)??-1),n},_de=e=>{const t=el.get(e);let n=-1;return t&&(n=t.startLLMTokenMarker?.timeSinceTimestamp(t.submitTimestamp)??-1),n},det=e=>{const t=el.get(e);let n=-1;return t&&(n=t.firstSearchResultsMarker?.timeSinceTimestamp(t.submitTimestamp)??-1),n},Ye=()=>{const e=on(),t=Ln(),{isWindowsApp:n}=sn(),r=f.useRef(new Set),s=f.useCallback((c,u={})=>{const d=ga(),h=n?Wp:d.erp??void 0;Il({name:c,data:{...u,isPerplexityBrowser:t},source:h,session:e??void 0})},[n,t,e]),a=f.useCallback(c=>{const u=c.map(({name:d,data:h})=>({name:d,data:{...h??{},isPerplexityBrowser:t},session:e??void 0}));JZe(u)},[t,e]),i=f.useCallback((c,u)=>{Il({name:c,data:{...u,isPerplexityBrowser:t},session:e??void 0})},[t,e]),l=f.useCallback((c,u={})=>{r.current.has(c)||(r.current.add(c),Il({name:c,data:{...u,isPerplexityBrowser:t},session:e??void 0}))},[t,e]);return f.useMemo(()=>({trackEvent:s,trackEventTyped:i,trackEventOnce:l,trackEventBatch:a}),[s,a,i,l])};var mv={},aQ;function fet(){if(aQ)return mv;aQ=1,Object.defineProperty(mv,"__esModule",{value:!0}),mv.parse=i,mv.serialize=u;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const m=function(){};return m.prototype=Object.create(null),m})();function i(m,g){const v=new a,x=m.length;if(x<2)return v;const b=g?.decode||d;let w=0;do{const C=m.indexOf("=",w);if(C===-1)break;const S=m.indexOf(";",w),k=S===-1?x:S;if(C>k){w=m.lastIndexOf(";",C-1)+1;continue}const E=l(m,w,C),T=c(m,C,E),j=m.slice(E,T);if(v[j]===void 0){let N=l(m,C+1,k),R=c(m,k,N);const O=b(m.slice(N,R));v[j]=O}w=k+1}while(w<x);return v}function l(m,g,v){do{const x=m.charCodeAt(g);if(x!==32&&x!==9)return g}while(++g<v);return v}function c(m,g,v){for(;g>v;){const x=m.charCodeAt(--g);if(x!==32&&x!==9)return g+1}return v}function u(m,g,v){const x=v?.encode||encodeURIComponent;if(!e.test(m))throw new TypeError(`argument name is invalid: ${m}`);const b=x(g);if(!t.test(b))throw new TypeError(`argument val is invalid: ${g}`);let w=m+"="+b;if(!v)return w;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);w+="; Max-Age="+v.maxAge}if(v.domain){if(!n.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);w+="; Domain="+v.domain}if(v.path){if(!r.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);w+="; Path="+v.path}if(v.expires){if(!h(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);w+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(w+="; HttpOnly"),v.secure&&(w+="; Secure"),v.partitioned&&(w+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":w+="; Priority=Low";break;case"medium":w+="; Priority=Medium";break;case"high":w+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":w+="; SameSite=Strict";break;case"lax":w+="; SameSite=Lax";break;case"none":w+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return w}function d(m){if(m.indexOf("%")===-1)return m;try{return decodeURIComponent(m)}catch{return m}}function h(m){return s.call(m)==="[object Date]"}return mv}fet();var PM={};const het=(e,t)=>{try{let n=new URL("https://www.perplexity.ai");return typeof window>"u"?t&&PM.NEXTAUTH_UNSAFE_TRUST_HOST_HEADERS?n=new URL(`https://${t}`):PM.NEXTAUTH_URL&&(n=new URL(PM.NEXTAUTH_URL)):n=new URL(window.location.href),new URL(e,n).hostname===n.hostname}catch(n){return le.warn(n),!1}},met=({redirect:e,hostname:t})=>{const n=typeof e=="string"?e:e?.[0];return!n||typeof n!="string"?"/":het(n,t)?n:"/"};function IM(...e){aD("[email_signin_flow] ",...e)}function aD(...e){const t=new Date().toISOString();le.log(`[${t}] `,...e)}function Cde(...e){const t=new Date().toISOString();le.warn(`[${t}] `,...e)}const iD="pplx.chosen-locale",oD="pplx.is-incognito",Sde="pplx.is-discover-interest-box-dismissed",Mde="pplx.is-enterprise-ad-dismissed",dA="pplx.la-status",pet="pplx.visitor-id",get="pplx.session-id",kde="pplx.mweb-splash-page-dismissed",Ede="pplx.is-autosuggest-disabled",Tde="pplx.homepage-widgets-disabled",Nde="pplx.source-selection-v3",jde="pplx.sports-ios-notification-cta",iQ="pplx.prefers-metric",Ade="pplx.welcome-back-gate-impressions",Rde="pplx.share-gate-impressions",Lde="pplx.sidebar-connectors-ad-dismissed",Ode="pplx.is-student-referral-banner-dismissed",vet="pplx.default-search-session",Pde="pplx.pt",Ide="pplx.personal-search-badge-seen",Dde="pplx.tasks-settings-seen",fA="pplx.search-mode",Fde="pplx.search-models-v3",ms=400,yet=7,xet=e=>{fn(iD,e,{expires:ms})},bet=()=>Wn(iD),wet=()=>{g1(iD)},_et=e=>{fn(oD,String(e),{})},Cet=(e,t)=>{fn(kde,String(e),{expires:t})},Met=e=>{fn(Sde,String(e),{expires:ms})},ket=e=>{fn(dA,e,{})},Eet=e=>{fn(Mde,String(e),{expires:ms})},Tet=e=>{fn(Ede,String(e),{expires:ms})},Net=e=>{fn(Tde,String(e),{expires:ms})},jet=e=>{fn(Ade,String(e),{expires:ms})},Aet=e=>{fn(Rde,String(e),{expires:ms})},Ret=e=>{fn(jde,String(e),{expires:ms})},DM=(e,t)=>{const n=`${Nde}-${t}`;fn(n,JSON.stringify(e),{expires:yet})},Let=e=>{const t=`${Nde}-${e}`,n=Wn(t);return n?JSON.parse(n):null},Oet=()=>!(Wn($2)??!0),lm=()=>Wn(pet)??null,Pet=()=>Wn(get)??null,Iet=e=>{fn(Lde,String(e),{expires:ms})},Det=()=>Wn("pplx.has-discovered-space-mentions")==="true",Fet=()=>{fn("pplx.has-discovered-space-mentions","true",{expires:ms})},Uet=e=>{fn(Ode,String(e),{expires:4})},Ude=()=>zde().queryCount>30,lD=()=>{const e=Wn(Ide);if(!e)return{sidebar:!1,settingsSidebar:!1,personalize:!1};try{return JSON.parse(e)}catch{return{sidebar:!1,settingsSidebar:!1,personalize:!1}}},Bet=(e,t)=>{const r={...lD(),[e]:t};fn(Ide,JSON.stringify(r),{expires:ms})},Vet=()=>Wn(Dde)==="true",zet=e=>{fn(Dde,String(e),{expires:ms})},Het=e=>{fn(vet,e)},Wet=()=>Wn(Pde),$et=e=>{fn(Pde,e)},Bde="pplx.metadata",qet=e=>{const t=new Map;return(...n)=>{const r=JSON.stringify(n);if(t.has(r))return t.get(r);const s=e(...n);return t.set(r,s),s}},Z3={qc:0,qcu:0,qcm:0,qcc:0,qcr:0,qcdr:0,qcs:0,qcd:0,hli:!1,hcga:!1,hcds:!1,hso:!1,hfo:!1},Get=qet(e=>{if(!e)return Z3;try{const t=JSON.parse(e);return t?{...Z3,...t}:Z3}catch{return Z3}}),gs=()=>Get(Wn(Bde)),tc=e=>{fn(Bde,JSON.stringify(e),{expires:ms})},Yet=()=>{const e=gs();e.qc+=1,tc(e)},Ket=()=>{const e=gs();e.qcdr+=1,tc(e)},Qet=()=>{const e=gs();e.qcs+=1,tc(e)},BYt=()=>gs().qcu,Xet=()=>gs().qc,VYt=()=>gs().qcc,Zet=()=>gs().qcs,Jet=()=>{const e=gs();e.qcr+=1,tc(e)},ett=()=>{const e=gs();e.qcd+=1,tc(e)},ttt=({queryCount:e,queryCountCopilot:t,queryCountMobile:n})=>{const r=gs();r.qcu=e,r.qcc=t,r.qcm=n,tc(r)},Vde=()=>{const e=gs();e.hli||(e.hli=!0,tc(e))},aC=()=>{const e=gs();e.hcga||(e.hcga=!0,tc(e))},N1=()=>gs().hcga,zYt=({finished:e}={finished:!1})=>{const t=gs();t.hso&&t.hfo||(t.hso=!0,e&&(t.hfo=!0),tc(t))},cD=()=>gs().hli,uD=()=>gs().qcu>0,zde=()=>{const e=gs();return{queryCount:e.qc,queryCountUser:e.qcu,queryCountCopilot:e.qcc,hasLoggedIn:e.hli}},dD=()=>gs().qc,ntt=7,rtt=e=>{const t=gs(),n=Date.now();t.fqa||(t.fqa=n);const r=t.lqa&&n-t.lqa>ntt*24*60*60*1e3;t.lqa=n,tc(t),r&&e&&e()},stt="https://api.whatsapp.com/send/?phone=18334363285&text&type=phone_number&app_absent=0",kx=({origin:e})=>{const{trackEvent:t}=Ye();return f.useCallback(()=>{aC(),t("whatsapp button clicked",{origin:e}),window.open(stt,"_blank")},[t,e])},tl=e=>e?.includes("perplexity.ai"),att=e=>e?.includes("localhost"),itt=e=>e?.includes("pplx.dev"),Hde=e=>tl(e)&&e?.includes("preview"),ott=e=>tl(e)&&e?.includes("staging"),Wde=e=>tl(e)&&(e?.includes("alpha")||e?.includes("beta")),$de=e=>tl(e)&&e?.includes("testing"),ltt=e=>tl(e)&&e?.includes("experimental"),qde=e=>tl(e)&&e?.includes("askdev"),Gde=e=>tl(e)&&e?.startsWith("dev"),Yde=e=>tl(e)&&(e?.includes("klarna")||e?.includes("inhouse")||e?.includes("wolfram")||e?.includes("ftrouter")||e?.includes("ft")||e?.includes("brave")||e?.includes("claude2")||e?.includes("claude1-instant")||e?.includes("claude2-instant")||e?.includes("shopping")||e?.includes("turbo16k")||e?.includes("yelp")||e?.includes("mobile-flag-dev")),ctt=e=>tl(e)&&!Hde(e)&&!$de(e)&&!Wde(e)&&!qde(e)&&!Gde(e)&&!Yde(e)&&!ltt(e),utt=e=>tl(e)&&e?.includes("sandbox"),dtt=e=>e?.includes("quokka-gamma.ts.net")||e?.endsWith(".preview.i.perplexity.ai"),ftt=e=>e.isTesting||e.isLocalhost||e.isSandbox||e.isDevBox||e.isPplxDev||e.isDevDeployment,htt=e=>({isPublicDNS:tl(e),isLocalhost:att(e),isPplxDev:itt(e),isPreview:Hde(e),isStaging:ott(e),isBeta:Wde(e),isTesting:$de(e),isAskDev:qde(e),isDevBox:Gde(e),isNamedDevDomain:Yde(e),isProduction:ctt(e),isSandbox:utt(e),isDevDeployment:dtt(e)}),Kde=L.createContext({isPublicDNS:!1,isLocalhost:!1,isPplxDev:!1,isPreview:!1,isStaging:!1,isBeta:!1,isTesting:!1,isAskDev:!1,isDevBox:!1,isNamedDevDomain:!1,isProduction:!1,isSandbox:!1,isDevDeployment:!1,envHasDevLogins:!1}),Qde=L.memo(({children:e,hostname:t})=>{const n=htt(t);return o.jsx(Kde.Provider,{value:{...n,envHasDevLogins:ftt({...n})},children:e})});Qde.displayName="EnvProvider";const af=()=>{const e=L.useContext(Kde);if(!e)throw new Error("useEnv must be used within EnvContext");return e};function mtt(e){const t=new Uint8Array(e);return Array.from(t).map(n=>n.toString(16).padStart(2,"0")).join("")}async function ptt(e){const n=new TextEncoder().encode(e);return await crypto.subtle.digest("SHA-256",n)}async function gtt(e){const t=await ptt(e);return mtt(t)}const Xde=f.createContext({sendQueryEventSingular:()=>Promise.resolve(),maybeSendNthQueryEventSingular:()=>Promise.resolve(),sendSubscribedEventSingular:()=>Promise.resolve(),sendSubscribedPayingEventSingular:()=>Promise.resolve(),sendAppDownloadClickedEventSingular:()=>Promise.resolve(),sendResurrectedActivationEventSingular:()=>Promise.resolve()}),vtt={1:"activated",3:"true activated",5:"quality activated",10:"super activated"},ytt="ai.testing.perplexity",xtt="ai.perplexity",btt="perplexity_ai_039eb8fb",wtt="1e0179ca95965b57a3e91c1cf3049b64",Zde=async(e,t)=>{if(!e)return null;const n=new Date;n.setMilliseconds(0);const r=`${e}-${n.toISOString()}-${t}`;return await gtt(r)},_tt=async({productId:e,visitorId:t,userId:n})=>{const{SingularConfig:r,singularSdk:s}=await Me(async()=>{const{SingularConfig:c,singularSdk:u}=await import("./singular-sdk-CHVvA4e9.js").then(d=>d.s);return{SingularConfig:c,singularSdk:u}},[]),a=new r(btt,wtt,e);n&&a.withCustomUserId(n),s.init(a);const i="initialized singular",l=await Zde(t,i);return s.event(i,{visitorId:t,eventId:l}),s},Ctt=({children:e})=>{const t=on(),n=lm(),{isProduction:r,isStaging:s}=af(),a=f.useRef([]),i=f.useRef([]),l=wn(),{isMobile:c}=sn(),[u,d]=f.useState(void 0);f.useEffect(()=>{const v=t?.user?.id;n&&_tt({userId:v,productId:r||s?xtt:ytt,visitorId:n}).then(b=>{b&&d({sdk:b})})},[r,s,t?.user?.id,n]);const h=f.useCallback(async(v,x)=>{if(!u){a.current.push({name:v,extraArguments:x});return}const b=await Zde(n,v),w={...x,visitorId:n,eventId:b,isMobile:c};i.current.includes(v)||(u.sdk.event(v,w),i.current.push(v))},[u,n,c]),m=f.useCallback(async v=>{const x=vtt[v];x&&await h(x)},[h]),g=f.useCallback(async v=>{await h("user sign in",{isNewUser:v}),t?.user?.id&&u&&u.sdk.login(t.user.id)},[t?.user?.id,u,h]);return f.useEffect(()=>{u&&a.current.length>0&&(a.current.filter((x,b,w)=>b===w.findIndex(C=>C.name===x.name)).forEach(({name:x,extraArguments:b})=>{h(x,b)}),a.current=[])},[u,h]),f.useEffect(()=>{if(l?.get(sm)&&l?.get(JG)){const v=l?.get(JG)==="true";g(v),h(v?"new user sign in":"existing user sign in")}},[l,g,h]),o.jsx(Xde.Provider,{value:f.useMemo(()=>({sendQueryEventSingular:()=>h("query submitted"),maybeSendNthQueryEventSingular:m,sendSubscribedEventSingular:()=>h("user subscribed"),sendSubscribedPayingEventSingular:()=>h("user subscribed paying"),sendAppDownloadClickedEventSingular:v=>h("app download button clicked",{origin:v}),sendResurrectedActivationEventSingular:()=>h("resurrected activated")}),[h,m]),children:e})},Jde=()=>{const e=f.useContext(Xde);if(!e)throw new Error("useSingularAttribution must be used within SingularAttributionContext");return e},Stt="https://perplexity.sng.link/A6awk/ppas?_smtype=3&pvid=",HYt="https://perplexity.sng.link/A6awk/rcv6y?_smtype=3&pvid=",Ex=(e,t=Stt)=>{const n=lm(),[r,s]=f.useState(t),{sendAppDownloadClickedEventSingular:a}=Jde(),i=ln(),l=f.useMemo(()=>{const u=new URLSearchParams;return u.set("origin",e),n&&u.set("pvid",n),i&&u.set("pathname",i),u.toString()},[n,e,i]);f.useEffect(()=>{(async()=>{const{singularSdk:d}=await Me(async()=>{const{singularSdk:g}=await import("./singular-sdk-CHVvA4e9.js").then(v=>v.s);return{singularSdk:g}},[]);for(;!d._isInitialized;)await new Promise(g=>setTimeout(g,100));let h=null;i&&(h=`perplexity-app://${i.startsWith("/")?i.slice(1):i}`);const m=d.buildWebToAppLink(`${t}${n}&_ios_dl=${h}&_android_dl=${h}`,h,l,h);s(m)})()},[n,i,l,t]);const c=f.useCallback(()=>{aC(),a(e),window.location.href=r},[r,e,a]);return f.useMemo(()=>({downloadAppLink:r,handleAppDownloadClicked:c}),[r,c])};function fD(e,t){f.useEffect(()=>{if(typeof window>"u")return;const r=window.cookieStore;if(!r)return;const s=a=>{const i=a.deleted.find(c=>c.name===e),l=a.changed.find(c=>c.name===e);if(i||l){t(l??null);return}};return r.addEventListener("change",s),()=>{r.removeEventListener("change",s)}},[e,t])}let J3=[];class sa{static PREFERRED_COLOR_SCHEME_COOKIE="colorScheme";static get userPreferredColorScheme(){return Wn(this.PREFERRED_COLOR_SCHEME_COOKIE)}static set userPreferredColorScheme(t){fn(this.PREFERRED_COLOR_SCHEME_COOKIE,t,{expires:400}),localStorage.setItem(this.PREFERRED_COLOR_SCHEME_COOKIE,t)}static removeUserPreferredColorScheme(){g1(this.PREFERRED_COLOR_SCHEME_COOKIE),localStorage.removeItem(this.PREFERRED_COLOR_SCHEME_COOKIE)}static get isSystemScheme(){return!this.userPreferredColorScheme}static addOverride(t){const n={scheme:t};return J3.push(n),n}static removeOverride(t){J3=J3.filter(n=>n!==t)}static get colorScheme(){const t=J3.at(-1);return t?t.scheme:this.isSystemScheme?typeof window>"u"?void 0:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":this.userPreferredColorScheme}}function Mtt(e){f.useEffect(()=>{if(typeof window>"u")return;const n=window.matchMedia("(prefers-color-scheme: dark)");function r(){e(sa.colorScheme)}return n.addEventListener("change",r),()=>{n.removeEventListener("change",r)}},[e])}function ktt(){return f.useCallback(e=>{if(typeof window>"u")return;const n=document.documentElement.dataset.colorScheme==="dark",r=sa.colorScheme;if(e){document.documentElement.dataset.colorScheme=e;return}n&&r==="light"?document.documentElement.dataset.colorScheme="light":!n&&r==="dark"&&(document.documentElement.dataset.colorScheme="dark")},[])}const efe=L.createContext(null),tfe=L.memo(function(t){const{children:n,userPreferredColorScheme:r}=t,[s,a]=f.useState(r?!1:sa.isSystemScheme),[i,l]=f.useState(r??sa.colorScheme),c=f.useCallback(x=>{sa.userPreferredColorScheme=x,a(!1),l(x)},[]),u=f.useCallback(()=>{sa.removeUserPreferredColorScheme(),a(!0),l(sa.colorScheme)},[]),d=ktt(),h=f.useCallback(x=>{s&&(l(x),d())},[s,d]);Mtt(h);const m=f.useMemo(()=>Ni(x=>{const b=!x&&sa.isSystemScheme;a(b),!b&&(l(x?.value??sa.colorScheme),d(x?.value))},100),[d]);fD(sa.PREFERRED_COLOR_SCHEME_COOKIE,m),f.useEffect(()=>{sa.isSystemScheme&&(document.documentElement.dataset.colorScheme=sa.colorScheme),d()},[d]);const g=f.useCallback(x=>{const b=sa.addOverride(x);return l(sa.colorScheme),d(),b},[d]),v=f.useCallback(x=>{sa.removeOverride(x),l(sa.colorScheme),d()},[d]);return o.jsx(efe.Provider,{value:{colorScheme:i,isSystemColorScheme:s,setSystemColorScheme:u,setUserPreferredColorScheme:c,addOverride:g,removeOverride:v},children:n})});tfe.displayName="ColorSchemeProvider";function ba(e){const t=f.useContext(efe);if(!t)throw new Error("Attempted to access ColorSchemeContext from useColorScheme() without adding <ColorSchemeProvider> to the tree.");const[n,r]=f.useState(!t.isSystemColorScheme);f.useEffect(()=>{e?.addSecondPass&&t.isSystemColorScheme&&!n&&r(!0)},[t.isSystemColorScheme,n,e?.addSecondPass]);const s={...t};return e?.addSecondPass&&(s.isColorSchemeReady=n),s}let e4;async function Ett({apiKey:e,logAssignment:t}){return e4||(e4=(await Me(()=>import("./index-GoEG0LNB.js").then(r=>r.i),__vite__mapDeps([0,1]))).init({apiKey:e,assignmentLogger:{logAssignment:t}}),e4)}const Ttt=(e,t)=>{const n=f.useRef(void 0);Ya(n.current,t)||(n.current=t),f.useEffect(e,[n.current])};async function Ntt(){try{return(await(await fetch("/cdn-cgi/trace")).text()).split(`
`).reduce((n,r)=>{const[s,a]=r.split("=");return n[s]=a,n},{loc:"US"})}catch(e){return le.error("Error getting Cloudflare trace",e),{loc:"US"}}}function iC(){const{data:e}=Ft({queryKey:["cloudflare-trace"],queryFn:Ntt});return f.useMemo(()=>e?.loc??"US",[e])}function jtt({flag:e,override:t,defaultValue:n,isServer:r=!1}){if(!t)return{shouldUseOverride:!1,value:null};try{if(typeof n=="boolean")return{shouldUseOverride:!0,value:t==="true"};if(typeof n=="number")return{shouldUseOverride:!0,value:Number(t)};if(typeof n=="object")try{return{shouldUseOverride:!0,value:JSON.parse(t)}}catch(s){return le.warn(`[Eppo ${r?"Server ":""}Override]`,`Failed to parse JSON override for flag "${e}"`,{override:t,error:s}),{shouldUseOverride:!0,value:n}}return{shouldUseOverride:!0,value:t}}catch(s){return le.error(`[Eppo ${r?"Server ":""}Override] Error:`,s),{shouldUseOverride:!0,value:n}}}class Ds{static getItem(t){try{return window.sessionStorage.getItem(t)}catch{return null}}static setItem(t,n){try{return window.sessionStorage.setItem(t,n),!0}catch{return!1}}static removeItem(t){try{return window.sessionStorage.removeItem(t),!0}catch{return!1}}static clear(){try{return window.sessionStorage.clear(),!0}catch{return!1}}}const nfe="eppo_overrides",rfe="eppo_overrides",Att=e=>e?e.endsWith("@perplexity.ai"):!1,Rtt=e=>{const t={};return e.forEach((n,r)=>{if(r.startsWith("eppo_")){const s=r.replace("eppo_","");t[s]=n??""}}),t},Ltt=e=>{let t=!0;const n=JSON.stringify(e);try{fn(rfe,n)}catch{t=!1}return t=Ds.setItem(nfe,n),t},Ott=(e,t,n)=>{if(typeof window>"u"||n&&!Att(e))return!1;const r=Rtt(t);return Object.keys(r).length===0?!1:Ltt(r)};function Ptt(){try{const e=Wn(rfe);if(e)return JSON.parse(e);const t=Ds.getItem(nfe);return t?JSON.parse(t):{}}catch{return{}}}const Itt={getEppoTypedVariation:function(){return Promise.resolve(void 0)},keysRequiringRerender:[],addKeyRequiringRerender:()=>null,removeKeyRequiringRerender:()=>null},hD=f.createContext(Itt),Dtt="experiment assignment",Ftt=(e,t,n,r)=>s=>Il({name:Dtt,data:{subjectType:s.subjectAttributes.subjectType,pagePropsHostname:r,colorScheme:n,isPerplexityBrowser:t,...s},session:e??void 0}),Utt=({children:e,hostname:t})=>{const n=on(),r=iC(),s=lm(),a=Pet(),i=Ln(),[l,c]=f.useState([]),{isProduction:u,isStaging:d}=af(),h=u||d?"Xt1y37LY9CvTrzAJsLSz8cLMtXN3IUEvJZHciWbO-OU":"GwM0spEq_mbseGAJ5OOouSj2OFUMOgsHV_mlozU75Zo",{colorScheme:m}=ba(),g=f.useRef(void 0),v=wn(),[x,b]=f.useState(!1),{locale:w}=ae(),{isWindowsApp:C}=sn(),{isMobileStyle:S}=qe(),k=f.useCallback(N=>{Ftt(n,i,m,t)(N)},[n,i,m,t]);f.useEffect(()=>{if(x||!v)return;Ott(n?.user?.email,v,u)&&b(!0)},[v,n?.user?.email,x,u]);const E=f.useCallback(async function(N,{flag:R,subjectType:O,stableId:I,defaultValue:B,extraAttributes:D}){let z;if(I?z=I:O==="user_nextauth_id"?z=n?.user?.id:O==="visitor_id"?z=s??void 0:O==="session_id"?z=a??void 0:O==="context_uuid"&&(z=D?.context_uuid),!z)return B;const V=Ptt(),{shouldUseOverride:U,value:H}=jtt({flag:R,override:V[R],defaultValue:B});if(U)return H??B;if(!h)return le.error("[Eppo Experiments]","No Eppo API key found"),B;g.current||(g.current=Ett({apiKey:h,logAssignment:k}));const q=await g.current;try{return N(q,R,z,{subjectType:O,visitorId:s??void 0,sessionId:a??void 0,userEmail:n?.user?.email??void 0,userId:n?.user?.id??void 0,appApiClient:qPe(S,C),cfCountry:r,locale:w,isComet:i,...zde(),...D??{}},B)}catch{return le.error("[Eppo Experiments]",`[${R}]`,new Error(`Error for subjectKey ${z}`)),B}},[h,n?.user?.id,n?.user?.email,s,a,k,S,C,r,w,i]),T=f.useCallback(N=>{c(R=>R.includes(N)?R:[...R,N])},[]),j=N=>{c(R=>R.includes(N)?R.filter(O=>O!==N):R)};return o.jsx(hD.Provider,{value:{getEppoTypedVariation:E,keysRequiringRerender:l,addKeyRequiringRerender:T,removeKeyRequiringRerender:j},children:e})};function Cg(e,t){const n=f.useContext(hD);if(!n)throw new Error("useGetEppoJSONVariation must be used within EppoExperimentsContext");const{getEppoTypedVariation:r}=n,[s,a]=f.useState(!0),[i,l]=f.useState(void 0),[c,u]=f.useState(e.defaultValue),d=f.useRef(e),h=f.useCallback(async()=>{const{skip:m,...g}=d.current;try{return r(t,g)}catch{return g.defaultValue}},[r,t]);return Ttt(()=>{d.current=e;const{skip:m,...g}=e;if(m){a(!1);return}a(!0),r(t,g).then(v=>u(v),l).finally(()=>a(!1))},[r,e]),{value:c,loading:s,error:i,fetchVariation:h}}const sfe=(e,...t)=>e.getJSONAssignment(...t);function Sg(e){return Cg(e,sfe)}function Btt(e,t){const n={...e,subjectType:"context_uuid",extraAttributes:{...e.extraAttributes,context_uuid:t}};return Cg(n,sfe)}const Vtt=(e,...t)=>e.getStringAssignment(...t);function mD(e){return Cg(e,Vtt)}const ztt=(e,...t)=>e.getBooleanAssignment(...t);function vs(e){return Cg(e,ztt)}const Htt=(e,...t)=>e.getNumericAssignment(...t);function Wtt(e){return Cg(e,Htt)}const $tt=(e,...t)=>e.getIntegerAssignment(...t);function qtt(e){return Cg(e,$tt)}function oC(e){return Sg({...e,subjectType:"visitor_id",skip:!1})}function WYt(e){return mD({...e,subjectType:"visitor_id",skip:!1})}function Fs(e){return vs({...e,subjectType:"visitor_id",skip:!1})}const of=()=>{const e=f.useContext(hD);if(!e)throw new Error("useEppoExperiments must be used within EppoExperimentsContext");return e},Tx=()=>{const{value:e,loading:t}=Fs({flag:"mweb-upsell-to-whatsapp",defaultValue:!1});return f.useMemo(()=>({mwebUpsellWhatsApp:e,loadingMwebUpsellWhatsApp:t}),[e,t])},Ud=f.memo(({isSamsungBrowser:e,isWindowsApp:t,isComet:n,isCometSidecar:r,children:s})=>{const a=Ln(),i=pr(),{isWindowsApp:l,isSamsungBrowser:c}=sn();return f.useMemo(()=>!!(n&&a||r&&i||t&&l||e&&c),[a,i,l,c,n,r,e,t])?null:s});var FM="focusScope.autoFocusOnMount",UM="focusScope.autoFocusOnUnmount",oQ={bubbles:!1,cancelable:!0},Gtt="FocusScope",pD=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...i}=e,[l,c]=f.useState(null),u=da(s),d=da(a),h=f.useRef(null),m=Fr(t,x=>c(x)),g=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let x=function(S){if(g.paused||!l)return;const k=S.target;l.contains(k)?h.current=k:cd(h.current,{select:!0})},b=function(S){if(g.paused||!l)return;const k=S.relatedTarget;k!==null&&(l.contains(k)||cd(h.current,{select:!0}))},w=function(S){if(document.activeElement===document.body)for(const E of S)E.removedNodes.length>0&&cd(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const C=new MutationObserver(w);return l&&C.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),C.disconnect()}}},[r,l,g.paused]),f.useEffect(()=>{if(l){cQ.add(g);const x=document.activeElement;if(!l.contains(x)){const w=new CustomEvent(FM,oQ);l.addEventListener(FM,u),l.dispatchEvent(w),w.defaultPrevented||(Ytt(Jtt(afe(l)),{select:!0}),document.activeElement===x&&cd(l))}return()=>{l.removeEventListener(FM,u),setTimeout(()=>{const w=new CustomEvent(UM,oQ);l.addEventListener(UM,d),l.dispatchEvent(w),w.defaultPrevented||cd(x??document.body,{select:!0}),l.removeEventListener(UM,d),cQ.remove(g)},0)}}},[l,u,d,g]);const v=f.useCallback(x=>{if(!n&&!r||g.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,w=document.activeElement;if(b&&w){const C=x.currentTarget,[S,k]=Ktt(C);S&&k?!x.shiftKey&&w===k?(x.preventDefault(),n&&cd(S,{select:!0})):x.shiftKey&&w===S&&(x.preventDefault(),n&&cd(k,{select:!0})):w===C&&x.preventDefault()}},[n,r,g.paused]);return o.jsx(Jn.div,{tabIndex:-1,...i,ref:m,onKeyDown:v})});pD.displayName=Gtt;function Ytt(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(cd(r,{select:t}),document.activeElement!==n)return}function Ktt(e){const t=afe(e),n=lQ(t,e),r=lQ(t.reverse(),e);return[n,r]}function afe(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function lQ(e,t){for(const n of e)if(!Qtt(n,{upTo:t}))return n}function Qtt(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Xtt(e){return e instanceof HTMLInputElement&&"select"in e}function cd(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Xtt(e)&&t&&e.select()}}var cQ=Ztt();function Ztt(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=uQ(e,t),e.unshift(t)},remove(t){e=uQ(e,t),e[0]?.resume()}}}function uQ(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Jtt(e){return e.filter(t=>t.tagName!=="A")}var BM=0;function ife(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??dQ()),document.body.insertAdjacentElement("beforeend",e[1]??dQ()),BM++,()=>{BM===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),BM--}},[])}function dQ(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var h2="right-scroll-bar-position",m2="width-before-scroll-bar",ent="with-scroll-bars-hidden",tnt="--removed-body-scroll-bar-size";function VM(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function nnt(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var rnt=typeof window<"u"?f.useLayoutEffect:f.useEffect,fQ=new WeakMap;function ofe(e,t){var n=nnt(null,function(r){return e.forEach(function(s){return VM(s,r)})});return rnt(function(){var r=fQ.get(n);if(r){var s=new Set(r),a=new Set(e),i=n.current;s.forEach(function(l){a.has(l)||VM(l,null)}),a.forEach(function(l){s.has(l)||VM(l,i)})}fQ.set(n,e)},[e]),n}function snt(e){return e}function ant(e,t){t===void 0&&(t=snt);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var i=t(a,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(a){for(r=!0;n.length;){var i=n;n=[],i.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(a),i=n}var c=function(){var d=i;i=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function lfe(e){e===void 0&&(e={});var t=ant(null);return t.options=yr({async:!0,ssr:!1},e),t}var cfe=function(e){var t=e.sideCar,n=tP(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,yr({},n))};cfe.isSideCarExport=!0;function ufe(e,t){return e.useMedium(t),cfe}var dfe=lfe(),zM=function(){},lC=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:zM,onWheelCapture:zM,onTouchMoveCapture:zM}),s=r[0],a=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,m=e.sideCar,g=e.noIsolation,v=e.inert,x=e.allowPinchZoom,b=e.as,w=b===void 0?"div":b,C=e.gapMode,S=tP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=m,E=ofe([n,t]),T=yr(yr({},S),s);return f.createElement(f.Fragment,null,d&&f.createElement(k,{sideCar:dfe,removeScrollBar:u,shards:h,noIsolation:g,inert:v,setCallbacks:a,allowPinchZoom:!!x,lockRef:n,gapMode:C}),i?f.cloneElement(f.Children.only(l),yr(yr({},T),{ref:E})):f.createElement(w,yr({},T,{className:c,ref:E}),l))});lC.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lC.classNames={fullWidth:m2,zeroRight:h2};var int=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ont(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=int();return t&&e.setAttribute("nonce",t),e}function lnt(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function cnt(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var unt=function(){var e=0,t=null;return{add:function(n){e==0&&(t=ont())&&(lnt(t,n),cnt(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},dnt=function(){var e=unt();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},gD=function(){var e=dnt(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},fnt={left:0,top:0,right:0,gap:0},HM=function(e){return parseInt(e||"",10)||0},hnt=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[HM(n),HM(r),HM(s)]},mnt=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return fnt;var t=hnt(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},pnt=gD(),Xp="data-scroll-locked",gnt=function(e,t,n,r){var s=e.left,a=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(ent,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Xp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(h2,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(m2,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(h2," .").concat(h2,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(m2," .").concat(m2,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Xp,`] {
    `).concat(tnt,": ").concat(l,`px;
  }
`)},hQ=function(){var e=parseInt(document.body.getAttribute(Xp)||"0",10);return isFinite(e)?e:0},vnt=function(){f.useEffect(function(){return document.body.setAttribute(Xp,(hQ()+1).toString()),function(){var e=hQ()-1;e<=0?document.body.removeAttribute(Xp):document.body.setAttribute(Xp,e.toString())}},[])},ffe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;vnt();var a=f.useMemo(function(){return mnt(s)},[s]);return f.createElement(pnt,{styles:gnt(a,!t,s,n?"":"!important")})},hA=!1;if(typeof window<"u")try{var t4=Object.defineProperty({},"passive",{get:function(){return hA=!0,!0}});window.addEventListener("test",t4,t4),window.removeEventListener("test",t4,t4)}catch{hA=!1}var tp=hA?{passive:!1}:!1,ynt=function(e){return e.tagName==="TEXTAREA"},hfe=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!ynt(e)&&n[t]==="visible")},xnt=function(e){return hfe(e,"overflowY")},bnt=function(e){return hfe(e,"overflowX")},mQ=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=mfe(e,r);if(s){var a=pfe(e,r),i=a[1],l=a[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},wnt=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},_nt=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},mfe=function(e,t){return e==="v"?xnt(t):bnt(t)},pfe=function(e,t){return e==="v"?wnt(t):_nt(t)},Cnt=function(e,t){return e==="h"&&t==="rtl"?-1:1},Snt=function(e,t,n,r,s){var a=Cnt(e,window.getComputedStyle(t).direction),i=a*r,l=n.target,c=t.contains(l),u=!1,d=i>0,h=0,m=0;do{var g=pfe(e,l),v=g[0],x=g[1],b=g[2],w=x-b-a*v;(v||w)&&mfe(e,l)&&(h+=w,m+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(h)<1||!d&&Math.abs(m)<1)&&(u=!0),u},n4=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},pQ=function(e){return[e.deltaX,e.deltaY]},gQ=function(e){return e&&"current"in e?e.current:e},Mnt=function(e,t){return e[0]===t[0]&&e[1]===t[1]},knt=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ent=0,np=[];function Tnt(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),s=f.useState(Ent++)[0],a=f.useState(gD)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=lt([e.lockRef.current],(e.shards||[]).map(gQ),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var w=n4(x),C=n.current,S="deltaX"in x?x.deltaX:C[0]-w[0],k="deltaY"in x?x.deltaY:C[1]-w[1],E,T=x.target,j=Math.abs(S)>Math.abs(k)?"h":"v";if("touches"in x&&j==="h"&&T.type==="range")return!1;var N=mQ(j,T);if(!N)return!0;if(N?E=j:(E=j==="v"?"h":"v",N=mQ(j,T)),!N)return!1;if(!r.current&&"changedTouches"in x&&(S||k)&&(r.current=E),!E)return!0;var R=r.current||E;return Snt(R,b,x,R==="h"?S:k)},[]),c=f.useCallback(function(x){var b=x;if(!(!np.length||np[np.length-1]!==a)){var w="deltaY"in b?pQ(b):n4(b),C=t.current.filter(function(E){return E.name===b.type&&(E.target===b.target||b.target===E.shadowParent)&&Mnt(E.delta,w)})[0];if(C&&C.should){b.cancelable&&b.preventDefault();return}if(!C){var S=(i.current.shards||[]).map(gQ).filter(Boolean).filter(function(E){return E.contains(b.target)}),k=S.length>0?l(b,S[0]):!i.current.noIsolation;k&&b.cancelable&&b.preventDefault()}}},[]),u=f.useCallback(function(x,b,w,C){var S={name:x,delta:b,target:w,should:C,shadowParent:Nnt(w)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(k){return k!==S})},1)},[]),d=f.useCallback(function(x){n.current=n4(x),r.current=void 0},[]),h=f.useCallback(function(x){u(x.type,pQ(x),x.target,l(x,e.lockRef.current))},[]),m=f.useCallback(function(x){u(x.type,n4(x),x.target,l(x,e.lockRef.current))},[]);f.useEffect(function(){return np.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,tp),document.addEventListener("touchmove",c,tp),document.addEventListener("touchstart",d,tp),function(){np=np.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,tp),document.removeEventListener("touchmove",c,tp),document.removeEventListener("touchstart",d,tp)}},[]);var g=e.removeScrollBar,v=e.inert;return f.createElement(f.Fragment,null,v?f.createElement(a,{styles:knt(s)}):null,g?f.createElement(ffe,{gapMode:e.gapMode}):null)}function Nnt(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const jnt=ufe(dfe,Tnt);var vD=f.forwardRef(function(e,t){return f.createElement(lC,yr({},e,{ref:t,sideCar:jnt}))});vD.classNames=lC.classNames;var Ant=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},rp=new WeakMap,r4=new WeakMap,s4={},WM=0,gfe=function(e){return e&&(e.host||gfe(e.parentNode))},Rnt=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=gfe(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Lnt=function(e,t,n,r){var s=Rnt(t,Array.isArray(e)?e:[e]);s4[n]||(s4[n]=new WeakMap);var a=s4[n],i=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))d(m);else try{var g=m.getAttribute(r),v=g!==null&&g!=="false",x=(rp.get(m)||0)+1,b=(a.get(m)||0)+1;rp.set(m,x),a.set(m,b),i.push(m),x===1&&v&&r4.set(m,!0),b===1&&m.setAttribute(n,"true"),v||m.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return d(t),l.clear(),WM++,function(){i.forEach(function(h){var m=rp.get(h)-1,g=a.get(h)-1;rp.set(h,m),a.set(h,g),m||(r4.has(h)||h.removeAttribute(r),r4.delete(h)),g||h.removeAttribute(n)}),WM--,WM||(rp=new WeakMap,rp=new WeakMap,r4=new WeakMap,s4={})}},vfe=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=Ant(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Lnt(r,s,n,"aria-hidden")):function(){return null}},yD="Dialog",[yfe,$Yt]=Zo(yD),[Ont,nl]=yfe(yD),xD=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!0}=e,l=f.useRef(null),c=f.useRef(null),[u=!1,d]=rf({prop:r,defaultProp:s,onChange:a});return o.jsx(Ont,{scope:t,triggerRef:l,contentRef:c,contentId:Yp(),titleId:Yp(),descriptionId:Yp(),open:u,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),modal:i,children:n})};xD.displayName=yD;var xfe="DialogTrigger",bfe=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=nl(xfe,n),a=Fr(t,s.triggerRef);return o.jsx(Jn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":kD(s.open),...r,ref:a,onClick:pn(e.onClick,s.onOpenToggle)})});bfe.displayName=xfe;var bD="DialogPortal",[Pnt,wfe]=yfe(bD,{forceMount:void 0}),wD=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=nl(bD,t);return o.jsx(Pnt,{scope:t,forceMount:n,children:f.Children.map(r,i=>o.jsx(Da,{present:n||a.open,children:o.jsx(wx,{asChild:!0,container:s,children:i})}))})};wD.displayName=bD;var jw="DialogOverlay",_D=f.forwardRef((e,t)=>{const n=wfe(jw,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=nl(jw,e.__scopeDialog);return a.modal?o.jsx(Da,{present:r||a.open,children:o.jsx(Int,{...s,ref:t})}):null});_D.displayName=jw;var Int=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=nl(jw,n);return o.jsx(vD,{as:V_,allowPinchZoom:!0,shards:[s.contentRef],children:o.jsx(Jn.div,{"data-state":kD(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ah="DialogContent",CD=f.forwardRef((e,t)=>{const n=wfe(Ah,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=nl(Ah,e.__scopeDialog);return o.jsx(Da,{present:r||a.open,children:a.modal?o.jsx(Dnt,{...s,ref:t}):o.jsx(Fnt,{...s,ref:t})})});CD.displayName=Ah;var Dnt=f.forwardRef((e,t)=>{const n=nl(Ah,e.__scopeDialog),r=f.useRef(null),s=Fr(t,n.contentRef,r);return f.useEffect(()=>{const a=r.current;if(a)return vfe(a)},[]),o.jsx(_fe,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pn(e.onCloseAutoFocus,a=>{a.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:pn(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&a.preventDefault()}),onFocusOutside:pn(e.onFocusOutside,a=>a.preventDefault())})}),Fnt=f.forwardRef((e,t)=>{const n=nl(Ah,e.__scopeDialog),r=f.useRef(!1),s=f.useRef(!1);return o.jsx(_fe,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;n.triggerRef.current?.contains(i)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),_fe=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...i}=e,l=nl(Ah,n),c=f.useRef(null),u=Fr(t,c);return ife(),o.jsxs(o.Fragment,{children:[o.jsx(pD,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(xx,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":kD(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Unt,{titleId:l.titleId}),o.jsx(Vnt,{contentRef:c,descriptionId:l.descriptionId})]})]})}),SD="DialogTitle",MD=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=nl(SD,n);return o.jsx(Jn.h2,{id:s.titleId,...r,ref:t})});MD.displayName=SD;var Cfe="DialogDescription",Sfe=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=nl(Cfe,n);return o.jsx(Jn.p,{id:s.descriptionId,...r,ref:t})});Sfe.displayName=Cfe;var Mfe="DialogClose",kfe=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=nl(Mfe,n);return o.jsx(Jn.button,{type:"button",...r,ref:t,onClick:pn(e.onClick,()=>s.onOpenChange(!1))})});kfe.displayName=Mfe;function kD(e){return e?"open":"closed"}var Efe="DialogTitleWarning",[qYt,Tfe]=OQe(Efe,{contentName:Ah,titleName:SD,docsSlug:"dialog"}),Unt=({titleId:e})=>{const t=Tfe(Efe),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Bnt="DialogDescriptionWarning",Vnt=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Tfe(Bnt).contentName}}.`;return f.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},ED=xD,znt=bfe,TD=wD,Nfe=_D,cC=CD,uC=MD,ND=Sfe,Hnt=kfe;const it=f.memo(f.forwardRef(({variant:e="common",noPadding:t,noXPadding:n,extraCSS:r,...s},a)=>{const i=f.useMemo(()=>W("focus-visible:bg-offsetPlus dark:focus-visible:bg-offsetPlusDark",{"!p-0 !h-auto hover:!bg-transparent":t},{"!px-0 hover:!bg-transparent":n},{super:"hover:bg-offsetPlus text-super dark:hover:bg-offsetPlusDark",primary:"hover:bg-offsetPlus text-textMain dark:hover:bg-offsetPlusDark",common:"hover:bg-offsetPlus text-textOff  hover:text-textMain dark:hover:bg-offsetPlusDark dark:hover:text-textMainDark",positive:"text-textOff  hover:bg-offsetPlus hover:text-super",positiveSelected:"text-super hover:bg-offsetPlus hover:text-super",negative:"text-text-200 hover:bg-offsetPlus hover:text-caution",negativeSelected:"text-caution dark:text-caution hover:bg-offsetPlus hover:text-caution",noBackground:"text-text-200 hover:text-text",noHover:"text-textOff  cursor-default",offset:"text-textMain bg-offsetPlus"}[e],r),[r,e,t,n]);return o.jsx(Xue,{testId:s.testId,extraCSS:i,...s,ref:a})})),Wnt=({children:e})=>{const{isMobileSidebarOpen:t,setMobileSidebarOpen:n}=Eu(),{$t:r}=ae();return o.jsx(xD,{open:t,onOpenChange:n,children:o.jsxs(wD,{forceMount:!0,children:[o.jsx(_x,{children:o.jsx(MD,{children:r({defaultMessage:"Mobile Sidebar",id:"37aIxgWRuh"})})}),o.jsx(kt,{children:t&&o.jsxs(o.Fragment,{children:[o.jsx(_D,{asChild:!0,children:o.jsx(je.div,{className:"fixed inset-0 bg-black/20 dark:bg-black/50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}},"mobile-sidebar-overlay")}),o.jsx(CD,{asChild:!0,children:o.jsx(je.div,{className:"bg-background-100 fixed inset-y-0 left-0",initial:{x:"-100%"},animate:{x:"0%"},exit:{x:"-100%"},transition:{duration:.2,ease:Ar},children:e},"mobile-sidebar-content")})]})})]})})},jD=({className:e})=>{const{isMobileSidebarOpen:t,setMobileSidebarOpen:n}=Eu();return o.jsx(it,{icon:NWe,pill:!0,onClick:()=>n(!t),extraCSS:e})},$nt=L.memo(({})=>{const{$t:e}=ae(),{trackEvent:t}=Ye(),n=f.useCallback(()=>{t("click logo",{})},[t]),{isIOS:r}=sn(),{handleAppDownloadClicked:s}=Ex("mobile-header"),a=kx({origin:"mobile-header"}),{mwebUpsellWhatsApp:i,loadingMwebUpsellWhatsApp:l}=Tx(),c=f.useMemo(()=>i?hI:r?JI:sI,[i,r]);return o.jsx(Q,{variant:"background",className:"px-sm h-headerHeight sticky left-0 right-0 top-0 z-10 flex w-full items-center md:mb-0",children:o.jsxs("div",{className:"gap-x-sm pl-xs flex w-full items-center justify-between md:hidden",children:[o.jsxs("div",{className:"gap-x-sm flex items-center",children:[o.jsx(jD,{className:"-ml-sm"}),o.jsx(Nt,{href:"/",onClick:n,children:o.jsx(Ei,{variant:"text",size:"small"})})]}),!l&&o.jsx(Ud,{isSamsungBrowser:!0,children:o.jsx("div",{className:"animate-in fade-in duration-300",children:o.jsx(Le,{size:"small",pill:!0,variant:"primary",icon:c,text:e(i?{defaultMessage:"Chat in WhatsApp",id:"jXqSBQcpKC"}:{defaultMessage:"Open in App",id:"fo3x6hDxdZ"}),onClick:i?a:s})})})]})})}),AD=L.memo(e=>{const{children:t,inRenderingPlace:n}=e,s=ga().erp;return n&&n===s||!n&&s!==void 0?null:o.jsx(o.Fragment,{children:t})});AD.displayName="HideInEntropy";const vQ="comet-custom-color-themes-enabled";function qnt(){const e=Wn(vQ),{value:t,loading:n}=Fs({flag:"comet-custom-color-themes-enabled",defaultValue:e==="true"});return f.useEffect(()=>{n||fn(vQ,t?"true":"false")},[t,n]),t}const Gnt=()=>{const e=qnt(),t=f.useCallback(r=>{const s=document.documentElement;if(!e){s.removeAttribute("data-theme");return}const a=r??Wn("colorSchemeTheme"),i=Tie(a);i?s.setAttribute("data-theme",i):s.removeAttribute("data-theme")},[e]),n=f.useMemo(()=>Ni(t,100),[t]);fD("colorSchemeTheme",r=>{n(r?.value)}),f.useEffect(()=>{t()},[t,e])},Ynt=/^\/b\//;function jfe(e){return e&&Ynt.test(e)}function Knt(e){return e?new URL(window.location.href).pathname.endsWith(`/search/${e}`):!1}function Qnt(e){return e?.startsWith("/collections")||e?.startsWith("/spaces")}const yQ={BASE_URL:"https://pplx-next-static-public.perplexity.ai/_spa",DEV:!1,MODE:"production",PROD:!0,SSR:!1},mA=new Map,a4=e=>{const t=mA.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,r])=>[n,r.getState()])):{}},Xnt=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const r=mA.get(n.name);if(r)return{type:"tracked",store:e,...r};const s={connection:t.connect(n),stores:{}};return mA.set(n.name,s),{type:"tracked",store:e,...s}},Znt=(e,t={})=>(n,r,s)=>{const{enabled:a,anonymousActionType:i,store:l,...c}=t;let u;try{u=(a??(yQ?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return e(n,r,s);const{connection:d,...h}=Xnt(l,u,c);let m=!0;s.setState=(x,b,w)=>{const C=n(x,b);if(!m)return C;const S=w===void 0?{type:i||"anonymous"}:typeof w=="string"?{type:w}:w;return l===void 0?(d?.send(S,r()),C):(d?.send({...S,type:`${l}/${S.type}`},{...a4(c.name),[l]:s.getState()}),C)};const g=(...x)=>{const b=m;m=!1,n(...x),m=b},v=e(s.setState,r,s);if(h.type==="untracked"?d?.init(v):(h.stores[h.store]=s,d?.init(Object.fromEntries(Object.entries(h.stores).map(([x,b])=>[x,x===h.store?v:b.getState()])))),s.dispatchFromDevtools&&typeof s.dispatch=="function"){let x=!1;const b=s.dispatch;s.dispatch=(...w)=>{(yQ?"production":void 0)!=="production"&&w[0].type==="__setState"&&!x&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),x=!0),b(...w)}}return d.subscribe(x=>{var b;switch(x.type){case"ACTION":if(typeof x.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return $M(x.payload,w=>{if(w.type==="__setState"){if(l===void 0){g(w.state);return}Object.keys(w.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const C=w.state[l];if(C==null)return;JSON.stringify(s.getState())!==JSON.stringify(C)&&g(C);return}s.dispatchFromDevtools&&typeof s.dispatch=="function"&&s.dispatch(w)});case"DISPATCH":switch(x.payload.type){case"RESET":return g(v),l===void 0?d?.init(s.getState()):d?.init(a4(c.name));case"COMMIT":if(l===void 0){d?.init(s.getState());return}return d?.init(a4(c.name));case"ROLLBACK":return $M(x.state,w=>{if(l===void 0){g(w),d?.init(s.getState());return}g(w[l]),d?.init(a4(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return $M(x.state,w=>{if(l===void 0){g(w);return}JSON.stringify(s.getState())!==JSON.stringify(w[l])&&g(w[l])});case"IMPORT_STATE":{const{nextLiftedState:w}=x.payload,C=(b=w.computedStates.slice(-1)[0])==null?void 0:b.state;if(!C)return;g(l===void 0?C:C[l]),d?.send(null,w);return}case"PAUSE_RECORDING":return m=!m}return}}),v},Jnt=Znt,$M=(e,t)=>{let n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&t(n)},ert=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(i,l,c)=>{let u=i;if(l){const d=c?.equalityFn||Object.is;let h=i(r.getState());u=m=>{const g=i(m);if(!d(h,g)){const v=h;l(h=g,v)}},c?.fireImmediately&&l(h,h)}return s(u)},e(t,n,r)},Afe=ert,trt=Symbol(),Rfe=Symbol(),zv="a",Lfe="f",xQ="p",Ofe="c",Pfe="t",Ife="h",E5="w",Dfe="o",Ffe="k";let nrt=(e,t)=>new Proxy(e,t);const pA=Object.getPrototypeOf,bQ=new WeakMap,rrt=e=>e&&(bQ.has(e)?bQ.get(e):pA(e)===Object.prototype||pA(e)===Array.prototype),wQ=e=>typeof e=="object"&&e!==null,srt=e=>Object.values(Object.getOwnPropertyDescriptors(e)).some(t=>!t.configurable&&!t.writable),art=e=>{if(Array.isArray(e))return Array.from(e);const t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach(n=>{n.configurable=!0}),Object.create(pA(e),t)},irt=(e,t)=>{const n={[Lfe]:t};let r=!1;const s=(l,c)=>{if(!r){let u=n[zv].get(e);if(u||(u={},n[zv].set(e,u)),l===E5)u[E5]=!0;else{let d=u[l];d||(d=new Set,u[l]=d),d.add(c)}}},a=()=>{r=!0,n[zv].delete(e)},i={get(l,c){return c===Rfe?e:(s(Ffe,c),Bfe(Reflect.get(l,c),n[zv],n[Ofe],n[Pfe]))},has(l,c){return c===trt?(a(),!0):(s(Ife,c),Reflect.has(l,c))},getOwnPropertyDescriptor(l,c){return s(Dfe,c),Reflect.getOwnPropertyDescriptor(l,c)},ownKeys(l){return s(E5),Reflect.ownKeys(l)}};return t&&(i.set=i.deleteProperty=()=>!1),[i,n]},Ufe=e=>e[Rfe]||e,Bfe=(e,t,n,r)=>{if(!rrt(e))return e;let s=r&&r.get(e);if(!s){const c=Ufe(e);srt(c)?s=[c,art(c)]:s=[c],r?.set(e,s)}const[a,i]=s;let l=n&&n.get(a);return(!l||l[1][Lfe]!==!!i)&&(l=irt(a,!!i),l[1][xQ]=nrt(i||a,l[0]),n&&n.set(a,l)),l[1][zv]=t,l[1][Ofe]=n,l[1][Pfe]=r,l[1][xQ]},ort=(e,t)=>{const n=Reflect.ownKeys(e),r=Reflect.ownKeys(t);return n.length!==r.length||n.some((s,a)=>s!==r[a])},gA=(e,t,n,r,s=Object.is)=>{if(s(e,t))return!1;if(!wQ(e)||!wQ(t))return!0;const a=n.get(Ufe(e));if(!a)return!0;if(r){if(r.get(e)===t)return!1;r.set(e,t)}let i=null;for(const l of a[Ife]||[])if(i=Reflect.has(e,l)!==Reflect.has(t,l),i)return i;if(a[E5]===!0){if(i=ort(e,t),i)return i}else for(const l of a[Dfe]||[]){const c=!!Reflect.getOwnPropertyDescriptor(e,l),u=!!Reflect.getOwnPropertyDescriptor(t,l);if(i=c!==u,i)return i}for(const l of a[Ffe]||[])if(i=gA(e[l],t[l],n,r,s),i)return i;if(i===null)throw new Error("invalid used");return i},lrt=e=>()=>{const[,n]=f.useReducer(u=>u+1,0),r=f.useMemo(()=>new WeakMap,[]),s=f.useRef(),a=f.useRef();f.useEffect(()=>{s.current!==a.current&&gA(s.current,a.current,r,new WeakMap)&&(s.current=a.current,n())});const i=f.useCallback(u=>(a.current=u,s.current&&s.current!==u&&!gA(s.current,u,r,new WeakMap)?s.current:(s.current=u,u)),[r]),l=e(i),c=f.useMemo(()=>new WeakMap,[]);return Bfe(l,r,c)};function Nx(e){const t=L.createContext(null),{useSelector:n,useStore:r,useTrackedState:s}=Vfe(t,e);return{Context:t,useSelector:n,useStore:r,useTrackedState:s}}function Vfe(e,t){const n=()=>{const a=L.useContext(e);if(!a)throw new Error(`This hook must be used within ${t}.Provider`);return a},r=a=>n()(a),s=lrt(r);return{useSelector:r,useStore:n,useTrackedState:s}}const Mg=(e,t)=>{const n=L.createContext(null),r=l=>{const[c]=L.useState(()=>l.initialValue?t(l?.initialValue):t(void 0));return o.jsx(n.Provider,{value:c,children:l.children})},{useSelector:s,useStore:a,useTrackedState:i}=Vfe(n,e);return{useSelector:s,useStore:a,useTrackedState:i,Context:n,Provider:r}},{Context:crt,useTrackedState:urt}=Nx("LocalUserSettings"),drt=({trackEvent:e,initialLocalUserSettings:t})=>uo()(Afe(n=>({...t,actions:{setIsSplashPageDismissed:(r,s)=>{Cet(r,s),n({isSplashPageDismissed:r})},setColorScheme:r=>{n({colorScheme:r})},setIsSidebarPinned:r=>{n({isSidebarPinned:r}),fn("isSidebarPinned",String(r),{expires:ms})},setSidebarHiddenHubs:r=>{n({sidebarHiddenHubs:r}),fn("sidebarHiddenHubs",JSON.stringify(r),{expires:ms})},setIsCollapsed:r=>{e("sidebar toggled",{is_collapsed:r}),fn("isCollapsed",String(r),{expires:ms}),n({isCollapsed:r})},setIsIncognito:async r=>{const s=await Jo.getSession(),a=s!==null&&typeof s<"u";a&&Vde(),a&&(_et(r),n({isIncognitoLocal:r}))},setIsDiscoverInterestBoxDismissed:r=>{Met(r),n({isDiscoverInterestBoxDismissed:r})},setIsEnterpriseAdDismissed:r=>{Eet(r),n({isEnterpriseAdDismissed:r})},setIsSuggestionsDisabled:r=>{e("auto suggestion setting toggled",{isEnabled:!r}),Tet(r),n({isSuggestionsDisabled:r})},setIsHomepageWidgetsDisabled:r=>{e("homepage widgets setting toggled",{isEnabled:!r}),Net(r),n({isHomepageWidgetsDisabled:r})},setIsSportsIosCtaDismissed:r=>{Ret(r),n({isSportsIosCtaDismissed:r})},setPreferredSearchMode(r){r?fn(fA,r,{expires:ms}):g1(fA),n({preferredSearchMode:r})},setPreferredSearchModel(r,s){n(a=>{const{preferredSearchModels:i={}}=a;s?i[r]=s:r&&delete i[r];try{fn(Fde,JSON.stringify(i),{expires:ms})}catch{}finally{a.preferredSearchModels=i}return a})},setWelcomeBackGateImpressions:r=>{jet(r),n({welcomeBackGateImpressions:r})},setShareGateImpressions:r=>{Aet(r),n({shareGateImpressions:r})},setIsSidebarConnectorsAdDismissed:r=>{Iet(r),n({isSidebarConnectorsAdDismissed:r})},setIsStudentReferralBannerDismissed:r=>{Uet(r),n({isStudentReferralBannerDismissed:r})}}}))),frt=({children:e,initialLocalUserSettings:t})=>{const{trackEvent:n}=Ye(),[r]=f.useState(()=>drt({trackEvent:n,initialLocalUserSettings:t}));return fD(oD,s=>{s&&r.setState({isIncognitoLocal:JSON.parse(s.value)})}),o.jsx(crt.Provider,{value:r,children:e})},On=urt,zfe=f.createContext(null),hrt=({children:e,scrollContainerRef:t})=>o.jsx(zfe.Provider,{value:{scrollContainerRef:t},children:e}),Mu=()=>{const e=f.useContext(zfe);if(!e)throw new Error("useScrollContainerRef must be used within a ScrollContainerRefProvider");return e};/*!
 * Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function mrt(e,t,n){return(t=grt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_Q(Object(n),!0).forEach(function(r){mrt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_Q(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function prt(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function grt(e){var t=prt(e,"string");return typeof t=="symbol"?t:t+""}const CQ=()=>{};let RD={},Hfe={},Wfe=null,$fe={mark:CQ,measure:CQ};try{typeof window<"u"&&(RD=window),typeof document<"u"&&(Hfe=document),typeof MutationObserver<"u"&&(Wfe=MutationObserver),typeof performance<"u"&&($fe=performance)}catch{}const{userAgent:SQ=""}=RD.navigator||{},Bd=RD,xr=Hfe,MQ=Wfe,i4=$fe;Bd.document;const ku=!!xr.documentElement&&!!xr.head&&typeof xr.addEventListener=="function"&&typeof xr.createElement=="function",qfe=~SQ.indexOf("MSIE")||~SQ.indexOf("Trident/");var vrt=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,yrt=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,Gfe={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},xrt={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},Yfe=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],ya="classic",dC="duotone",brt="sharp",wrt="sharp-duotone",Kfe=[ya,dC,brt,wrt],_rt={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},Crt={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},Srt=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),Mrt={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},krt=["fak","fa-kit","fakd","fa-kit-duotone"],kQ={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},Ert=["kit"],Trt={kit:{"fa-kit":"fak"}},Nrt=["fak","fakd"],jrt={kit:{fak:"fa-kit"}},EQ={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},o4={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Art=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Rrt=["fak","fa-kit","fakd","fa-kit-duotone"],Lrt={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},Ort={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},Prt={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},vA={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},Irt=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],yA=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...Art,...Irt],Drt=["solid","regular","light","thin","duotone","brands"],Qfe=[1,2,3,4,5,6,7,8,9,10],Frt=Qfe.concat([11,12,13,14,15,16,17,18,19,20]),Urt=[...Object.keys(Prt),...Drt,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",o4.GROUP,o4.SWAP_OPACITY,o4.PRIMARY,o4.SECONDARY].concat(Qfe.map(e=>"".concat(e,"x"))).concat(Frt.map(e=>"w-".concat(e))),Brt={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const fu="___FONT_AWESOME___",xA=16,Xfe="fa",Zfe="svg-inline--fa",Rh="data-fa-i2svg",bA="data-fa-pseudo-element",Vrt="data-fa-pseudo-element-pending",LD="data-prefix",OD="data-icon",TQ="fontawesome-i2svg",zrt="async",Hrt=["HTML","HEAD","STYLE","SCRIPT"],Jfe=(()=>{try{return!0}catch{return!1}})();function jx(e){return new Proxy(e,{get(t,n){return n in t?t[n]:t[ya]}})}const ehe=nt({},Gfe);ehe[ya]=nt(nt(nt(nt({},{"fa-duotone":"duotone"}),Gfe[ya]),kQ.kit),kQ["kit-duotone"]);const Wrt=jx(ehe),wA=nt({},Mrt);wA[ya]=nt(nt(nt(nt({},{duotone:"fad"}),wA[ya]),EQ.kit),EQ["kit-duotone"]);const NQ=jx(wA),_A=nt({},vA);_A[ya]=nt(nt({},_A[ya]),jrt.kit);const PD=jx(_A),CA=nt({},Ort);CA[ya]=nt(nt({},CA[ya]),Trt.kit);jx(CA);const $rt=vrt,the="fa-layers-text",qrt=yrt,Grt=nt({},_rt);jx(Grt);const Yrt=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],qM=xrt,Krt=[...Ert,...Urt],p2=Bd.FontAwesomeConfig||{};function Qrt(e){var t=xr.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function Xrt(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}xr&&typeof xr.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[n,r]=t;const s=Xrt(Qrt(n));s!=null&&(p2[r]=s)});const nhe={styleDefault:"solid",familyDefault:ya,cssPrefix:Xfe,replacementClass:Zfe,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};p2.familyPrefix&&(p2.cssPrefix=p2.familyPrefix);const j1=nt(nt({},nhe),p2);j1.autoReplaceSvg||(j1.observeMutations=!1);const Pt={};Object.keys(nhe).forEach(e=>{Object.defineProperty(Pt,e,{enumerable:!0,set:function(t){j1[e]=t,g2.forEach(n=>n(Pt))},get:function(){return j1[e]}})});Object.defineProperty(Pt,"familyPrefix",{enumerable:!0,set:function(e){j1.cssPrefix=e,g2.forEach(t=>t(Pt))},get:function(){return j1.cssPrefix}});Bd.FontAwesomeConfig=Pt;const g2=[];function Zrt(e){return g2.push(e),()=>{g2.splice(g2.indexOf(e),1)}}const sd=xA,kl={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Jrt(e){if(!e||!ku)return;const t=xr.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=xr.head.childNodes;let r=null;for(let s=n.length-1;s>-1;s--){const a=n[s],i=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(i)>-1&&(r=a)}return xr.head.insertBefore(t,r),e}const est="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function ly(){let e=12,t="";for(;e-- >0;)t+=est[Math.random()*62|0];return t}function kg(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function ID(e){return e.classList?kg(e.classList):(e.getAttribute("class")||"").split(" ").filter(t=>t)}function rhe(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function tst(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,'="').concat(rhe(e[n]),'" '),"").trim()}function fC(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";"),"")}function DD(e){return e.size!==kl.size||e.x!==kl.x||e.y!==kl.y||e.rotate!==kl.rotate||e.flipX||e.flipY}function nst(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const s={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(t.x*32,", ").concat(t.y*32,") "),i="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),l="rotate(".concat(t.rotate," 0 0)"),c={transform:"".concat(a," ").concat(i," ").concat(l)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:c,path:u}}function rst(e){let{transform:t,width:n=xA,height:r=xA,startCentered:s=!1}=e,a="";return s&&qfe?a+="translate(".concat(t.x/sd-n/2,"em, ").concat(t.y/sd-r/2,"em) "):s?a+="translate(calc(-50% + ".concat(t.x/sd,"em), calc(-50% + ").concat(t.y/sd,"em)) "):a+="translate(".concat(t.x/sd,"em, ").concat(t.y/sd,"em) "),a+="scale(".concat(t.size/sd*(t.flipX?-1:1),", ").concat(t.size/sd*(t.flipY?-1:1),") "),a+="rotate(".concat(t.rotate,"deg) "),a}var sst=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function she(){const e=Xfe,t=Zfe,n=Pt.cssPrefix,r=Pt.replacementClass;let s=sst;if(n!==e||r!==t){const a=new RegExp("\\.".concat(e,"\\-"),"g"),i=new RegExp("\\--".concat(e,"\\-"),"g"),l=new RegExp("\\.".concat(t),"g");s=s.replace(a,".".concat(n,"-")).replace(i,"--".concat(n,"-")).replace(l,".".concat(r))}return s}let jQ=!1;function GM(){Pt.autoAddCss&&!jQ&&(Jrt(she()),jQ=!0)}var ast={mixout(){return{dom:{css:she,insertCss:GM}}},hooks(){return{beforeDOMElementCreation(){GM()},beforeI2svg(){GM()}}}};const hu=Bd||{};hu[fu]||(hu[fu]={});hu[fu].styles||(hu[fu].styles={});hu[fu].hooks||(hu[fu].hooks={});hu[fu].shims||(hu[fu].shims=[]);var El=hu[fu];const ahe=[],ihe=function(){xr.removeEventListener("DOMContentLoaded",ihe),Aw=1,ahe.map(e=>e())};let Aw=!1;ku&&(Aw=(xr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(xr.readyState),Aw||xr.addEventListener("DOMContentLoaded",ihe));function ist(e){ku&&(Aw?setTimeout(e,0):ahe.push(e))}function Ax(e){const{tag:t,attributes:n={},children:r=[]}=e;return typeof e=="string"?rhe(e):"<".concat(t," ").concat(tst(n),">").concat(r.map(Ax).join(""),"</").concat(t,">")}function AQ(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}var YM=function(t,n,r,s){var a=Object.keys(t),i=a.length,l=n,c,u,d;for(r===void 0?(c=1,d=t[a[0]]):(c=0,d=r);c<i;c++)u=a[c],d=l(d,t[u],u,t);return d};function ost(e){const t=[];let n=0;const r=e.length;for(;n<r;){const s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const a=e.charCodeAt(n++);(a&64512)==56320?t.push(((s&1023)<<10)+(a&1023)+65536):(t.push(s),n--)}else t.push(s)}return t}function SA(e){const t=ost(e);return t.length===1?t[0].toString(16):null}function lst(e,t){const n=e.length;let r=e.charCodeAt(t),s;return r>=55296&&r<=56319&&n>t+1&&(s=e.charCodeAt(t+1),s>=56320&&s<=57343)?(r-55296)*1024+s-56320+65536:r}function RQ(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t},{})}function MA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,s=RQ(t);typeof El.hooks.addPack=="function"&&!r?El.hooks.addPack(e,RQ(t)):El.styles[e]=nt(nt({},El.styles[e]||{}),s),e==="fas"&&MA("fa",t)}const{styles:cy,shims:cst}=El,ohe=Object.keys(PD),ust=ohe.reduce((e,t)=>(e[t]=Object.keys(PD[t]),e),{});let FD=null,lhe={},che={},uhe={},dhe={},fhe={};function dst(e){return~Krt.indexOf(e)}function fst(e,t){const n=t.split("-"),r=n[0],s=n.slice(1).join("-");return r===e&&s!==""&&!dst(s)?s:null}const hhe=()=>{const e=r=>YM(cy,(s,a,i)=>(s[i]=YM(a,r,{}),s),{});lhe=e((r,s,a)=>(s[3]&&(r[s[3]]=a),s[2]&&s[2].filter(l=>typeof l=="number").forEach(l=>{r[l.toString(16)]=a}),r)),che=e((r,s,a)=>(r[a]=a,s[2]&&s[2].filter(l=>typeof l=="string").forEach(l=>{r[l]=a}),r)),fhe=e((r,s,a)=>{const i=s[2];return r[a]=a,i.forEach(l=>{r[l]=a}),r});const t="far"in cy||Pt.autoFetchSvg,n=YM(cst,(r,s)=>{const a=s[0];let i=s[1];const l=s[2];return i==="far"&&!t&&(i="fas"),typeof a=="string"&&(r.names[a]={prefix:i,iconName:l}),typeof a=="number"&&(r.unicodes[a.toString(16)]={prefix:i,iconName:l}),r},{names:{},unicodes:{}});uhe=n.names,dhe=n.unicodes,FD=hC(Pt.styleDefault,{family:Pt.familyDefault})};Zrt(e=>{FD=hC(e.styleDefault,{family:Pt.familyDefault})});hhe();function UD(e,t){return(lhe[e]||{})[t]}function hst(e,t){return(che[e]||{})[t]}function hh(e,t){return(fhe[e]||{})[t]}function mhe(e){return uhe[e]||{prefix:null,iconName:null}}function mst(e){const t=dhe[e],n=UD("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Vd(){return FD}const phe=()=>({prefix:null,iconName:null,rest:[]});function pst(e){let t=ya;const n=ohe.reduce((r,s)=>(r[s]="".concat(Pt.cssPrefix,"-").concat(s),r),{});return Kfe.forEach(r=>{(e.includes(n[r])||e.some(s=>ust[r].includes(s)))&&(t=r)}),t}function hC(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=ya}=t,r=Wrt[n][e];if(n===dC&&!e)return"fad";const s=NQ[n][e]||NQ[n][r],a=e in El.styles?e:null;return s||a||null}function gst(e){let t=[],n=null;return e.forEach(r=>{const s=fst(Pt.cssPrefix,r);s?n=s:r&&t.push(r)}),{iconName:n,rest:t}}function LQ(e){return e.sort().filter((t,n,r)=>r.indexOf(t)===n)}function mC(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=t;let r=null;const s=yA.concat(Rrt),a=LQ(e.filter(h=>s.includes(h))),i=LQ(e.filter(h=>!yA.includes(h))),l=a.filter(h=>(r=h,!Yfe.includes(h))),[c=null]=l,u=pst(a),d=nt(nt({},gst(i)),{},{prefix:hC(c,{family:u})});return nt(nt(nt({},d),bst({values:e,family:u,styles:cy,config:Pt,canonical:d,givenPrefix:r})),vst(n,r,d))}function vst(e,t,n){let{prefix:r,iconName:s}=n;if(e||!r||!s)return{prefix:r,iconName:s};const a=t==="fa"?mhe(s):{},i=hh(r,s);return s=a.iconName||i||s,r=a.prefix||r,r==="far"&&!cy.far&&cy.fas&&!Pt.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}const yst=Kfe.filter(e=>e!==ya||e!==dC),xst=Object.keys(vA).filter(e=>e!==ya).map(e=>Object.keys(vA[e])).flat();function bst(e){const{values:t,family:n,canonical:r,givenPrefix:s="",styles:a={},config:i={}}=e,l=n===dC,c=t.includes("fa-duotone")||t.includes("fad"),u=i.familyDefault==="duotone",d=r.prefix==="fad"||r.prefix==="fa-duotone";if(!l&&(c||u||d)&&(r.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab"),!r.prefix&&yst.includes(n)&&(Object.keys(a).find(m=>xst.includes(m))||i.autoFetchSvg)){const m=Srt.get(n).defaultShortPrefixId;r.prefix=m,r.iconName=hh(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||s==="fa")&&(r.prefix=Vd()||"fas"),r}class wst{constructor(){this.definitions={}}add(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const s=n.reduce(this._pullDefinitions,{});Object.keys(s).forEach(a=>{this.definitions[a]=nt(nt({},this.definitions[a]||{}),s[a]),MA(a,s[a]);const i=PD[ya][a];i&&MA(i,s[a]),hhe()})}reset(){this.definitions={}}_pullDefinitions(t,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(s=>{const{prefix:a,iconName:i,icon:l}=r[s],c=l[2];t[a]||(t[a]={}),c.length>0&&c.forEach(u=>{typeof u=="string"&&(t[a][u]=l)}),t[a][i]=l}),t}}let OQ=[],Op={};const Zp={},_st=Object.keys(Zp);function Cst(e,t){let{mixoutsTo:n}=t;return OQ=e,Op={},Object.keys(Zp).forEach(r=>{_st.indexOf(r)===-1&&delete Zp[r]}),OQ.forEach(r=>{const s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(a=>{typeof s[a]=="function"&&(n[a]=s[a]),typeof s[a]=="object"&&Object.keys(s[a]).forEach(i=>{n[a]||(n[a]={}),n[a][i]=s[a][i]})}),r.hooks){const a=r.hooks();Object.keys(a).forEach(i=>{Op[i]||(Op[i]=[]),Op[i].push(a[i])})}r.provides&&r.provides(Zp)}),n}function kA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return(Op[e]||[]).forEach(i=>{t=i.apply(null,[t,...r])}),t}function Lh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(Op[e]||[]).forEach(a=>{a.apply(null,n)})}function zd(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Zp[e]?Zp[e].apply(null,t):void 0}function EA(e){e.prefix==="fa"&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||Vd();if(t)return t=hh(n,t)||t,AQ(ghe.definitions,n,t)||AQ(El.styles,n,t)}const ghe=new wst,Sst=()=>{Pt.autoReplaceSvg=!1,Pt.observeMutations=!1,Lh("noAuto")},Mst={i2svg:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ku?(Lh("beforeI2svg",e),zd("pseudoElements2svg",e),zd("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;Pt.autoReplaceSvg===!1&&(Pt.autoReplaceSvg=!0),Pt.observeMutations=!0,ist(()=>{Est({autoReplaceSvgRoot:t}),Lh("watch",e)})}},kst={icon:e=>{if(e===null)return null;if(typeof e=="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:hh(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){const t=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],n=hC(e[0]);return{prefix:n,iconName:hh(n,t)||t}}if(typeof e=="string"&&(e.indexOf("".concat(Pt.cssPrefix,"-"))>-1||e.match($rt))){const t=mC(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||Vd(),iconName:hh(t.prefix,t.iconName)||t.iconName}}if(typeof e=="string"){const t=Vd();return{prefix:t,iconName:hh(t,e)||e}}}},ji={noAuto:Sst,config:Pt,dom:Mst,parse:kst,library:ghe,findIconDefinition:EA,toHtml:Ax},Est=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=xr}=e;(Object.keys(El.styles).length>0||Pt.autoFetchSvg)&&ku&&Pt.autoReplaceSvg&&ji.dom.i2svg({node:t})};function pC(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(n=>Ax(n))}}),Object.defineProperty(e,"node",{get:function(){if(!ku)return;const n=xr.createElement("div");return n.innerHTML=e.html,n.children}}),e}function Tst(e){let{children:t,main:n,mask:r,attributes:s,styles:a,transform:i}=e;if(DD(i)&&n.found&&!r.found){const{width:l,height:c}=n,u={x:l/c/2,y:.5};s.style=fC(nt(nt({},a),{},{"transform-origin":"".concat(u.x+i.x/16,"em ").concat(u.y+i.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}function Nst(e){let{prefix:t,iconName:n,children:r,attributes:s,symbol:a}=e;const i=a===!0?"".concat(t,"-").concat(Pt.cssPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:nt(nt({},s),{},{id:i}),children:r}]}]}function BD(e){const{icons:{main:t,mask:n},prefix:r,iconName:s,transform:a,symbol:i,title:l,maskId:c,titleId:u,extra:d,watchable:h=!1}=e,{width:m,height:g}=n.found?n:t,v=Nrt.includes(r),x=[Pt.replacementClass,s?"".concat(Pt.cssPrefix,"-").concat(s):""].filter(E=>d.classes.indexOf(E)===-1).filter(E=>E!==""||!!E).concat(d.classes).join(" ");let b={children:[],attributes:nt(nt({},d.attributes),{},{"data-prefix":r,"data-icon":s,class:x,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(m," ").concat(g)})};const w=v&&!~d.classes.indexOf("fa-fw")?{width:"".concat(m/g*16*.0625,"em")}:{};h&&(b.attributes[Rh]=""),l&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(u||ly())},children:[l]}),delete b.attributes.title);const C=nt(nt({},b),{},{prefix:r,iconName:s,main:t,mask:n,maskId:c,transform:a,symbol:i,styles:nt(nt({},w),d.styles)}),{children:S,attributes:k}=n.found&&t.found?zd("generateAbstractMask",C)||{children:[],attributes:{}}:zd("generateAbstractIcon",C)||{children:[],attributes:{}};return C.children=S,C.attributes=k,i?Nst(C):Tst(C)}function PQ(e){const{content:t,width:n,height:r,transform:s,title:a,extra:i,watchable:l=!1}=e,c=nt(nt(nt({},i.attributes),a?{title:a}:{}),{},{class:i.classes.join(" ")});l&&(c[Rh]="");const u=nt({},i.styles);DD(s)&&(u.transform=rst({transform:s,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);const d=fC(u);d.length>0&&(c.style=d);const h=[];return h.push({tag:"span",attributes:c,children:[t]}),a&&h.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),h}function jst(e){const{content:t,title:n,extra:r}=e,s=nt(nt(nt({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=fC(r.styles);a.length>0&&(s.style=a);const i=[];return i.push({tag:"span",attributes:s,children:[t]}),n&&i.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),i}const{styles:KM}=El;function TA(e){const t=e[0],n=e[1],[r]=e.slice(4);let s=null;return Array.isArray(r)?s={tag:"g",attributes:{class:"".concat(Pt.cssPrefix,"-").concat(qM.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Pt.cssPrefix,"-").concat(qM.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Pt.cssPrefix,"-").concat(qM.PRIMARY),fill:"currentColor",d:r[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:s}}const Ast={found:!1,width:512,height:512};function Rst(e,t){!Jfe&&!Pt.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function NA(e,t){let n=t;return t==="fa"&&Pt.styleDefault!==null&&(t=Vd()),new Promise((r,s)=>{if(n==="fa"){const a=mhe(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&KM[t]&&KM[t][e]){const a=KM[t][e];return r(TA(a))}Rst(e,t),r(nt(nt({},Ast),{},{icon:Pt.showMissingIcons&&e?zd("missingIconAbstract")||{}:{}}))})}const IQ=()=>{},jA=Pt.measurePerformance&&i4&&i4.mark&&i4.measure?i4:{mark:IQ,measure:IQ},Hv='FA "6.7.1"',Lst=e=>(jA.mark("".concat(Hv," ").concat(e," begins")),()=>vhe(e)),vhe=e=>{jA.mark("".concat(Hv," ").concat(e," ends")),jA.measure("".concat(Hv," ").concat(e),"".concat(Hv," ").concat(e," begins"),"".concat(Hv," ").concat(e," ends"))};var VD={begin:Lst,end:vhe};const T5=()=>{};function DQ(e){return typeof(e.getAttribute?e.getAttribute(Rh):null)=="string"}function Ost(e){const t=e.getAttribute?e.getAttribute(LD):null,n=e.getAttribute?e.getAttribute(OD):null;return t&&n}function Pst(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(Pt.replacementClass)}function Ist(){return Pt.autoReplaceSvg===!0?N5.replace:N5[Pt.autoReplaceSvg]||N5.replace}function Dst(e){return xr.createElementNS("http://www.w3.org/2000/svg",e)}function Fst(e){return xr.createElement(e)}function yhe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=e.tag==="svg"?Dst:Fst}=t;if(typeof e=="string")return xr.createTextNode(e);const r=n(e.tag);return Object.keys(e.attributes||[]).forEach(function(a){r.setAttribute(a,e.attributes[a])}),(e.children||[]).forEach(function(a){r.appendChild(yhe(a,{ceFn:n}))}),r}function Ust(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const N5={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach(n=>{t.parentNode.insertBefore(yhe(n),t)}),t.getAttribute(Rh)===null&&Pt.keepOriginalSource){let n=xr.createComment(Ust(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~ID(t).indexOf(Pt.replacementClass))return N5.replace(e);const r=new RegExp("".concat(Pt.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const a=n[0].attributes.class.split(" ").reduce((i,l)=>(l===Pt.replacementClass||l.match(r)?i.toSvg.push(l):i.toNode.push(l),i),{toNode:[],toSvg:[]});n[0].attributes.class=a.toSvg.join(" "),a.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",a.toNode.join(" "))}const s=n.map(a=>Ax(a)).join(`
`);t.setAttribute(Rh,""),t.innerHTML=s}};function FQ(e){e()}function xhe(e,t){const n=typeof t=="function"?t:T5;if(e.length===0)n();else{let r=FQ;Pt.mutateApproach===zrt&&(r=Bd.requestAnimationFrame||FQ),r(()=>{const s=Ist(),a=VD.begin("mutate");e.map(s),a(),n()})}}let zD=!1;function bhe(){zD=!0}function AA(){zD=!1}let Rw=null;function UQ(e){if(!MQ||!Pt.observeMutations)return;const{treeCallback:t=T5,nodeCallback:n=T5,pseudoElementsCallback:r=T5,observeMutationsRoot:s=xr}=e;Rw=new MQ(a=>{if(zD)return;const i=Vd();kg(a).forEach(l=>{if(l.type==="childList"&&l.addedNodes.length>0&&!DQ(l.addedNodes[0])&&(Pt.searchPseudoElements&&r(l.target),t(l.target)),l.type==="attributes"&&l.target.parentNode&&Pt.searchPseudoElements&&r(l.target.parentNode),l.type==="attributes"&&DQ(l.target)&&~Yrt.indexOf(l.attributeName))if(l.attributeName==="class"&&Ost(l.target)){const{prefix:c,iconName:u}=mC(ID(l.target));l.target.setAttribute(LD,c||i),u&&l.target.setAttribute(OD,u)}else Pst(l.target)&&n(l.target)})}),ku&&Rw.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function Bst(){Rw&&Rw.disconnect()}function Vst(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce((r,s)=>{const a=s.split(":"),i=a[0],l=a.slice(1);return i&&l.length>0&&(r[i]=l.join(":").trim()),r},{})),n}function zst(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=e.innerText!==void 0?e.innerText.trim():"";let s=mC(ID(e));return s.prefix||(s.prefix=Vd()),t&&n&&(s.prefix=t,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=hst(s.prefix,e.innerText)||UD(s.prefix,SA(e.innerText))),!s.iconName&&Pt.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=e.firstChild.data)),s}function Hst(e){const t=kg(e.attributes).reduce((s,a)=>(s.name!=="class"&&s.name!=="style"&&(s[a.name]=a.value),s),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return Pt.autoA11y&&(n?t["aria-labelledby"]="".concat(Pt.replacementClass,"-title-").concat(r||ly()):(t["aria-hidden"]="true",t.focusable="false")),t}function Wst(){return{iconName:null,title:null,titleId:null,prefix:null,transform:kl,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function BQ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:s}=zst(e),a=Hst(e),i=kA("parseNodeAttributes",{},e);let l=t.styleParser?Vst(e):[];return nt({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:kl,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:a}},i)}const{styles:$st}=El;function whe(e){const t=Pt.autoReplaceSvg==="nest"?BQ(e,{styleParser:!1}):BQ(e);return~t.extra.classes.indexOf(the)?zd("generateLayersText",e,t):zd("generateSvgReplacementMutation",e,t)}function qst(){return[...krt,...yA]}function VQ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ku)return Promise.resolve();const n=xr.documentElement.classList,r=d=>n.add("".concat(TQ,"-").concat(d)),s=d=>n.remove("".concat(TQ,"-").concat(d)),a=Pt.autoFetchSvg?qst():Yfe.concat(Object.keys($st));a.includes("fa")||a.push("fa");const i=[".".concat(the,":not([").concat(Rh,"])")].concat(a.map(d=>".".concat(d,":not([").concat(Rh,"])"))).join(", ");if(i.length===0)return Promise.resolve();let l=[];try{l=kg(e.querySelectorAll(i))}catch{}if(l.length>0)r("pending"),s("complete");else return Promise.resolve();const c=VD.begin("onTree"),u=l.reduce((d,h)=>{try{const m=whe(h);m&&d.push(m)}catch(m){Jfe||m.name==="MissingIcon"&&console.error(m)}return d},[]);return new Promise((d,h)=>{Promise.all(u).then(m=>{xhe(m,()=>{r("active"),r("complete"),s("pending"),typeof t=="function"&&t(),c(),d()})}).catch(m=>{c(),h(m)})})}function Gst(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;whe(e).then(n=>{n&&xhe([n],t)})}function Yst(e){return function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(t||{}).icon?t:EA(t||{});let{mask:s}=n;return s&&(s=(s||{}).icon?s:EA(s||{})),e(r,nt(nt({},n),{},{mask:s}))}}const Kst=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=kl,symbol:r=!1,mask:s=null,maskId:a=null,title:i=null,titleId:l=null,classes:c=[],attributes:u={},styles:d={}}=t;if(!e)return;const{prefix:h,iconName:m,icon:g}=e;return pC(nt({type:"icon"},e),()=>(Lh("beforeDOMElementCreation",{iconDefinition:e,params:t}),Pt.autoA11y&&(i?u["aria-labelledby"]="".concat(Pt.replacementClass,"-title-").concat(l||ly()):(u["aria-hidden"]="true",u.focusable="false")),BD({icons:{main:TA(g),mask:s?TA(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:h,iconName:m,transform:nt(nt({},kl),n),symbol:r,title:i,maskId:a,titleId:l,extra:{attributes:u,styles:d,classes:c}})))};var Qst={mixout(){return{icon:Yst(Kst)}},hooks(){return{mutationObserverCallbacks(e){return e.treeCallback=VQ,e.nodeCallback=Gst,e}}},provides(e){e.i2svg=function(t){const{node:n=xr,callback:r=()=>{}}=t;return VQ(n,r)},e.generateSvgReplacementMutation=function(t,n){const{iconName:r,title:s,titleId:a,prefix:i,transform:l,symbol:c,mask:u,maskId:d,extra:h}=n;return new Promise((m,g)=>{Promise.all([NA(r,i),u.iconName?NA(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(v=>{let[x,b]=v;m([t,BD({icons:{main:x,mask:b},prefix:i,iconName:r,transform:l,symbol:c,maskId:d,title:s,titleId:a,extra:h,watchable:!0})])}).catch(g)})},e.generateAbstractIcon=function(t){let{children:n,attributes:r,main:s,transform:a,styles:i}=t;const l=fC(i);l.length>0&&(r.style=l);let c;return DD(a)&&(c=zd("generateAbstractTransformGrouping",{main:s,transform:a,containerWidth:s.width,iconWidth:s.width})),n.push(c||s.icon),{children:n,attributes:r}}}},Xst={mixout(){return{layer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=t;return pC({type:"layer"},()=>{Lh("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e(s=>{Array.isArray(s)?s.map(a=>{r=r.concat(a.abstract)}):r=r.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(Pt.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},Zst={mixout(){return{counter(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:s={},styles:a={}}=t;return pC({type:"counter",content:e},()=>(Lh("beforeDOMElementCreation",{content:e,params:t}),jst({content:e.toString(),title:n,extra:{attributes:s,styles:a,classes:["".concat(Pt.cssPrefix,"-layers-counter"),...r]}})))}}}},Jst={mixout(){return{text(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=kl,title:r=null,classes:s=[],attributes:a={},styles:i={}}=t;return pC({type:"text",content:e},()=>(Lh("beforeDOMElementCreation",{content:e,params:t}),PQ({content:e,transform:nt(nt({},kl),n),title:r,extra:{attributes:a,styles:i,classes:["".concat(Pt.cssPrefix,"-layers-text"),...s]}})))}}},provides(e){e.generateLayersText=function(t,n){const{title:r,transform:s,extra:a}=n;let i=null,l=null;if(qfe){const c=parseInt(getComputedStyle(t).fontSize,10),u=t.getBoundingClientRect();i=u.width/c,l=u.height/c}return Pt.autoA11y&&!r&&(a.attributes["aria-hidden"]="true"),Promise.resolve([t,PQ({content:t.innerHTML,width:i,height:l,transform:s,title:r,extra:a,watchable:!0})])}}};const eat=new RegExp('"',"ug"),zQ=[1105920,1112319],HQ=nt(nt(nt(nt({},{FontAwesome:{normal:"fas",400:"fas"}}),Crt),Brt),Lrt),RA=Object.keys(HQ).reduce((e,t)=>(e[t.toLowerCase()]=HQ[t],e),{}),tat=Object.keys(RA).reduce((e,t)=>{const n=RA[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e},{});function nat(e){const t=e.replace(eat,""),n=lst(t,0),r=n>=zQ[0]&&n<=zQ[1],s=t.length===2?t[0]===t[1]:!1;return{value:SA(s?t[0]:t),isSecondary:r||s}}function rat(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),s=isNaN(r)?"normal":r;return(RA[n]||{})[s]||tat[n]}function WQ(e,t){const n="".concat(Vrt).concat(t.replace(":","-"));return new Promise((r,s)=>{if(e.getAttribute(n)!==null)return r();const i=kg(e.children).filter(m=>m.getAttribute(bA)===t)[0],l=Bd.getComputedStyle(e,t),c=l.getPropertyValue("font-family"),u=c.match(qrt),d=l.getPropertyValue("font-weight"),h=l.getPropertyValue("content");if(i&&!u)return e.removeChild(i),r();if(u&&h!=="none"&&h!==""){const m=l.getPropertyValue("content");let g=rat(c,d);const{value:v,isSecondary:x}=nat(m),b=u[0].startsWith("FontAwesome");let w=UD(g,v),C=w;if(b){const S=mst(v);S.iconName&&S.prefix&&(w=S.iconName,g=S.prefix)}if(w&&!x&&(!i||i.getAttribute(LD)!==g||i.getAttribute(OD)!==C)){e.setAttribute(n,C),i&&e.removeChild(i);const S=Wst(),{extra:k}=S;k.attributes[bA]=t,NA(w,g).then(E=>{const T=BD(nt(nt({},S),{},{icons:{main:E,mask:phe()},prefix:g,iconName:C,extra:k,watchable:!0})),j=xr.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(j,e.firstChild):e.appendChild(j),j.outerHTML=T.map(N=>Ax(N)).join(`
`),e.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function sat(e){return Promise.all([WQ(e,"::before"),WQ(e,"::after")])}function aat(e){return e.parentNode!==document.head&&!~Hrt.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(bA)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function $Q(e){if(ku)return new Promise((t,n)=>{const r=kg(e.querySelectorAll("*")).filter(aat).map(sat),s=VD.begin("searchPseudoElements");bhe(),Promise.all(r).then(()=>{s(),AA(),t()}).catch(()=>{s(),AA(),n()})})}var iat={hooks(){return{mutationObserverCallbacks(e){return e.pseudoElementsCallback=$Q,e}}},provides(e){e.pseudoElements2svg=function(t){const{node:n=xr}=t;Pt.searchPseudoElements&&$Q(n)}}};let qQ=!1;var oat={mixout(){return{dom:{unwatch(){bhe(),qQ=!0}}}},hooks(){return{bootstrap(){UQ(kA("mutationObserverCallbacks",{}))},noAuto(){Bst()},watch(e){const{observeMutationsRoot:t}=e;qQ?AA():UQ(kA("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const GQ=e=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce((n,r)=>{const s=r.toLowerCase().split("-"),a=s[0];let i=s.slice(1).join("-");if(a&&i==="h")return n.flipX=!0,n;if(a&&i==="v")return n.flipY=!0,n;if(i=parseFloat(i),isNaN(i))return n;switch(a){case"grow":n.size=n.size+i;break;case"shrink":n.size=n.size-i;break;case"left":n.x=n.x-i;break;case"right":n.x=n.x+i;break;case"up":n.y=n.y-i;break;case"down":n.y=n.y+i;break;case"rotate":n.rotate=n.rotate+i;break}return n},t)};var lat={mixout(){return{parse:{transform:e=>GQ(e)}}},hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=GQ(n)),e}}},provides(e){e.generateAbstractTransformGrouping=function(t){let{main:n,transform:r,containerWidth:s,iconWidth:a}=t;const i={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(r.x*32,", ").concat(r.y*32,") "),c="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),d={transform:"".concat(l," ").concat(c," ").concat(u)},h={transform:"translate(".concat(a/2*-1," -256)")},m={outer:i,inner:d,path:h};return{tag:"g",attributes:nt({},m.outer),children:[{tag:"g",attributes:nt({},m.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:nt(nt({},n.icon.attributes),m.path)}]}]}}}};const QM={x:0,y:0,width:"100%",height:"100%"};function YQ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function cat(e){return e.tag==="g"?e.children:[e]}var uat={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?mC(n.split(" ").map(s=>s.trim())):phe();return r.prefix||(r.prefix=Vd()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides(e){e.generateAbstractMask=function(t){let{children:n,attributes:r,main:s,mask:a,maskId:i,transform:l}=t;const{width:c,icon:u}=s,{width:d,icon:h}=a,m=nst({transform:l,containerWidth:d,iconWidth:c}),g={tag:"rect",attributes:nt(nt({},QM),{},{fill:"white"})},v=u.children?{children:u.children.map(YQ)}:{},x={tag:"g",attributes:nt({},m.inner),children:[YQ(nt({tag:u.tag,attributes:nt(nt({},u.attributes),m.path)},v))]},b={tag:"g",attributes:nt({},m.outer),children:[x]},w="mask-".concat(i||ly()),C="clip-".concat(i||ly()),S={tag:"mask",attributes:nt(nt({},QM),{},{id:w,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[g,b]},k={tag:"defs",children:[{tag:"clipPath",attributes:{id:C},children:cat(h)},S]};return n.push(k,{tag:"rect",attributes:nt({fill:"currentColor","clip-path":"url(#".concat(C,")"),mask:"url(#".concat(w,")")},QM)}),{children:n,attributes:r}}}},dat={provides(e){let t=!1;Bd.matchMedia&&(t=Bd.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:nt(nt({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const a=nt(nt({},s),{},{attributeName:"opacity"}),i={tag:"circle",attributes:nt(nt({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||i.children.push({tag:"animate",attributes:nt(nt({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:nt(nt({},a),{},{values:"1;0;1;1;0;1;"})}),n.push(i),n.push({tag:"path",attributes:nt(nt({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:nt(nt({},a),{},{values:"1;0;0;0;0;1;"})}]}),t||n.push({tag:"path",attributes:nt(nt({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:nt(nt({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},fat={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return e.symbol=r,e}}}},hat=[ast,Qst,Xst,Zst,Jst,iat,oat,lat,uat,dat,fat];Cst(hat,{mixoutsTo:ji});ji.noAuto;ji.config;ji.library;ji.dom;const LA=ji.parse;ji.findIconDefinition;ji.toHtml;const mat=ji.icon;ji.layer;ji.text;ji.counter;var XM={exports:{}},ZM,KQ;function pat(){if(KQ)return ZM;KQ=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ZM=e,ZM}var JM,QQ;function gat(){if(QQ)return JM;QQ=1;var e=pat();function t(){}function n(){}return n.resetWarningCache=t,JM=function(){function r(i,l,c,u,d,h){if(h!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},JM}var XQ;function HD(){return XQ||(XQ=1,XM.exports=gat()()),XM.exports}var vat=HD();const Ae=Js(vat);function ZQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function xl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZQ(Object(n),!0).forEach(function(r){Pp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZQ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lw(e){"@babel/helpers - typeof";return Lw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lw(e)}function Pp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yat(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function xat(e,t){if(e==null)return{};var n=yat(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function OA(e){return bat(e)||wat(e)||_at(e)||Cat()}function bat(e){if(Array.isArray(e))return PA(e)}function wat(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _at(e,t){if(e){if(typeof e=="string")return PA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PA(e,t)}}function PA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sat(e){var t,n=e.beat,r=e.fade,s=e.beatFade,a=e.bounce,i=e.shake,l=e.flash,c=e.spin,u=e.spinPulse,d=e.spinReverse,h=e.pulse,m=e.fixedWidth,g=e.inverse,v=e.border,x=e.listItem,b=e.flip,w=e.size,C=e.rotation,S=e.pull,k=(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":s,"fa-bounce":a,"fa-shake":i,"fa-flash":l,"fa-spin":c,"fa-spin-reverse":d,"fa-spin-pulse":u,"fa-pulse":h,"fa-fw":m,"fa-inverse":g,"fa-border":v,"fa-li":x,"fa-flip":b===!0,"fa-flip-horizontal":b==="horizontal"||b==="both","fa-flip-vertical":b==="vertical"||b==="both"},Pp(t,"fa-".concat(w),typeof w<"u"&&w!==null),Pp(t,"fa-rotate-".concat(C),typeof C<"u"&&C!==null&&C!==0),Pp(t,"fa-pull-".concat(S),typeof S<"u"&&S!==null),Pp(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(k).map(function(E){return k[E]?E:null}).filter(function(E){return E})}function Mat(e){return e=e-0,e===e}function _he(e){return Mat(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,function(t,n){return n?n.toUpperCase():""}),e.substr(0,1).toLowerCase()+e.substr(1))}var kat=["style"];function Eat(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Tat(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var r=n.indexOf(":"),s=_he(n.slice(0,r)),a=n.slice(r+1).trim();return s.startsWith("webkit")?t[Eat(s)]=a:t[s]=a,t},{})}function Che(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var r=(t.children||[]).map(function(c){return Che(e,c)}),s=Object.keys(t.attributes||{}).reduce(function(c,u){var d=t.attributes[u];switch(u){case"class":c.attrs.className=d,delete t.attributes.class;break;case"style":c.attrs.style=Tat(d);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?c.attrs[u.toLowerCase()]=d:c.attrs[_he(u)]=d}return c},{attrs:{}}),a=n.style,i=a===void 0?{}:a,l=xat(n,kat);return s.attrs.style=xl(xl({},s.attrs.style),i),e.apply(void 0,[t.tag,xl(xl({},s.attrs),l)].concat(OA(r)))}var She=!1;try{She=!0}catch{}function Nat(){if(!She&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function JQ(e){if(e&&Lw(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(LA.icon)return LA.icon(e);if(e===null)return null;if(e&&Lw(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}function ek(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Pp({},e,t):{}}var eX={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},jt=L.forwardRef(function(e,t){var n=xl(xl({},eX),e),r=n.icon,s=n.mask,a=n.symbol,i=n.className,l=n.title,c=n.titleId,u=n.maskId,d=JQ(r),h=ek("classes",[].concat(OA(Sat(n)),OA((i||"").split(" ")))),m=ek("transform",typeof n.transform=="string"?LA.transform(n.transform):n.transform),g=ek("mask",JQ(s)),v=mat(d,xl(xl(xl(xl({},h),m),g),{},{symbol:a,title:l,titleId:c,maskId:u}));if(!v)return Nat("Could not find icon",d),null;var x=v.abstract,b={ref:t};return Object.keys(n).forEach(function(w){eX.hasOwnProperty(w)||(b[w]=n[w])}),jat(x[0],b)});jt.displayName="FontAwesomeIcon";jt.propTypes={beat:Ae.bool,border:Ae.bool,beatFade:Ae.bool,bounce:Ae.bool,className:Ae.string,fade:Ae.bool,flash:Ae.bool,mask:Ae.oneOfType([Ae.object,Ae.array,Ae.string]),maskId:Ae.string,fixedWidth:Ae.bool,inverse:Ae.bool,flip:Ae.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Ae.oneOfType([Ae.object,Ae.array,Ae.string]),listItem:Ae.bool,pull:Ae.oneOf(["right","left"]),pulse:Ae.bool,rotation:Ae.oneOf([0,90,180,270]),shake:Ae.bool,size:Ae.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Ae.bool,spinPulse:Ae.bool,spinReverse:Ae.bool,symbol:Ae.oneOfType([Ae.bool,Ae.string]),title:Ae.string,titleId:Ae.string,transform:Ae.oneOfType([Ae.string,Ae.object]),swapOpacity:Ae.bool};var jat=Che.bind(null,L.createElement),tk={},tX;function Aat(){return tX||(tX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="arrow-right",r=448,s=512,a=[8594],i="f061",l="M440.6 273.4c4.7-4.5 7.4-10.8 7.4-17.4s-2.7-12.8-7.4-17.4l-176-168c-9.6-9.2-24.8-8.8-33.9 .8s-8.8 24.8 .8 33.9L364.1 232 24 232c-13.3 0-24 10.7-24 24s10.7 24 24 24l340.1 0L231.4 406.6c-9.6 9.2-9.9 24.3-.8 33.9s24.3 9.9 33.9 .8l176-168z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faArrowRight=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(tk)),tk}var Rat=Aat();function Lat(e){return!!e&&typeof e=="object"&&"prefix"in e&&"iconName"in e}const Oat={good:"super",bad:"red",info:"offset",backToSchoolOrange:"backToSchoolOrange"},Rx=L.memo(({variant:e,title:t,actionLabel:n,onClick:r,onClose:s,toolTip:a,icon:i,isMobileStyle:l,isLoading:c})=>{const u=e==="info"?"default":"white",d=e==="info"?"super":u,h=f.useCallback(g=>{g.stopPropagation(),s?.(g)},[s]),m=o.jsxs(Q,{className:W("h-bannerHeight erp-tab:rounded-none md:rounded-md lg:rounded-lg","gap-xs px-md md:gap-sm relative flex w-full cursor-pointer items-center transition duration-200 hover:opacity-80",e==="info"?"md:justify-between":"md:justify-center",{"px-lg":s}),variant:Oat[e],onClick:r,children:[c?o.jsx(F,{color:u,children:o.jsx(Cu,{})}):i&&o.jsx(F,{color:u,className:"mr-xs md:mr-0",children:Lat(i)?o.jsx(jt,{icon:i,size:"sm"}):o.jsx(Ne,{icon:i,size:l?"sm":"md"})}),o.jsx(F,{color:u,className:"leading-[1.1]",variant:l?"tiny":"small",children:t}),o.jsxs("div",{className:"flex items-center gap-1",children:[n&&o.jsx(F,{color:d,variant:l?"tiny":"small",className:W("hidden font-bold decoration-white/30 md:inline-flex",{"underline underline-offset-2":e!=="info"}),children:n}),r&&e!=="info"&&o.jsx(F,{color:u,className:"inline-flex",children:o.jsx(jt,{icon:Rat.faArrowRight,size:"2xs"})})]}),s&&o.jsx(it,{icon:yn,extraCSS:W("!absolute right-sm opacity-50",e==="info"?"text-gray-800 dark:!text-white":"!text-white"),variant:"noHover",size:"tiny",onClick:h})]});return a?o.jsx(Mn,{tooltipText:a,children:m}):m});Rx.displayName="SiteBanner";function cn(){const e=on(),t=e?.user?.subscription_status??"none",n=t==="active"||t==="trialing"||t==="white_glove_past_due",r=e?.user?.subscription_tier,s=n&&(r==="pro"||!r),a=n&&r==="max",i=s||a,l=n?e?.user?.subscription_source:"none",c=n&&l==="enterprise";return f.useMemo(()=>({isPro:s,isMax:a,hasAccessToProFeatures:i,hasActiveSubscription:n,subscriptionSource:l,subscriptionStatus:t,isEnterprisePro:c}),[i,a,s,n,l,t,c])}const pv="clicked enterprise ad",gv="https://www.perplexity.ai/enterprise",Mhe=()=>{const{trackEvent:e}=Ye(),t=Qt(),{hasAccessToProFeatures:n}=cn(),r=f.useCallback(async g=>{g.preventDefault(),e(pv,{source:"sidebarAd",isSubscribed:n}),t.push(gv)},[e,t,n]),s=f.useCallback(async g=>{g?.preventDefault(),e(pv,{source:"settingsHeader"}),t.push(gv)},[e,t]),a=f.useCallback(async g=>{g.preventDefault(),g.stopPropagation(),e(pv,{source:"footer"}),t.push(gv)},[e,t]),i=f.useCallback(async g=>{g.preventDefault(),e(pv,{source:"pricingTable"}),t.push(gv)},[e,t]),l=f.useCallback(async g=>{g.preventDefault(),e(pv,{source:"paywall"}),t.push(gv)},[e,t]),c=f.useCallback(({orgName:g,success:v})=>{e("org created",{orgName:g,success:v})},[e]),u=f.useCallback(({invitedEmail:g,source:v,orgUUID:x,inviteType:b})=>{e("org user invited",{invitedEmail:g,source:v,orgUUID:x,inviteType:b})},[e]),d=f.useCallback(({orgUUID:g})=>{e("org invite step completed",{orgUUID:g})},[e]),h=f.useCallback(({orgUUID:g,source:v,intent:x,success:b})=>e("org payment portal entered",{orgUUID:g,source:v,intent:x,success:b}),[e]),m=f.useCallback(({orgUUID:g,success:v})=>{e("sso enabled",{orgUUID:g,success:v})},[e]);return f.useMemo(()=>({handleSidebarAdClick:r,handleSettingsHeaderAdClick:s,handleFooterAdClick:a,handlePricingTableAdClick:i,handlePaywallAdClick:l,trackOrgCreated:c,trackOrgUserInvited:u,trackOrgInviteStepCompleted:d,trackOrgPaymentPortalEntered:h,trackSSOEnabled:m}),[a,l,i,s,r,c,d,h,u,m])},Eg=2,ut=e=>{const t=e?.productionMs??1500;e?.devMs;const n=e?.clientSideMs??5e3;return typeof window<"u"?n:t};var Pat={};const Iat=async({source:e,locale:t,headers:n,reason:r})=>{try{const a=await(await or({urlPath:"/rest/enterprise/customer-portal",method:"POST",body:JSON.stringify({origin:e,locale:t}),timeoutMs:7500,headers:{"Content-Type":"application/json",...n},reason:r})).json();if(a.status!=="success")throw new Error("Failed to get enterprise customer portal");return a.url}catch(s){return le.error("Failed to get enterprise customer portal",s),null}},Dat=async({tier:e,origin:t,locale:n,reason:r})=>{const s=Q_(),a=lm();try{return await(await or({urlPath:"/rest/enterprise/checkout-session",method:"POST",body:JSON.stringify({referral_code:null,discount_code:null,origin:t,tier:e,locale:n,visitor_id:a}),timeoutMs:3500,headers:{"Content-Type":"application/json",...s?{"Screen-Dimensions":s}:{}},reason:r})).json()}catch(i){le.error("Failed to get enterprise checkout session",i);return}},Fat=async({tier:e,origin:t,locale:n,collectionMethod:r,billingAddress:s,reason:a})=>{const i=Q_();try{return await(await or({urlPath:"/rest/enterprise/subscription",method:"POST",body:JSON.stringify({collection_method:r,origin:t,locale:n,tier:e,billing_address:s}),timeoutMs:1e4,headers:{"Content-Type":"application/json",...i?{"Screen-Dimensions":i}:{}},reason:a})).json()}catch(l){le.error("Failed to create invoiced enterprise subscription",l);return}},gC=async({headers:e,reason:t})=>{const n={organization:void 0,org_user:void 0,is_in_organization:!1};try{const s=await(await or({method:"GET",headers:e,urlPath:"/rest/enterprise/user/organization",timeoutMs:ut({productionMs:2e3}),numRetries:1,reason:t})).json();if(s.status!=="success")throw new Error("Failed to get user organization");return s}catch(r){return le.error("Failed to get user organization",r),n}},khe=async({email:e,headers:t,useNextAuthService:n,reason:r})=>{if(!e)throw new Error("No email");const s=e.split("@"),a=s.length>=2?s[s.length-1]:null;if(!a)throw new Error(`No domain extracted from ${e}`);return Uat({domain:a,headers:t,useNextAuthService:n,reason:r})},Uat=async({domain:e,headers:t,useNextAuthService:n,reason:r})=>{let s;try{if(n){const i=`/rest/nextauth/organization/domain/${e}`,l=Pat.PPL_NEXTAUTH_SERVER_URL;s=await or({headers:t,urlPath:i,timeoutMs:3e3,numRetries:1,baseUrlOverride:l,reason:r})}else{const i=`/rest/enterprise/organization/domain/${e}`;s=await or({headers:t,urlPath:i,timeoutMs:3e3,numRetries:1,reason:r})}const a=await s.json();if(a.status!=="success")throw new Error("Failed to get organization from domain");return a?.organization??null}catch(a){return le.error("Failed to get organization from domain",a),null}},GYt=async({headers:e,query:t,reason:n})=>{let r="";if(t){const s=t["user-limit"]??2e4,a=t["user-offset"]??0,i=t["invite-limit"]??2e4,l=t["invite-offset"]??0;r=`?user-limit=${s}&user-offset=${a}&invite-limit=${i}&invite-offset=${l}`}try{const a=await(await or({method:"GET",headers:e,urlPath:`/rest/enterprise/user/organization/users${r}`,timeoutMs:ut({productionMs:2e3,clientSideMs:1e4}),numRetries:1,reason:n})).json();if(a.status!=="success")throw new Error("Failed to get organization users");return{userList:a?.user_list??[],hasNextUserPage:a?.hasNextUserPage??!1,totalUsers:a?.total_users??0,inviteList:a?.invite_list??[],hasNextInvitePage:a?.hasNextInvitePage??!1,totalInvites:a?.total_invites??0}}catch(s){return le.error("Failed to get organization users",s),null}},Ehe=async({headers:e,reason:t})=>{const n="getRefreshOrgSubscriptionStatus";try{return{subscriptionStatus:(await(await or({headers:e,urlPath:"/rest/enterprise/organization/subscription/refresh",timeoutMs:4e3,reason:t})).json())?.subscription_status??null}}catch(r){return le.log(`Error in ${n}:`,r),null}},YYt=async({headers:e,reason:t})=>{try{return await(await or({urlPath:"/rest/enterprise/organization/premium-secure-eligibility",method:"GET",headers:e,timeoutMs:ut({productionMs:2e3}),numRetries:1,reason:t})).json()}catch(n){return le.error("Failed to get premium secure eligibility",n),null}},KYt=async({headers:e,reason:t})=>{try{return await(await or({urlPath:"/rest/enterprise/organization/premium-secure-billing-update",method:"POST",headers:{"Content-Type":"application/json",...e},timeoutMs:ut({productionMs:2e3}),numRetries:1,reason:t})).json()}catch(n){return le.error("Failed to update premium secure billing",n),null}},QYt=async({headers:e,reason:t})=>{try{const n=await me.GET("/rest/enterprise/organization/subscription-info",t,{headers:e,timeoutMs:ut({productionMs:2e3}),numRetries:1});if(n.error)throw n.error;return n.data}catch(n){return le.error("Failed to get org subscription info",n),null}},XYt=async({uuid:e,success:t,reason:n})=>{try{if((await me.POST("/rest/sse/perplexity_connector_auth_response",n,{body:{result:{tool_uuid:e,success:t}},backOffTime:100,numRetries:1,headers:{"Content-Type":"application/json"}})).data?.status!=="success")throw new Error("Failed to post perplexity connector auth response");return!0}catch(r){return le.error("Failed to post perplexity connector auth response",r),!1}},ZYt=e=>["get_prices",{subscription_tier:e}],vC=()=>["get_user_settings",{}],Bat=()=>["get_user_profile",{}],Vat=()=>["get_user_promotions",{}],JYt=e=>["get_related_pages",{uuid:e}],Ic=(e="you",t)=>["list_feed",{topic:e,locale:t}],j5=()=>["discover_topics",{}],Tg=()=>["userOrgData",{}],WD=e=>["get_collection",{collection_slug:e.slice(-22)}],eKt=()=>["shoppingOrders",{}],The=()=>["userTryOnPhoto",{}],Ow="getOrganizationUsers",tKt=e=>e?[Ow,{query:e}]:[Ow],nKt=e=>e?[Ow,"members",e]:[Ow,"members"],zat=e=>["get_thread_by_uuid",{uuid:e}],Hat=e=>["get_article_by_uuid",{uuid:e}],rKt=e=>["get_article_by_slug",{slug:e}],nk=()=>["customer_shopping_info",{}],$D=e=>["articleResults",{frontend_context_uuid:e}],nX=e=>["article-slug",e],Wat=(e,t=!1)=>[t?"list_file_directory_infinite":"list_file_directory",e.file_repository_type,e.owner_id],yC=(e,t,n,r=0,s,a=!1)=>[...Wat({file_repository_type:e,owner_id:t},a),n,...a?[]:[r],s],Nhe=(e,t=!1)=>[t?"connector-files-infinite":"connector-files",e],$at=e=>["get_sharepoint_sites_infinite",e??{}],sKt=()=>["get_filters",{}],qD=e=>e?["memories",e]:["memories"],aKt=()=>["customer_billing_info",{}],iKt=()=>["travel-tile-data"],GD=(e,t)=>["file_exists",e,...t?[t]:[]],l4=e=>["download-image-url",...e?[e]:[]],xp=e=>["memory-feedback",e],bp=e=>["entry-feedback",e],jhe=e=>["user-task",e],qat=()=>["user-tasks"],oKt=()=>["academic-tile-data"],lKt=()=>["academic-primer-queries"],Wv=()=>["list_spaces_mentions"],Gat=()=>["upgrade-subscription-preview"],Yat=()=>["task_shortcuts_mentions"],Ip=()=>["app-notifications"],Kat=()=>[...Ip(),"unread-count"];function Ahe(){const e=on(),t=["pplx-dev@example.com","pplx-dev-pro@example.com","pplx-dev-enterprise@example.com","fe-test-user@example.com"],n=e?.user?.email??"none";return n.endsWith("@perplexity.ai")||t.includes(n)}function Ct(){const e=on(),t=e!==null&&typeof e<"u";return f.useEffect(()=>{t&&Vde()},[t]),t}const Qat={orgUser:void 0,organization:void 0,isEnterprise:!1,refetch:Yn,isLoading:!1,isSuccess:!1};function Bn({shouldRefetchOnMount:e=!0,reason:t}){const n=Ct(),{data:r,refetch:s,fetchStatus:a,isSuccess:i}=Ft({enabled:n,queryKey:Tg(),queryFn:()=>gC({reason:t}),placeholderData:Qat,refetchOnMount:e});return f.useMemo(()=>({orgUser:r?.org_user,organization:r?.organization,isEnterprise:r?.is_in_organization??!1,refetch:s,isLoading:a==="fetching",isSuccess:i}),[r?.is_in_organization,r?.org_user,r?.organization,a,i,s])}function Rhe({shouldRefetchOnMount:e=!0,reason:t}){const n=Ct(),{data:r,isFetching:s}=Ft({enabled:n,queryKey:Tg(),queryFn:()=>gC({reason:t}),refetchOnMount:e});return f.useMemo(()=>({isEnterprise:r?.is_in_organization??!1,isFetching:s}),[r?.is_in_organization,s])}function Xat({reason:e}){const t=Ct(),n=f.useRef(void 0),{data:r,status:s}=Ft({enabled:t,queryKey:Tg(),queryFn:()=>gC({reason:e})}),a=f.useMemo(()=>s==="success"&&r?.organization?.uuid?(n.current=r.organization.uuid,r.organization.uuid):n.current??void 0,[r,s]);return f.useMemo(()=>({uuid:a}),[a])}const Zat=({reason:e})=>{const t=Qt(),{organization:n}=Bn({reason:e}),{trackOrgPaymentPortalEntered:r}=Mhe(),s=f.useCallback(async({source:l})=>{const c=await Iat({source:l,locale:Sd(),reason:e});c?(r({orgUUID:n?.uuid,source:l,intent:"portal",success:!0}),t.push(c)):(r({orgUUID:n?.uuid,source:l,intent:"portal",success:!1}),le.log("could not open Stripe portal"))},[r,n?.uuid,t,e]),a=f.useCallback(({tier:l="monthly",source:c,onErrorCallback:u,reason:d})=>{const h=Sd();Dat({tier:l,origin:c,locale:h,reason:d}).then(m=>{m&&m.status==="success"&&m.url!=null&&m.url!==""?(r({orgUUID:n?.uuid,source:c,intent:"checkout",success:!0}),m.url&&t.push(m.url)):(r({orgUUID:n?.uuid,source:c,intent:"checkout",success:!1}),u?.())})},[t,n?.uuid,r]),i=f.useCallback(async({tier:l,collectionMethod:c,source:u,billingAddress:d,reason:h})=>{const m=Sd(),g=await Fat({tier:l,origin:u,locale:m,collectionMethod:c,billingAddress:d,reason:h});return await Ehe({reason:h}),g},[]);return f.useMemo(()=>({manageExistingBillingClick:s,navigateToCheckout:a,createInvoicedSubscription:i}),[i,s,a])},Jat=({orgStripeStatus:e})=>{const t="org-billing-banner",n=Qt(),{$t:r}=ae(),{navigateToCheckout:s}=Zat({reason:t}),{isMobileStyle:a}=qe(),[i,l]=f.useState(!1),c=()=>{i||(l(!0),e==="none"?n.push("/onboarding/onboarding-org-subscription"):s({source:"banner",onErrorCallback:()=>{n.refresh("Org billing banner"),l(!1)},reason:t}))},u=r(e==="past_due"?{defaultMessage:"Please complete your invoice payment to use Enterprise Pro features",id:"XAdWAUIg7/"}:{defaultMessage:"Please complete the payment process to use Enterprise Pro features",id:"Mgy1Lo2SzZ"}),d=r({defaultMessage:"May take up to a minute to reflect payment status changes",id:"+w47QOW1fc"});return o.jsx(Rx,{onClick:c,isLoading:i,variant:"bad",title:u,toolTip:d,icon:l$e,isMobileStyle:a})};var rk={},sk={},rX;function eit(){return rX||(rX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="triangle-exclamation",r=512,s=512,a=[9888,"exclamation-triangle","warning"],i="f071",l="M248.4 84.3c1.6-2.7 4.5-4.3 7.6-4.3s6 1.6 7.6 4.3L461.9 410c1.4 2.3 2.1 4.9 2.1 7.5c0 8-6.5 14.5-14.5 14.5l-387 0c-8 0-14.5-6.5-14.5-14.5c0-2.7 .7-5.3 2.1-7.5L248.4 84.3zm-41-25L9.1 385c-6 9.8-9.1 21-9.1 32.5C0 452 28 480 62.5 480l387 0c34.5 0 62.5-28 62.5-62.5c0-11.5-3.2-22.7-9.1-32.5L304.6 59.3C294.3 42.4 275.9 32 256 32s-38.3 10.4-48.6 27.3zM288 368a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm-8-184c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 96c0 13.3 10.7 24 24 24s24-10.7 24-24l0-96z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faTriangleExclamation=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(sk)),sk}var sX;function tit(){return sX||(sX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=eit();e.definition={prefix:t.prefix,iconName:t.iconName,icon:[t.width,t.height,t.aliases,t.unicode,t.svgPathData]},e.faExclamationTriangle=e.definition,e.prefix=t.prefix,e.iconName=t.iconName,e.width=t.width,e.height=t.height,e.ligatures=t.aliases,e.unicode=t.unicode,e.svgPathData=t.svgPathData,e.aliases=t.aliases}(rk)),rk}var nit=tit(),ak={},aX;function rit(){return aX||(aX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="gift",r=512,s=512,a=[127873],i="f06b",l="M231.9 44.4C215.7 16.9 186.1 0 154.2 0L152 0C103.4 0 64 39.4 64 88c0 14.4 3.5 28 9.6 40L48 128c-26.5 0-48 21.5-48 48l0 64c0 20.9 13.4 38.7 32 45.3l0 2.7 0 160c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-160 0-2.7c18.6-6.6 32-24.4 32-45.3l0-64c0-26.5-21.5-48-48-48l-25.6 0c6.1-12 9.6-25.6 9.6-40c0-48.6-39.4-88-88-88l-2.2 0c-31.9 0-61.5 16.9-77.7 44.4L256 85.5l-24.1-41zM464 176l0 64-32 0-144 0 0-64 72 0 104 0zm-240 0l0 64L80 240l-32 0 0-64 104 0 72 0zm0 112l0 176L96 464c-8.8 0-16-7.2-16-16l0-160 144 0zm64 176l0-176 144 0 0 160c0 8.8-7.2 16-16 16l-128 0zm72-336l-72 0-1.3 0 34.8-59.2C329.1 55.9 342.9 48 357.8 48l2.2 0c22.1 0 40 17.9 40 40s-17.9 40-40 40zm-136 0l-72 0c-22.1 0-40-17.9-40-40s17.9-40 40-40l2.2 0c14.9 0 28.8 7.9 36.3 20.8L225.3 128l-1.3 0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faGift=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(ak)),ak}var sit=rit();function Oh(e,t){le.info("Redirecting window",{reason:t,url:window.location.href,redirect:Gp(e).toString()}),window.location.href=e}const ait=()=>{const e=Qt(),{trackEvent:t}=Ye(),n=f.useCallback(async({origin:r,discountCode:s,tier:a,referralCode:i,subscriptionTier:l="pro"})=>{const c=new URL(`/${l}/payment`,window.location.origin);return c.searchParams.set("plan",a),c.searchParams.set("origin",r),s&&c.searchParams.set("promotion_code",s),t("pro checkout started",{subscriptionTier:l,origin:r,discountCode:s??"",referralCode:i??"",tier:"monthly",flowType:"embedded_checkout"}),e.push(c.toString()),!0},[e,t]);return f.useMemo(()=>({navigateToPayment:n}),[n])},Lx=L.memo(({onClick:e,testId:t="close-button",size:n="small",variant:r="common",className:s="right-sm top-sm absolute",ariaLabel:a="Close"})=>o.jsx("div",{className:s,children:o.jsx(it,{testId:t,variant:r,pill:!0,size:n,onClick:e,icon:yn,ariaLabel:a})}));Lx.displayName="CloseButton";const YD=L.memo(e=>{const{children:t,trigger:n,...r}=e;return o.jsxs(ED,{...r,children:[n&&o.jsx(znt,{asChild:!0,children:n}),o.jsx(kt,{children:r.open&&o.jsx(TD,{forceMount:!0,children:t})})]})});YD.displayName="ControlledDialog";function iit(e){const[t,n]=f.useState(!1),[r,s]=f.useState(!1),a=f.useMemo(()=>e?.isEnabled??!0,[e?.isEnabled]),i=f.useMemo(()=>a&&!t&&!r,[a,t,r]);return f.useMemo(()=>({canShow:i,handleConfirm(){n(!1),s(!0),e?.onConfirm()},handleCancel(){n(!1),s(!1)},isShowing:t,show(){n(!0)}}),[i,t,e])}const Lhe=f.createContext({canShow:!1,handleCancel(){},handleConfirm(){},isShowing:!1,show(){}}),Ohe=L.memo(function(t){const{children:n,trigger:r,value:s}=t;return o.jsx(Lhe.Provider,{value:s,children:o.jsx(YD,{onOpenChange:s.handleCancel,open:s.isShowing,trigger:r,children:n})})});Ohe.displayName="ConfirmCloseModalDialog";function oit(){const e=f.useContext(Lhe);if(!e)throw new Error("useConfirmCloseModalContext() used outside of provider.");return e}var Phe=lfe(),ik=function(){},xC=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:ik,onWheelCapture:ik,onTouchMoveCapture:ik}),s=r[0],a=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,m=e.sideCar,g=e.noIsolation,v=e.inert,x=e.allowPinchZoom,b=e.as,w=b===void 0?"div":b,C=e.gapMode,S=tP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=m,E=ofe([n,t]),T=yr(yr({},S),s);return f.createElement(f.Fragment,null,d&&f.createElement(k,{sideCar:Phe,removeScrollBar:u,shards:h,noIsolation:g,inert:v,setCallbacks:a,allowPinchZoom:!!x,lockRef:n,gapMode:C}),i?f.cloneElement(f.Children.only(l),yr(yr({},T),{ref:E})):f.createElement(w,yr({},T,{className:c,ref:E}),l))});xC.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xC.classNames={fullWidth:m2,zeroRight:h2};var IA=!1;if(typeof window<"u")try{var c4=Object.defineProperty({},"passive",{get:function(){return IA=!0,!0}});window.addEventListener("test",c4,c4),window.removeEventListener("test",c4,c4)}catch{IA=!1}var sp=IA?{passive:!1}:!1,lit=function(e){return e.tagName==="TEXTAREA"},Ihe=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!lit(e)&&n[t]==="visible")},cit=function(e){return Ihe(e,"overflowY")},uit=function(e){return Ihe(e,"overflowX")},iX=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Dhe(e,r);if(s){var a=Fhe(e,r),i=a[1],l=a[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},dit=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},fit=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Dhe=function(e,t){return e==="v"?cit(t):uit(t)},Fhe=function(e,t){return e==="v"?dit(t):fit(t)},hit=function(e,t){return e==="h"&&t==="rtl"?-1:1},mit=function(e,t,n,r,s){var a=hit(e,window.getComputedStyle(t).direction),i=a*r,l=n.target,c=t.contains(l),u=!1,d=i>0,h=0,m=0;do{var g=Fhe(e,l),v=g[0],x=g[1],b=g[2],w=x-b-a*v;(v||w)&&Dhe(e,l)&&(h+=w,m+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(h)<1||!d&&Math.abs(m)<1)&&(u=!0),u},u4=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},oX=function(e){return[e.deltaX,e.deltaY]},lX=function(e){return e&&"current"in e?e.current:e},pit=function(e,t){return e[0]===t[0]&&e[1]===t[1]},git=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},vit=0,ap=[];function yit(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),s=f.useState(vit++)[0],a=f.useState(gD)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=lt([e.lockRef.current],(e.shards||[]).map(lX),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=f.useCallback(function(x,b){if("touches"in x&&x.touches.length===2)return!i.current.allowPinchZoom;var w=u4(x),C=n.current,S="deltaX"in x?x.deltaX:C[0]-w[0],k="deltaY"in x?x.deltaY:C[1]-w[1],E,T=x.target,j=Math.abs(S)>Math.abs(k)?"h":"v";if("touches"in x&&j==="h"&&T.type==="range")return!1;var N=iX(j,T);if(!N)return!0;if(N?E=j:(E=j==="v"?"h":"v",N=iX(j,T)),!N)return!1;if(!r.current&&"changedTouches"in x&&(S||k)&&(r.current=E),!E)return!0;var R=r.current||E;return mit(R,b,x,R==="h"?S:k)},[]),c=f.useCallback(function(x){var b=x;if(!(!ap.length||ap[ap.length-1]!==a)){var w="deltaY"in b?oX(b):u4(b),C=t.current.filter(function(E){return E.name===b.type&&(E.target===b.target||b.target===E.shadowParent)&&pit(E.delta,w)})[0];if(C&&C.should){b.cancelable&&b.preventDefault();return}if(!C){var S=(i.current.shards||[]).map(lX).filter(Boolean).filter(function(E){return E.contains(b.target)}),k=S.length>0?l(b,S[0]):!i.current.noIsolation;k&&b.cancelable&&b.preventDefault()}}},[]),u=f.useCallback(function(x,b,w,C){var S={name:x,delta:b,target:w,should:C,shadowParent:xit(w)};t.current.push(S),setTimeout(function(){t.current=t.current.filter(function(k){return k!==S})},1)},[]),d=f.useCallback(function(x){n.current=u4(x),r.current=void 0},[]),h=f.useCallback(function(x){u(x.type,oX(x),x.target,l(x,e.lockRef.current))},[]),m=f.useCallback(function(x){u(x.type,u4(x),x.target,l(x,e.lockRef.current))},[]);f.useEffect(function(){return ap.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,sp),document.addEventListener("touchmove",c,sp),document.addEventListener("touchstart",d,sp),function(){ap=ap.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,sp),document.removeEventListener("touchmove",c,sp),document.removeEventListener("touchstart",d,sp)}},[]);var g=e.removeScrollBar,v=e.inert;return f.createElement(f.Fragment,null,v?f.createElement(a,{styles:git(s)}):null,g?f.createElement(ffe,{gapMode:e.gapMode}):null)}function xit(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const bit=ufe(Phe,yit);var KD=f.forwardRef(function(e,t){return f.createElement(xC,yr({},e,{ref:t,sideCar:bit}))});KD.classNames=xC.classNames;const Ng=L.memo(({children:e,portalTarget:t})=>{const[n,r]=f.useState(!1);return f.useEffect(()=>(r(!0),()=>r(!1)),[]),n?Xs.createPortal(e,t||document.body):null}),wit=250,jg=L.memo(({animationClassName:e,children:t,isOpen:n=!1,transparent:r=!1,canOutsideClickClose:s=!0,onBeforeClose:a,onClose:i,onIsClosing:l,childVariant:c="default",center:u=!0,shouldClose:d=!1,disableAnimation:h=!1,testId:m,removeScroll:g=!0,shards:v=[],delayClose:x=!0,variant:b="default",portalTarget:w,includeBlur:C=!0})=>{const S=f.useRef(null),k=f.useRef(null),E=f.useRef(null),[T,j]=f.useState(!1),N=f.useRef(!1),R=f.useCallback(U=>{T||a?.()===!1||(x?(j(!0),l?.(),setTimeout(()=>{i?.(U),j(!1)},wit)):(j(!0),i?.(U),j(!1)))},[T,a,x,l,i]);f.useEffect(()=>{d&&!T&&R("closed")},[d,T,R]);const O=f.useCallback(U=>{r&&!s?U.stopPropagation():U.target===S.current&&R("backdrop")},[r,s,R]),I=f.useCallback(U=>{const H=U.target;if(H instanceof Element){if(k.current===H||k.current?.contains(H))return;const q=H.closest('[data-type="portal"]');if(q&&q!==E.current&&!r)return}j(!1),R("clickaway")},[R,r]);f.useEffect(()=>{if(n&&r&&s)return document.addEventListener("click",I),()=>{document.removeEventListener("click",I)}},[n,r,I,s]);const B=f.useCallback(U=>{U.key==="Escape"&&R("escape")},[R]);f.useEffect(()=>(n&&document.addEventListener("keydown",B),()=>{document.removeEventListener("keydown",B)}),[n,B]);const D=f.useMemo(()=>W("duration-250 fill-mode-both",{"animate-in fade-in zoom-in-[0.98] ease-in":["default","large","small","hide-chrome","full-sheet"].includes(c),"zoom-out-[0.98] fade-out animate-out ease-out":["default","hide-chrome","full-sheet","large","small"].includes(c)&&T,"fixed bottom-0 left-0":c==="bottom-left-sheet","fixed top-0 right-0 left-0":c==="side-sheet","fixed bottom-0 left-0 right-0":c==="bottom-sheet"},e),[e,c,T]),z=W("items-stretch md:items-center",{"fill-mode-both fixed inset-0":!r,"bg-backdrop/70":b==="default"||b==="default-less-blur","bg-backdrop-lightbox/95":b==="lightbox","animate-in fade-in ease-outExpo duration-200":!T&&!h,"animate-out fade-out ease-inExpo duration-200":T&&!h},{"backdrop-blur-md":C&&b==="lightbox","backdrop-blur-sm":C&&b==="default","backdrop-blur-[0.5px]":C&&b==="default-less-blur"}),V=f.useMemo(()=>n?o.jsxs(KD,{removeScrollBar:!1,enabled:g,shards:v,children:[o.jsx("div",{className:z}),o.jsx("div",{ref:S,onPointerDown:U=>{N.current=U.target===S.current},onPointerUp:U=>{N.current&&O(U),N.current=!1},className:W({"fixed inset-0 overflow-y-auto":!r,"flex items-center justify-center":u}),"data-test-id":m,children:o.jsx("div",{ref:k,className:D,children:t})})]}):null,[n,t,r,u,m,O,D,k,S,g,v,z]);return o.jsx(Ng,{portalTarget:w,children:o.jsx("div",{ref:E,"data-type":"portal",children:V})})});jg.displayName="Overlay";const Uhe=f.createContext({canOutsideClickClose:!0}),Sn=L.memo(({title:e,subtitle:t,subtitleClassname:n,centerTitle:r,children:s,actionList:a=Fe,variant:i="default",onClose:l,noPadding:c=!1,onIsClosing:u,titleContent:d,footerContent:h,icon:m,overlayVariant:g,titleLeadingButtonProps:v,confirmOnClose:x,titleTextVariant:b="page-title",headerClassname:w,closeButtonClassname:C="right-0 top-sm absolute",footerClassname:S,renderCloseButton:k=!0,fixedTitle:E,modalClassname:T,modalContentClassname:j,modalElementProps:N,includeBlur:R=!0,isOpen:O,ref:I,wrapperClassname:B,...D})=>{const z=f.useRef(null),V=f.useRef(null),U=f.useRef(null),H=f.useRef(null),[q,$]=f.useState(!1),[G,K]=f.useState(!1),[ee,oe]=f.useState(!1);f.useEffect(()=>{O&&!ee?oe(!0):!O&&ee&&!q&&$(!0)},[O,ee,q]);const ne=f.useMemo(()=>!!x,[x]),te=iit({isEnabled:ne,onConfirm(){K(!0),$(!0)}}),re=f.useMemo(()=>W(T,"bg-background dark:bg-backgroundDark shadow-md overflow-y-auto scrollbar-thin scrollbar-thumb-idle dark:scrollbar-thumb-idleDark scrollbar-track-transparent fill-mode-both",{"md:rounded-xl md:min-w-[600px] max-w-screen-sm shadow-md dark:border dark:border-borderMain/30 relative h-full max-h-[100vh] md:max-h-[95vh] overflow-auto md:w-full":i==="default","min-h-0 max-h-[70vh] rounded-t-xl bottom-0 left-0 right-0 flex flex-col":i==="bottom-left-sheet","w-screen md:h-screen h-[100dvh] flex flex-col":i==="full-sheet","w-screen min-h-[60dvh] md:min-h-[60vh] shadow-overlay max-h-[96dvh] md:max-h-[96vh] flex flex-col fixed bottom-0 left-0 right-0":i==="bottom-sheet","h-screen w-[40vw] min-w-[500px] shadow-overlay top-0 right-0 fixed flex flex-col":i==="side-sheet","animate-in slide-in-from-right ease-outExpo":i==="side-sheet"&&!G,"animate-out slide-out-to-right ease-inExpo":i==="side-sheet"&&G,"animate-in slide-in-from-bottom ease-in":["bottom-left-sheet","bottom-sheet"].includes(i)&&!G,"animate-out slide-out-to-bottom ease-out":["bottom-left-sheet","bottom-sheet"].includes(i)&&G,"max-h-[100vh] w-[90vw] rounded-l-xl flex flex-col":i==="wide","h-[95vh] w-[95vw] rounded-xl flex flex-col":i==="full","md:rounded-lg md:min-w-[600px] max-w-screen-lg shadow-md relative overflow-auto max-h-[100vh]":i==="large","md:rounded-lg md:min-w-[500px] max-w-screen-lg shadow-md relative overflow-auto max-h-[100vh]":i==="medium","md:rounded-lg md:max-w-[440px] shadow-md relative overflow-auto max-h-[100vh]":i==="small","md:rounded-lg md:max-w-[350px] shadow-md relative overflow-auto max-h-[100vh]":i==="thin"}),[i,G,T]),X=f.useMemo(()=>W("grow flex flex-col justify-center shrink-0",{"md:pt-md":e===void 0&&!d,"md:pb-lg":a?.length===0,"p-sm":!c,"p-0":c},j),[a?.length,c,e,j,d]),ce=f.useMemo(()=>L.memo(({idx:Ce,text:we,onClick:Pe,variant:ot,disabled:Be,isLoading:Ee,testId:st,icon:et,shouldShowConfirmDialog:$e,buttonClassname:tt})=>{const at=f.useCallback(Oe=>{if(Oe.stopPropagation(),ot&&$e&&te.canShow){te.show();return}Pe?.()},[Pe,$e,ot]),xe={key:Ce,text:we,disabled:Be,isLoading:Ee,testId:st,chevronIcon:et,extraCSS:tt};return f.createElement(Le,{fullWidthMobile:!0,variant:ot||void 0,...xe,onClick:at,key:xe.key})}),[te]),se=f.useMemo(()=>a.map((Ce,we)=>f.createElement(ce,{...Ce,idx:we,key:we})),[a,ce]);f.useImperativeHandle(I,()=>({scrollContainerRef:z,headerRef:V,contentRef:U,footerRef:H}),[z,V,H]);const J=f.useCallback(()=>{u?.(),K(!0)},[u]),de=f.useCallback(Ce=>{K(!1),$(!1),oe(!1),l?.(Ce)},[l]),ie=f.useCallback(()=>{if(te?.canShow){te.show();return}$(!0)},[te]),he=f.useCallback(()=>te?.canShow?(te.show(),!1):!0,[te]),{canOutsideClickClose:pe}=f.useContext(Uhe),ge=f.useMemo(()=>o.jsxs(o.Fragment,{children:[o.jsx("div",{children:i==="hide-chrome"?o.jsx("div",{children:s}):o.jsxs(je.div,{animate:{scale:te.isShowing?.955:1},className:re,transition:{duration:.2},ref:z,...N,children:[o.jsx("div",{className:"right-sm top-sm fixed z-[23] md:absolute"}),o.jsxs(Q,{className:W(B,"px-md pb-md flex min-h-0 w-[100vw] grow flex-col md:w-[unset] md:grow-[unset]",{"h-full":!E,"h-auto !grow":E}),children:[o.jsxs(Q,{variant:"background",className:W(w,"pt-md sticky top-0 z-[22] w-full shrink-0",{"text-center":r,"h-10":!e&&!d}),ref:V,children:[o.jsxs("div",{className:"p-sm flex items-center gap-1.5",children:[v&&o.jsx(it,{extraCSS:"-ml-sm",...v,size:"small",variant:"common"}),m&&o.jsx(Ne,{icon:m,className:"text-text -ml-xs -translate-y-[2px]",size:"xl"}),e&&o.jsx(F,{variant:b,className:W("line-clamp-3 text-pretty",b,{"pt-lg grow":r,"mr-lg":!r}),children:e}),!e&&d,k&&o.jsx(Lx,{onClick:ie,testId:"close-modal",className:C})]}),t&&o.jsx(F,{variant:"base",color:"light",className:W("mt-xs p-sm line-clamp-3 text-pretty",n),children:t})]}),s&&o.jsx("div",{className:X,ref:U,children:s}),(se?.length>0||h)&&o.jsxs(Q,{variant:"background",className:W("gap-x-sm p-sm pt-lg bottom-0 z-[10] flex items-center",{"justify-end":!h},{"justify-between":h},{sticky:!0},S),ref:H,children:[h,se]})]})]})}),ne&&o.jsx(Ohe,{value:te,children:x})]}),[se,r,s,C,te,x,X,E,S,h,ie,w,m,ne,re,N,k,t,n,e,d,v,b,i,B]);return o.jsx(jg,{includeBlur:R,childVariant:i,shouldClose:q,onBeforeClose:he,onIsClosing:J,onClose:de,variant:g,isOpen:ee,canOutsideClickClose:pe,...D,children:ge})});Sn.displayName="Modal";const _it=f.createContext(null),ok={didCatch:!1,error:null};let Bhe=class extends f.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=ok}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(){const{error:t}=this.state;if(t!==null){for(var n,r,s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];(n=(r=this.props).onReset)===null||n===void 0||n.call(r,{args:a,reason:"imperative-api"}),this.setState(ok)}}componentDidCatch(t,n){var r,s;(r=(s=this.props).onError)===null||r===void 0||r.call(s,t,n)}componentDidUpdate(t,n){const{didCatch:r}=this.state,{resetKeys:s}=this.props;if(r&&n.error!==null&&Cit(t.resetKeys,s)){var a,i;(a=(i=this.props).onReset)===null||a===void 0||a.call(i,{next:s,prev:t.resetKeys,reason:"keys"}),this.setState(ok)}}render(){const{children:t,fallbackRender:n,FallbackComponent:r,fallback:s}=this.props,{didCatch:a,error:i}=this.state;let l=t;if(a){const c={error:i,resetErrorBoundary:this.resetErrorBoundary};if(f.isValidElement(s))l=s;else if(typeof n=="function")l=n(c);else if(r)l=f.createElement(r,c);else throw i}return f.createElement(_it.Provider,{value:{didCatch:a,error:i,resetErrorBoundary:this.resetErrorBoundary}},l)}};function Cit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==t.length||e.some((n,r)=>!Object.is(n,t[r]))}class Sit extends sx{name="ReactRenderingError"}function QD(e){le.info("Reloading window",{reason:e,url:window.location.href}),window.location.reload()}const Mit=()=>QD("Error boundary"),kit=({resetErrorBoundary:e})=>{const{$t:t}=ae(),n=f.useCallback(()=>{e()},[e]);return o.jsxs(Q,{variant:"offset",className:"p-md flex w-full items-center justify-between rounded",children:[o.jsx(F,{variant:"smallBold",children:t({defaultMessage:"Something went wrong.",id:"iuY8kxCDQT"})}),o.jsx(Le,{pill:!0,size:"tiny",text:t({defaultMessage:"Retry",id:"62nsdyMyIO"}),variant:"border",type:"button",onClick:n})]})},Eit=L.memo(()=>null),Tit=/load(.*?)chunk/i,oi=L.memo(({fallback:e=kit,children:t,onError:n,code:r="REACT_RENDERING_ERROR"})=>{const s=f.useCallback((a,i)=>{n?.(a,i);let l;if(a instanceof sx)l=a;else{let c=r;Tit.test(a?.message??"")&&(c="CHUNK_LOADING_ERROR"),l=new Sit(c,{message:a.message,cause:a})}l.stack=i.componentStack||void 0,le.error(l)},[n,r]);return o.jsx(Bhe,{FallbackComponent:e||Eit,onError:s,onReset:Mit,children:t})}),Nit={},jit=()=>null,cX=new WeakSet;function Ait(e,t=Nit){const n=t.loading??jit,r=L.lazy(async()=>{try{return await e()}catch{return await new Promise(s=>setTimeout(s,1e3)),await e()}});return cX.has(e)||(cX.add(e),(async()=>{try{return await e()}catch{return await new Promise(s=>setTimeout(s,1e3)),await e()}})()),function(a){const i=f.useCallback((c,u)=>{const d=new Error(c.message);d.name="ReactRenderingError",d.stack=u.componentStack||void 0,d.cause=c,le.error(d)},[]),l=f.useMemo(()=>o.jsx(n,{}),[]);return o.jsx(Bhe,{fallback:l,onError:i,children:o.jsx(L.Suspense,{fallback:l,children:o.jsx(r,{...a})})})}}const Rit={},Lit=()=>null,uX=new WeakSet;function De(e,t=Rit){return!uX.has(e)&&typeof window<"u"&&(uX.add(e),(async()=>{try{return await e()}catch{return await new Promise(n=>setTimeout(n,1e3)),await e()}})()),Ait(async()=>{try{return await e()}catch{return await new Promise(n=>setTimeout(n,1e3)),await e()}},{loading:t?.loading??Lit})}const XD=br({path:"M8.175 13.976a.876.876 0 0 1 1.172-.04l.065.061.582.59c.196.194.395.388.596.576l.39.358c1.942 1.753 3.844 2.937 5.357 3.477.81.29 1.444.369 1.884.31.404-.055.61-.216.731-.446.135-.256.209-.678.116-1.31-.08-.546-.275-1.191-.59-1.91l-.141-.313-.034-.083a.875.875 0 0 1 1.575-.741l.042.079.161.353c.36.823.61 1.623.719 2.362.122.836.071 1.675-.3 2.38-.431.818-1.186 1.247-2.044 1.363-.823.111-1.756-.056-2.707-.396-1.912-.681-4.17-2.154-6.357-4.207a30.378 30.378 0 0 1-.63-.61l-.608-.615-.058-.068a.875.875 0 0 1 .079-1.17Zm.624-5.822a.876.876 0 0 1 1.216 1.258c-.396.383-.788.775-1.165 1.178-1.95 2.077-3.26 4.133-3.835 5.747-.29.81-.37 1.444-.31 1.884.055.404.215.61.444.731l.104.048c.261.103.654.149 1.207.068.623-.09 1.378-.333 2.224-.731a.875.875 0 0 1 .745 1.583c-.948.446-1.871.756-2.716.88-.784.114-1.57.078-2.246-.234l-.134-.066c-.817-.431-1.246-1.186-1.362-2.044-.112-.823.056-1.756.395-2.707.64-1.792 1.973-3.889 3.83-5.945l.377-.411c.402-.43.816-.843 1.226-1.239Zm8.5-4.954c.832-.122 1.67-.073 2.372.302h-.001c.814.432 1.243 1.185 1.36 2.042.11.823-.057 1.756-.396 2.707-.682 1.911-2.154 4.17-4.207 6.356h-.001c-.403.429-.818.846-1.236 1.236l-.068.057a.875.875 0 0 1-1.127-1.336l.582-.562c.193-.193.385-.39.573-.592l.359-.39c1.752-1.942 2.937-3.844 3.476-5.357.29-.811.37-1.444.31-1.884-.055-.404-.216-.61-.446-.731l-.003-.002c-.248-.132-.663-.207-1.293-.114-.62.09-1.37.332-2.208.73l-.083.034a.876.876 0 0 1-.667-1.615l.351-.161c.819-.36 1.616-.612 2.353-.72Zm-5.292 7.507a1.3 1.3 0 1 1 0 2.6 1.3 1.3 0 0 1 0-2.6ZM5.544 2.971c.823-.112 1.756.056 2.707.395 1.911.682 4.17 2.154 6.356 4.207.214.201.426.406.632.612l.604.625.057.068a.875.875 0 0 1-1.271 1.19l-.065-.063-.562-.582c-.193-.193-.39-.385-.592-.573-2.077-1.95-4.133-3.26-5.747-3.835-.811-.29-1.444-.37-1.884-.31-.404.055-.61.215-.731.444l-.002.004c-.132.248-.207.664-.114 1.294.08.543.275 1.184.588 1.898l.142.31.034.083a.875.875 0 0 1-1.572.746l-.043-.079-.161-.352c-.36-.819-.612-1.615-.72-2.352-.122-.832-.073-1.67.302-2.372.431-.814 1.185-1.242 2.042-1.358Z",name:"IconPerplexityDeepResearch",variant:"filled"}),bC=br({path:"M11.92 1.889a7.035 7.035 0 0 1 7.034 7.032 7.033 7.033 0 0 1-3.694 6.184v3.053a.876.876 0 0 1-.875.875h-4.052v1.317h4.052l.089.003a.876.876 0 0 1 0 1.742l-.09.005H9.459a.876.876 0 0 1-.875-.875v-3.067c0-.483.392-.875.875-.875h4.052v-2.722c0-.347.205-.662.523-.801l.343-.164a5.286 5.286 0 0 0 2.828-4.675 5.285 5.285 0 0 0-5.283-5.282A5.285 5.285 0 0 0 6.639 8.92a5.286 5.286 0 0 0 2.828 4.675l.342.164.08.04a.875.875 0 0 1-.698 1.595l-.084-.032-.23-.105A7.036 7.036 0 0 1 4.89 8.92a7.035 7.035 0 0 1 7.032-7.032Zm.014 5.732a1.3 1.3 0 1 1 0 2.6 1.3 1.3 0 0 1 0-2.6Z",name:"IconPerplexityProject",variant:"filled"}),Oit=br({path:"M11 2.125a8.378 8.378 0 0 1 8.375 8.375c0 .767-.1 1.508-.304 2.22l-.029.085a.875.875 0 0 1-1.653-.566l.054-.206c.12-.486.182-.996.182-1.533A6.628 6.628 0 0 0 11 3.875 6.628 6.628 0 0 0 4.375 10.5a6.628 6.628 0 0 0 10.402 5.445c.943-.654 2.242-.664 3.153.109l.176.165.001.002 4.066 4.184a.875.875 0 0 1-1.256 1.22l-4.064-4.185-.104-.088c-.263-.183-.646-.197-.975.03l-.001.003A8.378 8.378 0 0 1 2.625 10.5 8.378 8.378 0 0 1 11 2.125Zm0 7.09a1.3 1.3 0 1 1 0 2.6 1.3 1.3 0 0 1 0-2.6Z",name:"IconPerplexitySearch2",variant:"filled"});var Re=(e=>(e.DEFAULT="turbo",e.PPLX_PRO_UPGRADED="pplx_pro_upgraded",e.PRO="pplx_pro",e.SONAR="experimental",e.GPT_4o="gpt4o",e.GPT_4_1="gpt41",e.CLAUDE_2="claude2",e.GEMINI_2_FLASH="gemini2flash",e.GROK="grok",e.PPLX_REASONING="pplx_reasoning",e.CLAUDE_3_7_SONNET_THINKING="claude37sonnetthinking",e.R1="r1",e.O4_MINI="o4mini",e.O3="o3",e.O3_PRO="o3pro",e.CLAUDE_4_0_OPUS="claude40opus",e.CLAUDE_4_0_OPUS_THINKING="claude40opusthinking",e.GROK_4="grok4",e.ALPHA="pplx_alpha",e.O3_RESEARCH="o3_research",e.O3_PRO_RESEARCH="o3pro_research",e.CLAUDE40SONNET_RESEARCH="claude40sonnet_research",e.CLAUDE40SONNETTHINKING_RESEARCH="claude40sonnetthinking_research",e.CLAUDE40OPUS_RESEARCH="claude40opus_research",e.CLAUDE40OPUSTHINKING_RESEARCH="claude40opusthinking_research",e.BETA="pplx_beta",e.O3_LABS="o3_labs",e.O3_PRO_LABS="o3pro_labs",e.CLAUDE40SONNETTHINKING_LABS="claude40sonnetthinking_labs",e.CLAUDE40OPUSTHINKING_LABS="claude40opusthinking_labs",e))(Re||{}),Wi=(e=>(e.GPT_4="gpt4",e.CLAUDE_3_OPUS="claude3opus",e.CLAUDE_3_5_HAIKU="claude35haiku",e.GEMINI="gemini",e.LLAMA_X_LARGE="llama_x_large",e.MISTRAL="mistral",e.GROK2="grok2",e.COPILOT="copilot",e.O3_MINI="o3mini",e.CLAUDE_OMBRE_EAP="claude_ombre_eap",e.CLAUDE_LACE_EAP="claude_lace_eap",e))(Wi||{}),_e=(e=>(e.SEARCH="search",e.RESEARCH="research",e.STUDIO="studio",e))(_e||{}),$v=(e=>(e.FREE="free",e.PRO="pro",e.MAX="max",e))($v||{});const Ti={turbo:"search",pplx_pro:"search",experimental:"search",claude2:"search",gpt4o:"search",gpt41:"search",gemini2flash:"search",grok:"search",r1:"search",o3:"search",o3pro:"search",claude37sonnetthinking:"search",claude40opusthinking:"search",grok4:"search",pplx_alpha:"research",o4mini:"research",o3_research:"research",o3pro_research:"research",claude40sonnet_research:"research",claude40sonnetthinking_research:"research",claude40opus_research:"research",claude40opusthinking_research:"research",pplx_beta:"studio",o3_labs:"studio",o3pro_labs:"studio",claude40sonnetthinking_labs:"studio",claude40opusthinking_labs:"studio"},ZD=e=>Ti[e]||"search";var Qi=(e=>(e[e.ANSWER=0]="ANSWER",e[e.REASONING=1]="REASONING",e))(Qi||{});const A1={search:Oit,research:XD,studio:bC},Pit=e=>A1[e],Vhe=e=>Pit(ZD(e)),Iit={...A1,search:Tce},Dit={auto:{model:"turbo",mode:"search"},reasoning:{model:"pplx_reasoning",mode:"search"},deep_research:{model:"pplx_alpha",mode:"research"}},zhe=e=>typeof e=="string"&&e in Ti,Hhe=e=>zhe(e)?e:void 0,dX=Object.values(_e),{Provider:Ag,useSelector:Fit,useTrackedState:Uit}=Mg("AskInputProvider",()=>uo((e,t)=>({activeMenu:null,fileUploadUpsellTooltipOpen:!1,suggestions:Fe,blankStateSuggestions:{[_e.SEARCH]:null,[_e.RESEARCH]:null,[_e.STUDIO]:null},showSuggestDropdown:!1,actions:{onActiveMenuChange:n=>{e({activeMenu:n})},setFileUploadUpsellTooltipOpen:n=>{e({fileUploadUpsellTooltipOpen:n})},setSuggestions:n=>{e({suggestions:n})},setBlankStateSuggestions:(n,r)=>{const s=t().blankStateSuggestions;e({blankStateSuggestions:{...s,[r]:n}})},setShowSuggestDropdown:n=>{e({showSuggestDropdown:n})}},inputRef:f.createRef()}))),Ho=()=>Fit(e=>e.actions),La=Uit,Whe={keyProp:0,message:null,variant:"success",description:void 0,isVisible:!1,ctaText:void 0,ctaOnClick:void 0,openToast:()=>{},closeToast:()=>{}},$he=f.createContext(Whe),qhe=L.memo(({children:e})=>{const[t,n]=f.useState(Whe),r=f.useCallback((i,l,c,u,d,h,m)=>{n(g=>({...g,message:i,variant:l,timeout:c,description:u,ctaText:d,ctaOnClick:h,position:m??"top",isVisible:!0,keyProp:(g.keyProp||0)+1}))},[]),s=f.useCallback(()=>{n(i=>({...i,isVisible:!1}))},[]),a=f.useMemo(()=>({...t,openToast:r,closeToast:s}),[r,s,t]);return o.jsx($he.Provider,{value:a,children:e})});qhe.displayName="ToastStateProvider";const Sr=()=>{const e=f.useContext($he);if(!e)throw new Error("useToastState must be used within ToastContext");return e},Bit=async({entryUUID:e,params:t,reason:n})=>{try{return(await me.POST("/rest/entry/should-show-feedback/{entry_uuid}",n,{params:{path:{entry_uuid:e}},body:t,timeoutMs:ut({productionMs:500,devMs:1e3,clientSideMs:1e3}),numRetries:0})).data?.should_show_feedback??!1}catch(r){return le.error("Failed to check if should show feedback",r),!1}},Vit=async({slugOrUUID:e,headers:t,options:n,numRetries:r=0,reason:s})=>{const a="getThreadByUUID";if(!e||e==="undefined"||e==="new"){le.log(`Tried to ${a} with bad slugOrUUID: ${e}`);return}const i=n?.withParentInfo,l=n?.withSchematizedResponse,c=n?.version??bu,u=n?.source??Vle,d=n?.limit??0,h=n?.offset??0,m=n?.fromFirst,g=n?.supportedBlockUseCases??[],v=n?.cursor??null;try{const x=await me.GET("/rest/thread/{entry_uuid_or_slug}",s,{params:{path:{entry_uuid_or_slug:e},query:{with_parent_info:i,with_schematized_response:l,version:c,source:u,limit:d,offset:h,from_first:m,supported_block_use_cases:g,cursor:v}},timeoutMs:Ur.HIGH,numRetries:r,headers:t});if(!x.response.ok||!x.data||x.error)throw x.error?new Error(`Failed to ${a} for ${e}`,{cause:x.error.detail}):new Error(`Failed to ${a} for ${e}`);return x.data}catch(x){throw le.error("Failed to get thread by uuid",x),x}},uKt=async({entryUUID:e,selectedText:t,beforeContext:n,afterContext:r,callback:s,reason:a})=>{await me.SSE("/rest/sse/check-sources",a,{params:{entry_uuid_or_slug:e,selected_text:t,before_context:n,after_context:r},handlers:{message:i=>s(i)}})},dKt=async({entryUUID:e,answerHelpful:t,detailedFeedback:n,reason:r})=>{try{const{error:s}=await me.POST("/rest/entry/feedback/{entry_uuid}",r,{params:{path:{entry_uuid:e}},body:{answer_helpful:t??!1,feedback:n},timeoutMs:ut({productionMs:5e3}),numRetries:1});if(s)throw new pt("API_CLIENTS_ERROR",{cause:s})}catch(s){le.error(s)}},fKt=async({entryUUID:e,params:t,reason:n})=>{if(e)try{const{error:r}=await me.POST("/rest/entry/label-entry/{entry_uuid}",n,{params:{path:{entry_uuid:e}},body:t,timeoutMs:ut({productionMs:5e3}),numRetries:1});if(r)throw new pt("API_CLIENTS_ERROR",{cause:r})}catch(r){le.error(r)}},hKt=async({entry_uuid:e,format:t,reason:n})=>{const{data:r,error:s}=await me.POST("/rest/entry/export",n,{body:{entry_uuid:e,format:t},timeoutMs:ut({productionMs:6e3}),numRetries:1});if(s)throw new pt("API_CLIENTS_ERROR",{cause:s});return r},zit=async({slugOrUUID:e,reason:t})=>{const{error:n}=await me.POST("/rest/thread/request-access/{entry_uuid_or_slug}",t,{params:{path:{entry_uuid_or_slug:e}}});if(n)throw new pt("API_CLIENTS_ERROR",{cause:n})},Pw=async({entryUUID:e,reason:t})=>{try{await me.POST("/rest/sse/perplexity_terminate",t,{headers:{"content-type":"application/json"},body:{entry_uuid:e},timeoutMs:ut({productionMs:5e3}),numRetries:1})}catch(n){le.error("Failed to terminate entry",n)}},mKt=async({entryUUID:e,reason:t})=>{try{await me.POST("/rest/sse/perplexity_skip_search",t,{headers:{"content-type":"application/json"},body:{entry_uuid:e}})}catch(n){le.error("Failed to skip search",n)}},Hit=async({entryUUID:e,clarification:t,reason:n})=>{try{await me.POST("/rest/sse/perplexity_clarifying_answer",n,{headers:{"content-type":"application/json"},body:{entry_uuid:e,clarification:t},timeoutMs:ut({productionMs:5e3}),numRetries:0})}catch(r){le.error("Failed to give clarifying answer",r)}},Wit=async({entryUUID:e,reason:t})=>{try{return(await me.POST("/rest/entry/should-show-recruitment-banner/{entry_uuid}",t,{params:{path:{entry_uuid:e}},body:void 0,timeoutMs:ut({productionMs:500,devMs:1e3,clientSideMs:1e3}),numRetries:0})).data?.should_show_recruitment_banner??!1}catch(n){return le.error("Failed to check if should show recruitment banner",n),!1}},pKt=async({stepUUID:e,result:t,reason:n})=>{try{const{error:r}=await me.POST("/rest/sse/pro_search_step_result",n,{body:{step_uuid:e,result:t},timeoutMs:ut({productionMs:5e3}),numRetries:0});if(r)throw new pt("API_CLIENTS_ERROR",{cause:r})}catch(r){le.error(r)}},$it=async({entryUUID:e,params:t,siblingUUID:n,reason:r})=>{const{error:s}=await me.POST("/rest/entry/set-entry-selection/{entry_uuid}",r,{params:{path:{entry_uuid:e}},body:{selection_status:t,sibling_uuid:n},timeoutMs:ut({productionMs:5e3}),numRetries:1});if(s)throw new pt("API_CLIENTS_ERROR",{cause:s})},Ghe=L.memo(({isOpen:e,onClose:t,uuidOrSlug:n})=>{const r="request-access-modal",{$t:s}=ae(),{openToast:a}=Sr(),{trackEvent:i}=Ye();f.useEffect(()=>{i("thread access modal viewed",{uuidOrSlug:n})},[i,n]);const l=f.useCallback(u=>{i("thread access modal requested",{uuidOrSlug:n}),zit({slugOrUUID:n,reason:r}).then(()=>{t(),a(s({defaultMessage:"Access request sent",id:"STvLV+qKiH"}),"success",3)})},[n,s,t,a,i]),c=f.useCallback(()=>l(n),[l,n]);return o.jsx(Sn,{isOpen:e,onClose:t,variant:"thin",children:o.jsx(Q,{className:"px-md mx-auto text-center",children:o.jsxs("div",{className:"gap-y-md flex flex-col",children:[o.jsx("div",{className:"mb-lg flex justify-center",children:o.jsx(Ei,{variant:"full",size:"large",color:"textMain"})}),o.jsxs("div",{className:"gap-y-s mx-auto max-w-sm",children:[o.jsx(F,{variant:"section-title",className:"-mt-md",children:s({defaultMessage:"This answer is private",id:"cA+GFbHP/s"})}),o.jsx(F,{variant:"base",color:"light",className:"-mb-md",children:s({defaultMessage:"You can access this page if the owner accepts your request.",id:"SOJ/6nzOoc"})})]}),o.jsxs("div",{className:"mt-lg mb-md mx-auto flex w-full max-w-sm flex-col gap-y-2",children:[o.jsx(Le,{variant:"primary",text:s({defaultMessage:"Request access",id:"vkHRp5q6Wi"}),onClick:c}),o.jsx(Le,{variant:"common",text:s({defaultMessage:"Back to Perplexity",id:"r89PhWwooe"}),onClick:t,textClassName:"font-normal"})]})]})})})});Ghe.displayName="RequestAccessModal";function DA(){return DA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DA.apply(null,arguments)}function qit(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Git=f.useLayoutEffect,Yit=function(t){var n=L.useRef(t);return Git(function(){n.current=t}),n},fX=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},Kit=function(t,n){var r=L.useRef();return L.useCallback(function(s){t.current=s,r.current&&fX(r.current,null),r.current=n,n&&fX(n,s)},[n])},hX={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},Qit=function(t){Object.keys(hX).forEach(function(n){t.style.setProperty(n,hX[n],"important")})},mX=Qit,Ma=null,pX=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function Xit(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),Ma||(Ma=document.createElement("textarea"),Ma.setAttribute("tabindex","-1"),Ma.setAttribute("aria-hidden","true"),mX(Ma)),Ma.parentNode===null&&document.body.appendChild(Ma);var s=e.paddingSize,a=e.borderSize,i=e.sizingStyle,l=i.boxSizing;Object.keys(i).forEach(function(m){var g=m;Ma.style[g]=i[g]}),mX(Ma),Ma.value=t;var c=pX(Ma,e);Ma.value=t,c=pX(Ma,e),Ma.value="x";var u=Ma.scrollHeight-s,d=u*n;l==="border-box"&&(d=d+s+a),c=Math.max(d,c);var h=u*r;return l==="border-box"&&(h=h+s+a),c=Math.min(h,c),[c,u]}var gX=function(){},Zit=function(t,n){return t.reduce(function(r,s){return r[s]=n[s],r},{})},Jit=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],eot=!!document.documentElement.currentStyle,tot=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=Zit(Jit,n),s=r.boxSizing;if(s==="")return null;eot&&s==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var a=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),i=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:a,borderSize:i}},not=tot;function JD(e,t,n){var r=Yit(n);f.useLayoutEffect(function(){var s=function(i){return r.current(i)};if(e)return e.addEventListener(t,s),function(){return e.removeEventListener(t,s)}},[])}var rot=function(t,n){JD(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},sot=function(t){JD(window,"resize",t)},aot=function(t){JD(document.fonts,"loadingdone",t)},iot=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],oot=function(t,n){var r=t.cacheMeasurements,s=t.maxRows,a=t.minRows,i=t.onChange,l=i===void 0?gX:i,c=t.onHeightChange,u=c===void 0?gX:c,d=qit(t,iot),h=d.value!==void 0,m=f.useRef(null),g=Kit(m,n),v=f.useRef(0),x=f.useRef(),b=function(){var S=m.current,k=r&&x.current?x.current:not(S);if(k){x.current=k;var E=Xit(k,S.value||S.placeholder||"x",a,s),T=E[0],j=E[1];v.current!==T&&(v.current=T,S.style.setProperty("height",T+"px","important"),u(T,{rowHeight:j}))}},w=function(S){h||b(),l(S)};return f.useLayoutEffect(b),rot(m,function(){if(!h){var C=m.current,S=C.value;requestAnimationFrame(function(){S!==C.value&&b()})}}),sot(b),aot(b),f.createElement("textarea",DA({},d,{onChange:w,ref:g}))},Yhe=f.forwardRef(oot),lk={},vX;function lot(){return vX||(vX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="circle-half-stroke",r=512,s=512,a=[9680,"adjust"],i="f042",l="M464 256c0-114.9-93.1-208-208-208l0 416c114.9 0 208-93.1 208-208zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faCircleHalfStroke=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(lk)),lk}var cot=lot();function Rg(e){const t=f.useRef(void 0);return f.useEffect(()=>{t.current=e},[e]),t.current}const Khe=L.memo(({text:e})=>o.jsx(F,{variant:"tiny",children:o.jsx("span",{className:"text-caution",children:e})}));Khe.displayName="FormError";const wC=L.memo(({label:e,subtitle:t,errorText:n,isOptional:r=!1,withMargin:s=!0,optionalLabel:a="optional",testId:i})=>e||n||t?o.jsxs("div",{className:W({"mb-sm":s}),"data-test-id":i,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[(e||t)&&o.jsx("label",{htmlFor:e,children:o.jsx("div",{className:"gap-y-xs flex flex-col",children:e&&o.jsxs("div",{className:"gap-x-xs flex",children:[o.jsx(F,{variant:"smallBold",className:"select-none",children:e}),r&&o.jsx(F,{variant:"small",color:"light",children:`(${a})`})]})})}),n&&o.jsx(Khe,{text:n})]}),t&&o.jsx(F,{variant:"small",color:"light",children:t})]}):null);wC.displayName="FormItemHeader";var ck={},uk={},yX;function uot(){return yX||(yX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="magnifying-glass",r=512,s=512,a=[128269,"search"],i="f002",l="M368 208A160 160 0 1 0 48 208a160 160 0 1 0 320 0zM337.1 371.1C301.7 399.2 256.8 416 208 416C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208c0 48.8-16.8 93.7-44.9 129.1L505 471c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0L337.1 371.1z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faMagnifyingGlass=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(uk)),uk}var xX;function dot(){return xX||(xX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=uot();e.definition={prefix:t.prefix,iconName:t.iconName,icon:[t.width,t.height,t.aliases,t.unicode,t.svgPathData]},e.faSearch=e.definition,e.prefix=t.prefix,e.iconName=t.iconName,e.width=t.width,e.height=t.height,e.ligatures=t.aliases,e.unicode=t.unicode,e.svgPathData=t.svgPathData,e.aliases=t.aliases}(ck)),ck}var fot=dot();class yi{static isEnterKey(t){return t.code==="Enter"||t.key==="Enter"||t.keyCode===13}static isEnterKeyWithoutShift(t){return this.isEnterKey(t)&&!t.shiftKey}static isArrowDown(t){return t.key==="ArrowDown"}static isArrowUp(t){return t.key==="ArrowUp"}static isEscapeKey(t){return t.key==="Escape"}static isTabKey(t){return t.key==="Tab"}static isOnlySlashKey(t){return t.key==="/"&&!t.metaKey&&!t.ctrlKey&&!t.altKey}static isCtrlOrCmdJ(t){return(t.metaKey||t.ctrlKey)&&t.key==="j"}}const uy=(e,t)=>{if(yi.isEnterKeyWithoutShift(e)){if(t.isComposing||e.keyCode===229){e.preventDefault();return}if(t.isMobileUserAgent||t.allowEnterNewlines)return;e.preventDefault()}t.onKeyDown?.(e)},eF=e=>{e(!0)},tF=e=>{setTimeout(()=>{e(!1)},0)};var v2;(function(e){e.INLINE="inline",e.LABEL="label"})(v2||(v2={}));const hot=({onClear:e})=>o.jsx(it,{icon:yn,pill:!0,onClick:e,size:tn.small}),mot=["email","tel"],lf=L.memo(({type:e,className:t,wrapperClassName:n,value:r,name:s,maxLength:a,errorText:i,errorPlacement:l=v2.INLINE,disabled:c=!1,required:u=!1,autoFocus:d=!1,placeholder:h="",rightItems:m=Fe,onChange:g,onClear:v,onBlur:x,onFocus:b,onKeyDown:w,isLoading:C,inlineEditBlock:S,label:k,subtitle:E,isOptional:T,isMobileUserAgent:j,labelMargin:N=!0,testId:R,variant:O,pill:I=!0,disable1pass:B,ClearIcon:D=hot,enterKeyHint:z,size:V,ref:U})=>{const H=Rg(c),q=f.useRef(null),[$,G]=f.useState(!1),[K,ee]=f.useState(!1),oe=f.useRef($);oe.current=$,f.useEffect(()=>{!j&&d&&q.current?.focus()},[j,q,d]),f.useEffect(()=>{H!==c&&!c&&!j&&d&&setTimeout(()=>{q.current?.focus()},200)});const ne=f.useMemo(()=>W({"border-r mr-sm pr-xs border-borderMain":m.length!=0}),[m.length]),te="w-full outline-none focus:outline-none focus:ring-borderMain font-sans flex items-center",re="dark:bg-offsetDark dark:text-textMainDark dark:placeholder-textOff dark:border-borderMainDark dark:focus:ring-borderMainDark",X="caret-super selection:bg-super/50 selection:text-textMain dark:selection:bg-super/10 dark:selection:text-super",ce="duration-200 transition-all",se=f.useMemo(()=>{const Be=W(te,re,X,ce,{"ring-borderMain ring-1 dark:ring-pborderMainDark":$,"bg-background border text-textMain border-borderMain focus:ring-1 placeholder-textOff":!0,"rounded-t-[32px] rounded-b-[32px]":I,rounded:!I},t),Ee=W({"py-xs px-sm text-xs placeholder:text-xs":V==="xs","py-sm px-sm text-sm placeholder:text-xs":V==="sm","py-lg px-xl text-lg placeholder:text-base":V==="lg","pl-[40px]":e==="search","!font-mono md:text-base":O==="monospace","!text-3xl !placeholder:text-3xl !font-medium":O==="page-title","py-sm md:text-sm px-md placeholder:text-sm":!V&&!O}),st=W({"pr-xs":m.length===0&&V==="xs","pr-sm":m.length===0&&V==="sm","pr-md":m.length===0&&!V,"pr-lg":m.length===0&&V==="lg","pr-[49px] md:pr-[59px]":m.length===1,"pr-[128px] md:pr-[138px]":m.length===2});return W(Be,Ee,st)},[e,t,m.length,$,I,O,V]),J=!!i,de=!J&&!!a&&!!r&&r.length>a,ie=f.useMemo(()=>e==="search"?o.jsx("div",{className:"left-md absolute flex items-center rounded-l-lg",children:o.jsx(F,{color:"light",children:o.jsx(jt,{icon:fot.faSearch})})}):null,[e]),he=f.useMemo(()=>{const Be=l===v2.INLINE&&J;return o.jsxs("div",{className:W("right-sm gap-sm bg-background dark:bg-offsetDark absolute flex items-center rounded-full"),children:[C?o.jsx(F,{color:"light",className:"mr-xs",children:o.jsx(Cu,{})}):null,Be&&o.jsx(Q,{className:"mr-sm",children:o.jsx(F,{color:"red",variant:"tiny",children:i})}),de&&o.jsx(Q,{className:"mr-sm",children:a&&r&&o.jsx(F,{color:"red",variant:"tiny",children:a-r.length})}),v&&o.jsx("div",{className:ne,children:o.jsx(D,{onClear:v,inputValue:r})}),m.map((Ee,st)=>o.jsx(Le,{...Ee.buttonProps,size:Ee.buttonProps.size,disabled:Ee.buttonProps.disabled||J||de,pill:!0},st))]})},[l,J,C,i,de,a,r,v,ne,D,m]),pe=f.useCallback(()=>{if(q.current){const Be=q.current.value.length;q.current.focus();try{q.current.setSelectionRange(Be,Be)}catch{}}},[]),ge=f.useCallback(Be=>{b?.(Be.nativeEvent),G(!0)},[b]),Ce=f.useCallback(Be=>{x?.(Be.nativeEvent),G(!1)},[x]);f.useImperativeHandle(U,()=>{const Be=q.current;return Be.focusAtEnd=pe,Be.isFocused=()=>oe.current,Be.append=Ee=>{q.current&&(q.current.value+=Ee)},Be.scrollToEnd=()=>{q.current&&(q.current.scrollTop=q.current.scrollHeight)},Be.trim=()=>{q.current&&(q.current.value=q.current.value.trim())},Be},[pe]),f.useEffect(()=>{d&&!j&&pe()},[d,pe,j]);const we=f.useCallback(Be=>{g?.(Be.target.value)},[g]),Pe=f.useCallback(Be=>{uy(Be.nativeEvent,{isMobileUserAgent:j,isComposing:K,onKeyDown:w})},[w,j,K]),ot=l===v2.LABEL?i:void 0;return o.jsxs("div",{className:n,children:[o.jsx(wC,{label:k,subtitle:E,isOptional:T,errorText:ot,withMargin:N}),o.jsx("div",{className:"rounded-full",children:o.jsxs("div",{className:"relative flex items-center",children:[o.jsx("input",{type:e,ref:q,autoFocus:d,placeholder:h,disabled:c,value:r,required:u,name:s??k,onChange:we,onKeyDown:Pe,onCompositionStart:()=>eF(ee),onCompositionEnd:()=>tF(ee),onBlur:Ce,onFocus:ge,className:se,autoComplete:mot.includes(e??"")?e:"off","data-test-id":R,"data-1p-ignore":B,enterKeyHint:z}),ie,he]})}),S&&o.jsx("div",{className:"mt-sm flex justify-end",children:S})]})});function nF(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var rF="Switch",[pot,gKt]=Zo(rF),[got,vot]=pot(rF),Qhe=f.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[m,g]=f.useState(null),v=Fr(t,S=>g(S)),x=f.useRef(!1),b=m?d||!!m.closest("form"):!0,[w=!1,C]=rf({prop:s,defaultProp:a,onChange:u});return o.jsxs(got,{scope:n,checked:w,disabled:l,children:[o.jsx(Jn.button,{type:"button",role:"switch","aria-checked":w,"aria-required":i,"data-state":Jhe(w),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onClick:pn(e.onClick,S=>{C(k=>!k),b&&(x.current=S.isPropagationStopped(),x.current||S.stopPropagation())})}),b&&o.jsx(yot,{control:m,bubbles:!x.current,name:r,value:c,checked:w,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Qhe.displayName=rF;var Xhe="SwitchThumb",Zhe=f.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=vot(Xhe,n);return o.jsx(Jn.span,{"data-state":Jhe(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});Zhe.displayName=Xhe;var yot=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,a=f.useRef(null),i=nF(n),l=$_(t);return f.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==n&&h){const m=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(m)}},[i,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Jhe(e){return e?"checked":"unchecked"}var xot=Qhe,bot=Zhe;const cf=f.memo(f.forwardRef(({active:e=!1,disabled:t,id:n,text:r,testId:s,onChange:a,size:i="default",switchProps:l,...c},u)=>{const d=W("rounded-full relative bg-background dark:bg-text-100 dark:text-main",i==="default"?"size-4":"size-2.5","before:content-[''] before:duration-150 before:shadow-xs dark:before:shadow-md before:absolute before:inset-0 before:rounded-full before:bg-background before:dark:bg-white",{"before:opacity-20":t},"data-[state=unchecked]:opacity:80"),h=W("flex rounded-full duration-150 shadow-inset-xs",i==="default"?"w-9  p-three":"w-5 h-3.5 p-0.5","data-[state=checked]:justify-end","data-[state=checked]:bg-super dark:data-[state=checked]:bg-super/85","data-[state=unchecked]:bg-textMain/45 dark:data-[state=unchecked]:bg-textMainDark/20",{"opacity-50":t});return o.jsxs("div",{className:W("group/switch gap-sm flex cursor-default items-center",{"cursor-pointer":!t}),"data-testid":s,ref:u,...c,children:[o.jsx(xot,{asChild:!0,checked:e,onCheckedChange:t?void 0:a,id:n,disabled:t,className:"group/switch gap-sm flex items-center","data-testid":s,style:{WebkitTapHighlightColor:"transparent"},...l,children:o.jsx(je.button,{className:h,layout:!0,layoutRoot:!0,children:o.jsx(bot,{asChild:!0,children:o.jsx(je.div,{className:d,layout:"position",transition:{layout:{type:"spring",duration:.2,bounce:.3}}})})})}),r&&o.jsx(F,{variant:"smallBold",className:W("mr-sm whitespace-nowrap duration-150",{"cursor-pointer":!t},{"group-hover/switch:text-textMain dark:group-hover/switch:text-textMainDark":!e&&!t}),htmlFor:n,as:"label",color:e?"super":"light",children:r})]})}));cf.displayName="Switch";const wot=L.forwardRef(({wrapperClassName:e,size:t="default",errorText:n,className:r,value:s,maxLength:a,errorMessage:i,disabled:l=!1,hasShadow:c=!1,autoFocus:u=!1,placeholder:d="",leftItems:h,rightItems:m=Fe,onChange:g,onClear:v,onClick:x,onBlur:b,onFocus:w,onKeyDown:C,onPaste:S,isLoading:k,inlineEditBlock:E,label:T,subtitle:j,isOptional:N,minRows:R,isMobileUserAgent:O,allowEnterNewlines:I=!1,testId:B},D)=>{const z=Rg(l),V=f.useRef(null),[U,H]=f.useState(!1),[q,$]=f.useState(!1),G=f.useRef(U);G.current=U,f.useEffect(()=>{!O&&u&&V.current?.focus()},[O,V,u]),f.useEffect(()=>{z!==l&&!l&&!O&&u&&setTimeout(()=>{V.current?.focus()},200)});const K=f.useMemo(()=>W({"border-r mr-sm pr-xs border-borderMain":m.length!=0}),[m.length]),ee="w-full outline-none focus:outline-none focus:ring-borderMain font-sans flex items-center",oe="dark:bg-offsetDark dark:text-textMainDark dark:placeholder-textOff dark:border-borderMainDark dark:focus:ring-borderMainDark",ne="caret-super selection:bg-super/50 selection:text-textMain dark:selection:bg-super/10 dark:selection:text-super",te="duration-200 transition-all",re=W("overflow-auto max-h-[50vh] outline-none w-full flex items-center","font-sans resize-none",ne,"dark:bg-offsetDark dark:text-textMainDark dark:placeholder-textOff","bg-background text-textMain placeholder-textOff"),X=f.useMemo(()=>{const Ee=W(ee,oe,ne,te,r,{"ring-borderMain ring-1 dark:ring-borderMainDark":U,"bg-background border text-textMain border-borderMain focus:ring-1 placeholder-textOff":!0,"shadow-sm":c},"rounded-t-md rounded-b-md"),st=W({"py-sm text-sm px-md":t==="default","text-base p-md pb-xl":t==="large"}),et=W({"pr-md":m.length===0});return W(Ee,st,et)},[c,r,t,m.length,U]),ce=f.useMemo(()=>h!=null&&h.length>0?o.jsx("div",{className:W("bg-background dark:bg-offsetDark mb-xs pb-xs absolute bottom-0 left-[6px] flex items-center rounded-l-lg",{"left-sm":t==="large","left-md":t==="default"}),children:h}):null,[h,t]),se=i!==void 0,J=!se&&!!a&&!!s&&s.length>a,de=f.useMemo(()=>o.jsxs("div",{className:"right-sm gap-sm bg-background dark:bg-offsetDark mb-xs pb-xs absolute bottom-0 flex items-center rounded-full",children:[k?o.jsx(F,{color:"light",children:o.jsx(jt,{className:"aspect-square animate-spin",fixedWidth:!0,icon:cot.faCircleHalfStroke})}):null,se&&o.jsx(Q,{className:"mr-sm",children:o.jsx(F,{color:"red",variant:"tiny",children:i})}),J&&o.jsx(Q,{className:"mr-sm",children:a&&s&&o.jsx(F,{color:"red",variant:"tiny",children:a-s.length})}),v!==void o.jsx("div",{className:K,children:o.jsx(it,{icon:yn,pill:!0,onClick:v,size:tn.small})}),m.map((Ee,st)=>Ee.type=="toggleButton"?o.jsx(cf,{...Ee.buttonProps,disabled:Ee.buttonProps.disableOverride?!1:Ee.buttonProps.disabled||se||J},st):o.jsx(Le,{...Ee.buttonProps,size:tn.small,disabled:Ee.buttonProps.disabled||se||J,pill:!0},st))]}),[i,k,a,v,m,s,K,se,J]),ie=f.useCallback(()=>{if(V.current){const Ee=V.current.value.length;V.current.focus(),V.current.setSelectionRange(Ee,Ee)}},[]),he=f.useCallback(Ee=>{w?.(Ee.nativeEvent),H(!0)},[w]),pe=f.useCallback(Ee=>{b?.(Ee.nativeEvent),H(!1)},[b]),ge=f.useCallback(Ee=>{x?.(Ee.nativeEvent)},[x]),Ce=f.useCallback(Ee=>{g?.(Ee.target.value)},[g]),we=f.useCallback(Ee=>{uy(Ee.nativeEvent,{isMobileUserAgent:O,isComposing:q,allowEnterNewlines:I,onKeyDown:C})},[C,q,O,I]),Pe=f.useCallback(()=>eF($),[$]),ot=f.useCallback(()=>tF($),[$]),Be=f.useCallback(Ee=>{S?.(Ee.nativeEvent)},[S]);return f.useImperativeHandle(D,()=>{const Ee=V.current;return Ee.focusAtEnd=ie,Ee.isFocused=()=>G.current,Ee.append=st=>{V.current&&(V.current.value+=st)},Ee.scrollToEnd=()=>{V.current&&(V.current.scrollTop=V.current.scrollHeight)},Ee.trim=()=>{V.current&&(V.current.value=V.current.value.trim())},Ee},[ie]),f.useEffect(()=>{u&&!O&&ie()},[u,ie,O]),o.jsxs("div",{"data-test-id":B,children:[o.jsx(wC,{label:T,subtitle:j,isOptional:N,errorText:n}),o.jsx("div",{className:W("rounded-3xl",e),children:o.jsxs("div",{className:"relative flex items-center",children:[o.jsx("div",{className:X,children:o.jsx(Yhe,{ref:V,autoFocus:u,placeholder:d,disabled:l,minRows:R,value:s,onClick:ge,onChange:Ce,name:T,onKeyDown:we,onBlur:pe,onCompositionStart:Pe,onCompositionEnd:ot,onFocus:he,onPaste:Be,className:re,autoComplete:"off"})}),o.jsxs("div",{className:"bg-background focus:bg-background dark:bg-offsetDark dark:focus:bg-offsetDark absolute bottom-0 m-[1px] flex justify-between rounded-b-md px-[6px]",style:{width:"calc(100% - 2px)"},children:[ce,de]})]})}),E&&o.jsx("div",{className:"mt-sm flex justify-end",children:E})]})}),Hd=L.memo(wot);var dk={},bX;function _ot(){return bX||(bX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="chevron-down",r=512,s=512,a=[],i="f078",l="M239 401c9.4 9.4 24.6 9.4 33.9 0L465 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-175 175L81 175c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9L239 401z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faChevronDown=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(dk)),dk}var _C=_ot();const eme=L.memo(({id:e,label:t,extraCSS:n,options:r,activeKey:s,onOptionChange:a,isDisabled:i=!1,testId:l,defaultOption:c,icon:u,...d})=>{c&&(r=[{label:c,value:""}].concat(r));const h=m=>{a(c&&m===""?null:m)};return o.jsxs("div",{children:[o.jsx(wC,{withMargin:!1,label:t}),o.jsx(F,{variant:"small",className:t&&"mt-sm",children:o.jsxs("div",{className:"relative flex items-center",children:[o.jsx("select",{"data-testid":l,id:e,onChange:m=>h(m.target.value),value:s??"",className:W("border-borderMain/75 bg-background p-sm pr-lg outline-super ring-borderMain/75 dark:border-borderMainDark dark:bg-offsetDark dark:ring-borderMainDark w-full appearance-none rounded border transition duration-300 focus:outline-none",{"cursor-pointer hover:ring-1":!i,"pl-lg":u},n),disabled:i,...d,children:r.map(m=>o.jsx("option",{value:m.value,className:"pl-sm",children:m.label},m.value))}),u&&o.jsx("div",{className:"left-sm absolute",children:u}),o.jsx(F,{color:"light",variant:"small",className:"right-sm pointer-events-none absolute",children:o.jsx(jt,{icon:_C.faChevronDown})})]})})]})});eme.displayName="Select";const Cot=async(e,t,n,r)=>await Sot({headers:{},reason:"Report Bug",bugText:e,url:t,email:n,category:r}),Sot=async({headers:e,reason:t,bugText:n,url:r,email:s,category:a})=>{try{const i=await me.POST("/webhooks/slack-web-debugger/web",t,{body:{bug_text:n,url:r,email:s??"",category:a??""},headers:e,timeoutMs:1e4});return i.data?i.data:null}catch(i){return le.error("Failed to make bug report request",i),null}},Mot=e=>{if(!e.includes("/sidecar/"))return e;const t=new URL(e);return t.searchParams.delete("erp"),t.pathname=t.pathname.replace("/sidecar",""),t.toString()},tme=20,Ph="list_ask_threads",Iw=10,nme=async({paginationParams:e,timeoutMs:t,ascending:n=!1,reason:r})=>{const s=await me.POST("/rest/thread/list_ask_threads",r,{timeoutMs:t,body:{limit:tme,ascending:n,...e}});if(s.error||!s.data)throw new Error(s.error?.detail?.toString()||"Failed to get user threads");return s.data},rme=async({thread_uuid:e,format:t,filename:n,reason:r})=>{const s=await me.POST("/rest/thread/export",r,{body:{thread_uuid:e,format:t,filename:n},timeoutMs:ut({productionMs:6e3,clientSideMs:1e4})});if(s.error)throw new Error(s.error.detail?.toString()||"Failed to export thread");return s.data},CC=async(e,t)=>{try{await me.PUT("/rest/thread/{entry_uuid_or_slug}","remove-thread-expiry",{params:{path:{entry_uuid_or_slug:e}},body:{expired:!1}}),t?.()}catch{throw new Error("Failed to remove thread expiry")}},kot=({slugOrUUID:e})=>{const t=f.useCallback(async()=>{e&&await CC(e)},[e]);return f.useMemo(()=>({handleRemoveExpiry:t}),[t])};function dy(e,t){const n={};for(const r of e){const s=t(r);Object.prototype.hasOwnProperty.call(n,s)?n[s].push(r):Object.defineProperty(n,s,{value:[r],configurable:!0,enumerable:!0,writable:!0})}return n}const Sl={web:"web",scholar:"scholar",social:"social",edgar:"edgar",org:"org",my_files:"my_files",crunchbase:"crunchbase",factset:"factset",google_drive:"google_drive",onedrive:"onedrive",sharepoint:"sharepoint"},Eot=Object.values(Sl),Ox=e=>Eot.includes(e),vKt=e=>Array.isArray(e)?e.filter(Ox):[],sme=e=>e?.entity_group_type!=="CALENDAR_ACTION"&&!!e?.entities?.length;class An{static hasAnswer(t){const n=!!(t.chunks&&t.chunks.length>0),r=!!(t.answer&&t.answer.length>0),s=!!t.structured_answer_blocks?.some(l=>l.markdown_block?.chunks?.length||l.entity_list_block?.chunks?.length),a=!!t.structured_answer_blocks?.some(l=>l.markdown_block?.answer?.length||l.entity_list_block?.text?.length||sme(l.entity_group_block)),i=!!t.structured_answer_blocks?.some(l=>l.inline_entity_block?.media_block?.generated_media_items?.some(c=>c.status==="COMPLETED"));return n||r||s||a||i}static isPerplexityMessage(t){return t?.blocks!==void 0}static isPerplexityArticleSection(t){return t?.message!==void 0}static isArticleSection(t){return t?.article_info!==void 0}static mergePlaceBlocks(t){const n=t.filter(i=>!!i);if(!n.length)return;const[r,...s]=n;return Object.assign({},r,...s.map(i=>({review_summary:i.review_summary})))}static mergeMediaBlocks(t){const n=t.filter(s=>!!s);return n.length?{media_items:n.flatMap(s=>s?.media_items||[]),generated_media_items:n[n.length-1].generated_media_items||[],progress:n[n.length-1].progress}:void 0}static mergeShoppingBlocks(t){const n=t.filter(i=>!!i);if(!n.length)return;const[r,...s]=n;return Object.assign({},r,...s.map(i=>({review_summary:i.review_summary})))}static mergeEntityListItems(t){const n=dy(t,s=>s.index),r=[];return Object.values(n).forEach(s=>{const a=s[0];r.push({title:a.title,text:s.map(({text:i})=>i).join(""),chunks:s.flatMap(i=>i.chunks),chunk_starting_offset:0,index:a.index,awaiting_backfill:s.reduce((i,l)=>l.awaiting_backfill??i,!1),place_block:An.mergePlaceBlocks(s.map(i=>i.place_block)),shopping_block:An.mergeShoppingBlocks(s.map(i=>i.shopping_block))})}),r}static parseStructuredAnswerBlocks(t){if(!this.isPerplexityMessage(t)||!t.structured_answer_block_usages?.length)return null;const n=dy(t.blocks,s=>s.intended_usage),r=[];return t.structured_answer_block_usages.forEach(s=>{const a=n[s];if(!a)return;const{markdownBlocks:i,placeBlocks:l,mediaBlocks:c,shoppingPreviewBlocks:u,entityListBlocks:d,jobsPreviewBlocks:h,hotelsPreviewBlocks:m,placesPreviewBlocks:g,knowledgeCardsBlocks:v,calendarEventBlocks:x,entityGroupBlocks:b,entityGroupV2Blocks:w,assetsPreviewBlocks:C,assetsInlineBlocks:S,shoppingBlocks:k,proPerkOfferBlocks:E,placeholderBlocks:T,financeInlineBlocks:j}=a.reduce((N,R)=>(R.markdown_block?N.markdownBlocks.push(R.markdown_block):R.inline_entity_block?.place_block?N.placeBlocks.push(R.inline_entity_block.place_block):R.inline_entity_block?.media_block?N.mediaBlocks.push(R.inline_entity_block.media_block):R.inline_entity_block?.shopping_preview_block?N.shoppingPreviewBlocks.push(R.inline_entity_block.shopping_preview_block):R.entity_list_block?N.entityListBlocks.push(R.entity_list_block):R.inline_entity_block?.jobs_preview_block?N.jobsPreviewBlocks.push(R.inline_entity_block.jobs_preview_block):R.inline_entity_block?.hotels_preview_block?N.hotelsPreviewBlocks.push(R.inline_entity_block.hotels_preview_block):R.inline_entity_block?.places_preview_block?N.placesPreviewBlocks.push(R.inline_entity_block.places_preview_block):R.inline_entity_block?.knowledge_card_block?N.knowledgeCardsBlocks.push(R.inline_entity_block.knowledge_card_block):R.inline_entity_block?.calendar_event_block?N.calendarEventBlocks.push(R.inline_entity_block.calendar_event_block):R.entity_group_block?N.entityGroupBlocks.push(R.entity_group_block):R.entity_group_v2_block?N.entityGroupV2Blocks.push(R.entity_group_v2_block):R.inline_entity_block?.assets_preview_block?N.assetsPreviewBlocks.push(R.inline_entity_block.assets_preview_block):R.inline_entity_block?.assets_inline_block?N.assetsInlineBlocks.push(R.inline_entity_block.assets_inline_block):R.inline_entity_block?.shopping_block?N.shoppingBlocks.push(R.inline_entity_block?.shopping_block):R.pro_perk_offer_block?N.proPerkOfferBlocks.push(R.pro_perk_offer_block):R.inline_entity_block?.finance_inline_block?N.financeInlineBlocks.push(R.inline_entity_block.finance_inline_block):R.inline_entity_block?.placeholder_block&&N.placeholderBlocks.push(R.inline_entity_block?.placeholder_block),N),{markdownBlocks:[],placeBlocks:[],mediaBlocks:[],shoppingPreviewBlocks:[],entityListBlocks:[],jobsPreviewBlocks:[],hotelsPreviewBlocks:[],placesPreviewBlocks:[],knowledgeCardsBlocks:[],calendarEventBlocks:[],entityGroupBlocks:[],entityGroupV2Blocks:[],assetsPreviewBlocks:[],assetsInlineBlocks:[],shoppingBlocks:[],proPerkOfferBlocks:[],placeholderBlocks:[],financeInlineBlocks:[]});if(i.length){const N=i[i.length-1];r.push({intended_usage:s,markdown_block:{answer:i.map(R=>R.answer).join(""),chunks:i.flatMap(R=>R.chunks),chunk_starting_offset:0,progress:N.progress,media_items:i.flatMap(R=>R.media_items||[])}})}if(u.length&&r.push({intended_usage:s,inline_entity_block:{shopping_preview_block:u[u.length-1]}}),h.length&&r.push({intended_usage:s,inline_entity_block:{jobs_preview_block:h[h.length-1]}}),m.length&&r.push({intended_usage:s,inline_entity_block:{hotels_preview_block:m[m.length-1]}}),g.length&&r.push({intended_usage:s,inline_entity_block:{places_preview_block:g[g.length-1]}}),l.length&&r.push({intended_usage:s,inline_entity_block:{place_block:An.mergePlaceBlocks(l)}}),c.length&&r.push({intended_usage:s,inline_entity_block:{media_block:An.mergeMediaBlocks(c)}}),d.length&&r.push({intended_usage:s,entity_list_block:{text:d.map(({text:N})=>N).join(""),chunks:d.flatMap(N=>N.chunks),chunk_starting_offset:0,entities:An.mergeEntityListItems(d.flatMap(N=>N.entities))}}),v.length&&r.push({intended_usage:s,inline_entity_block:{knowledge_card_block:v[v.length-1]}}),x.length&&r.push({intended_usage:s,inline_entity_block:{calendar_event_block:x[x.length-1]}}),b.length&&r.push({intended_usage:s,entity_group_block:{entities:b[b.length-1].entities,entity_group_type:b[b.length-1].entity_group_type}}),w.length){const N=w[w.length-1];r.push({intended_usage:s,entity_group_v2_block:{entities:N.entities,entity_group_type:N.entity_group_type}})}C.length&&r.push({intended_usage:s,inline_entity_block:{assets_preview_block:C[C.length-1]}}),S.length&&r.push({intended_usage:s,inline_entity_block:{assets_inline_block:S[S.length-1]}}),k.length&&r.push({intended_usage:s,inline_entity_block:{shopping_block:this.mergeShoppingBlocks(k)}}),E.length&&r.push({intended_usage:s,pro_perk_offer_block:E[E.length-1]}),j.length&&r.push({intended_usage:s,inline_entity_block:{finance_inline_block:j[j.length-1]}}),T.length&&r.push({intended_usage:s,inline_entity_block:{placeholder_block:T[T.length-1]}})}),r}static parseAskTextField(t){if(!this.isPerplexityMessage(t))return this.legacyParseBackendOutputStr(t.text);if(!t.blocks?.length)return null;const n={answer:""};n.structured_answer_blocks=An.parseStructuredAnswerBlocks(t);const r=t.blocks?.filter(a=>a.intended_usage==="ask_text"&&a.markdown_block).map(a=>a.markdown_block);if(r.length>0){const a=r.flatMap(i=>i.chunks);n.chunks=a,n.answer=a.join("")}const s=t.blocks?.filter(a=>a.intended_usage==="web_results"&&a.web_result_block).flatMap(a=>a.web_result_block.web_results);return s.length>0&&(n.web_results=s),n}static legacyParseBackendOutputStr(t){let n=null;try{if(n=JSON.parse(t??""),Array.isArray(n)){const r=n[n.length-1];r.step_type=="FINAL"&&r?.content?.answer!=null&&(n=JSON.parse(r.content.answer))}}catch{return null}return n}static isStatusPending(t){return t.status?.toLowerCase()===Zs.PENDING.toLowerCase()}static isStatusFailed(t){return t.status?.toLowerCase()===Zs.FAILED.toLowerCase()}static isStatusCompleted(t){return t.status?.toLowerCase()===Zs.COMPLETED.toLowerCase()}static isCopilotMode(t){return t.mode?.toLowerCase()===Qp.COPILOT.toLowerCase()}static isArticleMode(t){return this.isPerplexityMessage(t)?t?.mode===Qp.ARTICLE:this.isPerplexityArticleSection(t)?t?.message?.mode===Qp.ARTICLE:t?.mode==="article"}static isSourceListType(t){return Array.isArray(t)&&t.every(n=>Object.values(Sl).includes(n))}static hasUnspecifiedSelectionStatus(t){return t?.selection_status===Vc.SELECTION_STATUS_UNSPECIFIED}static extractClarifyingQuestion(t){if(!t?.length)return null;const n=[];return t.forEach(r=>{if(r.intended_usage==="clarification_responses"&&r?.clarification_responses_block){const s=r.clarification_responses_block?.responses;if(s?.length>0&&s[0]){const a=s[0];a?.input_hint?.hint&&n.push(a.input_hint.hint)}}}),n[0]??null}static extractClarificationResponses(t){if(!t?.length)return null;const n=[];return t.forEach(r=>{r.intended_usage==="pro_search_steps"&&r.plan_block?.steps&&r.plan_block.steps.forEach(s=>{s.clarifying_questions_output_content?.clarification&&n.push(s.clarifying_questions_output_content.clarification)})}),n}}var Dw;(function(e){e[e.NONE=0]="NONE",e[e.READER=1]="READER",e[e.WRITER=2]="WRITER",e[e.EDITOR=5]="EDITOR",e[e.ADMIN=3]="ADMIN",e[e.OWNER=4]="OWNER",e[e.OWNER_DEFAULT_BOOKMARKS=6]="OWNER_DEFAULT_BOOKMARKS",e[e.INVITED_READER=11]="INVITED_READER",e[e.INVITED_WRITER=12]="INVITED_WRITER",e[e.INVITED_EDITOR=15]="INVITED_EDITOR",e[e.INVITED_ADMIN=13]="INVITED_ADMIN"})(Dw||(Dw={}));function Tot(e){return e>=Dw.WRITER&&e<Dw.INVITED_READER}const ame="CLIENT_SEARCH_PLACEHOLDER",Not=({rawQuery:e,fork:t,existingEntryUUID:n,existingUuid:r,collection:s,isRelatedQuery:a,newFrontendContextUUID:i,existingFrontendContextUUID:l,submitFromArticleOverride:c,isNavSuggestionsDisabled:u,isCopilot:d,newAttachments:h,firstResultFrontendContextUUID:m,isPersonalized:g,forceNew:v,finalSources:x,finalRecency:b,uuid:w,threadMetadataTitle:C,threadMetadataThreadUrlSlug:S,modelPreferenceSubmit:k,querySource:E,side_by_side_metadata:T})=>{const j=e.trim(),N=d?JSON.stringify([{step_type:"INITIAL_QUERY",content:{query:""},uuid:""}]):h.length>0?JSON.stringify({web_results:h.map(I=>({url:I,is_attachment:!0}))}):null,R=t?{title:c?.article_info?.title??C,url_slug:(c&&"thread_url_slug"in c?c.thread_url_slug:void 0)??S,mode:((c&&"mode"in c?c.mode:void 0)??m)?.toUpperCase()}:void 0,O=s&&Tot(s.user_permission)?s:void 0;return{parent_info:void 0,plan:void 0,summary:void 0,form:void 0,reasoning_plan:void 0,status:"PENDING",final:!1,query_str:j,query_source:E,backend_uuid:v?"":n??"",bookmark_state:s?"BOOKMARKED":"NOT_BOOKMARKED",context_uuid:"",frontend_context_uuid:l??i??"",uuid:r??w,frontend_uuid:r??w,...t?{parent_info:R}:{},author_username:void 0,author_image:void 0,search_focus:x.length===0?"writing":"internet",search_recency_filter:b??void 0,sources:{sources:x},num_sources_display:void 0,personalized:g,attachments:h,blocks:[],social_info:{like_count:0,view_count:0,fork_count:0,user_likes:!1},mode:d?"COPILOT":"CONCISE",text:N??void 0,collection_info:O,is_related_query_result:a??!1,related_queries:[],media_items:[],widget_data:[],widget_intents:[],knowledge_cards:[],sponsored_results:[],expect_sponsored_results:!1,related_query_items:[],sources_list:[],answer_modes:[],is_nav_suggestions_disabled:u,structured_answer_block_usages:[],display_model:k,model_preference:k,side_by_side_metadata:T}},sF="DEFAULT_SEARCH_PLACEHOLDER",jot=(e={})=>{const t=e.uuid??e.frontend_uuid??qr();return{status:"PENDING",parent_info:void 0,query_str:"",backend_uuid:sF,author_username:void 0,author_image:void 0,search_focus:"internet",display_model:"turbo",personalized:!1,attachments:[],social_info:{like_count:0,view_count:0,fork_count:0,user_likes:!1},text:void 0,collection_info:void 0,image_completions:[],is_related_query_result:!1,final:!1,sources:{sources:["web"]},should_index:!1,updated_datetime:new Date().toISOString(),thread_access:0,thread_url_slug:"",expiry_time:void 0,privacy_state:void 0,context_uuid:"",related_queries:[],media_items:[],widget_data:[],blocks:[],message_mode:"MESSAGE_MODE_UNSPECIFIED",widget_intents:[],knowledge_cards:[],sponsored_results:[],plan:void 0,reasoning_plan:void 0,summary:void 0,form:void 0,sources_list:[],related_query_items:[],answer_modes:[],structured_answer_block_usages:[],...e,frontend_context_uuid:e.frontend_context_uuid??qr(),frontend_uuid:t,uuid:t,attachment_processing_progress:[]}};/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var Aot=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)s.hasOwnProperty(a)&&(r[a]=s[a])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rot=Object.prototype.hasOwnProperty;function FA(e,t){return Rot.call(e,t)}function UA(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var s in e)FA(e,s)&&r.push(s);return r}function xi(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function BA(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function ah(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function ime(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function VA(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(VA(e[t]))return!0}else if(typeof e=="object"){for(var r=UA(e),s=r.length,a=0;a<s;a++)if(VA(e[r[a]]))return!0}}return!1}function wX(e,t){var n=[e];for(var r in t){var s=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof s<"u"&&n.push(r+": "+s)}return n.join(`
`)}var ome=function(e){Aot(t,e);function t(n,r,s,a,i){var l=this.constructor,c=e.call(this,wX(n,{name:r,index:s,operation:a,tree:i}))||this;return c.name=r,c.index=s,c.operation=a,c.tree=i,Object.setPrototypeOf(c,l.prototype),c.message=wX(n,{name:r,index:s,operation:a,tree:i}),c}return t}(Error),Dr=ome,Lot=xi,Dp={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=Fw(n,this.path);r&&(r=xi(r));var s=xh(n,{op:"remove",path:this.from}).removed;return xh(n,{op:"add",path:this.path,value:s}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=Fw(n,this.from);return xh(n,{op:"add",path:this.path,value:xi(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:fy(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},Oot={add:function(e,t,n){return BA(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Dp.move,copy:Dp.copy,test:Dp.test,_get:Dp._get};function Fw(e,t){if(t=="")return e;var n={op:"_get",path:t};return xh(e,n),n.value}function xh(e,t,n,r,s,a){if(n===void 0&&(n=!1),r===void 0&&(r=!0),s===void 0&&(s=!0),a===void 0&&(a=0),n&&(typeof n=="function"?n(t,0,e,t.path):Uw(t,0)),t.path===""){var i={newDocument:e};if(t.op==="add")return i.newDocument=t.value,i;if(t.op==="replace")return i.newDocument=t.value,i.removed=e,i;if(t.op==="move"||t.op==="copy")return i.newDocument=Fw(e,t.from),t.op==="move"&&(i.removed=e),i;if(t.op==="test"){if(i.test=fy(e,t.value),i.test===!1)throw new Dr("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return i.newDocument=e,i}else{if(t.op==="remove")return i.removed=e,i.newDocument=null,i;if(t.op==="_get")return t.value=e,i;if(n)throw new Dr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,t,e);return i}}else{r||(e=xi(e));var l=t.path||"",c=l.split("/"),u=e,d=1,h=c.length,m=void 0,g=void 0,v=void 0;for(typeof n=="function"?v=n:v=Uw;;){if(g=c[d],g&&g.indexOf("~")!=-1&&(g=ime(g)),s&&(g=="__proto__"||g=="prototype"&&d>0&&c[d-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&m===void 0&&(u[g]===void 0?m=c.slice(0,d).join("/"):d==h-1&&(m=t.path),m!==void 0&&v(t,0,e,m)),d++,Array.isArray(u)){if(g==="-")g=u.length;else{if(n&&!BA(g))throw new Dr("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,t,e);BA(g)&&(g=~~g)}if(d>=h){if(n&&t.op==="add"&&g>u.length)throw new Dr("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,t,e);var i=Oot[t.op].call(t,u,g,e);if(i.test===!1)throw new Dr("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return i}}else if(d>=h){var i=Dp[t.op].call(t,u,g,e);if(i.test===!1)throw new Dr("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return i}if(u=u[g],n&&d<h&&(!u||typeof u!="object"))throw new Dr("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,t,e)}}}function SC(e,t,n,r,s){if(r===void 0&&(r=!0),s===void 0&&(s=!0),n&&!Array.isArray(t))throw new Dr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=xi(e));for(var a=new Array(t.length),i=0,l=t.length;i<l;i++)a[i]=xh(e,t[i],n,!0,s,i),e=a[i].newDocument;return a.newDocument=e,a}function Pot(e,t,n){var r=xh(e,t);if(r.test===!1)throw new Dr("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function Uw(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Dr("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Dp[e.op]){if(typeof e.path!="string")throw new Dr("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Dr('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Dr("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Dr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&VA(e.value))throw new Dr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var s=e.path.split("/").length,a=r.split("/").length;if(s!==a+1&&s!==a)throw new Dr("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Dr("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var i={op:"_get",path:e.from,value:void 0},l=lme([i],n);if(l&&l.name==="OPERATION_PATH_UNRESOLVABLE")throw new Dr("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Dr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function lme(e,t,n){try{if(!Array.isArray(e))throw new Dr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)SC(xi(t),xi(e),n||!0);else{n=n||Uw;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(s){if(s instanceof Dr)return s;throw s}}function fy(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),s,a,i;if(n&&r){if(a=e.length,a!=t.length)return!1;for(s=a;s--!==0;)if(!fy(e[s],t[s]))return!1;return!0}if(n!=r)return!1;var l=Object.keys(e);if(a=l.length,a!==Object.keys(t).length)return!1;for(s=a;s--!==0;)if(!t.hasOwnProperty(l[s]))return!1;for(s=a;s--!==0;)if(i=l[s],!fy(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}const Iot=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Dr,_areEquals:fy,applyOperation:xh,applyPatch:SC,applyReducer:Pot,deepClone:Lot,getValueByPointer:Fw,validate:lme,validator:Uw},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var aF=new WeakMap,Dot=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),Fot=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function Uot(e){return aF.get(e)}function Bot(e,t){return e.observers.get(t)}function Vot(e,t){e.observers.delete(t.callback)}function zot(e,t){t.unobserve()}function Hot(e,t){var n=[],r,s=Uot(e);if(!s)s=new Dot(e),aF.set(e,s);else{var a=Bot(s,t);r=a&&a.observer}if(r)return r;if(r={},s.value=xi(e),t){r.callback=t,r.next=null;var i=function(){zA(r)},l=function(){clearTimeout(r.next),r.next=setTimeout(i)};typeof window<"u"&&(window.addEventListener("mouseup",l),window.addEventListener("keyup",l),window.addEventListener("mousedown",l),window.addEventListener("keydown",l),window.addEventListener("change",l))}return r.patches=n,r.object=e,r.unobserve=function(){zA(r),clearTimeout(r.next),Vot(s,r),typeof window<"u"&&(window.removeEventListener("mouseup",l),window.removeEventListener("keyup",l),window.removeEventListener("mousedown",l),window.removeEventListener("keydown",l),window.removeEventListener("change",l))},s.observers.set(t,new Fot(t,r)),r}function zA(e,t){t===void 0&&(t=!1);var n=aF.get(e.object);iF(n.value,e.object,e.patches,"",t),e.patches.length&&SC(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function iF(e,t,n,r,s){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var a=UA(t),i=UA(e),l=!1,c=i.length-1;c>=0;c--){var u=i[c],d=e[u];if(FA(t,u)&&!(t[u]===void 0&&d!==void 0&&Array.isArray(t)===!1)){var h=t[u];typeof d=="object"&&d!=null&&typeof h=="object"&&h!=null&&Array.isArray(d)===Array.isArray(h)?iF(d,h,n,r+"/"+ah(u),s):d!==h&&(s&&n.push({op:"test",path:r+"/"+ah(u),value:xi(d)}),n.push({op:"replace",path:r+"/"+ah(u),value:xi(h)}))}else Array.isArray(e)===Array.isArray(t)?(s&&n.push({op:"test",path:r+"/"+ah(u),value:xi(d)}),n.push({op:"remove",path:r+"/"+ah(u)}),l=!0):(s&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!l&&a.length==i.length))for(var c=0;c<a.length;c++){var u=a[c];!FA(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+ah(u),value:xi(t[u])})}}}function Wot(e,t,n){n===void 0&&(n=!1);var r=[];return iF(e,t,r,"",n),r}const $ot=Object.freeze(Object.defineProperty({__proto__:null,compare:Wot,generate:zA,observe:Hot,unobserve:zot},Symbol.toStringTag,{value:"Module"}));Object.assign({},Iot,$ot,{JsonPatchError:ome,deepClone:xi,escapePathComponent:ah,unescapePathComponent:ime});function qot(e,t){const n=new Map(e.map(r=>[r.intended_usage,r]));for(const r of t)if(r.diff_block){const s=r.diff_block.field,a=n.get(r.intended_usage)?.[s]??{},i=SC(a,r.diff_block.patches,!1,!1).newDocument;n.set(r.intended_usage,{intended_usage:r.intended_usage,[s]:i})}else n.set(r.intended_usage,r);return Array.from(n.values())}let cme=()=>({emit(e,...t){for(let n=this.events[e]||[],r=0,s=n.length;r<s;r++)n[r](...t)},events:{},on(e,t){return(this.events[e]||=[]).push(t),()=>{this.events[e]=this.events[e]?.filter(n=>t!==n)}}});const ks=cme();function Got(e,t){return e.reduce((n,r)=>r(n),t)}const Yot=e=>e&&pQe(e,t=>t!=null);function HA(e){return e?!e.resume_entry_uuid:!1}function Kot(e,t){const n={minuteCount:0,hourCount:0,minuteWindow:Math.floor(Date.now()/6e4),hourWindow:Math.floor(Date.now()/36e5)};return async(...r)=>{const s=Date.now(),a=Math.floor(s/(60*1e3)),i=Math.floor(s/(60*60*1e3));return a!==n.minuteWindow&&(n.minuteCount=0,n.minuteWindow=a),i!==n.hourWindow&&(n.hourCount=0,n.hourWindow=i),n.minuteCount>=t.perMinute?{allowed:!1}:n.hourCount>=t.perHour?{allowed:!1}:(n.minuteCount++,n.hourCount++,{allowed:!0,result:await e(...r)})}}const Qot="2.18",WA=Object.freeze([]);function Jp(e,t){return t?e.streams[t]:void 0}function oF(e,t){const n=Object.values(e.streams),r=n.length;for(let s=r-1;s>=0;s--){const a=n[s];if(a.entryId===t&&e.activeStreams.includes(a.id.description))return a}}function Xot(e,t){const n=Object.values(e.streams),r=n.length;for(let s=r-1;s>=0;s--){const a=n[s];if(a.threadId===t&&e.activeStreams.includes(a.id.description))return a}}const ume=5,Zot=100,_X=1e3;function fk(e,t,n){const r=Got(e.middlewares,n);if(!r)return{newState:e};const s=Jp(e,t);if(!s||!e.activeStreams.includes(t))return{newState:e};const a=r.context_uuid,i=r.backend_uuid,l=r.uuid,u=!!!(s.entryId&&s.isReconnect&&e.erroredStreams[s.entryId])&&(!s.threadId||!s.entryId);if(i===sF||i===ame)return{newState:{streams:{...e.streams,[t]:{...s,placeholderChunk:r}}}};if(r.status===Zs.PENDING&&r.blocks?.length===0)return{newState:{...$A(e,r,{isFirstMessage:u,placeholderChunk:s.placeholderChunk,streamId:s.id.description}),streams:{...e.streams,[t]:{...s,threadId:r.context_uuid,entryId:i,extraEntryId:l,placeholderChunk:r}}},ingested:r};if(!a||!i)return{newState:e};let d=s;return u&&(d={...s,threadId:a,entryId:i,extraEntryId:l}),{newState:{...$A(e,r,{isFirstMessage:u,placeholderChunk:s.placeholderChunk,streamId:s.id.description}),streams:{...e.streams,[t]:d}},ingested:r}}function $A(e,t,{isFirstMessage:n,placeholderChunk:r,streamId:s}){const a=t.context_uuid,i=t.backend_uuid,l=Array.from(e.threads),c={...e.entries};if(l.length>=Zot){const h=l.shift();if(h)for(const m of h.entryIds)delete c[m]}const u=l.findIndex(h=>h.id===a),d=l[u];if(d?d.entryIds.includes(i)||(l[u]={...d,entryIds:[...d.entryIds,i]}):l.push({id:a,entryIds:[i]}),t.status===Zs.COMPLETED)c[i]=t;else if(t.blocks){let h=c[i];h&&h.uuid!==t.uuid?h=r:h||(h=r);const m=h?.frontend_context_uuid??t.frontend_context_uuid??s,g=h?.frontend_uuid??t.frontend_uuid??s,v=h?.query_str??t.query_str,x={...h??{},...t,frontend_context_uuid:m,frontend_uuid:g,query_str:v,blocks:qot(n?WA:h?.blocks??WA,t.blocks)};c[i]=x}return{threads:l,entries:c}}function Jot(e,t,n){le.error("Error in reading stream",n);const r=Jp(e,t);if(!r)return e;const s=r?.entryId;if(!s)return e;const a={...e.entries[s],status:Zs.FAILED},{promise:i,abortController:l,...c}=r;return{erroredStreams:{...e.erroredStreams,[s]:{...c,code:n instanceof dj?n.code:void 0}},entries:{...e.entries,[s]:a}}}const CX=Object.freeze([Yot]);function elt(e,t){const n=Jp(e,t);if(!n)return;const r=e.threads.find(s=>s.id===n.threadId);ks.emit("completed",{stream:n,thread:(r?.entryIds.map(s=>e.entries[s])??WA).filter(s=>s!=null),message:n.entryId?e.entries[n.entryId]:void 0})}const tlt=(e,t)=>({threads:[],entries:{},activeStreams:[],erroredStreams:{},middlewares:CX,streamTimers:{},streams:{},actions:{abortStream:n=>{e(r=>{let s=r.activeStreams;const a=Jp(r,n);if(a){try{a.abortController?.abort("Forced abort")}catch(i){le.error("Failed to abort stream",i)}finally{s=s.filter(i=>i!==n)}return{activeStreams:s,streams:{...r.streams,[n]:{...a,promise:null,abortController:null}}}}return r},void 0,"abortStream")},getEntryById:n=>t().entries[n],createStream:n=>t().actions.createBackwardsCompatibleStream(n,{reason:"create-stream",timer:tu(void 0,{nowFromTimeOrigin:performance.now()})}).id,retryStream:n=>{const r=t().entries[n];if(!r)return;const s=t().erroredStreams[n];if(!s)return;const a=s.placeholderChunk?.query_str;if(a){if(e(i=>{const{entries:l,threads:c}=i,{[n]:u,...d}=l,h=Array.from(c),m=c.findIndex(g=>g.entryIds.includes(n));return h.splice(m,1,{id:h[m].id,entryIds:h[m].entryIds}),{threads:h,entries:d}}),!HA(s.params))throw new Error("Stream params are not SubmitParams so cannot retry");return t().actions.createBackwardsCompatibleStream({query_str:a,params:{...s.params,existing_entry_uuid:n,query_source:"retry",frontend_context_uuid:r.frontend_context_uuid}},{placeholderChunk:s.placeholderChunk,timer:tu(void 0,{nowFromTimeOrigin:performance.now()}),reason:"retry-stream"})}},reconnectStream:n=>{const r=oF(t(),n);if(r&&r.promise&&r.abortController&&!r.abortController.signal.aborted)return r.id;const s=t().entries[n],a=s?.cursor,i=t().actions.createBackwardsCompatibleStream({query_str:"",params:{resume_entry_uuid:n,cursor:a}},{isReconnect:!0,timer:tu(void 0,{nowFromTimeOrigin:performance.now()}),reason:"reconnect-stream"});return e(l=>fk(l,i.id.description,{...s,status:Zs.PENDING}).newState,void 0,"ingestPlaceholderChunk"),i.id},createBackwardsCompatibleStream:(n,{isReconnect:r,placeholderChunk:s,onFinalResponse:a,onFirstMessageReceived:i,timer:l,reason:c})=>{const u=Array.from(t().activeStreams),d={...t().streams};if(u.length>=ume)try{const b=u.shift();b&&(d[b]?.abortController?.abort(),d[b]={...d[b],promise:null,abortController:null})}catch(b){le.error("Failed to abort stream",b)}const h=n.params?.frontend_uuid??qr(),m=new AbortController,g={id:{description:h},promise:Promise.resolve(),abortController:m,isReconnect:r,entryId:n.params?.resume_entry_uuid,params:n.params,timer:l},v={message:async b=>{const w=Jp(t(),h);let C=!1;w?.threadId||(C=!0,i?.(b)),e(S=>{const{newState:k,ingested:E}=fk(S,h,b);if(E?.status===Zs.COMPLETED&&a?.(E),E?.status===Zs.FAILED&&w&&w.entryId){const{promise:T,abortController:j,...N}=w;return{...k,erroredStreams:{...S.erroredStreams,[w.entryId]:N}}}return k},void 0,"ingest"),w&&ks.emit("progress",{stream:w,message:t().entries[b.backend_uuid]??b,isFirstMessage:C})}},x=n.params?.query_source==="default_search";return g.promise=(r?me.SSE("/rest/sse/perplexity_ask/reconnect/{resume_entry_uuid}",c,{path:{resume_entry_uuid:n.params?.resume_entry_uuid??""},params:{cursor:n.params?.cursor},signal:m.signal,handlers:v}):me.SSE("/rest/sse/perplexity_ask",c,{params:{...n,params:{...n.params,version:Qot}},signal:m.signal,handlers:v,metrics:{omnisearch:x},timer:l})).then(()=>elt(t(),h),b=>{const w=t(),C=Jp(w,h);C&&(e(S=>Jot(S,h,b),void 0,"handleStreamError"),ks.emit("error",{stream:C,error:b}))}).finally(()=>{e(({activeStreams:b,streams:w})=>({streams:{...w,[h]:{...w[h],promise:null,abortController:null}},activeStreams:b.filter(C=>C!==h)}),void 0,"cleanupBackwardsCompatibleStream")}),u.push(h),e({activeStreams:u,streams:{...d,[h]:g}},void 0,"createBackwardsCompatibleStream"),ks.emit("created",{stream:g,query:n.query_str,params:n.params}),g.abortController?.signal.addEventListener("abort",()=>{ks.emit("aborted",{stream:g})}),s&&e(b=>fk(b,h,s).newState,void 0,"ingestPlaceholderChunk"),g},setMiddlewares:n=>{e(()=>({middlewares:[...CX,...n]}))}}}),lF=Mg("StreamState",()=>uo()(Jnt(Afe(tlt),{name:"StreamStore"}))),Ih=lF.useSelector,dme=lF.useStore,nlt=()=>{const e=dme(),t=f.useMemo(()=>Kot(e.getState().actions.reconnectStream,{perMinute:20,perHour:120}),[e]);return f.useEffect(()=>{function n(){const i=e.getState(),l=new Set(i.activeStreams),c=new Set(Object.values(i.streams).filter(u=>l.has(u.id.description)).map(u=>u.entryId));Object.values(i.entries).forEach(u=>{u?.reconnectable&&l.size<ume&&!c.has(u?.backend_uuid)&&t(u.backend_uuid)})}n();let r=setInterval(n,_X);function s(){clearInterval(r),n(),r=setInterval(n,_X)}function a(){clearInterval(r)}return window.addEventListener("online",s,!0),window.addEventListener("offline",a,!0),()=>{clearInterval(r),window.removeEventListener("online",s,!0),window.removeEventListener("offline",a,!0)}},[t,e]),null},rlt=L.memo(({children:e})=>o.jsxs(lF.Provider,{children:[o.jsx(nlt,{}),e]})),yKt=()=>Ih(e=>e.actions.getEntryById),slt=()=>Ih(e=>e.actions.createBackwardsCompatibleStream),alt=()=>Ih(e=>e.actions.reconnectStream),xKt=()=>Ih(e=>e.actions.retryStream),ilt=()=>{const e=Ih(t=>t.entries);return f.useCallback(t=>t?e[t]?.status===Zs.COMPLETED:!1,[e])},olt=e=>{const t=Ih(s=>s.activeStreams),n=Ih(s=>s.streams),r=Object.values(n).find(s=>s.id.description===e);return!!(r&&t.includes(r?.id.description))},ho=()=>dme(),llt=()=>{const e=ho();return f.useCallback(n=>{for(const r of n){if(e.getState().entries[r.backend_uuid])continue;const a=!r.reconnectable;e.setState(i=>$A(i,{...r,status:a?Zs.COMPLETED:Zs.PENDING,final:a,final_sse_message:a},{streamId:r.frontend_uuid??qr()}),void 0,"ingestInitialEntries")}},[e])},cF=()=>{const e=ho();return f.useCallback((t,n)=>{t&&e.setState(r=>{const s=r.entries[t],a=oF(r,t);if(a&&a.promise&&a.abortController&&!a.abortController.signal.aborted&&le.error("Attempting to mutate entries while stream is active"),!s||!n)return r;const i=n(s);return i?{...r,entries:{...r.entries,[t]:i}}:r},void 0,"mutateEntry")},[e])},clt=()=>{const e=ho();return f.useCallback((t,n,{terminateStream:r=!0}={})=>{t&&e.setState(s=>{if(!t)return s;Xot(s,t)&&r&&le.error("Attempting to mutate entries while stream is active");const i=s.threads.findIndex(m=>m.id===t);if(i===-1)return s;const l=s.threads[i];if(!l)return s;const u=l.entryIds.map(m=>s.entries[m]).filter(m=>m!=null),d=n?.(u);if(!d)return s;const h=Array.from(s.threads);return h.splice(i,1,{...l,entryIds:d.map(m=>m.backend_uuid)}),{...s,entries:{...s.entries,...d.reduce((m,g)=>(m[g.backend_uuid]=g,m),{})},threads:h}},void 0,"mutateEntries")},[e])};function bKt(e){const t=ho();return oF(t.getState(),e)}function wKt(e){const t=ho(),n=Object.values(t.getState().erroredStreams),r=n.length;for(let s=r-1;s>=0;s--){const a=n[s];if(a.entryId===e)return a}}const fme=L.memo(({middlewares:e})=>{const t=ho();return f.useLayoutEffect(()=>{t.getState().actions.setMiddlewares(e)},[e,t]),null});fme.displayName="MiddlewareRegistry";function uF(){const e=ho();return f.useCallback(t=>e.getState().streams[t]?.timer,[e])}function ult(){const e=ho();return f.useCallback(()=>e.getState().activeStreams.length>0,[e])}class _t{static getItem(t){try{return window.localStorage.getItem(t)}catch{return null}}static setItem(t,n){try{return window.localStorage.setItem(t,n),!0}catch{return!1}}static removeItem(t){try{return window.localStorage.removeItem(t),!0}catch{return!1}}static clear(){try{return window.localStorage.clear(),!0}catch{return!1}}}const hme=L.memo(({staticTextBlockComponent:e,renderEditableInput:t,className:n,...r})=>{const[s,a]=f.useState(!1),i=f.useCallback(()=>a(!1),[]);return o.jsx("span",{className:n,children:s?t(i):o.jsx("button",{className:"transition duration-300 hover:opacity-70",onClick:()=>a(!0),onKeyDown:l=>{l.key==="Enter"&&a(!0)},...r,children:e})})});hme.displayName="EditableText";async function mme({contextUUID:e,title:t,rwToken:n,callback:r,reason:s}){try{const a=await me.POST("/rest/thread/set_thread_title",s,{body:{context_uuid:e,title:t,read_write_token:n},headers:{"Content-Type":"application/json"}});r?.(a)}catch(a){r?.(a)}}const Fa=({reason:e})=>{const{organization:t}=Bn({reason:e}),n=t?.settings?.always_incognito,{isIncognitoLocal:r}=On();return n||r},y2="recentItems";async function dlt({reason:e}){try{const t=await me.GET("/rest/thread/list_recent",e),n=t.data;if(!t.response.ok)throw new Error("Failed to get recent threads.");return n??Fe}catch(t){return le.error("Failed to get recent threads.",t),Fe}}const pme=({reason:e})=>{const t=Fa({reason:e}),{inFlightLatest:n}=un(),s=on()?.user?.email,{data:a,refetch:i,isLoading:l}=Ft({queryKey:[y2,s],queryFn:async()=>!s||t?Fe:await dlt({reason:e})});return f.useEffect(()=>{n||i({cancelRefetch:!1})},[n,i]),f.useMemo(()=>!s||t?{data:[],isLoading:!1}:{data:a??Fe,isLoading:l},[a,s,t,l])},hd="";L.memo(({contextUUID:e,title:t,rwToken:n,frontendContextUUID:r,entryId:s})=>{const a="thread-title",{$t:i}=ae(),[l,c]=f.useState(t??hd),u=on();f.useEffect(()=>{c((!n||!e)&&(t??hd)===hd?"":t??hd)},[t,e,n]);const d=mme,h=f.useCallback((x,b)=>{if(!x||x===hd){le.warn("Empty title callback.");return}if(!e){le.warn("No thread UUID found.");return}if(!n){le.warn("No write token found.");return}d({contextUUID:e,title:x,rwToken:n,callback:b,reason:a}),c(x)},[e,n,d]),m=x=>o.jsx(flt,{initialTitle:l,onDoneEditing:x,updateTitle:h,frontendContextUUID:r,entryId:s}),g=e&&n&&u,v=l===hd;if(v&&!g)return null;{const x=o.jsx(F,{variant:"tiny",color:v?"light":"default",className:"py-sm pl-sm truncate",children:v?i({defaultMessage:"Untitled",id:"3kbIhS7KZS"}):l});return g?o.jsx(hme,{staticTextBlockComponent:x,renderEditableInput:m,className:"min-w-0"}):x}});const flt=L.memo(({initialTitle:e,onDoneEditing:t,updateTitle:n,entryId:r})=>{const{$t:s}=ae(),{isMobileUserAgent:a}=qe(),[i,l]=f.useState(e),c=Vt(),u=cF(),d=f.useCallback(()=>{r&&(u(r,x=>{if(x)return{...x,thread_title:i}}),c.invalidateQueries({queryKey:[y2]}))},[r,i,u,c]),h=f.useCallback(x=>{x.currentTarget instanceof HTMLInputElement&&x.currentTarget.select()},[]),m=f.useCallback(()=>{n(i,d),t()},[n,i,d,t]),g=f.useCallback(()=>{m()},[m]),v=f.useCallback(x=>{yi.isEnterKeyWithoutShift(x)&&m()},[m]);return o.jsx("div",{className:"ml-sm",children:o.jsx(lf,{isMobileUserAgent:a,autoFocus:!0,value:i,className:"border-0 p-0 text-center outline-none ring-0",disabled:!1,placeholder:s({defaultMessage:"Untitled",id:"3kbIhS7KZS"}),onChange:l,onKeyDown:v,onBlur:g,onClear:t,onFocus:h})})}),gme="rwTokenStorage",SX=20,Bw=e=>{const t=JSON.stringify(e);try{_t.setItem(gme,t)}catch(n){le.warn("Could not put rw token storage"),le.warn(n)}},dF=()=>{let e=null;try{e=_t.getItem(gme)}catch(t){le.warn("Could not access local storage"),le.warn(t)}if(!e)return Bw({}),{};try{return JSON.parse(e)??{}}catch(t){le.warn("Could not deserialize rw token storage"),le.warn(t);const n={};return Bw({}),n}},hlt=(e,t)=>{if(!e||!t)return;let n=dF(),r=Object.keys(n);if(r.length>=SX){const s=r[Math.floor(Math.random()*r.length)];s&&delete n[s]}r=Object.keys(n),r.length>SX+5&&(le.warn("Too many rw tokens stored; resetting"),n={}),n[e]=t,Bw(n)},mlt=e=>e?dF()[e]:void 0,vme=e=>{const t=e.context_uuid;if(!t)return;const n=mlt(t);if(n)return n;const r=e?.read_write_token;if(r)return hlt(t,r),r},_Kt=e=>{if(!e)return;const t=dF();delete t[e],Bw(t)},plt=e=>e?.context_uuid??void 0,glt=e=>e?.frontend_context_uuid??void 0,vlt=e=>e?.thread_title??hd,ylt=e=>e?.query_str??void 0,xlt=e=>e?.search_focus??void 0,blt=e=>e.sources?.sources??void 0,wlt=e=>e?.author_id??void 0,_lt=e=>e?.author_username??void 0,Clt=e=>e?.author_image??void 0,Slt=e=>{if(e.parent_info)return e.parent_info},Mlt=e=>e?.mode??null,klt=e=>e?.personalized??void 0,Elt=e=>e?.collection_info??void 0,Tlt=e=>e?.bookmark_state??void 0,Nlt=e=>e?.thread_access??void 0,jlt=e=>e?.thread_url_slug??void 0,Alt=e=>e?.updated_datetime??void 0,Rlt=e=>e?.expiry_time??null,Llt=e=>e?.privacy_state??void 0,A5=e=>e?{author_id:wlt(e),author_image:Clt(e),author_username:_lt(e),bookmarkState:Tlt(e),collection:Elt(e),contextUUID:plt(e),expiry_time:Rlt(e)??void 0,first_query:ylt(e),focus:xlt(e),frontendContextUUID:glt(e),mode:Mlt(e)??void 0,parent_info:Slt(e)??void 0,personalized:klt(e)??void 0,privacy_state:Llt(e)??void 0,rwToken:vme({backend_uuid:e.backend_uuid,read_write_token:e.read_write_token,context_uuid:e.context_uuid}),sources:blt(e)??void 0,text_completed:!1,thread_access:Nlt(e)??void 0,thread_url_slug:jlt(e),title:vlt(e),updated_datetime:Alt(e)}:Yue,qA=e=>({forkCount:e?.fork_count??0,likeCount:e?.like_count??0,viewCount:e?.view_count??0,userLikes:e?.user_likes??!1}),yme={fork_count:0,like_count:0,view_count:0,user_likes:!1};function vv({entries:e,threads:t,streams:n},r,s){const a=r?n[r]:void 0;if(a&&a.threadId&&(s=a.threadId),s){const i=t.find(l=>l.id===s);if(i){const l=i.entryIds.map(c=>e[c]).filter(c=>c!=null);return a&&!a.entryId&&a.placeholderChunk&&l.push(a.placeholderChunk),{results:l,currentStreamId:r,currentThreadId:s}}}return{results:a?.placeholderChunk?[a.placeholderChunk]:[],currentStreamId:r,currentThreadId:s}}const Olt=({streamStore:e})=>{const t=uo()((r,s)=>({results:[],resultsLength:0,firstResult:void 0,lastResult:void 0,inFlight:!1,inFlightLatest:!1,inFlightEntry:void 0,isReadOnly:!1,socialStats:{forkCount:0,likeCount:0,viewCount:0,userLikes:!1},actions:{setResults:a=>{const i=a[0],l=qA(i?.social_info??yme),c={inFlight:a.some(u=>An.isStatusPending(u)),inFlightLatest:a.length>0&&An.isStatusPending(a[a.length-1]),inFlightEntry:a.find(u=>An.isStatusPending(u))};r({results:a,firstResult:i,lastResult:a[a.length-1],inFlight:c.inFlight,inFlightLatest:c.inFlightLatest,inFlightEntry:c.inFlightEntry,socialStats:l,resultsLength:a.length},void 0)},setCurrentStreamId:a=>{const i=s(),l=vv(e.getState(),a,i.currentThreadId);i.actions.setResults(l.results),r({currentStreamId:l.currentStreamId,currentThreadId:l.currentThreadId},void 0)},clearCurrentStreamId:()=>{r({currentStreamId:void 0},void 0);const a=s(),i=vv(e.getState(),void 0,a.currentThreadId);a.actions.setResults(i.results),r({currentStreamId:i.currentStreamId,currentThreadId:i.currentThreadId},void 0)},setCurrentThreadId:a=>{r({currentThreadId:a},void 0);const i=s(),l=i.currentStreamId,c=Object.values(e.getState().streams).find(d=>d.threadId===a);c?c.id.description!==l&&i.actions.setCurrentStreamId(c.id.description):i.actions.clearCurrentStreamId();const u=vv(e.getState(),s().currentStreamId,a);i.actions.setResults(u.results),r({currentStreamId:u.currentStreamId,currentThreadId:u.currentThreadId},void 0)},clearCurrentThreadId:()=>{r({currentThreadId:void 0},void 0);const a=s(),i=vv(e.getState(),a.currentStreamId,void 0);a.actions.setResults(i.results),r({currentStreamId:i.currentStreamId,currentThreadId:i.currentThreadId},void 0)}}})),n=e.subscribe(({entries:r,threads:s,streams:a})=>vv({entries:r,threads:s,streams:a},t.getState().currentStreamId,t.getState().currentThreadId),r=>{t.getState().actions.setResults(r.results),t.setState({currentStreamId:r.currentStreamId,currentThreadId:r.currentThreadId},void 0)});return{store:t,clearSubscriptions:()=>{n()}}},{Context:Plt,useSelector:Ilt,useStore:Dlt,useTrackedState:Flt}=Nx("ResultsStore"),Ult=({children:e})=>{const t=ho(),[{store:n,clearSubscriptions:r}]=f.useState(()=>Olt({streamStore:t}));return f.useEffect(()=>r,[r]),o.jsx(Plt.Provider,{value:n,children:e})},un=Flt,Blt=()=>{const{firstResult:e}=un();return f.useMemo(()=>A5(e),[e])},Vlt=e=>e.results.find(t=>An.isStatusPending(t)),zlt=e=>Ft({queryKey:["navigationResults",e],queryFn:()=>Promise.resolve({}),enabled:!1}),fF=()=>{const e=Dlt(),t=clt();return f.useCallback(n=>{const r=e.getState().currentThreadId;t(r,n)},[t,e])};function mo(){const{firstResult:{backend_uuid:e,context_uuid:t,read_write_token:n}={}}=un();return f.useMemo(()=>vme({context_uuid:t,read_write_token:n}),[t,n,e])}const Ja=br({path:"M22.1475 2.00586C22.1569 2.00616 22.1663 2.00721 22.1758 2.00781L22.209 2.00977C22.2435 2.01325 22.2773 2.01899 22.3105 2.02637C22.3158 2.02753 22.3209 2.02901 22.3262 2.03027C22.3568 2.03766 22.3858 2.04906 22.415 2.05957C22.5326 2.10177 22.6441 2.16668 22.7383 2.26074C22.7468 2.26924 22.7546 2.27835 22.7627 2.28711C22.7657 2.29033 22.7686 2.29361 22.7715 2.29688C22.8041 2.33334 22.8329 2.37193 22.8584 2.41211C22.8612 2.41654 22.8635 2.4213 22.8662 2.42578C22.8909 2.46628 22.9132 2.50759 22.9307 2.55078C22.972 2.65239 22.9951 2.76339 22.9951 2.87988V17.75C22.9951 18.2332 22.6033 18.6249 22.1201 18.625H7.6123L4.99219 21.2451H16.875C16.8776 20.7642 17.2684 20.3751 17.75 20.375C18.2332 20.3751 18.625 20.7668 18.625 21.25V22.1201C18.6249 22.6033 18.2332 22.9951 17.75 22.9951H2.87988C2.39673 22.9951 2.00495 22.6033 2.00488 22.1201V7.25L2.00977 7.16016C2.05476 6.71917 2.42703 6.37506 2.87988 6.375H17.3867L20.0068 3.75488H8.125C8.12231 4.23583 7.73158 4.625 7.25 4.625C6.76679 4.625 6.37506 4.2332 6.375 3.75V2.87988L6.37988 2.79004C6.42488 2.34901 6.7971 2.00488 7.25 2.00488H22.1201L22.1475 2.00586ZM18.625 7.6123V14.25C18.625 14.7332 18.2332 15.1249 17.75 15.125C17.2668 15.1249 16.875 14.7332 16.875 14.25V8.125H3.75488V20.0068L6.375 17.3867V10.75C6.375 10.2668 6.76675 9.875 7.25 9.875C7.73325 9.875 8.125 10.2668 8.125 10.75V16.875H21.2451V4.99219L18.625 7.6123ZM12.5 10.75C13.4665 10.75 14.25 11.5335 14.25 12.5C14.25 13.4665 13.4665 14.25 12.5 14.25C11.5335 14.25 10.75 13.4665 10.75 12.5C10.75 11.5335 11.5335 10.75 12.5 10.75Z",name:"IconPerplexityCollection",variant:"filled"}),xme=({currentAccessLevel:e,onClick:t,isCollection:n,isPage:r,spaceIsOrgPinned:s=!1,addOrgPinnedSpace:a,deleteOrgPinnedSpace:i,reason:l,hideLabels:c=!1,isCollectionOwner:u=!1})=>{const{$t:d}=ae(),h=ae(),{isIOS:m,isAndroid:g}=sn(),{isEnterprise:v,organization:x}=Bn({reason:l}),{firstResult:{collection_info:b,sources:{sources:w}={}}={}}=un(),C=n?x?.settings?.public_collection_sharing_allowed??!0:r?x?.settings?.public_page_sharing_allowed??!0:x?.settings?.public_thread_sharing_allowed??!0,S=w?.includes(Sl.factset),k=f.useMemo(()=>n&&u?[{label:h.formatMessage({defaultMessage:"Share via link",id:"oJFaPCNcIw"}),text:h.formatMessage({defaultMessage:"Link share",id:"5CBpesC8V9"}),onClick:()=>i?.(),active:!s},{label:h.formatMessage({defaultMessage:"Pinned for everyone in org",id:"BCLJqQMHbj"}),text:h.formatMessage({defaultMessage:"Pinned",id:"fWZYP5U4xZ"}),onClick:()=>a?.(),active:s}]:void 0,[a,i,h,n,u,s]),E=f.useMemo(()=>[{label:c?void 0:"",text:d({defaultMessage:"Owner Only",id:"RUPRkBML7X"}),icon:ey,show:!1,accessLevel:At.OWNER_ONLY},{label:c?void 0:d({defaultMessage:"Only the author can view",id:"ZKx/MMPXAk"}),text:d(n?{defaultMessage:"Only invited members",id:"mm5vL8ueCo"}:{defaultMessage:"Private",id:"viXE3205/2"}),icon:ey,show:!r,onClick:()=>t(At.PRIVATE_READ),active:e===At.PRIVATE_READ,accessLevel:At.PRIVATE_READ,testId:"access-level-private"},{label:c?void 0:d({defaultMessage:"Anyone in your Space can view",id:"8i8H9TisQU"}),text:d({defaultMessage:"Space",id:"0ah2udCSKF"}),icon:Ja,onClick:()=>t(At.COLLECTION_READ),active:e===At.COLLECTION_READ,show:!n&&!r&&!!b?.uuid,accessLevel:At.COLLECTION_READ,testId:"access-level-space"},{label:c?void 0:d({defaultMessage:"Anyone in your organization can view",id:"T2yBpbP3mu"}),text:d({defaultMessage:"Anyone in my org with the link",id:"ah50gEdYbM"}),icon:pg,onClick:()=>t(At.ORG_READ),active:e===At.ORG_READ,show:v&&(!r||C),accessLevel:At.ORG_READ,testId:"access-level-org",subMenu:k},{label:c?void 0:d({defaultMessage:"Anyone with the link",id:"KL1VgUyLuG"}),text:d({defaultMessage:"Anyone with the link",id:"KL1VgUyLuG"}),icon:m?px:g?Mce:bw,onClick:()=>t(At.PUBLIC_READ),active:e===At.PUBLIC_READ,show:C&&!S,accessLevel:At.PUBLIC_READ,testId:"access-level-public"}],[d,b?.uuid,e,S,c,g,n,v,m,r,t,C,k]),T=E.find(j=>j.accessLevel===e)||null;return f.useMemo(()=>({accessLevelMenuItems:E,selectedAccessMenuItem:T}),[E,T])},CKt=e=>e?[At.ORG_READ,At.PUBLIC_READ,At.PUBLIC_PUBLISHED].includes(e):!1,Hlt=e=>e?[At.OWNER_ONLY,At.PRIVATE_READ].includes(e):!0,bme=e=>e?[At.PUBLIC_READ,At.PUBLIC_PUBLISHED,At.ORG_READ,At.COLLECTION_READ].includes(e):!1,Wlt=e=>e?[At.PUBLIC_READ,At.PUBLIC_PUBLISHED].includes(e):!1,$lt=e=>{switch(e){case At.PUBLIC_PUBLISHED:case At.PUBLIC_READ:return bw;case At.COLLECTION_READ:return Ja;case At.ORG_READ:return pg;case At.PRIVATE_READ:case At.OWNER_ONLY:return ey;default:return null}},MX=e=>{switch(e){case At.PUBLIC_READ:case At.PUBLIC_PUBLISHED:return"public";case At.ORG_READ:return"organization";case At.COLLECTION_READ:return"collection";case At.PRIVATE_READ:case At.OWNER_ONLY:return"private";default:return"private"}},vn=["list_user_collections",{}],Yc="list_collection_threads",ad="__temp__";async function qlt({contextUUID:e,updatedAccess:t,rwToken:n,callback:r,reason:s}){try{const i=await(await me.POST("/rest/thread/update_thread_access",s,{body:{context_uuid:e??"",updated_access:t,read_write_token:n??""}}))?.data;r?.(i?.access)}catch(a){le.error(a),r?.(a)}}const hF=({threadAccess:e,contextUUID:t,rwToken:n,collectionSlug:r,reason:s})=>{const{trackEvent:a}=Ye(),i=Ct(),l=Vt(),c=fF(),u=bme(e),d=f.useCallback((g,v)=>{!t||!n||!i||e===g||qlt({contextUUID:t,updatedAccess:g,rwToken:n,reason:s,callback:x=>{if(x===g){if(c(b=>{if(b)return b.map(w=>({...w,thread_access:x}))}),e&&a("thread privacy changed",{oldPrivacy:MX(e),newPrivacy:MX(x),contextUUID:t}),r){const b=[Yc,{collection_slug:r.slice(-22)}];l.invalidateQueries({queryKey:b})}v?.(x)}}})},[t,n,e,i,c,a,r,l,s]),h=f.useCallback(g=>{!i||u||(a("click share thread to space"),d(At.COLLECTION_READ,g))},[i,u,d,a]),m=f.useCallback(g=>{!i||!u||(a("click make thread private"),d(At.PRIVATE_READ,g))},[i,u,d,a]);return f.useMemo(()=>({isShareable:u,currentAccess:e,onShareThreadToSpace:h,onMakeThreadPrivate:m,handleAccessChange:d}),[u,d,m,h,e])},Glt=[{label:"Product",value:"PRODUCT"},{label:"AI",value:"AI"},{label:"Browser",value:"BROWSER"},{label:"Enterprise",value:"ENTERPRISE"},{label:"Platform",value:"PLATFORM"},{label:"Mobile",value:"MOBILE"},{label:"Search",value:"SEARCH"},{label:"Agent",value:"AGENT"}],wme=({isOpen:e,onClose:t})=>{const[n,r]=f.useState(""),[s,a]=f.useState(""),[i,l]=f.useState(""),[c,u]=f.useState(!1),[d,h]=f.useState(null),{firstResult:{context_uuid:m,backend_uuid:g,expiry_time:v,collection_info:{slug:x}={}}={}}=un(),b=mo(),{handleAccessChange:w}=hF({contextUUID:m,rwToken:b,collectionSlug:x,reason:"Bug Report"}),{handleRemoveExpiry:C}=kot({slugOrUUID:g}),S=async()=>{if(!n.trim()){h("Please describe the bug");return}u(!0),h(null);try{const E=Mot(window.location.href),T=await Cot(n,E,s,i);t(),T?.status==="success"&&T.linear_url&&window.open(T.linear_url,"_blank"),w(At.PUBLIC_READ),v&&await C(),r(""),l("")}catch(E){le.error("Failed to submit bug report",E),h("Failed to submit bug report. Please try again.")}finally{u(!1)}},k=()=>{r(""),l(""),a(""),h(null),t()};return o.jsx(Sn,{isOpen:e,onClose:k,title:"Report a Bug",variant:"large",actionList:[{text:"Cancel",onClick:k,variant:"common"},{text:c?"Submitting...":"Submit Bug Report",onClick:S,variant:"primary",disabled:c||!n.trim(),isLoading:c}],children:o.jsxs("div",{className:"space-y-md",children:[o.jsxs("div",{children:[o.jsx(F,{variant:"base",className:"mb-sm",children:"Category (optional)"}),o.jsx(eme,{id:"bug-category",options:Glt,activeKey:i,onOptionChange:l,defaultOption:"Select a category...",testId:"bug-report-category-select"})]}),o.jsxs("div",{children:[o.jsx(F,{variant:"base",className:"mb-sm",children:"Who should we assign this bug to? (optional)"}),o.jsx(Hd,{value:s,onChange:E=>a(E),placeholder:"Please provide the email address. E.g. johnny@perplexity.ai",className:"w-full",isMobileUserAgent:!1,isMobileStyle:!1,minRows:1})]}),o.jsxs("div",{children:[o.jsx(F,{variant:"base",className:"mb-sm",children:"Please describe the bug you encountered:"}),o.jsx(Hd,{value:n,onChange:E=>r(E),placeholder:"Describe what happened, steps to reproduce, and any other relevant details...",className:"w-full",isMobileUserAgent:!1,isMobileStyle:!1,minRows:1})]}),d&&o.jsx(F,{variant:"smallMono",color:"red",className:"text-sm",children:d})]})})};var dr=(e=>(e.MACOS="macos",e.WINDOWS="windows",e))(dr||{}),Ys=(e=>(e.NEW_THREAD="NEW_THREAD",e.STOP_GENERATING="STOP_GENERATING",e.TOGGLE_INCOGNITO="TOGGLE_INCOGNITO",e.SHOW_SHORTCUTS="SHOW_SHORTCUTS",e.FOCUS_ASK_INPUT="FOCUS_ASK_INPUT",e.TOGGLE_DICTATION="TOGGLE_DICTATION",e.TOGGLE_V2V="TOGGLE_V2V",e))(Ys||{});const SKt="keyboard-shortcuts",_me=(e,t,n=!1)=>[{type:"NEW_THREAD",label:e.formatMessage({defaultMessage:"New Thread",id:"76XSxT3hV8"}),macos:["⌘","K"],windows:t?["Ctrl","Shift","P"]:["Ctrl","I"],editable:!0,global:!0},{type:"TOGGLE_V2V",label:e.formatMessage({defaultMessage:"Toggle Voice Mode",id:"ulahVrf1h4"}),macos:["⌘","Shift","B"],windows:["Ctrl","Shift","B"],editable:!0,global:!0,requiresAuth:!0,windowsAppOnly:!0},{type:"TOGGLE_DICTATION",label:e.formatMessage({defaultMessage:"Toggle Voice Dictation",id:"tWip/8rlIv"}),macos:["⌘","D"],windows:["Ctrl","D"],editable:!1,windowsAppOnly:!0},{type:"TOGGLE_INCOGNITO",label:e.formatMessage({defaultMessage:"Toggle Incognito",id:"YNMg3vd9IG"}),macos:["⌘",";"],windows:["Ctrl",";"],editable:!1},{type:"SHOW_SHORTCUTS",label:e.formatMessage({defaultMessage:"Show Shortcuts",id:"8o6rUVckYq"}),macos:["⌘","/"],windows:["Ctrl","/"],editable:!1},{type:"FOCUS_ASK_INPUT",label:e.formatMessage({defaultMessage:"Focus Ask Input",id:"RP5ybIk9wM"}),macos:["⌘","J"],windows:["Ctrl","J"],editable:!1}].filter(s=>(!s.requiresAuth||n)&&(!s.windowsAppOnly||t)),Ylt={Meta:"⌘",Shift:"⇧",ArrowUp:"↑",ArrowDown:"↓",ArrowLeft:"←",ArrowRight:"→",Enter:"⏎",Period:".",Semicolon:";",Slash:"/",Escape:"Esc"},Klt={"⌘":"Meta","⇧":"Shift","↑":"ArrowUp","↓":"ArrowDown","←":"ArrowLeft","→":"ArrowRight","⏎":"Enter"},Qlt=(e,t="macos")=>e==="Meta"?t==="windows"?"Win":"⌘":Ylt[e]||e,kX=e=>e==="Win"?"Meta":Klt[e]||e,Xlt=({label:e,keys:t})=>o.jsxs(F,{color:"light",className:"py-md flex place-content-between items-center",children:[o.jsx(F,{as:"dd",variant:"small",color:"light",className:"line-clamp-1 overflow-hidden text-clip",children:e}),o.jsx(Q,{as:"dl",className:"space-x-two flex items-center",children:t.map(n=>o.jsx(Q,{className:"px-xs flex h-5 min-w-5 items-center justify-center rounded border font-mono",children:n},n))})]}),Zlt=L.memo(({closeModal:e,isOpen:t})=>{const n=ae(),{isMacOS:r,isWindowsApp:s}=sn(),a=Ct(),i=r?dr.MACOS:dr.WINDOWS,l=f.useMemo(()=>_me(n,s,a),[n,s,a]);return o.jsx(jg,{childVariant:"hide-chrome",isOpen:t,canOutsideClickClose:!0,onClose:e,children:o.jsxs(Q,{variant:"offset",className:"p-md relative w-[90vw] max-w-screen-sm rounded-xl",children:[o.jsx(F,{className:"mb-2",variant:"section-title",as:"h2",children:n.formatMessage({defaultMessage:"Keyboard Shortcuts",id:"nFkLBjIGMy"})}),o.jsx(Q,{as:"dl",className:"divide-y",children:l.map(c=>o.jsx(Xlt,{label:c.label,keys:c[i]},c.type))})]})})}),Jlt=async({reason:e})=>{try{return(await(await or({urlPath:"/rest/collections/list_recent",reason:e})).json()).map(r=>({...r,link:r.link.replace(/^\/collections\//,"/spaces/")}))}catch(t){return le.error("Failed to get recent collections.",t),[]}},ect=async({headers:e={},params:t,reason:n})=>{const r=await me.GET("/rest/collections/list_user_collections",n,{params:{query:{limit:t.limit,offset:t.offset,version:bu}},timeoutMs:ut(),headers:e});if(!r.response.ok||!r.data)throw new pt("API_CLIENTS_ERROR",{message:"Failed to list user collections",cause:r.error});return r.data},tct=async({headers:e={},params:t,reason:n})=>{try{const{error:r,data:s}=await me.GET("/rest/collections/get_collection",n,{params:{query:t},headers:e,timeoutMs:ut()});if(r)throw new pt("API_CLIENTS_ERROR",{message:"Failed to get collection",cause:r});if(!s?.status||s?.status==="failed")throw new pt("API_CLIENTS_ERROR",{message:"Failed to get collection",cause:s});return s}catch(r){le.error(r);return}},nct=async({headers:e={},params:t,reason:n})=>{try{const{error:r}=await me.PUT("/rest/collections/{collection_uuid}/access",n,{params:{path:{collection_uuid:t.collection_uuid}},headers:e,body:{updated_access:t.updated_access},timeoutMs:ut()});if(r)throw new pt("API_CLIENTS_ERROR",{message:"Failed to update collection access",cause:r})}catch(r){le.error(r)}},MKt=async({headers:e={},params:t,reason:n})=>{try{const{error:r}=await me.POST("/rest/collections/{collection_uuid}/remove_user",n,{params:{path:{collection_uuid:t.collectionUUID}},body:{email:t.email},headers:e,timeoutMs:ut()});if(r)throw new pt("API_CLIENTS_ERROR",{message:"Failed to remove user from collection",cause:r})}catch(r){le.error(r)}},kKt=async({headers:e={},params:t,reason:n})=>{try{const{error:r,data:s}=await me.GET("/rest/collections/list_collection_threads",n,{params:{query:t},headers:e,timeoutMs:ut()});if(r)throw new pt("API_CLIENTS_ERROR",{message:"Failed to list collection threads",cause:r});if(!s||!Array.isArray(s))throw new pt("API_CLIENTS_ERROR",{message:"Failed to list collection threads",cause:s});return s}catch(r){return le.error(r),[]}},EKt=async({reason:e})=>{try{const{error:t,data:n}=await me.GET("/rest/collections/invitations",e,{});if(t)throw new pt("API_CLIENTS_ERROR",{message:"Failed to get invited collections",cause:t});return{collections:n.collections}}catch{return{collections:[]}}},d4=async({params:e,reason:t})=>{try{const{error:n,data:r}=await me.POST("/rest/collections/upsert_thread_collection",t,{body:e});if(n)throw new pt("API_CLIENTS_ERROR",{message:"Failed to upsert thread collection",cause:n});if(!r)throw new pt("API_CLIENTS_ERROR",{message:"Failed to upsert thread collection",cause:r});return r}catch{return}},TKt=async({params:e,reason:t})=>{try{const{error:n,data:r}=await me.POST("/rest/collections/invite_to_collection",t,{body:e,timeoutMs:ut()});if(n)throw new pt("API_CLIENTS_ERROR",{message:"Failed to invite user to collection",cause:n});return r}catch{return}},EX=async({collectionUUID:e,entryUUID:t,reason:n})=>{try{const{error:r}=await me.DELETE("/rest/collections/remove_collection_thread",n,{params:{query:{collection_uuid:e,entry_uuid:t}}});if(r)throw new pt("API_CLIENTS_ERROR",{message:"Failed to remove thread from collection",cause:r})}catch{return}},uf=({collectionSlug:e,reason:t})=>{const n=async()=>e?await tct({params:{collection_slug:e,version:bu},reason:t})??null:null,{data:r,isLoading:s}=Ft({enabled:!!e,queryKey:["get_collection",{collection_slug:e?.slice(-22)}],queryFn:n,placeholderData:ax});return f.useMemo(()=>({collection:r??void 0,isLoading:s}),[r,s])};var ma;(function(e){e[e.NONE=0]="NONE",e[e.READER=1]="READER",e[e.WRITER=2]="WRITER",e[e.EDITOR=5]="EDITOR",e[e.ADMIN=3]="ADMIN",e[e.OWNER=4]="OWNER",e[e.OWNER_DEFAULT_BOOKMARKS=6]="OWNER_DEFAULT_BOOKMARKS",e[e.INVITED_READER=11]="INVITED_READER",e[e.INVITED_WRITER=12]="INVITED_WRITER",e[e.INVITED_EDITOR=15]="INVITED_EDITOR",e[e.INVITED_ADMIN=13]="INVITED_ADMIN"})(ma||(ma={}));function Cme(){return[ma.INVITED_READER,ma.INVITED_WRITER,ma.INVITED_EDITOR,ma.INVITED_ADMIN]}function rct(e){return e===ma.OWNER||e===ma.OWNER_DEFAULT_BOOKMARKS}function R1(e){return e===ma.OWNER_DEFAULT_BOOKMARKS}function sct(e){return e>=ma.WRITER&&e<ma.INVITED_READER}function act(e){return e>=ma.READER&&e<ma.INVITED_READER}function ict(e){return e==ma.READER||e==ma.INVITED_READER}function oct(e){return Cme().includes(e)}function NKt(e){if(e===void 0)return{ownerUser:void 0,contributorUsers:[],invitedUsers:[]};const t=e.owner_user,n=e.contributor_users,r=[],s=[],a=Cme();return n?.forEach(i=>{i.permission&&a.includes(i.permission)?r.push(i):s.push(i)}),{ownerUser:t,contributorUsers:s,invitedUsers:r}}var bh;(function(e){e.PageAccessNotAllowed="pageAccessNotAllowed",e.ThreadAccessNotAllowed="threadAccessNotAllowed",e.InvalidThread="invalidThread",e.ThreadExpired="threadExpired",e.ThreadStreamError="threadStreamError",e.CollectionAccessNotAllowed="collectionAccessNotAllowed",e.SpaceAccessNotAllowed="spaceAccessNotAllowed",e.InvalidCollection="invalidCollection",e.SubscriptionAlreadyActive="subscriptionAlreadyActive",e.UnableToGrantAccess="unableToGrantAccess"})(bh||(bh={}));const lct="ENTRY_EXPIRED",TX="VIEW_THREAD_NOT_ALLOWED",nc=()=>{const e=ln(),t=AQe(e),n=rze();return f.useMemo(()=>({...t??{},...n}),[t,n])};function mF({reason:e,collectionSlugOverride:t}){const n=nc(),r=t??(Array.isArray(n?.slug)?n.slug[0]:n?.slug),{collection:s}=uf({collectionSlug:r,reason:e}),a=s?rct(s.user_permission):!1,i=s?oct(s.user_permission):!1,l=s?ict(s.user_permission):!1,c=s?act(s.user_permission):!1,u=s?sct(s.user_permission):!1;return f.useMemo(()=>({isUserOwner:a,isUserInvited:i,isUserReader:l,isUserAtLeastReader:c,isUserAtLeastWriter:u}),[c,u,i,a,l])}const Dl=L.memo(({blockCount:e,size:t=tn.large,animateLines:n=!0,divider:r,noLines:s,noHeight:a,variant:i="offset",className:l,...c})=>{const u="h-1 bg-textOff  rounded-full",d=f.useMemo(()=>{const h=[];for(let m=0;m<(e??1);m++)h.push(o.jsx(Q,{variant:i,className:W("animate-pulse rounded-md",{"h-8":t===tn.small,"h-10":t===tn.regular,"h-[72px]":t===tn.large,"h-32":t===tn.xl,"h-6":t===tn.tiny,"h-full":a}),children:o.jsx("div",{className:"gap-y-sm p-md flex h-full flex-col",children:!s&&o.jsxs(o.Fragment,{children:[o.jsx(je.div,{initial:{width:n?0:"100%"},animate:{width:"100%"},transition:{duration:.8,delay:.2},className:u}),o.jsx(je.div,{initial:{width:n?0:"100%"},animate:{width:"100%"},transition:{duration:.8,delay:.2},className:u}),o.jsx(je.div,{initial:{width:n?0:"80%"},animate:{width:"80%"},transition:{duration:.8,delay:.2},className:u}),o.jsx(je.div,{initial:{width:n?0:"20%"},animate:{width:"20%"},transition:{duration:.8,delay:.2},className:u})]})})},m));return h},[n,e,t,s,a,i]);return o.jsx(Q,{className:W("h-full",{"divider gap-y-sm flex flex-col":r,"absolute top-0 w-full":a},l),...c,children:d})});var Gn;(function(e){e.GOOGLE_DRIVE="GOOGLE_DRIVE",e.ONEDRIVE="ONEDRIVE",e.SHAREPOINT="SHAREPOINT",e.DROPBOX="DROPBOX",e.BOX="BOX",e.WILEY="WILEY",e.GCAL="GCAL",e.GENERATED_IMAGE="GENERATED_IMAGE",e.GENERATED_VIDEO="GENERATED_VIDEO",e.NOTION="NOTION",e.OUTLOOK="OUTLOOK",e.LOCAL="LOCAL"})(Gn||(Gn={}));const Sme=br({path:"M14 3v4a1 1 0 0 0 1 1h4m-5-5H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3m4-18 5 5m0 0v3",name:"IconBadgeFile",variant:"stroked"}),Xi=10,NX=20,jKt=Xi*41+46,GA=async({request:e,reason:t})=>{const{fileRepositoryInfo:n,limit:r,offset:s,searchTerm:a,fileStates:i,email:l}=e;try{let c;i.includes("COMPLETE")?c={file_repository_info:n,limit:r,offset:s??0,search_term:a,file_states_in_filter:i,calculate_user_uploaded_file_count:!0}:c={calculate_user_uploaded_file_count:!1,file_repository_info:n,limit:r,offset:s??0,search_term:a,file_states_in_filter:i,email_in_filter:[l]};const{data:u,error:d}=await me.POST("/rest/file-repository/list-files",t,{headers:{"content-type":"application/json"},body:c,timeoutMs:ut(),numRetries:1});if(d)throw new pt("API_CLIENTS_ERROR",{cause:d});return{files:u?.files??[],numTotalFiles:u?.num_total_files??0,userUploadedFileCount:u?.user_uploaded_file_count??null}}catch(c){return le.error(c),null}},cct=async({request:e,reason:t})=>{const{data:n,error:r}=await me.POST("/rest/file-repository/get-file-upload-urls",t,{body:e,timeoutMs:5e3,numRetries:1});if(r)throw new Error("Failed to get fileUploadUrl",{cause:r});return n},Mme=async({request:e,reason:t})=>{const{data:n,error:r}=await me.POST("/rest/files/list",t,{body:e,timeoutMs:ut(),numRetries:1});if(r)throw new Error("Failed to get connector files",{cause:r});return n},AKt=async({request:e,reason:t})=>{const{data:n,error:r}=await me.POST("/rest/files/delete",t,{body:e,timeoutMs:ut(),numRetries:1});if(r)throw new Error("Failed to delete connector files",{cause:r});return n},RKt=async({request:e,reason:t})=>{const{data:n,error:r}=await me.POST("/rest/files/resync",t,{body:e,timeoutMs:ut(),numRetries:1});if(r)throw new Error("Failed to resync connector files",{cause:r});return n};async function pF({request:e,reason:t}){return new Promise((n,r)=>{me.SSE("/rest/sse/index_files",t,{params:e,headers:{"content-type":"application/json",accept:"text/event-stream"},handlers:{message:s=>{s.status==="success"?n():r(new Error("Indexing failed"))}}}).catch(r)})}const LKt=({fileRepoInfo:e,connectionTypes:t,status:n,searchKeyword:r,parentUuids:s,rootFilesOnly:a,cursor:i,pollingEnabled:l=!1,pageSize:c,fileTypes:u,reason:d})=>{const[h,m]=f.useState(!1),g=f.useMemo(()=>({file_repository_info:e,filters:{connection_types:t??Fe,status:n??Fe,search_keyword:r,parent_uuids:s??Fe,root_files_only:a??!1,file_types:u??Fe,connection_ids:Fe,ids:Fe,remote_file_ids:Fe,uuids:Fe},pagination:{cursor:i,page_size:c??100},order_by:"updated",order_dir:"desc"}),[e,t,n,r,s,a,i,c,u]),v=Ft({queryKey:Nhe(g),queryFn:()=>Mme({request:g,reason:d}),refetchInterval:()=>l&&h?5e3:!1,placeholderData:x=>x,enabled:e.file_repository_type==="USER"||e.file_repository_type=="COLLECTION"&&!!e.owner_id});return f.useEffect(()=>{const x=v.data?.files.some(b=>b.status==="SYNCING"||b.status==="QUEUED")||!1;m(x)},[v.data]),v},uct=({fileRepoInfo:e,connectionTypes:t,status:n,searchKeyword:r,parentUuids:s,rootFilesOnly:a,pageSize:i,fileTypes:l,reason:c})=>{const u={file_repository_info:e,filters:{connection_types:t??Fe,status:n??Fe,search_keyword:r,parent_uuids:s??Fe,root_files_only:a??!1,file_types:l??Fe,connection_ids:Fe,ids:Fe,remote_file_ids:Fe,uuids:Fe},pagination:{page_size:i},order_by:"updated",order_dir:"desc"};return Zd({enabled:e.file_repository_type!=="ORG",initialPageParam:void 0,queryKey:Nhe(u,!0),queryFn:({pageParam:d})=>Mme({request:{...u,pagination:{cursor:d,page_size:i}},reason:c}),getNextPageParam:d=>d.next_cursor??void 0})},OKt=async({backendUUID:e,title:t,rwToken:n,reason:r})=>{if(!n)return;const{data:s,error:a}=await me.PUT("/rest/article/section/title/{section_uuid}",r,{params:{path:{section_uuid:e}},body:{read_write_token:n,title:t},headers:{"content-type":"application/json"},numRetries:1});if(a)throw new Error("Error updating article section title",{cause:a});return s},PKt=async({backendUUID:e,heroOffset:t,rwToken:n,reason:r})=>{if(!n)return;const{data:s,error:a}=await me.PUT("/rest/article/section/hero_offset/{section_uuid}",r,{params:{path:{section_uuid:e}},body:{read_write_token:n,hero_offset:t},timeoutMs:ut()});if(a)throw new Error("Error updating article section hero offset",{cause:a});return s},IKt=async({backendUUID:e,rwToken:t,reason:n})=>{if(!e||!t)return;const{data:r,error:s}=await me.DELETE("/rest/article/section/{section_uuid}",n,{params:{path:{section_uuid:e}},body:{read_write_token:t},timeoutMs:ut()});if(s)throw new Error("Error deleting article section",{cause:s});return r},DKt=async({sections:e,rwToken:t,reason:n})=>{if(!t||e.length===0)return;const{data:r,error:s}=await me.PUT("/rest/article/sections/layout",n,{body:{read_write_token:t,sections:e},timeoutMs:ut()});if(s)throw new Error("Error updating article sections layout",{cause:s});return r},FKt=async({sectionUUID:e,mediaItem:t,targetIndex:n,rwToken:r,isNewMediaItem:s=!1,reason:a})=>{if(!r)return;const{data:i,error:l}=await me.PUT("/rest/article/section/image/{section_uuid}",a,{params:{path:{section_uuid:e}},timeoutMs:5500,body:{read_write_token:r,media_item:t,target_index:n,new_media_item:s}});if(l)throw new Error("Error updating article section image",{cause:l});return i},UKt=async({sectionUUID:e,mediaItem:t,rwToken:n,isNewMediaItem:r,reason:s})=>{n&&await me.PUT("/rest/page/section/media/add/{section_uuid}",s,{params:{path:{section_uuid:e}},timeoutMs:ut(),method:"PUT",body:{read_write_token:n,media_item:t,new_media_item:r}})},BKt=async({sectionUUID:e,image:t,rwToken:n,reason:r})=>{if(!n)return;const{data:s,error:a}=await me.POST("/rest/article/section/upload_image/{section_uuid}",r,{params:{path:{section_uuid:e}},timeoutMs:ut(),method:"POST",body:{read_write_token:n,content_type:t.type},headers:{"content-type":"application/json"},numRetries:1});if(a)throw new Error("Failed to upload image to section media items",{cause:a});return s},VKt=async({sectionUUID:e,mediaItemImageUrl:t,rwToken:n,reason:r})=>{if(!n)return;const{data:s,error:a}=await me.PUT("/rest/article/section/media/remove/{section_uuid}",r,{params:{path:{section_uuid:e}},timeoutMs:ut(),body:{read_write_token:n,media_item_image_url:t}});if(a)throw new Error("Error removing media item from section selected images",{cause:a});return s},zKt=async({sectionUUID:e,relativeMove:t,rwToken:n,articleSlug:r,reason:s})=>{if(!n||!r)return;const{data:a,error:i}=await me.PUT("/rest/article/reorder/{article_slug}",s,{params:{path:{article_slug:r}},timeoutMs:ut(),method:"PUT",body:{read_write_token:n,section_uuid:e,relative_move:t}});if(i)throw new Error("Error reordering article section",{cause:i});return a},HKt=async({backendUUID:e,reason:t})=>{if(!e)return;const{data:n,error:r}=await me.POST("/rest/article/section/terminate",t,{body:{entry_uuid:e},timeoutMs:1500,method:"POST",numRetries:1});if(r)throw new Error("Error terminating article section streaming",{cause:r});return n},WKt=async({sectionUUID:e,mediaItem:t,rwToken:n,reason:r})=>{if(!n)return;const{data:s,error:a}=await me.PUT("/rest/article/section/add/media_item/{section_uuid}",r,{params:{path:{section_uuid:e}},body:{read_write_token:n,media_item:t}});if(a)throw new Error("Error adding article section media item",{cause:a});return s},dct=async({entryUUIDs:e,rwToken:t,reason:n})=>{await me.DELETE("/rest/thread",n,{body:{entry_uuids:e,read_write_token:t??""}})},fct=async({entryUUID:e,rwToken:t,callback:n,reason:r})=>{n?.(),await me.DELETE("/rest/thread/delete_thread_by_entry_uuid",r,{body:{entry_uuid:e,read_write_token:t??""}})},hct=async({backendUUID:e,url:t,rwToken:n,reason:r})=>{if(!n)return;const{data:s,error:a}=await me.PUT("/rest/thread/entry/remove_widget",r,{timeoutMs:ut(),body:{entry_uuid:e,read_write_token:n,url:t}});if(a)throw new Error("Error removing widget from entry",{cause:a});return s},$Kt=async({backendUUID:e,rwToken:t,value:n,reason:r})=>{const{data:s,error:a}=await me.PUT("/rest/article/emphasize_sources/{section_uuid}",r,{params:{path:{section_uuid:e}},timeoutMs:ut(),method:"PUT",body:{read_write_token:t,value:n}});if(a)throw new Error("Error toggling emphasize sources",{cause:a});return s},mct=async({name:e,referrer:t,referrerId:n,redirectPath:r,unauthedRedirectPath:s,reason:a})=>{try{let i="";if(e!=="factset"){const u=new URLSearchParams;t&&(u.append("referrer",t),n&&u.append("referrer_id",n)),r&&u.append("redirect_path",r),s&&u.append("unauthed_redirect_path",s),i="?"+u.toString()}const l=await or({urlPath:`/rest/connectors/${e}/connect${i}`,method:"GET",headers:{"content-type":"application/json"},timeoutMs:ut(),numRetries:1,reason:a});if(!l.ok)throw new Error("Failed to initiate OAuth flow");return(await l.json()).redirect_url}catch(i){return le.error("Error fetching factset OAuth redirect URL:",i),null}},pct=async({connectorName:e,reason:t})=>{const n=`disconnectConnector:${e}`;try{const r=await or({urlPath:`/rest/connectors/${e}/disconnect`,method:"GET",headers:{"content-type":"application/json"},timeoutMs:ut({productionMs:500}),numRetries:1,reason:t});if(!r.ok)throw new Error("Failed to disconnect connector");return await r.json()}catch(r){return le.log(`Error in ${n}:`,r),null}},gct=async({connectionUUID:e,reason:t})=>{const{data:n,error:r}=await me.POST("/rest/connections/{uuid}/update",t,{params:{path:{uuid:e}},body:{disconnect:!0}});if(r)throw new Error("Failed to disconnect file connector",{cause:r});return n},vct=async({connectionUUID:e,reason:t})=>{const{data:n,error:r}=await me.POST("/rest/connections/{uuid}/delete",t,{params:{path:{uuid:e}}});if(r)throw new Error("Failed to disconnect file connector and delete files",{cause:r});return n},qKt=async({connectorName:e,fileIds:t,fileRepoInfo:n,folder_ids:r,reason:s})=>{const a="uploadConnectorFiles";try{const i=await or({urlPath:`/rest/connectors/${e}/files`,method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({file_ids:t,file_repository_info:n,folder_ids:r}),reason:s});if(!i.ok)throw new Error("Failed to upload connector files");return await i.json()}catch(i){throw le.log(`Error in ${a}:`,i),i}},yct=async({reason:e})=>{const{data:t,error:n}=await me.POST("/rest/connectors/box/picker",e);if(n)throw new Error("Failed to refresh box picker credentials",{cause:n});return t},xct=async({connectionType:e,content:t,reason:n})=>{const{data:r,error:s}=await me.POST("/rest/connectors/picker/log",n,{body:{connection_type:e,content:t}});if(s)throw new Error("Failed log connector picker",{cause:s});return r},bct=async({request:e,reason:t})=>{const{data:n,error:r}=await me.POST("/rest/file-repository/delete-files",t,{body:e});if(r)throw new Error("Failed to delete files",{cause:r});return n};class gF extends Error{constructor(){super("Downloads are disabled"),this.name="DownloadsDisabledError"}}class kme extends Error{constructor(){super("PDF downloads are restricted"),this.name="PdfUntrustedOriginError"}}const wct=async({request:e,reason:t})=>{const n=await me.POST("/rest/file-repository/download",t,{body:e,timeoutMs:2e3,numRetries:1});if(n.error){if(n.error.detail&&typeof n.error.detail=="object"&&"error_details"in n.error.detail){if(n.error.detail.error_details==="DOWNLOADS_DISABLED")throw new gF;if(n.error.detail.error_details==="PDF_UNTRUSTED_ORIGIN")throw new kme}throw new Error("Failed to download file",{cause:n.error})}return n.data},_ct=async({request:e,reason:t})=>{const n=await me.POST("/rest/file-repository/download-attachment",t,{body:e,timeoutMs:2e3,numRetries:1});if(n.error){if(n.error.detail&&typeof n.error.detail=="object"&&"error_details"in n.error.detail){if(n.error.detail.error_details==="DOWNLOADS_DISABLED")throw new gF;if(n.error.detail.error_details==="PDF_UNTRUSTED_ORIGIN")throw new kme}throw new Error("Failed to download file",{cause:n.error})}return n.data},GKt=async({seedDirectoryRequest:e,reason:t})=>{const n="seedDirectoryWithExampleFiles";try{if((await me.POST("/rest/file-repository/seed-examples",t,{body:e,timeoutMs:ut(),numRetries:1})).response.ok)return;throw new Error("Failed to seed file repository")}catch(r){throw le.log(`Error in ${n}:`,r),r}},Eme=e=>{const{accessLevel:t,enableWebByDefault:n,...r}=e;return{...r,access:t,enable_web_by_default:n}},Cct=async({collectionUuid:e,changes:t,reason:n})=>{const r=Eme(t),s=await me.POST("/rest/collections/edit_collection/{collection_uuid}",n,{params:{path:{collection_uuid:e}},body:r,timeoutMs:ut()});if(!s.response.ok||!s.data)throw new Error("Failed to edit collection",{cause:s.error});const a=s.data,{access:i,...l}=a;return i!==void 0?{...l,accessLevel:i}:l},jX=async({params:e,reason:t})=>{const n=Eme(e);e.template_id&&(n.template_id=e.template_id);const r=await me.POST("/rest/collections/create_collection",t,{body:n,timeoutMs:ut()});if(!r.response.ok||!r.data)throw new Error("Failed to create collection",{cause:r.error});return r.data},YKt=async({entryUUID:e,reason:t})=>{const{data:n,error:r}=await me.POST("/rest/entry/convert-to-report/{entry_uuid}",t,{params:{path:{entry_uuid:e}},timeoutMs:ut()});if(r)throw new Error("Failed to convert entry to report",{cause:r});return n},KKt=async({spaceUuid:e,reason:t})=>{const{data:n,error:r}=await me.POST("/rest/spaces/{space_uuid}/subscription",t,{params:{path:{space_uuid:e}},timeoutMs:ut(),numRetries:1});if(r)throw new Error("Failed to subscribe to space",{cause:r});return n},QKt=async({spaceUuid:e,reason:t})=>{const{data:n,error:r}=await me.DELETE("/rest/spaces/{space_uuid}/subscription",t,{params:{path:{space_uuid:e}},timeoutMs:ut(),numRetries:1});if(r)throw new Error("Failed to unsubscribe from space",{cause:r});return n},Sct=async({collectionUuid:e,reason:t})=>{const{error:n}=await me.DELETE("/rest/collections/delete_collection/{collection_uuid}",t,{params:{path:{collection_uuid:e}},timeoutMs:ut(),numRetries:1});if(n)throw new Error("Failed to delete collection",{cause:n})},Mct=async({contextUUID:e,reason:t})=>{const{data:n,error:r}=await me.POST("/rest/thread/mark_viewed/{context_uuid}",t,{params:{path:{context_uuid:e}},timeoutMs:ut(),numRetries:1});if(r)throw new Error("Failed to mark thread as viewed",{cause:r});return n},vF=({reason:e,onSuccess:t})=>{const{$t:n}=ae(),{openToast:r}=Sr();return Kt({mutationFn:async({file_url:s})=>(await wct({request:{file_url:s},reason:e})).file_url,onSuccess:(s,{tab_id:a})=>{t?t(s,a):window.open(s,"_blank"),r(n({defaultMessage:"Downloading file...",id:"/vA9NyIeJh"}),"success",3)},onError:s=>{s instanceof gF?r(n({defaultMessage:"Downloads are disabled for files in this organization.",id:"NfM+Ayxvc6"}),"error",8):r(n({defaultMessage:"Failed to download file",id:"RIWlU8NdpC"}),"error",3)}})},Vw=async({fileRepositoryType:e,ownerId:t,limit:n,offset:r,searchTerm:s,email:a,reason:i})=>{const[l,c]=await Promise.all([GA({request:{fileRepositoryInfo:{file_repository_type:e,owner_id:t},limit:n,offset:r,searchTerm:s,fileStates:["COMPLETE"],email:a},reason:i}),GA({request:{fileRepositoryInfo:{file_repository_type:e,owner_id:t},limit:100,offset:0,searchTerm:"",fileStates:["PROCESSING","FAILED"],email:a},reason:i})]),u=d=>({name:d.filename,file_uuid:d.file_uuid,file_s3_url:d.file_s3_url??"",file_title:d.file_title,file_description:d.file_description,uploadedBy:d.uploaded_by,state:d.file_state,size:d.file_size??0,date:new Date(d.time_created).toLocaleString(void 0,{dateStyle:"short",timeStyle:"short"}),error:d.error??void 0,isOptimistic:!1});if(l||c){const d=l?.files?.map(u)||[],h=c?.files?.map(u)||[];return{completedFiles:d,processingFiles:h.filter(m=>m.state==="PROCESSING"),failedFiles:h.filter(m=>m.state==="FAILED"),numTotalFiles:l?.numTotalFiles||0,userUploadedFileCount:l?.userUploadedFileCount||0}}return{completedFiles:[],processingFiles:[],failedFiles:[],numTotalFiles:0,userUploadedFileCount:0}},kct=({fileRepositoryType:e,limit:t,offset:n,searchTerm:r,ownerId:s,reason:a})=>{const i=Vt(),c=on()?.user?.email??"",{isEnterprise:u}=Bn({reason:a}),d=!!(e==="COLLECTION"&&s||e==="ORG"&&u),h=yC(e,s,t,n,r),m=Ft({queryKey:h,queryFn:()=>d?Vw({fileRepositoryType:e,ownerId:s,limit:t,offset:n,searchTerm:r,email:c,reason:a}):Promise.reject(),enabled:d,placeholderData:ax,staleTime:5*60*1e3,gcTime:10*60*1e3});return f.useEffect(()=>{d&&(m.data?.numTotalFiles??0)>n+t&&i.prefetchQuery({queryKey:h,queryFn:()=>Vw({fileRepositoryType:e,ownerId:s,limit:t,offset:n+t,searchTerm:r,email:c,reason:a}),staleTime:5*60*1e3,gcTime:10*60*1e3})},[h,d,i,e,t,n,r,m.data?.numTotalFiles,c,s,a]),m},Ect=({fileRepositoryType:e,limit:t,searchTerm:n,ownerId:r,reason:s})=>{const i=on()?.user?.email??"",{isEnterprise:l}=Bn({reason:s}),c=!!(e==="COLLECTION"&&r||e==="ORG"&&l),u=yC(e,r,t,void 0,n,!0);return Zd({enabled:c,initialPageParam:0,queryKey:u,queryFn:({pageParam:h})=>!c||h===void 0?Promise.reject():Vw({fileRepositoryType:e,ownerId:r,limit:t,offset:h,searchTerm:n,email:i,reason:s}),getNextPageParam:(h,m)=>{const v=m.length*t+t;if(!(v>=h.numTotalFiles))return v}})},XKt=({fileRepoInfo:e,offset:t,setOffset:n,searchTerm:r,reason:s})=>{const a=e.file_repository_type,i=e.owner_id,{data:l,isLoading:c}=kct({fileRepositoryType:a,limit:Xi,offset:t,searchTerm:r,ownerId:i,reason:s}),{completedFiles:u,processingFiles:d,failedFiles:h,totalFiles:m,userUploadedFileCount:g}=f.useMemo(()=>({completedFiles:l?.completedFiles||[],processingFiles:l?.processingFiles||[],failedFiles:l?.failedFiles||[],totalFiles:l?.numTotalFiles??0,userUploadedFileCount:l?.userUploadedFileCount??0}),[l]),v=t>0,x=m>t+Xi,b=Math.floor(t/Xi)+1,w=Math.max(1,Math.ceil(m/Xi)),C=f.useCallback(()=>{v&&n(Math.max(0,t-Xi))},[v,t,n]),S=f.useCallback(()=>{x&&n(t+Xi)},[x,t,n]);return f.useMemo(()=>({completedFiles:u,processingFiles:d,failedFiles:h,totalFiles:m,isLoadingFileDirectory:c,hasPreviousPage:v,hasNextPage:x,searchTerm:r,offset:t,currentPage:b,totalPages:w,setOffset:n,handlePrevPage:C,handleNextPage:S,userUploadedFileCount:g}),[u,b,h,S,C,x,v,c,t,d,r,n,m,w,g])},Tct=({fileRepoInfo:e,searchTerm:t,limit:n=Xi,reason:r})=>{const s=e.file_repository_type,a=e.owner_id,{data:i,isLoading:l,hasNextPage:c,fetchNextPage:u}=Ect({fileRepositoryType:s,limit:n,searchTerm:t,ownerId:a,reason:r}),{completedFiles:d,processingFiles:h,failedFiles:m,totalFiles:g,userUploadedFileCount:v}=f.useMemo(()=>{const x=i?i.pages[i.pages.length-1]:null;return{completedFiles:i?.pages.map(b=>b.completedFiles).flat()||[],processingFiles:i?.pages.map(b=>b.processingFiles).flat()||[],failedFiles:i?.pages.map(b=>b.failedFiles).flat()||[],totalFiles:x?.numTotalFiles??0,userUploadedFileCount:x?.userUploadedFileCount??0}},[i]);return f.useMemo(()=>({completedFiles:d,processingFiles:h,failedFiles:m,totalFiles:g,isLoading:l,hasNextPage:c,searchTerm:t,fetchNextPage:u,userUploadedFileCount:v}),[d,m,u,c,l,h,t,g,v])},df=({reason:e,collectionSlugOverride:t})=>{const n=ln(),r=nc(),{firstResult:{collection_info:{uuid:s}={}}={}}=un(),a=n?.includes("/search/")&&!!s,i=t??(Array.isArray(r?.slug)?r.slug[0]:r?.slug),{collection:l}=uf({collectionSlug:i,reason:e}),c=f.useMemo(()=>{let u,d;return a?(u="COLLECTION",d=s??""):n?.includes("/collections")||n?.includes("/spaces")?(u="COLLECTION",d=l?.uuid||""):(u="ORG",d=""),{file_repository_type:u,owner_id:d}},[a,n,s,l?.uuid]);return f.useMemo(()=>({fileRepoInfo:c}),[c])},Tme=({fileRepositoryType:e,offset:t,searchTerm:n,ownerId:r,reason:s})=>{const{$t:a}=ae(),i=Vt(),l=nc(),{openToast:c}=Sr(),u=on(),{isEnterprise:d}=Bn({reason:s}),h=u?.user?.email,m=Tg(),g=yC(e,r,Xi,t,n),v=GD(r),x=Array.isArray(l?.slug)?l.slug[0]:l?.slug,b=x?WD(x):void 0;return Kt({mutationFn:async w=>bct({request:{file_uuids:w,file_repository_info:{file_repository_type:e,owner_id:r}},reason:s}),onMutate:async w=>{await i.cancelQueries({queryKey:g});const C=i.getQueryData(g);return C&&i.setQueryData(g,S=>({...S,completedFiles:S.completedFiles.filter(k=>!w.includes(k.file_uuid)),processingFiles:S.processingFiles.filter(k=>!w.includes(k.file_uuid)),failedFiles:S.failedFiles.filter(k=>!w.includes(k.file_uuid)),numTotalFiles:Math.max((S.numTotalFiles||0)-w.length,0),userUploadedFileCount:Math.max((S.userUploadedFileCount??0)-S.completedFiles.filter(k=>w.includes(k.file_uuid)&&k.uploadedBy===h).length,0)})),{previousData:C}},onSuccess:()=>{d&&i.invalidateQueries({queryKey:m}),i.invalidateQueries({queryKey:g}),x&&i.invalidateQueries({queryKey:b}),i.invalidateQueries({queryKey:v})},onError:(w,C,S)=>{S?.previousData&&i.setQueryData(g,S.previousData),c(a({defaultMessage:"Failed to delete file",id:"aJlra1/tgY"}),"error",3)}})},Nct=({fileRepoInfo:e,reason:t})=>{const n=Vt(),r=nc(),s=Tg(),a=Array.isArray(r?.slug)?r.slug[0]:r?.slug,i=a?WD(a):void 0,l=yC(e.file_repository_type,e.owner_id,Xi,0,""),c=["list_file_directory",e.file_repository_type,e.owner_id];return Kt({mutationFn:async u=>{await pF({request:{file_repository_info:e,file_index_params:[{file_s3_url:u.file_s3_url,file_size:u.size,filename:u.name,file_uuid:u.file_uuid,replace_existing:!0}]},reason:t})},onMutate:async u=>{await n.cancelQueries({queryKey:l});const d={...u,state:"PROCESSING",error:void 0};return n.setQueriesData({queryKey:l},h=>{if(!h)return h;const m=h.completedFiles.filter(x=>x.name!==d.name),g=h.failedFiles.filter(x=>x.file_uuid!==d.file_uuid),v=[...h.processingFiles||[],d];return{...h,completedFiles:m,processingFiles:v,failedFiles:g}}),d},onSettled:()=>{n.invalidateQueries({queryKey:c}),e.file_repository_type==="ORG"&&n.invalidateQueries({queryKey:s}),a&&n.invalidateQueries({queryKey:i})}})},Nme=/(\[\d{1,3}\])/,jct=/(\[\d{1,3},\s*\{ts:.*\}\])/,MC=new RegExp(Nme.source+"|"+jct.source),ZKt=(e,t)=>{if(MC.test(e))if(Nme.test(e)){const n=parseInt(e.substring(1,e.length-1))-1,r=t?.[n]??null;return r||void 0}else{const n=e.indexOf(","),r=parseInt(e.substring(1,n))-1,s=t?.[r]??null;if(!s)return;if(!s.url){le.warn("[parseCitation] web_result has no url",{web_result:s});return}return s.url=Act(s.url,e),s}},Act=(e,t)=>{const n=e.split("&")[0],r=t.indexOf(":");if(r===-1)return n;const s=t.indexOf("}"),a=t.substring(r+1,s);return n+`&t=${a}`},JKt=e=>e?.[0]?.article_info?.is_live;function eQt(e){return e.length==1&&e[0]?.article_info?.is_auto_generated}function Rct(e,t){return e.startsWith("http")?e:t?`/discover/${t}/${e}`:`/page/${e}`}const yF=e=>e?.toLowerCase(),R5=e=>yF(e.status)==="pending",tQt=e=>yF(e.status)==="staged",nQt=e=>yF(e.status)==="completed",Lct=e=>e.find(t=>R5(t)&&t.backend_uuid),Oct=e=>{const t=An.legacyParseBackendOutputStr(e);return t?t.answer.replace(MC,""):null},Pct=e=>{const t=e.mode==="article"?"/page":"/search";return{title:e.title??"",preview:Oct(e.first_answer),threadCount:e.query_count,lastUpdated:e.last_query_datetime,href:`${t}/${e.slug}`,rwToken:e.read_write_token,focus:e.search_focus??"internet",entryUUID:e.uuid,contextUUID:e.context_uuid,copilot:e.mode==="copilot",socialInfo:e.social_info,collectionUUID:e.collection?.uuid??null,authorImage:e.author_image??null,featuredImage:e?.featured_images?.[0]?.image??null,thumbnailImage:e?.featured_images?.[0]?.thumbnail??null,threadAccess:e.thread_access,collection:e.collection,mode:e.mode,expiry:e.expiry_time,source:e?.source??null,displayModel:e.display_model}},rQt=(e,t)=>({title:e.title??"",summary:e.summary??"",description:e.description??"",href:Rct(e.slug,t),backendUUID:e.uuid,collectionUUID:e.collection?.uuid??null,authorImage:e.author_image??null,authorUsername:e.author_username??null,featuredImage:e?.featured_images?.[0]?.image??null,collection:e.collection,socialInfo:e.social_info,feedbackState:e.feedback_state,supportedFeedbacks:e.supported_feedbacks,accessLevel:e.access??e.thread_access,preview:e.description.replace(MC,""),offset:e.hero_offset,entryUUID:e.uuid,rwToken:e.read_write_token,lastUpdated:e.last_query_datetime,threadAccess:e.access,thumbnailImage:e?.featured_images?.[0]?.thumbnail??null,contextUUID:e.context_uuid,webResults:e.web_results_preview,feedUUID:e.feed_uuid}),Ict={gpt4_limit:"gpt4Limit",gpt4_total:"gpt4Total",opus_limit:"opusLimit",pages_limit:"pagesLimit",upload_limit:"uploadLimit",article_image_upload_limit:"articleImageUploadLimit",max_files_per_user:"maxFilesPerUser",max_files_per_repository:"maxFilesPerRepository",default_image_generation_model:"defaultImageGenerationModel",query_count:"queryCount",query_count_copilot:"queryCountCopilot",query_count_mobile:"queryCountMobile",has_ai_profile:"hasAiProfile",referral_code:"referralCode",referral_num_success:"referralNumSuccess",disable_training:"disableTraining",is_sidebar_collapsed:"isSidebarCollapsed",is_sidebar_pinned:"isSidebarPinned",sidebar_hidden_hubs:"sidebarHiddenHubs",subscription_tier:"subscriptionTier",create_limit:"createLimit",notif_status:"notifStatus",email_status:"emailStatus",allow_article_creation:"allowArticleCreation",is_verified:"isVerified"};function Dct(e){return e||{connectors:[]}}const AX=e=>({hasLoadedSettings:!0,gpt4Limit:e?.gpt4_limit??0,gpt4Total:e?.gpt4_total??0,pplxAlphaLimit:e?.pplx_alpha_limit??0,pplxBetaLimit:e?.pplx_beta_limit??0,pagesLimit:e?.pages_limit??0,uploadLimit:e?.upload_limit??0,defaultImageGenerationModel:e?.default_image_generation_model??"default",articleImageUploadLimit:e?.article_image_upload_limit??0,maxFilesPerUser:e?.max_files_per_user??0,maxFilesPerRepository:e?.max_files_per_repository??0,queryCount:e?.query_count??0,queryCountCopilot:e?.query_count_copilot??0,queryCountMobile:e?.query_count_mobile??0,hasAiProfile:e?.has_ai_profile??!1,referralCode:e?.referral_code??"",referralNumSuccess:e?.referral_num_success??0,disableTraining:e?.disable_training??!1,isSidebarCollapsed:e?.is_sidebar_collapsed??!1,isSidebarPinned:e?.is_sidebar_pinned??!1,sidebarHiddenHubs:e?.sidebar_hidden_hubs??[],subscriptionTier:e?.subscription_tier??e?.subscription_tier??"null",stripeStatus:e?.stripe_status??"none",revenuecatStatus:e?.revenuecat_status??"none",revenuecatSource:e?.revenuecat_source??"none",createLimit:e?.create_limit??0,notifStatus:e?.notif_status??"daily",emailStatus:e?.email_status??"daily",hasDataRetentionWarning:e?.has_data_retention_warning??!1,allowArticleCreation:e?.allow_article_creation??!1,isVerified:e?.is_verified??!1,connectors:Dct(e?.connectors),connectorLimits:e?.connector_limits??{global_file_count:void 0,repo_type_limits:{},max_file_size:void 0,max_attachment_file_size:void 0}});function Fct(e,t){return e?e.place_widget_block&&t.place_widget_block?{...t,place_widget_block:{...e.place_widget_block,review_summary:t.place_widget_block.review_summary}}:e.shopping_widget_block&&t.shopping_widget_block?{...t,shopping_widget_block:{...e.shopping_widget_block,review_summary:t.shopping_widget_block.review_summary}}:t:t}const xF=async({reason:e})=>{try{const{error:t,data:n}=await me.GET("/rest/user/subscription/refresh",e,{timeoutMs:ut(),headers:{"X-Perplexity-CSRF-Protection":"1"}});if(t)throw new pt("API_CLIENTS_ERROR",{message:"Failed to refresh subscription status",cause:t});return n}catch(t){return le.error(t),null}},jme={has_profile:!1,disabled:!1,bio:"",location:"",response_language:"",location_lng:"",location_lat:"",use_memory:!1,use_search_history:!1,language:""},Uct=async({headers:e,reason:t})=>{try{const{error:n,data:r}=await me.GET("/rest/user/get_user_ai_profile",t,{timeoutMs:1500,numRetries:Eg,headers:e});if(n||!r)throw new pt("API_CLIENTS_ERROR",{message:"Failed to get user profile",cause:n});return r}catch(n){return le.error(n),jme}},Bct=async({headers:e,reason:t})=>{try{const{error:n,data:r}=await me.GET("/rest/user/settings",t,{timeoutMs:1500,numRetries:Eg,headers:e});if(n||!r)throw new pt("API_CLIENTS_ERROR",{message:"Failed to get user settings",cause:n});return AX(r)}catch(n){return le.error(n),AX({})}},sQt=async({amount:e,headers:t,reason:n})=>{try{const{error:r,data:s}=await me.GET("/rest/shopping/user-discount-offer",n,{params:{query:{amount_micros:e}},headers:t});if(r||!s)throw new pt("API_CLIENTS_ERROR",{message:"Failed to fetch user discount offer",cause:r});return s}catch(r){return le.error(r),{}}},Vct=async({settings:e,reason:t})=>{const{error:n}=await me.PUT("/rest/user/save-settings",t,{body:{updated_settings:e},timeoutMs:ut(),numRetries:1});if(n)throw new pt("API_CLIENTS_ERROR",{message:"Failed to save user settings",cause:n});return{status:"success"}},zct=async({reason:e})=>{const{error:t,data:n}=await me.GET("/rest/user/previous-subscription",e,{timeoutMs:3e3,numRetries:1});if(t)throw new pt("API_CLIENTS_ERROR",{message:"Failed to get user previous subscription",cause:t});return n},Hct=async({filters:e,skipToken:t,reason:n})=>{const{error:r,data:s}=await me.POST("/rest/connectors/sharepoint/sites",n,{body:{filters:e,skip_token:t},timeoutMs:ut({productionMs:500}),numRetries:1});if(r)throw new pt("API_CLIENTS_ERROR",{message:"Failed to fetch sharepoint sites",cause:r});return{sites:s.sites,skipToken:s.skip_token}},Wct=()=>{const e=Wn("isCollapsed"),{isWindowsApp:t}=sn();return e===null?t:e==="true"},Ua=({enabled:e,reason:t})=>{const{locale:n}=ae(),r=n?{"accept-language":n}:{},s=async()=>Bct({headers:r,reason:t}),a=Ct(),i=Wct(),{data:l}=Ft({enabled:a?typeof e>"u"?!0:e:!1,queryKey:vC(),queryFn:s,networkMode:"always"});return f.useEffect(()=>{l&&ttt({queryCount:l.queryCount,queryCountCopilot:l.queryCountCopilot,queryCountMobile:l.queryCountMobile})},[l]),l?{...l,isSidebarCollapsed:i}:{hasLoadedSettings:!1,gpt4Limit:void 0,gpt4Total:void 0,pplxAlphaLimit:void 0,pplxBetaLimit:void 0,pagesLimit:0,uploadLimit:0,articleImageUploadLimit:0,defaultImageGenerationModel:"default",queryCount:void 0,queryCountCopilot:void 0,queryCountMobile:void 0,hasAiProfile:!1,referralCode:void 0,referralNumSuccess:void 0,disableTraining:!1,defaultCopilot:!1,isSidebarCollapsed:i,subscriptionTier:void 0,stripeStatus:"none",revenuecatStatus:"none",revenuecatSource:"none",createLimit:0,notifStatus:void 0,emailStatus:void 0,hasDataRetentionWarning:!1,allowArticleCreation:!1,connectors:{connectors:Fe},connectorLimits:{global_file_count:void 0,repo_type_limits:{},max_file_size:void 0,max_attachment_file_size:void 0}}},RX=10,$ct=async(e,t)=>{const s=new FormData;Object.entries(t.fields).forEach(([i,l])=>{s.append(i,l)}),s.append("file",e);let a=null;for(let i=0;i<1;i++)try{i>0&&await new Promise(c=>setTimeout(c,2e3));const l=await fetch(t.s3_bucket_url,{method:"POST",body:s});if(!l.ok)throw new Error(`HTTP error ${l.status}: ${l.statusText}`);return}catch(l){a=l instanceof Error?l:new Error(String(l))}throw new Error(`UPLOAD_FAILED after 1 attempts: ${a?.message||"Unknown error"}`)},Ame=({fileRepoInfo:e,setTotalFilesUploading:t,replaceExisting:n,reason:r,onLocalFileUploadSuccess:s})=>{const{$t:a}=ae(),i=Vt(),l=Tg(),c=nc(),u=Array.isArray(c?.slug)?c.slug[0]:c?.slug,d=u?WD(u):void 0,{openToast:h}=Sr(),g=on()?.user?.email??"",v=Ua({reason:r}),x=["list_file_directory",e.file_repository_type,e.owner_id];return Kt({mutationFn:async b=>{t(b.length);for(let w=0;w<b.length;w+=RX){const C=b.slice(w,w+RX),S=await cct({request:{file_upload_params:C.map(j=>({filename:j.name,content_type:j.type,file_size:j.size})),file_repository_info:e},reason:r}),k=S.limits_reached[0];if(k==="FILE_REPOSITORY_LIMIT_EXCEEDED"){const j=v.maxFilesPerRepository;h(a({defaultMessage:"You have reached the file limit of {limit} files per repository.",id:"J0uyf2gB1u"},{limit:j}),"error",3);break}else if(k==="USER_FILE_LIMIT_EXCEEDED"){const j=v.maxFilesPerUser;h(a({defaultMessage:"You have reached the file limit of {limit} files.",id:"ZJfpzjWjp1"},{limit:j}),"error",3);break}const T=(await Promise.allSettled(S.file_url_params.map((j,N)=>({fileUploadUrlInfo:j,file:C[N]})).filter(({fileUploadUrlInfo:j})=>j!==null).map(async({fileUploadUrlInfo:j,file:N})=>{try{return await $ct(N,j),{file_s3_url:j.s3_object_url,filename:N.name,file_size:N.size,file_uuid:j.file_uuid,replace_existing:n}}catch(R){throw h(a({defaultMessage:"Failed to upload file",id:"x2gE8tKhMn"}),"error",3),R}}))).filter(j=>j.status==="fulfilled").map(j=>j.value);if(T.length>0&&await pF({request:{file_repository_info:e,file_index_params:T},reason:r}),S.limits_reached.length>0)break}},onMutate:async b=>{await i.cancelQueries({queryKey:x});const w=i.getQueryData(x),C=b.map(S=>({name:S.name,file_s3_url:"",file_title:null,file_description:null,file_uuid:qr(),uploadedBy:g,state:"PROCESSING",size:S.size,date:new Date().toLocaleString(),isOptimistic:!0}));return i.setQueriesData({queryKey:x},S=>S&&{...S,processingFiles:[...S.processingFiles||[],...C]}),{previousData:w,optimisticFiles:C,uploadedFilesCount:b.length}},onError:(b,w,C)=>{h(a({defaultMessage:"Failed to upload file",id:"x2gE8tKhMn"}),"error",3),C?.previousData&&i.setQueriesData({queryKey:x},C.previousData)},onSettled:()=>{i.invalidateQueries({queryKey:x}),e.file_repository_type==="ORG"&&i.invalidateQueries({queryKey:l}),u&&i.invalidateQueries({queryKey:d})},onSuccess:()=>{s?.()}})},qct=({reason:e,onLocalFileUploadSuccess:t,collectionSlugOverride:n})=>{const r=Vt(),{fileRepoInfo:s}=df({reason:e,collectionSlugOverride:n}),[a,i]=f.useState(0),[l,c]=f.useState(""),[u,d]=f.useState(0),{mutate:h}=Ame({fileRepoInfo:s,setTotalFilesUploading:d,reason:e,onLocalFileUploadSuccess:t}),{mutate:m}=Tme({fileRepositoryType:s.file_repository_type,offset:a,searchTerm:l,ownerId:s.owner_id,reason:e}),{mutate:g}=Nct({fileRepoInfo:s,reason:e}),v=f.useCallback(C=>{m(C),u>0&&d(u-C.length)},[m,u]),x=f.useCallback(C=>{d(S=>S+1),g(C)},[g]),b=f.useCallback(C=>{r.setQueryData(["list_file_directory",s.file_repository_type,s.owner_id,Xi,a,l],S=>({...S,processingFiles:[],failedFiles:[],numTotalFiles:Math.max(0,(S?.numTotalFiles??0)-C.length)})),m(C.map(S=>S.file_uuid))},[s.file_repository_type,s.owner_id,a,l,r,m]),w=f.useCallback(async C=>{const S=[],k=async E=>{if(E.isFile){const T=await new Promise(j=>E.file(j));T.type!==""&&S.push(T)}else if(E.isDirectory){const T=E.createReader(),j=await new Promise(N=>T.readEntries(N));await Promise.all(j.map(k))}};C instanceof FileList?Array.from(C).forEach(E=>S.push(E)):await Promise.all(Array.from(C).map(async E=>{if(E.kind==="file"){const T=E.webkitGetAsEntry();T&&await k(T)}})),S.length>0&&h(S)},[h]);return f.useMemo(()=>({offset:a,setOffset:i,searchTerm:l,setSearchTerm:c,totalFilesUploading:u,setTotalFilesUploading:d,handleRemoveFiles:v,handleReplaceExistingFile:x,handleClearAllFiles:b,handleFileSelect:w}),[b,w,v,x,a,l,u])},aQt=async({collectionUUID:e,reason:t})=>{const n=await me.POST("/rest/spaces/bookmarks",t,{body:{collection_uuid:e},timeoutMs:ut(),numRetries:0}),r=n.data;if(!n.response.ok||!r)throw new Error("Failed to create space bookmark");return r},iQt=async({query:e,reason:t})=>{const{data:n,error:r}=await me.GET("/rest/spaces/bookmarks",t,{params:{query:e}});if(r)throw new pt("API_CLIENTS_ERROR",{message:"Failed to list bookmarked spaces",cause:r});return n},Rme=async({params:e,reason:t})=>{const n=await me.GET("/rest/spaces",t,{params:{query:{limit:e.limit,offset:e.offset,category:e.category,version:bu}},timeoutMs:ut()});if(n.error)throw new pt("API_CLIENTS_ERROR",{message:"Failed to list spaces",cause:n.error});return n.data},Gct=async({reason:e})=>{const t=await me.GET("/rest/spaces/mentions",e,{timeoutMs:ut()});if(t.error)throw new pt("API_CLIENTS_ERROR",{message:"Failed to list at mention spaces",cause:t.error});return t.data},oQt=async({collectionUUID:e,reason:t})=>{const n=await me.POST("/rest/spaces/org/pins",t,{body:{collection_uuid:e},timeoutMs:ut(),numRetries:0}),r=n.data;if(!n.response.ok||!r)throw new Error("Failed to create org pinned space");return r},lQt=async({query:e,reason:t})=>{const{data:n,error:r}=await me.GET("/rest/spaces/org/pins",t,{params:{query:e},timeoutMs:ut()});if(r)throw new pt("API_CLIENTS_ERROR",{message:"Failed to list org pinned spaces",cause:r});return n},cQt=async({spaceUuid:e,reason:t})=>{const n=await me.GET("/rest/spaces/{space_uuid}/subscription",t,{params:{path:{space_uuid:e}},timeoutMs:ut(),numRetries:1}),r=n.data;if(!n.response.ok||!r)throw new Error("Failed to get space subscription status");return r.subscribed},Yct=async({reason:e})=>{const t=await me.GET("/rest/collections/list_space_templates",e,{timeoutMs:ut(),numRetries:1});if(t.error)throw new pt("API_CLIENTS_ERROR",{message:"Failed to list space templates",cause:t.error});return t.data},Kct=async({slugOrUUID:e,headers:t,reason:n})=>{const{data:r,error:s}=await me.GET("/rest/article/{article_uuid_or_slug}",n,{params:{path:{article_uuid_or_slug:e}},headers:t,timeoutMs:ut({productionMs:3e3}),numRetries:1});if(s)throw new pt("API_CLIENTS_ERROR",{cause:s});if(r.status!=="success")throw new pt("API_CLIENTS_ERROR",{cause:r});return r.entries},uQt=async({articleUUID:e,reason:t})=>{const{data:n,error:r}=await me.GET("/rest/page/get_related_pages",t,{params:{query:{context_uuid:e}},numRetries:1});if(r)throw new pt("API_CLIENTS_ERROR",{cause:r});if(n.status!=="success")throw new pt("API_CLIENTS_ERROR",{cause:n});return n.related_pages},LX=e=>e.length>0&&e[0].article_info?{title:e[0].article_info.title||"",suggested_sections:e[0].article_info.suggested_sections||[],audience:e[0].article_info.audience||"anyone",read_time:e[0].article_info.read_time,emphasize_sources:e[0].article_info.emphasize_sources??!1,num_sections:e.length,should_index:e[0].should_index??!1}:null,Qct={article:[],heroSection:void 0,isLoading:!1,isPublished:!1,isOrgInternal:!1,inFlight:!1,inFlightLatest:!1,currentlyStreamingSection:void 0,socialStats:{forkCount:0,likeCount:0,viewCount:0,userLikes:!1},threadMetadata:{rwToken:void 0,contextUUID:void 0,frontendContextUUID:void 0,title:void 0,first_query:void 0,focus:void 0,author_id:void 0,author_username:void 0,author_image:void 0,parent_info:void 0,mode:void 0,personalized:!1,collection:void 0,thread_access:0,thread_url_slug:void 0,updated_datetime:void 0,expiry_time:void 0,privacy_state:iy.NONE},articleMetadata:{title:"",suggested_sections:[],audience:"anyone",read_time:0,emphasize_sources:!1,num_sections:0,should_index:!1},articleMedia:[],articleWebResults:[],relatedPages:[],articleLocalState:{isEditModeEnabled:!1,setEditModeEnabled:()=>{},isCreating:!1,setIsCreating:()=>{},isTitleVisible:!0,setTitleVisible:()=>{},clickedImage:null,setClickedImage:()=>{},clickedImageIndex:0,isRewritingSection:!1,setRewritingSection:()=>{}},refetch:()=>{}},Lme=f.createContext(Qct),Xct=L.memo(({relatedPages:e=Fe,children:t,slug:n})=>{const r="article-results-provider",[s,a]=f.useState(!1),[i,l]=f.useState(!1),[c,u]=f.useState(null),[d,h]=f.useState(!0),[m,g]=f.useState(!1),{isEnterprise:v}=Bn({reason:r}),x=Vt(),w=wn()?.get("newFrontendContextUUID"),[C,S]=f.useState(x.getQueryData(nX(n||"")));f.useEffect(()=>{if(w){S(w);return}const K=x.getQueryData(nX(n||""));S(K)},[w,x,n]);const{data:k,isLoading:E}=Ft({enabled:!!n&&n!=="new",queryKey:$D(C||""),queryFn:()=>Kct({slugOrUUID:n,reason:r}),refetchOnMount:!0,placeholderData:ax}),T=f.useMemo(()=>{if(k)return{inFlight:k.some(R5),inFlightLatest:k.length>0&&R5(k[k.length-1])}},[k]),j=T?.inFlight??!1,N=T?.inFlightLatest??!1,R=f.useMemo(()=>{if(k)return Lct(k)},[k]),O=f.useMemo(()=>{if(!k||k.length===0)return null;const K=k[0];if(R5(K))return null;const ee=K.social_info;return qA(ee||yme)},[k]),I=f.useMemo(()=>!k||k.length===0?A5():A5(k[0]),[k]),B=f.useMemo(()=>k?LX(k):null,[k]),D=f.useMemo(()=>{const K=[];return k?.forEach(ee=>{if(ee.article_info.layout==="media-only"){const ne=(ee.article_info.user_selected_media_items??[])?.filter(te=>te.medium==="image");K.push(...ne)}else{const oe=ee?.media_items??[],ne=ee?.featured_images??[];ee.article_info.layout!=="text"&&(ne.length>0&&ne[0].medium==="image"?K.push(ne[0]):oe.length>0&&oe[0].medium==="image"&&K.push(oe[0]))}}),K},[k]),z=f.useMemo(()=>{if(!c)return 0;const K=D.findIndex(ee=>ee?.image===c?.image);return K>-1?K:0},[c,D]),V=f.useMemo(()=>{const K=new Map;return!k||k.length===0?[]:(k?.forEach(ee=>{const oe=An.parseAskTextField(ee);oe?.web_results&&oe.web_results.forEach(ne=>{K.has(ne.url)?K.get(ne.url).count+=1:K.set(ne.url,{...ne,count:1})})}),Array.from(K.values()).sort((ee,oe)=>oe.count-ee.count).map(ee=>({...ee,count:void 0})))},[k]),U={isEditModeEnabled:s,setEditModeEnabled:a,isTitleVisible:d,setTitleVisible:h,isCreating:i,setIsCreating:l,clickedImage:c,setClickedImage:u,clickedImageIndex:z,isRewritingSection:m,setRewritingSection:g},H=I??A5(),q=v&&!!H.collection&&H.thread_access===At.COLLECTION_READ,$=!!v&&H.thread_access===At.ORG_READ,G=q||$||H.thread_access===At.PUBLIC_READ;return o.jsx(Lme.Provider,{value:{article:k??[],isLoading:E,heroSection:k?.[0],lastSection:k?.[k.length-1],socialStats:O,isPublished:G,isOrgInternal:$,inFlight:j,inFlightLatest:N,currentlyStreamingSection:R,threadMetadata:H,articleMetadata:B??LX([]),articleLocalState:U,articleMedia:D,articleWebResults:V,relatedPages:e},children:t})});Xct.displayName="ArticleResultsProvider";const Ome=()=>{const e=f.useContext(Lme);if(!e)throw new Error("useArticleResults must be used within ArticleResultsContext");return e},YA=10,OX=["invited","private","shared","saved","organization"];function wp(e){return["spaces","list",e]}function _p(){return["spaces","list","all"]}const Zct=({reason:e})=>{const t=Vt(),{data:n,isLoading:r}=Ft({queryKey:_p(),queryFn:()=>Rme({params:{offset:0,limit:YA,category:void 0},reason:e})});return f.useEffect(()=>{n&&(n.private_spaces&&t.setQueryData(wp("private"),s=>({...s,pages:[n.private_spaces||[]],pageParams:[0]})),n.shared_spaces&&t.setQueryData(wp("shared"),s=>({...s,pages:[n.shared_spaces||[]],pageParams:[0]})),n.saved_spaces&&t.setQueryData(wp("saved"),s=>({...s,pages:[n.saved_spaces||[]],pageParams:[0]})),n.organization_spaces&&t.setQueryData(wp("organization"),s=>({...s,pages:[n.organization_spaces||[]],pageParams:[0]})),n.invited_spaces&&t.setQueryData(wp("invited"),s=>({...s,pages:[n.invited_spaces||[]],pageParams:[0]})))},[n,t]),f.useMemo(()=>({data:n,isLoading:r}),[n,r])},Jct=({category:e,reason:t})=>Zd({queryKey:wp(e),queryFn:async({pageParam:n})=>{const r=await Rme({params:{offset:n,limit:YA,category:e},reason:t});switch(e){case"private":return r.private_spaces;case"shared":return r.shared_spaces;case"saved":return r.saved_spaces;case"organization":return r.organization_spaces;case"invited":return r.invited_spaces;default:throw new Error("Invalid category")}},enabled:!1,getNextPageParam:(n,r,s)=>(s??0)+YA,initialPageParam:0}),bF={searchTerm:"",updateUserInput:e=>{}},Pme=f.createContext(bF),dQt=({children:e})=>{const[t,n]=f.useState(bF),r=a=>{n(i=>({...i,...a}))},s=f.useMemo(()=>({...t,updateUserInput:r}),[t.searchTerm]);return o.jsx(Pme.Provider,{value:s,children:e})},wF=()=>{const e=f.useContext(Pme);return e||bF},Cp="recentCollections",Ime=({reason:e})=>{const t=Fa({reason:e}),{inFlightLatest:n}=un(),s=on()?.user?.email,{data:a,refetch:i}=Ft({queryKey:[Cp,s],queryFn:async()=>s?await Jlt({reason:e}):[],enabled:!t&&!!s,refetchOnMount:!1,refetchOnWindowFocus:!1,initialData:null});return f.useEffect(()=>{n||i({cancelRefetch:!1})},[n,i]),f.useMemo(()=>!s||t?{data:[]}:{data:a},[a,s,t])},fQt=(e,t)=>e&&e[0]?.has_next_page?t.length+1:void 0,eut=(e,t)=>e.getQueryData(["results"])?.find(r=>r.frontend_context_uuid===t)?.collection_info,tut=(e,t)=>e.getQueryData($D(t))?.find(r=>r.frontend_context_uuid===t)?.collection_info,nut=(e,t,n)=>{e.setQueryData($D(t),r=>r&&r.map(n))},rut=[At.OWNER_ONLY,At.PRIVATE_READ,At.COLLECTION_READ],PX=(e,t,n,r,s)=>{const{entryUUID:a,frontendContextUUID:i,newCollectionUUID:l,newCollectionTitle:c,newCollectionEmoji:u,newCollectionSlug:d,newCollectionAccess:h,newCollectionUserPermission:m}=t,g={collection_info:{uuid:l,title:c,emoji:u,slug:d,access:h,user_permission:m},bookmark_state:"BOOKMARKED"};i&&(s(v=>v?v.map(x=>x.frontend_context_uuid===i?{...x,...g}:x):[]),e.setQueryData([r,{frontend_context_uuid:i}],v=>v?v.map(x=>x.frontend_context_uuid===i?{...x,...g}:x):[])),e.setQueryData(n,v=>{v=v||{pages:[],pageParams:[]};const x=v.pages.map(b=>b.map(w=>w.uuid===a?{...w,collection:{...w.collection,...g.collection_info}}:w));return{...v,pages:x}})},Lg=({reason:e})=>{const{locale:t}=ae(),{searchTerm:n}=wF(),r=Vt(),{isEnterprise:s}=Bn({reason:e}),{threadMetadata:a}=Ome(),i=mo(),l=ln();let c="results";const u=[Ph,{search_term:n??""}],d=[Ph,{search_term:n??""}];let h=u,m=zat,g=eut;const v=fF();let x=f.useCallback((D,z,V)=>{v(U=>U&&U.map(V))},[v]);(l?.startsWith("/page")||l?.startsWith("/discover"))&&(c="articleResults",h=d,m=Hat,g=tut,x=nut);const b=f.useCallback(D=>{const z=!i&&!a?.rwToken;!s||z||v(V=>{if(V)return V.map(U=>{let H=!1,q=At.PRIVATE_READ;return D==="add"?(H=rut.includes(U.thread_access??null),q=An.isArticleMode(U)?At.PRIVATE_READ:At.COLLECTION_READ):(H=U.thread_access!==At.COLLECTION_READ,q=At.PRIVATE_READ),{...U,thread_access:H?U.thread_access:q}})})},[i,a?.rwToken,s,v]),{mutate:w}=Kt({mutationFn:async({title:D,description:z,emoji:V,instructions:U,accessLevel:H,existingCollection:q,enableWebByDefault:$,closeModal:G})=>(G(),Cct({collectionUuid:q.uuid,changes:{title:D,description:z,emoji:V,instructions:U,accessLevel:H,enableWebByDefault:$},reason:e})),onMutate:async D=>{const U=["get_collection",{collection_slug:D.existingCollection.slug.slice(-22)}];await r.cancelQueries({queryKey:U});const H=r.getQueryData(U);return r.setQueryData(U,q=>({...q,title:D.title,description:D.description,emoji:D.emoji,instructions:D.instructions,access:D.accessLevel,enable_web_by_default:D.enableWebByDefault})),{previousCollection:H}},onSettled:(D,z,V,U)=>{const q=["get_collection",{collection_slug:V.existingCollection.slug.slice(-22)}];z?r.setQueryData(q,U?.previousCollection):(r.setQueryData(q,$=>({...$,...D})),r.setQueryData(vn,$=>$?.pages?{...$,pages:$.pages.map(G=>G.map(K=>K.uuid===V.existingCollection.uuid?{...K,...D}:K))}:$),r.invalidateQueries({queryKey:_p()}),r.invalidateQueries({queryKey:Wv()}))}}),{mutate:C}=Kt({mutationFn:async({accessLevel:D,collectionUuid:z})=>{await nct({params:{collection_uuid:z,updated_access:D},reason:e})},onMutate:async D=>{const U=["get_collection",{collection_slug:D.collectionSlug.slice(-22)}];await r.cancelQueries({queryKey:U});const H=r.getQueryData(U);return r.setQueryData(U,q=>({...q,access:D.accessLevel})),{previousCollection:H}},onSettled:async(D,z,V,U)=>{if(z)r.setQueryData(vn,U?.previousCollection);else{const H=V.collectionSlug.slice(-22);await r.invalidateQueries({queryKey:["org_pinned_spaces_query_key"]}),await r.invalidateQueries({queryKey:["get_collection",{collection_slug:H}]}),r.invalidateQueries({queryKey:_p()})}}}),{mutate:S}=Kt({mutationFn:async({entryUUID:D,title:z,description:V,emoji:U,instructions:H,accessLevel:q,callback:$,frontendContextUUID:G})=>{const K=await jX({params:{title:z,description:V,emoji:U,instructions:H,accessLevel:q},reason:e});return await d4({params:{new_collection_uuid:K.uuid,entry_uuid:D,return_collection:!1,return_thread:!1},reason:e}),$(K),b("add"),{title:z,description:V,emoji:U,instructions:H,accessLevel:q,newCollection:K}},onMutate:async({entryUUID:D,frontendContextUUID:z,...V})=>{await r.cancelQueries({queryKey:h}),await r.cancelQueries({queryKey:vn});const U=r.getQueryData(h),H=r.getQueryData(vn);r.setQueryData(vn,$=>{$=$||{pages:[],pageParams:[]};const G=($&&$.pages&&$.pages[0])??[],ee={...G?.length>0?G[0]:[],...V,uuid:ad,thread_count:1};return{...$,pages:[[ee,...G]]}}),r.setQueryData(h,$=>{$=$||{pages:[],pageParams:[]};const G=$.pages.map(K=>K.map(ee=>ee.uuid===D?{...ee,collection:{...ee.collection,description:V.description,uuid:ad,title:V.title,emoji:V.emoji}}:ee));return{...$,pages:G}}),r.setQueryData(m(D),$=>{const G=$?.collection_info??{};return{...$,collection_info:{...G,uuid:ad,description:V.description,title:V.title,emoji:V.emoji}}});let q=null;return z&&(q=g(r,z)??null,x(r,z,$=>$.frontend_context_uuid===z?{...$,collection_info:{...$.collection_info,uuid:ad,title:V.title,emoji:V.emoji},bookmark_state:"BOOKMARKED"}:$)),{previousThreads:U,previousCollections:H,previousCollectionInfo:q}},onSettled:(D,z,V,U)=>{z?(r.setQueryData(h,U.previousThreads),r.setQueryData(vn,U.previousCollections),V.frontendContextUUID&&x(r,V.frontendContextUUID,H=>H.frontend_context_uuid===V.frontendContextUUID?{...H,collection_info:U?.previousCollectionInfo??null,bookmark_state:U?.previousCollectionInfo?"BOOKMARKED":"NOT_BOOKMARKED"}:H)):(r.invalidateQueries({queryKey:h}),r.invalidateQueries({queryKey:vn}),r.invalidateQueries({queryKey:[Cp]}),r.invalidateQueries({queryKey:Wv()}),r.invalidateQueries({queryKey:_p()}),V.frontendContextUUID&&x(r,V.frontendContextUUID,H=>H.frontend_context_uuid===V.frontendContextUUID?{...H,collection_info:{...H.collection_info,uuid:D?.newCollection?.uuid,title:D?.newCollection?.title,emoji:D?.newCollection?.emoji,slug:D?.newCollection?.slug},bookmark_state:"BOOKMARKED"}:H))}}),{mutate:k}=Kt({mutationFn:async({title:D,description:z,emoji:V,instructions:U,accessLevel:H,template_id:q,callback:$})=>{const G=await jX({params:{title:D,description:z,emoji:V,instructions:U,accessLevel:H,template_id:q},reason:e});return $(G),{collection:G}},onMutate:async({...D})=>{r.setQueryData(vn,z=>{z=z||{pages:[],pageParams:[]};const V=z.pages[0]||[],U={...V.length>0?V[0]:{},...D,uuid:ad,thread_count:0};return{...z,pages:[[U,...V]]}})},onSuccess:async()=>{r.refetchQueries({queryKey:vn}),r.invalidateQueries({queryKey:[Cp]}),r.invalidateQueries({queryKey:Wv()}),r.invalidateQueries({queryKey:_p()})}}),{mutate:E}=Kt({mutationFn:async({entryUUID:D})=>{const z=await d4({params:{entry_uuid:D,upsert_type:"bookmark",return_collection:!0,return_thread:!1},reason:e});return b("add"),z},onMutate:async({entryUUID:D,topic:z})=>{const V=r.getQueryData(Ic(z,t));let U;for(const H of V?.pages??[])for(const q of H.threads)if(q.uuid===D){U=q.collection;break}return r.setQueryData(Ic(z,t),H=>{if(H)return{pageParams:H.pageParams,pages:H.pages.map(q=>({...q,threads:q.threads.map($=>({...$,collection:$.uuid===D?{uuid:ad,title:"Bookmarks",emoji:"1f516",slug:ad}:$.collection}))}))}}),{previousCollection:U}},onSettled:(D,z,V,U)=>{const{entryUUID:H,topic:q}=V;if(z||!D)U?.previousCollection&&r.setQueryData(Ic(q,t),$=>{if($)return{pageParams:$.pageParams,pages:$.pages.map(G=>({...G,threads:G.threads.map(K=>({...K,collection:K.uuid===H?U.previousCollection:K.collection}))}))}});else{const{updated_collection:$}=D,{uuid:G,title:K,emoji:ee,slug:oe}=$;r.setQueryData(Ic(q,t),ne=>{if(ne)return{pageParams:ne.pageParams,pages:ne.pages.map(te=>({...te,threads:te.threads.map(re=>({...re,collection:re.uuid===H?{uuid:G,title:K,emoji:ee,slug:oe}:re.collection}))}))}})}}}),{mutate:T}=Kt({mutationFn:async({entryUUID:D,topic:z,oldCollectionUUID:V})=>(await EX({collectionUUID:V,entryUUID:D,reason:e}),{topic:z}),onMutate:async({entryUUID:D,topic:z})=>{const V=r.getQueryData(Ic(z,t));let U;for(const H of V?.pages??[])for(const q of H.threads)if(q.uuid===D){U=q.collection;break}return r.setQueryData(Ic(z,t),H=>{if(H)return{pageParams:H.pageParams,pages:H.pages.map(q=>({...q,threads:q.threads.map($=>({...$,collection:$.uuid===D?void 0:$.collection}))}))}}),{previousCollection:U}},onSettled:(D,z,V,U)=>{const{entryUUID:H,topic:q}=V;z&&U?.previousCollection&&r.setQueryData(Ic(q,t),$=>{if($)return{pageParams:$.pageParams,pages:$.pages.map(G=>({...G,threads:G.threads.map(K=>({...K,collection:K.uuid===H?U.previousCollection:K.collection}))}))}})}}),{mutate:j}=Kt({mutationFn:async({entryUUID:D,frontendContextUUID:z})=>{const V=await d4({params:{entry_uuid:D,upsert_type:"bookmark",return_collection:!0,return_thread:!1},reason:e});return b("add"),{response:V,entryUUID:D,frontendContextUUID:z}},onMutate:async({frontendContextUUID:D})=>{await r.cancelQueries({queryKey:h}),await r.cancelQueries({queryKey:vn}),v(z=>z&&z.map(V=>V.frontend_context_uuid===D?{...V,bookmark_state:"BOOKMARKED",collection_info:{uuid:null,title:"Bookmarks",emoji:"1f516",slug:null,access:null,user_permission:ma.OWNER_DEFAULT_BOOKMARKS}}:V))},onSettled:async(D,z)=>{if(!D||!D.response?.updated_collection)return;const V=D.response.updated_collection,U=D.entryUUID,H=D.frontendContextUUID,{uuid:q,title:$,emoji:G=null,slug:K,access:ee,user_permission:oe}=V;await r.cancelQueries({queryKey:h}),await r.cancelQueries({queryKey:vn}),PX(r,{entryUUID:U,frontendContextUUID:H,newCollectionUUID:q,newCollectionTitle:$,newCollectionEmoji:G,newCollectionSlug:K,newCollectionAccess:ee,newCollectionUserPermission:oe},h,c,v),r.invalidateQueries({queryKey:vn}),r.invalidateQueries({queryKey:h}),r.invalidateQueries({queryKey:["results"]}),r.invalidateQueries({queryKey:[c,{frontend_context_uuid:H}]})}}),{mutate:N}=Kt({mutationFn:async({entryUUID:D,currentCollectionUUID:z,newCollectionTitle:V,newCollectionUUID:U,newCollectionSlug:H,newCollectionAccess:q,closeModal:$,callback:G})=>{if(U!==ad)return $(),await d4({params:{new_collection_uuid:U,entry_uuid:D,return_collection:!1,return_thread:!1},reason:e}),G?.(),b("add"),{entryUUID:D,currentCollectionUUID:z,newCollectionTitle:V,newCollectionUUID:U,newCollectionSlug:H,newCollectionAccess:q,closeModal:$}},onMutate:async({entryUUID:D,frontendContextUUID:z,currentCollectionUUID:V,newCollectionUUID:U,newCollectionTitle:H,newCollectionEmoji:q,newCollectionSlug:$,newCollectionAccess:G,newCollectionUserPermission:K})=>{await r.cancelQueries({queryKey:h}),await r.cancelQueries({queryKey:vn});const ee=r.getQueryData(h),oe=r.getQueryData(vn);return PX(r,{entryUUID:D,frontendContextUUID:z,newCollectionUUID:U,newCollectionTitle:H,newCollectionEmoji:q,newCollectionSlug:$,newCollectionAccess:G,newCollectionUserPermission:K},h,c,v),r.setQueryData(vn,ne=>{ne=ne||{pages:[],pageParams:[]};const te=ne.pages.map(re=>re.map(X=>X.uuid===V?{...X,thread_count:X.thread_count-1}:X.uuid===U?{...X,thread_count:X.thread_count+1}:X));return{...ne,pages:te}}),{previousThread:ee,previousCollections:oe}},onSettled:(D,z,V,U)=>{if(z)r.setQueryData(h,U.previousThread),r.setQueryData(vn,U.previousCollections);else{const q={collection_slug:V.existingCollectionSlug?.slice(-22)},$={collection_slug:V.newCollectionSlug.slice(-22)},G=[Yc,q],K=[Yc,$];r.invalidateQueries({queryKey:["get_collection",$]}),r.invalidateQueries({queryKey:G}),r.refetchQueries({queryKey:K}),r.refetchQueries({queryKey:m(V.entryUUID)}),r.invalidateQueries({queryKey:vn}),r.invalidateQueries({queryKey:h}),r.invalidateQueries({queryKey:["results"]}),r.invalidateQueries({queryKey:[c,{frontend_context_uuid:V.frontendContextUUID}]}),r.invalidateQueries({queryKey:[Cp]})}}}),{mutate:R}=Kt({mutationFn:async({entryUUID:D,oldCollectionUUID:z,callback:V})=>{if(z)return await EX({collectionUUID:z,entryUUID:D,reason:e}),V?.(),b("remove"),{entryUUID:D,oldCollectionUUID:z}},onMutate:async({entryUUID:D,oldCollectionUUID:z,frontendContextUUID:V,collectionSlug:U})=>{await r.cancelQueries({queryKey:h}),await r.cancelQueries({queryKey:vn});const H=r.getQueryData(h),q=r.getQueryData(vn);return V&&(v($=>$?$.map(G=>G.frontend_context_uuid===V?{...G,collection_info:void 0,bookmark_state:"NOT_BOOKMARKED"}:G):[]),r.setQueryData([c,{frontend_context_uuid:V}],$=>$?$.map(G=>G.frontend_context_uuid===V?{...G,collection_info:null,bookmark_state:"NOT_BOOKMARKED"}:G):[])),r.setQueryData(h,$=>{$=$||{pages:[],pageParams:[]};const G=$.pages.map(K=>K.map(ee=>D===ee.uuid&&ee.collection?.uuid===z?{...ee,collection:null}:ee));return{...$,pages:G}}),r.setQueryData(vn,$=>{$=$||{pages:[],pageParams:[]};const G=$.pages.map(K=>K.map(ee=>ee.uuid===z?{...ee,thread_count:ee.thread_count-1}:ee));return r.setQueryData(m(D),K=>K&&Array.isArray(K.pages)?{...K,pages:K.pages.map(ee=>ee.map(oe=>oe.uuid===D?{...oe,collection_info:null}:oe))}:{...K,collection_info:null}),{...$,pages:G}}),U&&r.setQueryData([Yc,{collection_slug:U.slice(-22)}],($={pages:[],pageParams:[]})=>({...$,pages:$.pages.map(G=>G.filter(K=>K.uuid!==D))})),{previousThreads:H,previousCollections:q}},onSettled:(D,z,V,U)=>{if(z)r.setQueryData(h,U.previousThreads),r.setQueryData(vn,U.previousCollections);else if(r.invalidateQueries({queryKey:m(V.entryUUID)}),r.invalidateQueries({queryKey:h}),r.invalidateQueries({queryKey:vn}),r.invalidateQueries({queryKey:["results"]}),r.invalidateQueries({queryKey:[Cp]}),r.invalidateQueries({queryKey:[c,{frontend_context_uuid:V.frontendContextUUID}]}),V.collectionSlug){const H={collection_slug:V.collectionSlug.slice(-22)},q=[Yc,H];r.invalidateQueries({queryKey:q}),r.invalidateQueries({queryKey:["get_collection",H]})}}}),{mutate:O}=Kt({mutationFn:async D=>{await Sct({collectionUuid:D,reason:e})},onSuccess:(D,z)=>{r.invalidateQueries({queryKey:vn}),r.invalidateQueries({queryKey:[Cp]}),r.invalidateQueries({queryKey:Wv()}),r.invalidateQueries({queryKey:_p()}),r.setQueryData(vn,V=>!V||!V.pages?V:{...V,pages:V.pages.map(U=>U.filter(H=>H.uuid!==z))})}}),{mutate:I}=Kt({mutationFn:async({collectionUuid:D,link:z,reason:V})=>{const U=await or({urlPath:"/rest/collections/focused_web_config/links",timeoutMs:ut(),method:"POST",body:JSON.stringify({collection_uuid:D,link:z}),headers:{"content-type":"application/json"},numRetries:1,reason:V});if(!U.ok){const H=await U.json();throw new Error(H.detail||"Failed to add link")}return U},onSettled:(D,z,V,U)=>{r.invalidateQueries({queryKey:["get_collection",{collection_slug:V.collectionSlug.slice(-22)}]})}}),{mutate:B}=Kt({mutationFn:async({collectionUuid:D,link:z,reason:V})=>{await or({urlPath:"/rest/collections/focused_web_config/links",timeoutMs:ut(),method:"DELETE",body:JSON.stringify({collection_uuid:D,link:z}),headers:{"content-type":"application/json"},numRetries:1,reason:V})},onSettled:(D,z,V,U)=>{r.invalidateQueries({queryKey:["get_collection",{collection_slug:V.collectionSlug.slice(-22)}]})}});return f.useMemo(()=>({updateCollectionInfo:w,updateCollectionAccessLevel:C,createCollectionForThread:S,createCollection:k,bookmarkFromFeed:E,removeBookmarkFromFeed:T,firstTimeBookmark:j,swapThreadCollection:N,removeThreadFromCollection:R,deleteCollection:O,addLink:I,removeLink:B}),[I,E,S,k,O,j,T,B,R,N,C,w])},sut=({reason:e})=>Ft({queryKey:["list_space_templates"],queryFn:()=>Yct({reason:e})}),Dme=({collectionSlug:e,reason:t})=>{const{data:n,isLoading:r}=sut({reason:t});return f.useMemo(()=>!n?.templates||!e?{templateSpace:void 0,isLoading:r}:{templateSpace:n.templates.find(s=>s.collection.slug===e),isLoading:r},[e,n?.templates,r])},hQt=({template:e,reason:t})=>{const n=Qt(),{$t:r}=ae(),{trackEvent:s}=Ye(),{openToast:a}=Sr(),{createCollection:i,addLink:l}=Lg({reason:t}),{collection:c,tags:u}=e,d=f.useCallback(()=>{c&&(s("space template copied",{collectionSlug:c.slug??"",templateTitle:c?.title??"",tags:Array.from(u)}),i({...c,title:c.title??"",description:c.description??"",instructions:c.instructions??"",emoji:c.emoji??"",accessLevel:At.PRIVATE_READ,callback:async h=>{c.focused_web_config?.link_configs&&await Promise.all(c.focused_web_config.link_configs.map(m=>l({collectionUuid:h.uuid,link:m.link??"",collectionSlug:h.slug,reason:t}))),n.push(`/spaces/${h.slug}`),a(r({defaultMessage:"Space is ready to customize",id:"AWqOucIdz5"}),"success",3)}}))},[n,c,u,i,a,r,s,l,t]);return f.useMemo(()=>({handleCopyTemplate:d}),[d])},_F=(e,t,n)=>{f.useEffect(()=>{const r=new IntersectionObserver(a=>{a.forEach(i=>{i.isIntersecting&&t()})},n),s=e.current;return s&&r.observe(s),()=>{s&&r.unobserve(s)}},[e,t,n])},Dh=br({path:"M12.2401 8.96004C10.6561 8.96004 9.36011 7.66404 9.36011 6.08004C9.36011 4.49604 10.6561 3.20004 12.2401 3.20004C13.8241 3.20004 15.1201 4.49604 15.1201 6.08004C15.1201 7.66404 13.8241 8.96004 12.2401 8.96004ZM12.2401 5.12004C11.7121 5.12004 11.2801 5.55204 11.2801 6.08004C11.2801 6.60804 11.7121 7.04004 12.2401 7.04004C12.7681 7.04004 13.2001 6.60804 13.2001 6.08004C13.2001 5.55204 12.7681 5.12004 12.2401 5.12004Z M18 14.7201C16.416 14.7201 15.12 13.4241 15.12 11.8401C15.12 10.2561 16.416 8.96011 18 8.96011C19.584 8.96011 20.88 10.2561 20.88 11.8401C20.88 13.4241 19.584 14.7201 18 14.7201ZM18 10.8801C17.472 10.8801 17.04 11.3121 17.04 11.8401C17.04 12.3681 17.472 12.8001 18 12.8001C18.528 12.8001 18.96 12.3681 18.96 11.8401C18.96 11.3121 18.528 10.8801 18 10.8801Z M6.48004 14.7201C4.89604 14.7201 3.60004 13.4241 3.60004 11.8401C3.60004 10.2561 4.89604 8.96011 6.48004 8.96011C8.06404 8.96011 9.36004 10.2561 9.36004 11.8401C9.36004 13.4241 8.06404 14.7201 6.48004 14.7201ZM6.48004 10.8801C5.95204 10.8801 5.52004 11.3121 5.52004 11.8401C5.52004 12.3681 5.95204 12.8001 6.48004 12.8001C7.00804 12.8001 7.44004 12.3681 7.44004 11.8401C7.44004 11.3121 7.00804 10.8801 6.48004 10.8801Z M12.2401 20.48C10.6561 20.48 9.36011 19.184 9.36011 17.6C9.36011 16.016 10.6561 14.72 12.2401 14.72C13.8241 14.72 15.1201 16.016 15.1201 17.6C15.1201 19.184 13.8241 20.48 12.2401 20.48ZM12.2401 16.64C11.7121 16.64 11.2801 17.072 11.2801 17.6C11.2801 18.128 11.7121 18.56 12.2401 18.56C12.7681 18.56 13.2001 18.128 13.2001 17.6C13.2001 17.072 12.7681 16.64 12.2401 16.64Z",name:"IconPerplexitySourcesActive",variant:"filled"}),zw=(e,t)=>{const n=t?.isOverlapping??!1,r=t?.stackDirection??"left";if(!e.length)return o.jsx(Ne,{icon:Dh,size:"sm"});const s=t?.maxVisuals??3;if(e.length>s)return o.jsxs("div",{className:"gap-x-xs flex items-center px-1",children:[o.jsx(Ne,{icon:Dh}),o.jsx("span",{className:"text-xs",children:o.jsx(Ve,{id:"Pc503bLReE",defaultMessage:"{count, plural, one {#source} other {# sources}}",values:{count:e.length}})})]});const a=e.map((i,l)=>{const c=W("relative flex items-center justify-center rounded-full",{"size-4":t?.size==="sm","size-5":t?.size==="md","size-6":t?.size==="lg","size-7":t?.size==="xl"}),u=W(c,"bg-background-300 ring-background dark:ring-offset first:ml-0",{"-ml-0.25 ring-[4px]":t?.size==="sm","-ml-1 ring-1":t?.size==="md","-ml-1 ring-[2px]":t?.size==="lg"||t?.size==="xl"});return o.jsx("div",{className:n?u:c,style:{zIndex:r==="left"?e.length-l-1:e.length+l},children:i},l)});return o.jsxs("div",{className:t?.containerClass??"my-xs flex items-center",children:[o.jsx("div",{className:W("flex items-center",{"gap-2":!n}),children:a.slice(0,s)}),t?.rightText&&o.jsx("div",{className:"ml-2",children:t.rightText})]})},CF=e=>{switch(e){case"GOOGLE_DRIVE":return b1;case"ONEDRIVE":return w1;case"SHAREPOINT":return _1;case"DROPBOX":return C1;case"BOX":return A_;case"WILEY":return JP;case"GCAL":return J2;default:return""}},aut=br({path:"M1.88 6.063c-.496 0-.88.385-.88.824v6.92a4.208 4.208 0 0 0 4.229 4.12 4.323 4.323 0 0 0 3.79-2.253c.714 1.318 2.142 2.252 3.735 2.252 2.362 0 4.284-1.867 4.284-4.228.055-2.253-1.867-4.12-4.229-4.12-1.593 0-3.02.878-3.734 2.197-.715-1.319-2.143-2.198-3.79-2.198-.99 0-1.869.33-2.583.824V6.887a.843.843 0 0 0-.823-.824Zm15.255 3.425a.871.871 0 0 0-.645.145c-.33.275-.44.824-.165 1.208l2.197 2.857-2.196 2.855c-.275.385-.22.88.165 1.155.384.275.931.273 1.206-.112l1.87-2.416 1.92 2.472c.276.33.825.384 1.209.11.33-.275.385-.77.11-1.154l-2.143-2.855 2.144-2.803c.275-.384.273-.933-.111-1.208-.44-.275-.934-.22-1.209.165l-1.92 2.362-1.87-2.47a.919.919 0 0 0-.562-.31ZM5.23 11.225c1.428 0 2.582 1.155 2.582 2.528 0 1.428-1.154 2.526-2.582 2.526-1.429 0-2.582-1.098-2.582-2.526 0-1.373 1.153-2.528 2.582-2.528Zm7.58 0c1.429 0 2.582 1.155 2.582 2.528-.055 1.428-1.208 2.526-2.582 2.526-1.428 0-2.582-1.098-2.582-2.526 0-1.373 1.154-2.528 2.582-2.528Z",name:"IconBrandBox",variant:"filled"}),iut=br({path:"M16.145 4.2a.875.875 0 0 1 .816.057l4.5 2.79a.875.875 0 0 1 .003 1.485l-3.333 2.083 3.334 2.092a.876.876 0 0 1-.002 1.484l-4.088 2.545v.637a.876.876 0 0 1-.338.691l-.096.065-4.5 2.627a.877.877 0 0 1-.882 0l-4.5-2.627a.876.876 0 0 1-.434-.756v-.637l-4.088-2.545a.875.875 0 0 1-.002-1.484l3.316-2.081-3.315-2.071a.875.875 0 0 1 0-1.485l4.5-2.812.11-.058a.875.875 0 0 1 .818.058L12 6.78l4.036-2.522.11-.058Zm-7.77 12.536v.135L12 18.986l3.625-2.115v-.135L12 14.48l-3.625 2.257Zm-3.725-3.29 2.85 1.772 2.849-1.773L7.5 11.657l-2.85 1.788Zm9 0 2.85 1.772 2.849-1.773-2.849-1.788-2.85 1.788Zm-4.502-2.82L12 12.415l2.864-1.797-2.862-1.775-2.854 1.783ZM4.651 7.813 7.5 9.593l2.849-1.78L7.5 6.03 4.651 7.813Zm9.004-.003 2.843 1.762 2.847-1.779-2.843-1.763-2.847 1.78Z",name:"IconBrandDropbox",variant:"filled"});function mQt(e){if(e===0)return"0 bytes";const t=1024,n=["bytes","KB","MB","GB","TB"],r=Math.floor(Math.log(e)/Math.log(t));return Math.ceil(e/Math.pow(t,r))+" "+n[r]}const pQt=e=>{const t=e.file_metadata.file_type;return t==="FOLDER"||t==="DATABASE"||t==="WORKSPACE"||t==="PAGE"},gQt=e=>{const t=e.file_metadata.file_type;return t==="FOLDER"||t==="DATABASE"||t==="WORKSPACE"?d$e:nf},md=e=>{switch(e){case"GOOGLE_DRIVE":return k_;case"ONEDRIVE":return T_;case"SHAREPOINT":return N_;case"DROPBOX":return eI;case"BOX":return j_;case"GCAL":return E_;case"NOTION":return tI;case"OUTLOOK":return Kle;default:return null}},Hw=e=>{switch(e){case"crunchbase":return XP;case"factset":return KP;case"wiley":return M_;case"google_drive":return k_;case"onedrive":return T_;case"sharepoint":return N_;case"gcal":return E_;case"dropbox":return eI;case"box":return j_;case"gmail":return $ze;case"notion":return tI;case"outlook":return Kle;default:return null}},f4=e=>{switch(e){case"crunchbase":return ZP;case"factset":return QP;case"google_drive":return b1;case"onedrive":return w1;case"sharepoint":return _1;case"gcal":return J2;case"dropbox":return C1;case"box":return A_;case"gmail":return qze;case"notion":return nI;case"outlook":return Uj;default:return e}},out=e=>{switch(e){case"GOOGLE_DRIVE":return b1;case"ONEDRIVE":return w1;case"SHAREPOINT":return _1;case"DROPBOX":return C1;case"BOX":return A_;case"NOTION":return nI;default:return""}},vQt=(e,t)=>new Date(e+"Z").toLocaleString(t,{month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0,timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}),yQt=(e,t)=>{switch(e){case"RECEIVED":case"QUEUED":case"RATE_LIMITED":return t.formatMessage({id:"Cnm0QAkWnp",defaultMessage:"Queued"});case"SYNCING":return t.formatMessage({id:"eOnwqs6QFY",defaultMessage:"Syncing"});case"SYNC_ERROR":return t.formatMessage({id:"N1cqoEe4CZ",defaultMessage:"Sync error"});case"EVALUATING_RESYNC":case"READY":return t.formatMessage({id:"IZFEUgrg25",defaultMessage:"Ready"})}},lut=e=>e.url.includes("ppl-ai-file-upload.s3.amazonaws.com/web/direct-files")||e.url.includes("ppl-ai-sandbox-file-upload.s3.amazonaws.com/web/direct-files"),xQt=e=>{if(e.startsWith("/rest/connectors/wiley/"))return"WILEY";if(e.includes("drive.google.com")||e.includes("connectors/google-drive")||e.includes("docs.google.com"))return"GOOGLE_DRIVE";if(e.includes("onedrive.live.com")||e.includes("1drv.ms")||e.includes("connectors/onedrive"))return"ONEDRIVE";if(e.includes("my.sharepoint.com")||e.includes("connectors/sharepoint"))return"SHAREPOINT";if(e.includes("dropbox.com/preview")||e.includes("connectors/dropbox"))return"DROPBOX";if(e.includes("app.box.com/file")||e.includes("connectors/box"))return"BOX"},bQt=(e,t)=>{if(t==="WILEY")return CF(t);if(t||e.is_memory||e.is_conversation_history)return e.name},Fme=e=>e.isFile,Ume=e=>e.isDirectory,cut=async(e,t=_ze)=>{const n=[e],r=[];for(;n.length>0;){const s=n.pop();if(s){if(Fme(s)){const a=await new Promise(i=>{s.file(i)});if(r.push(a),r.length>t)return r}else if(Ume(s)){const a=s.createReader(),i=await new Promise(l=>a.readEntries(l));n.push(...i)}}}return r};var hk={},IX;function uut(){return IX||(IX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="user",r=448,s=512,a=[128100,62144],i="f007",l="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faUser=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(hk)),hk}var dut=uut(),mk={},DX;function fut(){return DX||(DX=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="user-secret",r=448,s=512,a=[128373],i="f21b",l="M224 16c-6.7 0-10.8-2.8-15.5-6.1C201.9 5.4 194 0 176 0c-30.5 0-52 43.7-66 89.4C62.7 98.1 32 112.2 32 128c0 14.3 25 27.1 64.6 35.9c-.4 4-.6 8-.6 12.1c0 17 3.3 33.2 9.3 48l-59.9 0C38 224 32 230 32 237.4c0 1.7 .3 3.4 1 5l38.8 96.9C28.2 371.8 0 423.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7c0-58.5-28.2-110.4-71.7-143L415 242.4c.6-1.6 1-3.3 1-5c0-7.4-6-13.4-13.4-13.4l-59.9 0c6-14.8 9.3-31 9.3-48c0-4.1-.2-8.1-.6-12.1C391 155.1 416 142.3 416 128c0-15.8-30.7-29.9-78-38.6C324 43.7 302.5 0 272 0c-18 0-25.9 5.4-32.5 9.9c-4.8 3.3-8.8 6.1-15.5 6.1zm56 208l-12.4 0c-16.5 0-31.1-10.6-36.3-26.2c-2.3-7-12.2-7-14.5 0c-5.2 15.6-19.9 26.2-36.3 26.2L168 224c-22.1 0-40-17.9-40-40l0-14.4c28.2 4.1 61 6.4 96 6.4s67.8-2.3 96-6.4l0 14.4c0 22.1-17.9 40-40 40zm-88 96l16 32L176 480 128 288l64 32zm128-32L272 480 240 352l16-32 64-32z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faUserSecret=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(mk)),mk}var hut=fut();const SF=L.memo(({width:e="w-14",fillColor:t="fill-max",svgClassName:n,...r})=>{const s=W("h-auto group",e);return o.jsx("div",{className:s,...r,children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 99 36",className:n,children:[o.jsx("path",{className:t,d:"M50.0858 22.3525C50.0858 23.9034 51.4144 24.8675 53.5527 24.8675C55.1684 24.8675 56.5468 24.3911 57.5393 23.4903C58.5991 22.5277 59.1595 21.1074 59.1595 19.3821V19.3262L53.1962 19.956C51.1311 20.147 50.0858 20.9534 50.0858 22.3525Z"}),o.jsx("path",{className:t,d:"M96.7015 8.60077C95.1033 5.76707 92.7331 3.49361 89.8477 2.02806C87.198 0.682565 84.1956 0 80.925 0H4.46551C1.9767 0.000755049 -0.00527674 2.02051 1.0554e-05 4.5084V36H80.925C83.8489 36 86.556 35.4503 88.9904 34.3736L78.7837 21.1444H78.5571L72.8105 28.5922H67.2136V27.4883L75.0795 17.6697L67.2136 7.851V6.74712H72.8105L78.5571 14.1949H78.7837L84.5302 6.74712H90.1264V7.851L82.2612 17.6697L93.3728 31.5407C94.6878 30.3568 95.8171 28.9675 96.7023 27.3977C98.2266 24.6946 99 21.5355 99 18.0102C99 14.4849 98.2266 11.3054 96.7015 8.60077ZM40.5936 28.593H35.122V14.6268C35.122 13.5886 34.8214 12.7392 34.2518 12.1699C33.6612 11.5794 32.8009 11.2804 31.6951 11.2804C30.0009 11.2804 27.1586 11.926 27.1586 16.2517V28.593H21.687V14.6268C21.687 13.5886 21.3863 12.7392 20.8168 12.1699C20.2262 11.5794 19.3658 11.2804 18.26 11.2804C16.5658 11.2804 13.7228 11.926 13.7228 16.2517V28.593H8.29124V7.35569H13.5649V9.06814C13.5649 9.20934 13.7402 9.27276 13.8308 9.16479C14.25 8.66721 14.7236 8.2693 15.2788 7.94236C16.3883 7.29 17.8182 6.96005 19.5275 6.96005C21.2368 6.96005 22.8419 7.38212 24.0602 8.21418C24.9538 8.82426 25.5248 9.54835 25.8828 10.1554C25.938 10.2498 26.0739 10.2543 26.1358 10.1645C27.5997 8.0375 29.88 6.9608 32.9232 6.9608C35.1363 6.9608 37.0239 7.60184 38.3812 8.81445C39.8277 10.1063 40.5928 11.9932 40.5928 14.2704L40.5936 28.593ZM64.5518 28.593H59.2781V26.5407C59.2781 26.4033 59.1074 26.3361 59.016 26.4388C57.5076 28.1316 55.3406 28.9894 52.5625 28.9894C47.7344 28.9894 44.6149 26.5083 44.6149 22.6696C44.6149 20.7261 45.3718 19.1699 46.8658 18.0449C48.1733 17.0596 49.9838 16.4503 52.249 16.2321L59.1603 15.5148V14.8647C59.1603 12.2658 57.806 11.0033 55.0203 11.0033C53.1093 11.0033 50.6885 11.6119 50.366 14.5105L50.3282 14.8458H45.1097C45.1097 14.8458 45.0863 14.4154 45.1746 13.8129C45.7978 9.61102 49.7542 6.91927 55.0989 6.91927C60.93 6.91927 64.5525 10.0852 64.5525 15.181L64.5518 28.593Z"})]})})});SF.displayName="Max";const sr=L.memo(({size:e="medium",user:t,showEdit:n,onChange:r,anon:s,altText:a,defaultIcon:i=dut.faUser,rounded:l=!0,showBackground:c=!0,showProBadge:u,showMaxBadge:d,className:h,proBadgeClassName:m,badgeProps:g})=>{let v="xs";e==="medium"?v="1x":e==="xlarge"&&(v="2x");const x=f.useCallback(()=>{const b=document.createElement("input");b.type="file",b.accept="image/*",b.onchange=w=>{const C=w.target.files?.[0];if(C){const S=new FileReader;S.onload=k=>{r&&r(k.target?.result)},S.readAsDataURL(C)}},b.click()},[r]);return o.jsx("div",{className:W("text-offset relative",h),children:o.jsxs(Q,{variant:c?"offset":"transparent",className:W("relative flex aspect-square shrink-0 items-center justify-center",{"rounded-full":l,"size-3":e==="tiny","size-4":e==="mini","size-5":e==="small","size-6":e==="base","size-8":e==="medium","size-10":e==="large","size-20":e==="xlarge","!ring-super border-offset border-2 ring-[1.5px]":u,"!ring-max border-offset border-2 ring-[1.5px]":d}),children:[g?.show&&o.jsx("div",{className:W("absolute right-0 top-0 h-3 w-3 -translate-y-1/4 translate-x-1/4 select-none rounded-full border-2",g?.className)}),t&&!s?o.jsx("img",{alt:a??"User avatar",className:W("size-full object-cover",{"rounded-full":l}),src:t}):o.jsx(F,{color:"light",children:o.jsx(jt,{size:v,icon:s?hut.faUserSecret:i,fixedWidth:!0})}),n&&e!=="small"&&o.jsx("div",{className:"absolute -bottom-1 -right-2",children:o.jsx(Le,{ariaLabel:"Edit avatar",variant:t?"common":"primary",size:e!=="xlarge"?"tiny":"small",pill:!0,icon:t?am:$r,onClick:x})}),u&&o.jsx("div",{className:W("absolute top-full -mt-[6px] w-[24px] rounded-r-full bg-current p-[1.5px]",{"opacity-0":e==="small"},{"w-lg -mt-[10px]":e==="xlarge"},m),children:o.jsx(Sx,{fillColor:"fill-super",width:"w-full",sizeVariant:"small"})}),d&&o.jsx("div",{className:W("absolute left-1/2 top-full -mt-[6px] flex w-[28px] -translate-x-1/2 items-center justify-center rounded-full bg-current p-[1.5px]",{"opacity-0":e==="small"},{"w-xl -mt-[10px]":e==="xlarge"}),children:o.jsx(SF,{width:"w-full"})})]})})});sr.displayName="Avatar";const mut=(e,t)=>e===0&&t>0?"connectors":(e>0&&t===0||e>0&&t>0,"localFiles"),Bme=L.memo(({collectionSlug:e,handleSpaceEdit:t,handleSourcesEdit:n})=>{const r="space-context",s=ae(),{collection:a}=uf({collectionSlug:e,reason:r}),{isUserReader:i,isUserAtLeastWriter:l,isUserInvited:c}=mF({collectionSlugOverride:e,reason:r}),{templateSpace:u}=Dme({collectionSlug:e??"",reason:r}),d=i&&!!u,h=f.useRef(null),{fileRepoInfo:m}=df({reason:r,collectionSlugOverride:e}),{mutate:g}=vF({reason:r}),{searchTerm:v}=qct({reason:r}),{completedFiles:x,totalFiles:b,hasNextPage:w,fetchNextPage:C}=Tct({fileRepoInfo:m,searchTerm:v,limit:NX,reason:r}),{data:S,hasNextPage:k,fetchNextPage:E}=uct({connectionTypes:[Gn.GOOGLE_DRIVE,Gn.ONEDRIVE,Gn.SHAREPOINT,Gn.DROPBOX,Gn.BOX],status:["READY"],fileRepoInfo:m,pageSize:NX,fileTypes:["FILE"],reason:r}),{connectorFiles:T,totalConnectorFiles:j}=f.useMemo(()=>{const H=S?S.pages[S.pages.length-1]:null;return{connectorFiles:S?.pages.map(q=>q.files).flat()||[],totalConnectorFiles:H?.files_in_repo??0}},[S]),{focusedWebLinks:N,totalFocusedWebLinks:R}=f.useMemo(()=>{const H=a?.focused_web_config?.link_configs??[];return{focusedWebLinks:H,totalFocusedWebLinks:H.length}},[a?.focused_web_config?.link_configs]),O=f.useCallback(H=>H.file_s3_url?()=>g({file_url:H.file_s3_url}):null,[g]),I=f.useCallback(H=>()=>{H.connection_file_url&&window.open(H.connection_file_url,"_blank")},[]),B=f.useCallback(H=>()=>window.open(`https://${H.link}`,"_blank"),[]),D=f.useCallback(H=>{let q="",$=null;return H==="INSTRUCTIONS"?q=s.formatMessage({defaultMessage:"Add instructions to format, scope, and add relevance to your search results.",id:"JnYU6ctsCn"}):H==="FILES"?(q=l?s.formatMessage({defaultMessage:"Upload or sync files to be used as sources in every search.",id:"yF+cGexY2F"}):s.formatMessage({defaultMessage:"No files included.",id:"wZ9qntul+a"}),l&&($=zw([o.jsx(sr,{user:k_,showBackground:!1,size:"small"},"gdrive"),o.jsx(sr,{user:T_,showBackground:!1,size:"small"},"onedrive"),o.jsx(sr,{user:N_,showBackground:!1,size:"small"},"sharepoint"),o.jsx(Ne,{icon:px,size:"sm"},"upload")],{isOverlapping:!0,maxVisuals:4,size:"xl",stackDirection:"right"}))):H==="LINKS"&&(q=l?s.formatMessage({defaultMessage:"Add URLs to be used as sources in every search.",id:"FTItpgdarF"}):s.formatMessage({defaultMessage:"No links included.",id:"Qid6Kgk2jz"})),q?o.jsxs(Q,{className:"px-sm py-md gap-y-xs flex flex-col items-center",children:[$&&o.jsx(Q,{className:"mb-xs",children:$}),o.jsx(F,{variant:"small",color:"light",className:"text-center",children:q})]}):null},[s,l]),z=f.useMemo(()=>[{id:"INSTRUCTIONS",text:s.formatMessage({defaultMessage:"Instructions",id:"sV2v5LjRpX"}),content:[{icon:null,badge:null,text:a?.instructions,onClick:null}],hasNextPage:!1,showSection:!c&&l||d,actionIcon:am,action:t,showButton:!c&&l,isEmpty:!a?.instructions,testId:"space-context-instructions-edit-button"},{id:"FILES",text:s.formatMessage({defaultMessage:"Files",id:"m4vqJl0/FT"}),content:[...x.map(H=>({icon:nf,badge:null,text:H.name,onClick:O(H)})),...T.map(H=>({icon:Sme,badge:md(H.connection_type),text:H.name,onClick:I(H)}))],hasNextPage:w||k,showSection:!0,actionIcon:$r,action:n?()=>{const H=mut(b,j);n(H)}:void 0,itemCount:b+j,showButton:!c&&l,isEmpty:b+j===0,testId:"space-context-files-add-button"},{id:"LINKS",text:s.formatMessage({defaultMessage:"Links",id:"qCcwo3DU78"}),content:N.map(H=>({icon:hx,badge:null,text:H.link,onClick:B(H)})),hasNextPage:!1,showSection:!0,actionIcon:$r,action:n?()=>n("links"):void 0,showButton:!c&&l,isEmpty:R===0,testId:"space-context-links-add-button"}],[s,a?.instructions,x,T,N,b,j,R,w,k,n,t,O,I,B,c,l,d]),V=f.useMemo(()=>Ni(()=>{w?C():k&&E()},500),[w,C,k,E]);_F(h,V,{threshold:.5});const U=f.useMemo(()=>L.memo(({icon:H,badge:q})=>{const $=f.useMemo(()=>q&&o.jsx(sr,{size:"tiny",showBackground:!1,rounded:!1,user:q}),[q]);return o.jsx(Ne,{icon:H,size:18,stroke:2,color:"#64645F",badge:$})}),[]);return o.jsx(Q,{className:"hideScroll h-full flex-col overflow-y-auto",children:z.map((H,q)=>H.showSection?o.jsxs(Q,{children:[o.jsxs("div",{className:"my-xs py-xs pl-sm flex items-center justify-between",children:[o.jsx(F,{variant:"smallBold",children:H.itemCount?`${H.text} (${H.itemCount})`:H.text}),H.showButton&&H.action&&H.actionIcon&&o.jsx(it,{variant:"common",size:"small",icon:H.actionIcon,pill:!0,onClick:H.action,"data-testid":H.testId})]}),H.isEmpty?D(H.id):H.content.map(($,G)=>{const K=$.icon&&o.jsx(Q,{className:"flex size-6 flex-none items-center justify-center",children:o.jsx(U,{icon:$.icon,badge:$.badge})});return o.jsx(Q,{children:$.onClick?o.jsx(it,{variant:"positive",text:$.text,leadingComponent:K,onClick:$.onClick,textClassName:"font-sans font-normal text-sm",layout:"left",fullWidth:!0}):o.jsxs(Q,{className:"pl-sm gap-x-xs flex w-full items-center py-[10px]",children:[K,o.jsx(F,{variant:"small",color:"light",className:`${H.id==="INSTRUCTIONS"?"line-clamp-4":"line-clamp-1"} pl-[1px]`,children:$.text})]})},H.id+G)}),H.hasNextPage&&o.jsx(Dl,{ref:h,size:"small",className:"my-xs"}),z.some(($,G)=>G>q&&$.showSection)&&o.jsx("hr",{className:"my-sm"})]},H.id):null)})});Bme.displayName="SpaceContext";const Vme=L.memo(({closeModal:e,isOpen:t,collectionSlug:n})=>{const r="space-context-modal",s=ae(),{openModal:a}=Gt(),{collection:i}=uf({collectionSlug:n,reason:r}),{isUserAtLeastWriter:l,isUserAtLeastReader:c}=mF({reason:r,collectionSlugOverride:n}),u=Vt(),d=f.useCallback(()=>{if(n){const v=["get_collection",{collection_slug:n.slice(-22)}];u.invalidateQueries({queryKey:v})}e()},[e,n,u]),h=f.useCallback(()=>{i&&a("spaceSettings",{existingSpace:i})},[i,a]),m=f.useCallback(v=>{i&&a("uploadFilesModal",{initialTab:v,collectionSlug:n})},[i,n,a]),g=f.useMemo(()=>o.jsx(F,{variant:"section-title",className:"px-sm",children:s.formatMessage({defaultMessage:"Context",id:"V2qutIKrxy"})}),[s]);return o.jsx(Sn,{variant:"side-sheet",isOpen:t,onClose:d,includeBlur:!1,titleContent:g,modalClassname:"!min-w-[300px] !w-[25vw]",closeButtonClassname:"right-sm absolute",fixedTitle:!0,children:o.jsx(Bme,{collectionSlug:n,handleSpaceEdit:l?h:void 0,handleSourcesEdit:c?m:void 0})})});Vme.displayName="SpaceContextModal";const MF=L.memo(({title:e,subtitle:t,subtitleClassname:n,centerTitle:r,children:s,actionList:a=Fe,variant:i="centered-sheet",onClose:l,noPadding:c,onIsClosing:u,footerContent:d,icon:h,overlayVariant:m,titleLeadingButtonProps:g,showCloseButton:v=!0,...x})=>{const[b,w]=f.useState(!1),[C,S]=f.useState(!1),k=f.useMemo(()=>W("shadow-md overflow-y-auto scrollbar-thin scrollbar-thumb-idle dark:scrollbar-thumb-idleDark scrollbar-track-transparent fill-mode-both",{"bg-none dark:bg-none bg-backdrop/25 backdrop-blur-sm":i==="full-sheet-blurred","bg-gradient-to-t from-background from-45% to-transparent":i==="bottom-sheet-gradient","w-screen md:h-screen h-[100dvh] flex flex-col":i==="full-sheet-blurred"||i==="full-sheet","w-screen min-h-[60dvh] md:min-h-[60vh] max-h-[96dvh] md:max-h-[96vh] flex flex-col fixed bottom-0 left-0 right-0 bg-none dark:bg-none bg-backdrop/70 backdrop-blur-md":i==="bottom-sheet-blurred","flex items-center justify-end w-screen h-[100dvh] md:max-h-[96vh] flex flex-col fixed bottom-0 left-0 right-0":i==="bottom-sheet-gradient","animate-in slide-in-from-bottom ease-in":i==="bottom-sheet-blurred"&&!C,"animate-out slide-out-to-bottom ease-out":i==="bottom-sheet-blurred"&&C,"animate-in fade-in ease-in duration-300":i==="bottom-sheet-gradient"&&!C,"animate-out fade-out ease-out duration-300":i==="bottom-sheet-gradient"&&C,"bg-background dark:bg-backgroundDark":i==="full-sheet","bg-background dark:bg-backgroundDark rounded-lg md:min-w-[600px] max-w-screen-lg max-h-[100vh]":i==="centered-sheet","bg-background dark:bg-backgroundDark rounded-2xl max-w-[90dvw] max-h-[90dvh]":i==="inset-centered-sheet"}),[i,C]),E=f.useMemo(()=>W("py-md px-md grow flex flex-col",{"justify-center":i!=="bottom-sheet-gradient","justify-end":i==="bottom-sheet-gradient","md:pt-lg":e===void 0,"md:pb-lg":a?.length===0,"px-0":c,"py-0":c}),[a?.length,c,e,i]),T=f.useMemo(()=>a.map(({text:B,onClick:D,variant:z,disabled:V,isLoading:U,testId:H,icon:q},$)=>{const G={key:$,text:B,chevron:q!==void 0,disabled:V,isLoading:U,onClick:D,testId:H,chevronIcon:q};return z?f.createElement(Le,{fullWidthMobile:!0,variant:z,...G,key:G.key}):f.createElement(Le,{fullWidthMobile:!0,...G,key:G.key})}),[a]),j=f.useCallback(()=>{u?.(),S(!0)},[S,u]),N=f.useCallback(()=>{S(!1),w(!1),l?.()},[S,w,l]),R=f.useCallback(()=>{S(!1),w(!1),l?.()},[w,S,l]),O=f.useMemo(()=>{switch(i){case"full-sheet-blurred":return"full-sheet";case"full-sheet":return"full-sheet";case"bottom-sheet-blurred":case"bottom-sheet-gradient":return"bottom-sheet";default:return"default"}},[i]),I=f.useMemo(()=>i==="bottom-sheet-blurred"||i==="bottom-sheet-gradient",[i]);return o.jsx(jg,{transparent:I,canOutsideClickClose:!0,childVariant:O,shouldClose:b,onIsClosing:j,onClose:N,variant:m,...x,children:o.jsx("div",{children:o.jsxs("div",{className:k,children:[o.jsx("div",{className:"right-sm top-sm fixed z-[23] md:absolute"}),o.jsxs(Q,{className:W("flex h-full w-[100vw] grow flex-col rounded-none md:w-[unset] md:grow-[unset]",{"border-t":i!=="bottom-sheet-gradient","w-[90dvw]":i==="inset-centered-sheet"}),children:[o.jsxs(Q,{variant:"transparent",className:W("px-md py-sm md:py-md sticky top-0 z-[22] w-full",{"border-b":e&&!r,"text-center":r,"h-8":!e&&v}),children:[o.jsxs("div",{className:"gap-sm md:gap-md flex items-center",children:[g&&o.jsx(it,{extraCSS:"-ml-sm",...g,size:"small",variant:"common"}),h&&o.jsx(jt,{icon:h,size:"xl",className:"text-text -translate-y-[2px]"}),e&&o.jsx(F,{variant:"page-title",className:W("line-clamp-1 md:line-clamp-2",{"pt-lg grow":r,"mr-lg":!r}),children:e}),!I&&i!=="full-sheet-blurred"&&v&&o.jsx(Lx,{onClick:R,testId:"close-modal"})]}),t&&o.jsx(F,{variant:"base",color:"light",className:W("mt-xs line-clamp-3",n),children:t})]}),o.jsx("div",{className:E,children:s}),(T?.length>0||d)&&o.jsxs(Q,{variant:"background",className:W("gap-x-sm p-sm pb-md md:pb-sm sticky bottom-0 z-[10] flex items-center border-t",{"justify-end":!d},{"justify-between":d}),children:[d,T]})]})]})})})});MF.displayName="SheetModal";const KA=e=>{const t=Number(e);return isNaN(t)?(console.log(`formatNumber number failed on: ${e}`),"0"):t.toLocaleString("en-US")},ri=()=>qr(),wQt={status:"PENDING",uuid:ri()},_Qt=(e,t,n)=>{if(e===t)return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),s=Object.keys(t);return r.length==s.length&&r.every(a=>n?n(e[a],t[a]):e[a]===t[a])},Ww=(e,t)=>{const n=new URL(e);return n.searchParams.delete("source"),n.searchParams.delete("s"),t&&(n.hash=t),n.searchParams.sort(),n.href};function zme(e){return e.charAt(0).toUpperCase()+e.slice(1)}function put(e,t){try{const n=new Date(e.replace(/-/g,"/")).toLocaleString(t,{weekday:"long",hour:"numeric",minute:"numeric",hour12:!0});return zme(n)}catch(n){console.log(n)}return null}function kC(e,t,n="short"){const s=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].indexOf(e.toLowerCase());if(s===-1)return"";const a=new Date,i=new Date(a.setDate(a.getDate()-a.getDay()+s)),l=Intl.DateTimeFormat(t,{weekday:n}).format(i);return zme(l)}function gut(e){return e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:12})}function kF(e,t,n){const r=new URL(e),s=r.searchParams;return s.set(t,n),r.search=s.toString(),r.toString()}const CQt=e=>{let t;if(typeof e=="string"){if(t=parseFloat(e),isNaN(t))throw new Error("Invalid input: not a number")}else if(typeof e=="number")t=e;else throw new Error("Invalid input: not a string or number");return t.toLocaleString("en-US")},vut=/\[(\d{1,3})(,\s*\{ts:\d+\})?\]/g,yut=/(\n*^(("""+|'''+|```+)[A-Za-z0-9]*|#+ .*)$|^- |\*\*|\$\$|\||`|[-|]{3,})/gm;function xut(e){return e.replace(vut,"")}function but(e){return e.replace(yut,"")}function $w(e,t){const n=xut(but(e)).trim();if(n.length<=t)return n;{const r=n.slice(0,t).trim(),s=r.lastIndexOf(" ");return s*2>t&&s<t-1?r.slice(0,s)+"...":r+"..."}}const wut=({children:e,title:t,handleClose:n,experimentalImageDesign:r})=>{const{image:s,imageAlt:a}=r;return o.jsxs(Q,{variant:"offset",className:"max-w-[400px] overflow-hidden rounded-xl md:flex md:max-w-[960px]",children:[o.jsx("div",{className:"md:w-[55%]",children:o.jsx("img",{src:s,alt:a,className:"md:object-cover"})}),o.jsxs("div",{className:"p-lg md:p-xl relative flex flex-col md:w-[45%]",children:[o.jsx(Lx,{testId:"close-modal",variant:"common",size:"small",onClick:n}),o.jsx("div",{className:"mb-lg grow",children:o.jsx(F,{color:"default",variant:"page-title",className:"mb-sm mt-sm text-center font-serif text-[2rem] leading-none",children:t})}),e]})]})},EF=br({path:"M5.01 17.833h11.023a6.34 6.34 0 0 0 2.91-.676 5.484 5.484 0 0 0 2.274-2.136c.52-.88.783-1.896.783-3.021s-.263-2.14-.782-3.02a5.484 5.484 0 0 0-2.271-2.135 6.348 6.348 0 0 0-2.914-.678H2.018v1.176h14.015c.849 0 1.636.182 2.341.542a4.285 4.285 0 0 1 1.776 1.671l.002.004c.414.7.624 1.52.624 2.44 0 .92-.21 1.741-.625 2.442l-.002.003a4.286 4.286 0 0 1-1.778 1.672c-.702.359-1.49.54-2.338.54H5.011v1.176ZM3.415 9.568c1.209-1.272 3.672-.9 4.537.67.293.48.442 1.072.442 1.762.041 1.78-1.22 3.211-3.054 3.2-.822 0-1.468-.307-1.925-.77-.036-.037-.102-.012-.102.04v3.363H2V9.03h1.312v.5c0 .051.066.076.102.038Zm3.135 4.015c.352-.358.531-.94.531-1.583 0-.645-.178-1.223-.532-1.574-.64-.72-2.126-.712-2.772.001-.697.677-.69 2.475 0 3.156.646.698 2.132.706 2.773 0Zm12.28-3.31c-1.09-1.969-4.506-1.966-5.604 0-.277.48-.418 1.06-.418 1.727-.038 1.88 1.296 3.212 3.225 3.2 1.928.012 3.258-1.333 3.225-3.2 0-.667-.144-1.248-.429-1.727ZM17.944 12c0 .644-.179 1.225-.532 1.583-.64.706-2.127.699-2.773 0-.69-.681-.697-2.48 0-3.155.646-.714 2.132-.721 2.773-.002.354.352.532.929.532 1.573Zm-6.96-2.85c.249-.136.591-.206 1.017-.206h.633v1.276c-.11.002-.227 0-.347-.001-.542-.008-1.152-.016-1.488.318-.222.21-.334.57-.334 1.072v3.423H9.154V9.03h1.312v.5c0 .056.078.078.11.029.127-.197.262-.331.409-.408Z",name:"IconPerplexityPro",variant:"filled"});let Hme=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");function _ut(e,t){const n=FX(e),r=FX(t);return n.major>r.major?!0:n.major<r.major?!1:n.minor>r.minor?!0:n.minor<r.minor?!1:n.patch>r.patch?!0:!(n.patch<r.patch)}function FX(e){const[t,n,r]=e.split(".").map(Number);return{major:t,minor:n,patch:r}}function Cut(e){return _ut(Wme(),e)}function x2(e,t){return Cut(t)?!0:(console.warn(`[todesktop-client] ${e} not called. ${e} was introduced in ${t}. You are running version ${Wme()}.`),!1)}const Wme=()=>typeof window.todesktop=="object"&&window.todesktop.desktopifyVersion,su=typeof window<"u"&&window.todesktop,Sut=e=>async(t,n)=>{const r=Hme(),s=t==="*"?Object.keys(e):[t];for(const i of s){const l=e[i];su?.on(l,n,r)}const a=$me(e);return async()=>a(t,n,r)},Mut=e=>async(t,n)=>{const r=Hme(),s=t==="*"?Object.keys(e):[t];for(const i of s){const l=e[i];su?.on(l,n,r)}const a=$me(e);return async()=>a(t,n,r)},$me=e=>(t,n,r)=>{const s=t==="*"?Object.keys(e):[t];for(const a of s){const i=e[a];su?.off(i,n,r)}};function kut(e,t){const n={package:{name:e,version:t},invoke:{version:"1.0.0"}};function r(i){const l={metadata:n,payload:{command:i}};return window.todesktop.invoke(l)}function s(i){const l={metadata:n,payload:{command:Object.assign(Object.assign({},i),{method:":new"})}};return window.todesktop.invoke(l)}function a(i){if(x2("releaseMemory","4.6.0")){if(!i?.length){console.log("No memory references to release");return}return window.todesktop.releaseMemory(i)}}return{invoke:r,construct:s,releaseMemory:a}}const{invoke:ei,construct:qme}=kut("client-core","1.0.0-dev"),Eut={openProtocolURL:"open-protocol-url"},Tut=Mut(Eut);var pk;const gk=typeof window<"u"&&window.todesktop,Nut=(e,t)=>{const n=async(a,i,{ref:l,preventDefault:c}={})=>{if(t&&!x2(`${e} addEventListener`,t))return;const u=await ei({instanceRef:l,namespace:e,eventName:a,eventOptions:{preventDefault:c}});return window.todesktop.on(u,(d,...h)=>{if(Out(h[0])){const[,...m]=h;return i(...m)}else return i(...h)}),()=>r(a,{eventId:u,ref:l})},r=async(a,...i)=>{const{eventId:l,ref:c}=i[0]||{};t&&!x2(`${e} removeEventListener`,t)||(await ei({instanceRef:c,namespace:e,eventName:a,eventId:l}),window.todesktop.off(l))};return{removeAllListeners:async(a,{ref:i}={})=>{t&&!x2(`${e} removeAllListeners`,t)||(await ei({instanceRef:i,namespace:e,method:"removeAllListeners",args:[a]}),window.todesktop.off(a))},on:n}};function jut(e){console.warn(`[todesktop-client] ${e} is a legacy event and may be removed in future.
        Contact support or look through our typescript files to find a suitable replacement.`)}function Aut(e,t){const n=e[0],r=n in t;return r&&jut(n),r}const Rut=(e,t)=>Aut(e,t),Lut=(e,t)=>{const n=Nut(t),r=(...s)=>Rut(s,e)?Sut(e)(...s):n.on(...s);return{removeAllListeners:n.removeAllListeners,on:r}};(pk=gk?.env)===null||pk===void 0||pk.NODE_ENV;const Out=e=>Put(e)&&"preventDefault"in e&&"sender"in e,Put=e=>e===null?!1:typeof e=="function"||typeof e=="object";async function Iut(e,t){return window.todesktop.shortcut.register(e,t)}async function vk(e){return window.todesktop.shortcut.unregister(e)}async function Dut(e){return qme({namespace:"BrowserWindow",args:[e]})}async function Fut({ref:e,viewRef:t}){return ei({instanceRef:e,namespace:"BrowserWindow",method:"setBrowserView",args:[t]})}async function Uut({ref:e}={}){return ei({instanceRef:e,namespace:"BrowserWindow",method:"getSize",args:[]})}async function TF({ref:e}={}){return ei({instanceRef:e,namespace:"BrowserWindow",method:"focus",args:[]})}async function QA({ref:e}={}){return ei({instanceRef:e,namespace:"BrowserWindow",method:"isVisible",args:[]})}async function But({ref:e}={}){return ei({instanceRef:e,namespace:"BrowserWindow",method:"hide",args:[]})}async function NF({ref:e}={}){return ei({instanceRef:e,namespace:"BrowserWindow",method:"show",args:[]})}async function Vut({ref:e}={}){return await ei({instanceRef:e,namespace:"BrowserWindow",property:"webContents"})}async function zut({ref:e}={},...t){return ei({instanceRef:e,namespace:"BrowserWindow",method:"setPosition",args:t})}const Hut={enterFullscreen:"window.enter-full-screen",exitFullscreen:"window.leave-full-screen"},Gme=Lut(Hut,"BrowserWindow"),qv=Gme.on,XA=Gme.removeAllListeners;async function UX({id:e}){if(x2(`${BX}:retrieve`,"4.18.0"))return window.todesktop[BX]({action:"retrieve",payload:{id:e}})}const BX="objectStore";async function qw(e){return window.todesktop.contents.openUrlInBrowser(e)}async function Wut(){return ei({namespace:"screen",method:"getCursorScreenPoint",args:[]})}async function $ut(e){return ei({namespace:"screen",method:"getDisplayNearestPoint",args:[e]})}async function qut(e){return qme({namespace:"BrowserView",args:[e]})}async function Gut({ref:e},...t){return ei({instanceRef:e,namespace:"WebContents",method:"loadURL",args:t})}const Yut={prefix:"pplx",suffix:"v2",runtime:"runtime"},yk={cacheName:Yut},Kut=[yk.cacheName.prefix,yk.cacheName.runtime,yk.cacheName.suffix].join("-");async function VX(){const e=ga();if("serviceWorker"in navigator){const{Workbox:t}=await Me(async()=>{const{Workbox:s}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:s}},[]),n=new URL("/service-worker.js",window.location.origin);e.version&&n.searchParams.set("v",e.version);const r=new t(n.toString());try{await r.register()}catch(s){le.error("Error registering service worker",s)}}}async function Qut(){"serviceWorker"in navigator&&await navigator.serviceWorker.getRegistrations().then(e=>Promise.all(e.map(t=>t.unregister())))}async function jF(){if("serviceWorker"in navigator){await caches.delete(Kut);return}}const Gv=async(...e)=>(await jF(),Jo.signIn(...e)),Xut="pkce_verifier",Zut=5/(24*60),Jut=128,edt=e=>{const t=Math.ceil(e*.75),n=new Uint8Array(t);return crypto.getRandomValues(n),btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"").slice(0,e)},tdt=async e=>{const n=new TextEncoder().encode(e);try{let r;typeof window<"u"&&window.crypto?.subtle?r=await window.crypto.subtle.digest("SHA-256",n):r=new TextEncoder().encode(e);const s=Array.from(new Uint8Array(r)),a=String.fromCharCode(...s);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}catch(r){throw le.error("Failed to generate code challenge: "+r),new Error("Failed to generate code challenge: "+r)}},ndt=e=>{fn(Xut,e,{secure:!0,sameSite:"Lax",expires:Zut,path:"/"})},zX=async()=>{const e=edt(Jut);return ndt(e),tdt(e)},rdt=async({email:e,reason:t})=>{let n=null;try{n=await khe({email:e,reason:t})}catch(r){return le.log(r),null}return n?.workos_org_id??null},sdt=async({email:e,reason:t})=>{let n=null;try{n=await khe({email:e,reason:t})}catch(r){return le.log(r),null}return n?.force_sso??!1},adt=({email:e,onError:t,onClose:n,redirectUrl:r,reason:s})=>{const{$t:a}=ae(),{trackEvent:i}=Ye(),{isWindowsApp:l}=sn(),c=Qt(),{locale:u}=ae(),d=f.useMemo(()=>e.length>0&&e.includes("@")&&e.includes(".")&&e.indexOf("@")<e.lastIndexOf(".")&&e.indexOf("@")>0,[e]),h=f.useCallback(async x=>{i("login with third party clicked",{thirdParty:x});const b=window.location.origin;if(l){const w=await zX(),C=`${b}/auth/${pw}/${x}?code_challenge=${w}&desktopRedirect=${encodeURIComponent(r)}&client_id=${nY}`;return qw(C),C}return await Gv(x,{callbackUrl:r})},[i,r,l]),m=f.useCallback(async()=>{const x=await rdt({email:e,reason:s});if(!x){t(`SSO not available for email ${e}`);return}if(n(),l){const b=window.location.origin,w=await zX(),C=`${b}/auth/${pw}/workos?code_challenge=${w}&desktopRedirect=${r}&organization=${x}&login_hint=${e}&client_id=${nY}`;qw(C);return}await Gv("workos",{callbackUrl:r},{organization:x,login_hint:e})},[e,n,t,r,l,s]),g=f.useCallback(async()=>{const x=e?.toLowerCase();if(await sdt({email:x,reason:s})){await m();return}const w=met({redirect:r});i("login with email clicked",{email:x});let C=`${w}#locale=${u}`;l&&(C=`${w}?windows-app-redirect-token=${Kze}#locale=${u}`);const S=await Gv("email",{email:x,callbackUrl:C,redirect:!1});if(S?.ok){IM(`email request POST successful for ${x}`);const k=encodeURIComponent(x),E=encodeURIComponent(w),T=`/auth/verify-request?email=${k}&redirectUrl=${E}`;c.push(T)}else if(S?.status===429)IM(`email sign in rate limited for ${x}`),c.push("/auth/email-rate-limited");else{const k=`email sign in generic error: ${x} Response(status=${S?.status}, error=${S?.error}, ok=${S?.ok}, url=${S?.url})`;IM(k),le.error(new Error(k)),t(a({defaultMessage:"Something went wrong. Please try again.",id:"W/5hwrn09m"}))}},[e,r,c,i,u,m,t,a,l,s]),v=f.useCallback(async(x,b)=>{const w={callbackUrl:r};switch(x){case"basic":w.pro=!1;break;case"pro":w.pro=!0;break;case"enterpriseMember":w.enterprise_member=!0;break;case"enterpriseAdmin":w.enterprise_admin=!0;break;case"enterpriseBillingAdmin":w.enterprise_billing_admin=!0;break;case"script":w.script=!0;break;case"frontendTest":w.fe_test=!0;break;case"example.com":w.email_handle=b??"pplx-dev";break}return await Gv("devlogin",w)},[r]);return f.useMemo(()=>({emailIsValid:d,handleThirdPartySignIn:h,handleMagicLinkEmailSignIn:g,handleSSOSignIn:m,handleDevSignIn:v}),[d,v,g,m,h])},Yme={...eP},idt=Yme.useInsertionEffect,odt=idt||(e=>e());function ldt(e){const t=f.useRef(()=>{});return odt(()=>{t.current=e}),f.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}var Gw=typeof document<"u"?f.useLayoutEffect:f.useEffect;function ZA(){return ZA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZA.apply(this,arguments)}let HX=!1,cdt=0;const WX=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+cdt++;function udt(){const[e,t]=f.useState(()=>HX?WX():void 0);return Gw(()=>{e==null&&t(WX())},[]),f.useEffect(()=>{HX=!0},[]),e}const ddt=Yme.useId,Kme=ddt||udt,fdt=f.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:s},middlewareData:{arrow:a,shift:i}},width:l=14,height:c=7,tipRadius:u=0,strokeWidth:d=0,staticOffset:h,stroke:m,d:g,style:{transform:v,...x}={},...b}=t,w=Kme(),[C,S]=f.useState(!1);if(Gw(()=>{if(!s)return;oo(s).direction==="rtl"&&S(!0)},[s]),!s)return null;const[k,E]=r.split("-"),T=k==="top"||k==="bottom";let j=h;(T&&i!=null&&i.x||!T&&i!=null&&i.y)&&(j=null);const N=d*2,R=N/2,O=l/2*(u/-8+1),I=c/2*u/4,B=!!g,D=j&&E==="end"?"bottom":"top";let z=j&&E==="end"?"right":"left";j&&C&&(z=E==="end"?"left":"right");const V=a?.x!=null?j||a.x:"",U=a?.y!=null?j||a.y:"",H=g||"M0,0"+(" H"+l)+(" L"+(l-O)+","+(c-I))+(" Q"+l/2+","+c+" "+O+","+(c-I))+" Z",q={top:B?"rotate(180deg)":"",left:B?"rotate(90deg)":"rotate(-90deg)",bottom:B?"":"rotate(180deg)",right:B?"rotate(-90deg)":"rotate(90deg)"}[k];return f.createElement("svg",ZA({},b,{"aria-hidden":!0,ref:n,width:B?l:l+N,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:{position:"absolute",pointerEvents:"none",[z]:V,[D]:U,[k]:T||B?"100%":"calc(100% - "+N/2+"px)",transform:[q,v].filter($=>!!$).join(" "),...x}}),N>0&&f.createElement("path",{clipPath:"url(#"+w+")",fill:"none",stroke:m,strokeWidth:N+(g?0:1),d:H}),f.createElement("path",{stroke:N&&!g?b.fill:"none",d:H}),f.createElement("clipPath",{id:w},f.createElement("rect",{x:-R,y:R*(B?-1:1),width:l+N,height:l})))});function hdt(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(s=>s(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(s=>s!==n))||[])}}}const mdt=f.createContext(null),pdt=f.createContext(null),gdt=()=>{var e;return((e=f.useContext(mdt))==null?void 0:e.id)||null},vdt=()=>f.useContext(pdt);function ydt(e){const{open:t=!1,onOpenChange:n,elements:r}=e,s=Kme(),a=f.useRef({}),[i]=f.useState(()=>hdt()),l=gdt()!=null,[c,u]=f.useState(r.reference),d=ldt((g,v,x)=>{a.current.openEvent=g?v:void 0,i.emit("openchange",{open:g,event:v,reason:x,nested:l}),n?.(g,v,x)}),h=f.useMemo(()=>({setPositionReference:u}),[]),m=f.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return f.useMemo(()=>({dataRef:a,open:t,onOpenChange:d,elements:m,events:i,floatingId:s,refs:h}),[t,d,m,i,s,h])}function xdt(e){e===void 0&&(e={});const{nodeId:t}=e,n=ydt({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,s=r.elements,[a,i]=f.useState(null),[l,c]=f.useState(null),d=s?.domReference||a,h=f.useRef(null),m=vdt();Gw(()=>{d&&(h.current=d)},[d]);const g=kue({...e,elements:{...s,...l&&{reference:l}}}),v=f.useCallback(S=>{const k=Na(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),contextElement:S}:S;c(k),g.refs.setReference(k)},[g.refs]),x=f.useCallback(S=>{(Na(S)||S===null)&&(h.current=S,i(S)),(Na(g.refs.reference.current)||g.refs.reference.current===null||S!==null&&!Na(S))&&g.refs.setReference(S)},[g.refs]),b=f.useMemo(()=>({...g.refs,setReference:x,setPositionReference:v,domReference:h}),[g.refs,x,v]),w=f.useMemo(()=>({...g.elements,domReference:d}),[g.elements,d]),C=f.useMemo(()=>({...g,...r,refs:b,elements:w,nodeId:t}),[g,b,w,t,r]);return Gw(()=>{r.dataRef.current.floatingContext=C;const S=m?.nodesRef.current.find(k=>k.id===t);S&&(S.context=C)}),f.useMemo(()=>({...g,context:C,refs:b,elements:w}),[g,b,w,C])}class JA{static detectOverflowOptions={padding:8};static offsetMiddleware=BI({mainAxis:4,crossAxis:0});static shiftMiddleware=Eue({limiter:Tue(),...this.detectOverflowOptions});static flipMiddleware=Nue(this.detectOverflowOptions);static sizeMiddleware(t={matchTargetWidth:!1},n=!0){return jue({...this.detectOverflowOptions,apply({availableHeight:r,rects:s,elements:a}){n&&(a.floating.style.maxHeight=`${r}px`),(t.matchTargetWidth??!0)&&(a.floating.style.width=`${s.reference.width}px`)}})}static defaultMiddleWare(t={avoidCollisions:!0,matchTargetWidth:!1}){const n=t.avoidCollisions??!0,r=t.avoidPositionCollisions!==void 0?t.avoidPositionCollisions:n,s=t.avoidSizeCollisions!==void 0?t.avoidSizeCollisions:n;return[this.offsetMiddleware,r&&this.shiftMiddleware,r&&this.flipMiddleware,this.sizeMiddleware({matchTargetWidth:t.matchTargetWidth},s)].filter(Boolean)}}const bdt=130,lo=L.memo(({content:e,contentClassName:t="",children:n,delayTime:r=200,isOpen:s,hoverOpen:a,placement:i="bottom-end",matchTargetWidth:l=!1,childrenClassName:c,testId:u,overlayProps:d,onOpen:h,onClose:m,disableAnimation:g,hasInteractiveContent:v=!1,avoidCollisions:x=!0,avoidPositionCollisions:b,avoidSizeCollisions:w,customFloatingUIOptions:C,disableShadow:S,floatingElementProps:k,arrowClassName:E,borderRadius:T="rounded-xl",sideOffset:j=4})=>{const N=f.useRef(null),R=f.useMemo(()=>{const we=JA.defaultMiddleWare({avoidCollisions:x,avoidPositionCollisions:b,avoidSizeCollisions:w,matchTargetWidth:l});return j!==4&&(we[0]=BI({mainAxis:j,crossAxis:0})),E&&we.push(Aue({element:N})),we},[x,b,w,l,E,j]),{refs:O,floatingStyles:I,placement:B,context:D}=xdt({strategy:"fixed",placement:i,middleware:R,whileElementsMounted:(...we)=>Sue(...we),...C}),[z,V]=f.useState(!1),U=f.useRef(z),[H,q]=f.useState(!1),$=f.useRef(H),[G,K]=f.useState(!1),ee=s!==void 0,[oe,ne]=f.useState(!1),te=f.useMemo(()=>ee?s:oe,[ee,s,oe]),re=f.useCallback(we=>{we.stopPropagation()},[]),X=f.useCallback(()=>{te||(h?.(),ee||ne(!0))},[ee,te,h]),ce=f.useCallback(()=>{K(we=>te&&!we?(m?.(),ee||ne(!1),g?!1:(setTimeout(()=>{K(!1)},bdt),!0)):we)},[ee,te,m,g]),se=f.useCallback(()=>{te?ce():X()},[ce,X,te]),J=f.useCallback(()=>{setTimeout(()=>{!$.current&&!U.current&&ce()},r)},[r,ce,$,U]);f.useEffect(()=>{if(!a||!te||G)return;const we=setInterval(()=>{const Pe=O.reference.current,ot=O.floating.current,Be=Pe.matches(":hover"),Ee=ot.matches(":hover");!Be&&U.current&&he(),!Ee&&$.current&&ge(),!Be&&!Ee&&J()},250);return()=>clearInterval(we)},[G,te,J,a]);const de=f.useCallback(()=>{setTimeout(()=>{ce()},0)},[ce]),ie=f.useCallback(()=>{U.current=!0,V(!0),X()},[X]),he=f.useCallback(()=>{U.current=!1,V(!1),J()},[J]),pe=()=>{$.current=!0,q(!0)},ge=f.useCallback(()=>{$.current=!1,q(!1),J()},[J]),Ce=f.useCallback(we=>{we.stopPropagation(),se()},[se]);return o.jsxs(o.Fragment,{children:[o.jsx("span",{onMouseEnter:a?ie:void 0,onMouseLeave:a?he:void 0,ref:O.setReference,onMouseDown:re,onClick:a?void 0:Ce,className:c,"data-test-id":u,children:n}),e?o.jsx(jg,{isOpen:te||G,onClose:de,transparent:!0,childVariant:"clean",disableAnimation:g,delayClose:!1,...d,children:o.jsx("div",{className:"absolute left-0 right-0 top-0",children:o.jsx("div",{className:"flex",ref:O.setFloating,onMouseEnter:a?pe:void 0,onMouseLeave:a?ge:void 0,onClick:we=>{v&&we.stopPropagation()},style:I,...k,children:o.jsxs(Q,{variant:"background",className:W({"shadow-overlay dark:shadow-overlayDark":!S},"flex min-h-0 min-w-0","data-[placement=bottom-end]:origin-top-right data-[placement=bottom-start]:origin-top-left data-[placement=top-end]:origin-bottom-right data-[placement=top-start]:origin-bottom-left",{"duration-150":!g,"animate-out fade-out zoom-out-[0.97] ease-in":G&&!g,"p-xs animate-in fade-in zoom-in-[0.97] ease-out":!g},t,T),"data-placement":B,children:[e,E&&o.jsx(fdt,{ref:N,context:D,className:E})]})})})}):null]})});lo.displayName="Popover";var wdt=f.createContext(void 0);function AF(e){const t=f.useContext(wdt);return e||t||"ltr"}function _dt(e,[t,n]){return Math.min(n,Math.max(t,e))}function Cdt(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var RF="ScrollArea",[Qme,SQt]=Zo(RF),[Sdt,po]=Qme(RF),Xme=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:a=600,...i}=e,[l,c]=f.useState(null),[u,d]=f.useState(null),[h,m]=f.useState(null),[g,v]=f.useState(null),[x,b]=f.useState(null),[w,C]=f.useState(0),[S,k]=f.useState(0),[E,T]=f.useState(!1),[j,N]=f.useState(!1),R=Fr(t,I=>c(I)),O=AF(s);return o.jsx(Sdt,{scope:n,type:r,dir:O,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:m,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:E,onScrollbarXEnabledChange:T,scrollbarY:x,onScrollbarYChange:b,scrollbarYEnabled:j,onScrollbarYEnabledChange:N,onCornerWidthChange:C,onCornerHeightChange:k,children:o.jsx(Jn.div,{dir:O,...i,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":S+"px",...e.style}})})});Xme.displayName=RF;var Zme="ScrollAreaViewport",Jme=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...a}=e,i=po(Zme,n),l=f.useRef(null),c=Fr(t,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),o.jsx(Jn.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Jme.displayName=Zme;var rc="ScrollAreaScrollbar",epe=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=po(rc,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return f.useEffect(()=>(l?a(!0):i(!0),()=>{l?a(!1):i(!1)}),[l,a,i]),s.type==="hover"?o.jsx(Mdt,{...r,ref:t,forceMount:n}):s.type==="scroll"?o.jsx(kdt,{...r,ref:t,forceMount:n}):s.type==="auto"?o.jsx(tpe,{...r,ref:t,forceMount:n}):s.type==="always"?o.jsx(LF,{...r,ref:t}):null});epe.displayName=rc;var Mdt=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=po(rc,e.__scopeScrollArea),[a,i]=f.useState(!1);return f.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),o.jsx(Da,{present:n||a,children:o.jsx(tpe,{"data-state":a?"visible":"hidden",...r,ref:t})})}),kdt=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=po(rc,e.__scopeScrollArea),a=e.orientation==="horizontal",i=TC(()=>c("SCROLL_END"),100),[l,c]=Cdt("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),f.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let h=u[d];const m=()=>{const g=u[d];h!==g&&(c("SCROLL"),i()),h=g};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,a,c,i]),o.jsx(Da,{present:n||l!=="hidden",children:o.jsx(LF,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:pn(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:pn(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),tpe=f.forwardRef((e,t)=>{const n=po(rc,e.__scopeScrollArea),{forceMount:r,...s}=e,[a,i]=f.useState(!1),l=e.orientation==="horizontal",c=TC(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?u:d)}},10);return L1(n.viewport,c),L1(n.content,c),o.jsx(Da,{present:r||a,children:o.jsx(LF,{"data-state":a?"visible":"hidden",...s,ref:t})})}),LF=f.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=po(rc,e.__scopeScrollArea),a=f.useRef(null),i=f.useRef(0),[l,c]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=ape(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function h(m,g){return Ldt(m,i.current,l,g)}return n==="horizontal"?o.jsx(Edt,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollLeft,g=$X(m,l,s.dir);a.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=h(m,s.dir))}}):n==="vertical"?o.jsx(Tdt,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollTop,g=$X(m,l);a.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=h(m))}}):null}),Edt=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=po(rc,e.__scopeScrollArea),[i,l]=f.useState(),c=f.useRef(null),u=Fr(t,c,a.onScrollbarXChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(rpe,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":EC(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(a.viewport){const m=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),ope(m,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Kw(i.paddingLeft),paddingEnd:Kw(i.paddingRight)}})}})}),Tdt=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=po(rc,e.__scopeScrollArea),[i,l]=f.useState(),c=f.useRef(null),u=Fr(t,c,a.onScrollbarYChange);return f.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(rpe,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":EC(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(a.viewport){const m=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),ope(m,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&i&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Kw(i.paddingTop),paddingEnd:Kw(i.paddingBottom)}})}})}),[Ndt,npe]=Qme(rc),rpe=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...m}=e,g=po(rc,n),[v,x]=f.useState(null),b=Fr(t,R=>x(R)),w=f.useRef(null),C=f.useRef(""),S=g.viewport,k=r.content-r.viewport,E=da(d),T=da(c),j=TC(h,10);function N(R){if(w.current){const O=R.clientX-w.current.left,I=R.clientY-w.current.top;u({x:O,y:I})}}return f.useEffect(()=>{const R=O=>{const I=O.target;v?.contains(I)&&E(O,k)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[S,v,k,E]),f.useEffect(T,[r,T]),L1(v,j),L1(g.content,j),o.jsx(Ndt,{scope:n,scrollbar:v,hasThumb:s,onThumbChange:da(a),onThumbPointerUp:da(i),onThumbPositionChange:T,onThumbPointerDown:da(l),children:o.jsx(Jn.div,{...m,ref:b,style:{position:"absolute",...m.style},onPointerDown:pn(e.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),w.current=v.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),N(R))}),onPointerMove:pn(e.onPointerMove,N),onPointerUp:pn(e.onPointerUp,R=>{const O=R.target;O.hasPointerCapture(R.pointerId)&&O.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=C.current,g.viewport&&(g.viewport.style.scrollBehavior=""),w.current=null})})})}),Yw="ScrollAreaThumb",spe=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=npe(Yw,e.__scopeScrollArea);return o.jsx(Da,{present:n||s.hasThumb,children:o.jsx(jdt,{ref:t,...r})})}),jdt=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,a=po(Yw,n),i=npe(Yw,n),{onThumbPositionChange:l}=i,c=Fr(t,h=>i.onThumbChange(h)),u=f.useRef(),d=TC(()=>{u.current&&(u.current(),u.current=void 0)},100);return f.useEffect(()=>{const h=a.viewport;if(h){const m=()=>{if(d(),!u.current){const g=Odt(h,l);u.current=g,l()}};return l(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[a.viewport,d,l]),o.jsx(Jn.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:pn(e.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),v=h.clientX-g.left,x=h.clientY-g.top;i.onThumbPointerDown({x:v,y:x})}),onPointerUp:pn(e.onPointerUp,i.onThumbPointerUp)})});spe.displayName=Yw;var OF="ScrollAreaCorner",Adt=f.forwardRef((e,t)=>{const n=po(OF,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?o.jsx(Rdt,{...e,ref:t}):null});Adt.displayName=OF;var Rdt=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=po(OF,n),[a,i]=f.useState(0),[l,c]=f.useState(0),u=!!(a&&l);return L1(s.scrollbarX,()=>{const d=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(d),c(d)}),L1(s.scrollbarY,()=>{const d=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(d),i(d)}),u?o.jsx(Jn.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Kw(e){return e?parseInt(e,10):0}function ape(e,t){const n=e/t;return isNaN(n)?0:n}function EC(e){const t=ape(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Ldt(e,t,n,r="ltr"){const s=EC(n),a=s/2,i=t||a,l=s-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return ipe([c,u],h)(e)}function $X(e,t,n="ltr"){const r=EC(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,i=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,i]:[i*-1,0],u=_dt(e,c);return ipe([0,i],[0,l])(u)}function ipe(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function ope(e,t){return e>0&&e<t}var Odt=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},i=n.left!==a.left,l=n.top!==a.top;(i||l)&&t(),n=a,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function TC(e,t){const n=da(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function L1(e,t){const n=da(t);Wl(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var Pdt=Xme,Idt=Jme,qX=epe,GX=spe;const mu=L.memo(({children:e,orientation:t="vertical",showScrollIndicator:n=!0,thumbClassName:r="",className:s,viewportRef:a,viewportClassName:i,showIndicatorOnHover:l=!0,onScroll:c})=>{const d="before:content-[''] before:absolute before:top-[50%] before:left-[50%] before:translate-x-[-50%] before:translate-y-[-50%] before:w-[100%] before:h-[100%] before:min-w-[10px] before:min-h-[10px]"+" rounded-full bg-idle duration-150 dark:bg-idleDark relative",h=W("flex flex-col p-[1px] duration-150",{"data-[state=visible]:opacity-100":n,"pointer-events-none":!n,"opacity-0":l,"opacity-100":!l});return o.jsxs(Pdt,{className:W("w-full overflow-hidden",s),children:[o.jsx(Idt,{className:W("h-full w-full",i),ref:a,onScroll:c,children:e}),["vertical","both"].includes(t)&&o.jsx(qX,{forceMount:!0,orientation:"vertical",className:h,children:o.jsx(GX,{className:`!w-[6px] ${d} ${r}`})}),["horizontal","both"].includes(t)&&o.jsx(qX,{forceMount:!0,orientation:"horizontal",className:h,children:o.jsx(GX,{className:`!h-[6px] ${d} ${r}`})})]})});mu.displayName="ScrollArea";const Ddt={super:"dark:!text-light-text text-white",red:"!text-white",darkOffset:"text-white",textColor:"dark:!text-light-text text-white",backToSchoolOrange:"dark:!text-light-text text-white",max:"dark:!text-light-text text-white"},lpe=L.memo(({text:e,variant:t="super",boxProps:n})=>o.jsx(Q,{variant:t,...n,className:W("px-xs -mt-px inline-flex h-[1rem] rounded-[0.3125rem]",n?.className),children:o.jsx(F,{variant:"tiny",className:W("leading-[1rem]",Ddt[t??"super"]??""),inline:!0,children:e})}));lpe.displayName="Badge";F.displayName="Badge";const Og=L.memo(({children:e,className:t,disabled:n,onClick:r,onMouseDown:s,onMouseEnter:a,onMouseMove:i,testId:l,rounded:c,href:u,focused:d,disableHoverStyles:h=!1,target:m="_blank",tooltipText:g})=>{const v=f.useRef(null),x=fo(),b=o.jsx("div",{className:W("relative select-none rounded-lg transition-all duration-300","px-sm py-1.5 md:h-full",{"hover:bg-offset cursor-pointer":!n&&!h,"cursor-pointer":!n&&h,rounded:c,"bg-offset":d}),children:e}),w=W("group/item md:h-full",t);return f.useEffect(()=>{v.current&&d&&v.current.scrollIntoView({behavior:"instant",block:"nearest"})},[d]),u&&!n?o.jsx(Nt,{href:u,target:m,className:w,onClick:r,"data-testid":l,children:b}):o.jsx(Mn,{tooltipText:g,showTooltip:!x&&!!g,tooltipLayout:"right",asChild:!0,children:o.jsx("div",{ref:v,"data-testid":l,className:w,onClick:n?void 0:r,onMouseDown:n?void 0:s,onMouseEnter:n?void 0:a,onMouseMove:n?void 0:i,children:b})})});Og.displayName="MenuItemWrapper";const Fdt=({icon:e,avatar:t,destructive:n})=>{if(t)return t;if(!e)return null;const r=W({"!text-caution":n},"opacity-90");return o.jsx(Ne,{icon:e,className:r,size:"sm"})},Udt=/\bgap(-[xy])?-/,Bdt={[tn.small]:"extraSmall",[tn.tiny]:"tiny"},Pg=L.memo(({customDescriptionNode:e,customTextNode:t,text:n,description:r,icon:s,avatar:a,label:i,badge:l,link:c,onLinkClick:u,size:d=tn.small,color:h="default",badgeVariant:m="super",destructive:g,leftElement:v,rightElement:x,bottomElement:b,className:w="",preserveLeftIconSpace:C=!1,textClassName:S})=>{const k=s||a;return o.jsxs("div",{className:W("flex",w,Udt.test(w)?"":"gap-sm"),children:[(k||C)&&o.jsx("div",{className:"flex",children:o.jsx(F,{color:h,className:"pt-two flex size-5 justify-center leading-none",children:!C||k?o.jsx(Fdt,{icon:s,avatar:a,destructive:g}):null})}),v,o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex flex-col gap-y-0.5",children:[t||o.jsxs(F,{variant:Bdt[d]??"baseSemi",color:h,className:W("flex items-center gap-x-1.5",{"!text-caution":g}),children:[o.jsx("span",{className:S,children:n}),l&&o.jsx(lpe,{text:l,variant:m})]}),e||r&&o.jsx(F,{className:"whitespace-pre-wrap",variant:"tinyRegular",color:"light",children:r}),c&&o.jsx(F,{variant:"tinyRegular",color:"super",onClick:u,children:c}),b]}),i&&o.jsx(F,{className:"mt-one whitespace-pre-wrap",variant:"tinyRegular",color:"light",children:i})]}),x]})});Pg.displayName="BaseMenuItem";const cpe=L.memo(e=>{const{active:t,show:n=!0,className:r,rounded:s,color:a="default",badgeVariant:i="super",disabled:l,href:c,onClick:u,onMouseDown:d,onMouseEnter:h,onMouseMove:m,testId:g,rightElement:v,focused:x,preserveRightElementSpace:b=!0,disableHoverStyles:w=!1,target:C,tooltipText:S}=e;if(!n)return null;let k=a;l?k="ultraLight":t&&(k="super");const E=v??o.jsx(F,{color:t?"super":k,className:"pr size-5",children:o.jsx(Ne,{icon:Pa,size:"sm",className:t?"opacity-100":"opacity-0","aria-hidden":!t})});return o.jsx(Og,{className:r,disabled:l,onClick:u,onMouseDown:d,onMouseEnter:h,onMouseMove:m,testId:g,rounded:s,href:c,focused:x,disableHoverStyles:w,target:C,tooltipText:S,children:o.jsx(Pg,{...e,color:k,badgeVariant:i,rightElement:b?E:v})})});cpe.displayName="DefaultMenuItem";const upe=L.memo(e=>{const{className:t,rounded:n,color:r="default",disabled:s,onClick:a,onMouseDown:i,onMouseEnter:l,onMouseMove:c,testId:u,selected:d,active:h,disableHoverStyles:m=!1,tooltipText:g}=e;let v=r;s?v="ultraLight":(h||d)&&(v="super");const x=f.useMemo(()=>o.jsx(F,{color:d?"super":v,children:o.jsx(Ne,{icon:d?Ece:e$e,size:"sm"})}),[v,d]);return o.jsx(Og,{className:t,disabled:s,onClick:a,onMouseDown:i,onMouseEnter:l,onMouseMove:c,testId:u,rounded:n,disableHoverStyles:m,tooltipText:g,children:o.jsx(Pg,{...e,color:v,rightElement:x})})});upe.displayName="MultiSelectMenuItem";const dpe=L.memo(e=>{const{className:t,rounded:n,color:r="default",disabled:s,onClick:a,onMouseDown:i,onMouseEnter:l,onMouseMove:c,testId:u,selected:d,active:h,rightElement:m,disableHoverStyles:g=!1,tooltipText:v}=e;let x=r;s?x="ultraLight":(h||d)&&(x="super");const b=f.useMemo(()=>o.jsxs("div",{className:"gap-x-sm flex items-start pt-0.5",children:[m,o.jsx(cf,{active:d,disabled:s,size:"small"})]}),[s,m,d]);return o.jsx(Og,{className:t,disabled:s,onClick:a,onMouseDown:i,onMouseEnter:l,onMouseMove:c,testId:u,rounded:n,disableHoverStyles:g,tooltipText:v,children:o.jsx(Pg,{...e,color:x,rightElement:b})})});dpe.displayName="ToggleMenuItem";const fpe=L.memo(e=>{const{className:t,rounded:n,color:r="default",disabled:s,onClick:a,onMouseDown:i,onMouseEnter:l,onMouseMove:c,testId:u,selected:d,active:h,showIconLeft:m=!1,disableHoverStyles:g=!1,tooltipText:v}=e;let x=r;(h||d)&&(x="super");const b=o.jsx(F,{color:d?x:"ultraLight",className:W("leading-non flex pt-0.5",{"opacity-50":s}),children:o.jsx(Ne,{icon:d?Gj:DHe,size:"sm"})});return o.jsx(Og,{className:t,disabled:s,onClick:a,onMouseDown:i,onMouseEnter:l,onMouseMove:c,testId:u,rounded:n,disableHoverStyles:g,tooltipText:v,children:o.jsx(Pg,{...e,rightElement:m?void 0:b,leftElement:m?b:void 0})})});fpe.displayName="RadioMenuItem";const hpe=L.memo(e=>{const{text:t,show:n,className:r}=e;return n?o.jsxs(o.Fragment,{children:[o.jsx(Q,{className:W("sm:mx-sm my-sm border-b first:hidden",r)}),t&&o.jsx(Q,{variant:"background",className:"sm:mx-sm mt-xs mb-sm pr-sm",children:o.jsx(F,{className:"w-max",variant:"tinyMono",color:"light",children:t})})]}):null});hpe.displayName="MenuItemSeparator";const Vdt=L.memo(e=>{const{className:t,rounded:n,color:r="default",disabled:s,onMouseDown:a,onMouseEnter:i,onMouseMove:l,testId:c,submenu:u,active:d,disableHoverStyles:h=!1,isSubmenuOpen:m,onSubmenuOpen:g,onSubmenuClose:v,menuWidth:x="200px"}=e;let b=r;s?b="ultraLight":d&&(b="super");const w=f.useMemo(()=>o.jsx(F,{color:"light",children:o.jsx(Ne,{icon:xa,size:"sm"})}),[]),C=f.useMemo(()=>({className:"min-w-0",style:{width:x}}),[x]),S=f.useMemo(()=>({hasInteractiveContent:!0}),[]);return o.jsx(Rn,{isOpen:m,items:u,placement:"right-end",onOpen:g,onClose:v,isMobileStyle:!1,hoverOpen:!0,boxProps:C,popoverProps:S,children:o.jsx(Og,{className:t,disabled:s,onMouseDown:a,onMouseEnter:i,onMouseMove:l,testId:c,rounded:n,disableHoverStyles:h,children:o.jsx(Pg,{...e,color:b,rightElement:w})})})}),O1=L.memo(e=>{switch(e.type){case"default":{const{type:t,...n}=e;return o.jsx(cpe,{...n})}case"multiSelect":{const{type:t,...n}=e;return o.jsx(upe,{...n})}case"toggle":{const{type:t,...n}=e;return o.jsx(dpe,{...n})}case"radio":{const{type:t,...n}=e;return o.jsx(fpe,{...n})}case"separator":{const{type:t,...n}=e;return o.jsx(hpe,{...n})}case"nested":{const{type:t,...n}=e;return o.jsx(Vdt,{...n})}}});O1.displayName="MenuItem";const hy=L.memo(({items:e,grid:t,cols:n=1,disableScrollArea:r=!1,menuItemClassName:s="",disableHoverStyles:a=!1})=>{const i=f.useMemo(()=>t&&n>1?{display:"grid",gridTemplateColumns:`repeat(${n}, minmax(0, 1fr))`,gap:"1px"}:void 0,[t,n]),l=({children:c})=>i?o.jsx("div",{style:i,children:c}):r?o.jsx("div",{className:"p-xs flex flex-col gap-px",children:c}):o.jsx(mu,{showIndicatorOnHover:!1,className:"p-xs",children:o.jsx("div",{className:"flex flex-col gap-px",children:c})});return o.jsx(l,{children:e.map((c,u)=>c.type==="separator"?o.jsx(O1,{...c},u):o.jsx(O1,{className:s,disableHoverStyles:a,...c},u))})}),Rn=L.memo(({isOpen:e,hoverOpen:t=!1,children:n,items:r,placement:s,disabled:a=!1,grid:i,onOpen:l,title:c,onClose:u,testid:d,isMobileStyle:h,boxProps:m,modalProps:g,popoverProps:v,cols:x=1,footer:b=null,menuItemClassName:w="",contentClassName:C="",wrapperClassName:S,header:k,alwaysShowChildren:E,size:T})=>{const[j,N]=f.useState(!1),R=e!==void 0,O=R?e:j,I=f.useCallback(()=>{if(!O&&!a){const U=l?.()??!0;!R&&U&&N(!0)}},[a,R,l,O]),B=f.useCallback(()=>{O&&!a&&(u?.(),R||N(!1))},[a,R,u,O]),D=f.useMemo(()=>r.map(U=>({...U,size:T??(h?tn.regular:void 0),onClick:H=>{!a&&"onClick"in U&&(U.onClick?.(H),U.type==="toggle"||U.type==="multiSelect"||B())}})),[a,B,r,T,h]),z=f.useMemo(()=>o.jsx(Q,{className:W("flex max-h-[80vh] min-h-0 min-w-[160px] flex-col",{"max-w-[250px]":!i,"gap-two grid max-w-lg":i}),...m,children:o.jsxs("div",{className:"flex h-full flex-col",children:[k&&o.jsx(Q,{className:"mb-sm mx-sm flex-shrink-0 border-b",children:k}),c&&o.jsx(Q,{testId:d,className:"mb-sm mx-sm flex-shrink-0 border-b",children:o.jsx(F,{variant:"smallBold",className:"py-sm mb-1",children:c})}),o.jsxs(mu,{orientation:"vertical",showIndicatorOnHover:!1,className:"min-h-0 flex-1 overflow-auto",children:[o.jsx(hy,{items:D,grid:i,cols:x,menuItemClassName:w,disableScrollArea:!0}),b]})]})}),[m,x,b,i,k,D,w,d,c]);return r.every(U=>U.show===!1)?E?n:null:h?o.jsxs(o.Fragment,{children:[o.jsx(Sn,{variant:"bottom-left-sheet",actionList:Fe,isOpen:O,onClose:B,...g,children:o.jsx(Q,{className:"divide-y",children:o.jsx(hy,{items:D,grid:i,menuItemClassName:w})})}),o.jsx("span",{className:S,onClick:t?void 0:U=>{U.stopPropagation(),I()},children:n})]}):o.jsx(lo,{...v,hoverOpen:t,isOpen:O,placement:s,onClose:B,onOpen:I,contentClassName:C,childrenClassName:S,content:z,children:n})}),mpe={SIDEBAR:"sidebar",LOGIN_MODAL:"login-modal"},Ga={ANSWER_MODE_TABS_ROOT:"answer-mode-tabs",ANSWER_MODE_TABS:{ANSWER:e=>`answer-mode-tabs-tab-${e}`,SEARCH:"answer-mode-tabs-tab-search",RESEARCH:"answer-mode-tabs-tab-research",SHOPPING:"answer-mode-tabs-tab-shopping",ASSETS:"answer-mode-tabs-tab-assets",JOBS:"answer-mode-tabs-tab-jobs",HOTELS:"answer-mode-tabs-tab-hotels",PLACES:"answer-mode-tabs-tab-places",IMAGES:"answer-mode-tabs-tab-images",VIDEOS:"answer-mode-tabs-tab-videos",SOURCES:"answer-mode-tabs-tab-sources",APPS:"answer-mode-tabs-tab-apps",TASKS:"answer-mode-tabs-tab-tasks"},ANSWER_MODE_JOBS:{FILTERS_ROOT:"jobs-filters"},ANSWER_MODE_VIDEO:{VIDEO_PREVIEW:"jobs-video-preview"},ANSWER_MODE_IMAGE:{IMAGE_PREVIEW:"jobs-image-preview"},ANSWER_MODE_SHOPPING:{SHOPPING_ITEM:"shopping-item"},ANSWER_MODE_PLACES:{PLACE_ITEM:"place-item"},ANSWER_MODE_HOTELS:{HOTEL_ITEM:"hotel-item"}},zdt=({autoFocus:e=!1,isSSO:t,email:n,emailInFlight:r,handleEmailClick:s,inputRef:a,handleKeyDown:i,setEmail:l,error:c,setError:u,placeholder:d,loginButtonsStyle:h})=>{const{$t:m}=ae(),{isMobileUserAgent:g}=qe(),v="regular",x="w-full h-11",b=W("h-11 border-none rounded-lg","!bg-offsetPlus");return o.jsxs(Q,{className:"space-y-xs",children:[o.jsx(lf,{autoFocus:e,isMobileUserAgent:g,type:"email",name:"email",className:b,pill:!1,errorText:c,placeholder:d||m(t?{defaultMessage:"Enter your work email",id:"jAgre55Zsn"}:{defaultMessage:"Enter your email",id:"5MDGuMLnEB"}),value:n,onKeyDown:i,onChange:w=>{u(""),l(w)},ref:a,disabled:r}),o.jsx("div",{className:"flex justify-center",children:t?o.jsx(Le,{chevron:!0,chevronIcon:xa,size:v,text:m(t?{defaultMessage:"Continue with SSO",id:"qank7+0V6w"}:{defaultMessage:"Continue with email",id:"l6yCDglZqT"}),extraCSS:W(x,"mt-xs"),variant:b2(h,!0),onClick:s,isLoading:r,disabled:n===""||r}):o.jsx(Le,{size:v,text:m({defaultMessage:"Continue with email",id:"l6yCDglZqT"}),onClick:s,isLoading:r,disabled:n===""||r,extraCSS:"w-full h-11 mt-xs",variant:b2(h,!0)})})]})},b2=(e,t)=>e==="highlightPrimary"?t?"primary":"common":e==="highlightBackToSchool"?t?"backToSchoolOrange":"common":"inverted",Hdt=({autoFocus:e,showInternal:t,disallowedMethods:n,className:r,email:s,setEmail:a,error:i,onClose:l,setError:c,handleEmailClick:u,handleKeyDown:d,emailInFlight:h,handleThirdPartySignIn:m,isSSO:g,setIsSSO:v,internalItems:x,envHasDevLogins:b,isMobileStyle:w,placeholder:C,showCloseButton:S,loginButtonsStyle:k})=>{const{$t:E}=ae(),T=L.useRef(null);return o.jsxs("div",{className:r,"data-testid":mpe.LOGIN_MODAL,children:[g&&o.jsx("div",{className:"absolute left-0 top-0 z-40",children:o.jsx(it,{size:"small",icon:Jle,onClick:()=>{v(!1),c(void 0)}})}),o.jsxs("div",{className:"mx-auto max-w-sm",children:[!g&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-sm mx-auto w-[90%]",children:[o.jsx(Le,{fullWidth:!0,leadingComponent:o.jsx(c$e,{size:18}),text:E({defaultMessage:"Continue with {google}",id:"Fc2NqN6N7A"},{google:"Google"}),onClick:()=>m("google"),extraCSS:"h-11",variant:b2(k,!0)}),n?.includes("apple")?o.jsx(o.Fragment,{children:!n?.includes("apple")&&o.jsx(Le,{fullWidth:!0,leadingComponent:o.jsx(wY,{className:"relative -top-px left-[2px]",size:18}),extraCSS:"h-11",variant:b2(k,!1),text:E({defaultMessage:"Continue with {apple}",id:"Iy1YQBJ5Tk"},{apple:"Apple"}),onClick:()=>m("apple")})}):o.jsx(Le,{fullWidth:!0,leadingComponent:o.jsx(wY,{className:"relative -top-px left-[2px]",size:18}),extraCSS:"h-11",variant:b2(k,!1),text:E({defaultMessage:"Continue with {apple}",id:"Iy1YQBJ5Tk"},{apple:"Apple"}),onClick:()=>m("apple")}),t&&b&&o.jsx(Q,{children:o.jsx(Rn,{items:x.map(j=>({type:"default",...j})),isMobileStyle:w,children:o.jsx(Le,{icon:WWe,text:"Internal Login",chevron:!0,fullWidth:!0,variant:"rejected"})})})]}),o.jsx(Q,{className:"mx-auto my-4 h-0 w-[90%] shrink-0 border-t"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"mx-auto w-[90%]",children:o.jsx(zdt,{autoFocus:e||g,isSSO:g,email:s,emailInFlight:h,handleEmailClick:u,inputRef:T,handleKeyDown:d,setError:c,setEmail:a,error:i,placeholder:C,loginButtonsStyle:k})}),!g&&!n?.includes("sso")&&o.jsx("div",{className:"mt-md flex justify-center",children:o.jsx(it,{size:"tiny",variant:"noBackground",text:E({defaultMessage:"Single sign-on (SSO)",id:"TI79WvQ5kU"}),onClick:()=>{v(!0)}})}),S&&o.jsxs(o.Fragment,{children:[o.jsx(Q,{className:"my-4 h-0 w-full shrink-0"}),o.jsx(it,{fullWidth:!0,variant:"noBackground",extraCSS:"border-none text-background-100",text:E({defaultMessage:"Close",id:"rbrahOGMC3"}),onClick:l})]})]})]})]})},Qw=({autoFocus:e=!1,onClose:t=Yn,redirectUrl:n,showInternal:r,disallowedMethods:s,className:a,preEnteredEmail:i,placeholder:l,showCloseButton:c=!0,loginButtonsStyle:u="allInverted"})=>{const d="login-modal-inner",[h,m]=L.useState(i??""),[g,v]=L.useState(),[x,b]=L.useState(!1),{emailIsValid:w,handleThirdPartySignIn:C,handleMagicLinkEmailSignIn:S,handleSSOSignIn:k,handleDevSignIn:E}=adt({email:h,onClose:t,redirectUrl:n??"/",onError:v,reason:d}),{envHasDevLogins:T}=af(),{isMobileStyle:j}=qe(),{$t:N}=ae(),[R,O]=L.useState(!1),{closeModal:I}=Gt(),B=f.useCallback(async()=>{if(!w){v(N({defaultMessage:"Please enter a valid email address",id:"oLpv295HWX"}));return}if(!x){if(b(!0),h.endsWith("@example.com")&&T&&!R){t(),await E("example.com",h.split("@")[0]),b(!1);return}R?await k():(await S(),await I()),b(!1)}},[w,x,h,T,R,N,t,E,k,S,I]),D=f.useCallback(V=>{yi.isEnterKeyWithoutShift(V)&&B()},[B]),z=[{icon:xWe,text:"Basic",onClick:()=>E("basic")},{icon:EF,text:"Pro",onClick:()=>E("pro")},{icon:pg,text:"Enterprise Member",onMouseDown:V=>V.preventDefault(),onClick:()=>E("enterpriseMember")},{icon:Vj,text:"Enterprise Admin",onMouseDown:V=>V.preventDefault(),onClick:()=>E("enterpriseAdmin")},{icon:Vj,text:"Enterprise Billing Admin",onMouseDown:V=>V.preventDefault(),onClick:()=>E("enterpriseBillingAdmin")},{icon:vw,text:"Script Default User",onClick:()=>E("script")},{icon:vw,text:"FE Test User",onClick:()=>E("frontendTest")}];return o.jsx(Hdt,{autoFocus:e,onClose:t,redirectUrl:n,showInternal:r,disallowedMethods:s,className:a,email:h,setEmail:m,handleEmailClick:B,handleKeyDown:D,error:g,setError:v,emailInFlight:x,setEmailInFlight:b,emailIsValid:w,handleThirdPartySignIn:C,isSSO:R,setIsSSO:O,handleDevSignIn:E,internalItems:z,envHasDevLogins:T,isMobileStyle:j,placeholder:l,showCloseButton:c,loginButtonsStyle:u})},Wdt=L.memo(({pitchMessage:e,origin:t,isOpen:n,closeModal:r,closeCallback:s,experimentalImageDesign:a,sheetModalDesign:i,overrideRedirectUrl:l,disallowedMethods:c,loginButtonsStyle:u})=>{const{$t:d}=ae(),h=Ct(),[m,g]=f.useState(""),{trackEvent:v}=Ye(),{isMobileStyle:x}=qe(),b=e?.title??d({defaultMessage:"Welcome",id:"PwaN2oE2pC"}),[w]=f.useState(!1),C=f.useCallback(()=>{r(),s?.()},[r,s]);return f.useEffect(()=>{n&&v("login modal opened",{origin:t})},[n,t,v]),f.useEffect(()=>{!h&&t&&g(kF(l??window.location.href,sm,t))},[h,t,l]),o.jsx(o.Fragment,{children:a?o.jsx(Sn,{isOpen:n,onClose:C,centerTitle:!!e,actionList:Fe,variant:"hide-chrome",children:o.jsx(wut,{title:b,handleClose:C,experimentalImageDesign:a,children:o.jsx(Qw,{autoFocus:!0,onClose:C,redirectUrl:m,disallowedMethods:c,loginButtonsStyle:u,showCloseButton:!1})})}):o.jsx(MF,{isOpen:n,onClose:C,shouldClose:w,centerTitle:!!e,actionList:Fe,variant:i,children:o.jsxs("div",{onClick:S=>S.stopPropagation(),children:[o.jsxs("div",{className:"px-lg mx-auto max-w-sm md:max-w-lg",children:[o.jsx(F,{variant:"page-title",className:"font-base text-pretty text-center font-serif leading-[1.3] md:text-4xl",children:e?.title??o.jsx(Ve,{defaultMessage:"Sign up below to <italic>unlock</italic> the full {br} potential of Perplexity",id:"exZDTeIaG0",values:{italic:S=>o.jsx("span",{className:"italic",children:S}),br:o.jsx("br",{})}})}),o.jsx(F,{className:"mt-md font-base text-pretty text-center leading-[1.3]",children:e?.description?e.description:o.jsx(Ve,{defaultMessage:"By continuing, you agree to our {privacyPolicyLink}.",id:"cE5rUKm7fb",values:{privacyPolicyLink:o.jsx(Nt,{className:"underline",target:"_blank",href:"https://www.perplexity.ai/hub/legal/privacy-policy",children:o.jsx(Ve,{defaultMessage:"privacy policy",id:"LIDXd2UwSl"})})}})}),o.jsx("div",{className:"mt-lg"})]}),o.jsx(Qw,{autoFocus:!x,onClose:C,redirectUrl:m,showInternal:!0,disallowedMethods:c,loginButtonsStyle:u})]})})})}),PF=L.memo(()=>o.jsx("div",{className:"bg-background fixed inset-0 z-[999] flex h-screen w-screen items-center justify-center opacity-50"}));PF.displayName="VoiceToVoiceModalLoader";var eR;(function(e){e.token_limit_exceeded="token_limit_exceeded",e.parsing_error="parsing_error",e.unknown_error="unknown_error",e.unauthorized="unauthorized",e.no_data_received="no_data_received",e.file_type_not_supported="file_type_not_supported",e.image_failed_moderation="image_failed_moderation"})(eR||(eR={}));var w2;(function(e){e.generic_upload_error="generic_upload_error",e.unsupported_type="unsupported_type",e.too_large="too_large",e.too_small="too_small",e.no_name="no_name",e.failed_moderation="failed_moderation",e.rate_limited="rate_limited",e.over_file_count="over_file_count",e.over_image_count="over_image_count"})(w2||(w2={}));const L5=e=>{const n=e.split("?")[0].split("#")[0].split(".").pop()?.toLowerCase();return n&&{png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",jpe:"image/jpeg",jp2:"image/jp2",gif:"image/gif",bmp:"image/bmp",tiff:"image/tiff",tif:"image/tiff",svg:"image/svg+xml",webp:"image/webp",ico:"image/x-icon",avif:"image/avif",heic:"image/heic",heif:"image/heif",pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",txt:"text/plain",csv:"text/csv",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",md:"text/markdown"}[n]||"application/octet-stream"},$dt=e=>{const t=e.meta_data?.repo_type;return e.is_attachment&&!t&&!e.meta_data?.file_uuid},qdt=e=>{if(!e)return!1;try{return new URL(e).hostname.includes("s3.amazonaws.com")}catch{return!1}},To=Ht({token_limit_exceeded:{id:"cnFlyTXVDl",defaultMessage:"File {filename} exceeds the model's token limit."},parsing_error:{id:"RdRRX8+YG/",defaultMessage:"Failed to parse file {filename}."},file_type_not_supported:{id:"IaflMSTTq6",defaultMessage:"File type not supported for {filename}."},unknown_error:{id:"zhy7qBi3Eu",defaultMessage:"Unknown error for file {filename}."},unauthorized:{id:"6bOe+cTUhc",defaultMessage:"User not authorised to access file {filename}."},no_data_received:{id:"34PXW7VvKh",defaultMessage:"No data received for file {filename}."},generic_upload_error:{id:"xVFvYDY5wK",defaultMessage:"File upload failed"},unsupported_type:{id:"VUOyYEDS96",defaultMessage:"The file type you uploaded is not supported."},too_large:{id:"XBcIjOYq8V",defaultMessage:"File too large: {max} maximum."},too_small:{id:"ZUyiNCx0Aw",defaultMessage:"File too small."},no_name:{id:"IkAmckATMw",defaultMessage:"File name is required."},image_failed_moderation:{id:"YCCLnMQDPb",defaultMessage:"File {filename} failed moderation."},failed_moderation:{id:"hnN6c9ExET",defaultMessage:"File upload failed moderation."},rate_limited:{id:"el7NlqcDQZ",defaultMessage:"You have reached the daily upload limit for your plan."},over_file_count:{id:"2+5sg16GUy",defaultMessage:"You are allowed up to {maxNumFiles, plural, one {# file} other {# files}} at once."},over_image_count:{id:"FIudmpgA1s",defaultMessage:"You are allowed up to {maxNumImages, plural, one {# image} other {# images}} at once."}}),IF=e=>!!(e?.meta_data?.connection_type&&e?.meta_data.connection_type!=="LOCAL"),my=e=>!!(e.is_attachment&&(e.meta_data?.file_uuid||e.url)&&!IF(e)),Gdt=1080;function Si(e){return typeof e=="string"?L5(e).startsWith("image/"):e.type.startsWith("image/")}const ppe=(e,t=32)=>`https://www.google.com/s2/favicons?sz=${t}&domain=${e}`,Ydt=(e,t,n)=>{const r=Math.max(e,t);if(r<=n)return{width:e,height:t};const s=n/r;return{width:Math.round(e*s),height:Math.round(t*s)}},Kdt=(e,t=Gdt)=>new Promise((n,r)=>{if(!Si(e)){r(new Error("File is not an image."));return}const s=document.createElement("canvas"),a=s.getContext("2d"),i=new Image,l=URL.createObjectURL(e);if(!a){r(new Error("Could not get canvas context"));return}i.onload=()=>{const c=Ydt(i.width,i.height,t);s.width=c.width,s.height=c.height,a.fillStyle="#fff",a.fillRect(0,0,s.width,s.height),a.drawImage(i,0,0,c.width,c.height),s.toBlob(u=>{if(!u){r(new Error("Failed to create blob from canvas"));return}const h=e.name.replace(/\.[^/.]+$/,"")+".jpg",m=new File([u],h,{type:"image/jpeg"});URL.revokeObjectURL(l),n(m)},"image/jpeg")},i.onerror=()=>{URL.revokeObjectURL(l),r(new Error("Failed to load image."))},i.src=l});var xk,YX;function Qdt(){return YX||(YX=1,xk=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,s,a;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[s]))return!1;for(s=r;s--!==0;){var i=a[s];if(!e(t[i],n[i]))return!1}return!0}return t!==t&&n!==n}),xk}var Xdt=Qdt();const Zdt=Js(Xdt);var h4={exports:{}},bk,KX;function Jdt(){if(KX)return bk;KX=1;var e;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return e=function(){var t={},n={};return t.on=function(r,s){var a={name:r,handler:s};return n[r]=n[r]||[],n[r].unshift(a),a},t.off=function(r){var s=n[r.name].indexOf(r);s!==-1&&n[r.name].splice(s,1)},t.trigger=function(r,s){var a=n[r],i;if(a)for(i=a.length;i--;)a[i].handler(s)},t},bk=e,bk}var m4={exports:{}},wk,QX;function eft(){if(QX)return wk;QX=1,wk=function(s,a,i){var l=document.head||document.getElementsByTagName("head")[0],c=document.createElement("script");typeof a=="function"&&(i=a,a={}),a=a||{},i=i||function(){},c.type=a.type||"text/javascript",c.charset=a.charset||"utf8",c.async="async"in a?!!a.async:!0,c.src=s,a.attrs&&e(c,a.attrs),a.text&&(c.text=""+a.text);var u="onload"in c?t:n;u(c,i),c.onload||t(c,i),l.appendChild(c)};function e(r,s){for(var a in s)r.setAttribute(a,s[a])}function t(r,s){r.onload=function(){this.onerror=this.onload=null,s(null,r)},r.onerror=function(){this.onerror=this.onload=null,s(new Error("Failed to load "+this.src),r)}}function n(r,s){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,s(null,r))}}return wk}var XX;function tft(){return XX||(XX=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=eft(),r=s(n);function s(a){return a&&a.__esModule?a:{default:a}}t.default=function(a){var i=new Promise(function(l){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){l(window.YT);return}else{var c=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(c+"//www.youtube.com/iframe_api",function(d){d&&a.trigger("error",d)})}var u=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){u&&u(),l(window.YT)}});return i},e.exports=t.default}(m4,m4.exports)),m4.exports}var p4={exports:{}},g4={exports:{}},v4={exports:{}},_k,ZX;function nft(){if(ZX)return _k;ZX=1;var e=1e3,t=e*60,n=t*60,r=n*24,s=r*365.25;_k=function(u,d){d=d||{};var h=typeof u;if(h==="string"&&u.length>0)return a(u);if(h==="number"&&isNaN(u)===!1)return d.long?l(u):i(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function a(u){if(u=String(u),!(u.length>100)){var d=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(u);if(d){var h=parseFloat(d[1]),m=(d[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return h*s;case"days":case"day":case"d":return h*r;case"hours":case"hour":case"hrs":case"hr":case"h":return h*n;case"minutes":case"minute":case"mins":case"min":case"m":return h*t;case"seconds":case"second":case"secs":case"sec":case"s":return h*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function i(u){return u>=r?Math.round(u/r)+"d":u>=n?Math.round(u/n)+"h":u>=t?Math.round(u/t)+"m":u>=e?Math.round(u/e)+"s":u+"ms"}function l(u){return c(u,r,"day")||c(u,n,"hour")||c(u,t,"minute")||c(u,e,"second")||u+" ms"}function c(u,d,h){if(!(u<d))return u<d*1.5?Math.floor(u/d)+" "+h:Math.ceil(u/d)+" "+h+"s"}return _k}var JX;function rft(){return JX||(JX=1,function(e,t){t=e.exports=s.debug=s.default=s,t.coerce=c,t.disable=i,t.enable=a,t.enabled=l,t.humanize=nft(),t.names=[],t.skips=[],t.formatters={};var n;function r(u){var d=0,h;for(h in u)d=(d<<5)-d+u.charCodeAt(h),d|=0;return t.colors[Math.abs(d)%t.colors.length]}function s(u){function d(){if(d.enabled){var h=d,m=+new Date,g=m-(n||m);h.diff=g,h.prev=n,h.curr=m,n=m;for(var v=new Array(arguments.length),x=0;x<v.length;x++)v[x]=arguments[x];v[0]=t.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");var b=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,function(C,S){if(C==="%%")return C;b++;var k=t.formatters[S];if(typeof k=="function"){var E=v[b];C=k.call(h,E),v.splice(b,1),b--}return C}),t.formatArgs.call(h,v);var w=d.log||t.log||console.log.bind(console);w.apply(h,v)}}return d.namespace=u,d.enabled=t.enabled(u),d.useColors=t.useColors(),d.color=r(u),typeof t.init=="function"&&t.init(d),d}function a(u){t.save(u),t.names=[],t.skips=[];for(var d=(typeof u=="string"?u:"").split(/[\s,]+/),h=d.length,m=0;m<h;m++)d[m]&&(u=d[m].replace(/\*/g,".*?"),u[0]==="-"?t.skips.push(new RegExp("^"+u.substr(1)+"$")):t.names.push(new RegExp("^"+u+"$")))}function i(){t.enable("")}function l(u){var d,h;for(d=0,h=t.skips.length;d<h;d++)if(t.skips[d].test(u))return!1;for(d=0,h=t.names.length;d<h;d++)if(t.names[d].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}}(v4,v4.exports)),v4.exports}var eZ;function sft(){return eZ||(eZ=1,function(e,t){var n={};t=e.exports=rft(),t.log=a,t.formatArgs=s,t.save=i,t.load=l,t.useColors=r,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:c(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function r(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(u){try{return JSON.stringify(u)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}};function s(u){var d=this.useColors;if(u[0]=(d?"%c":"")+this.namespace+(d?" %c":" ")+u[0]+(d?"%c ":" ")+"+"+t.humanize(this.diff),!!d){var h="color: "+this.color;u.splice(1,0,h,"color: inherit");var m=0,g=0;u[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(m++,v==="%c"&&(g=m))}),u.splice(g,0,h)}}function a(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function i(u){try{u==null?t.storage.removeItem("debug"):t.storage.debug=u}catch{}}function l(){var u;try{u=t.storage.debug}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=n.DEBUG),u}t.enable(l());function c(){try{return window.localStorage}catch{}}}(g4,g4.exports)),g4.exports}var y4={exports:{}},tZ;function aft(){return tZ||(tZ=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default}(y4,y4.exports)),y4.exports}var x4={exports:{}},nZ;function ift(){return nZ||(nZ=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default}(x4,x4.exports)),x4.exports}var b4={exports:{}},w4={exports:{}},rZ;function oft(){return rZ||(rZ=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default}(w4,w4.exports)),w4.exports}var sZ;function lft(){return sZ||(sZ=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=oft(),r=s(n);function s(a){return a&&a.__esModule?a:{default:a}}t.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default}(b4,b4.exports)),b4.exports}var aZ;function cft(){return aZ||(aZ=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=sft(),r=d(n),s=aft(),a=d(s),i=ift(),l=d(i),c=lft(),u=d(c);function d(g){return g&&g.__esModule?g:{default:g}}var h=(0,r.default)("youtube-player"),m={};m.proxyEvents=function(g){var v={},x=function(j){var N="on"+j.slice(0,1).toUpperCase()+j.slice(1);v[N]=function(R){h('event "%s"',N,R),g.trigger(j,R)}},b=!0,w=!1,C=void 0;try{for(var S=l.default[Symbol.iterator](),k;!(b=(k=S.next()).done);b=!0){var E=k.value;x(E)}}catch(T){w=!0,C=T}finally{try{!b&&S.return&&S.return()}finally{if(w)throw C}}return v},m.promisifyPlayer=function(g){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x={},b=function(N){v&&u.default[N]?x[N]=function(){for(var R=arguments.length,O=Array(R),I=0;I<R;I++)O[I]=arguments[I];return g.then(function(B){var D=u.default[N],z=B.getPlayerState(),V=B[N].apply(B,O);return D.stateChangeRequired||Array.isArray(D.acceptableStates)&&D.acceptableStates.indexOf(z)===-1?new Promise(function(U){var H=function q(){var $=B.getPlayerState(),G=void 0;typeof D.timeout=="number"&&(G=setTimeout(function(){B.removeEventListener("onStateChange",q),U()},D.timeout)),Array.isArray(D.acceptableStates)&&D.acceptableStates.indexOf($)!==-1&&(B.removeEventListener("onStateChange",q),clearTimeout(G),U())};B.addEventListener("onStateChange",H)}).then(function(){return V}):V})}:x[N]=function(){for(var R=arguments.length,O=Array(R),I=0;I<R;I++)O[I]=arguments[I];return g.then(function(B){return B[N].apply(B,O)})}},w=!0,C=!1,S=void 0;try{for(var k=a.default[Symbol.iterator](),E;!(w=(E=k.next()).done);w=!0){var T=E.value;b(T)}}catch(j){C=!0,S=j}finally{try{!w&&k.return&&k.return()}finally{if(C)throw S}}return x},t.default=m,e.exports=t.default}(p4,p4.exports)),p4.exports}var iZ;function uft(){return iZ||(iZ=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},r=Jdt(),s=u(r),a=tft(),i=u(a),l=cft(),c=u(l);function u(h){return h&&h.__esModule?h:{default:h}}var d=void 0;t.default=function(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,v=(0,s.default)();if(d||(d=(0,i.default)(v)),m.events)throw new Error("Event handlers cannot be overwritten.");if(typeof h=="string"&&!document.getElementById(h))throw new Error('Element "'+h+'" does not exist.');m.events=c.default.proxyEvents(v);var x=new Promise(function(w){if((typeof h>"u"?"undefined":n(h))==="object"&&h.playVideo instanceof Function){var C=h;w(C)}else d.then(function(S){var k=new S.Player(h,m);return v.on("ready",function(){w(k)}),null})}),b=c.default.promisifyPlayer(x,g);return b.on=v.on,b.off=v.off,b},e.exports=t.default}(h4,h4.exports)),h4.exports}var dft=uft();const fft=Js(dft);var hft=Object.defineProperty,mft=Object.defineProperties,pft=Object.getOwnPropertyDescriptors,oZ=Object.getOwnPropertySymbols,gft=Object.prototype.hasOwnProperty,vft=Object.prototype.propertyIsEnumerable,lZ=(e,t,n)=>t in e?hft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tR=(e,t)=>{for(var n in t||(t={}))gft.call(t,n)&&lZ(e,n,t[n]);if(oZ)for(var n of oZ(t))vft.call(t,n)&&lZ(e,n,t[n]);return e},nR=(e,t)=>mft(e,pft(t)),yft=(e,t,n)=>new Promise((r,s)=>{var a=c=>{try{l(n.next(c))}catch(u){s(u)}},i=c=>{try{l(n.throw(c))}catch(u){s(u)}},l=c=>c.done?r(c.value):Promise.resolve(c.value).then(a,i);l((n=n.apply(e,t)).next())});function xft(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const s=((n=e.opts)==null?void 0:n.playerVars)||{},a=((r=t.opts)==null?void 0:r.playerVars)||{};return s.start!==a.start||s.end!==a.end}function cZ(e={}){return nR(tR({},e),{height:0,width:0,playerVars:nR(tR({},e.playerVars),{autoplay:0,start:0,end:0})})}function bft(e,t){return e.videoId!==t.videoId||!Zdt(cZ(e.opts),cZ(t.opts))}function wft(e,t){var n,r,s,a;return e.id!==t.id||e.className!==t.className||((n=e.opts)==null?void 0:n.width)!==((r=t.opts)==null?void 0:r.width)||((s=e.opts)==null?void 0:s.height)!==((a=t.opts)==null?void 0:a.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title}var _ft={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},Cft={videoId:Ae.string,id:Ae.string,className:Ae.string,iframeClassName:Ae.string,style:Ae.object,title:Ae.string,loading:Ae.oneOf(["lazy","eager"]),opts:Ae.objectOf(Ae.any),onReady:Ae.func,onError:Ae.func,onPlay:Ae.func,onPause:Ae.func,onEnd:Ae.func,onStateChange:Ae.func,onPlaybackRateChange:Ae.func,onPlaybackQualityChange:Ae.func},O5=class extends L.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=t=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,t)},this.onPlayerError=t=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,t)},this.onPlayerStateChange=t=>{var n,r,s,a,i,l,c,u;switch((r=(n=this.props).onStateChange)==null||r.call(n,t),t.data){case O5.PlayerState.ENDED:(a=(s=this.props).onEnd)==null||a.call(s,t);break;case O5.PlayerState.PLAYING:(l=(i=this.props).onPlay)==null||l.call(i,t);break;case O5.PlayerState.PAUSED:(u=(c=this.props).onPause)==null||u.call(c,t);break}},this.onPlayerPlaybackRateChange=t=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,t)},this.onPlayerPlaybackQualityChange=t=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,t)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const t=nR(tR({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=fft(this.container,t),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var t;(t=this.internalPlayer)==null||t.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var t,n,r,s;if(typeof this.props.videoId>"u"||this.props.videoId===null){(t=this.internalPlayer)==null||t.stopVideo();return}let a=!1;const i={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(a=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(i.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(i.endSeconds=this.props.opts.playerVars.end)),a){(r=this.internalPlayer)==null||r.loadVideoById(i);return}(s=this.internalPlayer)==null||s.cueVideoById(i)},this.refContainer=t=>{this.container=t},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return yft(this,null,function*(){wft(e,this.props)&&this.updatePlayer(),bft(e,this.props)&&(yield this.resetPlayer()),xft(e,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return L.createElement("div",{className:this.props.className,style:this.props.style},L.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},NC=O5;NC.propTypes=Cft;NC.defaultProps=_ft;NC.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var uZ=NC;const dZ={fadeIn:{opacity:1},fadeOut:{opacity:0}},Sft={width:"100%",height:"100%",playerVars:{autoplay:1,color:"white",playsinline:1}},Ig=L.memo(e=>{const{isOpen:t,name:n,setisOpen:r,url:s}=e,a=s?sf(s):void 0,i=f.useRef(void 0),[l,c]=f.useState(!1),u=f.useCallback(m=>{i.current=m.target,c(!0)},[i]),d=f.useCallback(m=>{if(i.current)switch(m.key){case" ":{i.current.getPlayerState()===uZ.PlayerState.PLAYING?i.current.pauseVideo():i.current.playVideo();break}case"ArrowRight":{i.current.seekTo(i.current.getCurrentTime()+5,!0);break}case"ArrowLeft":{i.current.seekTo(i.current.getCurrentTime()-5,!0);break}}},[i]);f.useEffect(()=>(t?window.addEventListener("keydown",d):window.removeEventListener("keydown",d),()=>{window.removeEventListener("keydown",d)}),[d,t]);const h=f.useCallback(m=>{r(m)},[r]);return a?o.jsx(YD,{open:t,onOpenChange:h,children:o.jsx(Nfe,{className:"z-[10]",asChild:!0,children:o.jsxs(je.div,{className:"bg-backdrop/65 fixed inset-0 flex items-center justify-center backdrop-blur-md",initial:"fadeOut",animate:"fadeIn",exit:"fadeOut",variants:dZ,transition:{duration:.2},children:[o.jsx(Hnt,{asChild:!0,children:o.jsx(Le,{extraCSS:"!fixed top-md right-md shadow-sm",icon:yn,pill:!0,size:"small",variant:"common"})}),o.jsxs(cC,{className:"grid outline-none","aria-describedby":void 0,children:[o.jsx(_x,{children:o.jsx(uC,{children:n})}),o.jsxs(kt,{children:[!l&&o.jsx(je.div,{className:"grid place-items-center [grid-area:1/-1]",initial:"fadeOut",animate:"fadeIn",exit:"fadeOut",transition:{duration:.2},variants:dZ,children:o.jsx(Cu,{size:24})},"youtube-player-loading"),o.jsx(je.div,{className:W("aspect-video overflow-hidden rounded-2xl shadow-lg [grid-area:1/-1] *:size-full","w-[calc(100dvw-(2*var(--size-md)))] sm:w-[75vw]"),initial:{opacity:0},animate:{opacity:l?1:0},transition:{duration:.2},children:o.jsx(uZ,{onReady:u,opts:Sft,title:n,videoId:a})},"youtube-player-content")]})]})]},"youtube-player-overlay")})}):null});Ig.displayName="YoutubeVideoPlayer";const gpe=L.createContext({isVisible:!1}),vpe=L.memo(function(t){const{children:n}=t,[r,s]=f.useState((typeof document<"u"&&document?.visibilityState==="hidden")??!1);return f.useEffect(()=>{if(typeof window>"u")return;function a(){s(document.visibilityState==="hidden")}return document.addEventListener("visibilitychange",a,!1),()=>{typeof window>"u"||document.removeEventListener("visibilitychange",a)}},[]),o.jsx(gpe.Provider,{value:{isVisible:r},children:n})});vpe.displayName="VisibilityChangeProvider";function Mft(){return f.useContext(gpe)}const ype=L.forwardRef(function(t,n){const{bounceDuration:r=6e4,blurDuration:s=5e3,children:a,href:i,trackEvent:l,className:c,onClickLink:u,...d}=t,[h,m]=f.useState(null),[g,v]=f.useState(null),x=f.useRef(!1),{isVisible:b}=Mft();f.useEffect(()=>{if(!(x.current||!h)){if(h&&!g&&!b){const C=Date.now();C-h<s?v(C):x.current=!0;return}if(h&&g&&b){const C=Date.now()-g;C<r&&!x.current&&l?.("bounced from external link",{url:i,timeSpent:C}),v(null),x.current=!0}}},[s,g,r,h,i,b,l]);const w=f.useCallback(()=>{u?.(),m(Date.now()),x.current=!1},[u]);return o.jsx(Nt,{ref:n,href:i,target:"_blank",rel:"noopener",className:c,onClick:w,...d,children:a})}),DF=L.memo(function(t){const{className:n,children:r,result:s,trackEvent:a,...i}=t,l=W("group flex w-full cursor-pointer items-stretch h-full",n);return fde(s)?o.jsx(ype,{className:l,href:s.url,trackEvent:a,...i,children:o.jsx("div",{className:"w-full",children:r})}):o.jsx(o.Fragment,{children:r})});DF.displayName="CitationCardLink";const xpe=e=>e.is_scrubbed??!1,kft=e=>jC(e)?xpe(e):!1,jC=e=>e.is_memory||e.is_conversation_history,Eft=e=>e.is_memory,AC=e=>{const t=e.is_client_context,n=kft(e);return t||n},Tft=br({path:"M16.265 19.352h.1l4.933-12.484c.485-1.201.927-1.792 1.369-2.056V4.69h-2.97v.122c.622.346.762 1.283.34 2.361l-3.03 7.698-4.115-10.223h-.099L8.458 14.853 5.347 6.826c-.361-.956-.26-1.67.32-2.014V4.69H1.334v.122c.462.244.803.753 1.224 1.792l5.098 12.748h.1L12.05 9.027l4.215 10.325Z",name:"IconBrandWiley",variant:"filled"});function Nft(e,t,n=2){if(e==null)return"";const r=e.includes(".")?e.slice(e.lastIndexOf(".")):"",s=e.substring(0,e.length-r.length);return s.length>t?s.substring(0,t-r.length-3)+".".repeat(n)+r:s+r}const RC=e=>{try{return(new URL(e).pathname.split("/").pop()||"").split(".").pop()?.toLowerCase()}catch{return e.split(".").pop()?.toLowerCase()}},bpe=e=>e.file.type.includes("image"),jft=e=>e.file.type==="application/pdf",Aft=e=>e.file.type==="text/csv"||e.file.type=="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",Rft=e=>e.file.type==="text/plain"||e.file.type==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"||e.file.type==="text/markdown",rR={txt:"text/plain",pdf:"application/pdf",jpeg:"image/jpeg",jpg:"image/jpeg",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",md:"text/markdown",png:"image/png",csv:"text/csv"},Lft=e=>{if(e<0)throw new Error("Number of bytes cannot be negative");const t=["B","KB","MB","GB"];let n=0,r=e;for(;r>=1e3&&n<t.length-1;)r/=1e3,n++;return`${r%1===0?r.toString():r.toFixed(1)} ${t[n]}`},jo={PDF:"pdf",TXT:"txt",CSV:"csv",XLSX:"xlsx",DOCX:"docx",PPTX:"pptx",MARKDOWN:"md",JSON:"json",JPG:"jpg",JPEG:"jpeg",PNG:"png"},Oft=e=>{switch(RC(e)){case jo.TXT:return fh;case jo.MARKDOWN:return fh;case jo.PDF:return hce;case jo.XLSX:return fce;case jo.CSV:return ZHe;case jo.DOCX:return JHe;case jo.PPTX:return tWe;case jo.JPG:case jo.JPEG:case jo.PNG:return mx;default:return nf}},Pft={"my.apps.factset.com":"www.factset.com"},pu=L.memo(({domain:e,overrideIconUrl:t,size:n=16,hideBorder:r=!1,className:s,...a})=>{const i=Pft[e]||e,l=ppe(i,128),c=f.useMemo(()=>t||l,[t,l]),[u,d]=f.useState(!0);f.useEffect(()=>{d(!0)},[c]);const h=f.useMemo(()=>({width:n,height:n}),[n]),m=f.useMemo(()=>({width:n*.7,height:n*.7}),[n]);return o.jsxs("div",{style:{width:n,height:n},className:W("relative overflow-hidden rounded-full",s),...a,children:[u?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:W("rounded-inherit absolute inset-0",!r&&"bg-white")}),o.jsx("img",{className:"relative block",src:c,alt:`${e} favicon`,width:n,height:n,onLoad:g=>{const v=g.target,x=t!==void 0||v.naturalWidth!==16||v.naturalHeight!==16;d(x||e!==i)},onError:()=>{d(!1)},style:{width:n,height:n}})]}):o.jsx(Q,{variant:"offset",style:h,className:"flex items-center justify-center",children:o.jsx(F,{color:"ultraLight",children:o.jsx(Ne,{icon:gx,className:"relative block",style:m})})}),!r&&o.jsx("div",{className:"rounded-inherit absolute bottom-0 left-0 right-0 top-0 border border-[black]/10 dark:border-transparent"})]})}),Ift={[Gn.GOOGLE_DRIVE]:xHe,[Gn.ONEDRIVE]:_He,[Gn.SHAREPOINT]:rce,[Gn.DROPBOX]:iut,[Gn.BOX]:aut,[Gn.GENERATED_IMAGE]:mx,[Gn.GENERATED_VIDEO]:kce,[Gn.NOTION]:wHe,[Gn.WILEY]:Tft,[Gn.LOCAL]:nf},wpe=L.memo(({url:e,isConversationHistory:t,isMemory:n,isInlineAttachment:r,connectionType:s,isAttachment:a,isClientContext:i})=>{const l=f.useMemo(()=>{const c=Z_(e),u=a?Oft(e):null;if(t)return o.jsx(Ne,{icon:vg,size:"xs"});if(n)return o.jsx(Ne,{icon:gg,size:"xs"});if(r)return o.jsx(Ne,{icon:cI,size:"xs"});if(s){const d=Ift[s];return d?o.jsx(Ne,{icon:d}):o.jsx(pu,{domain:c})}else return a?o.jsx(Ne,{icon:u||nf,size:"xs"}):i?o.jsx(Ne,{icon:pWe,size:"xs"}):o.jsx(pu,{domain:c})},[e,t,n,r,s,a,i]);return o.jsx("div",{className:"flex size-4 items-center justify-center",children:l})}),_pe=L.memo(({url:e,source:t,isAttachment:n,connectionType:r,isConversationHistory:s})=>{const a=ae(),i=f.useMemo(()=>{if(s)return a.formatMessage({defaultMessage:"library",id:"B7J+pmy9R5"});if(t!=null)return t;let l;return n?l=hde(e):r?l=CF(r):l=no(e),l.replace(/\.[^.]*$/,"")},[e,t,n,r,s,a]);return o.jsx(o.Fragment,{children:i.toLocaleLowerCase()})}),Dft=L.memo(({url:e,source:t,isAttachment:n,isClientContext:r,variant:s="small",color:a="default",truncate:i=!0,className:l,connectionType:c,isInlineAttachment:u,isMemory:d,isConversationHistory:h,name:m,snippet:g,...v})=>o.jsxs(Q,{className:"flex items-center gap-x-1.5",children:[o.jsx(F,{variant:s,className:"relative -mt-px flex-none",color:d||h?"light":a,children:o.jsx(wpe,{url:e,isConversationHistory:h,isMemory:d,isInlineAttachment:u,connectionType:c,isAttachment:n,isClientContext:r})}),m&&o.jsx(F,{variant:s,color:a,...v,className:W(l,"min-w-0 truncate"),children:m}),o.jsx(F,{variant:s,color:m?"light":a,className:W("line-clamp-1 min-w-0 grow break-all transition-all duration-300",{"max-w-[150px]":t!=null&&i},l),...v,children:o.jsx(_pe,{url:e,source:t,isAttachment:n,connectionType:c,isMemory:d,isConversationHistory:h})})]})),Dg=Object.assign(Dft,{Icon:wpe,Source:_pe}),FF=L.memo(({variant:e="medium",searchType:t})=>{const n=t==="memory",s=W("flex items-center justify-between w-full",e==="small"?"mb-0":"mb-2");return o.jsxs("div",{className:s,children:[o.jsxs(F,{className:"flex items-center gap-2",variant:"tiny",color:"light",children:[o.jsx(Ne,{icon:n?gg:vg,size:"sm"}),n?o.jsx(Ve,{defaultMessage:"Memory",id:"dVx3yznM2C"}):o.jsx(Ve,{defaultMessage:"Library",id:"StcK672jB9"})]}),o.jsx(F,{variant:"tiny",color:"ultraLight",children:o.jsx(Ne,{icon:ww,size:"sm"})})]})});FF.displayName="MemorySearchCitationCardTitle";const Cpe=L.memo(function(t){const{$t:n}=ae(),{result:r,citationNumber:s,additionalMetadata:a,variant:i}=t,l=r.url,c=r.meta_data?.generated_file_description??r.snippet,u=r.meta_data?.generated_file_title??r.name,d=r?.is_client_context,h=!!r.meta_data?.connection_type,m=typeof r.meta_data?.quoteBeforeContext=="string"?r.meta_data?.quoteBeforeContext:"",g=typeof r.meta_data?.quoteEmphasisText=="string"?r.meta_data?.quoteEmphasisText:"",v=typeof r.meta_data?.quoteAfterContext=="string"?r.meta_data?.quoteAfterContext:"",x=m.length>0||g.length>0||v.length>0,b=i!=="grid"&&c&&x,w=r.meta_data?.repo_type,C=typeof r.meta_data?.wiley_book_uuid=="string",S=typeof r.meta_data?.domain_name=="string"?r.meta_data?.domain_name:void 0,k=$dt(r),E=()=>{if(h&&r.meta_data?.connection_type!==Gn.WILEY)return CF(r.meta_data?.connection_type);if(r.is_attachment){if(w=="USER")return n({defaultMessage:"Local Files",id:"FBnEWaGOHR"});if(w=="ORG")return n({defaultMessage:"Org Files",id:"DaFSYzpM1Q"});if(w=="COLLECTION")return n({defaultMessage:"Files",id:"m4vqJl0/FT"});if(!r?.meta_data?.file_uuid)return n({defaultMessage:"Attachment",id:"eLCAEP8LHj"})}return S},T=jC(r),j=r.is_memory,N=AC(r);return o.jsxs("div",{className:W("items gap-xs pointer-events-none relative flex h-full max-w-full select-none flex-col",{"px-sm pb-sm pt-sm w-full":i==="grid"},{"p-md":i!=="grid"}),children:[o.jsxs("div",{className:"flex w-full items-center justify-between",children:[T&&!N?o.jsx(FF,{variant:"small",searchType:j?"memory":"conversation-history"}):o.jsxs("div",{className:"space-x-xs flex",children:[a||(i!=="grid"?o.jsxs(o.Fragment,{children:[o.jsx(F,{variant:"tiny",color:"light",children:s}),o.jsx(F,{variant:"tiny",color:"light",children:"·"})]}):null),o.jsx(Dg,{variant:"tiny",color:"light",url:l,isAttachment:r.is_attachment,connectionType:r.meta_data?.connection_type,source:E(),isInlineAttachment:k})]}),o.jsxs("div",{children:[C&&o.jsx(F,{variant:"tiny",color:"super",children:o.jsx(Ne,{size:"sm",icon:Rce})}),d&&i==="grid"?o.jsx(F,{variant:"tiny",color:"super",children:o.jsx(Ne,{size:"sm",icon:jce})}):null]})]}),o.jsx(F,{variant:i==="grid"?"tiny":i==="list"?"small":"base",className:W("",{"":i==="grid","pr-1":i==="list"}),children:j&&!N?o.jsx(F,{variant:"tiny",className:"line-clamp-2",children:r?.snippet}):o.jsx("span",{className:"line-clamp-1 text-left md:line-clamp-2",children:u||o.jsx("div",{children:" "})})}),u!==r.name?o.jsx(F,{variant:"small",color:"light",className:"line-clamp-1",children:r.name}):null,b&&o.jsxs(F,{variant:i==="list"?"tiny":"small",className:"mt-two line-clamp-8 border-super border-l-4 pl-2 font-normal",children:[o.jsx("span",{children:m}),o.jsx("span",{className:"bg-super/30",children:g}),o.jsx("span",{children:v})]}),i!=="grid"&&c&&!x&&o.jsx(F,{variant:i==="list"?"tiny":"small",className:"mt-two line-clamp-1 font-normal md:line-clamp-4",children:c}),N&&i!=="grid"?o.jsxs(Q,{className:"gap-xs pt-sm mt-xs flex items-center border-t",children:[o.jsx(F,{variant:"tiny",color:"super",children:o.jsx(Ne,{size:"sm",icon:ww})}),o.jsx(F,{variant:"tiny",color:"super",children:o.jsx(Ve,{defaultMessage:"Personal Search",id:"7+aLCEyqS2",description:"title"})})]}):null]})});Cpe.displayName="CitationDefaultCard";function Spe(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Ck={},fZ;function Fft(){return fZ||(fZ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="microchip-ai",r=512,s=512,a=[],i="e1ec",l="M176 24c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40c-35.3 0-64 28.7-64 64l-40 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l40 0 0 56-40 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l40 0 0 56-40 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l40 0c0 35.3 28.7 64 64 64l0 40c0 13.3 10.7 24 24 24s24-10.7 24-24l0-40 56 0 0 40c0 13.3 10.7 24 24 24s24-10.7 24-24l0-40 56 0 0 40c0 13.3 10.7 24 24 24s24-10.7 24-24l0-40c35.3 0 64-28.7 64-64l40 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-40 0 0-56 40 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-40 0 0-56 40 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-40 0c0-35.3-28.7-64-64-64l0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40-56 0 0-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 40-56 0 0-40zm32 152c6.4 0 12.1 3.8 14.7 9.6l42 96 14 32c3.5 8.1-.1 17.5-8.2 21.1s-17.5-.2-21.1-8.2L239.5 304l-63.1 0-9.8 22.4c-3.5 8.1-13 11.8-21.1 8.2s-11.8-13-8.2-21.1l14-32 42-96c2.5-5.8 8.3-9.6 14.7-9.6zm17.5 96L208 231.9 190.5 272l35.1 0zM336 176c8.8 0 16 7.2 16 16l0 128c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-128c0-8.8 7.2-16 16-16z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faMicrochipAi=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(Ck)),Ck}var Uft=Fft();const Bft=({children:e,className:t,delimiter:n="·",...r})=>{const s=L.Children.toArray(e),a=s.map((i,l)=>{if(L.isValidElement(i)&&i.type===Mpe){const c=i.props.id;return o.jsxs(L.Fragment,{children:[i,l!==s.length-1&&o.jsxs(F,{className:"inline-flex !text-inherit",children:[" ",n," "]})]},c)}return null});return o.jsx("div",{className:`gap-sm flex items-center ${t}`,...r,children:a})},Mpe=({children:e})=>o.jsx(o.Fragment,{children:e}),cm=Bft,Os=Mpe,LC=L.memo(({isOpen:e,onClose:t,imgProps:n,alt:r,width:s,height:a,origin:i,onDownload:l})=>{const{url:c,name:u,showCitation:d=!0}=i||{},h=fo(),m=f.useCallback(g=>{g.stopPropagation(),l?.()},[l]);return o.jsxs(Sn,{onClose:t,isOpen:e,variant:"hide-chrome",disableAnimation:!1,removeScroll:!h,modalClassname:"z-[100]",children:[o.jsx("div",{className:"flex h-screen w-screen place-content-center",onClick:t,children:o.jsxs("div",{className:W("gap-md p-md md:p-lg flex w-full flex-col",{"md:pb-md":d&&(c||l)}),children:[o.jsx("div",{className:"relative grow",children:o.jsx("img",{width:s,height:a,...n,alt:r,className:"absolute inset-0 size-full object-contain"})}),d&&(c||l)?o.jsxs("div",{className:"gap-sm flex w-full flex-row justify-center",children:[c&&o.jsx(Nt,{href:c,target:"_blank",children:o.jsxs(Q,{variant:"offsetPlus",className:"gap-x-xs bg-offset/50 p-sm dark:bg-offsetDark/80 flex items-center rounded-full",children:[o.jsx(Dg,{url:c,source:u,isAttachment:!1}),o.jsx(F,{variant:"small",className:"pr-xs",children:o.jsx(Ne,{icon:_l,size:"xs"})})]})}),l&&o.jsx(Q,{as:"button",onClick:m,variant:"offsetPlus",className:"gap-x-xs bg-offset/50 p-sm dark:bg-offsetDark/80 flex !aspect-square w-9 items-center justify-center rounded-full",children:o.jsx(Ne,{icon:R_,size:"sm"})})]}):null]})}),o.jsx(Le,{onClick:t,icon:yn,extraCSS:"!fixed top-md right-md shadow-sm",size:"small",pill:!0,ariaLabel:"Close"})]})});LC.displayName="LightboxImage";const ps=L.memo(({src:e,lightboxSrc:t,alt:n,fadeIn:r,fallbackSrc:s,fallback:a,hasShadow:i=!1,includeLightBoxModal:l=!0,origin:c,imageClassName:u,maskClassName:d,containerClassName:h,rounded:m="md",onClick:g,AIProps:v,authorName:x,authorUrl:b,onLoad:w,onFail:C,softBlockSaveImage:S=!1,imageRef:k,imageProps:E,testId:T,onDownload:j,...N})=>{const[R,O]=f.useState(!1),[I,B]=f.useState(!1),[D,z]=f.useState(!1),V=f.useRef(null),{isAI:U,AILabel:H}=v||{isAI:!1,AILabel:""},q=f.useCallback(()=>{O(!0),C?.()},[]),$=f.useCallback(()=>{B(!0),w?.()},[B,w]);f.useEffect(()=>{if(V.current){if(V.current.complete){$();return}V.current.src||(V.current.src=e)}},[e,$,V]);const G=W(u,"transition-all ease-in-out",{"opacity-100 duration-200 scale-100":I&&r,"opacity-0 scale-[0.98]":!I&&r,"hidden opacity-0":R&&!s,"max-h-[90vh]":l,"cursor-zoom-in hover:shadow-lg duration-200 ":l&&!D}),K=f.useMemo(()=>({className:G,src:e,alt:n,onError:q,onClick:()=>z(!0),...E}),[n,G,E,q,e]),ee=f.useMemo(()=>({ref:V,onLoad:$,...K}),[$,K]),oe=f.useMemo(()=>({...K,src:t??e}),[t,K,e]),ne=f.useCallback(X=>{X.stopPropagation()},[]),te=o.jsxs(o.Fragment,{children:[o.jsx(F,{variant:"tiny",color:"white",className:"px-xs py-two h-5 rounded-md bg-black/60 opacity-0 transition-all group-hover:opacity-100",children:o.jsxs(cm,{className:"gap-xs",children:[o.jsx(Os,{id:"authorName",children:x}),b?o.jsx(Os,{id:"authorDomain",children:no(b)}):null]})}),o.jsx("div",{className:"h-xs w-xs bg-black/60 opacity-0 transition-all group-hover:opacity-100"})]}),re=f.useCallback(()=>z(!1),[]);if(R){if(s&&V.current)V.current.src=s;else if(a!==void 0)return a}return o.jsxs(o.Fragment,{children:[o.jsx("div",{onClick:g,className:h,"data-testid":T,children:o.jsxs("div",{className:W("bg-offset group relative h-full w-full overflow-hidden",d,{"shadow-md":i&&I,"transition-all duration-200 ease-in-out hover:scale-[1.02] hover:shadow-lg":i,"rounded-sm":m==="sm","rounded-md":m==="md",rounded:m===!0}),children:[U&&o.jsxs("div",{className:"bottom-xs right-xs absolute z-10 flex items-center justify-center",children:[o.jsx("div",{children:o.jsx(F,{variant:"tiny",color:"white",className:"gap-x-two px-xs py-two flex h-5 items-center rounded-md bg-black/60 opacity-0 transition-all group-hover:opacity-100",children:o.jsx("span",{className:"",children:H})})}),o.jsx("div",{className:"h-xs w-xs bg-black/60 opacity-0 transition-all group-hover:opacity-100"}),o.jsx("div",{children:o.jsx(F,{variant:"tiny",color:"white",className:"gap-x-two p-two flex h-5 items-center rounded-md bg-black/60",children:o.jsx(jt,{fixedWidth:!0,icon:Uft.faMicrochipAi})})})]}),x&&(b?o.jsx(Nt,{href:b??"",target:"_blank",onClick:ne,className:"bottom-xs right-xs absolute z-10 flex items-center justify-center",children:te}):o.jsx("div",{onClick:ne,className:"bottom-xs right-xs absolute z-10 flex items-center justify-center",children:te})),S&&!U&&o.jsx("div",{className:"absolute inset-0",onClick:l?()=>z(!0):void 0}),o.jsx("img",{width:N.width,height:N.height,alt:n,...ee,ref:Spe([k,V])})]})}),l&&o.jsx(LC,{onClose:re,isOpen:D,imgProps:oe,origin:c,width:N.width,height:N.height,alt:n,onDownload:j})]})});ps.displayName="Image";const kpe=L.memo(function(t){const{result:n,imageURL:r,citationNumber:s,useLightBoxModal:a=!0}=t,i=W(" w-full relative max-h-[76px]");return o.jsxs("div",{className:i,children:[o.jsx(ps,{includeLightBoxModal:a,alt:n.name,containerClassName:"w-full h-full p-xs",imageClassName:"object-cover object-center w-full h-full rounded-md",src:r}),s&&o.jsx(F,{className:"bottom-sm left-sm px-xs absolute z-[1] inline-flex rounded-sm bg-black/50",variant:"tiny",color:"white",children:s})]})});kpe.displayName="CitationImageCard";class Vft extends Date{constructor(t){const n=t?new Date(t):new Date,r=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds());super(r)}getTimezoneOffset(){return 0}}class OC{static isRecentlyTrending(t,n=432e5){return t.meta_data?.client!=="trending"?!1:new Date().getTime()-new Vft(t.meta_data?.published_date).getTime()<n}}function UF(e){const t=new Date;return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function P5(e){return!isNaN(new Date(e).getTime())}function MQt(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function zft(e){const t=new Date;return t.setDate(t.getDate()-1),e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function Epe(e){const t=new Date;return t.setDate(t.getDate()+1),e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function PC(e,t,n={numeric:"auto",style:"long"},r=1e3*60*60*24){if(!t)return"";const s=new Date(t);if(isNaN(s.getTime()))return"";const a=s.getTime()-Date.now(),i=Math.abs(a);return i<=1e3?"":i<1e3*60?e.formatRelativeTime(Math.round(a/1e3),"second",n):i<1e3*60*60?e.formatRelativeTime(Math.round(a/(1e3*60)),"minute",n):i<r&&i<1e3*60*60*24?e.formatRelativeTime(Math.round(a/(1e3*60*60)),"hour",n):i<r&&i>=1e3*60*60*24?e.formatRelativeTime(Math.round(a/(1e3*60*60*24)),"day",n):e.formatDate(s,{month:"short",day:"numeric",year:"numeric"})}const IC=L.memo(e=>{const{children:t,timestamp:n,timestampProps:r,includeIcon:s=!0}=e,a=ae();if(!n)return null;const i=n?.endsWith("Z")?n:`${n}Z`;return o.jsxs(Q,{className:"gap-x-xs flex",children:[s?o.jsx(F,{variant:"tiny",color:"super",children:o.jsx(Ne,{icon:nce,size:"xs"})}):null,o.jsxs(F,{variant:"tinyRegular",color:"light",...r,children:[t&&o.jsxs(o.Fragment,{children:[t," "]}),PC(a,i)]})]})}),Tpe=L.memo(e=>{const{result:t,imageURL:n}=e,r=t.url,s=ae(),a=f.useMemo(()=>({color:"white"}),[]),i=f.useMemo(()=>o.jsx(IC,{recentlyUpdatedLabel:s.$t({defaultMessage:"just now",id:"I90sbWU03C"}),timestamp:t.meta_data?.published_date,timestampProps:a,includeIcon:!1,children:s.$t({defaultMessage:"Updated",id:"xrk6zgu9jU"})}),[s,t.meta_data?.published_date,a]);return o.jsxs("div",{className:W("p-sm gap-sm flex h-full max-h-[190px]"),children:[o.jsxs("div",{className:"gap-xs flex flex-col",children:[o.jsxs("div",{className:"space-x-xs flex justify-between",children:[o.jsx(Dg,{variant:"tiny",color:"light",url:r,isAttachment:t.is_attachment}),OC.isRecentlyTrending(t)?o.jsx(Mn,{tooltipText:i,children:o.jsx(nce,{className:"text-super size-3.5"})}):null]}),o.jsx("div",{children:o.jsx(F,{variant:"tiny",className:"line-clamp-2",children:t.name})})]}),n?o.jsx("div",{className:"relative -mb-1 -mr-1 -mt-1 h-[60px] w-[60px] shrink-0",children:o.jsx(ps,{includeLightBoxModal:!1,alt:t.name,containerClassName:"w-full h-full",imageClassName:"object-cover object-center w-full h-full  rounded-md",src:n})}):null]})});Tpe.displayName="CitationTrendingCard";const Px=L.memo(({result:e,idx:t,isSelected:n,testId:r,additionalMetadata:s,isTrendingLayout:a=!1,trackEvent:i,downloadCitation:l,getImageUrl:c,variant:u,isSidecar:d,onClick:h,useLightBoxModal:m=!0})=>{const g=e.meta_data?.file_uuid?"fileRepositoryFile":e.is_attachment?"fileAttachment":"sourceCard";f.useEffect(()=>{i?.("source card viewed",{citation_url:e.url,position:t,title:e.name,source:g})},[i,e.name,e.url,t,g]);const v=e.url,[x,b]=f.useState(()=>!e.is_memory&&J_(e.url)?e.url:null),[w,C]=f.useState(!1),S=f.useMemo(()=>v&&!d&&sf(v),[v,d]),[k,E]=f.useState(!1),T=IF(e),j=Si(e.url),N=!S&&!e.is_attachment&&!j,R=a&&e.meta_data?.client==="trending",O=f.useMemo(()=>R?o.jsx(Tpe,{result:e,authors:e.meta_data?.authors,imageURL:e.meta_data?.images?.[0],citationNumber:t+1}):j&&x?o.jsx(kpe,{result:e,imageURL:x,useLightBoxModal:m}):j&&!x?o.jsx(Dl,{blockCount:1,size:"large"}):o.jsx(Cpe,{result:e,citationNumber:t+1,variant:u,additionalMetadata:s,isSelected:n}),[R,j,x,e,t,m,u,s,n]),I=f.useCallback((D,z)=>{C(z),b(D)},[]),B=f.useRef(null);return f.useEffect(()=>{const D=new IntersectionObserver(V=>{V.forEach(U=>{U.isIntersecting&&j&&x===null&&!w&&c?.(e,I)})},{threshold:.1}),z=B.current;return z&&j&&D.observe(z),()=>{z&&j&&D.unobserve(z)}},[B,v,c,e,x,I,w,j]),o.jsxs(DF,{result:e,trackEvent:i,children:[o.jsx("div",{ref:B,onClick:D=>{const z=typeof e.meta_data?.quoteBeforeContext=="string"?e.meta_data?.quoteBeforeContext:"",V=typeof e.meta_data?.quoteEmphasisText=="string"?e.meta_data?.quoteEmphasisText:"",U=typeof e.meta_data?.quoteAfterContext=="string"?e.meta_data?.quoteAfterContext:"",H=z.length>0||V.length>0||U.length>0;if(S&&!k&&E(!0),T&&typeof window<"u"){const q=window.open(v,"_blank");q&&q.focus()}else l&&!j?(D.preventDefault(),l(e)):h?.(D);i?.("click citation",{source:g,citation_url:v}),H&&i?.("click check sources citation",{source:g,citation_url:v,quoteBeforeContext:z,quoteEmphasisText:V,quoteAfterContext:U})},className:W("group relative flex w-full items-stretch",{"h-full":u==="grid","cursor-pointer":!!l||!!S||!!h}),"data-test-id":r,children:o.jsx(Q,{variant:"offset",bgHover:N||S?"offsetPlus":void 0,className:W("flex w-full rounded-lg",{"bg-super/10 ring-super/80 hover:!bg-super/10 dark:bg-super/20 dark:ring-super/80 dark:hover:!bg-super/20 ring-1":n}),children:O},e.name)}),S&&v&&e.name&&o.jsx(Ig,{isOpen:k,name:e.name,url:v,setisOpen:E})]})});Px.displayName="CitationCard";const Hft=De(async()=>({default:(await Me(()=>Promise.resolve().then(()=>TRe),void 0)).MarkSpinner})),Npe=L.memo(({entryUUID:e,frontendContextUUID:t,contextUUID:n,webResults:r,isOpen:s,onClose:a,extendedBeforeContext:i,beforeContext:l,selectedText:c,afterContext:u,state:d})=>{const{$t:h}=ae(),{isMobileStyle:m}=qe(),{trackEvent:g}=Ye(),v=f.useCallback((C,S)=>{g(C,{entryUUID:e,frontendContextUUID:t,contextUUID:n,selectedTextExtendedBeforeContext:i,selectedTextBeforeContext:l,selectedText:c,selectedTextAfterContext:u,...S})},[e,t,n,i,l,c,u,g]),x=r?.length??0,b=d==="completed"?x===0?h({defaultMessage:"No sources",id:"tN3HZvczgp"}):h({defaultMessage:"{sources, plural, one {# source} other {# sources}}",id:"oWRBjE1HK2"},{sources:x}):h(d==="loading"?{defaultMessage:"Checking...",id:"1SvspNS1us"}:{defaultMessage:"Error",id:"KN7zKn8z4F"}),w=f.useMemo(()=>o.jsxs("div",{className:"gap-sm md:gap-md flex items-center",children:[o.jsx(Hft,{size:32,shouldAnimate:d==="loading"}),o.jsx(F,{variant:"page-title",className:W("mr-lg line-clamp-1 md:line-clamp-2"),children:b})]}),[d,b]);return o.jsxs(Sn,{isOpen:s,variant:m?"bottom-left-sheet":"side-sheet",onClose:a,titleContent:w,children:[o.jsxs(F,{children:[o.jsx("span",{children:l}),o.jsx("span",{className:"bg-super/30 font-bold",children:c}),o.jsx("span",{children:u})]}),o.jsx("hr",{className:"my-4 w-full border-t border-gray-200"}),o.jsx(Q,{className:"gap-md flex h-full flex-col items-start",children:r?.map((C,S)=>o.jsx("div",{className:"gap-sm flex w-full min-w-[0] flex-row-reverse",children:o.jsx(Px,{result:C,idx:S,isSelected:!1,variant:"modal",trackEvent:v})},S))})]})});Npe.displayName="CheckSourcesModal";const _2=/<q>(.*?)<\/q>/s,hZ=(e,t)=>{if(!e||!t)return e;const n=e.trim(),r=n[n.length-1];return r&&!["!","?",".",":",";"].includes(r)?`${n}. ${t}`:`${n} ${t}`};function Wd(e,t){if(!e)return{quote:null,actualQuery:null};if(!_2.test(e)){const l=t?.join(" ").trim();return{quote:null,actualQuery:l?hZ(e,l):e}}const s=e.match(_2)?.[1]||null;let a=e.replace(_2,"").trim();const i=t?.join(" ").trim();return i&&(a=hZ(a,i)),{quote:s,actualQuery:a}}function Wft(e,t){const n=t.trim();return n?_2.test(e)?e.replace(_2,`<q>${n}</q>`):e.length===0?n:`<q>${n}</q> ${e}`:e}const kQt=3,$ft=120,qft=1.5,EQt=2,TQt=4;function jpe(e){return"article_info"in e}const NQt=(e,t)=>({backend_uuid:"",context_uuid:"",frontend_context_uuid:"",knowledge_cards:void 0,widget_data:void 0,query_str:e,status:Zs.STAGED.toLowerCase(),uuid:t,article_info:{title:e,summary:"",has_changed_title:!1,layout:"text",format:"paragraph",length:"concise",suggested_sections:[],user_selected_media_items:[],audience:"anyone",read_time:0,hero_offset:-1,emphasize_sources:!1,is_live:!1,is_auto_generated:!1},prompt_source:"page_suggestion",final:!1,mode:Qp.ARTICLE.toLowerCase(),sources:{sources:[]},should_index:!1,updated_datetime:void 0,thread_url_slug:void 0,expiry_time:null,thread_access:0,privacy_state:iy.NONE}),jQt=e=>e?e.image_width&&e.image_height?e.image_width<$ft?!1:e.image_width>=qft*e.image_height:!0:!1,AQt=(e,t,n,r)=>{const s=[...e],a=t.find(i=>i.image===n);return a&&r<s.length&&s.splice(r,1,a),s},RQt=(e,t,n)=>{const r=[...e],s=r.findIndex(a=>a.image===t);if(s!==-1&&n<r.length){const a=r[n];r[n]=r[s],r[s]=a}return r},um=()=>{const e=on(),t=Ln(),{firstResult:{backend_uuid:n,context_uuid:r}={}}=un(),s=f.useCallback((a,i)=>{Il({name:a,data:{entryUUID:n,threadUUID:r,...i,isPerplexityBrowser:t},session:e??void 0})},[n,r,t,e]);return f.useMemo(()=>({trackEvent:s}),[s])};var BF="Checkbox",[Gft,LQt]=Zo(BF),[Yft,Kft]=Gft(BF),Ape=f.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:a,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[m,g]=f.useState(null),v=Fr(t,k=>g(k)),x=f.useRef(!1),b=m?d||!!m.closest("form"):!0,[w=!1,C]=rf({prop:s,defaultProp:a,onChange:u}),S=f.useRef(w);return f.useEffect(()=>{const k=m?.form;if(k){const E=()=>C(S.current);return k.addEventListener("reset",E),()=>k.removeEventListener("reset",E)}},[m,C]),o.jsxs(Yft,{scope:n,state:w,disabled:l,children:[o.jsx(Jn.button,{type:"button",role:"checkbox","aria-checked":kd(w)?"mixed":w,"aria-required":i,"data-state":Ope(w),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onKeyDown:pn(e.onKeyDown,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:pn(e.onClick,k=>{C(E=>kd(E)?!0:!E),b&&(x.current=k.isPropagationStopped(),x.current||k.stopPropagation())})}),b&&o.jsx(Qft,{control:m,bubbles:!x.current,name:r,value:c,checked:w,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:kd(a)?!1:a})]})});Ape.displayName=BF;var Rpe="CheckboxIndicator",Lpe=f.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,a=Kft(Rpe,n);return o.jsx(Da,{present:r||kd(a.state)||a.state===!0,children:o.jsx(Jn.span,{"data-state":Ope(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Lpe.displayName=Rpe;var Qft=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:s,...a}=e,i=f.useRef(null),l=nF(n),c=$_(t);f.useEffect(()=>{const d=i.current,h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&g){const v=new Event("click",{bubbles:r});d.indeterminate=kd(n),g.call(d,kd(n)?!1:n),d.dispatchEvent(v)}},[l,n,r]);const u=f.useRef(kd(n)?!1:n);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...a,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function kd(e){return e==="indeterminate"}function Ope(e){return kd(e)?"indeterminate":e?"checked":"unchecked"}var Xft=Ape,Zft=Lpe;const VF=L.memo(({checked:e,toggleChecked:t,className:n="",variant:r="default",unselectedCheckboxClassName:s,...a})=>o.jsx(Xft,{className:W("inline-flex cursor-pointer items-center justify-center duration-150 md:hover:opacity-50",{"size-[24px]":r==="large","size-[18px]":r==="default"},n),checked:e,onCheckedChange:t,...a,children:o.jsx(Q,{variant:e?"super":"background",className:W("border-textMain/35 dark:border-textMainDark/35 inline-flex size-full items-center justify-center rounded border",{"!border-super bg-super":e},!e&&s),children:o.jsx(Zft,{children:o.jsx(kt,{children:e&&o.jsx(je.div,{initial:{opacity:0,scale:.6},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.6},transition:{type:"spring",bounce:.2,duration:.2},children:o.jsx(Ne,{icon:Pa,size:"sm",className:"text-background"})})})})})})),Ppe=L.memo(({onSelect:e,isSelected:t,result:n,idx:r})=>{const s=i=>{e?.(i)},{trackEvent:a}=Ye();return o.jsxs("div",{className:"gap-sm flex w-full flex-row-reverse",children:[o.jsx("div",{className:"w-full min-w-[0]",children:o.jsx(Px,{result:n,idx:r,isSelected:t,variant:"modal",trackEvent:a})}),e&&o.jsx("div",{className:"mt-[6px] shrink-0",children:o.jsx(VF,{checked:t,toggleChecked:s.bind(null,n.url)})})]})});Ppe.displayName="ManageCitationRow";const zF=L.memo(({webResults:e,isOpen:t,submit:n,onClose:r,entry:s})=>{const{$t:a}=ae(),{isMobileStyle:i}=qe(),[l,c]=f.useState([]),{trackEvent:u}=um(),d=C=>{c(S=>S.includes(C)?S.filter(k=>k!==C):S.concat(C))},h=f.useCallback(()=>{c([]),r()},[c,r]),m=f.useCallback(C=>{u("click apply curation",{toDelete:C,entryUUID:s?.backend_uuid??void 0}),n?.(C)},[u,s,n]),g=f.useCallback(()=>{l.length>0&&m([...l]),h()},[l,h,m]),v=f.useMemo(()=>l.length>0?[{text:l.length===0?a({defaultMessage:"No sources",id:"tN3HZvczgp"}):a({defaultMessage:"{sources, plural, one {Remove # source} other {Remove # sources}}",id:"aRfiMe0V3R"},{sources:l.length}),disabled:l.length===0,onClick:g}]:[],[l.length,a,g]),x=s?.query_str??"";let b=x?Wd(x).actualQuery:"";s&&jpe(s)&&s.article_info?.title&&(b=s.article_info.title);const w=e?.length??0;return o.jsx(Sn,{actionList:v,title:w===0?a({defaultMessage:"No sources",id:"tN3HZvczgp"}):a({defaultMessage:"{sources, plural, one {# source} other {# sources}}",id:"oWRBjE1HK2"},{sources:w}),subtitle:b??void 0,isOpen:t,variant:i?"bottom-left-sheet":"side-sheet",onClose:h,icon:Dh,children:o.jsx(Q,{className:"gap-md flex h-full flex-col items-start",children:e?.map((C,S)=>o.jsx(Ppe,{onSelect:s&&n?d:void 0,isSelected:l.includes(C.url),idx:S,result:C},C.url))})})});zF.displayName="CitationListModal";const Jft=20,eht=async({queryParams:e,headers:t={},reason:n})=>{const r="getMemories";try{const s=await me.GET("/rest/memories/list",n,{params:{query:{limit:e.limit,offset:e.offset,query:e.query},timeoutMs:Ur.MEDIUM},headers:t});return s.data?{memories:s.data.memories,totalCount:s.data.total_memory_count}:{memories:[],totalCount:0}}catch(s){return le.log(`Error in ${r}:`,s),{memories:[],totalCount:0}}},tht=(e,t)=>{const n=t.reduce((r,s)=>r+s.memories.length,0);if(n<e.totalCount)return n},OQt=({initialPageParam:e=0,searchQuery:t,reason:n})=>Zd({queryKey:qD(t),queryFn:async({pageParam:r})=>eht({queryParams:{limit:Jft,offset:r??0,query:t},reason:n}),getNextPageParam:tht,initialPageParam:e,refetchOnMount:"always",placeholderData:r=>r}),nht=async({memoryKey:e,reason:t})=>{try{return(await me.DELETE("/rest/memories/delete",t,{params:{query:{memory_key:e}}})).data}catch(n){le.log("Error in deleteMemory:",n);return}},rht=({reason:e})=>{const t=Vt();return Kt({mutationFn:n=>nht({memoryKey:n,reason:e}),onMutate:async n=>{await t.cancelQueries({queryKey:["memories"]});const r=t.getQueryData(["memories"]);try{t.setQueryData(["memories"],s=>{if(!s)return s;const a=s.pages.map(i=>({totalCount:i.totalCount-1,memories:i.memories.filter(l=>l.memory_key!==n)}));return{...s,pages:a}})}catch(s){le.log(`Error in onMutate deleteMemories (${qD()}):`,s)}return{previousData:r}},onError:(n,r,s)=>{s?.previousData&&t.setQueryData(["memories"],s.previousData)},onSettled:()=>{t.invalidateQueries({queryKey:["memories"]})}})},sht=async({reason:e})=>{try{return(await me.DELETE("/rest/memories/delete-all",e)).data}catch(t){le.log("Error in deleteAllMemories:",t);return}},aht=()=>{const e=Vt();return Kt({mutationFn:sht,onMutate:async()=>{await e.cancelQueries({queryKey:["memories"]});const t=e.getQueryData(["memories"]);try{e.setQueryData(["memories"],()=>({pages:[{memories:[],totalCount:0}],pageParams:[0]}))}catch(n){le.log(`Error in onMutate deleteAllMemories (${qD()}):`,n)}return{previousData:t}},onError:(t,n,r)=>{r?.previousData&&e.setQueryData(["memories"],r.previousData)},onSuccess:()=>{e.invalidateQueries({queryKey:["memories"]})}})},iht=async({memoryKey:e,shouldForget:t,feedback:n,feedbackEntryUuid:r,reason:s})=>{try{return(await me.POST("/rest/memories/toggle_memory_feedback",s,{params:{query:{memory_key:e,should_forget:t===null?void 0:t,feedback:n,feedback_entry_uuid:r}}})).data}catch(a){le.log("Error in forgetMemory:",a);return}},oht=({memoryKey:e,reason:t})=>{const n=Vt();return Kt({mutationFn:({shouldForget:r,feedback:s,feedbackEntryUuid:a})=>iht({memoryKey:e,shouldForget:r,feedback:s,feedbackEntryUuid:a,reason:t}),onMutate:async({shouldForget:r})=>{await n.cancelQueries({queryKey:xp(e)});const s=n.getQueryData(xp(e));return n.setQueryData(xp(e),r),{previousFeedback:s}},onError:(r,s,a)=>{a?.previousFeedback!==void 0&&n.setQueryData(xp(e),a.previousFeedback)},onSuccess:()=>{n.invalidateQueries({queryKey:xp(e)})}})},lht=async({entryUuid:e,shouldForget:t,feedback:n,feedbackEntryUuid:r,reason:s})=>{try{return(await me.POST("/rest/memories/toggle_entry_feedback",s,{params:{query:{entry_uuid:e,should_forget:t===null?void 0:t,feedback:n,feedback_entry_uuid:r}}})).data}catch(a){le.log("Error in forgetEntry:",a);return}},cht=({entryUuid:e,reason:t})=>{const n=Vt();return Kt({mutationFn:({shouldForget:r,feedback:s,feedbackEntryUuid:a})=>lht({entryUuid:e,shouldForget:r,feedback:s,feedbackEntryUuid:a,reason:t}),onMutate:async({shouldForget:r})=>{await n.cancelQueries({queryKey:bp(e)});const s=n.getQueryData(bp(e));return n.setQueryData(bp(e),r),{previousFeedback:s}},onError:(r,s,a)=>{a?.previousFeedback!==void 0&&n.setQueryData(bp(e),a.previousFeedback)},onSuccess:()=>{n.invalidateQueries({queryKey:bp(e)})}})},uht=async({memoryKey:e,reason:t})=>{try{return(await me.GET("/rest/memories/get",t,{params:{query:{memory_key:e}}})).data?.memories?.[0]?.is_thumbs_down}catch(n){le.log("Error in getMemory:",n);return}},dht=({memoryKey:e,enabled:t,reason:n})=>Ft({queryKey:xp(e??""),queryFn:()=>e?uht({memoryKey:e,reason:n}):null,enabled:!!e&&t}),fht=async({entryUuid:e,reason:t})=>{try{return(await me.GET("/rest/memories/get_entries",t,{params:{query:{entry_uuid:e}}})).data?.entries?.[0]?.is_thumbs_down}catch(n){le.log("Error in getEntry:",n);return}},hht=({entryUuid:e,enabled:t,reason:n})=>Ft({queryKey:bp(e??""),queryFn:()=>e?fht({entryUuid:e,reason:n}):null,enabled:!!e&&t}),Tl={outOfDate:yt({defaultMessage:"Out of date",id:"osuyeDna3D"}),inaccurate:yt({defaultMessage:"Inaccurate",id:"nzRZzFiqUd"}),irrelevant:yt({defaultMessage:"Irrelevant",id:"yi63oZJMHr"}),upToDate:yt({defaultMessage:"Up to date",id:"aOfyGCCmT0"}),accurate:yt({defaultMessage:"Accurate",id:"wrxp13nnhA"}),relevant:yt({defaultMessage:"Relevant",id:"XpZsjM22T8"}),successToast:yt({defaultMessage:"Thank you for your detailed feedback!",id:"ZrHT928df5"}),positivePrompt:yt({defaultMessage:"What did you like about this memory? (optional)",id:"xNH2PHiuYB"}),negativePrompt:yt({defaultMessage:"What didn't you like about this memory? (optional)",id:"gEOv/lEKfP"}),placeholder:yt({defaultMessage:"Add specific details",id:"HY/Q6ifj24"})},mht={out_of_date:Tl.outOfDate,inaccurate:Tl.inaccurate,irrelevant:Tl.irrelevant},pht={up_to_date:Tl.upToDate,accurate:Tl.accurate,relevant:Tl.relevant},Ipe=L.memo(({type:e,message:t,onFeedbackClick:n})=>{const s=ae().formatMessage,a=f.useCallback(()=>{n(e)},[e,n]);return o.jsx(Le,{size:"small",variant:"common",text:s(t),onClick:a,extraCSS:"w-full justify-start text-left"})});Ipe.displayName="FeedbackOption";const Dpe=L.memo(({isPositive:e,onFeedbackClick:t,onFreeformVisible:n})=>{const r=e?pht:mht,s=f.useMemo(()=>Object.entries(r).map(([a,i])=>o.jsx(Ipe,{type:a,message:i,onFeedbackClick:t},a)),[r,t]);return o.jsxs("div",{className:"gap-sm flex flex-col",children:[s,o.jsx(Le,{size:"small",variant:"common",text:"Other...",onClick:n,extraCSS:"w-full justify-start text-left"})]})});Dpe.displayName="FeedbackOptions";const Fpe=L.memo(({onSubmit:e,feedbackState:t,setFeedbackState:n,onDismiss:r,isPositive:s})=>{const{openToast:a}=Sr(),l=ae().formatMessage,{isMobileStyle:c,isMobileUserAgent:u}=qe(),[d,h]=f.useState(!1),m=f.useCallback(()=>{a(l(Tl.successToast),"success",2)},[a,l]),g=f.useCallback(E=>{m(),e(E)},[m,e]),v=f.useCallback(()=>{t&&g(t)},[t,g]),x=f.useCallback(E=>{const T={type:E};n(T),g(T)},[n,g]),b=f.useCallback(()=>{h(!1)},[h]),w=f.useCallback(()=>{h(!0)},[h]),C=f.useCallback(E=>{n({type:"comment",comment:E})},[n]),S=f.useCallback(E=>{yi.isEnterKeyWithoutShift(E)&&v()},[v]),k=f.useMemo(()=>[{type:"button",buttonProps:{variant:"primary",size:"small",icon:ece,onClick:v,disabled:!t?.comment,extraCSS:"aspect-square min-h-md h-md w-md",pill:!0}}],[v,t?.comment]);return o.jsx("div",{className:"mt-lg animate-in fade-in w-full duration-500",children:o.jsxs(Q,{className:"gap-sm p-md pt-sm relative flex w-full flex-col rounded-md border",children:[o.jsx("div",{className:W("absolute bottom-full flex size-0 items-end",s?"left-2":"left-10"),children:o.jsx(Q,{variant:"background",className:"size-3 shrink-0 origin-bottom-left rotate-45 border border-b-0 border-r-0"})}),o.jsxs("div",{className:W("ease-outExpo flex items-center pr-8 duration-150",{"pl-4":d}),children:[o.jsx(it,{size:"tiny",onClick:b,pill:!0,icon:Jle,extraCSS:W("!absolute duration-150",{"opacity-0 pointer-events-none":!d,"top-xs left-xs":d})}),o.jsx(F,{variant:"small",color:"light",children:l(s?Tl.positivePrompt:Tl.negativePrompt)})]}),o.jsx(ef,{mode:"popLayout",transition:{duration:.2,ease:Ar},children:o.jsx(lu,{initial:{opacity:0,x:d?10:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:d?-10:10},transition:{duration:.2,ease:Ar},children:d?o.jsx("div",{className:"gap-x-sm flex items-end",children:o.jsx("div",{className:"flex-1",children:o.jsx(Hd,{className:"pr-md w-full",placeholder:l(Tl.placeholder),value:t?.comment||"",minRows:3,isOptional:!0,onChange:C,onKeyDown:S,autoFocus:!0,isMobileStyle:c,isMobileUserAgent:u,rightItems:k})})}):o.jsx(Dpe,{isPositive:s,onFeedbackClick:x,onFreeformVisible:w})},d?"visible":"hidden")}),o.jsx(it,{size:"tiny",onClick:r,pill:!0,icon:yn,extraCSS:"!absolute top-xs right-xs"})]})})});Fpe.displayName="MemoryFeedbackInput";const Upe=e=>{if(!e)return;const t=e.split("/").filter(Boolean);return t.length>0?t[t.length-1]:void 0},DC=e=>{const t=e.is_memory?"memory":"conversation_history",n=e.is_memory?e.url:void 0,r=e.is_conversation_history?Upe(e.url):void 0;return{snippet:e.snippet,url:e.url??"",title:e.name,type:t,memoryKey:n,entryUuid:r,timestamp:e.timestamp??""}},Bpe=L.memo(({isOpen:e,onClose:t,snippet:n,type:r,url:s,memoryKey:a,entryUuid:i,title:l,timestamp:c})=>{const{formatDate:u}=ae(),d=fo(),h=r==="conversation_history",m=r==="memory",{trackEvent:g}=Ye(),{openStackedModal:v}=Gt(),x=f.useCallback(()=>{g("navigated to manage memory",{memory_key:a}),v("memoryListModal",{isMemoryEnabled:!0})},[a,g,v]),b=f.useMemo(()=>o.jsx(F,{variant:"small",children:o.jsx(Ve,{defaultMessage:"Manage",id:"0AzlrbMWV9"})}),[]),w=f.useMemo(()=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ne,{icon:h?vg:gg}),o.jsx(F,{variant:"baseSemi",children:h?o.jsx(Ve,{defaultMessage:"Library",id:"StcK672jB9"}):o.jsx(Ve,{defaultMessage:"Memory",id:"dVx3yznM2C"})})]}),[h]);return o.jsxs(Sn,{variant:d?"bottom-sheet":"side-sheet",isOpen:e,onClose:t,modalClassname:"md:!max-w-[400px] md:!min-w-[400px]",modalContentClassname:"justify-between",titleContent:w,children:[o.jsxs(Q,{className:"flex h-full w-full flex-col items-start",children:[l&&c&&o.jsxs(o.Fragment,{children:[o.jsx(F,{variant:"baseSemi",children:l}),o.jsx(F,{variant:"tinyRegular",color:"light",className:"pb-sm",children:u(c,{dateStyle:"long"})})]}),o.jsxs("div",{className:"inline",children:[o.jsx(F,{variant:"small",className:"inline",children:n}),o.jsx(F,{variant:"smallBold",className:"ml-1 inline",color:"super",children:h&&o.jsx(Nt,{href:s,target:"_blank",rel:"noopener",className:"whitespace-nowrap",children:o.jsx(Ve,{defaultMessage:"See more",id:"yoLwRWw99S"})})})]}),o.jsx(Vpe,{entryUuid:i??"",memoryKey:a??"",type:r})]}),m&&o.jsxs(Q,{className:"flex w-full items-center justify-center gap-1",children:[o.jsx(F,{variant:"small",className:"inline",color:"light",children:o.jsx(Ve,{defaultMessage:"See all your memories.",id:"h0JAuR900y"})}),o.jsx(it,{onClick:x,size:"small",variant:"common",noPadding:!0,text:b})]})]})});Bpe.displayName="MemorySearchHistoryModal";const Vpe=L.memo(({entryUuid:e,memoryKey:t,type:n})=>{const r="feedback-container",{$t:s}=ae(),a=f.useMemo(()=>{if(typeof window>"u")return;const N=Upe(window.location.pathname);if(N)return N.split("-").pop()},[]),{mutate:i}=cht({entryUuid:e??"",reason:r}),{mutate:l}=oht({memoryKey:t??"",reason:r}),{trackEvent:c}=Ye(),{data:u}=dht({memoryKey:t,enabled:!!t&&n==="memory",reason:r}),{data:d}=hht({entryUuid:e??"",enabled:!!e&&n==="conversation_history",reason:r}),[h,m]=f.useState(!1),[g,v]=f.useState(!1),[x,b]=f.useState(null),w=f.useMemo(()=>n==="memory"?u:d,[n,u,d]),C=f.useCallback((N,R)=>{n==="conversation_history"&&e&&i({shouldForget:N,feedback:R,feedbackEntryUuid:a}),n==="memory"&&t&&l({shouldForget:N,feedback:R,feedbackEntryUuid:a})},[n,e,t,i,l,a]),S=f.useCallback(N=>{c("memory search history feedback",{type:n,isHelpful:!N,...n==="conversation_history"&&{entry_uuid:e},...n==="memory"&&{memory_key:t}}),C(N),v(!N),m(!0)},[n,e,t,c,C]),k=f.useCallback(()=>{if(w===!1){C(null),m(!1);return}S(!1)},[w,C,S]),E=f.useCallback(()=>{if(w===!0){C(null),m(!1);return}S(!0)},[w,C,S]),T=f.useCallback(N=>{const R=N.type==="comment"?N.comment:N.type;C(!g,R),c("memory search history feedback",{type:n,isHelpful:g,...n==="conversation_history"&&{entry_uuid:e},...n==="memory"&&{memory_key:t}}),m(!1),b(null)},[n,e,t,c,g,C]),j=f.useCallback(()=>{m(!1),b(null)},[]);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx(it,{size:"small",icon:vht(w??null),onClick:k,toolTip:s({defaultMessage:"Helpful",id:"5vwKkgYwrE"}),pill:!0}),o.jsx(it,{size:"small",icon:ght(w??null),onClick:E,toolTip:s({defaultMessage:"Not helpful",id:"04tuTF23S7"}),pill:!0})]}),w===!0&&o.jsx(F,{variant:"tinyRegular",color:"light",children:o.jsx(Ve,{defaultMessage:"This {type} will not be referenced in future searches.",id:"167AKZjMm1",values:{type:n==="memory"?"memory":"entry"}})}),h&&o.jsx(Fpe,{onSubmit:T,feedbackState:x,setFeedbackState:b,onDismiss:j,isPositive:g})]})});Vpe.displayName="FeedbackContainer";const ght=e=>e===null?gY:e===!0?m$e:gY,vht=e=>e===null?$j:e===!1?p$e:$j;function yht({isOpen:e,onContinue:t,onClose:n}){return o.jsx(Sn,{isOpen:e,onClose:n,title:"",variant:"small",children:o.jsxs(Q,{className:"mx-auto w-full rounded-2xl px-4 py-0",children:[o.jsx(F,{variant:"section-title",className:"mb-2",children:o.jsx(Ve,{defaultMessage:"We need more access to help with your Google calendar and email",id:"qfQz160ySM"})}),o.jsx(F,{variant:"small",color:"light",className:"mb-6",children:o.jsx(Ve,{defaultMessage:"These permissions let us help you schedule meetings, find important messages, manage your inbox, and provide personalized assistance based on your real schedule and communication needs.",id:"yN/31P429t"})}),o.jsx(F,{variant:"small",color:"light",className:"mb-6",children:o.jsx(Ve,{defaultMessage:"Important: Please select <b>all permission boxes</b> on the next screen to enable these features.",id:"sr/jqAmxMK",values:{b:r=>o.jsx("span",{className:"font-semibold",children:r})}})}),o.jsx(Le,{text:o.jsx(Ve,{defaultMessage:"Grant access to calendar and email",id:"SLN8GewG3+"}),variant:"primary",size:"regular",onClick:t,extraCSS:"w-full rounded-xl mb-4"})]})})}const xht=({isOpen:e,onClose:t})=>{const n="delete-all-memories-modal",r=ae(),{mutate:s}=aht(),{trackEvent:a}=Ye(),i=f.useMemo(()=>[{text:r.formatMessage({defaultMessage:"Cancel",id:"47FYwba+bI"}),onClick:t,variant:"common"},{text:r.formatMessage({defaultMessage:"Delete",id:"K3r6DQW7h+"}),onClick:()=>{a("cleared all memories",{}),s({reason:n}),t()},variant:"rejected"}],[s,r,t,a]);return o.jsx(Sn,{isOpen:e,onClose:t,actionList:i,titleTextVariant:"smallBold",renderCloseButton:!1,modalClassname:"!min-w-0 max-w-[324px] p-0",headerClassname:"pt-6 px-6  md:px-6 border-b-0 !pb-0",modalContentClassname:"pt-0",footerClassname:"border-t-0 pt-2 px-6 !pb-6 md:pt-2 md:px-6 md:pb-6",title:r.formatMessage({defaultMessage:"Delete all memories",id:"wViT4HVZZG"}),children:o.jsx("div",{className:"w-full justify-start px-2 py-1",children:o.jsx(F,{variant:"tinyRegular",children:r.formatMessage({defaultMessage:"Are you sure you want to delete all of your memories? Memories cannot be recovered once deleted.",id:"2xMxdqIgTQ"})})})})},bht=({isOpen:e,onClose:t,memoryId:n})=>{const r="delete-memory-modal",s=ae(),{mutate:a}=rht({reason:r}),{trackEvent:i}=Ye(),l=f.useMemo(()=>[{text:s.formatMessage({defaultMessage:"Cancel",id:"47FYwba+bI"}),onClick:t,variant:"common",shouldShowConfirmDialog:!0},{text:s.formatMessage({defaultMessage:"Delete",id:"K3r6DQW7h+"}),onClick:()=>{n&&(i("delete memory",{memoryId:n}),a(n),t())},variant:"rejected"}],[a,s,n,t,i]);return o.jsx(Sn,{isOpen:e,onClose:t,actionList:l,titleTextVariant:"smallBold",renderCloseButton:!1,modalClassname:"!min-w-0 max-w-[324px] p-0",headerClassname:"pt-6 px-6  md:px-6 border-b-0 !pb-0",modalContentClassname:"pt-0",footerClassname:"border-t-0 pt-2 px-6 !pb-6 md:pt-2 md:px-6 md:pb-6",title:s.formatMessage({defaultMessage:"Delete memory",id:"767lMfHCVm"}),children:o.jsx("div",{className:"w-full justify-start px-2 py-1",children:o.jsx(F,{variant:"tinyRegular",children:s.formatMessage({defaultMessage:"Are you sure you want to delete this memory? Memories cannot be recovered once deleted.",id:"bJP46nmx6X"})})})})},Kn=({children:e,className:t,as:n="div",active:r=!0,speed:s="normal",hoverOnly:a=!1,variant:i="default"})=>{const[l,c]=f.useState(!1),u=a?l:r;return L.createElement(n,{style:{animationDuration:s==="normal"?"1200ms":"1800ms"},className:W({shimmer:u&&i==="default","animate-gradient bg-clip-text text-transparent shimmer-super":u&&i==="super"},t),onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1)},e)};var Sk={},mZ;function wht(){return mZ||(mZ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="arrow-up-left",r=384,s=512,a=[],i="e09d",l="M56 96c-13.3 0-24 10.7-24 24l0 240c0 13.3 10.7 24 24 24s24-10.7 24-24l0-182.1L311 409c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-231-231L296 144c13.3 0 24-10.7 24-24s-10.7-24-24-24L56 96z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faArrowUpLeft=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(Sk)),Sk}var _ht=wht(),Mk={},pZ;function Cht(){return pZ||(pZ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="globe",r=512,s=512,a=[127760],i="f0ac",l="M256 464c7.4 0 27-7.2 47.6-48.4c8.8-17.7 16.4-39.2 22-63.6l-139.2 0c5.6 24.4 13.2 45.9 22 63.6C229 456.8 248.6 464 256 464zM178.5 304l155 0c1.6-15.3 2.5-31.4 2.5-48s-.9-32.7-2.5-48l-155 0c-1.6 15.3-2.5 31.4-2.5 48s.9 32.7 2.5 48zm7.9-144l139.2 0c-5.6-24.4-13.2-45.9-22-63.6C283 55.2 263.4 48 256 48s-27 7.2-47.6 48.4c-8.8 17.7-16.4 39.2-22 63.6zm195.3 48c1.5 15.5 2.2 31.6 2.2 48s-.8 32.5-2.2 48l76.7 0c3.6-15.4 5.6-31.5 5.6-48s-1.9-32.6-5.6-48l-76.7 0zm58.8-48c-21.4-41.1-56.1-74.1-98.4-93.4c14.1 25.6 25.3 57.5 32.6 93.4l65.9 0zm-303.3 0c7.3-35.9 18.5-67.7 32.6-93.4c-42.3 19.3-77 52.3-98.4 93.4l65.9 0zM53.6 208c-3.6 15.4-5.6 31.5-5.6 48s1.9 32.6 5.6 48l76.7 0c-1.5-15.5-2.2-31.6-2.2-48s.8-32.5 2.2-48l-76.7 0zM342.1 445.4c42.3-19.3 77-52.3 98.4-93.4l-65.9 0c-7.3 35.9-18.5 67.7-32.6 93.4zm-172.2 0c-14.1-25.6-25.3-57.5-32.6-93.4l-65.9 0c21.4 41.1 56.1 74.1 98.4 93.4zM256 512A256 256 0 1 1 256 0a256 256 0 1 1 0 512z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faGlobe=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(Mk)),Mk}var Sht=Cht(),kk={},gZ;function Mht(){return gZ||(gZ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="globe-pointer",r=512,s=512,a=[],i="e60e",l="M303.6 415.6C283 456.8 263.4 464 256 464c-3.1 0-8.3-1.3-14.8-5.7l-15.3 52c9.9 1.2 19.9 1.8 30.1 1.8c141.4 0 256-114.6 256-256S397.4 0 256 0S0 114.6 0 256c0 10.2 .6 20.2 1.8 30.1l46.9-13.8c-.4-5.4-.6-10.8-.6-16.3c0-16.5 1.9-32.6 5.6-48l76.7 0c-1.3 13.3-2 27-2.2 41l48.4-14.2c.4-9.1 1.1-18 2-26.7l155 0c1.6 15.3 2.5 31.4 2.5 48s-.9 32.7-2.5 48l-47 0-14.1 48 53.2 0c-5.6 24.4-13.2 45.9-22 63.6zM208.4 96.4C229 55.2 248.6 48 256 48s27 7.2 47.6 48.4c8.8 17.7 16.4 39.2 22 63.6l-139.2 0c5.6-24.4 13.2-45.9 22-63.6zM384 256c0-16.4-.8-32.5-2.2-48l76.7 0c3.6 15.4 5.6 31.5 5.6 48s-1.9 32.6-5.6 48l-76.7 0c1.5-15.5 2.2-31.6 2.2-48zm-9.3-96c-7.3-35.9-18.5-67.7-32.6-93.4c42.3 19.3 77 52.3 98.4 93.4l-65.9 0zM71.4 160c21.4-41.1 56.1-74.1 98.4-93.4c-14.1 25.6-25.3 57.5-32.6 93.4l-65.9 0zM374.7 352l65.9 0c-21.4 41.1-56.1 74.1-98.4 93.4c14.1-25.6 25.3-57.5 32.6-93.4zM39 308.5c-13.9 4.1-15.6 23.2-2.6 29.7l57.3 28.7c1.3 .7 2.6 1.5 3.7 2.5l-88 88c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l88-88c1 1.1 1.9 2.3 2.5 3.7l28.7 57.3c6.5 13 25.6 11.3 29.7-2.6l60.2-204.8c3.6-12.1-7.7-23.4-19.9-19.9L39 308.5z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faGlobePointer=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(kk)),kk}var kht=Mht(),Ek,vZ;function Eht(){if(vZ)return Ek;vZ=1;var e="Expected a function",t=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,i=/^0o[0-7]+$/i,l=parseInt,c=typeof vd=="object"&&vd&&vd.Object===Object&&vd,u=typeof self=="object"&&self&&self.Object===Object&&self,d=c||u||Function("return this")(),h=Object.prototype,m=h.toString,g=Math.max,v=Math.min,x=function(){return d.Date.now()};function b(E,T,j){var N,R,O,I,B,D,z=0,V=!1,U=!1,H=!0;if(typeof E!="function")throw new TypeError(e);T=k(T)||0,w(j)&&(V=!!j.leading,U="maxWait"in j,O=U?g(k(j.maxWait)||0,T):O,H="trailing"in j?!!j.trailing:H);function q(X){var ce=N,se=R;return N=R=void 0,z=X,I=E.apply(se,ce),I}function $(X){return z=X,B=setTimeout(ee,T),V?q(X):I}function G(X){var ce=X-D,se=X-z,J=T-ce;return U?v(J,O-se):J}function K(X){var ce=X-D,se=X-z;return D===void 0||ce>=T||ce<0||U&&se>=O}function ee(){var X=x();if(K(X))return oe(X);B=setTimeout(ee,G(X))}function oe(X){return B=void 0,H&&N?q(X):(N=R=void 0,I)}function ne(){B!==void 0&&clearTimeout(B),z=0,N=D=R=B=void 0}function te(){return B===void 0?I:oe(x())}function re(){var X=x(),ce=K(X);if(N=arguments,R=this,D=X,ce){if(B===void 0)return $(D);if(U)return B=setTimeout(ee,T),q(D)}return B===void 0&&(B=setTimeout(ee,T)),I}return re.cancel=ne,re.flush=te,re}function w(E){var T=typeof E;return!!E&&(T=="object"||T=="function")}function C(E){return!!E&&typeof E=="object"}function S(E){return typeof E=="symbol"||C(E)&&m.call(E)==n}function k(E){if(typeof E=="number")return E;if(S(E))return t;if(w(E)){var T=typeof E.valueOf=="function"?E.valueOf():E;E=w(T)?T+"":T}if(typeof E!="string")return E===0?E:+E;E=E.replace(r,"");var j=a.test(E);return j||i.test(E)?l(E.slice(2),j?2:8):s.test(E)?t:+E}return Ek=b,Ek}var Tht=Eht();const yZ=Js(Tht);var zpe=typeof window<"u"?f.useLayoutEffect:f.useEffect;function Xw(e,t,n,r){const s=f.useRef(t);zpe(()=>{s.current=t},[t]),f.useEffect(()=>{const a=window;if(!(a&&a.addEventListener))return;const i=l=>{s.current(l)};return a.addEventListener(e,i,r),()=>{a.removeEventListener(e,i,r)}},[e,n,r])}function Zw(e){const t=f.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return zpe(()=>{t.current=e},[e]),f.useCallback((...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[t])}var Tk=typeof window>"u";function HF(e,t,n={}){const{initializeWithValue:r=!0}=n,s=f.useCallback(m=>n.serializer?n.serializer(m):JSON.stringify(m),[n]),a=f.useCallback(m=>{if(n.deserializer)return n.deserializer(m);if(m==="undefined")return;const g=t instanceof Function?t():t;let v;try{v=JSON.parse(m)}catch(x){return console.error("Error parsing JSON:",x),g}return v},[n,t]),i=f.useCallback(()=>{const m=t instanceof Function?t():t;if(Tk)return m;try{const g=window.localStorage.getItem(e);return g?a(g):m}catch(g){return console.warn(`Error reading localStorage key “${e}”:`,g),m}},[t,e,a]),[l,c]=f.useState(()=>r?i():t instanceof Function?t():t),u=Zw(m=>{Tk&&console.warn(`Tried setting localStorage key “${e}” even though environment is not a client`);try{const g=m instanceof Function?m(i()):m;window.localStorage.setItem(e,s(g)),c(g),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))}catch(g){console.warn(`Error setting localStorage key “${e}”:`,g)}}),d=Zw(()=>{Tk&&console.warn(`Tried removing localStorage key “${e}” even though environment is not a client`);const m=t instanceof Function?t():t;window.localStorage.removeItem(e),c(m),window.dispatchEvent(new StorageEvent("local-storage",{key:e}))});f.useEffect(()=>{c(i())},[e]);const h=f.useCallback(m=>{m.key&&m.key!==e||c(i())},[e,i]);return Xw("storage",h),Xw("local-storage",h),[l,u,d]}function FC(e){const t=f.useRef(e);t.current=e,f.useEffect(()=>()=>{t.current()},[])}function PQt(e,t=500,n){const r=f.useRef();FC(()=>{r.current&&r.current.cancel()});const s=f.useMemo(()=>{const a=yZ(e,t,n),i=(...l)=>a(...l);return i.cancel=()=>{a.cancel()},i.isPending=()=>!!r.current,i.flush=()=>a.flush(),i},[e,t,n]);return f.useEffect(()=>{r.current=yZ(e,t,n)},[e,t,n]),s}function Hpe({threshold:e=0,root:t=null,rootMargin:n="0%",freezeOnceVisible:r=!1,initialIsIntersecting:s=!1,onChange:a}={}){var i;const[l,c]=f.useState(null),[u,d]=f.useState(()=>({isIntersecting:s,entry:void 0})),h=f.useRef();h.current=a;const m=((i=u.entry)==null?void 0:i.isIntersecting)&&r;f.useEffect(()=>{if(!l||!("IntersectionObserver"in window)||m)return;const x=new IntersectionObserver(b=>{const w=Array.isArray(x.thresholds)?x.thresholds:[x.thresholds];b.forEach(C=>{const S=C.isIntersecting&&w.some(k=>C.intersectionRatio>=k);d({isIntersecting:S,entry:C}),h.current&&h.current(S,C)})},{threshold:e,root:t,rootMargin:n});return x.observe(l),()=>{x.disconnect()}},[l,JSON.stringify(e),t,n,m,r]);const g=f.useRef(null);f.useEffect(()=>{var x;!l&&((x=u.entry)!=null&&x.target)&&!r&&!m&&g.current!==u.entry.target&&(g.current=u.entry.target,d({isIntersecting:s,entry:void 0}))},[l,u.entry,r,m,s]);const v=[c,!!u.isIntersecting,u.entry];return v.ref=v[0],v.isIntersecting=v[1],v.entry=v[2],v}function Wpe(){const[e,t]=f.useState(!1);return f.useEffect(()=>{t(!0)},[]),e}function Nht(){const e=f.useRef(!1);return f.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),f.useCallback(()=>e.current,[])}var xZ={width:void 0,height:void 0};function jht(e){const{ref:t,box:n="content-box"}=e,[{width:r,height:s},a]=f.useState(xZ),i=Nht(),l=f.useRef({...xZ}),c=f.useRef(void 0);return c.current=e.onResize,f.useEffect(()=>{if(!t.current||typeof window>"u"||!("ResizeObserver"in window))return;const u=new ResizeObserver(([d])=>{const h=n==="border-box"?"borderBoxSize":n==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",m=bZ(d,h,"inlineSize"),g=bZ(d,h,"blockSize");if(l.current.width!==m||l.current.height!==g){const x={width:m,height:g};l.current.width=m,l.current.height=g,c.current?c.current(x):i()&&a(x)}});return u.observe(t.current,{box:n}),()=>{u.disconnect()}},[n,t,i]),{width:r,height:s}}function bZ(e,t,n){return e[t]?Array.isArray(e[t])?e[t][0][n]:e[t][n]:t==="contentBoxSize"?e.contentRect[n==="inlineSize"?"width":"height"]:void 0}var Nk=typeof window>"u";function $pe(e,t,n={}){const{initializeWithValue:r=!0}=n,s=f.useCallback(m=>n.serializer?n.serializer(m):JSON.stringify(m),[n]),a=f.useCallback(m=>{if(n.deserializer)return n.deserializer(m);if(m==="undefined")return;const g=t instanceof Function?t():t;let v;try{v=JSON.parse(m)}catch(x){return console.error("Error parsing JSON:",x),g}return v},[n,t]),i=f.useCallback(()=>{const m=t instanceof Function?t():t;if(Nk)return m;try{const g=window.sessionStorage.getItem(e);return g?a(g):m}catch(g){return console.warn(`Error reading sessionStorage key “${e}”:`,g),m}},[t,e,a]),[l,c]=f.useState(()=>r?i():t instanceof Function?t():t),u=Zw(m=>{Nk&&console.warn(`Tried setting sessionStorage key “${e}” even though environment is not a client`);try{const g=m instanceof Function?m(i()):m;window.sessionStorage.setItem(e,s(g)),c(g),window.dispatchEvent(new StorageEvent("session-storage",{key:e}))}catch(g){console.warn(`Error setting sessionStorage key “${e}”:`,g)}}),d=Zw(()=>{Nk&&console.warn(`Tried removing sessionStorage key “${e}” even though environment is not a client`);const m=t instanceof Function?t():t;window.sessionStorage.removeItem(e),c(m),window.dispatchEvent(new StorageEvent("session-storage",{key:e}))});f.useEffect(()=>{c(i())},[e]);const h=f.useCallback(m=>{m.key&&m.key!==e||c(i())},[e,i]);return Xw("storage",h),Xw("session-storage",h),[l,u,d]}const dm=br({path:"M5.00226 5.710185C0.612577 10.215135 0.782 17.46045 5.22972 21.90795L6.481905 23.16015C6.601665 23.28 6.795615 23.28 6.915375 23.16015L8.793945 21.28155C8.913705 21.16185 8.913705 20.96775 8.793945 20.8482L7.42119 19.4751C3.690195 15.74415 3.65811 9.727305 7.34925 6.035955C10.71483 2.670375 16.0131 2.40102 19.75005 5.20743C19.89945 5.31963 19.91085 5.540355 19.7787 5.67258C19.66995 5.781315 19.4985 5.79357 19.37445 5.702625C16.29255 3.44289 12.064695 3.59229 9.424635 6.23256C6.491505 9.16569 6.629655 14.05935 9.73344 17.16285L11.106195 18.53595C11.225955 18.65565 11.420115 18.65565 11.539875 18.53595L13.418445 16.65735C13.538205 16.5375 13.538205 16.3434 13.418445 16.2237L12.04548 14.85087C9.96519 12.77058 10.04184 9.321015 12.21675 7.14609C14.02257 5.34027 16.70655 4.98201 18.7566 6.10278C18.9477 6.20742 18.98265 6.4686 18.8286 6.622695C18.73215 6.71916 18.585 6.74778 18.4611 6.68994C17.1153 6.05925 15.46275 6.29919 14.352825 7.413405C12.929595 8.84217 12.99969 11.18058 14.42559 12.606465L15.73065 13.911585C15.8502 14.031135 16.04445 14.031135 16.16415 13.911585L18.04275 12.032805C18.16245 11.913045 18.16245 11.719095 18.04275 11.599335L16.7097 10.266015C16.0938 9.65025 16.0209 8.64801 16.5954 7.99383C17.22525 7.27668 18.3183 7.250325 18.9822 7.91433L19.3761 8.30814C19.99185 8.92392 20.994 8.99688 21.64845 8.422185C22.36545 7.792515 22.3917 6.69954 21.72795 6.035535L21.2943 5.60208C16.7892 1.096925 9.46224 1.132893 5.00226 5.710185Z",name:"IconBrandComet",variant:"filled"}),Ix=br({path:"M19.6602 2C20.9486 2.00018 21.993 3.0446 21.9932 4.33301C21.9932 5.62156 20.9487 6.66682 19.6602 6.66699C19.6103 6.66699 19.5608 6.66128 19.5117 6.6582L16.9111 12.3467C16.803 12.5829 16.5903 12.7551 16.3369 12.8125C16.1151 12.8626 15.8841 12.8195 15.6963 12.6963L15.6182 12.6387L11.374 9.08691L5.05176 19.4873H10.333V13.667C10.333 13.2069 10.706 12.8342 11.166 12.834C11.6263 12.834 11.999 13.2068 11.999 13.667V19.4873H15.3203V15.333C15.3205 14.8729 15.6932 14.5 16.1533 14.5C16.6134 14.5001 16.9862 14.873 16.9863 15.333V19.4873H19.5C19.9595 19.4871 20.3328 19.1128 20.333 18.6533V9.49414C20.333 9.03406 20.706 8.66042 21.166 8.66016C21.6263 8.66016 22 9.0339 22 9.49414V18.6533C21.9998 20.0333 20.88 21.1531 19.5 21.1533H4.5C3.2062 21.1532 2.14091 20.1693 2.0127 18.9092L2 18.6533V5.33398C2 3.9538 3.11983 2.83407 4.5 2.83398H14.5L14.585 2.83789C15.0051 2.8806 15.333 3.23555 15.333 3.66699C15.3328 4.09829 15.005 4.4534 14.585 4.49609L14.5 4.5H4.5C4.04031 4.50008 3.66602 4.87427 3.66602 5.33398V18.5586L10.4541 7.39355L10.5059 7.31836C10.6338 7.15201 10.821 7.03859 11.0303 7.00391C11.2698 6.96435 11.515 7.03176 11.7012 7.1875L15.8496 10.6582L17.9951 5.96777C17.5817 5.54678 17.3262 4.96964 17.3262 4.33301C17.3263 3.04449 18.3716 2 19.6602 2Z",name:"IconPerplexityFinance",variant:"filled"});function Aht(e){return e.blocks?.some(t=>t.intended_usage==="ask_text")??!1}function Rht(e){return typeof e=="object"&&e!==null&&"step_type"in e&&e.step_type===mJe.PROMPT_INPUT}function Lht(e,t,n=[]){return t===Re.DEFAULT||n.length>0&&n[n.length-1].step_type==="FINAL"||e?.some(s=>s.markdown_block||s.entity_list_block||sme(s.entity_group_block))}function Us(e){const t=e?.toLowerCase();return Ti[t]??_e.SEARCH}function Fg(){const{isMax:e,isPro:t}=cn(),{isMaxUpsellEnabled:n}=ff(),{gpt4Limit:r,pplxAlphaLimit:s,pplxBetaLimit:a}=Mr();return f.useMemo(()=>l=>{let c=!1;return l===_e.RESEARCH?c=Math.min(r,s)<=0:c=Math.min(r,a)<=0,n&&!e&&t&&c&&(l===_e.RESEARCH||l===_e.STUDIO)},[n,e,t,r,s,a])}function ff(){const{isEnterprise:e}=Bn({reason:"max-tier"}),{value:t,loading:n}=vs({flag:"max-upsell",defaultValue:!1,subjectType:"visitor_id",extraAttributes:{isEnterprise:e??!1}});return f.useMemo(()=>({isMaxUpsellEnabled:t,loading:n}),[t,n])}const Oht=({reason:e})=>{const t=Vt(),n=vC(),{mutate:r}=Kt({mutationFn:async s=>{await Vct({settings:s,reason:e})},onMutate:async s=>{await t.cancelQueries({queryKey:n});const a=t.getQueryData(n),i={};for(const l in s)i[Ict[l]]=s[l];return t.setQueryData(n,l=>({...l,...i})),{previousSettings:a}},onSettled(s,a,i,l){a&&t.setQueryData(n,l?.previousSettings)}});return f.useMemo(()=>({updateSettings:r}),[r])},Pht=["presentpicker"],qpe=e=>e?Pht.includes(e):!1;function Iht(e){const t=wn(),n=Ct(),{hasAccessToProFeatures:r}=cn(),{trackEvent:s}=Ye(),{actions:a,preferredSearchModels:i,preferredSearchMode:l}=On(),{isMaxUpsellEnabled:c}=ff(),u=t?.get("copilot"),d=t?.get("pro"),h=t?.get("utm_source"),m=u==="false"||d==="false",g=!m&&(u==="true"||d==="true"||qpe(h??void 0)),v=i[_e.SEARCH];v&&(Ti[v]!==_e.SEARCH?(i[_e.SEARCH]=Re.PRO,a.setPreferredSearchModel(_e.SEARCH,Re.PRO)):v===Re.DEFAULT&&r&&a.setPreferredSearchModel(_e.SEARCH,void 0));const x=t?.get("model_id")==="pplx_alpha"?null:t?.get("model_id");let b;x&&(x==="deep_research"?b=Re.ALPHA:Object.values(Re).includes(x)&&(b=x));let w;return m?w=Re.DEFAULT:b?w=b:g&&(w=Re.PRO),w&&b&&b==w&&s("search mode utm",{mode:Ti[w]}),f.useMemo(()=>{let C=Re.DEFAULT;if(!n)return C;if(w)return w;if(!c)return C=i[_e.SEARCH]??Re.PRO,C;switch(l){case _e.RESEARCH:C=i[_e.RESEARCH]??Re.ALPHA;break;case _e.STUDIO:C=i[_e.STUDIO]??Re.BETA;break;case _e.SEARCH:default:C=i[_e.SEARCH]??Re.PRO;break}return C},[n,c,w,l,i])}const Gpe={isCopilot:!1,sources:["web"],gpt4Limit:0,gpt4Total:0,pplxAlphaLimit:0,pplxBetaLimit:0,uploadRateLimit:0,createLimit:0,recency:null,askInputReasoningMode:!1,askInputReasoningModelPreference:null,setAskInputReasoningMode:()=>{},setAskInputReasoningModelPreference:()=>{},setConfiguredModel(){},setSources:()=>{},setIsCopilot:()=>{},decrementCreateLimit:()=>{},setGPT4Limit:()=>{},setPplxAlphaLimit:()=>{},setPplxBetaLimit:()=>{},setRecency:()=>{},setUploadRateLimit:()=>{},configuredModel:Re.DEFAULT,configuredSearchMode:_e.SEARCH,setConfiguredSearchMode(){}},Ype=f.createContext(Gpe),Dht=({children:e,shouldFetchSettings:t})=>{const n="thread-settings-provider",r=Ua({enabled:t,reason:n}),{updateSettings:s}=Oht({reason:n}),{organization:a}=Bn({reason:"thread-settings-provider"}),i=On(),{isMax:l}=cn();let c=i.preferredSearchMode;const u=c?Object.values(_e).includes(c):!1,{isMaxUpsellEnabled:d}=ff();!d&&c!==_e.SEARCH&&(c=void 0,i.actions.setPreferredSearchMode(void 0));const h=Iht(),[m,g]=f.useState({...Gpe,gpt4Limit:r.gpt4Limit,gpt4Total:r.gpt4Total,pplxAlphaLimit:r.pplxAlphaLimit,pplxBetaLimit:r.pplxBetaLimit,configuredModel:h,configuredSearchMode:Ti[h]??_e.SEARCH}),v=f.useCallback(O=>g(I=>({...I,configuredModel:O,configuredSearchMode:Ti[O]??I.configuredSearchMode})),[]),x=f.useCallback(()=>{v(Re.DEFAULT),i.actions.setPreferredSearchMode(_e.SEARCH)},[v,i.actions]),b=f.useCallback(O=>{g(I=>({...I,sources:O}))},[]),w=f.useCallback(O=>{g(I=>({...I,recency:O}))},[]),C=f.useCallback(O=>{g(I=>({...I,askInputReasoningModelPreference:O,askInputReasoningMode:!!O}))},[]),S=f.useCallback(O=>{g(I=>({...I,askInputReasoningMode:O}))},[]);f.useEffect(()=>{r.createLimit!==null&&g(O=>({...O,createLimit:r.createLimit}))},[r.createLimit]),f.useEffect(()=>{r.uploadLimit!==null&&g(O=>({...O,uploadRateLimit:r.uploadLimit}))},[r.uploadLimit]),f.useEffect(()=>{r.gpt4Limit!==null&&g(O=>({...O,gpt4Limit:r.gpt4Limit}))},[r.gpt4Limit]),f.useEffect(()=>{r.gpt4Total!==null&&g(O=>({...O,gpt4Total:r.gpt4Total}))},[r.gpt4Total]),f.useEffect(()=>{r.pplxAlphaLimit!==null&&g(O=>({...O,pplxAlphaLimit:r.pplxAlphaLimit}))},[r.pplxAlphaLimit]),f.useEffect(()=>{r.pplxBetaLimit!==null&&g(O=>({...O,pplxBetaLimit:r.pplxBetaLimit}))},[r.pplxBetaLimit]),f.useEffect(()=>{r.hasLoadedSettings&&((m.configuredModel!==Re.DEFAULT&&r.gpt4Limit<=0||Us(m.configuredModel)===_e.RESEARCH&&r.pplxAlphaLimit<=0&&!l||Us(m.configuredModel)===_e.STUDIO&&r.pplxBetaLimit<=0&&!l)&&x(),(m.askInputReasoningMode||m.askInputReasoningModelPreference)&&r.gpt4Limit<=0&&x())},[x,r.gpt4Limit,r.pplxAlphaLimit,r.pplxBetaLimit,r.hasLoadedSettings,m.askInputReasoningMode,m.askInputReasoningModelPreference,m.configuredModel,l]),f.useEffect(()=>{const O=a?.settings?.disabled_model_preferences??[];u&&c&&O?.includes(c)&&x()},[u,a?.settings?.disabled_model_preferences,c,x,v]);const k=f.useCallback(()=>{const O=Math.max(m.createLimit-1,0);r.createLimit!==O&&s({create_limit:O}),g(I=>({...I,createLimit:O}))},[m.createLimit,s,r.createLimit]),E=f.useCallback((O=1)=>{const I=Math.max(m.uploadRateLimit-O,0);r.uploadLimit!==I&&s({upload_limit:I}),g(B=>({...B,uploadRateLimit:I}))},[m.uploadRateLimit,s,r.uploadLimit]),T=f.useCallback(O=>{g(I=>({...I,gpt4Limit:O})),r.gpt4Limit!==O&&s({gpt4_limit:O})},[s,r.gpt4Limit]),j=f.useCallback(O=>{g(I=>({...I,pplxAlphaLimit:O})),r.pplxAlphaLimit!==O&&s({pplx_alpha_limit:O})},[s,r.pplxAlphaLimit]),N=f.useCallback(O=>{g(I=>({...I,pplxBetaLimit:O})),r.pplxBetaLimit!==O&&s({pplx_beta_limit:O})},[s,r.pplxBetaLimit]),R={...m,setConfiguredModel:v,setSources:b,decrementCreateLimit:k,setUploadRateLimit:E,setGPT4Limit:T,setPplxAlphaLimit:j,setPplxBetaLimit:N,setRecency:w,askInputReasoningMode:m.askInputReasoningMode,isCopilot:m.configuredModel!==Re.DEFAULT,setAskInputReasoningMode:S,setAskInputReasoningModelPreference:C,configuredSearchMode:m.configuredSearchMode,setConfiguredSearchMode:O=>{g(I=>({...I,configuredSearchMode:O}))}};return o.jsx(Ype.Provider,{value:R,children:e})},Mr=()=>{const e=f.useContext(Ype);if(!e)throw new Error("useThreadConfig must be used within ThreadSettingsContext");return e};function Ai(){const{configuredModel:e,configuredSearchMode:t}=Mr(),n=pr();return f.useMemo(()=>t||(n&&e===Re.DEFAULT?_e.SEARCH:Ti[e]),[t,e,n])}const Fht="npclhjbddhklpbnacpjloidibaggcgon",Uht="entropy-agent-extension-main";class sR extends sx{name="CometError"}function wZ({onMessage:e,extensionId:t,name:n}){let r,s;function a(){if(s&&(s.onMessage.removeListener(e),clearTimeout(r)),typeof chrome>"u"||!chrome.runtime){Md()&&(r&&clearTimeout(r),r=setTimeout(a,1e3),le.error("Comet browser is missing chrome.runtime"));return}s=chrome.runtime.connect(t,{name:n}),s.onMessage.addListener(e),s.onDisconnect.addListener(()=>{le.info("Disconnected. Attempting to reconnect...",{extensionId:t}),r&&clearTimeout(r),r=setTimeout(a,1e3)})}return Md()&&(a(),$c("web.frontend.comet_extension_connected",{extensionId:t,startTime:performance.timeOrigin,duration:performance.now()})),{sendMessage:i=>Bht(t,i),sendMessageToPort:i=>{if(!Md())return()=>{};const l=chrome.runtime.connect(t,{name:`${n}_${qr()}`});return l.postMessage(i),()=>{try{l.disconnect()}catch{}}}}}async function Bht(e,t){return new Promise((n,r)=>{if(!Md()){r(new sR("INVALID_BROWSER_ERROR"));return}if(typeof chrome>"u"||!chrome.runtime){r(new sR("MISSING_RUNTIME_ERROR"));return}chrome.runtime.sendMessage(e,t,s=>{if(chrome.runtime.lastError){r(chrome.runtime.lastError);return}n(s)})})}function Vht(){const e="node";try{return{html:t(document.documentElement).innerHTML.trim(),url:window.location.href}}catch(g){return{html:"",url:window.location.href,error:g instanceof Error?g.message:"Unknown error while getting HTML"}}function t(g=document.body){const v=[g],x=n(g);if(!x)return console.error("Failed to process DOM. Fallback to original DOM"),g;const b=[x];for(;v.length>0;){const w=v.pop(),C=b.pop();if(!w||!C)break;w.childNodes.forEach(S=>{const k=n(S);k!==null&&(C.appendChild(k),b.push(k),v.push(S))})}return x}function n(g){if(!c(g))return null;const v=g.cloneNode();if(d(g)){if(l(g)){if(!g.hasAttribute(e)){const x=s();g.setAttribute(e,x),v.setAttribute(e,x)}r(g,v)}return a(v)}return v}function r(g,v){const x=["value"],b=["checked","disabled","hidden","readonly","required","selected"];for(const w of x)typeof g[w]<"u"&&v.setAttribute(w,g[w]);for(const w of b)typeof g[w]<"u"&&(g[w]?v.setAttribute(w,""):v.removeAttribute(w))}function s(){return globalThis.__idCounter||(globalThis.__idCounter=0),`${globalThis.__idCounter++}`}function a(g){const v=g.getAttributeNames();for(const x of v){if(x=="href"){const b=g.getAttribute(x)||"";b.startsWith("http:")||b.startsWith("https:")||g.removeAttribute(x);continue}if(x==="name"&&g.getAttribute(x).length>128){g.removeAttribute(x);continue}i(x)||g.removeAttribute(x)}return g}function i(g){return["alt","aria-checked","aria-description","aria-disabled","aria-expanded","aria-hidden","aria-label","aria-readonly","aria-required","aria-role","aria-selected","checked","content","default","disabled","name","placeholder","readonly","required","role","selected","title","type","value",e].includes(g)}function l(g){const v=["A","BUTTON","DETAILS","EMBED","INPUT","MENU","MENUITEM","OBJECT","SELECT","TEXTAREA","SUMMARY"],x=["button","menu","menuitem","link","checkbox","radio","slider","tab","tabpanel","textbox","combobox","grid","listbox","option","progressbar","scrollbar","searchbox","switch","tree","treeitem","spinbutton","tooltip"],b=["menu","menuitem","button"],w=["onclick","tabindex","autofocus"],C=g.tagName,S=g.getAttribute("role"),k=g.getAttribute("aria-role");return v.includes(C)||w.some(E=>g.hasAttribute(E))||S&&x.includes(S)||k&&b.includes(k)}function c(g){return d(g)?h(g)?!0:!m(g):u(g)}function u(g){return g.nodeType===Node.TEXT_NODE&&!!g.textContent?.trim()}function d(g){return g.nodeType===Node.ELEMENT_NODE}function h(g){const v=["HEAD","TITLE"],x=["description"];return v.includes(g.tagName)||g.tagName==="META"&&x.some(b=>g.getAttribute("name")===b)}function m(g){return g.hidden||g.getAttribute("aria-hidden")==="true"?!0:!(g.checkVisibility({contentVisibilityAuto:!0,opacityProperty:!0,visibilityProperty:!0})||g.computedStyleMap().get("display").value==="contents")}}function _Z({selector:e,value:t,submit:n}){const r=document.querySelector(e);if(!r)return{success:!1,reason:"not found"};if(r.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),r instanceof HTMLElement&&r.focus(),r.tagName==="INPUT"||r.tagName==="TEXTAREA")r.value=t;else if(r instanceof HTMLElement&&r.isContentEditable)r.innerText=t;else return{success:!1,reason:"not editable"};if(r.dispatchEvent(new Event("input",{bubbles:!0})),r.dispatchEvent(new Event("change",{bubbles:!0})),n){let s=null;"closest"in r&&(s=r.closest("form")),!s&&(r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement)&&(s=r.form),s?.requestSubmit?.()??s?.submit?.()}return{success:!0}}function zht({selector:e}){const t=document.querySelector(e);return t instanceof HTMLElement&&t.offsetParent!==null?(t.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),t.click(),{success:!0,outerHTML:t.outerHTML,text:t.innerText,tag:t.tagName}):{success:!1,reason:t?"invisible":"not found"}}function Hht({scrollDirection:e}){const t=window.innerHeight,n=Math.round(t*4);return window.scrollBy({top:e===cA.DOWN?n:-n,left:0,behavior:"smooth"}),{scrolledBy:e===cA.DOWN?n:-n,scrollTop:window.scrollY}}function Wht({url:e}){window.location.href=e}const $ht=async(e,t)=>new Ght(e,t).start();class qht{bridge;constructor(t){this.bridge=t}async GetPageState(t){const n=t.tab_id,r=await this.bridge.tabs_get({id:n}),{result:s}=await this.bridge.agent_execute_js({id:n,js:`(${Vht.toString()})()`});return console.log("[agent] GetPageState content:",{result:s}),le.log("[agent] GetPageState content:",{result:s}),{page_state:{html:s.html,title:r.tab?.title??"",url:r.tab?.url??"",screenshot:void 0}}}async RunActions(t){console.log("[agent] RunActions request:",t),le.log("[agent] RunActions request:",t);for(const n of t.actions){const r=t.tab_id;if(n.type===Jm.CLICK){const s=await this.executeJs(r,zht,{selector:n.selector??""});console.log("[agent] Click action result:",s),le.log("[agent] Click action result:",s)}else n.type===Jm.WAIT?await new Promise(s=>setTimeout(s,n.duration||1e3)):n.type===Jm.SCROLL_PAGE?await this.executeJs(r,Hht,{scrollDirection:n.scroll_direction??cA.DOWN}):n.type===Jm.NAVIGATE?await this.executeJs(r,Wht,{url:n.value??""}):n.type===Jm.FILL?await this.executeJs(r,_Z,{selector:n.selector??"",value:n.value??"",submit:!1}):n.type===Jm.SEARCH?await this.executeJs(r,_Z,{selector:n.selector??"",value:n.value??"",submit:!0}):(console.warn("[agent] Unknown action type:",n.type),le.warn("[agent] Unknown action type:",n.type));await this.bridge.agent_wait_idle({id:r}),await new Promise(s=>setTimeout(s,500))}return this.GetPageState({tab_id:t.tab_id,capture_screenshot:t.capture_screenshot})}async ShowMessage(t){return console.log("[agent] ShowMessage request:",t),le.log("[agent] ShowMessage request:",t),{}}async executeJs(t,n,...r){return(await this.bridge.agent_execute_js({id:t,js:`(${n.toString()})(${r.map(a=>JSON.stringify(a)).join(",")})`})).result}}class Ght{payload;bridge;browserService;socket;constructor(t,n){this.payload=t,this.bridge=n,this.browserService=new qht(n)}async start(){le.log("[agent] Starting agent task:",this.payload),console.log("[agent] Starting agent task:",this.payload);const t=performance.now();let n=()=>{},r=()=>{};const s=new Promise((c,u)=>{n=c,r=u}),a=this.payload.base_url+"/agent";this.socket=new WebSocket(a),this.socket.onopen=n,this.socket.onerror=r,this.socket.onmessage=this.handleRpcMessage.bind(this),await s;const{tab:i}=await this.bridge.tabs_create({url:this.payload.start_url,hidden:!1,agent:!0});await this.bridge.agent_wait_idle({id:i.id});const l=await this.browserService.GetPageState({tab_id:i.id,capture_screenshot:!1});return this.socket.send(JSON.stringify({start_agent:{page_state:l.page_state,tab_id:i.id,task:this.payload.task,task_uuid:this.payload.uuid,extra_headers:this.payload.extra_headers,extension_version:"0.0.1",vision:this.payload.vision,url:this.payload.start_url,client_start_time_ms:Math.round(performance.now()-t)}})),()=>{this.socket?.close(),this.bridge.tabs_close({id:i.id})}}async handleRpcMessage(t){const n=JSON.parse(t.data),r=n.request_id,s=a=>{this.socket?.readyState===WebSocket.OPEN?this.socket.send(JSON.stringify({rpc_response:a})):(console.warn("[agent] Socket is not open, cannot send response:",a),le.warn("[agent] Socket is not open, cannot send response:",a))};try{if(!n.method||!(n.method in this.browserService))throw le.error("[agent] Unknown method:",n.method),console.error("[agent] Unknown method:",n.method),new Error(`Unknown method: ${n.method}`);const a=n.request?JSON.parse(n.request):void 0,i=n.method,l=await this.browserService[i]({...a});s({request_id:r,response:JSON.stringify(l)})}catch(a){const i=JSON.stringify({status:"error",error:`${a}`});s({request_id:r,response:i}),le.error("[agent] Error handling RPC message:",a,n),console.error("[agent] Error handling RPC message:",a,n)}}}class Yht{requests=new Map;bridge;constructor(){this.bridge=new Proxy({},{get:(t,n)=>r=>{const s=qr(),a={request_id:s,[n]:r??{}};return new Promise((i,l)=>{this.requests.set(s,c=>{"error"in c?l(new Error(String(c.error))):i(c)}),window.cometBridge?.postMessage(JSON.stringify(a))})}}),this.startListenMessages()}startListenMessages(){window.cometBridge&&(window.cometBridge.onmessage=t=>{const n=t.data;if(n)try{const r=JSON.parse(n),s=this.requests.get(r.request_id);s?(this.requests.delete(r.request_id),s(r)):(console.warn("No callback found for requestId",r.request_id,r),le.warn("No callback found for requestId",r.request_id,r))}catch(r){console.warn("Failed to parse bridge response",n,r),le.warn("Failed to parse bridge response",n,r)}})}}class CZ{bridge;constructor(){this.bridge=new Proxy({},{get:(t,n)=>async r=>{const a={request_id:qr(),[n]:r??{}},i=await window.webkit?.messageHandlers?.cometBridge?.postMessage(JSON.stringify(a));if(!i)throw new Error("No response from cometBridge");return JSON.parse(i)}})}}function Kht(){return uo(e=>({sourceTabUrl:"",sourceTabTitle:"",screenshotToolEnabled:!0,navigationResults:{},classifierResults:{},omniboxInput:{},navigationMeta:{},taskScreenshots:{},userSelection:void 0,actions:{setSourceTabUrl:t=>{let n=!0;try{const r=new URL(t);n=!((r.protocol==="chrome:"||r.protocol==="comet:")&&r.hostname!=="newtab")}catch{}e({sourceTabUrl:t,screenshotToolEnabled:n})},setSourceTabTitle:t=>{e({sourceTabTitle:t})},setLastOmniboxInput:(t,n)=>{e(r=>({omniboxInput:{...r.omniboxInput,[t]:n}}))},addNavigationResults:(t,{results:n,classifierResult:r,...s})=>{n?.length&&e(a=>{const i={navigationResults:{...a.navigationResults,[t]:n}};return r&&(i.classifierResults={...a.classifierResults,[t]:r}),s&&!a.navigationMeta[t]&&(i.navigationMeta={...a.navigationMeta,[t]:s}),i})},setTaskScreenshot:(t,n)=>{e(r=>({taskScreenshots:{...r.taskScreenshots,[t]:n}}))},setUserSelection:t=>{e({userSelection:t})},clearUserSelection:()=>{e({userSelection:void 0})}}}))}const Qht="mcjlamohcooanphmebaiigheeeoplihb",Xht="streamId",Zht=Object.freeze([]);class Jht{tools;mobileProxy=new CZ;isTestDebugMode=!1;platform="web";useAgentExtensionTools=!1;store=Kht();mainExtension;agentExtension;taskTeardowns=new Map;emitter=cme();constructor(){const t=Su();t?.android_version&&(this.platform="android"),t?.ios_version&&(this.platform="ios"),this.mainExtension=wZ({onMessage:this.handleMessage,extensionId:Qht,name:"entropy_client_context"}),this.agentExtension=wZ({onMessage:this.handleAgentExtensionMessage,extensionId:Fht,name:Uht}),this.tools=emt(this.agentExtension),this.platform==="web"?this.mainExtension.sendMessage({type:"INIT"}).then(n=>{n&&(this.isTestDebugMode=!!n.isTestDebugMode)},n=>{if(Md())throw n}):this.mobileProxy=this.platform==="android"?new Yht:new CZ,NJe()}getStore(){return this.store}async openNewTab(t){const n=new URL(t);n.searchParams.delete("erp"),n.pathname=n.pathname.replace("/sidecar",""),await this.openTab({url:n.toString(),request_id:"openNewTab",key:"openNewTab"})}_getNavigationResults(t){return this.store.getState().navigationResults[t]??Zht}async closeSideCar(){return this.send({type:"HIDE_SIDECAR"})}async openTab(t){if(this.platform!=="web"){const r=(await this.mobileProxy?.bridge.tabs_create({url:t.url,hidden:!1})).tab;return{is_success:!0,_metadata:{time:1},result:{tab_id:r.id,url:r.url,title:r.title,last_accessed:r.last_accessed}}}return this.useAgentExtensionTools?{is_success:!0,result:(await this.tools.OpenTabs({key:t.key??"unknown",request_id:t.request_id??"unknown",urls:[t.url],tab_ids:t.tabId?[t.tabId]:[]})).tabs[0]}:this.send({type:"OPEN_TAB",payload:{tabId:t.tabId??null,...t}})}async injectSearchResults(t,n,r={}){try{const s=tu(),a={streamId:n,...r};Ld("web.frontend.comet_navigation_run_inject",a);const i=await this.send({type:"NAV_SEARCH",payload:{query:t,streamId:n}});if(!i.is_success)throw new Error("Failed to inject search results");this.store.getState().actions.addNavigationResults(n,i);const c={type:i.type??"unknown",...a};s.addTiming("web.frontend.comet_navigation_search_results",c);const u=s.getAbsoluteStartTime(),d={...c,startTime:u};i._metadata?.time&&$c("web.frontend.comet_navigation_extension_processing",{duration:i._metadata.time,...d}),i.searchTime&&$c("web.frontend.comet_navigation_search_time",{duration:i.searchTime,...d}),i.classifyTime&&$c("web.frontend.comet_navigation_classify_time",{duration:i.classifyTime,...d}),i.networkingTime&&$c("web.frontend.comet_navigation_networking_time",{duration:i.networkingTime,...d})}catch(s){le.error(new sR("NAV_RESULTS_INJECTION_FAILED",{details:{streamId:n},cause:s}))}}async getIsCometDefaultBrowser(t){try{const n=await this.send({type:"GET_IS_DEFAULT_BROWSER",key:t});return n.is_success?n.isDefault:null}catch{return null}}async setCometAsDefaultBrowser(t){return this.send({type:"SET_AS_DEFAULT_BROWSER",key:t})}subscribeCometNavigate(t){const n=r=>{const s=new URL(r.detail.url);if(delete window.pplxNavIntentEvent,this.store.getState().actions.clearUserSelection(),Ld("comet_navigate"),s.pathname==="/search"&&s.searchParams.has("q")&&(s.pathname="/search/new"),s.pathname==="/search/new"){const a=qr(),i=r.detail.text||"",l=s.searchParams.get("q")??"";s.searchParams.set(Xht,a),this.injectSearchResults(l,a,{omnisearch:!0}),this.store.getState().actions.setLastOmniboxInput(a,i)}t({url:s})};return window.pplxNavIntentEvent&&n(window.pplxNavIntentEvent),document.addEventListener("comet-navigate",n),()=>{document.removeEventListener("comet-navigate",n)}}subscribeToCometQuery(t){const n=r=>{const s=r.detail.query;delete window.pplxCometQuery,t(s)};return window.pplxCometQuery&&n(window.pplxCometQuery),document.addEventListener("comet-query",n),()=>{document.removeEventListener("comet-query",n)}}getLastOmniboxInput(t){return this.store.getState().omniboxInput[t]}async searchTabs(t){if(this.platform!=="web"){const{tabs:n}=await this.mobileProxy.bridge.tabs_query();return{is_success:!0,tabs:n.map(r=>({tabId:r.id,title:r.title??"",url:r.url,isCurrent:!1,lastAccess:r.last_accessed??0,snippet:""})),_metadata:{time:1}}}return this.useAgentExtensionTools?{is_success:!0,tabs:(await this.tools.SearchBrowser({queries:[],sources:["OPEN_TABS"],key:t,history_max_results:0,open_tabs_max_results:500,closed_tabs_max_results:0,request_id:t})).open_tabs_results.map(r=>({...r,tabId:r.tab_id,lastAccess:r.last_accessed}))}:this.send({type:"SEARCH_TABS",payload:{queries:[]},key:t})}async ungroupTabs(t,n,r){return this.useAgentExtensionTools?{is_success:!0,tabIds:(await this.tools.UngroupTabs({group_ids:t.groupIds,tab_ids:t.tabIds,key:n,request_id:r})).ungrouped_tabs.map(a=>({id:a.tab_id,error:a.error})),groupIds:t.groupIds.map(a=>({id:a}))}:this.send({type:"UNGROUP_TABS",payload:t,key:n})}showNotification(){this.send({type:"SHOW_NOTIFICATION"}).catch(()=>{})}setTabProgress(t){this.send({type:"SET_TAB_PROGRESS",payload:t}).catch(()=>{})}async searchTabGroups(t,n,r){return this.useAgentExtensionTools?{is_success:!0,results:(await this.tools.SearchTabGroups({queries:t.queries,request_id:r,key:n})).tab_groups.map(a=>({...a,color:a.color,tabs:a.tabs.map(i=>({...i,tabId:i.tab_id,isCurrent:i.is_current_tab??!1}))}))}:this.send({type:"SEARCH_TAB_GROUPS",payload:t,key:n})}showFeedbackForm(){this.send({type:"SHOW_FEEDBACK_FORM"}).catch(()=>{})}subscribeScreenshotCaptured(t){return this.emitter.on("SCREENSHOT_CAPTURED",t)}handleAgentExtensionMessage=t=>{try{Ls(t).with({type:"SCREENSHOT_CAPTURED"},async({payload:{screenshot:n}})=>{const s=await(await fetch(n)).blob(),a=new File([s],"screenshot.png",{type:s.type});le.info("Screenshot captured"),this.emitter.emit("SCREENSHOT_CAPTURED",a)}).with({type:"BROWSER_TASK_PROGRESS_SCREENSHOT"},async({payload:{screenshot:n,taskUuid:r}})=>{this.store.getState().actions.setTaskScreenshot(r,`data:image/png;base64,${n}`)}).with({type:"BROWSER_TASK_STOP"},()=>{le.info("Browser task stopped"),this.emitter.emit("BROWSER_TASK_STOP")}).with({type:"AGENT_TASK_FAILURE"},({payload:{taskUuid:n,extraHeaders:r,error:s}})=>{gde({clientPayloadCacheKey:n,errorType:s,errorMsg:"Agent task failure."},r,"CometAdapter").catch(a=>{le.error("Error sending tool failure",a)})}).with({type:"USER_SELECTION_CAPTURED"},({payload:{selection:n}})=>{this.store.getState().actions.setUserSelection(n)}).otherwise(n=>{le.log("Unknown message type",n)})}catch(n){le.error("Error parsing entropy message",n)}};async fetchOpenedTabs(){const t=await this.searchTabs("fetch_opened_tabs");return t.is_success?t.tabs.filter(n=>(n.url.startsWith("https://")||n.url.startsWith("file://"))&&!n.isCurrent).sort((n,r)=>r.lastAccess-n.lastAccess):[]}async getPersonalSuggestions(t,n){return this.send({type:"GET_PERSONAL_SUGGESTIONS",payload:t,key:n})}async getTopMostVisitedUrls(t,n){return this.send({type:"GET_TOP_MOST_VISITED_URLS",payload:t,key:n})}getQuickActions(t){return this.send({type:"GET_QUICK_ACTIONS",key:t})}async getInitialHistorySummary(t,n,r){return this.SearchBrowser({queries:[],sources:["HISTORY"],key:t,request_id:"",start_time:n*24*60*60*1e3,history_max_results:r,open_tabs_max_results:r,closed_tabs_max_results:r})}async GetContent(t){return this.platform!=="web"?{contents:(await Promise.allSettled(t.pages.map(async r=>r.id?(await this.mobileProxy.bridge.tabs_get_content({id:r.id})).tab_content:(await this.mobileProxy.bridge.tabs_get_url_content({url:r.url})).tab_content))).map(r=>r.status==="fulfilled"?r.value:void 0).filter(r=>r!==void 0).map(r=>({html:"",id:r.id,url:r.url,title:r.title??"",og_meta:r.og_meta??{},markdown:r.markdown??""}))}:this.tools.GetContent(t)}async GetVisibleTabScreenshot(t){return this.tools.GetVisibleTabScreenshot(t)}async SearchBrowser(t){if(this.platform!=="web"){const n=t.sources.includes("HISTORY")?Promise.allSettled((t.queries.length?t.queries:[""]).map(async i=>await this.mobileProxy.bridge.history_search({text:i,max_results:t.history_max_results,start_time:t.start_time,end_time:t.end_time}))):[],[{tabs:r},s]=await Promise.all([t.sources.includes("OPEN_TABS")?this.mobileProxy.bridge.tabs_query():{tabs:[]},n]),a=s.map(i=>i.status==="fulfilled"?i.value.history_items:[]).flat().map(i=>({title:i.title??"",url:i.url,last_accessed:i.last_visit_time??Date.now(),visit_count:i.visit_count??1}));return{closed_tabs_results:[],history_results:a,open_tabs_results:r.map(i=>({tab_id:i.id,title:i.title??"",url:i.url,last_accessed:i.last_accessed??0}))}}return this.tools.SearchBrowser(t)}async GetSidecarContext(t){return this.tools.GetSidecarContext(t)}async closeTabs(t,n,r){if(this.platform!=="web"){const{tabs:s}=await this.mobileProxy.bridge.tabs_query(),a=t.tabIds??[],i=s.filter(l=>a.includes(l.id));return i.forEach(l=>{this.mobileProxy.bridge.tabs_close({id:l.id})}),{is_success:!0,result:i.map(l=>({id:l.id,url:l.url,title:l.title??""}))}}return this.useAgentExtensionTools?{is_success:!0,result:(await this.tools.CloseTabs({tab_ids:t.tabIds??[],key:n,request_id:r})).tabs.map(a=>({id:a.tab_id,...a}))}:this.send({type:"CLOSE_TABS",payload:t,key:n})}async groupTabs(t,n,r){if(this.useAgentExtensionTools){const s=await this.tools.GroupTabs({...t,tab_ids:t.tabIds,group_id:t.groupId,key:n,request_id:r});if(!s.tab_group)throw new Error("[GroupTabs] Tab group not found");return{is_success:!0,tabGroup:{id:s.tab_group.id,title:s.tab_group.title,collapsed:s.tab_group.collapsed??!1,color:s.tab_group.color}}}return this.send({type:"GROUP_TABS",payload:t,key:n})}async maybeSendSearchResult(t,n,r){if(!this.isTestDebugMode||!t)return;const a=[...t.web_results??[],...t.extra_web_results??[]].map(i=>({name:i.name,snippet:i.snippet,url:i.url,isClientContext:!!i.is_client_context}));return this.send({type:"PERPLEXITY_SEARCH_RESULT",payload:{answer:t.answer,webResults:a,isPending:r,steps:n.map(i=>i.step_type)}})}submitTask(t){const n=this.taskTeardowns.get(t.entryId)??[];if(this.taskTeardowns.set(t.entryId,n),this.platform!=="web"){const r=$ht(t,this.mobileProxy.bridge);n.push(()=>r.then(s=>s()));return}n.push(this.agentExtension.sendMessageToPort(t))}cleanupTasks(t){if(!t)return;const n=this.taskTeardowns.get(t);n&&(n.forEach(r=>r()),this.taskTeardowns.delete(t))}captureSourceTabScreenshotV2({sourceTabUrl:t=""}){this.agentExtension.sendMessage({type:"CAPTURE_SCREENSHOT_V2",payload:{tabId:void 0,sourceTabUrl:t}})}deactivateScreenshotTool(){this.agentExtension.sendMessage({type:"DEACTIVATE_SCREENSHOT_TOOL",payload:{tabId:void 0}})}subscribeToSidecarBrowserTaskStop(t){return this.emitter.on("BROWSER_TASK_STOP",t)}subscribeForceSubmitQuery(t){return this.emitter.on("FORCE_SUBMIT_QUERY",t)}subscribeQuickActionButtonFired(t){return this.emitter.on("QUICK_ACTION_BUTTON_FIRED",t)}async send(t){return this.mainExtension.sendMessage(t).then(n=>(n.is_success=!n.errorType,n))}handleMessage=t=>{try{Ls(t).with({type:"UPDATE_SOURCE_TAB_URL"},r=>{this.store.getState().actions.setSourceTabUrl(r.payload.url),this.store.getState().actions.clearUserSelection()}).with({type:"UPDATE_SOURCE_TAB_TITLE"},r=>{this.store.getState().actions.setSourceTabTitle(r.payload.title)}).with({type:"FORCE_SUBMIT_QUERY"},r=>{this.isTestDebugMode&&this.emitter.emit("FORCE_SUBMIT_QUERY",r.payload)}).with({type:"QUICK_ACTION_BUTTON_FIRED"},()=>{this.emitter.emit("QUICK_ACTION_BUTTON_FIRED")}).with({type:"INIT"},r=>{this.isTestDebugMode=!!r.payload.isTestDebugMode,r.payload.sourceTabUrl&&this.store.getState().actions.setSourceTabUrl(r.payload.sourceTabUrl),r.payload.sourceTabTitle&&this.store.getState().actions.setSourceTabTitle(r.payload.sourceTabTitle)}).otherwise(r=>{le.log("Unknown message type",r)})}catch(n){le.error("Error parsing entropy message",n)}}}const emt=e=>new Proxy({},{get(t,n){return r=>e.sendMessage({type:"CALL_TOOL",method:n,request:r}).then(({success:s,response:a})=>{if(!s)throw a;return a}).catch(s=>{throw le.error("Error calling tool",s),"errorType"in s?s:{errorType:"unhandled",errorMsg:"Proxy error."}})}}),I5=new Jht,{Provider:tmt,useTrackedState:nmt}=Mg("CometState",()=>I5.getStore()),Kpe=f.createContext(void 0),rmt=({children:e})=>{const t=Qt(),n=uue(),r=pr();return f.useLayoutEffect(()=>{const s=ga();return document.documentElement.dataset.erp=s.erp,I5.subscribeCometNavigate(({url:a})=>{if(a.origin===window.location.origin&&a.pathname.startsWith(t.base)&&(a.pathname=a.pathname.replace(t.base,""),n(a.pathname))){const l=a.searchParams.toString(),c=`${a.pathname}${l?`?${l}`:""}`;t.push(c,void 0,"Comet navigate");return}if(r){le.error("Invalid soft navigation in Sidecar",{url:a}),I5.openTab({url:a.toString()});return}const i=a.toString();window.location.href=i})},[t,n,r]),o.jsx(tmt,{children:o.jsx(Kpe.Provider,{value:I5,children:e})})};function Bs(e=!0){const t=f.useContext(Kpe);if(!t&&e)throw new Error("useEntropyBrowser must be used inside EntropyBrowserProvider");return t}const sc=nmt;var jk={},SZ;function smt(){return SZ||(SZ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="plus",r=448,s=512,a=[10133,61543,"add"],i="2b",l="M248 72c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 160L40 232c-13.3 0-24 10.7-24 24s10.7 24 24 24l160 0 0 160c0 13.3 10.7 24 24 24s24-10.7 24-24l0-160 160 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-160 0 0-160z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faPlus=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(jk)),jk}var WF=smt();const Qpe=L.memo(({query:e,completion:t,inputsAndCompletions:n,description:r,highlightPrefix:s,url:a,title:i,shouldShowTitle:l})=>{const c=t1e(a),u=n1e(a),d=l&&i?i:e,h=c?d.toUpperCase():d,{$t:m}=ae(),g=c?t?.toUpperCase():t;return u?o.jsx(F,{variant:"small",inline:!0,children:m({defaultMessage:"{perplexity} Finance",id:"LnL5Kdg1cp"},{perplexity:"Perplexity"})},"perplexity-finance"):o.jsxs(o.Fragment,{children:[!r&&n?.length&&s?n.map(([v,x],b)=>v?o.jsx(F,{color:"light",variant:"small",className:"inline",as:"div",children:v},`${b}-${v}`):o.jsx(F,{className:"inline whitespace-pre",variant:"small",as:"div",children:x},`${b}-${x}`)):r?o.jsxs("div",{className:"flex flex-col",children:[o.jsx(F,{variant:"small",inline:!0,children:h}),o.jsx(F,{variant:"tinyRegular",className:"!text-text-200 opacity-70",inline:!0,children:r})]}):o.jsx(F,{inline:!0,color:"light",variant:"small",children:h}),t&&s&&!n?.length&&o.jsx(F,{className:"whitespace-pre",inline:!0,variant:"small",children:g}),t&&!s&&o.jsx(F,{color:"light",inline:!0,variant:"small",children:g})]})});Qpe.displayName="DefaultQueryContentComponent";const Xpe=L.memo(({onClick:e,query:t,completion:n,inputsAndCompletions:r,url:s,suggestionIndex:a,keyboardFocusedIndex:i,setKeyboardFocusedIndex:l,leftIcon:c,rightIcon:u=o.jsx(jt,{icon:WF.faPlus}),className:d,description:h,title:m,shouldShowTitle:g,highlightPrefix:v=!0,category:x,QueryContentComponent:b=Qpe,metadata:w,actionHandler:C})=>{const{isMobileUserAgent:S}=qe(),k="group-hover:opacity-100 group-data-[focused=self]:opacity-100",E="opacity-0 group-data-[focused=other]:opacity-0",T=f.useCallback(()=>{l?.(-1)},[l]),j=f.useCallback(N=>g&&m&&t?o.jsx(Mn,{tooltipText:t,bodyClassName:"max-w-[300px]",showTooltip:!0,asChild:!0,tooltipLayout:"right",children:N}):N,[g,m,t]);return o.jsx(kt,{children:j(o.jsx("div",{"data-focused":i===void 0||i===-1?"none":i===a?"self":"other",className:W("group flex cursor-pointer flex-row items-center rounded-lg p-[8px] last:rounded-b-xl",d),onPointerDown:()=>{C?C():e(n?t+n:t)},onPointerLeave:T,children:o.jsxs("div",{className:"flex w-full min-w-0 flex-row whitespace-pre leading-tight",children:[o.jsx(F,{className:"-mr-[3px]",color:"light",inline:!0,variant:"small",children:c}),o.jsx(F,{variant:"small",className:S?"truncate":"line-clamp-2 text-wrap",children:s?o.jsx(Nt,{href:s,target:"_blank",rel:"noopener",children:o.jsx(b,{query:t,url:s,completion:n,inputsAndCompletions:r,description:h,category:x,highlightPrefix:v,metadata:w,title:m,shouldShowTitle:g})}):o.jsx(b,{query:t,url:s,completion:n,inputsAndCompletions:r,description:h,category:x,highlightPrefix:v,metadata:w,title:m,shouldShowTitle:g})}),o.jsx(F,{variant:"smallBold",color:"super",inline:!0,className:W("pr-xs ml-auto",k,{[E]:!s}),children:u})]})}))})});Xpe.displayName="SuggestionCard";const aR={ticker:{order:0,showHeader:!1,highlightPrefix:!1},suggestion:{order:1,showHeader:!1,highlightPrefix:!0},news:{displayName:"Latest News",order:2,showHeader:!0,highlightPrefix:!1},related_question:{displayName:"Related Questions",order:3,showHeader:!0,highlightPrefix:!1},shortcuts:{displayName:"Shortcuts",order:4,showHeader:!0,highlightPrefix:!0}},amt=e=>{const t={};return e.forEach(n=>{const r=n.category||"suggestion";t[r]||(t[r]=[]),t[r].push(n)}),t},imt=e=>Object.keys(e).sort((t,n)=>{const r=aR[t]?.order??Number.MAX_SAFE_INTEGER,s=aR[n]?.order??Number.MAX_SAFE_INTEGER;return r-s}),MZ=e=>{const{metadata:t}=e;return!!t&&t.type==="price"&&!!t.price_info&&typeof t.price_info.currentPrice=="number"&&!!t.price_info.change&&!!t.price_info.changePercentage},omt=e=>[...e].sort((t,n)=>{const r=MZ(t),s=MZ(n);return r&&!s?-1:!r&&s?1:0}),lmt=L.memo(e=>{const{text:t,show:n,className:r}=e;return n?o.jsxs(o.Fragment,{children:[o.jsx(Q,{className:W("my-sm sm:mx-sm border-b first:hidden",r)}),t&&o.jsx(Q,{variant:"transparent",className:"sm:mx-sm mt-xs mb-sm pr-sm",children:o.jsx(F,{className:"w-max",variant:"tinyMono",color:"light",children:t})})]}):null}),Zpe=L.memo(({category:e,suggestions:t,categoryConfig:n,value:r,focusedIndex:s,setFocusedIndex:a,handleSubmit:i,indexOffset:l,LeftIconComponent:c,RightIconComponent:u,QueryContentComponent:d,onFillButtonClick:h,titleClassName:m})=>{const g=f.useMemo(()=>e==="ticker"?omt(t):t,[e,t]),v=f.useMemo(()=>L.memo(({suggestion:{input:x,completion:b,query_uuid:w,image:C,imageDark:S,url:k="",description:E,identifier:T="",category:j,title:N="",subscribed:R=!1,metadata:O,submission_query:I,inputs_and_completions:B,icon_name:D,shouldShowTitle:z,actionHandler:V},index:U})=>{const H=f.useCallback(K=>i({query:K,query_uuid:w,url:k,identifier:T,category:j,description:E,image:C,imageDark:S,title:N,subscribed:R,submission_query:I},U+l),[j,E,T,C,S,U,w,I,R,N,k]),q=f.useCallback(()=>{h(x+b,k)},[b,x,k]),$=f.useMemo(()=>o.jsx(c,{image:C,imageDark:S,alt:x+r,url:k,category:j,iconName:D,value:r}),[j,D,C,S,x,k]),G=f.useMemo(()=>o.jsx(u,{onClick:q,url:k,isSelected:R,metadata:O,category:j}),[q,O,R,k,j]);return o.jsx(Xpe,{onClick:H,query:x,completion:b,inputsAndCompletions:B,url:k,suggestionIndex:U+l,keyboardFocusedIndex:s,setKeyboardFocusedIndex:a,description:E,title:N,shouldShowTitle:z,highlightPrefix:n.highlightPrefix??!0,className:W("bg-background-50 dark:bg-background-200","hover:bg-background-200 dark:hover:bg-background-300","data-[focused=self]:bg-background-200","dark:data-[focused=self]:bg-background-300","hover:data-[focused=other]:bg-background-50","dark:hover:data-[focused=other]:bg-background-200"),category:j,QueryContentComponent:d,metadata:O,leftIcon:$,rightIcon:G,actionHandler:V})}),[c,d,u,n.highlightPrefix,s,i,l,h,a,r]);return t.length?o.jsxs(o.Fragment,{children:[o.jsx(lmt,{show:n.showHeader,text:n.displayName,className:m}),g.map((x,b)=>o.jsx(v,{suggestion:x,index:b},`${e}-${x.input+x.completion+x.description||x.query_uuid}`))]}):null});Zpe.displayName="SuggestionGroup";const cmt=60,umt=2e3,dmt=6,fmt=4,hmt=5,e1=(e,t)=>e?fmt:t?hmt:dmt,mmt=e=>!(e.length===0||e.includes(`
`)),pmt=e=>e.map(t=>({query:t.text,image:t.image_url,url:t.url,title:t.title})),gmt=e=>e.sort((t,n)=>t.url?-1:n.url?1:t.image?-1:n.image?1:0),iR=(e,t,n)=>{let r=e;const s=pr();(t||s)&&(r=e.filter(l=>!l.url));const a=iue(r,"query");if(n){const l=a.findIndex(c=>c.query===n);if(~l){const c=a[l];a.splice(l,1),a.unshift(c)}}const i=gmt(a);return[i,i.slice(0,e1(t))]},Jpe=(e,t,n)=>{const r=n?e.replace(/\s+/g,"").toLocaleLowerCase():e,s=t.query;let a=0,i=0;for(;a<r.length&&i<s.length;)r[a]===s[i].toLocaleLowerCase()&&a++,i++;return[a===r.length,i]},vmt=(e,t)=>{const n=e.replace(/\s+/g,""),r=[];let s="",a="",i=0,l=0;for(;i<n.length&&l<t.length;)n[i].toLocaleLowerCase()===t[l].toLocaleLowerCase()?(a&&(r.push(["",a]),a=""),s+=t[l],i++,l++):(s&&(r.push([s,""]),s=""),a+=t[l],l++);return s&&r.push([s,""]),a&&r.push(["",a]),l<t.length&&r.push(["",t.slice(l)]),r},ymt={calendar:aI,"report-search":Sce,browser:NHe,mail:lI,"shopping-bag":Hj,message:yce,"user-heart":Nce,play:wce,globe:cWe,music:RWe,book:gw,plane:O_,plus:$r},e1e=L.memo(({image:e,alt:t,url:n,iconName:r,value:s,category:a})=>{const i=pr(),[l,c]=f.useState(!1),{sourceTabUrl:u}=sc(),d=Ai(),h=f.useMemo(()=>{if(i&&u)return oy(u);if(e)return e;if(n)return ppe(n)},[e,n,i,u]),m=r?ymt[r]:null,g=s.length===0?Iit[d]??cu:cu;return a==="shortcuts"&&!r?o.jsx(Ne,{icon:KWe,size:"sm",className:"mt-two mr-2 w-5 flex-shrink-0"}):n1e(n)?o.jsx("div",{className:"mr-2 flex size-5 shrink-0 items-center justify-center",children:o.jsx(Ne,{icon:Ix,size:"sm",className:"text-text"})}):h&&!l?o.jsx("div",{className:"relative mr-2 size-5 shrink-0 overflow-hidden rounded-sm",children:o.jsx("img",{src:h,alt:t??"suggestion",className:"object-cover",sizes:"24px",onError:()=>c(!0)})}):l&&n?o.jsx(Q,{className:"mr-2 flex size-5 shrink-0 items-center justify-center overflow-hidden rounded-sm",variant:"offsetPlus",children:o.jsx(jt,{icon:Sht.faGlobe})}):o.jsx(Ne,{icon:m??g,size:"sm",className:"mt-two mr-2 w-5 flex-shrink-0"})});e1e.displayName="LeftIcon";const t1e=e=>e?.includes("perplexity.ai/finance"),n1e=e=>e==="https://www.perplexity.ai/finance",r1e=L.memo(({onClick:e,url:t,category:n})=>n==="shortcuts"?null:t1e(t)?o.jsx("div",{className:"flex h-full items-center",children:o.jsx(Ne,{icon:xa,size:"md",className:"text-text-200 -mr-xs"})}):o.jsx("button",{className:"appearance-none",onPointerDown:r=>{r.stopPropagation(),r.preventDefault(),e(r)},type:"button",children:o.jsx(jt,{icon:t?kht.faGlobePointer:_ht.faArrowUpLeft})}));r1e.displayName="RightIcon";const s1e=L.memo(()=>{const{$t:e}=ae();return o.jsxs("div",{className:"flex w-full min-w-0 flex-row items-center whitespace-pre p-[8px] leading-tight",children:[o.jsx(F,{className:"-mr-[3px] flex-shrink-0 px-[3px]",color:"super",inline:!0,variant:"small",children:o.jsx(Ne,{size:"xs",icon:dm})}),o.jsx(F,{variant:"tinyMono",color:"super",className:"ml-2",children:e({defaultMessage:"Comet Assistant",id:"ML678gEBQ1"})})]})});s1e.displayName="CometAssistantRow";const Dx=L.memo(({isOpen:e,suggestedQueries:t,focusedIndex:n,setFocusedIndex:r,handlePasteQuery:s,handleSubmit:a,dropdownClassName:i,dropdownType:l="query",components:c,value:u,children:d,popoverClassName:h,categoryTitleClassName:m,userInputQuery:g,portalTarget:v,placement:x="bottom",allowNonSequentialMatch:b=!1,isCometHome:w,scrollableShards:C=[]})=>{const{trackEvent:S}=Ye(),{RightIconComponent:k=r1e,LeftIconComponent:E=e1e,QueryContentComponent:T}=c??{},j=f.useMemo(()=>t.map(({query:$,query_uuid:G,image:K,imageDark:ee,url:oe,title:ne,description:te="",identifier:re="",category:X,subscribed:ce=!1,metadata:se,submission_query:J,icon:de,is_comet_assistant:ie,shouldShowTitle:he,actionHandler:pe},ge,Ce)=>{if(l==="select")return{input:$,completion:"",query_uuid:G,title:ne,image:K,url:oe,description:te,identifier:re,category:X,subscribed:ce,submission_query:J,icon_name:de,is_comet_assistant:ie,shouldShowTitle:he,actionHandler:pe};const we=g?n===-1?u:g:u;return we.length>0&&$.startsWith(we)?{input:we,completion:$.slice(we.length),query_uuid:G,title:ne,image:K,imageDark:ee,url:oe,category:X,metadata:se,...(X==="ticker"||X==="news")&&{description:te},submission_query:J,icon_name:de,is_comet_assistant:ie,shouldShowTitle:he,actionHandler:pe}:b&&!te&&we.length>0&&we.length<=$.length&&Jpe(we,Ce[ge],!0)[0]?{input:"",completion:$,inputs_and_completions:vmt(we,$),query_uuid:G,title:ne,image:K,url:oe,category:X,metadata:se,...(X==="ticker"||X==="news")&&{description:te},submission_query:J,icon_name:de,is_comet_assistant:ie,shouldShowTitle:he,actionHandler:pe}:{input:$,completion:"",query_uuid:G,title:ne,image:K,imageDark:ee,url:oe,category:X,metadata:se,...(X==="ticker"||X==="news")&&{description:te},submission_query:J,icon_name:de,is_comet_assistant:ie,shouldShowTitle:he,actionHandler:pe}}),[t,u,l,g,n,b]),N=f.useMemo(()=>amt(j),[j]),R=f.useMemo(()=>imt(N),[N]),O=f.useMemo(()=>R.some($=>N[$].some(G=>G.is_comet_assistant)),[R,N]),I=f.useCallback(($,G)=>{if(G){window.open(G,"_blank");return}S("auto suggestion filled",{}),s($)},[s,S]),B=W("!block w-full",x==="bottom"?"rounded-b-[20px]":"rounded-t-[20px]",h),D=f.useRef(null),[z,V]=f.useState(null),U=!e||t.length===0;jht({ref:D,onResize:$=>{V($?.height??null)}});const H=f.useMemo(()=>({portalTarget:v??void 0,removeScroll:!0,shards:C}),[v,C]),q=f.useMemo(()=>o.jsx("div",{className:W(x==="bottom"?"border-t-borderMainDark/10 dark:border-t-textMainDark/10 shadow-textMain/5 mt-[-5px] rounded-b-[20px] shadow-md dark:shadow-lg dark:shadow-black/10":"border-b-borderMainDark/10 dark:border-b-textMainDark/10 mb-[-5px] rounded-t-[20px]","border-borderMainDark/30 dark:border-textMain/15 border","bg-background-50 dark:bg-offsetDark p-3",i),children:o.jsx(je.div,{animate:{height:U?0:z??"auto"},initial:{height:0},transition:{height:{type:"spring",bounce:.1,duration:.05}},style:{overflow:"hidden"},children:o.jsxs("div",{ref:D,className:"flex flex-col items-stretch",children:[w&&O?o.jsx(s1e,{}):null,R.map(($,G)=>{const K=N[$],ee=aR[$]||{order:999,showHeader:!1};let oe=0;for(let ne=0;ne<G;ne++){const te=R[ne];oe+=N[te]?.length||0}return K.length?o.jsx(Zpe,{category:$,suggestions:K,categoryConfig:ee,value:u,focusedIndex:n,setFocusedIndex:r,handleSubmit:a,indexOffset:oe,LeftIconComponent:E,RightIconComponent:k,QueryContentComponent:T,onFillButtonClick:I,titleClassName:m},$):null})]})})}),[E,T,k,m,z,i,n,N,a,O,w,I,x,U,r,R,u]);return o.jsx(lo,{isOpen:e,matchTargetWidth:!0,disableAnimation:!0,placement:x,childrenClassName:"grow block",contentClassName:B,avoidCollisions:!1,disableShadow:!0,overlayProps:H,content:q,children:d})});Dx.displayName="SuggestDropdown";const py="homepage-widgets",$F="homepage/weather",xmt="homepage-widgets/dismiss",bmt=e=>({"x-loc-latitude":e.latitude.toString(),"x-loc-longitude":e.longitude.toString()}),wmt=(e,t,n)=>{let r="existing";return t<3?r="new":t<10&&(r="activated"),`/rest/homepage-widgets/public?isComet=${e}&lifecycle=${r}&lang=${n}`},_mt=async({headers:e,urlPath:t="/rest/homepage-widgets",params:n,reason:r})=>{if(n){const s=t.split("?"),a=new URLSearchParams(s[1]??"");new URLSearchParams(n).forEach((l,c)=>{a.set(c,l)}),t=s[0]+"?"+a.toString()}try{const s=await or({urlPath:t,method:"GET",timeoutMs:ut({productionMs:2e3,clientSideMs:2e3,devMs:4e3}),numRetries:1,headers:{"content-type":"application/json",...e},reason:r}),a=await s.json();if(!s.ok)throw new Error("Homepage widget fetch failed");return a.widgets}catch(s){return le.error("Failed to get homepage widgets",s),[]}},Cmt=async({widgetUuid:e,reason:t})=>{try{return(await me.POST("/rest/homepage-widgets/dismiss/{widget_uuid}",t,{params:{path:{widget_uuid:e}},numRetries:1})).data}catch(n){return le.error("Failed to dismiss homepage widget",n),null}},Smt=({widget:e,reason:t})=>{const n=Vt();return Kt({mutationKey:[xmt],mutationFn:()=>Cmt({widgetUuid:e.uuid??"",reason:t}),onMutate:async()=>{e.size==="ROW"&&n.setQueryData([py],r=>r.filter(s=>s.uuid!==e.uuid))}})},a1e=async({location:e,locale:t,reason:n})=>{const r={...e?bmt(e):{},"accept-language":t},s=await me.GET("/rest/homepage-widgets/weather",n,{headers:r});if(!s.response.ok||!s.data)throw new Error("Failed to get weather");return s.data.data[0]},i1e=async({query:e,watchlistType:t,limit:n,category:r,cometRenderPlace:s,reason:a})=>{const i=encodeURIComponent(e),{data:l,error:c}=await me.GET("/rest/homepage-widgets/watchlist/list-autosuggest",a,{params:{query:{type:t,query:i,limit:n,category:r,entropy_render_place:s}},timeoutMs:1500,numRetries:1});if(c)throw new pt("API_CLIENTS_ERROR",{message:"Failed to get watchlist autosuggestions",cause:c});return l.results??Fe},Mmt=async({watchlistType:e,reason:t})=>{try{const{error:n,data:r}=await me.GET("/rest/homepage-widgets/watchlist/subscription",t,{params:{query:{type:e}},headers:{"content-type":"application/json"},numRetries:1});if(n)throw new pt("API_CLIENTS_ERROR",{message:"Failed to get watchlist subscriptions",cause:n});return r.results??[]}catch(n){return le.error(n),[]}},kmt=async({watchlistType:e,reason:t})=>{try{const{error:n,data:r}=await me.GET("/rest/homepage-widgets/watchlist/categories",t,{params:{query:{type:e}},numRetries:1});if(n)throw new pt("API_CLIENTS_ERROR",{message:"Failed to get watchlist categories",cause:n});return r?.results??[]}catch(n){return le.error(n),[]}},Emt=async({watchlistType:e,identifier:t,category:n,reason:r})=>{try{const{error:s}=await me.PUT("/rest/homepage-widgets/watchlist/subscription",r,{params:{query:{type:e,identifier:t??"",category:n}},headers:{"content-type":"application/json"}});if(s)throw new pt("API_CLIENTS_ERROR",{message:"Failed to add watchlist subscription",cause:s});return!0}catch(s){return le.error(s),!1}},Tmt=async({watchlistType:e,identifier:t,category:n,reason:r})=>{try{const{error:s}=await me.DELETE("/rest/homepage-widgets/watchlist/subscription",r,{params:{query:{type:e,identifier:t,category:n}},headers:{"content-type":"application/json"}});if(s)throw new pt("API_CLIENTS_ERROR",{message:"Failed to remove watchlist subscription",cause:s});return!0}catch(s){return le.error(s),!1}},Nmt=async({watchlistType:e,identifier:t,order:n,reason:r})=>{try{const{error:s}=await me.PATCH("/rest/homepage-widgets/watchlist/subscription",r,{params:{query:{type:e,identifier:t}},body:{order:n},headers:{"content-type":"application/json"}});if(s)throw new pt("API_CLIENTS_ERROR",{message:"Failed to update watchlist subscription order",cause:s});return!0}catch(s){return le.error(s),!1}},UC=e=>["watchlist",e,"subscriptions"],jmt=e=>["watchlist",e,"addSubscription"],Amt=e=>["watchlist",e,"removeSubscription"],Rmt=e=>["watchlist",e,"updateSubscription"],o1e=({watchlistType:e,reason:t})=>{const n=Ct(),r=UC(e);return Ft({queryKey:r,queryFn:()=>Mmt({watchlistType:e,reason:t}),staleTime:0,enabled:n})},Lmt=({watchlistType:e,queryClient:t,reason:n})=>{const r=UC(e);return Kt({mutationKey:jmt(e),mutationFn:async s=>Emt({watchlistType:e,reason:n,...s}),onMutate:async({identifier:s,category:a,description:i,image:l,title:c})=>{await t.cancelQueries({queryKey:r});const u=t.getQueryData(["watchlist",e]);return t.setQueryData(r,(d=[])=>{const h={identifier:s??"",category:a,description:i??"",image_url:l??"",title:c??"",subscribed:!0,order:Date.now()},m=d.filter(g=>g.identifier!==s);return[h,...m]}),{previousSubscriptions:u}},onError:(s,a,i)=>{le.error("Error adding watchlist subscription",s),t.setQueryData(r,i?.previousSubscriptions)},onSuccess:()=>{t.invalidateQueries({queryKey:r})}})},Omt=({watchlistType:e,queryClient:t,reason:n})=>{const r=UC(e);return Kt({mutationKey:Amt(e),mutationFn:async s=>Tmt({watchlistType:e,reason:n,...s}),onSuccess:()=>{t.invalidateQueries({queryKey:r})},onMutate:async({identifier:s})=>{await t.cancelQueries({queryKey:r});const a=t.getQueryData(["watchlist",e]);return t.setQueryData(r,(i=[])=>i.filter(l=>l.identifier!==s)),{previousSubscriptions:a}},onError:(s,a,i)=>{le.error("Error removing watchlist subscription",s),t.setQueryData(r,i?.previousSubscriptions)}})},Pmt=({watchlistType:e,queryClient:t,reason:n})=>{const r=UC(e);return Kt({mutationKey:Rmt(e),mutationFn:async s=>Nmt({watchlistType:e,reason:n,...s}),onMutate:async({newOrderedList:s})=>{await t.cancelQueries({queryKey:r});const a=t.getQueryData(r);return t.setQueryData(r,s),{previousSubscriptions:a}},onError:(s,a,i)=>{le.error("Error updating watchlist subscription order",s),i?.previousSubscriptions&&t.setQueryData(r,i.previousSubscriptions)},onSuccess:()=>{t.invalidateQueries({queryKey:r})}})},kZ={nba:w5,nfl:tce,cricket:WHe,ncaam:w5,ncaaw:w5},Ak=sWe,Imt=({watchlistType:e,selectedCategory:t,setSelectedCategory:n})=>{const r="watchlist-category-dropdown",{isMobileStyle:s}=qe(),{$t:a}=ae(),[i,l]=f.useState([]);f.useEffect(()=>{(async()=>{const h=await kmt({watchlistType:e,reason:r});l(h)})()},[e]);const c=a({defaultMessage:"All Categories",id:"1X6HtI/EN/"}),u=f.useMemo(()=>[{text:c,icon:Ak,onClick:()=>n(void 0),type:"default",active:t===void 0,size:tn.tiny},...i.map(h=>({text:h.display_name,icon:kZ[h.category]||Ak,onClick:()=>n(h),type:"default",active:t?.category===h.category,size:tn.tiny}))],[i,n,t,c]);return i.length===0?null:o.jsx(Rn,{isMobileStyle:s,items:u,placement:"bottom-end",children:o.jsx(Le,{icon:kZ[t?.category]||Ak,size:tn.tiny,text:t?.display_name??c})})},EZ=50,C2={title:yt({defaultMessage:"Watchlist",id:"b+DoOaU7zT"}),saveWatchlist:yt({defaultMessage:"Save",id:"jvo0vs3nF0"}),cancel:yt({defaultMessage:"Cancel",id:"47FYwba+bI"}),settingsTitle:yt({defaultMessage:"Categories",id:"VKb1MSJZP+"}),sports:Ht({title:{defaultMessage:"Sports",id:"qEuXjx1B4z"},settingsCtaText:{defaultMessage:"Add teams",id:"kapmPqUzuB"},searchPlaceholder:{defaultMessage:"Search for a team",id:"yve+fFGCVl"},widgetDescription:{defaultMessage:"Choose your teams",id:"6ZVPGK17cb"},settingsDescription:{defaultMessage:"Event updates, breaking news, and live scores",id:"yBBV27kmkn"},modalDescription:{defaultMessage:"Get event updates, breaking news, and live scores",id:"VLVunZTFAF"}}),finance:Ht({title:{defaultMessage:"Finance",id:"Fm3M+yFIbr"},settingsCtaText:{defaultMessage:"Add stocks",id:"IrqguKbukF"},searchPlaceholder:{defaultMessage:"Search...",id:"0BUTMvePvK"},widgetDescription:{defaultMessage:"Set your watchlist",id:"Uh4Ex766Qm"},settingsDescription:{defaultMessage:"Set your watchlist for daily updates and summaries",id:"7SMcHmFldb"},modalDescription:{defaultMessage:"Updates and news about stocks and more",id:"uJAhXQDitL"}}),f1:Ht({title:{defaultMessage:"Sports",id:"qEuXjx1B4z"},settingsCtaText:{defaultMessage:"Add drivers",id:"R9U03Vy8bO"},searchPlaceholder:{defaultMessage:"Search for a driver",id:"lE7oUWeeV1"},widgetDescription:{defaultMessage:"Choose your drivers",id:"sCVGGM0Ka3"},settingsDescription:{defaultMessage:"Event updates, breaking news, and live scores",id:"yBBV27kmkn"},modalDescription:{defaultMessage:"Get event updates, breaking news, and live scores",id:"VLVunZTFAF"}})},Dmt=({symbol:e})=>o.jsx(F,{color:"light",children:o.jsx("span",{className:"font-mono opacity-70",children:e.slice(0,1)})}),Fmt=({image:e,imageDark:t,alt:n,watchlistType:r})=>{const s=r==="SPORTS",a=r==="FINANCE",i=W("mr-3 flex h-8 w-8 items-center justify-center",{"bg-none dark:bg-none border-none dark:border-none":s,"rounded-[6px] border-[0.5px] border-solid border-background-300 bg-background-300 p-1":!s}),[l,c]=f.useState(!1),[u,d]=f.useState(!1),{colorScheme:h}=ba(),m=a&&h==="dark"&&t?t:e;return o.jsx("div",{className:i,children:o.jsx(kt,{mode:"wait",children:l?o.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:o.jsx(Dmt,{symbol:n??""})},"fallback"):o.jsx(je.img,{src:m,alt:n,width:32,height:32,className:"max-h-full max-w-full object-contain",initial:{opacity:0},animate:{opacity:u?1:0},transition:{duration:.2},onLoad:()=>d(!0),onError:()=>c(!0)},"logo")})})},Umt=De(async()=>({default:(await Me(()=>import("./WatchlistSelections--01HqyDx.js"),__vite__mapDeps([2,1,3]))).WatchlistSelections}),{loading:()=>o.jsx(l1e,{})}),Bmt=5,Vmt=e=>{const{isSelected:t}=e;return o.jsx("div",{className:"flex h-full flex-col items-center justify-center",children:o.jsx(it,{icon:t?Pa:$r,size:"small",pill:!0})})},zmt=({onClear:e})=>o.jsx(it,{icon:yn,size:"tiny",pill:!0,onClick:e}),Hmt=({isOpen:e,onClose:t,watchlistType:n,origin:r})=>{const{isMobileStyle:s,isMobileUserAgent:a}=qe(),i="watchlist-modal",{$t:l}=ae(),c=Vt(),{trackEvent:u}=Ye(),{openToast:d}=Sr(),h=f.useRef(null),[m,g]=f.useState(""),[v,x]=f.useState(Fe),[b,w]=f.useState(-1),[C,S]=f.useState(!1),[k,E]=f.useState(!1),[T,j]=f.useState();f.useEffect(()=>{u("watchlist modal viewed",{origin:r,watchlistType:n})},[r,n,u]);const R=(de=>de==="sports"||de==="finance"||de==="f1")(T?.category)?T.category:n.toLowerCase(),O=f.useCallback(()=>{C&&c.invalidateQueries({queryKey:[py]}),t()},[C,c,t]),{data:I,isLoading:B}=o1e({watchlistType:n,reason:i}),{mutate:D}=Lmt({watchlistType:n,queryClient:c,reason:i}),{mutate:z}=Omt({watchlistType:n,queryClient:c,reason:i}),{mutate:V}=Pmt({watchlistType:n,queryClient:c,reason:"watchlist-reorder"}),U=n==="FINANCE",H=[{text:l({defaultMessage:"Done",id:"JXdbo8Vnlw"}),variant:"inverted",onClick:O}],q=f.useCallback(async(de,ie)=>{const pe=ga().erp,Ce=(await c.fetchQuery({queryKey:["watchlist",n,de,ie?.category],queryFn:()=>i1e({query:de,watchlistType:n,limit:Bmt,category:ie?.category,cometRenderPlace:pe,reason:i}),staleTime:0})).map(we=>({query:we.title,title:we.title,image:we.image_url??void 0,imageDark:we.image_url_dark??void 0,description:we.description,identifier:we.identifier,category:we.category??void 0,subscribed:we.subscribed}));x(Ce)},[c,n]),$=Ni(q,100,{leading:!0,trailing:!0}),G=f.useCallback((de,ie)=>{$(de,ie)},[$]),K=()=>{E(!0),G(m,T)},ee=()=>{E(!1)},oe=f.useCallback(de=>{const ie=de;g(ie),G(ie,T)},[G,T]),ne=()=>{g(""),x([])},te=(de,ie)=>{X(de),g(""),x([]),E(!1)},re=W("h-10 rounded-md dark:border-0 dark:border-transparent dark:bg-background-300 p-4 dark:[&:focus]:ring-0",{"rounded-t-md rounded-b-none":k&&v.length>0}),X=f.useCallback(de=>{if(S(!0),x(Fe),g(""),(I?.length??0)>=EZ){d(l({defaultMessage:"Watchlist full (max {maxItems} items).",id:"mdbFzAw6E5"},{maxItems:EZ}),"error",2);return}de.subscribed||D(de)},[D,I?.length,d,l]),ce=f.useCallback((de,ie)=>{z({identifier:de,category:ie}),S(!0)},[z]),se=f.useCallback((...de)=>{V(...de),S(!0)},[V]),J=f.useMemo(()=>({image:de,imageDark:ie,alt:he})=>o.jsx(Fmt,{image:de,imageDark:ie,alt:he,watchlistType:n}),[n]);return o.jsx(Sn,{isOpen:e,onClose:O,title:l(C2[R].title),titleTextVariant:"baseSemi",subtitle:l(C2[R].settingsDescription),subtitleClassname:"text-sm",actionList:H,variant:s?"bottom-sheet":"medium",renderCloseButton:!1,delayClose:!1,noPadding:!0,children:o.jsxs("div",{className:"pt-md flex h-[50vh] min-h-0 shrink-0 flex-col",children:[o.jsx("div",{className:"px-md flex flex-row items-center justify-between",children:o.jsx(Imt,{watchlistType:n,selectedCategory:T,setSelectedCategory:j})}),o.jsxs("div",{className:"h-full",children:[o.jsx("div",{className:"px-md",children:o.jsx(Dx,{isOpen:k&&v.length>0,suggestedQueries:v,focusedIndex:b,setFocusedIndex:w,handlePasteQuery:Yn,handleSubmit:te,value:m,components:{RightIconComponent:Vmt,LeftIconComponent:J},dropdownClassName:"dark:border-none dark:ml-0 dark:mr-0 dark:w-full",dropdownType:"select",popoverClassName:"dark:!border-none",children:o.jsx(lf,{onFocus:K,onBlur:ee,className:re,pill:!1,ref:h,isMobileUserAgent:a,placeholder:l(C2[R].searchPlaceholder),value:m,onChange:oe,ClearIcon:zmt,...m.length>0?{onClear:ne}:{}})})}),B?o.jsx(l1e,{}):o.jsx(Umt,{subscriptions:I??Fe,onRemove:ce,onUpdateOrder:se,watchlistType:n,selectedCategory:T,isReorderingEnabled:U,isMobile:s})]})]})})},l1e=()=>o.jsx(Kn,{children:o.jsx("div",{style:{maskImage:"linear-gradient(to bottom, black 50%, transparent)"},className:"flex flex-col items-center",children:Array.from({length:4}).map((e,t)=>o.jsx(Wmt,{},t))})}),Wmt=()=>o.jsx(Q,{className:"gap-sm mt-2 flex w-full flex-col px-6 py-2",children:o.jsx(Q,{variant:"offsetPlus",className:"h-10 w-full rounded-md"})}),IQt=async({shipping_address:e,amount:t,reason:n})=>{const{data:r,error:s}=await me.POST("/rest/shopping/calculate-tax-and-shipping",n,{body:{shipping_address:e,amount:t},timeoutMs:ut(),numRetries:1});if(s)throw new pt("API_CLIENTS_ERROR",{message:"Failed to calculate tax and shipping",cause:s});return r},$mt=async({reason:e})=>{const{data:t,error:n}=await me.GET("/rest/shopping/retrieve-customer-shopping-info",e,{timeoutMs:ut({productionMs:5e3})});if(n)throw new pt("API_CLIENTS_ERROR",{message:"Failed to get customer shopping info",cause:n});return t};async function DQt({body:e,reason:t}){const n="createShoppingOrder";try{const r=await me.POST("/rest/shopping/create-shopping-order",t,{headers:{"content-type":"application/json"},body:e,timeoutMs:1e4,numRetries:0});if(r.error)throw new pt("API_CLIENTS_ERROR",{message:"Failed to create shopping order",cause:r.error});return r.data}catch(r){throw le.log(`Error in ${n}:`,r),r}}const FQt=async({request:e,reason:t})=>{const{data:n,error:r}=await me.POST("/rest/shopping/create-shopping-payment-intent",t,{body:e,timeoutMs:6e3,numRetries:0});if(r)throw new pt("API_CLIENTS_ERROR",{message:"Failed to create shopping payment intent",cause:r});if(n.status!=="success")throw new pt("API_CLIENTS_ERROR",{message:"Failed to create payment intent",cause:n});return n},UQt=async({orderId:e,reason:t})=>{const{data:n,error:r}=await me.POST("/rest/shopping/update-shopping-order",t,{body:{order_id:e,order_status:"cancelled"},timeoutMs:2e4});if(r)throw new pt("API_CLIENTS_ERROR",{message:"Failed to cancel shopping order",cause:r});return n},BQt=async({request:e,reason:t})=>{const{data:n,error:r}=await me.POST("/rest/shopping/create-firmly-cart",t,{body:e,timeoutMs:ut({clientSideMs:5e3})});if(r)throw new pt("API_CLIENTS_ERROR",{message:"Failed to create firmly cart",cause:r});return n},VQt=async({request:e,reason:t})=>{const{data:n,error:r}=await me.POST("/rest/shopping/set-firmly-shipping-info",t,{body:e,timeoutMs:ut({clientSideMs:7e3})});if(r)throw new pt("API_CLIENTS_ERROR",{message:"Failed to set firmly shipping info",cause:r});return n},qmt=async({reason:e})=>{const{data:t,error:n}=await me.GET("/rest/shopping/create-firmly-session",e,{timeoutMs:ut()});if(n)throw new pt("API_CLIENTS_ERROR",{message:"Failed to create firmly session",cause:n});return t},zQt=async({request:e,reason:t})=>{const{data:n,error:r}=await me.POST("/rest/stripe/update-customer-shipping-address",t,{body:e,timeoutMs:ut()});if(r)throw new pt("API_CLIENTS_ERROR",{message:"Failed to update customer shipping address",cause:r});return n},HQt=async({optionKey:e,reason:t})=>{const{data:n,error:r}=await me.POST("/rest/shopping/fetch-product-details",t,{body:{option_key:e},timeoutMs:4e3});if(r)throw new pt("API_CLIENTS_ERROR",{message:"Failed to fetch product details",cause:r});return n},WQt=async({query:e,reason:t})=>{try{const{error:n,data:r}=await me.GET("/rest/autosuggest/shopping/list-autosuggest",t,{timeoutMs:Ur.MEDIUM,params:{query:{query:e}}});if(n)throw new pt("API_CLIENTS_ERROR",{message:"Failed to get shopping suggestions",cause:n});return r.results??Fe}catch(n){return le.error("Failed to get shopping suggestions",n),[]}},$Qt=async({page:e,reason:t})=>{const{data:n,error:r}=await me.GET("/rest/shopping/landing-page/tile-data",t,{timeoutMs:Ur.MEDIUM,params:e!==void 0?{query:{page:e}}:void 0});if(r)throw new pt("API_CLIENTS_ERROR",{message:"Failed to get shopping tile data",cause:r});return n.shopping_tile_data.length===0&&le.error("Empty shopping tile data"),n.shopping_tile_data},qQt=async({request:e,reason:t})=>{const{data:n,error:r}=await me.POST("/rest/shopping/search-shopping-for-entry",t,{body:{query:e.query,read_write_token:e.read_write_token,entry_uuid:e.entry_uuid},timeoutMs:Ur.HIGH});if(r)throw new pt("API_CLIENTS_ERROR",{message:"Failed to search for additional products",cause:r});return!n||n.status==="failure"?[]:[...n.shopping_widgets]},Gmt=async({reason:e})=>{const{error:t,data:n}=await me.GET("/rest/shopping/try-on-photo/get",e,{timeoutMs:ut()});return t?{status:"error",try_on_photo_url:null}:n},c1e=({reason:e})=>{const{data:t,isLoading:n,refetch:r}=Ft({queryKey:The(),queryFn:()=>Gmt({reason:e})});return f.useMemo(()=>({userTryOnPhotoUrl:t?.try_on_photo_url??null,isUserTryOnPhotoLoading:n,refetchUserTryOnPhoto:r}),[t,n,r])},Ymt=({isOpen:e,onClose:t})=>{const{$t:n}=ae(),{userTryOnPhotoUrl:r,isUserTryOnPhotoLoading:s}=c1e({reason:"avatar_management"});return o.jsx(Sn,{isOpen:e,onClose:t,title:n({defaultMessage:"Your avatar photo",id:"fXPKMrv34o"}),centerTitle:!0,modalClassname:"max-w-lg mx-auto",children:o.jsxs("div",{className:"flex flex-col items-center gap-6 p-6",children:[s?o.jsx(Cu,{}):r?o.jsx(Q,{className:"gap-sm relative isolate flex flex-col overflow-hidden rounded-lg border",children:r&&o.jsx(ps,{src:r,alt:"Your Avatar",imageClassName:"max-h-[500px] max-w-full object-contain",containerClassName:"flex justify-center",includeLightBoxModal:!1})}):o.jsx(F,{variant:"smallMono",children:n({defaultMessage:"No avatar uploaded",id:"RDTTX4AfZg"})}),o.jsx("div",{className:"flex gap-3",children:r&&o.jsx(Le,{variant:"common",onClick:()=>{},text:n({defaultMessage:"Delete",id:"K3r6DQW7h+"})})})]})})},Kmt=()=>{const e=wn();return f.useMemo(()=>{const n=e?.get("pt")||Wet();if(n)try{const r=atob(n);return JSON.parse(r).title}catch{return}},[e])};var Rk={},TZ;function Qmt(){return TZ||(TZ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="star",r=576,s=512,a=[11088,61446],i="f005",l="M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faStar=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(Rk)),Rk}var yv=Qmt();const Xmt=({origin:e})=>{const{isIOS:t}=sn(),{downloadAppLink:n}=Ex(e),{$t:r}=ae();return o.jsx(Nt,{className:"box",href:n,children:o.jsxs("div",{className:"gap-x-md py-lg flex items-center justify-center",children:[o.jsx("div",{className:W("border-borderMainDark bg-backgroundDark inline-block border",{"p-sm rounded-xl":t,"p-md rounded-full":!t}),children:o.jsx("div",{className:"flex aspect-square w-12 items-center justify-center",children:o.jsx(Ei,{variant:"mark",size:"md",color:"white"})})}),o.jsxs("div",{className:"-mt-xs",children:[o.jsx(F,{variant:"baseSemi",children:"Perplexity"}),o.jsx(F,{variant:"small",color:"light",children:r({defaultMessage:"Search and discovery with AI",id:"n3oaAt293P"})}),o.jsx(F,{variant:"small",children:o.jsxs("div",{className:"gap-x-xs flex items-center text-orange-400",children:[o.jsx(jt,{icon:yv.faStar}),o.jsx(jt,{icon:yv.faStar}),o.jsx(jt,{icon:yv.faStar}),o.jsx(jt,{icon:yv.faStar}),o.jsx(jt,{icon:yv.faStar}),o.jsxs(F,{variant:"tiny",color:"light",className:"gap-xs flex items-center pl-1 pt-1",children:[o.jsx("span",{children:"4.9"}),o.jsx("span",{className:"text-[8px]",children:"•"}),o.jsxs("span",{children:["176K"," ",r({defaultMessage:"Ratings",id:"XYovs/iySe"})]})]})]})})]})]})})},Zmt=({origin:e,isOpen:t,onClose:n,sheetModalVariant:r})=>{const{trackEventOnce:s,trackEvent:a}=Ye(),{$t:i}=ae(),{handleAppDownloadClicked:l}=Ex("install-gate-modal-upsell"),c=Kmt(),u=kx({origin:"install-gate"}),{mwebUpsellWhatsApp:d}=Tx();f.useEffect(()=>{s("install modal opened",{origin:e})},[e,s]);const h=f.useCallback(()=>{a("install modal closed",{origin:e}),n()},[n,e,a]);return o.jsx(MF,{isOpen:t,onClose:h,variant:r,showCloseButton:!1,overlayVariant:"default-less-blur",children:d?o.jsxs(o.Fragment,{children:[o.jsx(F,{variant:"section-title",className:"px-sm text-center",children:o.jsx(Ve,{defaultMessage:"Keep the conversation going.",id:"4/VUgNnQik"})}),o.jsx(F,{variant:"section-title",className:"px-sm text-center",children:o.jsx(Ve,{defaultMessage:"Try Perplexity on WhatsApp",id:"YTg7pt2IE4"})}),o.jsxs("div",{className:"align-center mt-md mb-lg flex flex-row items-center justify-center gap-4",children:[o.jsx("div",{className:"aspect-square size-10 overflow-hidden rounded-full shadow-lg",children:o.jsx("img",{src:"https://r2cdn.perplexity.ai/whatsapp.jpg",alt:"WhatsApp"})}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx(F,{children:"Perplexity"}),o.jsx(F,{variant:"smallMono",color:"super",textCenter:!0,children:"+1 (833) 436-3285"})]})]}),o.jsx(Le,{variant:"primary",text:i({defaultMessage:"Continue on WhatsApp",id:"I7Lrfco0vS"}),size:"small",extraCSS:"h-[44px] mb-md",onClick:()=>{a("whatsapp button clicked",{origin:"install-gate"}),u()}})]}):o.jsxs(o.Fragment,{children:[o.jsx(F,{variant:"page-title",className:"px-sm text-center",children:c??o.jsx(Ve,{defaultMessage:"One verified answer to any question",id:"C+F6JBwTvO"})}),o.jsx(Xmt,{origin:"install-gate-modal-upsell"}),o.jsx(Le,{variant:"primary",text:i({defaultMessage:"Open Perplexity app",id:"u0MSV+x6J3"}),size:"small",extraCSS:"h-[44px] mb-md",onClick:()=>{a("app download button clicked",{origin:"install-gate"}),l()}})]})})},Jmt={in:{opacity:1,scale:1},out:{opacity:0,scale:.9}},u1e=f.forwardRef((e,t)=>{const{cancelButton:n,confirmButton:r,description:s,title:a}=e,{handleCancel:i,handleConfirm:l}=oit();return o.jsx(cC,{asChild:!0,onEscapeKeyDown:c=>{c.stopPropagation()},ref:t,children:o.jsxs(je.div,{animate:"in",className:"border-border/50 bg-background p-lg rounded-lg border shadow-lg",exit:"out",initial:"out",transition:{duration:.2},variants:Jmt,children:[o.jsxs(_x,{children:[o.jsx(uC,{children:a}),o.jsx(ND,{children:s})]}),o.jsxs("div",{className:"gap-md flex flex-col items-center",children:[o.jsx(F,{children:s}),o.jsxs("div",{className:"gap-md mx-auto flex",children:[o.jsx(Le,{variant:"common",onClick:i,testId:"confirm-close-modal-cancel-button",...n}),o.jsx(Le,{variant:"rejected",onClick:l,testId:"confirm-close-modal-confirm-button",...r})]})]})]},"confirm-close-modal-content")})});u1e.displayName="ConfirmCloseModalContent";const d1e=f.forwardRef((e,t)=>{const{children:n,className:r="",motionProps:s}=e;return o.jsx(Nfe,{asChild:!0,ref:t,children:o.jsx(je.div,{className:W("bg-backdrop/25 fixed inset-0 flex flex-col items-center justify-center backdrop-blur-[1px]",r),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},...s,children:n},"confirm-close-modal-overlay")})});d1e.displayName="ConfirmCloseModalOverlay";const f1e=L.memo(function(){const{$t:t}=ae(),n=f.useMemo(()=>({text:t({defaultMessage:"Cancel",id:"47FYwba+bI"}),testId:"default-confirm-modal-cancel-button"}),[t]),r=f.useMemo(()=>({text:t({defaultMessage:"Discard",id:"nmpevlUATU"}),testId:"default-confirm-modal-discard-button"}),[t]);return o.jsx(d1e,{children:o.jsx(u1e,{cancelButton:n,confirmButton:r,description:t({defaultMessage:"Discard any unsaved changes?",id:"p7u+eL35XP"}),title:t({defaultMessage:"Discard changes?",id:"41zpq3nBvm"})})})});f1e.displayName="DefaultConfirmModal";var Lk={},NZ;function ept(){return NZ||(NZ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="plus",r=448,s=512,a=[10133,61543,"add"],i="2b",l="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faPlus=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(Lk)),Lk}var tpt=ept();const npt={xlarge:[64,"h-[64px] w-auto leading-[64px]"],large:[48,"h-[48px] w-auto leading-[48px]"],regular:[32,"h-[32px] w-auto leading-[32px]"],small:[18,"h-[18px] w-auto leading-[18px]"],tiny:[12,"h-[12px] w-auto leading-[12px]"]},rpt=De(async()=>({default:(await Me(()=>import("./emoji-picker-react.esm-COor8F4g.js"),__vite__mapDeps([4,1]))).Emoji})),hf=L.memo(({unified:e,size:t})=>{const[n,r]=npt[t];return e?o.jsx("div",{className:`relative align-middle ${r}`,children:o.jsx(rpt,{emojiStyle:"native",unified:e,size:n})}):null});hf.displayName="PerplexityEmoji";const spt=De(()=>Me(()=>import("./emoji-picker-react.esm-COor8F4g.js"),__vite__mapDeps([4,1]))),h1e=L.memo(({emoji:e,setEmoji:t,size:n="large"})=>{const{$t:r}=ae(),{colorScheme:s}=ba(),[a,i]=f.useState(!1),l=f.useCallback(v=>{i(!1),t(v.unified)},[t]),c={small:"h-8 w-8",medium:"h-11 w-11",large:"h-14 w-14"},u=f.useCallback(()=>i(!1),[]),d=f.useMemo(()=>({showPreview:!1}),[]),h=f.useMemo(()=>o.jsx(spt,{emojiStyle:"native",onEmojiClick:l,autoFocusSearch:!0,width:"100%",theme:s==="dark"?"dark":"light",previewConfig:d}),[s,l,d]),m=f.useCallback(()=>t(""),[t]),g=f.useCallback(()=>i(v=>!v),[]);return o.jsxs("div",{className:"relative",children:[o.jsx(F,{variant:"smallBold",children:r({defaultMessage:"Emoji",id:"34NuzGC3+4"})}),o.jsxs("div",{className:"mt-sm relative inline-block",children:[e!==""&&o.jsx("div",{className:"-right-sm -top-sm absolute",children:o.jsx(Le,{pill:!0,size:"tiny",icon:yn,onClick:m})}),o.jsx(lo,{isOpen:a,onClose:u,content:h,hasInteractiveContent:!0,children:o.jsx(Q,{onClick:g,variant:"offset",bgHover:"offsetPlus",className:`p-sm flex cursor-pointer items-center justify-center rounded-full ${c[n]}`,children:e===""?o.jsx("div",{className:"flex h-full w-full items-center justify-center",children:o.jsx(jt,{icon:tpt.faPlus})}):o.jsx("div",{className:"flex h-full w-full items-center justify-center",children:o.jsx(hf,{unified:e,size:"regular"})})})})]})]})});h1e.displayName="CollectionEmojiPicker";const jZ=L.memo(({isOpen:e,closeModal:t,existingCollection:n,entryUUID:r,frontendContextUUID:s,onCreate:a,content:i})=>{const l="space-create-modal",{$t:c}=ae(),{isMobileStyle:u,isMobileUserAgent:d}=qe(),{createCollection:h,createCollectionForThread:m}=Lg({reason:l}),[g,v]=f.useState({title:i?.title??n?.title??"",description:i?.description??n?.description??"",instructions:i?.instructions??n?.instructions??"",emoji:i?.emoji??n?.emoji??"",accessLevel:n?.access??mw,enableWebByDefault:n?.enable_web_by_default??!0}),[x,b]=f.useState(!1),{title:w,description:C,emoji:S,instructions:k}=g,E=w?.length===0||w?.length>GG||C?.length>YG||k?.length>qG,T=V=>{v(U=>({...U,...V})),b(!0)},j=Qt(),N=f.useCallback(V=>{T({title:"",description:"",instructions:"",emoji:"",accessLevel:mw}),t(),j.push(`/spaces/${V.slug}`),a?.(V)},[t,j,a]),R=f.useCallback(()=>{r?m({...g,entryUUID:r,frontendContextUUID:s??"",callback:N}):h({...g,callback:N})},[r,m,g,s,N,h]),O=f.useMemo(()=>[{text:c({defaultMessage:"Cancel",id:"47FYwba+bI"}),variant:"common",onClick:t,shouldShowConfirmDialog:!0},{text:c({defaultMessage:"Continue",id:"acrOozm08x"}),variant:"primary",disabled:E,onClick:()=>R()}],[t,c,E,R]),I=f.useCallback(V=>T({title:V}),[]),B=f.useCallback(V=>T({emoji:V}),[]),D=f.useCallback(V=>T({description:V}),[]),z=f.useCallback(V=>T({instructions:V}),[]);return o.jsx(Sn,{title:c({defaultMessage:"Create a Space",id:"SqVNRzqwJz"}),isOpen:e,onClose:t,actionList:O,confirmOnClose:x?o.jsx(f1e,{}):void 0,children:o.jsxs("div",{className:"space-y-md",children:[o.jsxs("div",{className:"space-x-sm flex items-center",children:[o.jsx("div",{className:"flex-grow",children:o.jsx(lf,{isMobileUserAgent:d,label:c({defaultMessage:"Title",id:"9a9+wwWy4u"}),value:w,autoFocus:!0,onChange:I,placeholder:c({defaultMessage:"Team Space...",id:"CR3RufeyCu"}),maxLength:GG})}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx(h1e,{emoji:S,setEmoji:B,size:"medium"})})]}),o.jsx(Hd,{isMobileStyle:u,isMobileUserAgent:d,placeholder:c({defaultMessage:"A collaborative space for discussing latest insights...",id:"r+xI8TGuu9"}),label:c({defaultMessage:"Description",id:"Q8Qw5BZ1VA"}),isOptional:!0,minRows:2,value:C,onChange:D,maxLength:YG}),o.jsx(Hd,{isMobileStyle:u,isMobileUserAgent:d,placeholder:c({defaultMessage:"Always respond in a formal tone and prioritize data-driven insights...",id:"ERATUnZFe3"}),label:c({defaultMessage:"Custom Instructions",id:"nRK52SgZ/p"}),subtitle:c({defaultMessage:"Give instructions to the AI that affects every thread in this space.",id:"6peDHp5LgI"}),isOptional:!0,value:k,minRows:2,onChange:z,maxLength:qG})]})})}),apt=async({reason:e})=>{try{const{error:t,data:n}=await me.GET("/rest/user/promotions",e,{timeoutMs:ut({productionMs:2e3})});if(t)throw new pt("API_CLIENTS_ERROR",{message:"Failed to fetch user promotions",cause:t});return n}catch{return{campaign:null,offer:null,institution:null}}},m1e=async({locale:e,headers:t,reason:n})=>{let r="";e&&(r=`?locale=${e}`);try{const a=await(await or({urlPath:`/rest/billing/get-customer-portal${r}`,method:"GET",headers:t,timeoutMs:3e3,reason:n})).json();return a.status!=="success"||a.url===null||a.url===""?null:a.url}catch{return null}};async function ipt({currency:e,reason:t,subscriptionTier:n}){const{error:r,data:s}=await me.GET("/rest/stripe/prices",t,{timeoutMs:Ur.NONE,params:{query:{currency:e,subscription_tier:n}}});if(r)throw new pt("API_CLIENTS_ERROR",{message:"Failed to fetch prices",cause:r});return s}const AZ=({currency:e,reason:t,subscriptionTier:n})=>Ft({queryKey:["prices",e,n],queryFn:()=>ipt({currency:e,reason:t,subscriptionTier:n}),gcTime:5*60*1e3,staleTime:2*60*1e3}),opt=async({request:e,reason:t})=>{const n=Q_(),r=lm(),s={"content-type":"application/json",...n?{"Screen-Dimensions":n}:{}};try{const i=await(await or({urlPath:"/rest/stripe/checkout-session",method:"POST",body:JSON.stringify({referral_code:e.referralCode,discount_code:e.discountCode,origin:e.origin,tier:e.tier,locale:e.locale,visitor_id:r,embedded:e.embedded,subscription_tier:e.subscriptionTier,success_redirect_url:e.success_redirect_url}),timeoutMs:5e3,headers:s,reason:t})).json();return{subscriptionStatus:i.subscription_status,status:i.status,url:i.url,clientSecret:i.client_secret,errorCode:i.error_code,subscriptionTier:i.subscription_tier}}catch{return}},GQt=async({request:e,headers:t,reason:n})=>{try{return{clientSecret:(await(await or({urlPath:"/rest/stripe/create-setup-intent",method:"POST",body:JSON.stringify({is_updating:e.isUpdating}),timeoutMs:ut({productionMs:2500}),headers:{...t,"content-type":"application/json"},reason:n})).json()).client_secret}}catch{return}},YQt=async({headers:e,reason:t})=>{try{const r=await(await or({urlPath:"/rest/stripe/create-setup-intent-and-customer-session",method:"POST",timeoutMs:ut({productionMs:3e3}),headers:{...e,"content-type":"application/json"},reason:t})).json();return{clientSecret:r.client_secret,customerSessionClientSecret:r.customer_session_client_secret}}catch{return}};var qF=(e=>(e.WINDOWSAPP="windowsapp",e.MACAPP="macapp",e.COMET="comet",e))(qF||{});async function p1e({platform:e,reason:t}){try{const{error:n,data:r}=await me.GET("/rest/billing/get-milestone-usage",t,{timeoutMs:Ur.NONE,params:{query:{platform:e}}});if(n)throw new pt("API_CLIENTS_ERROR",{message:"Failed to fetch milestones",cause:n});return r}catch{return null}}async function lpt({locale:e,reason:t}){try{const{error:n,data:r}=await me.GET("/rest/billing/get-milestone-progress",t,{timeoutMs:Ur.NONE,params:{header:{"accept-language":e}}});if(n)throw new pt("API_CLIENTS_ERROR",{message:"Failed to fetch milestones",cause:n});return r}catch{return null}}const KQt=async({displayName:e,address:t,description:n,contactInfo:r,reason:s})=>{try{const{error:a,data:i}=await me.POST("/rest/pplx-api/v2/groups",s,{timeoutMs:9e3,headers:{"content-type":"application/json"},body:{display_name:e,address:t,description:n,contact_info:r}});if(a)throw new pt("API_CLIENTS_ERROR",{message:"Failed to create API group",cause:a});return i.org}catch(a){return le.log(a),null}},QQt=async({reason:e})=>{const t="getAPIGroupsV2";try{return(await(await or({urlPath:"/rest/pplx-api/v2/groups",method:"GET",headers:{"content-type":"application/json"},timeoutMs:1e4,numRetries:1,reason:e})).json())?.orgs??[]}catch(n){return le.log(`Error in ${t}:`,n),[]}},cpt=async({headers:e,reason:t})=>{const{error:n,data:r}=await me.GET("/rest/stripe/upgrade-subscription-preview",t,{headers:{"content-type":"application/json",...e},timeoutMs:Ur.HIGH});if(n){const s=n?.detail;if(s&&typeof s=="object"&&"error_code"in s)throw new pt("API_CLIENTS_ERROR",{message:"Failed to fetch upgrade subscription preview",cause:n})}return r},upt=async({headers:e,reason:t})=>{const{error:n,data:r}=await me.GET("/rest/stripe/downgrade-subscription-preview",t,{headers:{"content-type":"application/json",...e},timeoutMs:Ur.HIGH});if(n)throw new pt("API_CLIENTS_ERROR",{message:"Failed to fetch downgrade subscription preview",cause:n});return r},dpt=({reason:e,enabled:t})=>Ft({queryKey:Gat(),queryFn:()=>cpt({reason:e}),gcTime:0,staleTime:0,enabled:t}),fpt=({reason:e})=>Ft({queryKey:["downgrade-subscription-preview"],queryFn:()=>upt({reason:e}),gcTime:0,staleTime:0}),hpt=async({headers:e,reason:t})=>{const{error:n,data:r}=await me.POST("/rest/stripe/upgrade-subscription",t,{headers:{"content-type":"application/json",...e},timeoutMs:Ur.HIGH});if(n)throw new pt("API_CLIENTS_ERROR",{message:"Failed to upgrade subscription",cause:n});return r},mpt=({reason:e},t)=>{const n="useUpgradeSubscription";return Kt({retry:!1,mutationFn:()=>hpt({reason:e}),onError:r=>{le.error(`Error in ${n}:`,r)},...t})},ppt=async({headers:e,reason:t})=>{const{error:n,data:r}=await me.POST("/rest/stripe/downgrade-subscription",t,{headers:{"content-type":"application/json",...e},timeoutMs:Ur.HIGH});if(n)throw new pt("API_CLIENTS_ERROR",{message:"Failed to downgrade subscription",cause:n});return r},gpt=({reason:e},t)=>{const n="useDowngradeSubscription";return Kt({mutationFn:()=>ppt({reason:e}),onError:r=>{le.error(`Error in ${n}:`,r)},...t})},vpt=async({reason:e})=>{const{error:t,data:n}=await me.GET("/rest/stripe/subscription-changes",e,{headers:{"content-type":"application/json"},timeoutMs:Ur.HIGH});if(t)throw new pt("API_CLIENTS_ERROR",{message:"Failed to fetch subscription changes",cause:t});return n},XQt=({reason:e,enabled:t})=>Ft({queryKey:["subscription-changes"],queryFn:()=>vpt({reason:e}),gcTime:0,staleTime:0,enabled:t});function ypt(){Fx(void 0)}function gy(e={}){const t=new URL(window.location.href);for(const[n,r]of Object.entries(e))typeof r>"u"?t.searchParams.delete(n):t.searchParams.set(n,r);Fx(Object.fromEntries(t.searchParams))}function Fx(e){const t=new URL(window.location.href),r=(e?new URLSearchParams(e):new URLSearchParams).toString();r!==t.searchParams.toString()&&window.history.replaceState({},"",`?${r}`)}const g1e="AF",v1e="AL",y1e="DZ",x1e="AS",b1e="AD",w1e="AO",_1e="AI",C1e="AQ",S1e="AG",M1e="AR",k1e="AM",E1e="AW",T1e="AU",N1e="AT",j1e="AZ",A1e="BS",R1e="BH",L1e="BD",O1e="BB",P1e="BY",I1e="BE",D1e="BZ",F1e="BJ",U1e="BM",B1e="BT",V1e="BO",z1e="BA",H1e="BW",W1e="BR",$1e="IO",q1e="BN",G1e="BG",Y1e="BF",K1e="BI",Q1e="CV",X1e="KH",Z1e="CM",J1e="CA",ege="KY",tge="CF",nge="TD",rge="CL",sge="CN",age="CO",ige="KM",oge="CG",lge="CD",cge="CK",uge="CR",dge="CI",fge="HR",hge="CU",mge="CW",pge="CY",gge="CZ",vge="DK",yge="DJ",xge="DM",bge="DO",wge="EC",_ge="EG",Cge="SV",Sge="GQ",Mge="ER",kge="EE",Ege="SZ",Tge="ET",Nge="FK",jge="FO",Age="FJ",Rge="FI",Lge="FR",Oge="GF",Pge="PF",Ige="TF",Dge="GA",Fge="GM",Uge="GE",Bge="DE",Vge="GH",zge="GI",Hge="GR",Wge="GL",$ge="GD",qge="GP",Gge="GU",Yge="GT",Kge="GG",Qge="GN",Xge="GW",Zge="GY",Jge="HT",e0e="HN",t0e="HK",n0e="HU",r0e="IS",s0e="IN",a0e="ID",i0e="IR",o0e="IQ",l0e="IE",c0e="IM",u0e="IL",d0e="IT",f0e="JM",h0e="JP",m0e="JE",p0e="JO",g0e="KZ",v0e="KE",y0e="KI",x0e="KP",b0e="KR",w0e="KW",_0e="KG",C0e="LA",S0e="LV",M0e="LB",k0e="LS",E0e="LR",T0e="LY",N0e="LI",j0e="LT",A0e="LU",R0e="MO",L0e="MG",O0e="MW",P0e="MY",I0e="MV",D0e="ML",F0e="MT",U0e="MH",B0e="MQ",V0e="MR",z0e="MU",H0e="YT",W0e="MX",$0e="FM",q0e="MD",G0e="MC",Y0e="MN",K0e="ME",Q0e="MS",X0e="MA",Z0e="MZ",J0e="MM",eve="NA",tve="NR",nve="NP",rve="NL",sve="NC",ave="NZ",ive="NI",ove="NE",lve="NG",cve="NU",uve="NF",dve="MK",fve="MP",hve="NO",mve="OM",pve="PK",gve="PW",vve="PS",yve="PA",xve="PG",bve="PY",wve="PE",_ve="PH",Cve="PN",Sve="PL",Mve="PT",kve="PR",Eve="QA",Tve="RE",Nve="RO",jve="RU",Ave="RW",Rve="BL",Lve="SH",Ove="KN",Pve="LC",Ive="MF",Dve="PM",Fve="VC",Uve="WS",Bve="SM",Vve="ST",zve="SA",Hve="SN",Wve="RS",$ve="SC",qve="SL",Gve="SG",Yve="SX",Kve="SK",Qve="SI",Xve="SB",Zve="SO",Jve="ZA",e2e="SS",t2e="ES",n2e="LK",r2e="SD",s2e="SR",a2e="SJ",i2e="SE",o2e="CH",l2e="SY",c2e="TW",u2e="TJ",d2e="TZ",f2e="TH",h2e="TL",m2e="TG",p2e="TK",g2e="TO",v2e="TT",y2e="TN",x2e="TR",b2e="TM",w2e="TC",_2e="TV",C2e="UG",S2e="UA",M2e="AE",k2e="GB",E2e="US",T2e="UY",N2e="UZ",j2e="VU",A2e="VE",R2e="VN",L2e="VG",O2e="VI",P2e="EH",I2e="YE",D2e="ZM",F2e="ZW",xpt={AFG:g1e,ALB:v1e,DZA:y1e,ASM:x1e,AND:b1e,AGO:w1e,AIA:_1e,ATA:C1e,ATG:S1e,ARG:M1e,ARM:k1e,ABW:E1e,AUS:T1e,AUT:N1e,AZE:j1e,BHS:A1e,BHR:R1e,BGD:L1e,BRB:O1e,BLR:P1e,BEL:I1e,BLZ:D1e,BEN:F1e,BMU:U1e,BTN:B1e,BOL:V1e,BIH:z1e,BWA:H1e,BRA:W1e,IOT:$1e,BRN:q1e,BGR:G1e,BFA:Y1e,BDI:K1e,CPV:Q1e,KHM:X1e,CMR:Z1e,CAN:J1e,CYM:ege,CAF:tge,TCD:nge,CHL:rge,CHN:sge,COL:age,COM:ige,COG:oge,COD:lge,COK:cge,CRI:uge,CIV:dge,HRV:fge,CUB:hge,CUW:mge,CYP:pge,CZE:gge,DNK:vge,DJI:yge,DMA:xge,DOM:bge,ECU:wge,EGY:_ge,SLV:Cge,GNQ:Sge,ERI:Mge,EST:kge,SWZ:Ege,ETH:Tge,FLK:Nge,FRO:jge,FJI:Age,FIN:Rge,FRA:Lge,GUF:Oge,PYF:Pge,ATF:Ige,GAB:Dge,GMB:Fge,GEO:Uge,DEU:Bge,GHA:Vge,GIB:zge,GRC:Hge,GRL:Wge,GRD:$ge,GLP:qge,GUM:Gge,GTM:Yge,GGY:Kge,GIN:Qge,GNB:Xge,GUY:Zge,HTI:Jge,HND:e0e,HKG:t0e,HUN:n0e,ISL:r0e,IND:s0e,IDN:a0e,IRN:i0e,IRQ:o0e,IRL:l0e,IMN:c0e,ISR:u0e,ITA:d0e,JAM:f0e,JPN:h0e,JEY:m0e,JOR:p0e,KAZ:g0e,KEN:v0e,KIR:y0e,PRK:x0e,KOR:b0e,KWT:w0e,KGZ:_0e,LAO:C0e,LVA:S0e,LBN:M0e,LSO:k0e,LBR:E0e,LBY:T0e,LIE:N0e,LTU:j0e,LUX:A0e,MAC:R0e,MDG:L0e,MWI:O0e,MYS:P0e,MDV:I0e,MLI:D0e,MLT:F0e,MHL:U0e,MTQ:B0e,MRT:V0e,MUS:z0e,MYT:H0e,MEX:W0e,FSM:$0e,MDA:q0e,MCO:G0e,MNG:Y0e,MNE:K0e,MSR:Q0e,MAR:X0e,MOZ:Z0e,MMR:J0e,NAM:eve,NRU:tve,NPL:nve,NLD:rve,NCL:sve,NZL:ave,NIC:ive,NER:ove,NGA:lve,NIU:cve,NFK:uve,MKD:dve,MNP:fve,NOR:hve,OMN:mve,PAK:pve,PLW:gve,PSE:vve,PAN:yve,PNG:xve,PRY:bve,PER:wve,PHL:_ve,PCN:Cve,POL:Sve,PRT:Mve,PRI:kve,QAT:Eve,REU:Tve,ROU:Nve,RUS:jve,RWA:Ave,BLM:Rve,SHN:Lve,KNA:Ove,LCA:Pve,MAF:Ive,SPM:Dve,VCT:Fve,WSM:Uve,SMR:Bve,STP:Vve,SAU:zve,SEN:Hve,SRB:Wve,SYC:$ve,SLE:qve,SGP:Gve,SXM:Yve,SVK:Kve,SVN:Qve,SLB:Xve,SOM:Zve,ZAF:Jve,SSD:e2e,ESP:t2e,LKA:n2e,SDN:r2e,SUR:s2e,SJM:a2e,SWE:i2e,CHE:o2e,SYR:l2e,TWN:c2e,TJK:u2e,TZA:d2e,THA:f2e,TLS:h2e,TGO:m2e,TKL:p2e,TON:g2e,TTO:v2e,TUN:y2e,TUR:x2e,TKM:b2e,TCA:w2e,TUV:_2e,UGA:C2e,UKR:S2e,ARE:M2e,GBR:k2e,USA:E2e,URY:T2e,UZB:N2e,VUT:j2e,VEN:A2e,VNM:R2e,VGB:L2e,VIR:O2e,ESH:P2e,YEM:I2e,ZMB:D2e,ZWE:F2e},RZ=Object.freeze(Object.defineProperty({__proto__:null,ABW:E1e,AFG:g1e,AGO:w1e,AIA:_1e,ALB:v1e,AND:b1e,ARE:M2e,ARG:M1e,ARM:k1e,ASM:x1e,ATA:C1e,ATF:Ige,ATG:S1e,AUS:T1e,AUT:N1e,AZE:j1e,BDI:K1e,BEL:I1e,BEN:F1e,BFA:Y1e,BGD:L1e,BGR:G1e,BHR:R1e,BHS:A1e,BIH:z1e,BLM:Rve,BLR:P1e,BLZ:D1e,BMU:U1e,BOL:V1e,BRA:W1e,BRB:O1e,BRN:q1e,BTN:B1e,BWA:H1e,CAF:tge,CAN:J1e,CHE:o2e,CHL:rge,CHN:sge,CIV:dge,CMR:Z1e,COD:lge,COG:oge,COK:cge,COL:age,COM:ige,CPV:Q1e,CRI:uge,CUB:hge,CUW:mge,CYM:ege,CYP:pge,CZE:gge,DEU:Bge,DJI:yge,DMA:xge,DNK:vge,DOM:bge,DZA:y1e,ECU:wge,EGY:_ge,ERI:Mge,ESH:P2e,ESP:t2e,EST:kge,ETH:Tge,FIN:Rge,FJI:Age,FLK:Nge,FRA:Lge,FRO:jge,FSM:$0e,GAB:Dge,GBR:k2e,GEO:Uge,GGY:Kge,GHA:Vge,GIB:zge,GIN:Qge,GLP:qge,GMB:Fge,GNB:Xge,GNQ:Sge,GRC:Hge,GRD:$ge,GRL:Wge,GTM:Yge,GUF:Oge,GUM:Gge,GUY:Zge,HKG:t0e,HND:e0e,HRV:fge,HTI:Jge,HUN:n0e,IDN:a0e,IMN:c0e,IND:s0e,IOT:$1e,IRL:l0e,IRN:i0e,IRQ:o0e,ISL:r0e,ISR:u0e,ITA:d0e,JAM:f0e,JEY:m0e,JOR:p0e,JPN:h0e,KAZ:g0e,KEN:v0e,KGZ:_0e,KHM:X1e,KIR:y0e,KNA:Ove,KOR:b0e,KWT:w0e,LAO:C0e,LBN:M0e,LBR:E0e,LBY:T0e,LCA:Pve,LIE:N0e,LKA:n2e,LSO:k0e,LTU:j0e,LUX:A0e,LVA:S0e,MAC:R0e,MAF:Ive,MAR:X0e,MCO:G0e,MDA:q0e,MDG:L0e,MDV:I0e,MEX:W0e,MHL:U0e,MKD:dve,MLI:D0e,MLT:F0e,MMR:J0e,MNE:K0e,MNG:Y0e,MNP:fve,MOZ:Z0e,MRT:V0e,MSR:Q0e,MTQ:B0e,MUS:z0e,MWI:O0e,MYS:P0e,MYT:H0e,NAM:eve,NCL:sve,NER:ove,NFK:uve,NGA:lve,NIC:ive,NIU:cve,NLD:rve,NOR:hve,NPL:nve,NRU:tve,NZL:ave,OMN:mve,PAK:pve,PAN:yve,PCN:Cve,PER:wve,PHL:_ve,PLW:gve,PNG:xve,POL:Sve,PRI:kve,PRK:x0e,PRT:Mve,PRY:bve,PSE:vve,PYF:Pge,QAT:Eve,REU:Tve,ROU:Nve,RUS:jve,RWA:Ave,SAU:zve,SDN:r2e,SEN:Hve,SGP:Gve,SHN:Lve,SJM:a2e,SLB:Xve,SLE:qve,SLV:Cge,SMR:Bve,SOM:Zve,SPM:Dve,SRB:Wve,SSD:e2e,STP:Vve,SUR:s2e,SVK:Kve,SVN:Qve,SWE:i2e,SWZ:Ege,SXM:Yve,SYC:$ve,SYR:l2e,TCA:w2e,TCD:nge,TGO:m2e,THA:f2e,TJK:u2e,TKL:p2e,TKM:b2e,TLS:h2e,TON:g2e,TTO:v2e,TUN:y2e,TUR:x2e,TUV:_2e,TWN:c2e,TZA:d2e,UGA:C2e,UKR:S2e,URY:T2e,USA:E2e,UZB:N2e,VCT:Fve,VEN:A2e,VGB:L2e,VIR:O2e,VNM:R2e,VUT:j2e,WSM:Uve,YEM:I2e,ZAF:Jve,ZMB:D2e,ZWE:F2e,default:xpt},Symbol.toStringTag,{value:"Module"}));new Set(Object.keys(RZ).map(function(e){return RZ[e]}));const U2e="SHP",B2e="EUR",V2e="AED",z2e="AFN",H2e="XCD",W2e="XCD",$2e="ALL",q2e="AMD",G2e="AOA",Y2e="ARS",K2e="USD",Q2e="EUR",X2e="AUD",Z2e="AWG",J2e="EUR",eye="AZN",tye="BAM",nye="BBD",rye="BDT",sye="EUR",aye="XOF",iye="BGN",oye="BHD",lye="BIF",cye="XOF",uye="EUR",dye="BMD",fye="BND",hye="BOB",mye="USD",pye="BRL",gye="BSD",vye="INR",yye="NOK",xye="BWP",bye="BYN",wye="BZD",_ye="CAD",Cye="AUD",Sye="CDF",Mye="XAF",kye="XAF",Eye="CHF",Tye="XOF",Nye="NZD",jye="CLP",Aye="XAF",Rye="CNY",Lye="COP",Oye="CRC",Pye="CUP",Iye="CVE",Dye="XCG",Fye="AUD",Uye="EUR",Bye="CZK",Vye="EUR",zye="USD",Hye="DJF",Wye="DKK",$ye="XCD",qye="DOP",Gye="DZD",Yye="EUR",Kye="USD",Qye="EUR",Xye="EGP",Zye="MAD",Jye="ERN",exe="EUR",txe="ETB",nxe="EUR",rxe="EUR",sxe="FJD",axe="FKP",ixe="USD",oxe="DKK",lxe="EUR",cxe="XAF",uxe="GBP",dxe="XCD",fxe="GEL",hxe="EUR",mxe="GBP",pxe="GHS",gxe="GIP",vxe="DKK",yxe="GMD",xxe="GNF",bxe="EUR",wxe="XAF",_xe="EUR",Cxe="GBP",Sxe="GTQ",Mxe="USD",kxe="XOF",Exe="GYD",Txe="HKD",Nxe="AUD",jxe="HNL",Axe="EUR",Rxe="USD",Lxe="HUF",Oxe="EUR",Pxe="IDR",Ixe="EUR",Dxe="ILS",Fxe="GBP",Uxe="INR",Bxe="USD",Vxe="IQD",zxe="IRR",Hxe="ISK",Wxe="EUR",$xe="GBP",qxe="JMD",Gxe="JOD",Yxe="JPY",Kxe="KES",Qxe="KGS",Xxe="KHR",Zxe="AUD",Jxe="KMF",ebe="XCD",tbe="KPW",nbe="KRW",rbe="KWD",sbe="KYD",abe="KZT",ibe="LAK",obe="LBP",lbe="XCD",cbe="CHF",ube="LKR",dbe="LRD",fbe="ZAR",hbe="EUR",mbe="EUR",pbe="EUR",gbe="LYD",vbe="MAD",ybe="EUR",xbe="MDL",bbe="EUR",wbe="EUR",_be="MGA",Cbe="USD",Sbe="MKD",Mbe="XOF",kbe="MMK",Ebe="MNT",Tbe="MOP",Nbe="USD",jbe="EUR",Abe="MRU",Rbe="XCD",Lbe="EUR",Obe="MUR",Pbe="MVR",Ibe="MWK",Dbe="MXN",Fbe="MYR",Ube="MZN",Bbe="ZAR",Vbe="XPF",zbe="XOF",Hbe="AUD",Wbe="NGN",$be="NIO",qbe="EUR",Gbe="NOK",Ybe="NPR",Kbe="AUD",Qbe="NZD",Xbe="NZD",Zbe="OMR",Jbe="USD",e3e="PEN",t3e="XPF",n3e="PGK",r3e="PHP",s3e="PKR",a3e="PLN",i3e="EUR",o3e="NZD",l3e="USD",c3e="JOD",u3e="EUR",d3e="USD",f3e="PYG",h3e="QAR",m3e="EUR",p3e="RON",g3e="RSD",v3e="RUB",y3e="RWF",x3e="SAR",b3e="SBD",w3e="SCR",_3e="SDG",C3e="SEK",S3e="SGD",M3e="SHP",k3e="EUR",E3e="NOK",T3e="EUR",N3e="SLE",j3e="EUR",A3e="XOF",R3e="SOS",L3e="SRD",O3e="SSP",P3e="STN",I3e="USD",D3e="XCG",F3e="SYP",U3e="SZL",B3e="GBP",V3e="USD",z3e="XAF",H3e="EUR",W3e="XOF",$3e="THB",q3e="TJS",G3e="NZD",Y3e="USD",K3e="TMT",Q3e="TND",X3e="TOP",Z3e="TRY",J3e="TTD",e4e="AUD",t4e="TWD",n4e="TZS",r4e="UAH",s4e="UGX",a4e="USD",i4e="USD",o4e="UYU",l4e="UZS",c4e="EUR",u4e="XCD",d4e="VES",f4e="USD",h4e="USD",m4e="VND",p4e="VUV",g4e="XPF",v4e="WST",y4e="EUR",x4e="YER",b4e="EUR",w4e="ZAR",_4e="ZMW",C4e="ZWG",bpt={AC:U2e,AD:B2e,AE:V2e,AF:z2e,AG:H2e,AI:W2e,AL:$2e,AM:q2e,AO:G2e,AR:Y2e,AS:K2e,AT:Q2e,AU:X2e,AW:Z2e,AX:J2e,AZ:eye,BA:tye,BB:nye,BD:rye,BE:sye,BF:aye,BG:iye,BH:oye,BI:lye,BJ:cye,BL:uye,BM:dye,BN:fye,BO:hye,BQ:mye,BR:pye,BS:gye,BT:vye,BV:yye,BW:xye,BY:bye,BZ:wye,CA:_ye,CC:Cye,CD:Sye,CF:Mye,CG:kye,CH:Eye,CI:Tye,CK:Nye,CL:jye,CM:Aye,CN:Rye,CO:Lye,CR:Oye,CU:Pye,CV:Iye,CW:Dye,CX:Fye,CY:Uye,CZ:Bye,DE:Vye,DG:zye,DJ:Hye,DK:Wye,DM:$ye,DO:qye,DZ:Gye,EA:Yye,EC:Kye,EE:Qye,EG:Xye,EH:Zye,ER:Jye,ES:exe,ET:txe,EU:nxe,FI:rxe,FJ:sxe,FK:axe,FM:ixe,FO:oxe,FR:lxe,GA:cxe,GB:uxe,GD:dxe,GE:fxe,GF:hxe,GG:mxe,GH:pxe,GI:gxe,GL:vxe,GM:yxe,GN:xxe,GP:bxe,GQ:wxe,GR:_xe,GS:Cxe,GT:Sxe,GU:Mxe,GW:kxe,GY:Exe,HK:Txe,HM:Nxe,HN:jxe,HR:Axe,HT:Rxe,HU:Lxe,IC:Oxe,ID:Pxe,IE:Ixe,IL:Dxe,IM:Fxe,IN:Uxe,IO:Bxe,IQ:Vxe,IR:zxe,IS:Hxe,IT:Wxe,JE:$xe,JM:qxe,JO:Gxe,JP:Yxe,KE:Kxe,KG:Qxe,KH:Xxe,KI:Zxe,KM:Jxe,KN:ebe,KP:tbe,KR:nbe,KW:rbe,KY:sbe,KZ:abe,LA:ibe,LB:obe,LC:lbe,LI:cbe,LK:ube,LR:dbe,LS:fbe,LT:hbe,LU:mbe,LV:pbe,LY:gbe,MA:vbe,MC:ybe,MD:xbe,ME:bbe,MF:wbe,MG:_be,MH:Cbe,MK:Sbe,ML:Mbe,MM:kbe,MN:Ebe,MO:Tbe,MP:Nbe,MQ:jbe,MR:Abe,MS:Rbe,MT:Lbe,MU:Obe,MV:Pbe,MW:Ibe,MX:Dbe,MY:Fbe,MZ:Ube,NA:Bbe,NC:Vbe,NE:zbe,NF:Hbe,NG:Wbe,NI:$be,NL:qbe,NO:Gbe,NP:Ybe,NR:Kbe,NU:Qbe,NZ:Xbe,OM:Zbe,PA:Jbe,PE:e3e,PF:t3e,PG:n3e,PH:r3e,PK:s3e,PL:a3e,PM:i3e,PN:o3e,PR:l3e,PS:c3e,PT:u3e,PW:d3e,PY:f3e,QA:h3e,RE:m3e,RO:p3e,RS:g3e,RU:v3e,RW:y3e,SA:x3e,SB:b3e,SC:w3e,SD:_3e,SE:C3e,SG:S3e,SH:M3e,SI:k3e,SJ:E3e,SK:T3e,SL:N3e,SM:j3e,SN:A3e,SO:R3e,SR:L3e,SS:O3e,ST:P3e,SV:I3e,SX:D3e,SY:F3e,SZ:U3e,TA:B3e,TC:V3e,TD:z3e,TF:H3e,TG:W3e,TH:$3e,TJ:q3e,TK:G3e,TL:Y3e,TM:K3e,TN:Q3e,TO:X3e,TR:Z3e,TT:J3e,TV:e4e,TW:t4e,TZ:n4e,UA:r4e,UG:s4e,UM:a4e,US:i4e,UY:o4e,UZ:l4e,VA:c4e,VC:u4e,VE:d4e,VG:f4e,VI:h4e,VN:m4e,VU:p4e,WF:g4e,WS:v4e,XK:y4e,YE:x4e,YT:b4e,ZA:w4e,ZM:_4e,ZW:C4e},LZ=Object.freeze(Object.defineProperty({__proto__:null,AC:U2e,AD:B2e,AE:V2e,AF:z2e,AG:H2e,AI:W2e,AL:$2e,AM:q2e,AO:G2e,AR:Y2e,AS:K2e,AT:Q2e,AU:X2e,AW:Z2e,AX:J2e,AZ:eye,BA:tye,BB:nye,BD:rye,BE:sye,BF:aye,BG:iye,BH:oye,BI:lye,BJ:cye,BL:uye,BM:dye,BN:fye,BO:hye,BQ:mye,BR:pye,BS:gye,BT:vye,BV:yye,BW:xye,BY:bye,BZ:wye,CA:_ye,CC:Cye,CD:Sye,CF:Mye,CG:kye,CH:Eye,CI:Tye,CK:Nye,CL:jye,CM:Aye,CN:Rye,CO:Lye,CR:Oye,CU:Pye,CV:Iye,CW:Dye,CX:Fye,CY:Uye,CZ:Bye,DE:Vye,DG:zye,DJ:Hye,DK:Wye,DM:$ye,DO:qye,DZ:Gye,EA:Yye,EC:Kye,EE:Qye,EG:Xye,EH:Zye,ER:Jye,ES:exe,ET:txe,EU:nxe,FI:rxe,FJ:sxe,FK:axe,FM:ixe,FO:oxe,FR:lxe,GA:cxe,GB:uxe,GD:dxe,GE:fxe,GF:hxe,GG:mxe,GH:pxe,GI:gxe,GL:vxe,GM:yxe,GN:xxe,GP:bxe,GQ:wxe,GR:_xe,GS:Cxe,GT:Sxe,GU:Mxe,GW:kxe,GY:Exe,HK:Txe,HM:Nxe,HN:jxe,HR:Axe,HT:Rxe,HU:Lxe,IC:Oxe,ID:Pxe,IE:Ixe,IL:Dxe,IM:Fxe,IN:Uxe,IO:Bxe,IQ:Vxe,IR:zxe,IS:Hxe,IT:Wxe,JE:$xe,JM:qxe,JO:Gxe,JP:Yxe,KE:Kxe,KG:Qxe,KH:Xxe,KI:Zxe,KM:Jxe,KN:ebe,KP:tbe,KR:nbe,KW:rbe,KY:sbe,KZ:abe,LA:ibe,LB:obe,LC:lbe,LI:cbe,LK:ube,LR:dbe,LS:fbe,LT:hbe,LU:mbe,LV:pbe,LY:gbe,MA:vbe,MC:ybe,MD:xbe,ME:bbe,MF:wbe,MG:_be,MH:Cbe,MK:Sbe,ML:Mbe,MM:kbe,MN:Ebe,MO:Tbe,MP:Nbe,MQ:jbe,MR:Abe,MS:Rbe,MT:Lbe,MU:Obe,MV:Pbe,MW:Ibe,MX:Dbe,MY:Fbe,MZ:Ube,NA:Bbe,NC:Vbe,NE:zbe,NF:Hbe,NG:Wbe,NI:$be,NL:qbe,NO:Gbe,NP:Ybe,NR:Kbe,NU:Qbe,NZ:Xbe,OM:Zbe,PA:Jbe,PE:e3e,PF:t3e,PG:n3e,PH:r3e,PK:s3e,PL:a3e,PM:i3e,PN:o3e,PR:l3e,PS:c3e,PT:u3e,PW:d3e,PY:f3e,QA:h3e,RE:m3e,RO:p3e,RS:g3e,RU:v3e,RW:y3e,SA:x3e,SB:b3e,SC:w3e,SD:_3e,SE:C3e,SG:S3e,SH:M3e,SI:k3e,SJ:E3e,SK:T3e,SL:N3e,SM:j3e,SN:A3e,SO:R3e,SR:L3e,SS:O3e,ST:P3e,SV:I3e,SX:D3e,SY:F3e,SZ:U3e,TA:B3e,TC:V3e,TD:z3e,TF:H3e,TG:W3e,TH:$3e,TJ:q3e,TK:G3e,TL:Y3e,TM:K3e,TN:Q3e,TO:X3e,TR:Z3e,TT:J3e,TV:e4e,TW:t4e,TZ:n4e,UA:r4e,UG:s4e,UM:a4e,US:i4e,UY:o4e,UZ:l4e,VA:c4e,VC:u4e,VE:d4e,VG:f4e,VI:h4e,VN:m4e,VU:p4e,WF:g4e,WS:v4e,XK:y4e,YE:x4e,YT:b4e,ZA:w4e,ZM:_4e,ZW:C4e,default:bpt},Symbol.toStringTag,{value:"Module"}));Object.keys(LZ).reduce(function(e,t){var n=LZ[t];return e[n]||(e[n]=[]),e[n].push(t),e},{});var wpt={};function _pt(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}UPe(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,lt([void 0],t,!1)))},{cache:_pt(wpt),strategy:BPe.variadic});const S4e=2,M4e=2,k4e=2,E4e=2,T4e=2,N4e=2,j4e=2,A4e=2,R4e=2,L4e=2,O4e=2,P4e=2,I4e=2,D4e=3,F4e=2,U4e=2,B4e=2,V4e=2,z4e=0,H4e=2,W4e=2,$4e=2,q4e=2,G4e=2,Y4e=2,K4e=2,Q4e=2,X4e=2,Z4e=2,J4e=2,e5e=0,t5e=2,n5e=2,r5e=0,s5e=2,a5e=2,i5e=0,o5e=4,l5e=2,c5e=2,u5e=2,d5e=0,f5e=2,h5e=2,m5e=2,p5e=2,g5e=2,v5e=2,y5e=2,x5e=0,b5e=2,w5e=2,_5e=2,C5e=2,S5e=2,M5e=2,k5e=2,E5e=2,T5e=0,N5e=2,j5e=2,A5e=2,R5e=2,L5e=2,O5e=2,P5e=0,I5e=2,D5e=2,F5e=2,U5e=2,B5e=2,V5e=0,z5e=2,H5e=2,W5e=3,$5e=2,q5e=2,G5e=0,Y5e=3,K5e=2,Q5e=2,X5e=2,Z5e=0,J5e=3,ewe=2,twe=2,nwe=2,rwe=2,swe=2,awe=2,iwe=3,owe=2,lwe=2,cwe=2,uwe=2,dwe=2,fwe=2,hwe=2,mwe=2,pwe=2,gwe=2,vwe=2,ywe=2,xwe=2,bwe=2,wwe=2,_we=2,Cwe=2,Swe=2,Mwe=2,kwe=2,Ewe=3,Twe=2,Nwe=2,jwe=2,Awe=0,Rwe=2,Lwe=2,Owe=2,Pwe=2,Iwe=2,Dwe=2,Fwe=0,Uwe=2,Bwe=2,Vwe=2,zwe=2,Hwe=2,Wwe=2,$we=2,qwe=2,Gwe=2,Ywe=2,Kwe=2,Qwe=2,Xwe=2,Zwe=2,Jwe=2,e6e=2,t6e=2,n6e=2,r6e=2,s6e=2,a6e=2,i6e=2,o6e=2,l6e=2,c6e=3,u6e=2,d6e=2,f6e=0,h6e=2,m6e=2,p6e=2,g6e=2,v6e=0,y6e=4,x6e=2,b6e=0,w6e=2,_6e=2,C6e=0,S6e=2,M6e=2,k6e=2,Cpt={AFN:S4e,EUR:M4e,ALL:k4e,DZD:E4e,USD:T4e,AOA:N4e,XCD:j4e,ARS:A4e,AMD:R4e,AWG:L4e,AUD:O4e,AZN:P4e,BSD:I4e,BHD:D4e,BDT:F4e,BBD:U4e,BYN:B4e,BZD:V4e,XOF:z4e,BMD:H4e,INR:W4e,BTN:$4e,BOB:q4e,BOV:G4e,BAM:Y4e,BWP:K4e,NOK:Q4e,BRL:X4e,BND:Z4e,BGN:J4e,BIF:e5e,CVE:t5e,KHR:n5e,XAF:r5e,CAD:s5e,KYD:a5e,CLP:i5e,CLF:o5e,CNY:l5e,COP:c5e,COU:u5e,KMF:d5e,CDF:f5e,NZD:h5e,CRC:m5e,CUP:p5e,XCG:g5e,CZK:v5e,DKK:y5e,DJF:x5e,DOP:b5e,EGP:w5e,SVC:_5e,ERN:C5e,SZL:S5e,ETB:M5e,FKP:k5e,FJD:E5e,XPF:T5e,GMD:N5e,GEL:j5e,GHS:A5e,GIP:R5e,GTQ:L5e,GBP:O5e,GNF:P5e,GYD:I5e,HTG:D5e,HNL:F5e,HKD:U5e,HUF:B5e,ISK:V5e,IDR:z5e,IRR:H5e,IQD:W5e,ILS:$5e,JMD:q5e,JPY:G5e,JOD:Y5e,KZT:K5e,KES:Q5e,KPW:X5e,KRW:Z5e,KWD:J5e,KGS:ewe,LAK:twe,LBP:nwe,LSL:rwe,ZAR:swe,LRD:awe,LYD:iwe,CHF:owe,MOP:lwe,MKD:cwe,MGA:uwe,MWK:dwe,MYR:fwe,MVR:hwe,MRU:mwe,MUR:pwe,MXN:gwe,MXV:vwe,MDL:ywe,MNT:xwe,MAD:bwe,MZN:wwe,MMK:_we,NAD:Cwe,NPR:Swe,NIO:Mwe,NGN:kwe,OMR:Ewe,PKR:Twe,PAB:Nwe,PGK:jwe,PYG:Awe,PEN:Rwe,PHP:Lwe,PLN:Owe,QAR:Pwe,RON:Iwe,RUB:Dwe,RWF:Fwe,SHP:Uwe,WST:Bwe,STN:Vwe,SAR:zwe,RSD:Hwe,SCR:Wwe,SLE:$we,SGD:qwe,SBD:Gwe,SOS:Ywe,SSP:Kwe,LKR:Qwe,SDG:Xwe,SRD:Zwe,SEK:Jwe,CHE:e6e,CHW:t6e,SYP:n6e,TWD:r6e,TJS:s6e,TZS:a6e,THB:i6e,TOP:o6e,TTD:l6e,TND:c6e,TRY:u6e,TMT:d6e,UGX:f6e,UAH:h6e,AED:m6e,USN:p6e,UYU:g6e,UYI:v6e,UYW:y6e,UZS:x6e,VUV:b6e,VES:w6e,VED:_6e,VND:C6e,YER:S6e,ZMW:M6e,ZWG:k6e},Spt=Object.freeze(Object.defineProperty({__proto__:null,AED:m6e,AFN:S4e,ALL:k4e,AMD:R4e,AOA:N4e,ARS:A4e,AUD:O4e,AWG:L4e,AZN:P4e,BAM:Y4e,BBD:U4e,BDT:F4e,BGN:J4e,BHD:D4e,BIF:e5e,BMD:H4e,BND:Z4e,BOB:q4e,BOV:G4e,BRL:X4e,BSD:I4e,BTN:$4e,BWP:K4e,BYN:B4e,BZD:V4e,CAD:s5e,CDF:f5e,CHE:e6e,CHF:owe,CHW:t6e,CLF:o5e,CLP:i5e,CNY:l5e,COP:c5e,COU:u5e,CRC:m5e,CUP:p5e,CVE:t5e,CZK:v5e,DJF:x5e,DKK:y5e,DOP:b5e,DZD:E4e,EGP:w5e,ERN:C5e,ETB:M5e,EUR:M4e,FJD:E5e,FKP:k5e,GBP:O5e,GEL:j5e,GHS:A5e,GIP:R5e,GMD:N5e,GNF:P5e,GTQ:L5e,GYD:I5e,HKD:U5e,HNL:F5e,HTG:D5e,HUF:B5e,IDR:z5e,ILS:$5e,INR:W4e,IQD:W5e,IRR:H5e,ISK:V5e,JMD:q5e,JOD:Y5e,JPY:G5e,KES:Q5e,KGS:ewe,KHR:n5e,KMF:d5e,KPW:X5e,KRW:Z5e,KWD:J5e,KYD:a5e,KZT:K5e,LAK:twe,LBP:nwe,LKR:Qwe,LRD:awe,LSL:rwe,LYD:iwe,MAD:bwe,MDL:ywe,MGA:uwe,MKD:cwe,MMK:_we,MNT:xwe,MOP:lwe,MRU:mwe,MUR:pwe,MVR:hwe,MWK:dwe,MXN:gwe,MXV:vwe,MYR:fwe,MZN:wwe,NAD:Cwe,NGN:kwe,NIO:Mwe,NOK:Q4e,NPR:Swe,NZD:h5e,OMR:Ewe,PAB:Nwe,PEN:Rwe,PGK:jwe,PHP:Lwe,PKR:Twe,PLN:Owe,PYG:Awe,QAR:Pwe,RON:Iwe,RSD:Hwe,RUB:Dwe,RWF:Fwe,SAR:zwe,SBD:Gwe,SCR:Wwe,SDG:Xwe,SEK:Jwe,SGD:qwe,SHP:Uwe,SLE:$we,SOS:Ywe,SRD:Zwe,SSP:Kwe,STN:Vwe,SVC:_5e,SYP:n6e,SZL:S5e,THB:i6e,TJS:s6e,TMT:d6e,TND:c6e,TOP:o6e,TRY:u6e,TTD:l6e,TWD:r6e,TZS:a6e,UAH:h6e,UGX:f6e,USD:T4e,USN:p6e,UYI:v6e,UYU:g6e,UYW:y6e,UZS:x6e,VED:_6e,VES:w6e,VND:C6e,VUV:b6e,WST:Bwe,XAF:r5e,XCD:j4e,XCG:g5e,XOF:z4e,XPF:T5e,YER:S6e,ZAR:swe,ZMW:M6e,ZWG:k6e,default:Cpt},Symbol.toStringTag,{value:"Module"}));function Mpt(e){var t=Spt[e.toUpperCase()];if(t==null)throw new Error("Unknown currency code: ".concat(e));return t}function kpt(e){return Math.pow(10,Mpt(e))}const Ept=e=>e?kpt(e):void 0,Sp=(e,t)=>{if(!e)return"";const n=Ept(e.currency);return n==null?"":t(e.price_minor_units/n,{style:"currency",currency:e.currency})},Tpt=({billingInterval:e})=>e==="monthly"?o.jsx(Ve,{defaultMessage:"/ month",id:"Vn2ud4qKOl"}):e==="yearly"?o.jsx(Ve,{defaultMessage:"/ year",id:"8hNOud/igo"}):e==="unknown"?o.jsx(Ve,{defaultMessage:"/ month",id:"Vn2ud4qKOl"}):null,Jw=({planName:e,price:t,formatNumber:n,isHighlighted:r=!1,className:s="",billingInterval:a})=>o.jsxs(Q,{variant:"offset",className:`px-md h-xl my-sm flex items-center justify-between rounded-md ${s}`,children:[o.jsx(F,{variant:"baseSemi",color:r?"default":"light",children:o.jsx(Ve,{...e})}),o.jsxs("div",{className:"gap-xs flex items-center",children:[o.jsx(F,{variant:"small",children:t?Sp(t,n):""}),o.jsx(F,{variant:"tinyRegular",children:o.jsx(Tpt,{billingInterval:a})})]})]}),Npt=({lineItems:e})=>{const{$t:t,formatNumber:n}=ae(),r=f.useMemo(()=>{const s=e;return[{title:yt({defaultMessage:"Payment method",id:"BVTni9A2ca"}),value:s.payment_method,separator:!0},{title:yt({defaultMessage:"Perplexity Max Subscription",id:"zmPIe7d+w+"}),value:s.new_product_price?Sp(s.new_product_price,n):""},{title:yt({defaultMessage:"Adjustment",id:"LaLTJRqloA"}),value:s.adjustment_price?Sp(s.adjustment_price,n):"",separator:!0},{title:yt({defaultMessage:"Subtotal",id:"L8seEcJFZ7"}),value:Sp(s.subtotal_price,n)},{title:yt({defaultMessage:"Taxes",id:"r+dgivP2Od"}),value:Sp(s.tax_price,n),separator:!0},{title:yt({defaultMessage:"Total due today",id:"MxAykvkF+r"}),value:Sp(s.total_due_today_price,n),color:"default",size:"small"}]},[e,n]);return o.jsx("ul",{className:"flex flex-col",children:r.map(s=>o.jsxs("li",{className:`flex items-center justify-between ${s.separator?"border-background-300 py-sm mb-sm border-b":"pb-sm"}`,children:[o.jsx(F,{variant:"tinyRegular",color:"light",children:t(s.title)}),o.jsx(F,{variant:s.size??"tinyRegular",color:s.color??"light",children:s.value})]},s.title.id))})},jpt=({isOpen:e,onClose:t})=>{const{data:n}=fpt({reason:"downgrade-modal"}),{update:r}=Jo.useSession(),{currentOpenModals:s}=Gt(),{openToast:a}=Sr(),{formatNumber:i,formatDate:l,$t:c}=ae(),{trackEvent:u}=Ye();f.useEffect(()=>{e&&u("subscription downgrade modal rendered")},[e,u]);const d=f.useCallback(async()=>{await xF({reason:"downgrade-to-pro-modal"}),await r(),t(),u("subscription downgrade success"),s.length>0&&t(),gy({downgrade:"success"}),a(c({defaultMessage:"Subscription updated",id:"Eq5gCUdVyJ"}),"success",5)},[t,s,r,a,c,u]),{mutate:h,isPending:m}=gpt({reason:"downgrade-modal"},{onSuccess:d}),g=n?.next_billing_start_ts,v=g?l(g*1e3):"";return o.jsx(Sn,{isOpen:e,onClose:t,renderCloseButton:!1,headerClassname:"hidden",modalClassname:"!w-[416px] !min-w-[416px] !max-w-[416px] !p-0",modalContentClassname:"!p-0",noPadding:!0,children:o.jsxs(Q,{className:"p-ml",children:[o.jsx(F,{variant:"baseSemi",children:o.jsx(Ve,{defaultMessage:"Confirm changes",id:"AnPtOvcf8f"})}),o.jsx(Jw,{planName:{id:"kkjl2vQekD",defaultMessage:"Max"},price:n?.old_product_price,formatNumber:i,billingInterval:n?.old_product_interval}),o.jsx(Q,{children:o.jsxs(F,{variant:"tinyRegular",color:"light",className:"flex items-center justify-center gap-1",children:[o.jsx("div",{className:"border-background-300 flex-1 border-t"}),o.jsx(Ve,{defaultMessage:"Downgrade",id:"SduMNm+0em"}),o.jsx("div",{className:"border-background-300 flex-1 border-t"})]})}),o.jsx(Jw,{planName:{id:"R/eOkjWqNU",defaultMessage:"Pro"},price:n?.new_product_price,formatNumber:i,billingInterval:n?.new_product_interval,isHighlighted:!0,className:"mb-0.5 !rounded-b-none rounded-t-md"}),o.jsx(Q,{variant:"offset",className:"px-md py-sm flex items-center justify-between rounded-b-md",children:o.jsx(F,{variant:"small",color:"light",children:o.jsx(Ve,{defaultMessage:"Your current Max subscription will remain active until {date} when it will change to Pro.",id:"2C6tgt4MMg",values:{date:v}})})}),o.jsxs(Q,{className:"gap-sm mt-ml flex justify-end",children:[o.jsx(it,{text:o.jsx(Ve,{defaultMessage:"Cancel",id:"47FYwba+bI"}),onClick:t}),o.jsx(Le,{variant:"primary",text:o.jsx(Ve,{defaultMessage:"Confirm",id:"N2IrpMDHDB"}),disabled:m,onClick:()=>h()})]})]})})};function OZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Fp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OZ(Object(n),!0).forEach(function(r){E6e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OZ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D5(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?D5=function(t){return typeof t}:D5=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D5(e)}function E6e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Apt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Rpt(e,t){if(e==null)return{};var n=Apt(e,t),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function e6(e,t){return Lpt(e)||Opt(e,t)||Ppt(e,t)||Ipt()}function Lpt(e){if(Array.isArray(e))return e}function Opt(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],s=!0,a=!1,i,l;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(r.push(i.value),!(t&&r.length===t));s=!0);}catch(c){a=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(a)throw l}}return r}}function Ppt(e,t){if(e){if(typeof e=="string")return PZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PZ(e,t)}}function PZ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ipt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var mi=function(t,n,r){var s=!!r,a=L.useRef(r);L.useEffect(function(){a.current=r},[r]),L.useEffect(function(){if(!s||!t)return function(){};var i=function(){a.current&&a.current.apply(a,arguments)};return t.on(n,i),function(){t.off(n,i)}},[s,n,t,a])},vy=function(t){var n=L.useRef(t);return L.useEffect(function(){n.current=t},[t]),n.current},Fh=function(t){return t!==null&&D5(t)==="object"},Dpt=function(t){return Fh(t)&&typeof t.then=="function"},Fpt=function(t){return Fh(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},IZ="[object Object]",oR=function e(t,n){if(!Fh(t)||!Fh(n))return t===n;var r=Array.isArray(t),s=Array.isArray(n);if(r!==s)return!1;var a=Object.prototype.toString.call(t)===IZ,i=Object.prototype.toString.call(n)===IZ;if(a!==i)return!1;if(!a&&!r)return t===n;var l=Object.keys(t),c=Object.keys(n);if(l.length!==c.length)return!1;for(var u={},d=0;d<l.length;d+=1)u[l[d]]=!0;for(var h=0;h<c.length;h+=1)u[c[h]]=!0;var m=Object.keys(u);if(m.length!==l.length)return!1;var g=t,v=n,x=function(w){return e(g[w],v[w])};return m.every(x)},T6e=function(t,n,r){return Fh(t)?Object.keys(t).reduce(function(s,a){var i=!Fh(n)||!oR(t[a],n[a]);return r.includes(a)?(i&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),s):i?Fp(Fp({},s||{}),{},E6e({},a,t[a])):s},null):null},N6e="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",DZ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N6e;if(t===null||Fpt(t))return t;throw new Error(n)},j6e=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N6e;if(Dpt(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(s){return DZ(s,n)})};var r=DZ(t,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},A6e=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"3.1.0"}),t.registerAppInfo({name:"react-stripe-js",version:"3.1.0",url:"https://stripe.com/docs/stripe-js/react"}))},BC=L.createContext(null);BC.displayName="ElementsContext";var R6e=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},Upt=function(t){var n=t.stripe,r=t.options,s=t.children,a=L.useMemo(function(){return j6e(n)},[n]),i=L.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(r):null}}),l=e6(i,2),c=l[0],u=l[1];L.useEffect(function(){var m=!0,g=function(x){u(function(b){return b.stripe?b:{stripe:x,elements:x.elements(r)}})};return a.tag==="async"&&!c.stripe?a.stripePromise.then(function(v){v&&m&&g(v)}):a.tag==="sync"&&!c.stripe&&g(a.stripe),function(){m=!1}},[a,c,r]);var d=vy(n);L.useEffect(function(){d!==null&&d!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,n]);var h=vy(r);return L.useEffect(function(){if(c.elements){var m=T6e(r,h,["clientSecret","fonts"]);m&&c.elements.update(m)}},[r,h,c.elements]),L.useEffect(function(){A6e(c.stripe)},[c.stripe]),L.createElement(BC.Provider,{value:c},s)};Upt.propTypes={stripe:Ae.any,options:Ae.object};var Bpt=function(t){var n=L.useContext(BC);return R6e(n,t)},ZQt=function(){var t=Bpt("calls useElements()"),n=t.elements;return n};Ae.func.isRequired;var Vpt=["on","session"],VC=L.createContext(null);VC.displayName="CheckoutSdkContext";var L6e=function(t,n){if(!t)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return t},GF=L.createContext(null);GF.displayName="CheckoutContext";var zpt=function(t,n){if(!t)return null;t.on,t.session;var r=Rpt(t,Vpt);return n?Fp(Fp({},r),n):Fp(Fp({},r),t.session())},Hpt="Invalid prop `stripe` supplied to `CheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Wpt=function(t){var n=t.stripe,r=t.options,s=t.children,a=L.useMemo(function(){return j6e(n,Hpt)},[n]),i=L.useState(null),l=e6(i,2),c=l[0],u=l[1],d=L.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,checkoutSdk:null}}),h=e6(d,2),m=h[0],g=h[1],v=function(k,E){g(function(T){return T.stripe&&T.checkoutSdk?T:{stripe:k,checkoutSdk:E}})},x=L.useRef(!1);L.useEffect(function(){var S=!0;return a.tag==="async"&&!m.stripe?a.stripePromise.then(function(k){k&&S&&!x.current&&(x.current=!0,k.initCheckout(r).then(function(E){E&&(v(k,E),E.on("change",u))}))}):a.tag==="sync"&&a.stripe&&!x.current&&(x.current=!0,a.stripe.initCheckout(r).then(function(k){k&&(v(a.stripe,k),k.on("change",u))})),function(){S=!1}},[a,m,r,u]);var b=vy(n);L.useEffect(function(){b!==null&&b!==n&&console.warn("Unsupported prop change on CheckoutProvider: You cannot change the `stripe` prop after setting it.")},[b,n]);var w=vy(r);L.useEffect(function(){var S,k;if(m.checkoutSdk){r.clientSecret&&!Fh(w)&&!oR(r.clientSecret,w.clientSecret)&&console.warn("Unsupported prop change: options.clientSecret is not a mutable property.");var E=w==null||(S=w.elementsOptions)===null||S===void 0?void 0:S.appearance,T=r==null||(k=r.elementsOptions)===null||k===void 0?void 0:k.appearance;T&&!oR(T,E)&&m.checkoutSdk.changeAppearance(T)}},[r,w,m.checkoutSdk]),L.useEffect(function(){A6e(m.stripe)},[m.stripe]);var C=L.useMemo(function(){return zpt(m.checkoutSdk,c)},[m.checkoutSdk,c]);return m.checkoutSdk?L.createElement(VC.Provider,{value:m},L.createElement(GF.Provider,{value:C},s)):null};Wpt.propTypes={stripe:Ae.any,options:Ae.shape({clientSecret:Ae.string.isRequired,elementsOptions:Ae.object}).isRequired};var $pt=function(t){var n=L.useContext(VC);return L6e(n,t)},lR=function(t){var n=L.useContext(VC),r=L.useContext(BC);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n?L6e(n,t):R6e(r,t)},JQt=function(){$pt("calls useCheckout()");var t=L.useContext(GF);if(!t)throw new Error("Could not find Checkout Context; You need to wrap the part of your app that calls useCheckout() in an <CheckoutProvider> provider.");return t},qpt=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},as=function(t,n){var r="".concat(qpt(t),"Element"),s=function(c){var u=c.id,d=c.className,h=c.options,m=h===void 0?{}:h,g=c.onBlur,v=c.onFocus,x=c.onReady,b=c.onChange,w=c.onEscape,C=c.onClick,S=c.onLoadError,k=c.onLoaderStart,E=c.onNetworksChange,T=c.onConfirm,j=c.onCancel,N=c.onShippingAddressChange,R=c.onShippingRateChange,O=lR("mounts <".concat(r,">")),I="elements"in O?O.elements:null,B="checkoutSdk"in O?O.checkoutSdk:null,D=L.useState(null),z=e6(D,2),V=z[0],U=z[1],H=L.useRef(null),q=L.useRef(null);mi(V,"blur",g),mi(V,"focus",v),mi(V,"escape",w),mi(V,"click",C),mi(V,"loaderror",S),mi(V,"loaderstart",k),mi(V,"networkschange",E),mi(V,"confirm",T),mi(V,"cancel",j),mi(V,"shippingaddresschange",N),mi(V,"shippingratechange",R),mi(V,"change",b);var $;x&&(t==="expressCheckout"?$=x:$=function(){x(V)}),mi(V,"ready",$),L.useLayoutEffect(function(){if(H.current===null&&q.current!==null&&(I||B)){var K=null;B?K=B.createElement(t,m):I&&(K=I.create(t,m)),H.current=K,U(K),K&&K.mount(q.current)}},[I,B,m]);var G=vy(m);return L.useEffect(function(){if(H.current){var K=T6e(m,G,["paymentRequest"]);K&&"update"in H.current&&H.current.update(K)}},[m,G]),L.useLayoutEffect(function(){return function(){if(H.current&&typeof H.current.destroy=="function")try{H.current.destroy(),H.current=null}catch{}}},[]),L.createElement("div",{id:u,className:d,ref:q})},a=function(c){lR("mounts <".concat(r,">"));var u=c.id,d=c.className;return L.createElement("div",{id:u,className:d})},i=n?a:s;return i.propTypes={id:Ae.string,className:Ae.string,onChange:Ae.func,onBlur:Ae.func,onFocus:Ae.func,onReady:Ae.func,onEscape:Ae.func,onClick:Ae.func,onLoadError:Ae.func,onLoaderStart:Ae.func,onNetworksChange:Ae.func,onConfirm:Ae.func,onCancel:Ae.func,onShippingAddressChange:Ae.func,onShippingRateChange:Ae.func,options:Ae.object},i.displayName=r,i.__elementType=t,i},is=typeof window>"u",Gpt=L.createContext(null);Gpt.displayName="EmbeddedCheckoutProviderContext";var eXt=function(){var t=lR("calls useStripe()"),n=t.stripe;return n};as("auBankAccount",is);as("card",is);as("cardNumber",is);as("cardExpiry",is);as("cardCvc",is);as("fpxBank",is);as("iban",is);as("idealBank",is);as("p24Bank",is);as("epsBank",is);var tXt=as("payment",is),nXt=as("expressCheckout",is);as("currencySelector",is);as("paymentRequestButton",is);var rXt=as("linkAuthentication",is),sXt=as("address",is);as("shippingAddress",is);as("paymentMethodMessaging",is);as("affirmMessage",is);as("afterpayClearpayMessage",is);var O6e="https://js.stripe.com/v3",Ypt=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var Kpt=function(){for(var t=document.querySelectorAll('script[src^="'.concat(O6e,'"]')),n=0;n<t.length;n++){var r=t[n];if(Ypt.test(r.src))return r}return null},FZ=function(t){var n="",r=document.createElement("script");r.src="".concat(O6e).concat(n);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},Qpt=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"5.5.0",startTime:n})},xv=null,_4=null,C4=null,Xpt=function(t){return function(){t(new Error("Failed to load Stripe.js"))}},Zpt=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},Jpt=function(t){return xv!==null?xv:(xv=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var s=Kpt();if(!(s&&t)){if(!s)s=FZ(t);else if(s&&C4!==null&&_4!==null){var a;s.removeEventListener("load",C4),s.removeEventListener("error",_4),(a=s.parentNode)===null||a===void 0||a.removeChild(s),s=FZ(t)}}C4=Zpt(n,r),_4=Xpt(r),s.addEventListener("load",C4),s.addEventListener("error",_4)}catch(i){r(i);return}}),xv.catch(function(n){return xv=null,Promise.reject(n)}))},e1t=function(t,n,r){if(t===null)return null;var s=t.apply(void 0,n);return Qpt(s,r),s},bv,P6e=!1,I6e=function(){return bv||(bv=Jpt(null).catch(function(t){return bv=null,Promise.reject(t)}),bv)};Promise.resolve().then(function(){return I6e()}).catch(function(e){P6e||console.warn(e)});var aXt=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];P6e=!0;var s=Date.now();return I6e().then(function(a){return e1t(a,n,s)})};const UZ="USD";function D6e(e){throw new Error(e)}const t1t=({reason:e})=>{const t=async()=>zct({reason:e}),{data:n}=Ft({queryKey:["get_user_previous_subscription"],queryFn:t});return f.useMemo(()=>({previousSubscriptionStatus:n?.previous_subscription_status??"none",previousSubscriptionSource:n?.previous_subscription_source??"none"}),[n?.previous_subscription_source,n?.previous_subscription_status])},n1t="https://billing.stripe.com/p/login/test_7sIdSS7ioeNSdpe9AA",r1t="https://billing.stripe.com/p/login/6oEeXaewnb3z1facMM",s1t="https://perplexity.sng.link/A6awk/pxdx?_ios_dl=home&_android_dl=singular-perplexity%3A%2F%2Fhome&_smtype=3";function a1t(e){switch(e){case"ios":return"https://www.apple.com/app-store/";case"android":return"https://play.google.com/store";default:D6e(e)}}const F6e=({text:e,hasPreviousSub:t=!1,origin:n,variant:r="common",extraCSS:s})=>{const a="sub-modal-button",{$t:i,locale:l}=ae(),c=Qt(),{hasAccessToProFeatures:u,subscriptionSource:d}=cn(),{revenuecatStatus:h,stripeStatus:m}=Ua({reason:a}),{previousSubscriptionSource:g}=t1t({reason:a}),{isProduction:v,isBeta:x}=af(),b=on(),{openModal:w}=Gt(),C=f.useCallback(async()=>{if(d==="incentive"){w("incentiveProModal",{origin:n});return}const T=d==="ios"||d==="android",j=g==="ios"||g==="android";if(T||j){j&&g!==d?c.push(a1t(g)):c.push(s1t);return}const R=await m1e({locale:l,reason:"sub-modal-button"});R?c.push(R):c.push(v||x?r1t:n1t)},[d,g,c,v,x,l,w,n]),S=[{type:"default",text:i({defaultMessage:"SoftBank",id:"mz906WB9pc"}),icon:_l,href:"https://stn.mb.softbank.jp/G4H51",onClick:T=>{T.preventDefault(),window.open("https://stn.mb.softbank.jp/G4H51","_blank")}},{type:"default",text:i({defaultMessage:"Y!mobile",id:"waO5BNtbEl"}),icon:_l,href:"https://stn.mb.softbank.jp/h6C4p",onClick:T=>{T.preventDefault(),window.open("https://stn.mb.softbank.jp/h6C4p","_blank")}},{type:"default",text:i({defaultMessage:"LINEMO",id:"5EeaeTgd/I"}),icon:_l,href:"https://stn.mb.softbank.jp/22m5K",onClick:T=>{T.preventDefault(),window.open("https://stn.mb.softbank.jp/22m5K","_blank")}}],k=u||m==="past_due"||t===!0,E=f.useMemo(()=>d==="ios"?i({defaultMessage:"Manage in App Store",id:"3iCRcP8mV0"}):d==="android"?i({defaultMessage:"Manage in Google Play",id:"tiFovnryYO"}):t?i({defaultMessage:"Manage plan",id:"88XpVMnmFe"}):h!=="none"||["ios","android"].includes(g)?i({defaultMessage:"Mobile subscription",id:"EttF2eTvlk"}):i(d==="softbank"?{defaultMessage:"SoftBank, Y!mobile, and LINEMO Customers",id:"i1WJntbsih"}:{defaultMessage:"Manage",id:"0AzlrbMWV9"}),[t,h,g,d,i]);return o.jsx("div",{children:k?d==="softbank"?o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(Rn,{items:S,isMobileStyle:!1,placement:"bottom-start",children:o.jsx(Le,{text:i({defaultMessage:"Manage carrier billing",id:"qt9JnrA7Lf"}),size:"small",icon:Ia,variant:r})})}):o.jsx(Le,{extraCSS:s,text:E,size:"small",onClick:C,variant:r,trailingComponent:o.jsx(Ne,{icon:_l,size:"xs"})}):o.jsx(Le,{text:e??i({defaultMessage:"Learn more",id:"TdTXXf940t"}),size:"small",onClick:()=>{b?w("pricingModal",{origin:n}):w("loginModal",{origin:gt.TRY_PRO,pitchMessage:{title:i({defaultMessage:"Sign in to unlock {pro}",id:"HsM7RilrD6"},{pro:"Pro"})}})},icon:_l,variant:r})})};function i1t({subscriptionSource:e,isMissingPaymentMethod:t,paymentFailed:n,upgradeError:r}){return e==="android"?"android":e==="ios"?"ios":t?"missingPaymentMethod":n?"paymentFailed":r?"genericPaymentError":"upgradeToContinue"}function o1t(e){switch(e){case"unsupported":return yt({defaultMessage:"Max subscriptions are not supported by carrier billing.",id:"Ux4ivT++jB"});case"missingPaymentMethod":return yt({defaultMessage:"Please add a payment method to upgrade to Max.",id:"W6HVT1BPC8"});case"paymentFailed":return yt({defaultMessage:"Payment failed. Please update payment to continue.",id:"b0rdlbJ3AI"});case"android":return yt({defaultMessage:"You subscribed on the Google Play Store. Upgrade your subscription via settings on the Android app.",id:"97MQ1Swe7/"});case"ios":return yt({defaultMessage:"You subscribed on the App Store. Upgrade your subscription via settings on the iOS app.",id:"JGkQSWrZEy"});case"upgradeToContinue":return yt({defaultMessage:"You will be charged now and immediately get access to Max.",id:"9x1isMahOJ"});case"genericPaymentError":return yt({defaultMessage:"Something went wrong. Please continue to Stripe and complete your payment.",id:"xdKfV2F++4"});default:D6e(e)}}const l1t="https://billing.stripe.com/p/login/test_7sIdSS7ioeNSdpe9AA",c1t="https://billing.stripe.com/p/login/6oEeXaewnb3z1facMM",u1t=()=>{const e=Qt(),{isProduction:t,isBeta:n}=af(),r=f.useCallback(async({locale:s,reason:a})=>{const i=await m1e({locale:s,reason:a});i?e.push(i):e.push(t||n?c1t:l1t)},[e,t,n]);return f.useMemo(()=>({navigateToCustomerPortal:r}),[r])},BZ=6,d1t=()=>o.jsx("ul",{className:"flex flex-col",children:Array.from({length:BZ}).map((e,t)=>{const n=t%2===0;return o.jsx("li",{className:W({"border-background-300 py-sm mb-sm border-b":n,"pb-sm":!n}),children:o.jsx(Kn,{children:o.jsx(Q,{variant:"offset",className:W("h-4 w-full rounded",{"py-0.5":t===BZ-1})})})},t)})}),f1t=({isOpen:e,onClose:t})=>{const n=ae(),s=on()?.user?.subscription_source,a=s==="stripe",{data:i,isLoading:l,status:c,error:u}=dpt({reason:"upgrade-modal",enabled:a}),{data:d,isLoading:h}=AZ({currency:UZ,reason:"upgrade-modal",subscriptionTier:"max"}),{data:m,isLoading:g}=AZ({currency:UZ,reason:"upgrade-modal",subscriptionTier:"pro"}),{formatNumber:v,locale:x}=ae(),{update:b}=Jo.useSession(),{currentOpenModals:w}=Gt(),{trackEvent:C}=Ye(),{navigateToCustomerPortal:S}=u1t(),k=f.useMemo(()=>d?.prices&&d.prices.find($=>$.tier==="monthly")||null,[d]),E=f.useMemo(()=>m?.prices&&m.prices.find($=>$.tier==="monthly")||null,[m]),T=f.useMemo(()=>c==="error"?u?.message:null,[c,u]),j=f.useCallback(async()=>{await xF({reason:"upgrade-to-max-modal"}),await b(),t(),C("subscription upgrade success"),w.length>0&&t(),gy({upgrade_max:"success"})},[t,w,b,C]),N=mpt({reason:"upgrade-modal"},{onSuccess:j}),R=T==="missing_payment_method",O=T==="stripe_upgrade_payment_error";f.useEffect(()=>{e&&C("subscription upgrade modal rendered")},[e,C]);const I=i1t({subscriptionSource:s,isMissingPaymentMethod:R,paymentFailed:O,upgradeError:N?.error?.message}),B=f.useCallback(async()=>{await S({locale:x,reason:"upgrade-modal-add-payment"})},[S,x]),D=!!i?.payment_method,z=R||O||!!N.error,V=f.useMemo(()=>!a||N.isPending||!D||l||!!N.error,[a,N.isPending,D,l,N.error]),U=f.useCallback(async()=>{N.isPending||await N.mutateAsync()},[N]),H=f.useMemo(()=>R?o.jsx(Ve,{defaultMessage:"Add payment method",id:"+EIsonKmCI"}):N.error?o.jsx(Ve,{defaultMessage:"Continue to Stripe",id:"W2hJP+kQGf"}):o.jsx(Ve,{defaultMessage:"Update payment method",id:"iIM9E+ynde"}),[R,N.error]);return o.jsx(Sn,{isOpen:e,onClose:t,renderCloseButton:!1,headerClassname:"hidden",modalClassname:"!w-[416px] !min-w-[416px] !max-w-[416px] !p-0",modalContentClassname:"!p-0",noPadding:!0,children:o.jsxs(Q,{className:"p-ml",children:[o.jsx(F,{variant:"baseSemi",children:o.jsx(Ve,{defaultMessage:"Confirm changes",id:"AnPtOvcf8f"})}),o.jsx(Jw,{planName:{id:"R/eOkjWqNU",defaultMessage:"Pro"},price:c==="error"||!a?E:i?.old_product_price,formatNumber:v,billingInterval:c==="error"||!a?"monthly":i?.old_product_interval}),o.jsx(Q,{children:o.jsxs(F,{variant:"tinyRegular",color:"light",className:"flex items-center justify-center gap-1",children:[o.jsx("div",{className:"border-background-300 flex-1 border-t"}),o.jsx(Ve,{defaultMessage:"Upgrade",id:"0h/lPMeYkq"}),o.jsx("div",{className:"border-background-300 flex-1 border-t"})]})}),o.jsx(Jw,{planName:{id:"kkjl2vQekD",defaultMessage:"Max"},price:R||!a?k:i?.new_product_price,formatNumber:v,billingInterval:R||!a?"monthly":i?.new_product_interval,isHighlighted:!0,className:"mb-ml"}),l?o.jsx(d1t,{}):i&&o.jsx(Npt,{lineItems:i}),o.jsxs(Q,{variant:"offset",className:"px-md py-sm mt-ml gap-sm flex flex-col rounded-md",children:[o.jsx(F,{variant:"small",color:"light",children:o.jsx(Ve,{...o1t(I)})}),!a&&o.jsx(F6e,{origin:gt.UPGRADE_MODAL,variant:"primary",extraCSS:"w-full"}),z&&o.jsx(Le,{size:"small",fullWidth:!0,variant:"primary",text:H,onClick:B})]}),o.jsxs(Q,{className:"gap-sm mt-ml flex justify-end",children:[o.jsx(it,{text:n.formatMessage({defaultMessage:"Cancel",id:"47FYwba+bI"}),onClick:t}),o.jsx(Le,{variant:"primary",text:n.formatMessage({defaultMessage:"Confirm",id:"N2IrpMDHDB"}),isLoading:N.isPending,disabled:V,onClick:U})]})]})})},ys=L.memo(()=>o.jsx("div",{className:"bg-backdrop/70 fixed inset-0 z-[999] flex items-center justify-center backdrop-blur-sm",children:o.jsx(Cu,{})}));ys.displayName="ModalLoader";const U6e=L.memo(()=>o.jsx("p",{children:"An error has occurred"}));U6e.displayName="ErrorFallback";const h1t=De(async()=>({default:(await Me(()=>Promise.resolve().then(()=>vzt),void 0)).LocationPermissionModal}),{loading:()=>o.jsx(ys,{})}),m1t=De(async()=>({default:(await Me(()=>import("./FileUploadModal-BRfawgAX.js"),__vite__mapDeps([5,1,6,3]))).FileUploadModal}),{loading:()=>o.jsx(ys,{})}),VZ=De(async()=>({default:(await Me(()=>import("./CollectionCreateEditModal-Cs2g039Z.js"),__vite__mapDeps([7,1,8,3]))).CollectionCreateEditModal}),{loading:()=>o.jsx(ys,{})}),p1t=De(async()=>({default:(await Me(()=>import("./CollectionSelectModal-CYgx1TZA.js"),__vite__mapDeps([9,1,8,10,11,3]))).CollectionSelectModal}),{loading:()=>o.jsx(ys,{})}),g1t=De(async()=>({default:(await Me(()=>import("./OnboardingModal-Cfu47B-n.js").then(t=>t.a),__vite__mapDeps([12,1,3,13,14,15,16,17,18,19,20,21]))).OnboardingModal}),{loading:()=>o.jsx(ys,{})}),v1t=De(async()=>({default:(await Me(()=>import("./PurchaseConfirmationToast-CoO05OvB.js"),__vite__mapDeps([22,1,23,24,3]))).PurchaseConfirmationToast}),{loading:()=>o.jsx(ys,{})}),y1t=De(async()=>({default:(await Me(()=>Promise.resolve().then(()=>J1t),void 0)).ThreadLossAversionModal}),{loading:()=>o.jsx(ys,{})}),x1t=De(async()=>({default:(await Me(()=>import("./CompanyDataPrivacyModal-0do53qwu.js"),__vite__mapDeps([25,1,3]))).CompanyDataPrivacyModal}),{loading:()=>o.jsx(ys,{})}),b1t=De(async()=>({default:(await Me(()=>import("./SpaceVideoModal-HAh-VU-1.js"),__vite__mapDeps([26,1,3]))).SpaceVideoModal}),{loading:()=>o.jsx(ys,{})}),w1t=De(async()=>({default:(await Me(()=>import("./PricingTableModal-DAeNb5e8.js"),__vite__mapDeps([27,1,20,15,16,21,28,3]))).PricingTableModal})),_1t=De(async()=>({default:(await Me(()=>import("./MapModal-BJVnK8TD.js"),__vite__mapDeps([29,1,30,31,3,32,18]))).MapModal})),C1t=De(()=>Me(()=>import("./InputPaymentModal-CkJ1A2ob.js"),__vite__mapDeps([33,1,3,34]))),S1t=De(()=>Me(()=>import("./ShoppingPaymentModal-2U204fxi.js").then(e=>e.b),__vite__mapDeps([35,1,3,36,34,37,38,39,40,23])),{loading:()=>o.jsx(ys,{})}),M1t=De(async()=>({default:(await Me(()=>import("./ShoppingOnboardingModal-bhmmZV23.js"),__vite__mapDeps([41,1,40,35,3,36,34,37,38,39,23]))).ShoppingOnboardingModal}),{loading:()=>o.jsx(ys,{})}),k1t=De(async()=>({default:(await Me(()=>import("./PurchaseDetailsModal-C8EZ09yK.js"),__vite__mapDeps([42,1,40,3]))).PurchaseDetailsModal}),{loading:()=>o.jsx(ys,{})}),E1t=De(async()=>({default:(await Me(()=>import("./ReservationDetailsModal-CNO_Robv.js"),__vite__mapDeps([43,1,44,3]))).ReservationDetailsModal}),{loading:()=>o.jsx(ys,{})}),T1t=De(async()=>({default:(await Me(()=>import("./SpaceSettingsModal-CCaCHf93.js"),__vite__mapDeps([45,1,3]))).SpaceSettingsModal}),{loading:()=>o.jsx(ys,{})}),N1t=De(async()=>({default:(await Me(()=>import("./UsernameModal-mCHhzx6F.js"),__vite__mapDeps([46,1,3]))).UsernameModal})),j1t=De(async()=>({default:(await Me(()=>import("./FullNameModal-BBLTEV0S.js"),__vite__mapDeps([47,1,3]))).FullNameModal})),A1t=De(async()=>({default:(await Me(()=>import("./KeyboardShortcutEditorModal-BoS_zV6S.js"),__vite__mapDeps([48,1,3]))).KeyboardShortcutEditorModal}),{loading:()=>o.jsx(ys,{})}),R1t=De(async()=>({default:(await Me(()=>import("./VoiceToVoiceModal-te2hkQj8.js"),__vite__mapDeps([49,1,50,3]))).VoiceToVoiceModal}),{loading:()=>o.jsx(PF,{})}),L1t=De(async()=>({default:(await Me(()=>import("./SearchStepsAssetsModal-YrdFD9u9.js"),__vite__mapDeps([51,1,3,13,52,53,54,55,56]))).SearchStepsAssetsModal})),O1t=De(async()=>({default:(await Me(()=>import("./MemoryListModal-DXW4k-_k.js"),__vite__mapDeps([57,1,3]))).MemoryListModal})),P1t=De(async()=>({default:(await Me(()=>import("./HotelRoomDetailsModal-C8QgoBFe.js"),__vite__mapDeps([58,1,59,60,3]))).HotelRoomDetailsModal}),{loading:()=>o.jsx(ys,{})}),I1t=De(async()=>({default:(await Me(()=>import("./PaymentModal-3oLLvzo7.js"),__vite__mapDeps([61,1,3,38,34,16,21]))).PaymentModal}),{loading:()=>o.jsx(ys,{})}),D1t=De(async()=>({default:(await Me(()=>import("./FreeTrialModal-CPPEGVlO.js"),__vite__mapDeps([28,1,15,16,3]))).FreeTrialModal})),F1t=De(async()=>({default:(await Me(()=>import("./ProReferralModal-DeHX6xlX.js"),__vite__mapDeps([62,1,63,3]))).ProReferralModal})),U1t=De(async()=>({default:(await Me(()=>import("./ProMessageModal-BhkGC0UI.js"),__vite__mapDeps([64,1,3]))).ProMessageModal})),B1t=De(async()=>({default:(await Me(()=>import("./MemorySearchHistoryIntroModal-B2yImCz4.js"),__vite__mapDeps([65,1,3]))).MemorySearchHistoryIntroModal})),V1t=De(async()=>({default:(await Me(()=>import("./SubSuccessModal-Bsl8kkRI.js"),__vite__mapDeps([66,1,3]))).default})),z1t=De(async()=>({default:(await Me(()=>import("./ReferralErrorModal-CGrpXBGS.js"),__vite__mapDeps([67,1,3]))).default})),H1t=De(async()=>({default:(await Me(()=>import("./ReferralSuccessModal-JFcTUKH8.js"),__vite__mapDeps([68,1,3]))).default})),W1t=De(async()=>({default:(await Me(()=>import("./IncentiveProModal-BnixlQtg.js"),__vite__mapDeps([69,1,3]))).default})),$1t=De(async()=>({default:(await Me(()=>import("./RestaurantBookingModal-D-jnWiGh.js"),__vite__mapDeps([70,1,71,72,19,3]))).RestaurantBookingModal}),{loading:()=>o.jsx(ys,{})}),q1t=De(async()=>({default:(await Me(()=>import("./SheerIdRedirectModal-BqQ3cZSy.js"),__vite__mapDeps([73,1,3]))).default})),G1t=De(async()=>({default:(await Me(()=>import("./EnterprisePremiumSecureUpgradeModal-BYvwDZNT.js"),__vite__mapDeps([74,1,3]))).EnterprisePremiumSecureUpgradeModal})),Y1t=De(async()=>({default:(await Me(()=>import("./ShortcutModal-DJG4z-H8.js"),__vite__mapDeps([75,1,3]))).ShortcutModal})),K1t=De(async()=>({default:(await Me(()=>Promise.resolve().then(()=>$jt),void 0)).default})),Q1t=De(async()=>({default:(await Me(()=>import("./FinanceAddAlert-CM9NNAPB.js").then(t=>t.b),__vite__mapDeps([76,1]))).FinanceAlertModal})),X1t=De(async()=>({default:(await Me(()=>import("./PlatformOptionsModal-C0xQBjSG.js"),__vite__mapDeps([77,1,3]))).PlatformOptionsModal}));function Z1t(e){return e?{[e.modalName]:e.arg}:{}}const B6e=L.memo(({})=>{const{currentOpenModals:e}=Gt(),[t,n]=f.useState(e.length);f.useEffect(()=>{setTimeout(()=>{n(e.length)},100)},[e.length]);const r=t!=e.length;return e.map((s,a)=>o.jsx(V6e,{modal:s,canOutsideClickClose:!r&&a+1==e.length},a))});B6e.displayName="Modals";const V6e=L.memo(({modal:e,canOutsideClickClose:t})=>{const n=f.useMemo(()=>({canOutsideClickClose:t}),[t]);return o.jsx(Uhe.Provider,{value:n,children:o.jsx(z6e,{modal:e})})});V6e.displayName="SingleModalWrapper";const z6e=L.memo(({modal:e})=>{const{closeModal:t}=Gt(),n=e.modalName,{pricingModal:r,loginModal:s,installModal:a,requestAccessModal:i,collectionSelectModal:l,collectionCreateOrEdit:c,collectionCreateForThread:u,spaceCreate:d,spaceCreateForThread:h,spaceSettings:m,companyDataPrivacyModal:g,citationListModal:v,checkSourcesModal:x,mapModal:b,inputPaymentModal:w,shoppingPaymentModal:C,purchaseConfirmationModal:S,shoppingOnboardingModal:k,shoppingOrderDetailsModal:E,lossAversionModal:T,spaceVideoModal:j,uploadFilesModal:N,spaceContextModal:R,locationPermissionModal:O,watchlistModal:I,reservationDetailsModal:B,deleteMemoryModal:D,hotelRoomDetailsModal:z,searchStepsAssetsModal:V,memoryListModal:U,proSubscriptionPaymentModal:H,proMessageModal:q,memorySearchHistoryModal:$,gmailFailedPermissionsModal:G,subSuccessModal:K,incentiveProModal:ee,restaurantBookingModal:oe,sheerIdRedirectModal:ne,enterprisePremiumSecureUpgradeModal:te,taskShortcutModal:re,financeAlertModal:X,scheduledTaskModal:ce,avatarManagementModal:se}=Z1t(e);return o.jsxs(o.Fragment,{children:[n==="loginModal"&&s?.origin&&o.jsx(Wdt,{pitchMessage:s?.pitchMessage,origin:s.origin,isOpen:n==="loginModal",experimentalImageDesign:s.experimentalImageDesign,sheetModalDesign:s.sheetModalDesign,closeModal:t,closeCallback:s?.closeCallback,overrideRedirectUrl:s?.overrideRedirectUrl,disallowedMethods:s?.disallowedMethods,loginButtonsStyle:s?.loginButtonsStyle}),o.jsx(Ud,{isSamsungBrowser:!0,isCometSidecar:!0,children:n==="installModal"&&a&&o.jsx(Zmt,{isOpen:n==="installModal",onClose:()=>{t(),a.closeCallback?.()},origin:a.origin,sheetModalVariant:a.sheetModalVariant})}),n==="pricingModal"&&r&&o.jsx(w1t,{isOpen:n==="pricingModal",pitchMessage:r?.pitchMessage,closeModal:t,origin:r.origin,showFreeTier:r.showFreeTier}),n==="collectionSelectModal"&&l?.entryUUID&&o.jsx(p1t,{isOpen:n==="collectionSelectModal",currentCollection:l.currentCollection,entryUUID:l.entryUUID,searchTerm:l.searchTerm,frontendContextUUID:l.frontendContextUUID,closeModal:t}),n==="collectionCreateOrEdit"&&o.jsx(VZ,{isOpen:n==="collectionCreateOrEdit",existingCollection:c?.existingCollection,frontendContextUUID:c?.frontendContextUUID,closeModal:t,onCreate:c?.onCreate}),n==="spaceCreate"&&o.jsx(jZ,{isOpen:n==="spaceCreate",closeModal:t,existingCollection:d?.existingCollection,onCreate:d?.onCreate,content:d?.content}),n==="spaceCreateForThread"&&h?.entryUUID&&o.jsx(jZ,{isOpen:n==="spaceCreateForThread",closeModal:t,existingCollection:d?.existingCollection,frontendContextUUID:h?.frontendContextUUID,entryUUID:h?.entryUUID,onCreate:h?.onCreate}),n==="spaceSettings"&&o.jsx(T1t,{isOpen:n==="spaceSettings",existingSpace:m?.existingSpace,closeModal:t}),n==="spaceVideoModal"&&j&&o.jsx(b1t,{isOpen:n==="spaceVideoModal",setIsOpen:t,type:j.type}),n==="uploadFilesModal"&&o.jsx(m1t,{isOpen:n==="uploadFilesModal",closeModal:t,collectionSlug:N?.collectionSlug,showUpsell:N?.showUpsell,initialTab:N?.initialTab}),n==="spaceContextModal"&&o.jsx(Vme,{isOpen:n==="spaceContextModal",closeModal:t,collectionSlug:R?.collectionSlug}),n==="requestAccessModal"&&i?.uuidOrSlug&&o.jsx(Ghe,{isOpen:n==="requestAccessModal",onClose:t,uuidOrSlug:i.uuidOrSlug}),n==="mapModal"&&o.jsx(oi,{fallback:U6e,children:o.jsx(_1t,{isOpen:n==="mapModal",closeModal:t,locations:b&&b.locations,header:b.header,entryUUID:b.entryUUID,searchByLocationOverride:b?.searchByLocationOverride})}),n==="collectionCreateForThread"&&u?.entryUUID&&o.jsx(VZ,{isOpen:n==="collectionCreateForThread",existingCollection:c?.existingCollection,frontendContextUUID:u?.frontendContextUUID,closeModal:t,entryUUID:u?.entryUUID}),n==="inputPaymentModal"&&w&&o.jsx(C1t,{isOpen:n==="inputPaymentModal",closeModal:t,isUpdating:w.isUpdating}),n==="shoppingPaymentModal"&&C&&o.jsx(S1t,{isOpen:n==="shoppingPaymentModal",closeModal:t,product:C.product,onSuccess:C.onSuccess}),n==="companyDataPrivacyModal"&&o.jsx(x1t,{organizationName:g.organizationName,isOpen:n==="companyDataPrivacyModal",closeModal:t,onContinue:g.onContinue}),n==="citationListModal"&&v.webResults&&o.jsx(zF,{isOpen:n==="citationListModal",onClose:t,entry:v.entry,webResults:v.webResults,submit:v.submit}),n==="checkSourcesModal"&&x&&o.jsx(Npe,{isOpen:n==="checkSourcesModal",onClose:t,entryUUID:x.entryUUID,frontendContextUUID:x.frontendContextUUID,contextUUID:x.contextUUID,webResults:x.webResults,extendedBeforeContext:x.extendedBeforeContext,beforeContext:x.beforeContext,selectedText:x.selectedText,afterContext:x.afterContext,state:x?.state}),n==="keyboardShortcutEditorModal"&&o.jsx(A1t,{isOpen:n==="keyboardShortcutEditorModal",closeModal:t}),n==="keyboardShortcutHelperModal"&&o.jsx(Zlt,{isOpen:n==="keyboardShortcutHelperModal",closeModal:t}),n==="onboardingModal"&&o.jsx(g1t,{isOpen:n==="onboardingModal",closeModal:t}),n==="lossAversionModal"&&T&&o.jsx(y1t,{isOpen:n==="lossAversionModal",onClose:()=>{t(),T.callback?.()},origin:T.origin}),n==="shoppingOnboardingModal"&&k&&o.jsx(M1t,{isOpen:n==="shoppingOnboardingModal",onClose:t,onContinue:k.onContinue}),n==="shoppingOrderDetailsModal"&&o.jsx(k1t,{isOpen:n==="shoppingOrderDetailsModal",onClose:t,item:E?.item,userIntercomHash:E?.userIntercomHash}),n==="purchaseConfirmationModal"&&S&&o.jsx(v1t,{isOpen:n==="purchaseConfirmationModal",onClose:t,order:S.order}),n==="watchlistModal"&&I&&o.jsx(Hmt,{isOpen:n==="watchlistModal",onClose:t,watchlistType:I.watchlistType,origin:I.origin}),n==="locationPermissionModal"&&O&&o.jsx(h1t,{isOpen:n==="locationPermissionModal",onClose:t,onPermissionGranted:O.onPermissionGranted??Yn,origin:O.origin}),n==="reservationDetailsModal"&&B&&o.jsx(E1t,{isOpen:n==="reservationDetailsModal",onClose:t,reservation:B.reservation,userIntercomHash:B.userIntercomHash}),n==="usernameModal"&&o.jsx(N1t,{isOpen:n==="usernameModal",onClose:t}),n==="userFullNameModal"&&o.jsx(j1t,{isOpen:n==="userFullNameModal",onClose:t}),n==="deleteMemoryModal"&&o.jsx(bht,{isOpen:n==="deleteMemoryModal",onClose:t,memoryId:D?.memoryId}),n==="deleteAllMemoriesModal"&&o.jsx(xht,{isOpen:n==="deleteAllMemoriesModal",onClose:t}),n==="voiceToVoiceModal"&&o.jsx(R1t,{isOpen:n==="voiceToVoiceModal",onClose:t}),n==="hotelRoomDetailsModal"&&z&&o.jsx(P1t,{isOpen:n==="hotelRoomDetailsModal",onClose:t,...z}),n==="searchStepsAssetsModal"&&V?.backendUUID&&o.jsx(L1t,{isOpen:n==="searchStepsAssetsModal",closeModal:t,...V}),n==="memoryListModal"&&o.jsx(O1t,{isOpen:n==="memoryListModal",onClose:t,isMemoryEnabled:U?.isMemoryEnabled??!1}),n==="proSubscriptionPaymentModal"&&H&&o.jsx(I1t,{isOpen:n==="proSubscriptionPaymentModal",onClose:t,...H}),n==="proReferralModal"&&o.jsx(F1t,{isOpen:n==="proReferralModal",onClose:t}),n==="proMessageModal"&&q&&o.jsx(U1t,{isOpen:n==="proMessageModal",onClose:t,...q}),n==="freeTrialModal"&&o.jsx(D1t,{isOpen:n==="freeTrialModal",onClose:t}),n==="memorySearchHistoryModal"&&o.jsx(Bpe,{isOpen:n==="memorySearchHistoryModal",onClose:t,snippet:$?.snippet??"",type:$?.type??"memory",url:$?.url??"",memoryKey:$?.memoryKey,entryUuid:$?.entryUuid,title:$?.title,timestamp:$?.timestamp}),n==="memorySearchHistoryIntroModal"&&o.jsx(B1t,{isOpen:n==="memorySearchHistoryIntroModal",onClose:t}),n==="gmailFailedPermissionsModal"&&G&&o.jsx(yht,{isOpen:n==="gmailFailedPermissionsModal",onContinue:G.onContinue??Yn,onClose:t}),n==="subSuccessModal"&&K&&o.jsx(V1t,{isOpen:n==="subSuccessModal",onClose:t,flowType:K.flowType,upgradeMax:K.upgradeMax,subscriptionTier:K.subscriptionTier}),n==="referralErrorModal"&&o.jsx(z1t,{isOpen:n==="referralErrorModal",onClose:t}),n==="referralSuccessModal"&&o.jsx(H1t,{isOpen:n==="referralSuccessModal",onClose:t}),n==="incentiveProModal"&&o.jsx(W1t,{isOpen:n==="incentiveProModal",onClose:t,...ee}),n==="sheerIdRedirectModal"&&ne&&o.jsx(q1t,{isOpen:n==="sheerIdRedirectModal",onContinue:()=>{t(),Oh(ne.sheerIdUrl,"sheerIdRedirectModal")},onCancel:t}),n==="upgradeModal"&&o.jsx(f1t,{isOpen:n==="upgradeModal",onClose:t}),n==="downgradeModal"&&o.jsx(jpt,{isOpen:n==="downgradeModal",onClose:t}),n==="restaurantBookingModal"&&oe&&o.jsx($1t,{isOpen:n==="restaurantBookingModal",onClose:t,...oe}),n==="bugReportModal"&&o.jsx(wme,{isOpen:n==="bugReportModal",onClose:t}),n==="enterprisePremiumSecureUpgradeModal"&&o.jsx(G1t,{isOpen:n==="enterprisePremiumSecureUpgradeModal",onClose:t,onUpgradeSuccess:te?.onUpgradeSuccess}),n==="taskShortcutModal"&&re&&o.jsx(Y1t,{open:n==="taskShortcutModal",onClose:t,source:re.source,initial:re.initial,prefill:re.prefill}),n==="financeAlertModal"&&X&&o.jsx(Q1t,{isOpen:n==="financeAlertModal",onClose:t,symbol:X.symbol,task:X.task}),n==="scheduledTaskModal"&&ce&&o.jsx(Ag,{children:o.jsx(K1t,{open:n==="scheduledTaskModal",onClose:t,source:ce.source})}),n==="platformOptionsModal"&&o.jsx(X1t,{isOpen:n==="platformOptionsModal",onClose:t}),n==="avatarManagementModal"&&se&&o.jsx(Ymt,{isOpen:n==="avatarManagementModal",onClose:t})]})});z6e.displayName="SingleModal";const H6e=L.memo(({...e})=>{const{$t:t}=ae(),n=f.useMemo(()=>kF(window.location.href,sm,gt.LOSS_AVERSION_MODAL),[]),{trackEvent:r}=Ye(),[s,a]=f.useState(!1);return f.useEffect(()=>{r("loss aversion modal opened",{origin:e.origin})},[r,e.origin]),o.jsx(Sn,{title:t(s?{defaultMessage:"Sign up or log in",id:"Qv2KGSr1CQ"}:{defaultMessage:"Lose your answer?",id:"BxKmht5dD3"}),actionList:s?void 0:[{text:t({defaultMessage:"Sign up or log in",id:"Qv2KGSr1CQ"}),onClick:()=>{a(!0)},variant:"primary"}],...e,children:o.jsx("div",{className:"grid grid-cols-1 grid-rows-1",children:o.jsx(ef,{initial:!1,mode:"popLayout",transition:{type:"spring",duration:.2},children:s?o.jsx(lu,{transition:{ease:Mi,duration:.1,delay:.1},children:o.jsxs(je.div,{className:"relative col-start-1 row-start-1",children:[o.jsx(F,{className:"mb-md",textCenter:!0,children:o.jsx(Ve,{defaultMessage:"Log in to save this answer",id:"Ngtk6vEw7T"})}),o.jsx(Qw,{redirectUrl:n,showCloseButton:!1})]})},"login"):o.jsx(lu,{transition:{ease:Mi,duration:.1},children:o.jsx(je.div,{className:"col-start-1 row-start-1",children:o.jsx(F,{children:t({defaultMessage:"To save this answer, sign up or log in.",id:"9Ha7YBI+Yh"})})})},"initial")})})})});H6e.displayName="ThreadLossAversionModal";const YF=()=>{const e=f.useCallback(r=>{ket(r)},[]),t=Wn(dA),n=f.useCallback(()=>g1(dA),[]);return f.useMemo(()=>({lossAversionStatus:t,setLossAversionStatus:e,unsetLossAversion:n}),[t,e,n])},Ug=()=>{const{lossAversionStatus:e,setLossAversionStatus:t}=YF(),n=ln(),r=Ct(),s=f.useMemo(()=>!r&&e==="allowed"&&n?.startsWith("/search"),[r,e,n]),{openModal:a}=Gt(),i=f.useCallback(({args:l,openModalOverride:c})=>{c?c("lossAversionModal",l):a("lossAversionModal",l),t("cooldown")},[a,t]);return f.useMemo(()=>({shouldShowLossAversionModal:s,handleOpenLossAversion:i}),[s,i])},J1t=Object.freeze(Object.defineProperty({__proto__:null,ThreadLossAversionModal:H6e,useLossAversion:Ug,useLossAversionStorage:YF},Symbol.toStringTag,{value:"Module"})),W6e=f.createContext({currentOpenModals:[],currentOpenedModal:null,openModal:()=>{},openStackedModal:()=>{},updateModal:()=>{},closeModal:()=>{}}),egt=({children:e})=>{const[t,n]=f.useState([]),r=f.useMemo(()=>t.at(-1)?.modalName??null,[t]),{trackEvent:s}=Ye(),{isMacOS:a,isWindowsApp:i}=sn(),{shouldShowLossAversionModal:l,handleOpenLossAversion:c}=Ug(),u=Qt(),d=f.useCallback((b,w)=>{n(()=>[{modalName:b,arg:w}])},[]),h=f.useCallback((b,w)=>{n(C=>[...C,{modalName:b,arg:w}])},[]),m=f.useCallback((b,w)=>{n(C=>{const S=C.findLastIndex(k=>k.modalName==b);if(S!=-1){const k=C.slice();return k[S]={modalName:b,arg:w},k}else return C})},[]),g=f.useCallback(()=>{n(b=>b.slice(0,b.length-1))},[]),v=f.useMemo(()=>({currentOpenModals:t,currentOpenedModal:r,openModal:d,openStackedModal:h,updateModal:m,closeModal:g}),[t,d,h,m,g,r]),x=f.useCallback(b=>{if(a?b.metaKey&&b.key==="k":b.ctrlKey&&b.key==="i")b.preventDefault(),l?c({args:{origin:gt.NEW_THREAD_SHORTCUT,callback:()=>{s("quick ask keyboard shortcut",{}),u.push("/",void 0,"Quick ask keyboard shortcut (loss aversion)")}},openModalOverride:d}):(s("quick ask keyboard shortcut",{}),u.push("/",void 0,"Quick ask keyboard shortcut"));else if(a?b.metaKey&&b.key==="/":b.ctrlKey&&b.key==="/")b.preventDefault(),d(i?"keyboardShortcutEditorModal":"keyboardShortcutHelperModal",null);else if(i&&b.ctrlKey&&b.key==="d"){b.preventDefault();const w=new CustomEvent("toggleDictation");document.dispatchEvent(w)}},[a,i,l,c,d,s,u]);return f.useEffect(()=>(document.addEventListener("keydown",x),()=>{document.removeEventListener("keydown",x)}),[x]),o.jsxs(W6e.Provider,{value:v,children:[e,o.jsx(B6e,{})]})},Gt=()=>{const e=f.useContext(W6e);if(!e)throw new Error("useModalState must be used within ModalContext");return e},$6e=()=>{const{openModal:e}=Gt(),{isMobileUserAgent:t}=qe(),n=eC(),r=f.useCallback(({origin:s,sheetModalVariant:a,closeCallback:i})=>{!t||n||e("installModal",{origin:s,sheetModalVariant:a,closeCallback:i})},[n,t,e]);return f.useMemo(()=>({openInstallUpsell:r}),[r])},Br=({enabled:e})=>{const{openModal:t}=Gt(),{keysRequiringRerender:n,removeKeyRequiringRerender:r}=of(),{isMobileUserAgent:s}=qe(),a=Ct(),{openInstallUpsell:i}=$6e(),l=pr(),c=f.useCallback(({title:d,description:h,origin:m,image:g,imageAlt:v,closeCallback:x,loginButtonsStyle:b})=>{!e||a||l||t("loginModal",{pitchMessage:d?{title:d,description:h}:void 0,origin:m,experimentalImageDesign:{image:g,imageAlt:v},closeCallback:x,loginButtonsStyle:b})},[e,t,a,l]),u=f.useCallback(({title:d,description:h,origin:m,sheetModalVariant:g,closeCallback:v,overrideRedirectUrl:x,disallowedMethods:b,overrideMobileVariant:w=!1})=>{if(!e||a||l)return;let C="full-sheet";(w||!s)&&g&&(C=g),t("loginModal",{pitchMessage:d?{title:d,description:h}:void 0,origin:m,sheetModalDesign:C,closeCallback:v,overrideRedirectUrl:x,disallowedMethods:b})},[e,s,t,a,l]);return f.useEffect(()=>{e&&(n.includes("visitor-gate")&&(s&&!N1()?i({origin:gt.VISITOR_GATE,sheetModalVariant:"inset-centered-sheet"}):u({origin:gt.VISITOR_GATE,sheetModalVariant:"bottom-sheet-gradient"}),r("visitor-gate")),n.includes("visitor-gate-ii")&&(s&&!N1()?i({origin:gt.VISITOR_GATE,sheetModalVariant:"inset-centered-sheet"}):u({origin:gt.VISITOR_GATE}),r("visitor-gate-ii")))},[e,u,n,r,s,i]),f.useMemo(()=>({openVisitorLoginUpsell:u,openVisitorLoginImageUpsell:c}),[c,u])},tgt=({message:e,discountCode:t,clearDiscountCode:n})=>{const r="discount-code-banner",s=Ct(),{trackEvent:a}=Ye(),{$t:i}=ae(),{isMobileStyle:l}=qe(),[c,u]=f.useState(!1),[d,h]=f.useState(null),{openVisitorLoginUpsell:m}=Br({enabled:!s}),{navigateToPayment:g}=ait(),v=gt.DISCOUNT_CODE_BANNER;f.useEffect(()=>{a("promo code banner shown",{discountCode:t})},[a,t]);const x=f.useCallback(()=>{const C=new URL(window.location.href);C.searchParams.delete("discount_code"),Fx(Object.fromEntries(C.searchParams)),n()},[n]),b=f.useCallback(async()=>{if(a("promo code banner clicked",{discountCode:t}),!c){if(d){x(),h(null);return}if(s){if(u(!0),a("get started button clicked from discount banner",{tier:"monthly"}),await g({origin:v,discountCode:t,tier:"monthly"})){n();return}a("pro checkout started",{subscriptionTier:"pro",origin:v,discountCode:t??"",referralCode:"",tier:"monthly",flowType:"stripe_checkout"}),opt({request:{subscriptionTier:"pro",tier:"monthly",referralCode:"",discountCode:t,origin:v,locale:Sd()},reason:r}).then(C=>{C?.url?Oh(C.url,"Discount code banner checkout"):(C?.errorCode==="PROMO_CODE_CUSTOMER_NOT_FIRST_TIME"?h(i({defaultMessage:"This code is only valid for first-time customers. Click to dismiss.",id:"xTWJg0ueMJ"})):h(i({defaultMessage:"There was an error with your code. Please double-check your code and click to try again.",id:"CdOiX2ylN6"})),u(!1))})}else m({title:i({defaultMessage:"Get started with your Pro discount",id:"XTa2YrANRF"}),origin:v})}},[i,n,t,d,c,s,g,m,v,a,x]),w=C=>{x(),C.preventDefault()};return o.jsx(Rx,{onClick:b,isLoading:c,icon:d?nit.faExclamationTriangle:sit.faGift,variant:d?"bad":"good",title:d||e,isMobileStyle:l,onClose:w})};var Ok={},zZ;function ngt(){return zZ||(zZ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="gift",r=512,s=512,a=[127873],i="f06b",l="M190.5 68.8L225.3 128l-1.3 0-72 0c-22.1 0-40-17.9-40-40s17.9-40 40-40l2.2 0c14.9 0 28.8 7.9 36.3 20.8zM64 88c0 14.4 3.5 28 9.6 40L32 128c-17.7 0-32 14.3-32 32l0 64c0 17.7 14.3 32 32 32l448 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-41.6 0c6.1-12 9.6-25.6 9.6-40c0-48.6-39.4-88-88-88l-2.2 0c-31.9 0-61.5 16.9-77.7 44.4L256 85.5l-24.1-41C215.7 16.9 186.1 0 154.2 0L152 0C103.4 0 64 39.4 64 88zm336 0c0 22.1-17.9 40-40 40l-72 0-1.3 0 34.8-59.2C329.1 55.9 342.9 48 357.8 48l2.2 0c22.1 0 40 17.9 40 40zM32 288l0 176c0 26.5 21.5 48 48 48l144 0 0-224L32 288zM288 512l144 0c26.5 0 48-21.5 48-48l0-176-192 0 0 224z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faGift=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(Ok)),Ok}var rgt=ngt();const sgt="back_to_school_winner",q6e="EDUFREEYEAR",agt=f.memo(({className:e,innerClassName:t,gridClassName:n,children:r,fadeOut:s,dotClassName:a,highlightClassName:i,animate:l=!0})=>{const[d,{width:h,height:m}]=ou(),[g,v]=f.useState([]),[x,b]=f.useState(0),[w,C]=f.useState(0),S=f.useRef(null),k=f.useRef(new Set),E=f.useCallback(()=>{const j=Math.floor(Math.random()*x)+1,N=Math.floor(Math.random()*w)+1,R=`${j}-${N}`;if(k.current.has(R))return;const O={col:j,row:N,id:R,duration:Math.floor(Math.random()*1001)+1e3,isSuper:Math.floor(Math.random()*5)%5===0};v(I=>{const B=[O,...I];if(B.length>20){const D=B.pop();D&&k.current.delete(D.id)}return k.current.add(R),B})},[x,w]);f.useEffect(()=>{if(l)return S.current=setInterval(E,100),()=>{S.current&&clearInterval(S.current)}},[E,l]),f.useEffect(()=>{b(Math.floor(h/22)),C(Math.floor(m/22))},[h,m,22]);const T=s?{maskImage:"radial-gradient(black, transparent)"}:void 0;return o.jsxs("div",{className:W("bg-background-100 dotGridContainer pointer-events-none relative isolate",e),ref:d,children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden",style:T,children:[o.jsx("div",{className:W("dotHighlightGrid bg-text/20 absolute inset-0",i),children:g.map(j=>o.jsx(igt,{item:j,className:a},j.id))}),o.jsx("div",{className:W("dotGrid absolute inset-0",n)})]}),o.jsx("div",{className:W("relative",t),children:r})]})}),igt=f.memo(({item:e,className:t})=>o.jsx("div",{className:W("gridDot text-text",t,{highlight:e.isSuper}),style:{gridColumn:e.col,gridRow:e.row,animationDuration:`${e.duration}ms`}}));function G6e(){return HF("pplx.partner_banner",null,{initializeWithValue:!1})}function Y6e(){return HF("pplx.partner_discount_code",null,{initializeWithValue:!1})}const Pk=({partnerCode:e,partnerDiscountCode:t,bannerVariant:n})=>{const{$t:r}=ae(),s=on(),{hasActiveSubscription:a}=cn(),i=e==="edu"&&t===q6e?!1:a,[,,l]=G6e(),[,,c]=Y6e(),[u,d]=f.useState(!1),{isMobileStyle:h}=qe(),{data:m}=Ft({queryKey:["partner",e],queryFn:()=>fetch(`/api/subscription/config?partnerCode=${e}`).then(E=>E.json())}),g=Qt();if(!e)return null;const v=m?.messages??Yue,x=i?r({defaultMessage:"Welcome to Perplexity Pro",id:"dcD7kilsgv"}):v?.bannerMessage??"",b=i?r({defaultMessage:"Learn More",id:"7DIW6+rckr"}):e.startsWith("edu")?r({defaultMessage:"Redeem Now",id:"EiBCDsh1sP"}):r({defaultMessage:"Get Started",id:"9QXm1EW9qz"}),w=i?void 0:rgt.faGift,C=i?`/join/p/${e}/welcome`:s&&t?`/join/p/${e}/${t}`:`/join/p/${e}`,S=E=>{l(),c(),E.preventDefault()},k=()=>{u||(d(!0),g.push(C))};return m?.maskPromoCodeFromQueryParams?null:o.jsx(Rx,{icon:w,isMobileStyle:h,title:x,actionLabel:b,onClick:k,isLoading:u,variant:n??"good",onClose:S})},ogt="Welcome Ramp members. Your 6 month Perplexity Pro free trial starts now!",lgt="Welcome ATT Employees.  Your complimentary 1-year subscription starts now!",cgt="Welcome AWS Employees.  Your complimentary 1-year subscription starts now!",ugt="Welcome r1 owners.  Your complimentary 1-year Perplexity Pro subscription starts now!",dgt="Welcome UT Staff.  Your complimentary 1-year Perplexity Pro subscription starts now!",fgt="Welcome Databricks team.  Your complimentary 1-year Perplexity Pro subscription starts now!",hgt="Welcome SRA team. Your complimentary 1-year Perplexity Pro subscription starts now!",mgt="Welcome HBS Tech Conference Attendees.  Your complimentary 6 month Perplexity Pro subscription starts now!",pgt="Welcome HBS Tech Conference Attendees.  Your complimentary 1 year Perplexity Pro subscription starts now!",ggt="Welcome Friends!  Your complimentary 1-year Perplexity Pro subscription starts now!",vgt="Welcome Inkitt Writers!  Your complimentary 1-year subscription to Perplexity Pro starts now!",ygt="Welcome Time team!  Your complimentary 1-year subscription to Perplexity Pro starts now!",xgt="Welcome T-Mobile team!  Your complimentary 1-year subscription to Perplexity Pro starts now!",bgt="Welcome Cavs team! Your complimentary 1-year Perplexity Pro subscription starts now!",wgt="Welcome Nothing owners. Your complimentary 6-month Perplexity Pro subscription starts now!",_gt="Welcome Nothing owners. Your complimentary 6-month Perplexity Pro subscription starts now!",Cgt="Welcome Nothing owners. Your complimentary 1-year Perplexity Pro subscription starts now!",Sgt="Welcome Nothing owners. Your complimentary 1-year Perplexity Pro subscription starts now!",Mgt="Welcome HooHacks Community. Your 1-year Perplexity Pro free trial starts now!",kgt="Welcome NJ ED Community. Your 1-year Perplexity Pro free trial starts now!",Egt="Welcome Copy AI customers! Your 6-month complimentary Perplexity Pro subscription starts now!",Tgt="Welcome Raycast users! Your 6-month complimentary Perplexity Pro subscription starts now!",Ngt="Welcome Raycast users! Your 3-month complimentary Perplexity Pro subscription starts now!",jgt="Welcome Deutsche Telekom!  Your complimentary 1-year Perplexity Pro subscription starts now!",Agt="Welcome friend of Perplexity! Your complimentary 1-year Perplexity Pro subscription starts now.",Rgt="Welcome UTA team! Your complimentray 1-year Perplexity Pro subscription starts now.",Lgt="Willkommen Deutsche Telekom Kunde! Sie erhalten dank Magenta Moments ein kostenloses 1-Jahres-Abonnement für Perplexity Pro.",Ogt="Welcome! Your complimentary 1-year Perplexity Pro subscription starts now.",HZ={RAMP:ogt,FREEATT:lgt,FREEAWS:cgt,RABBIT:ugt,FREEUT:dgt,FREEDATABRICKS:fgt,FREESRA:hgt,HBSTECH:mgt,HBSSTAFF:pgt,FREENEWSROOM:ggt,FREEINKITT:vgt,FREETIME:ygt,FREETMOBILE:xgt,"11LABS":"Welcome! Your complimentary 3-month subscription to Perplexity Pro starts now!",FREECAVS:bgt,NOTHING6:wgt,FREENOTHING6:_gt,NOTHING1:Cgt,FREENOTHING1:Sgt,HOOHACKS:Mgt,NJED:kgt,COPYAI:Egt,RAYCAST6:Tgt,RAYCAST3:Ngt,FREEMAGENTALOVE:jgt,FREEPPLXVIP:Agt,FREEUTA1:Rgt,DT:Lgt,MY:Ogt},S4="pplx.discount_code",Ik="pplx.discount_code_expiry",Pgt=()=>{const[e,t]=f.useState(null),[n,r]=f.useState(null),s=Qt(),a=wn(),i=ln(),l=a?.get("discount_code"),{$t:c}=ae(),u=Array.isArray(l)?l[0]:l,[d,h]=f.useState(u||null),{hasAccessToProFeatures:m}=cn(),g=f.useCallback(()=>{_t.removeItem(S4),_t.removeItem(Ik),r(null),t(null)},[]),v=f.useCallback(()=>{g(),h(null)},[g]),x=f.useCallback(()=>{if(n&&e)return;const C=_t.getItem(S4);C?.startsWith("REPLIT")?(t("/static/images/replit.svg"),r("/static/images/replit_dark.svg")):C?.startsWith("BREX")?(t("/static/images/brex.svg"),r("/static/images/brex_dark.svg")):(r(null),t(null))},[n,e]),b=f.useCallback(()=>{const C=_t.getItem(S4),S=_t.getItem(Ik);if(m){g();return}if(!(!C&&!u)){if(S&&new Date(S)<new Date){g();return}if(!C||u&&u!==C){const k=new Date;k.setDate(k.getDate()+2),_t.setItem(S4,String(u)),_t.setItem(Ik,k.toString()),h(String(u)),x(),i==="/pro"&&s.push("/",void 0,"Pro page");return}if(C){h(C),x();return}}},[u,x,m,i,g,s]),w=f.useCallback(C=>{for(const S in HZ)if(C&&C.startsWith(S))return HZ[S];return c({defaultMessage:"Redeem your promo code {discountCode}. Get started",id:"Vapo/CiOwF"},{discountCode:C})},[c]);return f.useEffect(()=>{b()},[u,b]),f.useMemo(()=>({discountCode:d,setDiscountCode:h,partnerLogoDark:n,partnerLogoLight:e,message:w(d??""),clearDiscountCode:v}),[v,d,w,n,e])},Igt=({reason:e})=>{const{$t:t}=ae(),{data:n,isLoading:r}=Ft({queryKey:Vat(),queryFn:()=>apt({reason:e})}),s=!!n?.institution;let a=n?.offer?.discount_str??void 0;!a&&s&&(a=t({defaultMessage:"$4.99",id:"ngR/pJs1LV"}));const i=n?.offer?.discount_type??void 0;return f.useMemo(()=>({userPromotionsLoading:r,discountPrice:a,discountType:i,showStudentDiscountContent:s,campaignId:n?.campaign?.id,institution:n?.institution}),[n?.campaign?.id,n?.institution,a,i,r,s])};var cR=(e=>(e.NONE="none",e.ACTIVE="active",e.TRIALING="trialing",e.PAST_DUE="past_due",e.INVOICE_PAST_DUE="invoice_past_due",e.WHITE_GLOVE_PAST_DUE="white_glove_past_due",e.CANCELED="canceled",e))(cR||{});const Dgt="https://www.perplexity.ai/hub/blog/eligible-uber-one-members-can-now-unlock-a-complimentary-full-year-of-perplexity-pro",Fgt=()=>{const{$t:e}=ae(),t=Qt(),{isMobileStyle:n}=qe(),[r,s]=f.useState(!1),a=()=>{r||(s(!0),t.push(Dgt))};return o.jsx(Rx,{variant:"good",title:e({defaultMessage:"{uberOne} members in the United States and Canada can redeem one free year of {perplexityPro}",id:"jo9fEuRnKx"},{uberOne:"Uber One",perplexityPro:"Perplexity Pro"}),onClick:a,isLoading:r,isMobileStyle:n})},Ugt=e=>["/onboarding/org/create"].includes(e),Bgt="gov_free_year";function Vgt(){const e="app-banner-inner",{message:t,discountCode:n,clearDiscountCode:r}=Pgt(),{hasAccessToProFeatures:s}=cn(),[a]=G6e(),[i]=Y6e(),l=ln(),{organization:c,orgUser:u}=Bn({reason:e}),d=[cR.NONE,cR.PAST_DUE],h=c?.stripe_status&&d.includes(c.stripe_status),m=u?.role==="ADMIN",g=wn(),v=Igt({reason:e}),x=v.campaignId===sgt,b=v.campaignId===Bgt;return m&&h&&!Ugt(l??"")?o.jsx(Jat,{orgStripeStatus:c?.stripe_status}):/(^\/$)|(^\/search)/.test(l??"")&&a?o.jsx(Pk,{partnerCode:a,partnerDiscountCode:i}):n&&!s&&!a?o.jsx(tgt,{message:t,discountCode:n,clearDiscountCode:r}):g?.get("utm_campaign")==="morningbrew_083024"&&g?.get("utm_source")==="newsletter"?o.jsx(Fgt,{}):x?o.jsx(Pk,{partnerCode:"edu",partnerDiscountCode:q6e,bannerVariant:"backToSchoolOrange"}):b&&!s?o.jsx(Pk,{partnerCode:"gov",partnerDiscountCode:"GOVFREEYEAR"}):null}const t1=72,yy=200,K6e=f.createContext(void 0),Eu=()=>{const e=f.useContext(K6e);if(!e)throw new Error("useAppLayout must be used within an AppLayoutProvider");return e},zgt=({children:e})=>{const[t,n]=f.useState(!1);return Gnt(),o.jsx(K6e.Provider,{value:{isMobileSidebarOpen:t,setMobileSidebarOpen:n},children:e})},Hgt=({children:e,ref:t})=>o.jsx(zgt,{children:o.jsx(Q,{variant:"offset",children:o.jsx("div",{className:"isolate flex h-[100dvh]",ref:t,children:e})})}),Wgt=({children:e})=>{const{isMobileStyle:t}=qe({evaluateOnInit:!0});return t?o.jsx(Wnt,{children:e}):o.jsx(o.Fragment,{children:e})},$gt=({children:e,fillHeight:t=!0,hasSidebar:n,ref:r})=>{const{isSidebarPinned:s}=On(),{isMobileStyle:a}=qe({evaluateOnInit:!0}),i=ln(),l=n&&!jfe(i),c=s&&!a&&l;return o.jsxs(je.div,{initial:{paddingLeft:c?yy:0},animate:{paddingLeft:c?yy:0},transition:{duration:.2,ease:Ar},className:W("erp-tab:p-0 md:gap-xs erp-tab:gap-0 lg:py-sm lg:pr-sm isolate flex h-auto max-h-screen min-w-0 grow flex-col"),ref:r,children:[o.jsx(AD,{inRenderingPlace:"sidecar",children:o.jsx(Vgt,{})}),o.jsxs(Q,{variant:"background",className:"@container/main erp-tab:rounded-none erp-tab:shadow-none erp-tab:shadow-left-sm relative isolate flex-1 overflow-clip bg-clip-border shadow-sm lg:rounded-lg",children:[o.jsx("div",{className:W("max-w-screen md:max-w-auto mx-auto flex w-full flex-col",{"h-full":t}),children:e}),o.jsx(Q,{className:W("rounded-inherit pointer-events-none absolute inset-0 z-20 hidden md:dark:block",l&&"md:erp-tab:!border-y-0 md:erp-tab:!border-r-0","md:dark:border")})]})]})},zC=({children:e,childrenWidth:t,containerClassName:n=""})=>{const r=Ls(t).with("small",()=>"max-w-screen-sm px-md md:px-lg").with("default",()=>"max-w-screen-md px-md md:px-lg").with("static",()=>"max-w-screen-lg px-md py-lg md:px-xl").with("large",()=>"max-w-threadWidth px-md md:px-lg").with("none",()=>"max-w-none").otherwise(()=>"max-w-screen-md px-md md:px-lg"),s=f.useRef(null);return o.jsx(hrt,{scrollContainerRef:s,children:o.jsx("div",{ref:s,className:"scrollable-container scrollbar-subtle flex flex-1 basis-0 overflow-auto [scrollbar-gutter:stable]",children:o.jsx("div",{className:W("mx-auto size-full",r,n),children:e})})})},iXt=({children:e,mobileHeader:t=!0})=>{const{isMobileStyle:n}=qe();return o.jsxs(o.Fragment,{children:[o.jsx("div",{children:t&&n&&o.jsx($nt,{})}),e]})},Q6e=f.createContext(null),qgt=({children:e})=>{const t=f.useRef(null),n=f.useRef(!1),r=ln(),{isWindowsApp:s}=sn(),[a,i]=f.useState(!1),l=!!(s&&r?.includes(S1)),c=f.useCallback(async()=>{const g=await QA({ref:t.current});i(g);const v=()=>i(!0),x=()=>i(!1);return qv("show",v,{ref:t.current}),qv("hide",x,{ref:t.current}),()=>{XA("show",{ref:t.current}),XA("hide",{ref:t.current})}},[t]),u=f.useCallback(async()=>{if(n.current)return le.info("Already creating window, skipping"),!1;if(t.current)try{return await QA({ref:t.current}),le.info("Existing window is still valid, skipping creation"),!0}catch{le.warn("Existing window reference is invalid, will create new window"),t.current=null}try{le.info("Starting panel window creation"),n.current=!0;const g=await Dut({width:720,height:350,transparent:!0,show:!1,frame:!1,alwaysOnTop:!0,type:"panel"});if(!g)throw new Error("Failed to create window - no window reference returned");const v=await Vut({ref:g});if(!v)throw new Error("Failed to get web contents");const x=await qut({webPreferences:{nodeIntegration:!0,contextIsolation:!1}});if(!x)throw new Error("Failed to create view");await Fut({ref:g,viewRef:x});const b=new URL(S1,window.location.origin).toString();await Gut({ref:v},b),t.current=g;const w=await c();if(w){const C=t.current;qv("close",w,{ref:C})}return qv("close",()=>{},{ref:g,preventDefault:!0}),!0}catch(g){return le.error("Error creating panel window: ",g),t.current=null,!1}finally{n.current=!1}},[c]),d=f.useCallback(async()=>{try{if(!t.current)return le.info("No panel window to hide"),!1;try{return await But({ref:t.current}),!0}catch(g){return le.warn("Error hiding panel, window may be invalid",g),t.current=null,!1}}catch(g){return le.warn("Error in hidePanel: ",g),!1}},[]),h=f.useCallback(async()=>{try{if(t.current){if(a){le.info("Panel window is already visible, skipping centering");return}}else if(!await u())return;const g=await Wut(),v=(await $ut(g)).bounds,[x,b]=await Uut({ref:t.current});await zut({ref:t.current},Math.round(v.x+(v.width-x)/2),Math.round(v.y+v.height*.3)),await NF({ref:t.current}),await TF({ref:t.current})}catch(g){le.warn("Error showing panel: ",g)}},[u,a]),m={isVisible:a,isWindowsAppPanelView:l,handleShowPanel:h,hidePanel:d,createPanelWindow:u};return o.jsx(Q6e.Provider,{value:m,children:e})},Bg=()=>{const e=f.useContext(Q6e);if(!e)throw new Error("useWindowsAppPanel must be used within a WindowsAppPanelProvider");return e},uR="keyboard-shortcuts",Ggt=(e,t)=>{const n={[Ys.NEW_THREAD]:{[dr.MACOS]:[],[dr.WINDOWS]:[]},[Ys.STOP_GENERATING]:{[dr.MACOS]:[],[dr.WINDOWS]:[]},[Ys.TOGGLE_INCOGNITO]:{[dr.MACOS]:[],[dr.WINDOWS]:[]},[Ys.SHOW_SHORTCUTS]:{[dr.MACOS]:[],[dr.WINDOWS]:[]},[Ys.FOCUS_ASK_INPUT]:{[dr.MACOS]:[],[dr.WINDOWS]:[]},[Ys.TOGGLE_DICTATION]:{[dr.MACOS]:[],[dr.WINDOWS]:[]},[Ys.TOGGLE_V2V]:{[dr.MACOS]:[],[dr.WINDOWS]:[]}},r=_me(e,t);[Ys.NEW_THREAD,Ys.TOGGLE_V2V].forEach(s=>{const a=r.find(i=>i.type===s);a&&(n[s]={[dr.MACOS]:a.macos,[dr.WINDOWS]:a.windows})});try{const s=_t.getItem(uR);if(s){const a=JSON.parse(s);[Ys.NEW_THREAD,Ys.TOGGLE_V2V].forEach(i=>{const l=a.find(c=>c.type===i);l&&(n[i]={[dr.MACOS]:l.macos,[dr.WINDOWS]:l.windows})})}}catch(s){le.warn("Error reading keyboard shortcuts:",s)}return n},Ygt=(e,t)=>uo(n=>({globalShortcuts:Ggt(e,t),setShortcut:(r,s,a)=>n(i=>{const l={...i.globalShortcuts,[r]:{...i.globalShortcuts[r],[s]:a}};try{const c=_t.getItem(uR),d=(c?JSON.parse(c):[]).map(h=>h.type===r?{...h,[s]:a}:h);_t.setItem(uR,JSON.stringify(d))}catch(c){le.warn("Error saving keyboard shortcuts:",c)}return{globalShortcuts:l}})}));let Dk=null;const dR=e=>{const{isWindowsApp:t}=sn(),n=ae();return Dk||(Dk=Ygt(n,t)),Dk(e)},X6e=L.memo(({collapsed:e})=>{const{$t:t}=ae(),{isMacOS:n,isWindowsApp:r}=sn(),{handleShowPanel:s}=Bg(),{shouldShowLossAversionModal:a,handleOpenLossAversion:i}=Ug(),l=Qt(),c=dR(g=>g.globalShortcuts[Ys.NEW_THREAD]),u=n?dr.MACOS:dr.WINDOWS,d=f.useMemo(()=>c[u],[u,c]),h=f.useMemo(()=>d.map(g=>Qlt(g)),[d]),m=f.useCallback(()=>{r?s():a?i({args:{callback:()=>{l.push("/",void 0,"New thread loss aversion")},origin:gt.NEW_THREAD_BUTTON}}):l.push("/",void 0,"New thread button")},[r,a,s,i,l]);return o.jsx("div",{onClick:m,className:e?"-mb-sm py-lg":"pt-sm",children:e?o.jsx("div",{className:"flex items-center justify-center",children:o.jsx(Le,{tooltipLayout:"right",icon:$r,pill:!0,toolTip:t({defaultMessage:"New Thread",id:"76XSxT3hV8"})})}):o.jsx("div",{className:"ml-xs",children:o.jsxs(Q,{variant:"background",className:"mx-md py-sm pl-md pr-sm hover:ring-super group flex flex-none cursor-pointer select-none items-center justify-between rounded-full border ring-1 ring-transparent transition duration-200",children:[o.jsx(F,{variant:"smallBold",color:"light",className:"line-clamp-1 overflow-hidden text-clip",children:t({defaultMessage:"New Thread",id:"76XSxT3hV8"})}),o.jsx(F,{variant:"tiny",color:"light",className:"flex items-center gap-0 whitespace-nowrap",children:h.map(g=>o.jsx(Q,{className:W("flex items-center justify-center rounded border font-mono",{"text-xs":g!=="⌘","px-xs h-4 min-w-4":h.length<=2,"px-xs h-3.5 min-w-3.5":h.length===3}),children:g},g))})]})})})});X6e.displayName="NewThreadButton";const mf=L.memo(({size:e,inverse:t})=>o.jsx(Q,{variant:"background",className:W("w-lg text-textMain flex aspect-square shrink-0 items-center justify-center rounded-full border",{"!w-[24px]":e==="small","!w-[16px]":e==="tiny"},{"!bg-textMain !text-background dark:!bg-textMainDark dark:!text-backgroundDark border-0":t}),children:o.jsx("svg",{width:e==="tiny"?"12":e==="small"?"16":"24",height:"auto",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.1927 4.54688C11.4375 4.71875 11.651 4.86458 12 4.86458C12.3453 4.86458 12.5529 4.72184 12.7993 4.55235L12.8073 4.54688L12.8084 4.54609C13.152 4.31187 13.5635 4.03125 14.5 4.03125C16.0885 4.03125 17.2083 6.30729 17.9375 8.6875C20.401 9.14062 22 9.875 22 10.6979C22 11.4427 20.6979 12.1094 18.6354 12.5677C18.6562 12.776 18.6667 12.9844 18.6667 13.1979C18.6667 14.0833 18.4948 14.9271 18.1823 15.6979H18.1965C17.2165 18.1697 14.8115 19.9169 12 19.9169C9.18854 19.9169 6.78355 18.1697 5.80356 15.6979H5.81771C5.50521 14.9271 5.33333 14.0833 5.33333 13.1979C5.33333 12.9844 5.34375 12.776 5.36458 12.5677C3.30208 12.1094 2 11.4427 2 10.6979C2 9.875 3.59896 9.14062 6.0625 8.6875C6.79167 6.30729 7.91146 4.03125 9.5 4.03125C10.4365 4.03125 10.848 4.31187 11.1916 4.54609L11.1927 4.54688ZM14.2708 15.6979H14.9167C16.0677 15.6979 17 14.7656 17 13.6146V12.8646C15.5312 13.0781 13.8229 13.1979 12 13.1979C10.1771 13.1979 8.46875 13.0781 7 12.8646V13.6146C7 14.7656 7.93229 15.6979 9.08333 15.6979H9.73437C10.5885 15.6979 11.3542 15.1458 11.625 14.3333C11.7448 13.9687 12.2604 13.9687 12.3802 14.3333C12.651 15.1458 13.4115 15.6979 14.2708 15.6979Z",fill:"currentColor"})})}));mf.displayName="IncognitoIcon";var Fk={},WZ;function Kgt(){return WZ||(WZ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="building",r=384,s=512,a=[127970,61687],i="f1ad",l="M48 0C21.5 0 0 21.5 0 48L0 464c0 26.5 21.5 48 48 48l96 0 0-80c0-26.5 21.5-48 48-48s48 21.5 48 48l0 80 96 0c26.5 0 48-21.5 48-48l0-416c0-26.5-21.5-48-48-48L48 0zM64 240c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zm112-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16zm80 16c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zM80 96l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16zm80 16c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32zM272 96l32 0c8.8 0 16 7.2 16 16l0 32c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-32c0-8.8 7.2-16 16-16z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faBuilding=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(Fk)),Fk}var Qgt=Kgt();const Xgt="#FF3B30",KF=L.memo(({text:e,variant:t})=>{const{openModal:n}=Gt(),{trackEvent:r}=Ye(),[s,a]=f.useState(!1),i=dD();f.useEffect(()=>{a(i>5&&!N1())},[i]);const l=f.useCallback(()=>{aC(),r("homepage footer download menu opened",{}),n("platformOptionsModal")},[n,r]),c=f.useMemo(()=>o.jsxs("div",{className:"relative ml-auto",children:[o.jsx(Ne,{icon:R_,className:"size-4"}),s&&o.jsx("div",{className:W("absolute size-2 rounded-full",{"-right-1 -top-1":t!=="iconOnly","-right-sm -top-sm ring-offset ring-2":t==="iconOnly"}),style:{backgroundColor:Xgt}})]}),[s,t]);return o.jsx(Le,{size:"small",text:t==="iconOnly"?void 0:e,trailingComponent:c,pill:t==="iconOnly",fullWidth:t!=="iconOnly",onClick:l})});KF.displayName="SideDownloadPrompt";const Dc="/account",ml={Account:{href:`${Dc}/details`},ProPerks:{href:`${Dc}/pro-perks`},Preferences:{href:`${Dc}/preferences`},Personalize:{href:`${Dc}/personalize`},Connectors:{href:`${Dc}/connectors`},Notifications:{href:`${Dc}/notifications`},Tasks:{href:`${Dc}/tasks`}},Zgt=()=>`${Dc}/details`,Vg=()=>Dc,Jgt=({isEnterprise:e})=>{const t="enterprise-or-social",{$t:n}=ae(),{organization:r,isLoading:s}=Bn({reason:t}),{isWindowsApp:a}=sn(),i=Vg();return s&&!a?o.jsx(Kn,{className:"p-sm divide-borderMain/50 border-borderMain/50 ring-borderMain/50 dark:divide-borderMainDark/50 dark:border-borderMainDark/50 dark:ring-borderMainDark/50 h-14 border-t",children:o.jsx("div",{className:"bg-background-300 h-8 w-full rounded-md"})}):o.jsxs("div",{className:e||!a?"h-14 items-stretch":"",children:[e&&o.jsx(Q,{className:"p-sm h-full border-t",children:o.jsx(Nt,{href:e?`${i}/org`:"",children:o.jsxs(Q,{className:"gap-sm p-sm flex cursor-pointer items-center rounded-full",bgHover:"offsetPlus",children:[r?.logo?o.jsx(sr,{size:"small",user:r?.logo,altText:"Logo"}):o.jsx(F,{children:o.jsx(jt,{icon:Qgt.faBuilding})}),o.jsx(F,{variant:"smallBold",className:"line-clamp-1 grow",children:r?.display_name})]})})}),!e&&!a&&o.jsx(Q,{className:"p-sm border-t",children:o.jsx(KF,{text:n({defaultMessage:"Download",id:"5q3qC0sC3r"})})})]})};var Uk={},$Z;function e0t(){return $Z||($Z=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="check",r=448,s=512,a=[10003,10004],i="f00c",l="M441 103c9.4 9.4 9.4 24.6 0 33.9L177 401c-9.4 9.4-24.6 9.4-33.9 0L7 265c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l119 119L407 103c9.4-9.4 24.6-9.4 33.9 0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faCheck=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(Uk)),Uk}var HC=e0t(),Bk={},Vk={},qZ;function t0t(){return qZ||(qZ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="circle-question",r=512,s=512,a=[62108,"question-circle"],i="f059",l="M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm169.8-90.7c7.9-22.3 29.1-37.3 52.8-37.3l58.3 0c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24l0-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1l-58.3 0c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faCircleQuestion=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(Vk)),Vk}var GZ;function n0t(){return GZ||(GZ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=t0t();e.definition={prefix:t.prefix,iconName:t.iconName,icon:[t.width,t.height,t.aliases,t.unicode,t.svgPathData]},e.faQuestionCircle=e.definition,e.prefix=t.prefix,e.iconName=t.iconName,e.width=t.width,e.height=t.height,e.ligatures=t.aliases,e.unicode=t.unicode,e.svgPathData=t.svgPathData,e.aliases=t.aliases}(Bk)),Bk}var r0t=n0t();const QF=L.memo(({showAvatar:e,showCreatorLabel:t,showEdit:n,isCurrentUser:r=!0,textClassName:s="",textColor:a,textVariant:i="smallBold",username:l,image:c,anon:u,avatarSize:d="small",isAlwaysEditing:h=!1,onButtonClick:m=Yn})=>{const{$t:g}=ae(),{update:v}=Jo.useSession(),x=on(),[b,w]=L.useState(h),[C,S]=L.useState(l??(r?x?.user?.username:"Anonymous")),[k,E]=L.useState(),{isMobileUserAgent:T}=qe(),j=async()=>fetch("/api/user",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:C})}),{mutate:N,isPending:R}=Kt({mutationFn:j,onSuccess:z=>{z.json().then(V=>{if(z.status!==200){E(V.message);return}w(!1),E(void 0),v(),m()})}});f.useEffect(()=>{S(l??(r?x?.user?.username:"Anonymous"))},[l,r,x?.user?.username]);const O=f.useCallback(()=>w(!0),[]),I=f.useCallback(()=>N(),[N]),B=f.useCallback(()=>{S(x?.user?.username??""),h||w(!1),m()},[h,m,x?.user?.username]),D=f.useMemo(()=>x?o.jsxs("div",{className:"ml-sm gap-x-xs flex items-center",children:[o.jsx(Le,{text:g({defaultMessage:"Save",id:"jvo0vs3nF0"}),variant:C===x.user.username||C===""||R?"common":"primary",size:"small",disabled:C===x.user.username||C===""||R,onClick:I}),o.jsx(Le,{text:g({defaultMessage:"Cancel",id:"47FYwba+bI"}),size:"small",disabled:R,onClick:B})]}):null,[g,B,I,R,x,C]);return o.jsxs("div",{className:"gap-x-xs relative flex items-center",children:[e&&o.jsx(sr,{size:d,anon:u,user:c??(r?x?.user.image??void 0:void 0)}),b?o.jsx("div",{children:o.jsx(lf,{isMobileUserAgent:T,value:C,disabled:R,errorText:k??(C===""?"Username cannot be empty":""),onChange:S,className:"md:min-w-[300px]",inlineEditBlock:D})}):o.jsx(F,{variant:i,color:a,className:W("line-clamp-1 break-all",s),children:u?"Anonymous":C}),t&&o.jsx(Q,{variant:"offset",className:"px-sm py-xs rounded-full",children:o.jsx(F,{variant:"tiny",color:"light",className:s,children:"Author"})}),n&&!b&&o.jsx(it,{pill:!0,size:"small",icon:am,onClick:O})]})});QF.displayName="Username";const Z6e=({session:e,onClick:t})=>{const n="sidebar-incognito-menu",{$t:r}=ae(),s=Fa({reason:n}),{actions:a}=On(),{hasAccessToProFeatures:i,isPro:l,isMax:c}=cn(),u=f.useCallback(()=>{a.setIsIncognito(!1),t()},[a,t]),d=f.useCallback(()=>{a.setIsIncognito(!0),t()},[a,t]);return o.jsxs("div",{className:"w-sideBarWidth flex flex-col items-stretch",children:[o.jsx(YZ,{onClick:u,icon:o.jsx("div",{className:`relative inline-flex ${i?"-top-[2px]":""}`,children:o.jsx(sr,{size:"medium",user:e?.user?.image,showProBadge:l,showMaxBadge:c,className:"!text-raised dark:!text-backgroundDark",showBackground:!1})}),label:o.jsx("div",{className:"gap-sm flex items-center",children:o.jsx(QF,{username:e?.user?.username})}),selected:!s},"user"),o.jsx(YZ,{onClick:d,icon:o.jsx(mf,{inverse:!0}),label:r({defaultMessage:"Incognito",id:"Sp8UUpZ0at"}),selected:s,showTooltip:!0},"incognito")]})},YZ=({onClick:e,label:t,selected:n,icon:r,showTooltip:s})=>{const{$t:a}=ae();return o.jsxs(Q,{as:"button",bgHover:"offset",className:"gap-sm p-sm pr-md flex items-center rounded-md active:scale-[.98]",onClick:e,children:[r,typeof t=="string"?o.jsx(F,{variant:"smallBold",children:t}):t,o.jsx("div",{className:"flex-1"}),n?o.jsx("span",{className:"text-super",children:o.jsx(jt,{icon:HC.faCheck,size:"sm"})}):s&&o.jsx(Mn,{className:"max-w-[280px]",tooltipText:a({defaultMessage:"Create anonymous threads that don't appear in your library and expire after 24 hours.",id:"BBjMWPmxC0"}),keyboardShortcut:Fle?["⌘",";"]:["ctrl",";"],tooltipLayout:"right",asChild:!0,children:o.jsx(F,{color:"light",className:"opacity-50 duration-150 hover:opacity-100",children:o.jsx(jt,{icon:r0t.faQuestionCircle,size:"sm"})})})]})},s0t=({children:e})=>{const[t,n]=f.useState(!1),r=on(),s=()=>{n(!1)};return o.jsx(lo,{childrenClassName:"inline-flex min-w-0",placement:"top-start",isOpen:t,onOpen:()=>{n(!0)},onClose:()=>{n(!1)},content:o.jsx(Z6e,{session:r,onClick:s}),children:e})},a0t="pplx.first-purchase-tooltip",i0t=({imageProps:e,title:t,description:n,buttonText:r,buttonVariant:s,onClick:a,onDismiss:i,useBackgroundImage:l=!1,buttonSize:c="small"})=>{const{image:u,imageAlt:d,imageHeight:h,imageWidth:m,imageClassName:g,imageIsRoundedFull:v}=e;return o.jsx("div",{className:"m-1",children:o.jsxs(Q,{variant:l?"offsetPlus":"background",className:W("relative",l?"mx-md p-md animate-in fade-in rounded-[12px] border duration-300 ease-out":"mx-sm rounded-lg p-[10px]"),children:[l&&o.jsxs(o.Fragment,{children:[o.jsx("img",{src:Hze,alt:tY,className:"absolute inset-0 rounded-[12px] object-cover dark:hidden"}),o.jsx("img",{src:Wze,alt:tY,className:"light:hidden absolute inset-0 rounded-[12px] object-cover"})]}),o.jsx("img",{src:u,alt:d,className:W("mb-md",v?"rounded-full":"rounded",g),height:h,width:m}),o.jsx(F,{variant:"smallBold",className:"mb-xs text-center",children:t}),o.jsx(F,{color:"light",variant:"small",className:"mb-md text-center leading-tight",children:n}),o.jsx("div",{className:"w-full",children:o.jsx(Le,{fullWidth:!0,text:r,variant:s,size:c,onClick:a})}),i&&o.jsx("div",{className:"right-xs top-xs absolute",children:o.jsx(it,{icon:yn,size:"small",onClick:i})})]})})},J6e=L.memo(()=>{const e=ae(),{trackEvent:t}=Ye(),n=Qt(),{actions:r}=On(),s=Vg(),a=f.useCallback(()=>{r.setIsSidebarConnectorsAdDismissed(!0),t("sidebar connectors upsell clicked",{}),n.push(`${s}/connectors`)},[r,t,n,s]),i=f.useCallback(()=>{t("sidebar connectors upsell dismissed",{}),r.setIsSidebarConnectorsAdDismissed(!0)},[r,t]),l=f.useMemo(()=>({image:Yze,imageAlt:"Sidebar connectors showcase image",imageHeight:128,imageWidth:128,imageClassName:"mx-auto mt-md"}),[]);return o.jsx(i0t,{imageProps:l,title:e.formatMessage({defaultMessage:"Connect your files",id:"tQyDiwqfQw"}),description:"",buttonText:e.formatMessage({defaultMessage:"Get started",id:"/aBLH2Kytu"}),buttonVariant:"primary",buttonSize:"regular",onClick:a,onDismiss:i,useBackgroundImage:!0})});J6e.displayName="SidebarConnectorsAd";const o0t=()=>{const{$t:e}=ae(),{actions:t}=On(),{isEnterpriseAdDismissed:n}=On(),{handleSidebarAdClick:r}=Mhe();return n?null:o.jsxs(Q,{className:"px-md pb-sm",children:[o.jsxs("div",{className:"gap-x-xs flex items-center justify-between",children:[o.jsx(F,{variant:"smallBold",className:"inline",children:o.jsx(Nt,{onClick:r,className:"hover:text-super duration-300",children:e({defaultMessage:"Invite your teammates",id:"P1ZqgVAx88"})})}),o.jsx("div",{className:"-mr-sm",children:o.jsx(it,{ariaLabel:e({defaultMessage:"Close",id:"rbrahOGMC3"}),icon:yn,size:"small",pill:!0,onClick:()=>t.setIsEnterpriseAdDismissed(!0)})})]}),o.jsx(F,{color:"light",variant:"small",className:"-mt-xs",children:e({defaultMessage:"Want to use Perplexity with your team or business?",id:"6vISFfmj6M"})}),o.jsx("div",{className:"mt-sm gap-x-sm flex",children:o.jsx(Le,{size:"small",onClick:r,fullWidth:!0,chevron:!0,chevronIcon:xa,text:e({defaultMessage:"Learn More",id:"7DIW6+rckr"})})})]})},l0t=async({stringProperties:e,headers:t,reason:n})=>{if(!t["accept-language"])return le.warn("No accept-language header provided for translation request"),e;const r=await me.POST("/rest/translation/translate",n,{body:{texts:e},headers:{...t}});return r.response.ok?r.data?.translated_texts??[]:(le.error(`Failed to fetch translations for ${e.join(", ")}}`),[])},c0t=e=>e==null||e==="";async function e_e({originalContent:e,keysToTranslate:t,reason:n}){const r=Sd();if(r===Fd)return e;const s=t.map(i=>e[i]);if(s.some(c0t))return e;const a=await l0t({stringProperties:s,headers:{"accept-language":r},reason:n});if(a.length===s.length){const i={...e};return t.forEach((l,c)=>{i[l]=a[c]}),i}return e}const u0t=()=>{const e="subs-ad",[t,n]=f.useState(!1),{hasActiveSubscription:r}=cn(),{trackEvent:s}=Ye(),[a,i]=f.useState({bannerTitleText:"",bannerBodyText:"",bannerButtonText:"",buttonVariant:"common"}),{value:l}=Sg({flag:"pro-upsell-banner-customization-flag",subjectType:"user_nextauth_id",defaultValue:{bannerTitleText:"",bannerBodyText:"",bannerButtonText:"",buttonVariant:"common"}});if(f.useEffect(()=>{(async()=>{const m=await e_e({originalContent:l,keysToTranslate:["bannerTitleText","bannerBodyText","bannerButtonText"],reason:e});i(m),n(!0)})()},[l]),f.useEffect(()=>{r||s("sidebar pro upsell viewed",{})},[r,s]),r)return null;const{bannerTitleText:c,bannerBodyText:u,bannerButtonText:d}=a;return!t||!c||!u||!d?null:o.jsxs(Q,{className:"px-md pb-sm animate-in fade-in duration-200",children:[o.jsx("div",{children:o.jsx(F,{variant:"smallBold",className:"inline",children:o.jsx(Nt,{href:"/pro",className:"hover:text-super duration-300",children:c})})}),o.jsx(F,{color:"light",variant:"small",children:u}),o.jsx("div",{className:"mt-xs",children:o.jsx(F6e,{text:d,origin:gt.LEFT_HAND_NAV,variant:l.buttonVariant})})]})};function d0t({reason:e}){const{organization:t}=Bn({reason:e}),n=t?.uuid??"",{value:r}=vs({flag:"org-connectors-blocklist",subjectType:"user_nextauth_id",defaultValue:!1,extraAttributes:{orgUuid:n}});return r}const f0t=({reason:e})=>{const{organization:t}=Bn({reason:e}),n=t?.settings?.disabled_connectors,r=n?.includes(Gn.GOOGLE_DRIVE)&&n?.includes(Gn.ONEDRIVE)&&n?.includes(Gn.SHAREPOINT);return f.useMemo(()=>({allFileConnectorsDisabled:r,disabledConnectors:n}),[r,n])},h0t=()=>{const e="sidebar-ads",{hasAccessToProFeatures:t}=cn(),{isEnterprise:n,orgUser:r,isLoading:s}=Bn({reason:e}),a=r?.role==="MEMBER",i=Ct(),{hasLoadedSettings:l}=Ua({reason:e}),{isSidebarConnectorsAdDismissed:c}=On(),u=d0t({reason:e}),{allFileConnectorsDisabled:d}=f0t({reason:e});if(s||!l)return null;const h=i&&!a,m=!n&&!s&&t;return n&&t&&!s&&!c&&!u&&!d?o.jsx(J6e,{}):!h&&!m?null:o.jsxs(o.Fragment,{children:[h&&o.jsx(u0t,{}),m&&o.jsx(o0t,{})]})},m0t=L.memo(()=>o.jsx(Q,{variant:"offset",className:"inline-flex h-5 items-center rounded px-[6px] py-px",children:o.jsx(F,{color:"light",variant:"micro",className:"translate-y-[0.5px] uppercase tracking-wider",children:o.jsx(Ve,{defaultMessage:"Beta",id:"riw/yc06Nq"})})}));m0t.displayName="BetaBadge";const p0t=L.memo(()=>o.jsx("div",{className:"bg-super dark inline-flex h-5 items-center justify-center rounded px-[6px] py-px",children:o.jsx(F,{color:"white",variant:"tinyRegular",children:o.jsx(Ve,{defaultMessage:"New",id:"bW7B87wFFp"})})}));p0t.displayName="NewBadge";const g0t=({enabled:e,reason:t})=>{const{locale:n}=ae(),r=n?{"accept-language":n}:{},s=async()=>Uct({headers:r,reason:t}),a=Ct(),{data:i}=Ft({enabled:a?typeof e>"u"?!0:e:!1,queryKey:Bat(),queryFn:s,networkMode:"always"});return i??jme},v0t={memory_enabled:!1,conversation_history_enabled:!1,citations_enabled:!1},t_e=({reason:e})=>{const{isEnterprise:t}=Bn({reason:e}),{value:n,loading:r}=vs({flag:"memory-experiment",defaultValue:!1,extraAttributes:{isEnterprise:t??!1},subjectType:"user_nextauth_id"}),{value:s,loading:a}=Sg({flag:"memory-search-history",defaultValue:v0t,extraAttributes:{isEnterprise:t??!1,dependent_flag:"memory-experiment",variation_served:n},subjectType:"user_nextauth_id"});return a||r?!1:"memory_enabled"in s&&"conversation_history_enabled"in s&&"citations_enabled"in s?s?.memory_enabled&&s?.conversation_history_enabled&&s?.citations_enabled:!1},n_e=()=>{const e=ln();return Ln()&&e?.startsWith("/b/home")},y0t=["/?","/search","/discover"],x0t=["/"],XF=e=>e?!x0t.some(t=>e===t)&&!y0t.some(t=>e.startsWith(t)):!0,fR=()=>Ds.getItem("signUpBannerDismissed")!=="true",b0t=()=>Ds.setItem("signUpBannerDismissed","true"),w0t=()=>Ds.setItem("signUpBannerDismissed","reset"),_0t=L.memo(({portalTarget:e})=>{const{$t:t}=ae(),[n,r]=f.useState(!1),s=ln(),{trackEvent:a}=Ye(),{keysRequiringRerender:i,removeKeyRequiringRerender:l,addKeyRequiringRerender:c}=of(),u=n_e(),[d,h]=f.useState(""),m=f.useCallback(()=>{h(kF(window.location.href,sm,gt.FLOATING_SIGNUP))},[]);if(f.useEffect(()=>{m()},[m]),f.useEffect(()=>{r(fR())},[]),f.useEffect(()=>{i.includes("floating-signup")&&(r(fR()),m()),l("floating-signup")},[l,i]),f.useEffect(()=>{n&&a("floating sign up shown",{})},[n,a]),XF(s)&&!u||!n)return null;const g=()=>{r(!1),b0t(),a("floating sign up dismissed",{}),c("sidebar-sign-in-button")};return o.jsx(Ng,{portalTarget:e??void 0,children:o.jsx("div",{className:"bottom-md right-md fixed hidden w-[300px] md:block",children:o.jsx(Q,{variant:"offset",className:W("px-md py-lg animate-in fade-in rounded-lg shadow-md duration-300 ease-out"),children:o.jsxs("div",{className:"",children:[o.jsx("div",{className:"absolute right-0 top-0",children:o.jsx(it,{pill:!0,size:"small",icon:yn,onClick:g,testId:"floating-signup-close-button"})}),o.jsx("div",{className:"pb-md flex justify-center",children:o.jsx(Ei,{variant:"mark",color:"super",size:"small"})}),o.jsx(F,{variant:"baseSemi",className:"mb-xs text-center",children:t({defaultMessage:"Sign in or create an account",id:"eN8MTJfuKA"})}),o.jsx(F,{variant:"small",color:"light",className:"text-center",children:t({defaultMessage:"Unlock {proSearch} and History",id:"azC54WXvtr"},{proSearch:"Pro Search"})}),o.jsx("div",{className:"mt-md",children:o.jsx(Qw,{onClose:g,redirectUrl:d,showCloseButton:!1,autoFocus:!1,loginButtonsStyle:"highlightPrimary"})})]})})})})});function zg(){return Fs({flag:"tasks-automations-rename",defaultValue:!1})}const Tc="default",r_e=({trigger:e,popoverPlacement:t="top-start"})=>{const n=Qt(),[r,s]=f.useState(!1),a=Ct(),{hasAccessToProFeatures:i}=cn(),{isMaxUpsellEnabled:l}=ff(),c=t_e({reason:"sidebar-bottom-popover"}),{openModal:u}=Gt(),d=f.useRef(lD().sidebar),{openVisitorLoginUpsell:h}=Br({enabled:!a}),{isWindowsApp:m}=sn(),{$t:g}=ae(),v=fR(),[x,b]=f.useState(m),[w,C]=f.useState(!1),{keysRequiringRerender:S,removeKeyRequiringRerender:k}=of(),E=c&&!d.current&&Ude(),T=Vet(),{value:j,loading:N}=zg();f.useEffect(()=>{!d.current&&r&&Bet("sidebar",!0)},[r]);const R=f.useMemo(()=>[{icon:xY,show:!0,text:g({defaultMessage:"Account",id:"TwyMauNL3r"}),type:Tc,onClick:()=>n.push(ml.Account.href),testId:"sidebar-my-account"},{icon:Bj,show:!0,text:g({defaultMessage:"Preferences",id:"PCSt5TwTnx"}),type:Tc,onClick:()=>n.push(ml.Preferences.href),testId:"sidebar-preferences"},{icon:i$e,show:!0,text:g({defaultMessage:"Personalization",id:"FAejG+JVWn"}),type:Tc,onClick:()=>n.push(ml.Personalize.href),testId:"sidebar-personalize",...E&&{rightElement:o.jsx(Ne,{icon:CY,color:"currentColor",className:"text-super"})}},{icon:Th,show:!0,text:g(j?{defaultMessage:"Automations",id:"ORNSnD2XJb"}:{defaultMessage:"Tasks",id:"yhU1etXT1A"}),type:Tc,onClick:()=>{i?n.push(ml.Tasks.href):n.push("/?upsell=tasks",void 0,"Tasks sidebar upsell redirect")},testId:"sidebar-tasks",...!T&&{rightElement:o.jsx(Ne,{icon:CY,color:"currentColor",className:"text-super"})}},{icon:fx,show:!0,text:g({defaultMessage:"Notifications",id:"NAidKbB0vi"}),type:Tc,onClick:()=>n.push(ml.Notifications.href),testId:"sidebar-notifications"},{icon:L_,show:!0,text:g({defaultMessage:"Connectors",id:"2mMJRvsAg1"}),type:Tc,onClick:()=>n.push(ml.Connectors.href),testId:"sidebar-connectors"},{icon:hWe,show:!0,text:g({defaultMessage:"Pro Perks",id:"x69637XBwS"}),type:Tc,onClick:()=>n.push(ml.ProPerks.href),testId:"sidebar-pro-perks"},{icon:dI,show:!0,text:g({defaultMessage:"All settings",id:"IzEySeOy5/"}),type:Tc,onClick:()=>n.push(ml.Account.href),testId:"sidebar-settings"},{type:"separator",show:l,className:"!border-b-background-200 !border-b !-mx-1 mb-1"},{icon:_We,show:l,text:g({defaultMessage:"View plans",id:"EaucLAoHiC"}),type:Tc,onClick:()=>{u("pricingModal",{origin:gt.SIDEBAR_BOTTOM_POPOVER,pitchMessage:{title:g({defaultMessage:"Select your plan",id:"kujKpiV0z4"})}})},testId:"sidebar-view-plans"}],[g,E,j,T,l,n,i,u]);f.useEffect(()=>{S.includes("sidebar-sign-in-button")&&b(!0),k("sidebar-sign-in-button")},[k,S]),f.useEffect(()=>{v||b(!0)},[v]),f.useEffect(()=>{requestAnimationFrame(()=>{C(!0)})},[]);const{trackEvent:O}=Ye();return!a&&!x||N?null:a?o.jsx(Rn,{placement:t,items:R,footer:o.jsx(C0t,{handleClick:()=>s(!1)}),isMobileStyle:!1,isOpen:r,onOpen:()=>s(!0),onClose:()=>s(!1),menuItemClassName:"gap-md",wrapperClassName:"inline-flex",children:o.jsx("div",{onClick:()=>s(!r),className:"inline-flex w-full","data-testid":"sidebar-popover-trigger-signed-in",children:e(r)})}):o.jsx("div",{className:"relative inline-flex justify-center duration-150 hover:opacity-80",children:o.jsxs(je.button,{initial:w?{opacity:0,scale:.5}:void 0,animate:w?{opacity:1,scale:1}:void 0,className:"inline-flex appearance-none flex-col items-center justify-center",onClick:()=>{O("sidebar sign in button clicked"),h({origin:gt.SIGNUP_BUTTON})},children:[o.jsx("div",{className:"p-1",children:o.jsx(Q,{variant:"super",className:"flex size-8 items-center justify-center rounded-full",children:o.jsx(xY,{className:"text-background-100 size-5"})})}),o.jsx(F,{variant:"tinyRegular",className:"text-center",color:"super",children:g({defaultMessage:"Sign In",id:"Ub+AGcdPg6"})})]})})},C0t=({handleClick:e})=>{const t=on();return o.jsx("div",{className:"border-t-background-200 border-t pt-2",children:t&&o.jsx(Z6e,{session:t,onClick:e})})},S0t=()=>{const e="collapsed-bottom-items",t=Ct(),{organization:n,isEnterprise:r}=Bn({reason:e}),s=Fa({reason:e}),a=Vg();return o.jsx(o.Fragment,{children:t&&o.jsxs(Q,{className:"mb-md gap-sm pt-sm flex flex-col items-center justify-center border-t",children:[o.jsx(r_e,{trigger:()=>o.jsx(M0t,{isIncognito:s})}),r&&o.jsx(Q,{className:"px-two pb-sm pt-md flex justify-center border-t",children:o.jsx(Nt,{href:`${a}/org`,children:n?.logo?o.jsx(sr,{size:"medium",user:n?.logo,altText:"Logo"}):o.jsx(Le,{ariaLabel:"Organization settings",pill:!0,size:"small",variant:"inverted",icon:Vj})})})]})})},M0t=({isIncognito:e})=>{const t=on(),{isMax:n,isPro:r,hasAccessToProFeatures:s}=cn();return o.jsx(Q,{as:"button",bgHover:"offsetPlus",className:"mb-xs mt-xs gap-x-sm relative flex items-center justify-between rounded-full",children:o.jsx("div",{className:"flex items-center gap-[1px]",children:o.jsxs("div",{className:"p-xs relative flex",children:[e?o.jsx("div",{className:"w-[32px]",children:o.jsx(mf,{inverse:!0})}):o.jsx(sr,{size:"medium",user:t?.user?.image,showProBadge:r,showMaxBadge:n}),!s&&o.jsx(F,{color:"ultraLight",className:"bg-offset absolute bottom-0 right-20 inline-flex -translate-y-[2px] translate-x-[4px] rounded-full p-[2px]",children:o.jsx(jt,{icon:_C.faChevronDown,size:"2xs"})})]})})})},k0t=()=>{const e="uncollapsed-bottom-items",{$t:t}=ae(),{isPro:n,isMax:r}=cn(),{isEnterprise:s}=Bn({reason:e}),a=Ct(),{status:i}=Jo.useSession(),l=on(),c=Fa({reason:e}),u=Qt(),{isMobileStyle:d}=qe(),[h,,m]=$pe(a0t,null);f.useEffect(()=>{h&&setTimeout(()=>{m()},5e3)},[m,h]);const g=Zgt(),v=()=>{h&&m(),u.push(g)};return o.jsxs("div",{className:"gap-md flex flex-col",children:[o.jsx("div",{className:"hidden md:[@media(min-height:670px)]:block",children:o.jsx("div",{className:"opacity-0 transition-opacity duration-300 ease-in-out [@media(min-height:700px)]:opacity-100",children:o.jsx(h0t,{})})}),o.jsxs("div",{children:[a&&o.jsx("div",{children:o.jsx(Q,{className:"py-sm mb-safeAreaBottom w-full border-t md:mb-0",children:o.jsxs(Q,{className:"mx-sm gap-xs flex items-center justify-between",children:[o.jsx(s0t,{children:o.jsxs(Q,{variant:"offset",bgHover:"offsetPlus",className:W("gap-sm pr-sm inline-flex w-full cursor-pointer select-none items-center justify-start rounded-full p-1 transition !duration-150",{"!bg-textMain dark:!bg-textMainDark":c}),children:[c?o.jsxs(o.Fragment,{children:[o.jsx(mf,{}),o.jsx(F,{variant:"smallBold",className:"!text-background dark:!text-backgroundDark truncate",children:t({defaultMessage:"Incognito",id:"Sp8UUpZ0at"})})]}):o.jsxs(o.Fragment,{children:[o.jsx(sr,{size:"medium",showProBadge:n,showMaxBadge:r,user:l?.user?.image}),o.jsx(QF,{username:l?.user?.username})]}),o.jsx("span",{className:W("text-background dark:text-backgroundDark relative top-[1px] opacity-50",{"!dark:text-textOff !text-textOff !opacity-100":!c}),children:o.jsx(jt,{icon:_C.faChevronDown,size:"xs"})})]})}),o.jsx(E0t,{text:t({defaultMessage:"Track purchase status in settings",id:"dt0t5ILzKX"}),open:!!h,children:o.jsx(it,{ariaLabel:t({defaultMessage:"Settings",id:"D3idYvSLF9"}),pill:!0,icon:dI,onClick:v,size:"small",extraCSS:"aspect-square min-h-[unset] shrink-0 h-[32px] -mr-xs"})})]})})}),!d&&o.jsx(Jgt,{isEnterprise:!!s})]})]})},E0t=({children:e,text:t,open:n})=>o.jsx(Mn,{bodyClassName:"!bg-super !p-md",bodyTextClassName:"!text-base !text-white",tooltipText:t,arrowClassName:"!fill-super !w-4 translate-x-[1px] !h-auto",open:n,asChild:!0,children:e}),T0t=()=>{const e="sidebar-bottom",{$t:t}=ae(),n=Fa({reason:e}),{isCollapsed:r,actions:s}=On(),{isMobileStyle:a}=qe(),i=r&&!a,l=f.useCallback(c=>{(c.metaKey||c.ctrlKey)&&c.key===";"&&(c.preventDefault(),s.setIsIncognito(!n))},[s,n]);return f.useEffect(()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}),[l]),o.jsxs("div",{className:W("flex flex-col",{"items-center justify-center":i}),children:[i&&o.jsx("div",{className:"pb-md flex items-center justify-center",children:o.jsx(Le,{pill:!0,ariaLabel:"Expand sidebar",icon:iHe,onClick:()=>s.setIsCollapsed(!1),toolTip:t({defaultMessage:"Expand",id:"0oLj/toqZk"}),tooltipLayout:"right"})}),i?o.jsx(S0t,{}):o.jsx(k0t,{})]})},s_e=()=>{const[e,t]=f.useState(!1),[n,r]=f.useState(!1),[s,a]=f.useState(""),i=f.useCallback(()=>{r(!0),setTimeout(()=>{r(!1)},2e3)},[]),l=f.useCallback(()=>{a("Brandmark copied to clipboard"),t(!1),i()},[i]),c=f.useCallback(()=>{a("Logo copied to clipboard"),t(!1),i()},[i]),u=f.useCallback(()=>{a("Brand kit downloading..."),t(!1),i()},[i]),d=f.useCallback(()=>{t(!1)},[]);return f.useMemo(()=>({toastCopy:s,toastVisible:n,isBrandDropdownOpen:e,setBrandDropdownOpen:t,handleBrandCopy:l,handleLogoCopy:c,handleDownload:u,handlePopoverClose:d}),[l,u,c,d,e,s,n])},N0t=L.memo(()=>o.jsx("svg",{className:"h-[auto] w-[14px]",width:"278",height:"330",viewBox:"0 0 278 330",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M126.99 83.0617L37.008 0.156738V98.524H0V240.866H37.11V329.64L126.99 250.476V325.948H150.506V249.154L241.005 328.664V240.866H278V98.524H240.891V0.156755L150.506 83.4328V4.1913H126.99V83.0617ZM109.019 121.826L37.088 187.144V217.564H23.5159V121.826H109.019ZM151.01 137.113L217.396 197.396V240.866H217.489V276.862L151.01 218.454V137.113ZM241.005 186.421L169.711 121.826H254.484V217.564H241.005V186.421ZM60.625 197.477L126.99 137.199V219.3L60.625 277.752V197.477ZM168.661 98.524L217.375 53.6415V98.524H168.661ZM60.524 53.6416L109.238 98.524H60.524V53.6416Z",fill:"currentColor"})}));N0t.displayName="Brandmark";const ZF=L.memo(({children:e,onLogoCopy:t,onBrandmarkCopy:n,onDownload:r,...s})=>{const a=L.lazy(()=>Me(()=>import("./BrandPopoverContent-VYHxQX00.js"),__vite__mapDeps([78,1,3]))),i=f.useMemo(()=>o.jsx("div",{className:"w-[200px]",children:o.jsxs(Q,{className:"gap-sm p-sm flex flex-col",children:[o.jsx(Dl,{noLines:!0,size:"tiny"}),o.jsx(Dl,{noLines:!0,size:"tiny"}),o.jsx(Dl,{noLines:!0,size:"tiny"})]})}),[]),l=f.useMemo(()=>o.jsx(f.Suspense,{fallback:i,children:o.jsx(a,{onLogoCopy:t,onBrandmarkCopy:n,onDownload:r})}),[a,i,n,r,t]);return o.jsx(lo,{content:l,placement:"right-start",...s,children:e})});ZF.displayName="BrandPopover";const Wo={type:"spring",stiffness:700,damping:50},Uh=L.memo(({keyProp:e=0,message:t,variant:n,description:r,ctaText:s,ctaOnClick:a,isVisible:i=!1,timeout:l,handleClick:c,handleClose:u,onTimeout:d=Yn,position:h="top",...m})=>{const[g,v]=f.useState(i);f.useEffect(()=>{v(i)},[i]),f.useEffect(()=>{let w;return i&&l&&(w=setTimeout(()=>{v(!1),d()},l*1e3)),()=>{clearTimeout(w)}},[g,l,i,d]);const x=f.useCallback(()=>{v(!1),u?.()},[u]),b=f.useCallback(()=>{a?.(),x()},[a,x]);return o.jsx(kt,{children:g&&o.jsx(Ng,{children:o.jsx(je.div,{className:W(`right-toastHMargin erp-sidecar:top-[114px] fixed ${h==="top"?"top-toastVMargin":"bottom-toastVMargin"} z-30 flex items-center justify-center ${c?"cursor-pointer":""}`),initial:{opacity:0,x:6},animate:{opacity:1,x:0},exit:{opacity:0,x:6},transition:Wo,...m,children:o.jsxs(Q,{variant:"raised",className:W("gap-x-sm p-md shadow-overlay dark:shadow-overlayDark flex items-center rounded-lg",{"cursor-pointer":n==="refresh"}),onClick:c??Yn,children:[o.jsx(Q,{variant:"offset",className:"p-sm dark:bg-offsetPlusDark rounded-md",children:o.jsx(F,{variant:"smallBold",color:n==="error"?"red":n==="warning"?"yellow":"super",children:o.jsx(Ne,{icon:n==="refresh"?_ce:n==="error"||n==="warning"?rHe:ice,size:"sm"})})}),o.jsxs(Q,{className:"flex-1",children:[o.jsx(F,{variant:"small",color:"default",children:t}),r&&o.jsx(F,{variant:"tinyRegular",color:"light",children:r})]}),s&&a&&o.jsx(it,{text:s,variant:"offset",onClick:b,size:"small",extraCSS:"ml-xl"}),l===void 0&&o.jsx(it,{variant:"primary",size:"tiny",icon:yn,onClick:x,extraCSS:"ml-sm",noPadding:!0})]})},e)})})});Uh.displayName="Toast";const j0t=()=>{const{$t:e}=ae(),{setBrandDropdownOpen:t,handleBrandCopy:n,handleDownload:r,handleLogoCopy:s,isBrandDropdownOpen:a,handlePopoverClose:i,toastCopy:l,toastVisible:c}=s_e(),{isCollapsed:u,actions:d}=On(),{isMobileUserAgent:h}=qe(),{setMobileSidebarOpen:m}=Eu(),{isMobileStyle:g}=qe(),v=S=>{S.button===2&&(S.preventDefault(),t(!0))},x=()=>{m(!1),C.push("/")},b=()=>{m(!1)},w=u&&!g,C=Qt();return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:`my-sm md:my-md flex items-center ${w?"justify-center":"justify-between"}`,children:[o.jsx(ZF,{onBrandmarkCopy:n,onLogoCopy:s,onDownload:r,isOpen:a,onClose:i,children:o.jsx(Nt,{"aria-label":"Perplexity",href:"/",className:"block",onContextMenu:v,onClick:b,children:w?o.jsx(Ei,{includeEffects:!0,size:"md",variant:"mark"}):o.jsx("div",{className:"ml-xs pl-md pr-sm pt-xs",children:o.jsx(Ei,{includeEffects:!0,color:"mixed",isPro:!0,size:"small"})})})}),!w&&!h&&o.jsx("div",{className:"mr-xs pt-two",children:o.jsx(it,{ariaLabel:e({defaultMessage:"Collapse",id:"W/V6+Y+Vy2"}),icon:aHe,size:"small",pill:!0,onClick:()=>{m(!1),d.setIsCollapsed(!0)},toolTip:e({defaultMessage:"Collapse",id:"W/V6+Y+Vy2"}),tooltipLayout:"bottom"})}),h&&o.jsx("div",{className:"mr-xs pt-two",children:o.jsx(it,{icon:$r,pill:!0,onClick:x})})]}),o.jsx(Uh,{message:l,variant:"success",isVisible:c,timeout:2})]})},a_e=L.memo(({variant:e="common",active:t,vertical:n,onClick:r,indicatorPos:s="bottom",extraCSS:a,showNewIndicator:i,styleProps:l,isNewRedesign:c=!1,disabled:u,innerRef:d,...h})=>{const m=W("absolute",{"right-0 h-full w-[3px] rounded-l-sm":s=="right","left-0 h-full w-[3px] rounded-l-sm":s=="left","bottom-0 left-0 right-0 h-[3px] rounded-t-sm":s=="bottom","top-0 left-0 right-0 h-[3px] rounded-b-sm":s=="top","bg-textMain":e==="primary","bg-textOff":e==="common"},l?.indicatorClass),g=W({"px-xs transition duration-300 relative ":n,"flex items-center":t&&n,"justify-center px-xs":!n,"!cursor-not-allowed":u,"my-0.5 [&_*]:!font-normal [&_*]:!text-text-100 dark:[&_*]:!text-textMainDark [&_a]:hover:bg-background-200":c,"[&_a]:bg-offsetPlus [&_a]:text-textMain [&_a]:hover:bg-offsetPlus":c&&t,"opacity-70 cursor-not-allowed":u},t?l?.activeBgClass:l?.bgClass);return o.jsxs("div",{onClick:u?void 0:r,className:g,children:[i&&o.jsx("div",{className:"right-md top-sm text-super absolute z-10",children:"●"}),o.jsx(it,{variant:u?"noHover":t?"primary":"common",...h,fullWidth:!0,extraCSS:W("py-md focus-visible:!bg-transparent before:absolute before:opacity-0 focus-visible:before:opacity-100 before:ring-super/50 before:ring-[1.5px] before:inset-y-0 before:-inset-x-[10px] before:rounded-md",{"cursor-not-allowed":u},a),noXPadding:!n,disabled:u,ref:d??void 0}),t&&!u&&o.jsx(je.div,{layout:"position",layoutId:"tab-indicator",className:m,transition:{duration:.1,ease:"easeOut"}})]})});a_e.displayName="TabButton";const Hg=L.memo(({actionList:e,size:t=tn.regular,variant:n="primary",fillSpace:r=!1,vertical:s=!1,layout:a="left",indicatorPos:i,iconOnly:l,allowScroll:c,tabClass:u,testId:d,layoutGroupId:h,styleProps:m,isNewRedesign:g=!1,activeTabRef:v})=>{const x=W({"w-full":r&&!c,"flex w-auto":c,"justify-center":a==="center","justify-end":a==="right"},m?.wrapperClass),b=W("items-center relative",{"justify-center":a==="center","flex-1":r,"w-full":r&&!c,"w-auto overflow-hidden flex":c},m?.innerClass),w=W("flex",{"w-full":r&&!c,"w-auto overflow-x-auto overflow-y-hidden flex-1 scrollbar-none":c},m?.scrollClass),C=W("items-center relative scrollbar-none",{"flex-1":r,"space-y-xs":s&&!g,"gap-x-md flex h-14":!s&&t!=="tiny","gap-x-sm flex h-10":!s&&t==="tiny","w-full":!s&&!c,"flex px-md w-auto overflow-x-auto":c},m?.scrollInnerClass),S=W("relative",{"h-full flex items-center":!s,"justify-center":r,"w-full":r&&!c,"flex-1 shrink-0":c},m?.itemClass);return o.jsx("div",{className:x,"data-test-id":d,children:o.jsx("div",{className:b,children:o.jsx("div",{className:w,children:o.jsx("div",{className:C,children:o.jsx(rm,{id:h,children:e.map(k=>k.show?o.jsxs(Q,{className:S,children:[o.jsx(a_e,{testId:k.testId,ariaLabel:k.ariaLabel,vertical:s,text:l?void 0:k.text,size:t,variant:n,onClick:k.onClick,fullWidth:r,active:k.active,icon:k.icon,href:k.href,layout:a,tooltipLayout:i==="right"?"right":"top",toolTip:k.tooltip,indicatorPos:i,trailingComponent:k.trailingComponent,extraCSS:u,showNewIndicator:k.showNewIndicator,styleProps:m?.tabButton,isNewRedesign:g,disabled:k.disabled,innerRef:k.active?v:void 0}),!l&&k.badge&&o.jsx(F,{className:"bg-super pointer-events-none absolute right-2 top-1/2 -translate-y-1/2 rounded-md px-1 py-0.5 text-white",variant:"tiny",children:k.badge}),k.children&&o.jsx(o.Fragment,{children:k.children})]},k.key??k.text):null)})})})})})});Hg.displayName="TabBar";const i_e=L.memo(({vertical:e=!0,size:t,collapsed:n,actionList:r,...s})=>o.jsx(Hg,{layout:n?"center":"left",size:t,iconOnly:n,vertical:e,actionList:r??Fe,indicatorPos:n?"right":"none",fillSpace:!0,...s}));i_e.displayName="SiteTabs";const o_e=br({path:"M12.3799 0.995117C18.6621 0.995117 23.7549 6.08788 23.7549 12.3701C23.7549 18.6524 18.6621 23.7451 12.3799 23.7451C6.0977 23.7451 1.00488 18.6523 1.00488 12.3701C1.00488 6.08792 6.0977 0.995179 12.3799 0.995117ZM12.3701 2.75488C11.8475 2.75509 11.1171 3.22655 10.4121 4.58887L10.2715 4.87402C10.065 5.3106 9.54321 5.49714 9.10645 5.29102C8.66967 5.08453 8.48308 4.56284 8.68945 4.12598L8.84277 3.81445C8.93133 3.64256 9.02498 3.47428 9.12305 3.31055C7.13221 4.02636 5.44689 5.38035 4.31055 7.125H12.3809L12.4697 7.12988C12.9108 7.17482 13.2558 7.54711 13.2559 8C13.2559 8.45294 12.9108 8.82517 12.4697 8.87012L12.3809 8.875H3.41211C2.98945 9.95869 2.75488 11.1368 2.75488 12.3701C2.75488 13.6071 2.99092 14.7886 3.41602 15.875H4.94043C5.42344 15.8752 5.81537 16.2669 5.81543 16.75C5.81543 17.2331 5.42348 17.6248 4.94043 17.625H4.31738C5.45343 19.3645 7.13555 20.7142 9.12207 21.4287C8.88505 21.0314 8.66832 20.5962 8.47461 20.1318C7.62775 18.1014 7.12501 15.3566 7.125 12.3701C7.125 12.083 7.12514 11.7675 7.13574 11.46C7.15246 10.9771 7.55716 10.5996 8.04004 10.6162C8.523 10.6329 8.90142 11.0375 8.88477 11.5205C8.87538 11.7927 8.875 12.0775 8.875 12.3701C8.87501 15.1832 9.3519 17.6886 10.0898 19.458C10.4596 20.3446 10.8783 21.0053 11.2979 21.4307C11.7142 21.8527 12.0793 21.995 12.3799 21.9951C12.9373 21.9951 13.731 21.4591 14.4785 19.877L14.5215 19.7979C14.7504 19.418 15.2339 19.2656 15.6436 19.459C16.0804 19.6654 16.2679 20.1871 16.0615 20.624L15.9072 20.9355C15.8202 21.1046 15.7271 21.2695 15.6309 21.4307C17.6203 20.7168 19.305 19.3664 20.4424 17.625H12.3799C11.8967 17.6249 11.5049 17.2332 11.5049 16.75C11.5049 16.2668 11.8967 15.8751 12.3799 15.875H21.3438C21.7689 14.7886 22.0049 13.6072 22.0049 12.3701C22.0049 11.1368 21.7703 9.95871 21.3477 8.875H19.8096C19.3265 8.87477 18.9346 8.48311 18.9346 8C18.9346 7.51695 19.3266 7.12523 19.8096 7.125H20.4492C19.309 5.3744 17.6159 4.01757 15.6162 3.30371C15.8576 3.70575 16.0787 4.14659 16.2754 4.61816C17.1223 6.64864 17.625 9.39331 17.625 12.3799C17.625 12.667 17.6258 12.9825 17.6152 13.29L17.6074 13.3789C17.5476 13.8184 17.1627 14.1501 16.71 14.1348C16.2272 14.1179 15.8496 13.7123 15.8662 13.2295L15.875 12.3799C15.875 9.56674 15.3982 7.0614 14.6602 5.29199C14.2904 4.40554 13.8727 3.7447 13.4531 3.31934C13.0368 2.89735 12.6707 2.75503 12.3701 2.75488ZM12.3799 10.6201C13.3464 10.6201 14.1299 11.4036 14.1299 12.3701C14.1299 13.3366 13.3464 14.1201 12.3799 14.1201C11.4134 14.1201 10.6299 13.3366 10.6299 12.3701C10.6299 11.4037 11.4134 10.6202 12.3799 10.6201Z",name:"IconPerplexityDiscover",variant:"filled"}),l_e=br({path:"M18.8809 18.8809C19.2013 18.5604 19.7091 18.5407 20.0527 18.8213L20.1191 18.8809L22.3086 21.0713L22.3691 21.1377C22.6493 21.4814 22.6289 21.9883 22.3086 22.3086C21.9883 22.6288 21.4813 22.6493 21.1377 22.3691L21.0713 22.3086L18.8809 20.1191L18.8213 20.0527C18.5407 19.7091 18.5605 19.2013 18.8809 18.8809ZM10.75 2.00488C15.5724 2.00494 19.5048 5.92589 19.5049 10.7598C19.5049 15.593 15.5832 19.5146 10.75 19.5146H9.875V19.4502C5.46095 19.01 1.9953 15.278 1.99512 10.7402C1.99512 5.90341 5.93043 2.00495 10.75 2.00488ZM10.75 3.75488C6.88968 3.75495 3.74512 6.87714 3.74512 10.7402C3.74531 14.6061 6.8927 17.7451 10.75 17.7451H11.25C14.8836 17.4884 17.7549 14.4584 17.7549 10.7598C17.7548 6.89383 14.6074 3.75494 10.75 3.75488ZM10.75 9C11.7165 9 12.5 9.7835 12.5 10.75C12.4999 11.7164 11.7165 12.5 10.75 12.5C9.78354 12.5 9.00006 11.7164 9 10.75C9 9.7835 9.7835 9 10.75 9Z",name:"IconPerplexityHome",variant:"filled"}),A0t=br({path:"M9 15.9951C10.4319 15.9952 11.7044 16.6861 12.5029 17.752C13.3018 16.6913 14.5722 16.0049 16 16.0049H22.1299L22.2197 16.0098C22.6608 16.0547 23.0049 16.4269 23.0049 16.8799C23.0049 17.3328 22.6608 17.7051 22.2197 17.75L22.1299 17.7549H16C14.5532 17.7549 13.375 18.9331 13.375 20.3799V21.25C13.3749 21.7331 12.9831 22.1249 12.5 22.125C12.0169 22.1249 11.6251 21.7331 11.625 21.25V20.3701C11.625 18.9234 10.4467 17.7452 9 17.7451H2.87988C2.39676 17.7451 2.00501 17.3532 2.00488 16.8701C2.00488 16.3869 2.39669 15.9952 2.87988 15.9951H9ZM12.5 2.00488C18.3038 2.00495 22.9951 6.70738 22.9951 12.5V13.3799C22.9951 13.8631 22.6033 14.2548 22.1201 14.2549C21.6369 14.2548 21.2451 13.8631 21.2451 13.3799V12.5C21.2451 7.6727 17.3361 3.75495 12.5 3.75488C7.6633 3.75494 3.75488 7.66329 3.75488 12.5V13.3799C3.75488 13.8631 3.36313 14.2549 2.87988 14.2549C2.39669 14.2548 2.00488 13.8631 2.00488 13.3799V12.5C2.00488 6.69679 6.6968 2.00494 12.5 2.00488ZM12.5 6.375C15.8832 6.375 18.625 9.11675 18.625 12.5V13.3799C18.6249 13.8631 18.2332 14.2549 17.75 14.2549C17.2668 14.2549 16.8751 13.8631 16.875 13.3799V12.5C16.875 10.0833 14.9167 8.125 12.5 8.125C10.0832 8.125 8.125 10.0832 8.125 12.5V13.3799C8.12494 13.8631 7.73321 14.2549 7.25 14.2549C6.76679 14.2549 6.37506 13.8631 6.375 13.3799V12.5C6.375 9.11675 9.11675 6.375 12.5 6.375ZM12.5 10.75C13.4665 10.75 14.25 11.5335 14.25 12.5C14.2499 13.4664 13.4665 14.25 12.5 14.25C11.5335 14.25 10.7501 13.4664 10.75 12.5C10.75 11.5335 11.5335 10.75 12.5 10.75Z",name:"IconPerplexityLibrary",variant:"filled"}),c_e=br({path:"M13.3801 3.20001H11.4601V9.92001H13.3801V3.20001Z M16.2599 13.7601C14.6879 13.7601 13.2959 14.5281 12.4199 15.7041C11.5439 14.5281 10.1519 13.7601 8.57988 13.7601H3.77988V15.6801H8.57988C10.1639 15.6801 11.4599 16.9761 11.4599 18.5601V19.5201H13.3799V18.5601C13.3799 16.9761 14.6759 15.6801 16.2599 15.6801H21.0599V13.7601H16.2599Z M4.96321 5.88607L3.60556 7.24371L8.35732 11.9955L9.71496 10.6378L4.96321 5.88607Z M19.8836 5.89171L15.1318 10.6435L16.4895 12.0011L21.2412 7.24935L19.8836 5.89171Z",name:"IconPerplexityPage",variant:"filled"}),JF=br({path:"M3.60001 5.59995H12.24L12.2399 7.51995H3.60001V5.59995Z M12.2399 9.43989V7.51995L20.8799 7.51994V9.43994L12.2399 9.43989Z M12.24 11.3599L12.2399 9.43989H3.60001V11.3599H12.24Z M12.24 13.28H20.8799V11.36L12.24 11.3599V13.28Z M12.24 15.2V13.28H3.60001V15.2H12.24Z M12.24 15.2L12.2399 17.12H20.8799V15.2H12.24Z",name:"IconPerplexityThread",variant:"filled"}),u_e=L.memo(({item:{title:e,link:t},position:n})=>{const{trackEvent:r}=Ye(),{setMobileSidebarOpen:s}=Eu(),a=f.useCallback(()=>{s(!1),r("click recent collection",{title:e,link:t,position:n})},[t,n,s,e,r]);return o.jsx(Nt,{href:t,className:"group block cursor-pointer",onClick:a,children:o.jsx(Q,{className:"p-xs rounded",bgHover:"offsetPlus",children:o.jsx(F,{variant:"tiny",className:"gap-x-xs flex items-center justify-between",color:"light",children:o.jsx("div",{className:"flex w-full items-center",children:o.jsx("span",{className:"w-full overflow-hidden whitespace-nowrap",style:{maskImage:"linear-gradient(to right, black 85%, transparent 97%)"},children:e})})})})})});u_e.displayName="CollectionHistoryItem";const d_e=({show:e,data:t,type:n,HistoryComponent:r,wrapperClassName:s,id:a})=>{const l=Fa({reason:"recent-items"}),c=(u,d="")=>"link"in u?u.link+d:"uuid"in u?u.uuid+d:"slug"in u?u.slug+d:d;return!e||!t?.length?null:o.jsx("div",{className:"group/history",children:o.jsx(kt,{initial:!1,mode:"wait",children:l?o.jsx(KZ,{className:"px-sm",direction:"in",children:o.jsx(Q,{className:"mx-md mb-lg mt-sm px-md py-md rounded-md border border-dashed",children:o.jsx(F,{color:"ultraLight",variant:"tiny",className:"gap-sm flex flex-col items-start text-left",children:o.jsx("span",{children:n==="thread"?o.jsx(Ve,{defaultMessage:"Library disabled while incognito",id:"OUt8F76OaH"}):o.jsx(Ve,{defaultMessage:"Spaces disabled while incognito",id:"kdu3grXdAD"})})})})},"empty"):o.jsx(KZ,{direction:"out",children:o.jsx(je.div,{layout:!0,layoutRoot:!0,className:W("mb-md mt-xs space-y-xs border-borderMain/50 pr-sm dark:border-borderMainDark relative ml-[26px] border-l pl-[14px] duration-200",s),children:o.jsx(rm,{children:o.jsx(kt,{initial:!1,mode:"popLayout",children:t.map((u,d)=>o.jsx(je.div,{layout:"position",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:0},transition:{ease:Ar,duration:.3},children:o.jsx(r,{item:u,position:d})},c(u,a)))})})})},"history")})})},xy=f.memo(d_e);d_e.displayName="RecentItems";const KZ=f.memo(({children:e,className:t,direction:n})=>o.jsx(je.div,{initial:{x:n==="in"?20:-20,opacity:0},animate:{x:0,opacity:1},exit:{x:n==="in"?20:-20,opacity:0,transition:{ease:Hl(.7,0,.84,0),duration:.1}},transition:{x:{ease:Hl(.16,1,.3,1),duration:.2},opacity:{ease:Mi,duration:.15}},className:t,children:e})),f_e=L.memo(({item:{variant:e,title:t,link:n},position:r})=>{const{trackEvent:s}=Ye(),{setMobileSidebarOpen:a}=Eu(),{actualQuery:i}=Wd(t),l=i||t,c=f.useCallback(()=>{a(!1),s("click recent thread",{title:t,link:n,variant:e,position:r})},[n,r,a,t,s,e]);return o.jsx(Nt,{href:n,className:"group block cursor-pointer",onClick:c,children:o.jsx(Q,{className:"p-xs rounded",bgHover:"offsetPlus",children:o.jsx(F,{variant:"tiny",className:"gap-x-xs flex items-center justify-between",color:"light",children:o.jsxs("div",{className:"flex w-full items-center",children:[o.jsx("span",{className:"w-full overflow-hidden whitespace-nowrap",style:{maskImage:"linear-gradient(to right, black 85%, transparent 97%)"},children:l}),o.jsx(Ne,{icon:e==="article"?c_e:JF,size:"sm",className:"min-w-0 shrink basis-0 scale-90 opacity-0 duration-300 ease-out group-hover:block group-hover:shrink-0 group-hover:basis-auto group-hover:scale-100 group-hover:opacity-100"})]})})})})});f_e.displayName="ThreadHistoryItem";const h_e=f.memo(({vertical:e=!0,size:t,collapsed:n,incognito:r,animationId:s})=>{const a="ask-site-tabs",{$t:i}=ae(),l=Ct(),{isMobileStyle:c}=qe(),{trackEvent:u}=Ye(),{allowArticleCreation:d}=Ua({reason:a}),h=ln(),{openVisitorLoginUpsell:m}=Br({enabled:!l}),{shouldShowLossAversionModal:g,handleOpenLossAversion:v}=Ug(),{data:x}=Ime({reason:a}),{data:b}=pme({reason:a}),{setMobileSidebarOpen:w}=Eu(),C=f.useCallback(N=>{w(!1),g&&(N.preventDefault(),v({args:{origin:gt.DISCOVER_BUTTON}}))},[g,v,w]),S=f.useCallback(()=>{u("spaces click",{}),w(!1),l||m({title:i({defaultMessage:"Focus your Perplexity experience in Spaces",id:"spZP/TobF9"}),origin:gt.SPACES_PAGE})},[u,l,m,i,w]),k=f.useCallback(()=>{u("library click",{}),w(!1),l||m({title:i({defaultMessage:"Organize your search history by signing up",id:"PMTP+jTgx8"}),origin:gt.LIBRARY_PAGE})},[u,l,m,i,w]),E=f.useCallback(()=>{u("finance click",{}),w(!1)},[w,u]),T=f.useCallback(()=>{w(!1)},[w]),j=f.useMemo(()=>{const N=[{icon:l_e,text:i({defaultMessage:"Home",id:"ejEGdxSUGs"}),href:"/",show:!0,active:h==="/",ariaLabel:i({defaultMessage:"Home",id:"ejEGdxSUGs"}),testId:"home-tab",onClick:T,tooltip:n?i({defaultMessage:"Home",id:"ejEGdxSUGs"}):void 0},{icon:o_e,text:i({defaultMessage:"Discover",id:"cE4HfwyEyr"}),show:!0,active:h?.startsWith("/discover"),ariaLabel:i({defaultMessage:"Discover",id:"cE4HfwyEyr"}),testId:"discover-tab",href:g?void 0:"/discover",onClick:C,tooltip:n?i({defaultMessage:"Discover",id:"cE4HfwyEyr"}):void 0},{icon:Ja,text:i({defaultMessage:"Spaces",id:"ZMoczsYew9"}),href:l?"/spaces":void 0,onClick:S,show:!0,active:h?.startsWith("/spaces"),ariaLabel:i({defaultMessage:"Spaces",id:"ZMoczsYew9"}),testId:"spaces-tab",tooltip:n?i({defaultMessage:"Spaces",id:"ZMoczsYew9"}):void 0,children:!n&&l&&o.jsx(xy,{show:!0,data:x,type:"collection",HistoryComponent:u_e})},{icon:A0t,text:i({defaultMessage:"Library",id:"StcK672jB9"}),href:l?"/library":void 0,onClick:k,show:!0,testId:"library-tab",trailingComponent:!r&&d&&!n?o.jsx(m_e,{}):void 0,active:h?.startsWith("/library"),ariaLabel:i({defaultMessage:"Library",id:"StcK672jB9"}),tooltip:n?i({defaultMessage:"Library",id:"StcK672jB9"}):void 0,children:!n&&l&&o.jsx(xy,{show:!0,data:b,type:"thread",HistoryComponent:f_e})},{icon:Ix,text:i({defaultMessage:"Finance",id:"Fm3M+yFIbr"}),show:!0,active:h?.startsWith("/finance"),ariaLabel:i({defaultMessage:"Finance",id:"Fm3M+yFIbr"}),testId:"finance-tab",href:"/finance",onClick:E,tooltip:n?i({defaultMessage:"Finance",id:"Fm3M+yFIbr"}):void 0}];return n&&N.push({icon:qj,text:i({defaultMessage:"Sign in",id:"SQJto27U8S"}),onClick:()=>{u("login click",{}),m({origin:gt.LOGIN_BUTTON})},show:!l,active:h?.startsWith("/login"),testId:"sign-in-tab",ariaLabel:"Sign in",tooltip:n?i({defaultMessage:"Sign In",id:"Ub+AGcdPg6"}):void 0}),N},[h,n,i,l,r,d,C,E,S,k,u,m,x,b,g,T]);return o.jsx(i_e,{isMobileStyle:c,size:t,vertical:e,collapsed:n,actionList:j,layoutGroupId:s})});h_e.displayName="AskSiteTabs";const m_e=f.memo(({defaultHidden:e=!0,buttonClassName:t})=>{const{$t:n}=ae(),[r,s]=f.useState(!1),{openModal:a}=Gt(),{trackEvent:i}=Ye(),l=Qt(),c=Ct(),u=x=>{x.preventDefault(),x.stopPropagation(),s(!r)},d=()=>{s(!1)},h=()=>{s(!0)},m=f.useCallback(x=>{x.stopPropagation(),c?l.push("/page/new"):a("loginModal",{pitchMessage:{title:n({defaultMessage:"Sign in to create a {page}",id:"MsQ6yWbdOY"},{page:"Page"})},origin:gt.ARTICLE_NEW}),x.preventDefault()},[l,c,n,a]),g=f.useCallback(x=>{x.preventDefault(),x.stopPropagation(),i("new thread click on threads page",{}),l.push("/",void 0,"New thread (library)")},[i,l]),v=f.useMemo(()=>[{type:"default",text:n({defaultMessage:"Thread",id:"6dmn4mbc3j"}),icon:JF,onClick:g,testId:"library-dropdown-new-thread"},{type:"default",text:n({defaultMessage:"Page",id:"wFmAFCPAci"}),icon:c_e,onClick:m,testId:"library-dropdown-new-page"}],[g,m,n]);return o.jsx("div",{className:"-mr-sm flex w-full flex-1 justify-end",children:o.jsx(Rn,{placement:"right",items:v,isMobileStyle:!1,onClose:d,onOpen:h,isOpen:r,children:o.jsx(Q,{onClick:u,"data-testid":"library-add-button",className:W("text-text flex h-[24px] w-[27px] items-center justify-center rounded-md duration-150 hover:bg-black/5 dark:hover:bg-white/5",{"opacity-0 group-hover/button:opacity-100":e,"!text-text !bg-black/5 !opacity-100 dark:!bg-white/5":r},t),children:o.jsx(jt,{icon:WF.faPlus,size:"xs"})})})})}),R0t=(e,t)=>e&&!t?"w-collapsedSideBarWidth":"w-sideBarWidth",p_e=f.memo(()=>{const e="sidebar",{$t:t}=ae(),n=Ct(),{trackEvent:r}=Ye(),{isCollapsed:s}=On(),a=Fa({reason:e}),{openVisitorLoginUpsell:i}=Br({enabled:!n}),{setMobileSidebarOpen:l}=Eu(),{isMobileStyle:c}=qe(),u=R0t(s,c),d=s&&!c;return o.jsx("div",{"data-testid":mpe.SIDEBAR,className:W("group/bar isolate h-full shrink-0 transition-all duration-300 ease-in-out md:hidden md:h-auto",u),children:o.jsx(Q,{className:W("h-full transition-all duration-300 ease-in-out",u),children:o.jsxs("div",{className:W("flex h-full min-h-0 flex-1 flex-col"),children:[o.jsx(j0t,{}),!c&&o.jsx(X6e,{collapsed:s}),o.jsx("div",{className:"pt-md scrollbar min-h-0 flex-1 overflow-y-auto overflow-x-hidden",children:o.jsx(h_e,{collapsed:d,incognito:a,animationId:"sidebar-tabs"})}),!n&&!d&&o.jsx("div",{className:"mb-md md:mb-lg ml-md mr-md mt-md",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(Le,{variant:"primary",size:"small",extraCSS:"h-[44px]",fullWidth:!0,text:t({defaultMessage:"Sign Up",id:"39AHJmowNE"}),onClick:()=>{l(!1),r("signup click",{}),i({origin:gt.SIGNUP_BUTTON})}}),o.jsx(Le,{variant:"common",size:"small",extraCSS:"h-[44px]",fullWidth:!0,text:t({defaultMessage:"Log in",id:"odXlk858Gb"}),onClick:()=>{l(!1),r("login click",{}),i({origin:gt.LOGIN_BUTTON})}})]})}),n||d?o.jsx(T0t,{}):null]})})})});p_e.displayName="Sidebar";const M4=30,WC=({autoFetch:e,reason:t})=>{const n=on(),r=Vt(),s=async({pageParam:g=0})=>{(!g||g<0)&&(g=1);const v=(g-1)*M4;return await ect({params:{limit:M4,offset:v},reason:t})},a=Zd({queryKey:vn,enabled:e&&!!n,initialPageParam:0,queryFn:({pageParam:g})=>s({pageParam:g}),getNextPageParam:(g,v)=>g&&g[0]?.has_next_page?v.length+1:void 0}),i=a.data?.pageParams?.length??1,l=a.data?.pages??Fe,c=f.useMemo(()=>l.flat(),[l]),u=l[l.length-1]?.[0]?.has_next_page,d=f.useMemo(()=>({currentPage:i,hasNextPage:!!u,hasPreviousPage:i>1,getNextPage:()=>a.fetchNextPage(),getPreviousPage:()=>a.fetchPreviousPage()}),[i,u,a]),h=f.useCallback(g=>{const v=[],x=[];let b=0;for(;b<g.length;)x.push(v.length),v.push(g.slice(b,b+M4)),b+=M4;r.setQueryData(vn,{pages:v,pageParams:x})},[r]),m=f.useCallback(()=>{!d.hasNextPage||a.isLoading||d.getNextPage()},[a.isLoading,d]);return f.useMemo(()=>({...a,fetchNextPage:m,collections:c,paginationInfo:d,updateCache:h}),[c,m,d,a,h])},L0t=({reason:e})=>{const{collections:t}=WC({autoFetch:!0,reason:e}),{data:n}=Ime({reason:e}),r=t?.filter(i=>!R1(i.user_permission)),s=n?.[0]?.link;return r?.length===0?"/spaces/templates/":s||"/spaces/templates/"},g_e={palette:LWe,flask:oWe,tv:YHe,microchip_ai:uce,dollar_circle:$He,medal:tce,plane:O_,paint_brush:jHe};function O0t(e){for(const[t,n]of Object.entries(g_e))return n===e?t:t??null;return null}function P0t({userSelectedTopics:e,topics:t}){const n=e.map(s=>s.id);return Object.fromEntries(t.map(s=>{const a={...s,userSelected:n.includes(s.id)};return[s.id,a]}))}const I0t=({allTopics:e})=>{const{$t:t}=ae();return f.useMemo(()=>[{id:"you",slug:"you",name:t({defaultMessage:"For You",id:"5KhEnUXBTF"}),icon:QWe,description:t({defaultMessage:"Stories curated for you",id:"2sibbc2gbI"}),isAlwaysShown:!0},{id:"top",slug:"top",name:t({defaultMessage:"Top",id:"X/9XdXSCBu"}),icon:Wj,isAlwaysShown:!0},...e.map(r=>({id:r.id,name:r.translated_name??r.name,icon:g_e[r.icon]??Wj,slug:r.slug}))],[e,t])};function D0t(e){return e==="you"||e==="top"||e==="trending"?null:e}const v_e=L.memo(e=>{const{$t:t}=ae(),{isMobileStyle:n}=qe();return o.jsx(Sn,{...e,title:t({defaultMessage:"Make it yours",id:"RBKgNODPrT"}),variant:n?"bottom-left-sheet":void 0,children:o.jsx("div",{className:"mb-safeAreaInsetBottom md:-m-md md:-mb-10",children:o.jsx("div",{className:"-m-md md:m-0",children:o.jsx(y_e,{title:t({defaultMessage:"Select topics and interests to customize your Discover experience",id:"EmIFJDqmup"}),onSave:e.onSave,discoverTopicMap:e.discoverTopicMap,userSelectedTopics:e.userSelectedTopics})})})})});v_e.displayName="InterestConfigurationSheet";const y_e=L.memo(({title:e,subtitle:t,onClose:n,onSave:r,discoverTopicMap:s,userSelectedTopics:a,variant:i})=>{const{$t:l}=ae(),[c,u]=f.useState(a),d=Ct(),{openVisitorLoginUpsell:h}=Br({enabled:!d}),{trackEvent:m}=Ye();f.useEffect(()=>{m("discover topics picker opened",{})},[m]);const g=f.useCallback(()=>{h({title:l({defaultMessage:"Sign in to customize your Discover Feed",id:"tlclIdp++4"}),origin:gt.DISCOVER_TOPICS,sheetModalVariant:"bottom-sheet-gradient"})},[l,h]),v=w=>{if(m(c.includes(w)?"discover topic unselected":"discover topic selected",{topicUUID:D0t(w)}),!d){g();return}u(C=>C.includes(w)?C.filter(S=>S!==w):C.concat(w))},x=f.useCallback(()=>{if(m("discover topics picker saved",{}),!d){g();return}r(c)},[c,d,r,g,m]),b=f.useCallback(w=>{w.stopPropagation()},[]);return o.jsxs(Q,{variant:"background",className:"p-md relative rounded-xl",onClick:b,children:[o.jsxs("div",{className:"relative z-[2]",children:[o.jsxs("div",{className:"mb-md flex items-start justify-between",children:[o.jsxs("div",{children:[e&&o.jsx(F,{variant:"baseSemi",children:e}),t&&o.jsx(F,{color:"light",variant:"small",children:t})]}),n&&o.jsx(it,{icon:yn,size:"tiny",pill:!0,onClick:n,extraCSS:"-mt-sm -mr-sm hover:!bg-textMain/5"})]}),o.jsx("div",{className:"gap-sm flex flex-wrap",children:Object.values(s).map(w=>w.isAlwaysShown?null:o.jsx(x_e,{topic:w.id,topicData:w,onClick:v,selected:c.includes(w.id)},w.id))}),o.jsx("div",{className:"mt-md bg-textMain h-px opacity-10"}),o.jsx("div",{className:"mt-md",children:o.jsx(Le,{text:l({defaultMessage:"Save Interests",id:"YbI1HM86Ih"}),variant:"primary",size:"small",extraCSS:"w-full",onClick:x})})]}),i==="offset"&&o.jsx("div",{className:"absolute inset-0 z-[1] rounded-[inherit] dark:bg-black",children:o.jsx("div",{className:"bg-super/10 dark:bg-super/25 dark:border-super/5 absolute inset-0 z-[1] rounded-[inherit] dark:border"})})]})});y_e.displayName="InterestConfigurationBox";const x_e=L.memo(({topic:e,topicData:t,selected:n,onClick:r})=>o.jsxs(je.button,{className:W("px-sm py-xs inline-flex cursor-pointer items-center gap-1.5 rounded-md duration-150 active:scale-[0.95]",{"bg-super/15 dark:bg-white/5":!n},{"bg-super":n}),onClick:()=>r(e),children:[o.jsx(kt,{mode:"popLayout",initial:!1,children:o.jsx(je.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{duration:.2,type:"spring",bounce:.2},children:o.jsx(Ne,{icon:n?ice:t.icon,size:"sm",className:W({"text-textMain dark:text-textMain/75":!n},{"dark:text-backgroundDark text-white":n})})},n?`selected-${e}`:e)}),o.jsx(F,{variant:"small",className:W({"text-textMain dark:text-textMain/75":!n},{"dark:text-backgroundDark text-white":n}),children:t.name})]}));x_e.displayName="InterestPill";const b_e=20,F0t=async({headers:e,options:t,reason:n})=>{const r="getDiscoverListFeedRestAsync",s=t?.offset??0;let l=`?limit=${t?.limit??b_e}&offset=${s}&version=${bu}`;const c=t?.topic??null;c&&c!=="you"&&(l+=`&topic=${c}`);const u=t?.nextToken??null;u&&(l+=`&next_token=${u}`);const h=await(await or({urlPath:`/rest/discover/feed${l}`,timeoutMs:ut(),numRetries:1,headers:e,reason:n})).json();if(h.status!=="success")throw new Error(`Bad discover ${r} response: ${h}`);const m=h?.items??[],g=h?.feed_uuid??null,v=h?.next_token??null;return g&&m.length>0&&m.forEach(x=>{x.feed_uuid=g}),{threads:m,nextToken:v}},U0t=async e=>{try{const t=await or({headers:e,urlPath:`/rest/discover/topics?version=${bu}`,timeoutMs:1500,numRetries:1});if(!t.ok){const r=await t.text();throw new Error(`Bad discover response: ${r}`)}const n=await t.json();return{userSelectedTopics:n?.user_selected_topics??[],allTopics:n?.all_topics??[]}}catch(t){return le.error("Failed to get discover topics.",t),{userSelectedTopics:[],allTopics:[]}}},B0t=async({topics:e,reason:t})=>{const n=await me.PUT("/rest/discover/topics",t,{body:{topics:e,return_feed:!0,return_feed_limit:b_e,return_feed_version:bu},headers:{"content-type":"application/json"},timeoutMs:1500,numRetries:1});if(n.error)throw n.error;const r=n.data,s=r.feed_items??[],a=r.feed_uuid,i=r.next_token??null;return a&&s?.length>0&&s.forEach(l=>{l.feed_uuid=a}),{status:"success",feedItems:s,nextToken:i}},oXt=async({contextUUID:e,reason:t})=>{const n=await me.PUT("/rest/discover/feed-items/{context_uuid}/feedback/like",t,{params:{path:{context_uuid:e}}});if(n.error)throw n.error},lXt=async({contextUUID:e,reason:t})=>{const n=await me.DELETE("/rest/discover/feed-items/{context_uuid}/feedback/like",t,{params:{path:{context_uuid:e}}});if(n.error)throw n.error},cXt=async({contextUUID:e,reason:t})=>{const n=await me.PUT("/rest/discover/feed-items/{context_uuid}/feedback/dislike",t,{params:{path:{context_uuid:e}}});if(n.error)throw n.error},uXt=async({contextUUID:e,reason:t})=>{const n=await me.DELETE("/rest/discover/feed-items/{context_uuid}/feedback/dislike",t,{params:{path:{context_uuid:e}}});if(n.error)throw n.error},V0t=({discoverTopicMap:e,reason:t})=>{const{locale:n}=ae(),r=Vt();return Kt({mutationKey:["discover_update_topics",{}],mutationFn:a=>B0t({topics:a,reason:t}),onMutate:async a=>{const i=j5();await r.cancelQueries({queryKey:i});const l=r.getQueryData(j5());return r.setQueryData(i,c=>({allTopics:c.allTopics,userSelectedTopics:a.map(u=>({id:u,name:e[u].name,icon:O0t(e[u].icon)??"",translated_name:e[u].name,slug:e[u].slug}))})),{previousTopics:l}},onError:(a,i,l)=>{const c=j5();r.setQueryData(c,l.previousTopics)},onSuccess:a=>{r.setQueryData(Ic("you",n),()=>({pages:[{threads:a.feedItems||[],nextToken:a.nextToken}],pageParams:[{pageNum:1}]}))}})},eU=f.memo(()=>o.jsx(Kn,{speed:"slow",className:"flex flex-col gap-2",children:Array.from({length:4}).map((e,t)=>o.jsxs(Q,{className:W("grid place-items-center",{"w-[90%]":t===0||t===1,"w-[70%]":t===2,"w-[60%]":t===3}),children:[o.jsx(F,{variant:"small",className:"opacity-0",style:{gridArea:"1/-1"},children:" "}),o.jsx(Q,{variant:"offsetPlus",className:"h-2 w-full rounded-full",style:{gridArea:"1/-1"}})]},t))}));eU.displayName="SidebarListLoader";const P1=f.memo(({children:e})=>o.jsx("div",{className:"flex flex-col gap-[10px]",children:e}));P1.displayName="SidebarSubMenu";const I1=f.memo(()=>o.jsx("div",{className:"bg-borderMain/50 h-px"}));I1.displayName="SidebarDivider";const D1=f.memo(({text:e,accessory:t,className:n,href:r,onClick:s,onMouseOver:a,testId:i})=>{const l=o.jsx(F,{variant:"tiny",color:"light",children:e}),c=r?o.jsxs(Nt,{href:r,className:"group relative block",onClick:s,onMouseOver:a,"data-testid":i||"library-button",children:[o.jsx(Q,{variant:"offsetPlus",className:"-inset-y-xs -inset-x-sm absolute rounded-md opacity-0 duration-200 group-hover:opacity-100"}),o.jsxs("span",{className:"gap-xs relative flex items-center",children:[l,o.jsx(xa,{className:"text-textMain/35 group-hover:text-text-200 -mr-xs size-4 opacity-0 duration-200 group-hover/header:opacity-100"})]})]}):l;return o.jsxs("div",{className:W("group/header gap-xs flex h-6 items-center justify-between",n),children:[c,o.jsx(kt,{initial:!1,children:t&&o.jsx(je.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:"inline-flex",children:t})})]})});D1.displayName="SidebarSubMenuHeader";const hR=f.memo(({href:e,text:t,onMouseOver:n,onClick:r})=>o.jsx(Nt,{href:e,className:"block",onMouseOver:n,onClick:r,children:o.jsx(F,{variant:"tinyRegular",color:"light",className:"duration-200 hover:opacity-60",children:t})}));hR.displayName="SidebarLink";const fa=f.memo(({href:e,text:t,icon:n,fadeOut:r,onClick:s,selected:a,deemphasized:i,menuItems:l,testId:c,sidebarOpen:u,accessory:d})=>{const h=o.jsxs(o.Fragment,{children:[o.jsx(Q,{variant:"offsetPlus",className:W("-inset-y-xs -inset-x-sm absolute rounded-md opacity-0 duration-200 group-hover:opacity-100",{"opacity-100":a})}),o.jsxs(F,{className:"relative flex items-center gap-2",variant:"small",color:i?"light":void 0,children:[n&&(f.isValidElement(n)?n:o.jsx(Ne,{icon:n,className:"size-[18px]"})),o.jsx("span",{className:"w-full overflow-hidden whitespace-nowrap",style:{maskImage:r?"linear-gradient(to right, black 85%, transparent 97%)":void 0},children:t}),o.jsx(kt,{initial:!1,children:d&&o.jsx(je.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:"inline-flex",children:d})}),l&&u&&o.jsx("span",{style:{maskImage:"linear-gradient(to left, black 60%, transparent)"},className:"pl-md bg-offsetPlus -right-xs absolute top-1/2 -translate-y-1/2 opacity-0 duration-200 group-hover:opacity-100",children:o.jsx(Rn,{isMobileStyle:!1,items:l,placement:"right",children:o.jsx("div",{onClick:m=>{m.preventDefault()},className:"hover:bg-text/5 p-xs rounded duration-150",children:o.jsx(Ne,{icon:tf,size:14,className:"text-textMain/35 hover:text-text-200 duration-150"})})})})]})]});return e?o.jsx(Nt,{href:e,className:"group relative block","data-testid":c,children:o.jsx("div",{className:"group relative block",onClick:s,children:h})}):o.jsx("button",{onClick:s,className:"group relative block appearance-none text-left",type:"button","data-testid":c,children:h})}),QZ=e=>{const t=e?.split("/").slice(1);return t?t[1]:null},w_e=f.memo(({isConfiguring:e,setConfiguring:t,sidebarOpen:n})=>{const r="discover-sidebar",s=Ct(),a=ln(),{data:i,isLoading:l}=Ft({queryKey:j5(),queryFn:()=>U0t(),enabled:!0,placeholderData:ax,refetchOnReconnect:!0,refetchOnMount:!1}),c=Ct(),u=I0t({allTopics:i?.allTopics??Fe}),d=i?.userSelectedTopics??Fe,h=P0t({userSelectedTopics:d,topics:u}),m=d.length>0?"selected":"default",g=f.useCallback(S=>S.id==="top"||S.id==="trending"?!0:S.id==="you"?s:m==="default"?!0:!!S.userSelected,[m,s]),v=f.useMemo(()=>{const S=[],k=[];return Object.values(h).map(E=>{const{name:T,icon:j,slug:N}=E;g(E)?S.push({text:T,icon:j,link:`/discover/${N}`,active:QZ(a)===N}):k.push({text:T,icon:j,link:`/discover/${N}`,active:QZ(a)===N})}),{activeItems:S,overflowItems:k}},[h,g,a]),x=d.map(S=>S.id),b=V0t({discoverTopicMap:h,reason:r}),w=S=>{b.mutate(S),e&&t(!1)},{$t:C}=ae();return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex flex-col gap-[12px]",children:[o.jsx(D1,{text:C({defaultMessage:"Topics",id:"kc79d3WUbd"})}),l?o.jsx(eU,{}):o.jsx(P1,{children:v.activeItems.map(S=>o.jsx(fa,{href:S.link??"",text:S.text,selected:S.active,icon:S.icon,sidebarOpen:n},S.text))}),v.overflowItems.length>0&&c&&o.jsxs(o.Fragment,{children:[o.jsx(D1,{text:C({defaultMessage:"More",id:"I5NMJ8llIi"})}),o.jsx(P1,{children:v.overflowItems.map(S=>o.jsx(fa,{href:S.link??"",text:S.text,selected:S.active,icon:S.icon,sidebarOpen:n},S.text))})]})]}),o.jsx(v_e,{isOpen:e,onClose:()=>t(!1),onSave:w,discoverTopicMap:h,userSelectedTopics:x})]})});w_e.displayName="DiscoverSidebar";const __e=br({path:"M12 2C12.4599 2 12.833 2.37307 12.833 2.83301V18.5176L17.0029 14.9473V5.6748L15.918 6.75488C15.5918 7.07873 15.0644 7.0769 14.7402 6.75098C14.4163 6.42487 14.4182 5.89747 14.7441 5.57324L17.249 3.08105L17.3438 3.00098C17.5762 2.83052 17.8846 2.79036 18.1562 2.90332C18.4666 3.0325 18.6688 3.33569 18.6689 3.67188V15.3311C18.6689 15.5743 18.5618 15.8056 18.377 15.9639L14.2529 19.4951H20.334V6.16406C20.334 5.70426 20.7072 5.33127 21.167 5.33105C21.6269 5.33105 22 5.70412 22 6.16406V20.3281C21.9999 20.788 21.6269 21.1611 21.167 21.1611H2.83301C2.37314 21.1611 2.00012 20.788 2 20.3281V6.16406C2 5.70412 2.37307 5.33105 2.83301 5.33105C3.29279 5.33124 3.66504 5.70424 3.66504 6.16406V19.4951H9.74707L5.62207 15.9639C5.43739 15.8057 5.33105 15.5742 5.33105 15.3311V3.67188L5.33984 3.54688C5.38309 3.26217 5.57241 3.01627 5.84375 2.90332C6.1542 2.77424 6.51245 2.84416 6.75098 3.08105L9.25586 5.57324L9.36328 5.70312C9.57757 6.02568 9.54328 6.4656 9.25977 6.75098C8.97578 7.03648 8.53579 7.07335 8.21191 6.86035L8.08203 6.75488L6.99707 5.6748V14.9473L11.167 18.5176V2.83301C11.167 2.37308 11.5401 2.00002 12 2Z",name:"IconPerplexityAcademic",variant:"filled"}),C_e=br({path:"M14.4927 2C16.3409 2.00026 17.8167 3.49511 17.8169 5.32422V6.1709H20.3286L20.3599 6.17383C20.3974 6.17522 20.434 6.17832 20.4702 6.18457L20.4966 6.1875C20.5069 6.18962 20.5167 6.1938 20.5268 6.19629C20.5524 6.20259 20.5774 6.21012 20.602 6.21875C20.6251 6.22679 20.6473 6.23613 20.6694 6.24609C20.687 6.25405 20.7042 6.26236 20.7212 6.27148C20.7443 6.28393 20.7668 6.29702 20.7886 6.31152C20.8086 6.32487 20.8274 6.3395 20.8462 6.35449C20.8639 6.36867 20.8814 6.38288 20.8979 6.39844C20.9139 6.41346 20.9291 6.42907 20.9438 6.44531C20.9622 6.46558 20.9793 6.48678 20.9956 6.50879C21.006 6.52287 21.0163 6.537 21.0259 6.55176C21.0417 6.57623 21.0555 6.60178 21.0688 6.62793C21.0771 6.64429 21.085 6.66075 21.0923 6.67773C21.1035 6.70413 21.113 6.73108 21.1216 6.75879C21.1245 6.7684 21.1297 6.77735 21.1323 6.78711L21.1362 6.8125C21.1443 6.84666 21.1491 6.88136 21.1528 6.91699L21.1597 6.9541L21.9995 21.1172C22.0131 21.3461 21.9312 21.5713 21.7739 21.7383C21.6166 21.9052 21.3969 22 21.1675 22H8.66942C8.20949 22 7.83641 21.6269 7.83641 21.167V7.83594H4.45751L3.71727 20.334H5.33837L5.50634 20.3516C5.88563 20.4293 6.17127 20.7647 6.17137 21.167C6.17137 21.5694 5.88575 21.9057 5.50634 21.9834L5.33837 22H2.83348C2.60409 22 2.38439 21.9052 2.22704 21.7383C2.06982 21.5713 1.98789 21.3461 2.00145 21.1172L2.8413 6.9541L2.86669 6.79395C2.96003 6.43372 3.28695 6.17107 3.67235 6.1709H5.33153V5.33789C5.33155 3.4895 6.82654 2.01393 8.65575 2.01367C8.95257 2.01369 9.23722 2.05368 9.50634 2.125L9.77001 2.20703L9.92333 2.27734C10.2559 2.47593 10.4145 2.88775 10.2817 3.26758C10.1489 3.64715 9.76879 3.86999 9.38524 3.81836L9.22118 3.7793L9.08055 3.73438C8.94008 3.69706 8.79847 3.67873 8.65575 3.67871C7.74059 3.67897 6.99757 4.41516 6.99755 5.33789V6.1709H11.1675V5.32422C11.1677 3.47583 12.6633 2 14.4927 2ZM9.50243 20.334H20.2837L19.5434 7.83594H17.8169V9.49512C17.8168 9.95489 17.4436 10.328 16.9839 10.3281C16.5241 10.328 16.1519 9.9549 16.1518 9.49512V7.83594H12.8335V9.49512C12.8334 9.95499 12.4604 10.3281 12.0005 10.3281C11.5406 10.3281 11.1675 9.95498 11.1675 9.49512V7.83594H9.50243V20.334ZM14.4927 3.66602C13.5774 3.66602 12.8337 4.40149 12.8335 5.32422V6.1709H16.1518V5.32422C16.1516 4.40916 15.4152 3.66627 14.4927 3.66602Z",name:"IconPerplexityShopping",variant:"filled"}),S_e=br({path:"M13.7718 4C18.3247 4 21.9993 7.68969 21.9993 12.2275C21.9992 16.7663 18.3105 20.4551 13.7718 20.4551C12.7177 20.455 11.6928 20.2498 10.7679 19.8828L10.7347 19.8701L10.6956 19.8506L10.6888 19.8477L10.7005 19.8506C10.2597 19.7402 9.99093 19.2935 10.1009 18.8525C10.2112 18.4114 10.6588 18.1427 11.0999 18.2529C11.201 18.2782 11.2994 18.3177 11.3802 18.3545C12.1137 18.6448 12.931 18.8086 13.7718 18.8086C17.401 18.8086 20.3527 15.8568 20.3528 12.2275C20.3528 8.59729 17.4133 5.64648 13.7718 5.64648C10.1295 5.64662 7.17822 8.59799 7.17802 12.2402C7.17802 12.6986 7.22473 13.1431 7.31181 13.5674L7.4124 13.9834L7.43974 14.1484C7.4658 14.5306 7.22073 14.892 6.8372 14.998C6.45383 15.1037 6.05889 14.9192 5.88505 14.5781L5.82451 14.4229L5.69853 13.8975C5.58917 13.3644 5.53154 12.8096 5.53154 12.2402C5.53174 7.68849 9.22001 4.00013 13.7718 4ZM10.6888 19.8477C10.6862 19.8469 10.6839 19.8467 10.6839 19.8467H10.6868L10.6888 19.8477ZM16.2591 8.95508C16.2902 8.95596 16.3209 8.96043 16.3519 8.96484L16.4017 8.9707C16.4046 8.9713 16.4075 8.97202 16.4104 8.97266C16.4181 8.97431 16.4253 8.97762 16.4329 8.97949C16.4707 8.98881 16.5077 8.99934 16.5433 9.01367C16.5527 9.01748 16.5613 9.02317 16.5706 9.02734C16.6042 9.04238 16.6372 9.05793 16.6683 9.07715C16.6781 9.08327 16.6869 9.09107 16.6966 9.09766C16.7271 9.11839 16.7571 9.13953 16.7845 9.16406C16.786 9.16545 16.7878 9.16657 16.7894 9.16797C16.8129 9.18943 16.8343 9.21289 16.8548 9.23633C16.8667 9.24994 16.878 9.26394 16.889 9.27832C16.9079 9.30307 16.9259 9.32817 16.9417 9.35449C16.9476 9.36436 16.9528 9.37463 16.9583 9.38477C16.9747 9.41493 16.9889 9.44591 17.0013 9.47754C17.0042 9.48503 17.0073 9.49241 17.0101 9.5C17.0231 9.53641 17.0326 9.5737 17.0403 9.61133C17.0427 9.62301 17.0453 9.63463 17.0472 9.64648C17.0535 9.68596 17.0573 9.72569 17.0579 9.76562C17.058 9.76941 17.0589 9.77354 17.0589 9.77734V13.8877C17.0587 14.3423 16.6902 14.7109 16.2356 14.7109C15.7811 14.7109 15.4126 14.3423 15.4124 13.8877V11.8701C12.0054 15.4487 9.45177 17.4947 7.53252 18.5244C5.5087 19.61 3.92643 19.6815 2.8792 18.8291L2.67705 18.6465C2.04543 18.0149 1.92632 17.1236 2.03642 16.2793C2.14798 15.424 2.50735 14.468 3.03545 13.4951C3.25239 13.0955 3.75298 12.9462 4.15263 13.1631C4.55218 13.38 4.69947 13.8807 4.48271 14.2803C4.01013 15.1509 3.74555 15.9076 3.66923 16.4912C3.59173 17.0854 3.72193 17.3609 3.84111 17.4805C4.09158 17.7309 4.8066 18.118 6.7542 17.0732C8.47468 16.1502 10.9246 14.2091 14.345 10.6006H12.1253C11.6707 10.6006 11.3022 10.2319 11.302 9.77734C11.302 9.32259 11.6705 8.95312 12.1253 8.95312H16.2356L16.2591 8.95508Z",name:"IconPerplexityTravel",variant:"filled"}),z0t=(e,t)=>t?t===e.link:!1,M_e=L.memo(({item:e,position:t,onDeleteClick:n,sidebarOpen:r})=>{const{trackEvent:s}=Ye(),a=ln(),{title:i,link:l,variant:c}=e,u=c==="thread",{actualQuery:d}=Wd(i),h=d||i,{$t:m}=ae(),g=f.useCallback(()=>{s("click recent thread",{title:i,link:l,variant:c,position:t})},[l,t,i,s,c]),v=f.useMemo(()=>[{text:m({defaultMessage:"Delete {item}",id:"rdK9AWns19"},{item:u?"Thread":"Page"}),icon:Id,onClick:x=>{x.stopPropagation(),n(e)},type:"default"}],[m,u,e,n]);return o.jsx(fa,{href:l,text:h,fadeOut:!0,onClick:g,sidebarOpen:r,selected:z0t(e,a),menuItems:v,testId:`thread-title-${h}`})});M_e.displayName="ThreadHistoryItemV2";const Vr=L.memo(({children:e,header:t,fullBleed:n,roundedClass:r,shadow:s,fullBleedBorderClassname:a,...i})=>o.jsxs(o.Fragment,{children:[t,o.jsxs(Q,{...i,variant:i.variant??"raised",className:W("relative",{"border-subtle border":!n&&!i.variant,[r||"rounded-xl"]:!i.variant,"shadow-[0_1px_2px_0_rgba(0,0,0,0.03)]":s},i.className),children:[n&&o.jsx("div",{className:W("rounded-inherit pointer-events-none absolute inset-0 z-[1] border border-[black]/5 dark:border-[white]/5",a)}),e]})]}));Vr.displayName="CanonicalCard";const H0t={about:qj,born:G7,age:G7,died:G7,parents:bY,siblings:bY,children:fHe,spouse:zj,spouses:zj,education:xw,educated_at:xw,net_worth:PHe,ratings:Wj,directed_by:xce,starring:qj,watch_on:wce,treatment:TWe,symptoms:UHe,specialists:n$e};function W0t(e){return e&&H0t[e]||null}const $0t={EXTERNAL_LINK_TYPE_UNSPECIFIED:yw,PRIMARY:yw,WIKIPEDIA:SHe,X:MHe,INSTAGRAM:bHe,TIKTOK:CHe,YOUTUBE:sce,FACEBOOK:yHe,MAYOCLINIC:pg,IMDB:rce};function XZ(e){return $0t[e]}const k_e=f.createContext({menuItems:void 0}),$C=()=>{const e=f.useContext(k_e);if(!e)throw new Error("usePanel must be used within PanelContext");return e},Wr=({children:e,menuItems:t,variant:n,className:r})=>o.jsx(oi,{fallback:null,children:o.jsx(k_e.Provider,{value:{menuItems:t},children:n==="noChrome"?o.jsx(Q,{className:r||"mb-md",children:e}):o.jsx(Vr,{shadow:!0,className:`${r||"mb-md"} p-md`,children:e})})}),q0t=({menuItems:e,buttonClass:t,placement:n})=>{const{isMobileStyle:r}=qe();return e.length<=0?null:o.jsx(Rn,{items:e,isMobileStyle:r,placement:n,children:o.jsx(it,{size:"tiny",pill:!0,icon:tf,extraCSS:t})})},G0t=({title:e,href:t,subtitle:n,image_url:r,links:s,children:a,entryUUID:i,data:l})=>{const{trackEvent:c}=Ye(),u=f.useCallback(h=>{c("knowledge card link clicked",{label:"social media",socialMediaType:h.type,value:h.url,entryUUID:i,type:l?.type??"",name:l?.title??"",id:l?.source_url??""})},[l?.source_url,l?.title,l?.type,i,c]),d=f.useMemo(()=>L.memo(({link:h,solo:m})=>{const g=f.useCallback(()=>u(h),[h]);return m?o.jsx(Le,{icon:XZ(h.type),text:h.title,textClassName:"font-normal ml-2xs text-textOff ",size:"tiny",href:h.url,target:"_blank",onClick:g},h.url):o.jsx(Le,{icon:XZ(h.type),size:"tiny",href:h.url,target:"_blank",onClick:g},h.type)}),[u]);return o.jsx(Q,{className:"gap-sm flex w-full justify-between",children:o.jsxs("div",{className:"gap-md flex grow items-start",children:[r?o.jsx("div",{className:"flex-none",children:o.jsx(ps,{imageClassName:"size-[120px] object-cover object-top",rounded:"md",src:r,alt:e,includeLightBoxModal:!1})}):null,o.jsxs("div",{className:"flex h-full grow flex-col",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"gap-sm mb-[2px] flex items-start",children:[o.jsx(F,{variant:"section-title",className:"flex-1",children:t?o.jsx(Nt,{href:t,target:"_blank",className:"pointer-cursor hover:text-super flex-1 duration-150",children:e}):e}),a]}),n&&o.jsx(F,{variant:"small",className:"mb-sm mr-sm text-pretty",children:n})]}),s&&s.length>0&&o.jsx("div",{className:"gap-sm flex flex-wrap",children:s.map(h=>o.jsx(d,{link:h,solo:s.length===1},h.type))})]})]})})},Y0t=({name:e,title:t,value:n})=>{const r=W0t(e);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"gap-sm flex min-w-[120px]",children:[r&&o.jsx(F,{variant:"smallBold",color:"light",className:"w-5",children:o.jsx(Ne,{icon:r,size:"sm"})}),o.jsx(F,{variant:"smallBold",color:"light",children:t})]}),o.jsx(F,{variant:"small",children:n})]})},K0t=({children:e})=>o.jsx(Q,{className:"pt-sm px-md border-t",children:e});Wr.Title=G0t;Wr.Item=Y0t;Wr.Menu=q0t;Wr.Footer=K0t;const E_e=L.memo(({graphData:e})=>{const[t,n]=f.useState(!1),r=e.url,s=e.name,a=f.useCallback(()=>n(!1),[]);return o.jsxs("div",{className:"flex justify-center",children:[o.jsx("img",{src:r,alt:s,className:"max-h-[50vh] overflow-hidden rounded align-middle",onClick:()=>n(!0)}),o.jsx(T_e,{isOpen:t,onClose:a,alt:s,src:r})]})});E_e.displayName="StaticImageGraph";const T_e=L.memo(({isOpen:e,onClose:t,alt:n,src:r})=>{const s=f.useCallback(()=>t(!1),[t]);return o.jsxs(Sn,{onClose:s,isOpen:e,variant:"hide-chrome",disableAnimation:!1,children:[o.jsx("div",{className:"size-screen flex place-content-center",onClick:()=>t(!1),children:o.jsx("div",{className:"gap-xs p-md md:p-xl flex flex-col items-center justify-between",children:o.jsx("div",{className:"grow",children:o.jsx("img",{alt:n,src:r,className:"max-h-[50vh]"})})})}),o.jsx(Le,{onClick:s,icon:yn,extraCSS:"!fixed top-md right-md shadow-sm",size:"small",pill:!0,ariaLabel:"Close"})]})});T_e.displayName="ImageModal";const N_e=L.memo(({graphData:e})=>o.jsxs(Wr,{className:"gap-md bg-offset p-md flex flex-col rounded-md text-center",children:[o.jsx(Wr.Title,{title:e.name,subtitle:""}),o.jsx(E_e,{graphData:e})]}));N_e.displayName="GraphPanel";const Wg=e=>{let t;if("meta_data"in e?t=e.meta_data:t=Ls(e).with({place_widget_block:vh.nonNullable},n=>({...n.place_widget_block,object:"PlaceWidget"})).with({shopping_widget_block:vh.nonNullable},n=>({...n.shopping_widget_block,progress:yp.DONE,object:"ShopifyWidget"})).with({search_result_widget_block:vh.nonNullable},n=>{const r=n.search_result_widget_block.metadata||{},s=r.object;if(s==="WeatherWidget")return{...r,progress:yp.DONE,object:"WeatherWidget"};if(s==="TimeWidget")return{...r,progress:yp.DONE,object:"TimeWidget"};if(s==="CalculatorWidget")return{...r,progress:yp.DONE,object:"CalculatorWidget"};if(s==="TaskWidget")return{...r,progress:yp.DONE,object:"TaskWidget"}}).otherwise(()=>{}),!!t)return t},Q0t={pendingClarifications:[],addClarification:()=>{},clearClarifications:()=>{}},j_e=f.createContext(Q0t),X0t=({children:e})=>{const[t,n]=f.useState([]),r=f.useCallback(i=>{n(t.concat([i]))},[t]),s=f.useCallback(()=>{n([])},[]),a={pendingClarifications:t,clearClarifications:s,addClarification:r};return o.jsx(j_e.Provider,{value:a,children:e})},A_e=()=>{const e=f.useContext(j_e);if(!e)throw new Error("useDeepResearchState must be used within DeepResearchContext");return e};var dl={},ZZ;function Z0t(){if(ZZ)return dl;ZZ=1;var e=dl&&dl.__values||function(s){var a=typeof Symbol=="function"&&s[Symbol.iterator],i=0;return a?a.call(s):{next:function(){return s&&i>=s.length&&(s=void 0),{value:s&&s[i++],done:!s}}}},t=dl&&dl.__read||function(s,a){var i=typeof Symbol=="function"&&s[Symbol.iterator];if(!i)return s;var l=i.call(s),c,u=[],d;try{for(;(a===void 0||a-- >0)&&!(c=l.next()).done;)u.push(c.value)}catch(h){d={error:h}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(d)throw d.error}}return u};Object.defineProperty(dl,"__esModule",{value:!0}),dl.selectState=function(s){return s};function n(){var s,a,i;function l(c){var u=0,d;function h(g){var v,x;s||(s={state:g,version:1}),s.state!==g&&(s.state=g,s.version+=1);var b=s.version,w;if(d){if(b===d.stateVersion)return d.value;var C=!1;try{for(var S=e(d.dependencies.entries()),k=S.next();!k.done;k=S.next()){var E=t(k.value,2),T=E[0],j=E[1];if(T(g)!==j){C=!0,w=T;break}}}catch(I){v={error:I}}finally{try{k&&!k.done&&(x=S.return)&&x.call(S)}finally{if(v)throw v.error}}if(!C)return d.value}u+=1;var N=new Map,R=Object.assign(function(I){if(N.has(I))return N.get(I);var B=I(g);return N.set(I,B),B},{reason:w}),O=i?i(function(){return c(R)},m,g,w):c(R);if(N.size===0)throw new Error("[rereselect] Selector malfunction: The selection logic must select some data by calling `query(selector)` at least once.");return d={stateVersion:b,dependencies:N,value:O},O}var m=Object.assign(function(v){return a?a(function(){return h(v)},m,v):h(v)},{selectionLogic:c,recomputations:function(){return u},resetRecomputations:function(){return u=0},introspect:function(){return d}});return m}return{makeSelector:l,setInvocationWrapper:function(c){a=c},setComputationWrapper:function(c){i=c}}}dl.createSelectionContext=n;var r=n();return dl.makeSelector=r.makeSelector,dl}var zt=Z0t();const J0t=4,R_e=L.memo(({dollarCount:e,priceRange:t,className:n="",dollarColor:r="default",textVariant:s="tiny",currencySymbol:a,...i})=>{const l=t&&/^(.+?)\s*(\1\s*)+$/.test(t.trim());return l&&(e=t.replace(/\u200A/g,"").length??0),o.jsx("div",{className:`flex items-center ${n}`,...i,children:t&&!l?o.jsx(F,{variant:s,color:r,children:t}):o.jsx("div",{className:"flex gap-px",children:Array.from({length:J0t},(c,u)=>o.jsx(F,{variant:s,className:"inline-flex",color:u<e?r:"ultraLight",children:a||"$"},u))})})});R_e.displayName="DollarRange";var zk={},JZ;function evt(){return JZ||(JZ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="chevron-down",r=512,s=512,a=[],i="f078",l="M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faChevronDown=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(zk)),zk}var L_e=evt(),Hk={},eJ;function tvt(){return eJ||(eJ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="chevron-right",r=320,s=512,a=[9002],i="f054",l="M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faChevronRight=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(Hk)),Hk}var nvt=tvt();const O_e=f.createContext({selectedWidgetId:void 0,scrollToWidget:()=>{},entityRefs:{}}),tU=()=>{const e=f.useContext(O_e);if(!e)throw new Error("useScrollToWidget must be used within ScrollToWidgetContext");return e},P_e=L.memo(({children:e,entities:t})=>{const[n,r]=f.useState({}),[s,a]=f.useState(void 0),{scrollContainerRef:i}=Mu(),l=f.useRef(null);f.useEffect(()=>()=>{r({})},[]),f.useEffect(()=>{r(u=>{const d=u;let h=!1;return t?.map(m=>{const g=Wg(m);if(!g)return;if(g.object==="ShopifyWidget"){const x=g.id;if(!n[x]){h=!0;const b=f.createRef();d[x]=b}}}),h?d:u})},[t,n]);const c=u=>{l.current&&clearTimeout(l.current);const d=n[u].current;if(d&&i?.current){const m=d.getBoundingClientRect().top+i.current?.scrollTop-200;i?.current?.scrollTo({top:m,behavior:"smooth"})}a(u),l.current=setTimeout(()=>{a(void 0)},2e3)};return o.jsx(O_e.Provider,{value:{selectedWidgetId:s,scrollToWidget:c,entityRefs:n},children:e})});P_e.displayName="ScrollToWidgetProvider";const I_e=f.createContext({entityId:"",menuItems:void 0,variant:void 0}),Ux=()=>{const e=f.useContext(I_e);if(!e)throw new Error("useEntity must be used within EntityContext");return e},rvt=({children:e,id:t,menuItems:n,className:r,entityVariant:s})=>o.jsx(I_e.Provider,{value:{entityId:t,menuItems:n,variant:s},children:o.jsx(Vr,{variant:s==="hide-chrome"?"transparent":void 0,className:W("group/card flex flex-col",{"p-md":s!=="hide-chrome"},r),children:e})}),svt=({className:e,...t})=>o.jsx(Q,{className:W("gap-sm md:gap-md relative flex flex-col rounded-lg md:flex-row",e),...t}),avt=({primaryButtonText:e,onPrimaryButtonClick:t,listNumber:n,className:r,children:s,...a})=>o.jsxs("div",{className:W("relative md:w-[calc(30%_-_8px)]",r),...a,children:[o.jsxs("div",{className:"gap-md flex h-full flex-col justify-between",children:[s,e&&t&&o.jsx("div",{className:"flex flex-col items-stretch md:max-w-[160px]",children:o.jsx(Le,{text:e,variant:"primary",onClick:t,pill:!0,size:"small"})})]}),typeof n=="number"&&o.jsx(F,{variant:"smallCaps",color:"light",className:"border-borderMain bg-background absolute -left-1.5 -top-1.5 flex size-5 shrink-0 items-center justify-center rounded-full border shadow-sm",children:n})]}),ivt=({className:e,buttonProps:t,secondaryButtonProps:n,trailingComponent:r,children:s,...a})=>{const{menuItems:i}=Ux();return o.jsx("div",{className:W("flex min-w-0 flex-1 flex-col",e),...a,children:o.jsxs("div",{className:"gap-sm md:gap-md flex flex-1 flex-col justify-between rounded-lg",children:[o.jsx("div",{className:"gap-xs flex flex-col justify-between",children:o.jsx("div",{className:W("gap-xs relative mb-4 mt-2 flex flex-col md:mt-0"),children:s})}),(t||n)&&o.jsxs("div",{className:"gap-sm flex w-full items-center",children:[t&&o.jsx(Le,{variant:"primary",pill:!0,size:"small",...t,extraCSS:`${t.extraCSS} w-full max-w-[160px]`}),n&&o.jsx(Le,{variant:"border",pill:!0,size:"small",...n,extraCSS:`${n.extraCSS}`}),r,i&&i.length>0&&o.jsx("div",{className:"duration-150 group-hover/card:opacity-100 md:opacity-0",children:o.jsx(Wr.Menu,{menuItems:i,placement:"bottom-start"})})]})]})})},ovt=({title:e,onTitleClick:t,className:n})=>{const{selectedWidgetId:r}=tU(),{entityId:s}=Ux(),{isMobileStyle:a}=qe();return o.jsx("div",{onClick:t,className:n,children:o.jsx(F,{variant:a?"section-title":"entry-title",className:W("line-clamp-3 cursor-pointer !leading-tight duration-150 hover:opacity-70 md:text-2xl"),children:o.jsx("span",{className:W("rounded-md duration-300",{"bg-super/10":r===s}),children:e})})})},lvt=({loading:e,className:t,onClick:n,trailingText:r})=>{const{$t:s}=ae();return o.jsxs(Q,{className:W("group relative flex h-12 items-center",{"opacity-50":e,"cursor-pointer":!e},t),onClick:e?void 0:n,children:[!e&&o.jsx(Q,{variant:"offsetPlus",className:"inset-y-xs absolute -inset-x-3 rounded-md opacity-0 duration-150 group-hover:opacity-100"}),o.jsxs("div",{className:"relative w-full",children:[o.jsxs("div",{className:W("gap-md relative flex w-full items-center justify-between",{"opacity-0":e}),children:[o.jsx(F,{variant:"smallBold",color:"light",children:s({defaultMessage:"View More",id:"QQSdHPJWXu"})}),o.jsxs(F,{variant:"tiny",color:"light",className:"gap-sm flex items-center",children:[r,o.jsx(Ne,{icon:xa,size:"xs"})]})]}),e&&o.jsxs("div",{className:"absolute inset-0 flex items-center justify-between",children:[o.jsx(Q,{className:"h-2 w-[100px] rounded-full",variant:"offsetPlus"}),o.jsx(jt,{icon:nvt.faChevronRight,className:"text-textMain/35"})]})]})]})},cvt=({title:e,className:t,children:n,trailingContent:r,defaultExpanded:s=!1})=>{const[a,i]=f.useState(!s);return o.jsxs(Q,{className:t,children:[o.jsxs("div",{onClick:()=>i(!a),className:"group relative flex h-12 cursor-pointer select-none items-center justify-between",children:[o.jsx(Q,{variant:"offsetPlus",className:"inset-y-xs absolute -inset-x-3 rounded-md opacity-0 duration-150 group-hover:opacity-100"}),o.jsx(F,{variant:"smallBold",color:"light",className:"relative",children:e}),o.jsxs("div",{className:"gap-md relative flex items-center",children:[o.jsx("div",{className:"gap-xs flex items-stretch",children:r}),o.jsx(jt,{icon:L_e.faChevronDown,className:W("text-text relative opacity-50",{"rotate-180":!a}),size:"sm"})]})]}),o.jsx(ef,{transition:{ease:Hl(.16,1,.3,1),duration:.2},initial:!1,children:!a&&o.jsx(lu,{transition:{duration:.1},exit:{y:-5,opacity:0},animate:{y:0,opacity:1},initial:{y:-5,opacity:0},children:o.jsx("div",{className:"pb-4",children:n})})})]})},nU=rvt,uvt=svt,dvt=ovt,Wk=cvt,fvt=avt,hvt=ivt,mvt=lvt;var $k={},qk={},tJ;function pvt(){return tJ||(tJ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="xmark",r=384,s=512,a=[128473,10005,10006,10060,215,"close","multiply","remove","times"],i="f00d",l="M345 137c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-119 119L73 103c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l119 119L39 375c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l119-119L311 409c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-119-119L345 137z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faXmark=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(qk)),qk}var nJ;function gvt(){return nJ||(nJ=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=pvt();e.definition={prefix:t.prefix,iconName:t.iconName,icon:[t.width,t.height,t.aliases,t.unicode,t.svgPathData]},e.faClose=e.definition,e.prefix=t.prefix,e.iconName=t.iconName,e.width=t.width,e.height=t.height,e.ligatures=t.aliases,e.unicode=t.unicode,e.svgPathData=t.svgPathData,e.aliases=t.aliases}($k)),$k}var vvt=gvt();const rU=L.memo(f.forwardRef(({isOpen:e,children:t,placement:n,hoverOpen:r=!1,disabled:s=!1,onOpen:a,onClose:i,content:l,contentWidth:c="360px",isMobileStyle:u,boxProps:d,canOutsideClickClose:h,removeScroll:m,...g},v)=>{const[x,b]=f.useState(!1),w=f.useMemo(()=>e!==void 0,[e]),C=f.useMemo(()=>w?e:x,[w,e,x]),S=f.useCallback(()=>{!C&&!s&&(a?.(),w||b(!0))},[s,w,a,C]),k=f.useCallback(()=>{C&&!s&&(i?.(),w||b(!1))},[s,w,i,C]);f.useImperativeHandle(v,()=>({dismiss:k}),[k]);const E=f.useMemo(()=>({width:c??void 0}),[c]),T=f.useMemo(()=>o.jsx(Q,{style:E,...d,children:l}),[E,d,l]),j=f.useMemo(()=>({canOutsideClickClose:h??!0,removeScroll:m}),[h,m]);return u?o.jsxs(o.Fragment,{children:[o.jsx(Sn,{variant:"bottom-left-sheet",actionList:Fe,isOpen:C,onClose:k,children:l}),o.jsx("span",{onClick:S,children:t})]}):o.jsx(lo,{isOpen:C,hoverOpen:r,placement:n,onClose:k,onOpen:S,overlayProps:j,content:T,hasInteractiveContent:!0,...g,children:t})})),D_e=L.memo(({inFlight:e,chooseIfReason:t,chooseIfLeadInCopy:n,pros:r,cons:s,className:a,viewState:i="collapsed",id:l})=>{const c=!t&&e;return o.jsx(Kn,{active:c,className:W("relative",a),children:o.jsx(ef,{children:o.jsx(lu,{children:o.jsxs("div",{className:"gap-sm pb-xs relative mt-3 flex flex-col rounded-md md:mx-0",children:[o.jsx(F_e,{reason:t,leadInCopy:n,loading:c}),o.jsx(by,{pros:r??Fe,cons:s??Fe,loading:c,viewState:i,id:l})]})})})})});D_e.displayName="EntityItemGuidance";const F_e=L.memo(({reason:e,icon:t,leadInCopy:n,loading:r,textVariant:s="base"})=>{const{variant:a}=Ux();return!e&&!r?null:o.jsxs("div",{className:W("flex items-start gap-[12px] rounded-md md:items-center"),children:[!r&&t&&o.jsxs(Q,{className:"mt-xs text-background relative isolate hidden aspect-square size-8 shrink-0 items-center justify-center rounded-full md:mt-0 md:flex",children:[o.jsx("svg",{width:"75",height:"75",viewBox:"0 0 75 75",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"absolute h-auto w-full",children:o.jsx("path",{d:"M30.4039 2.95197C34.316 -0.98399 40.684 -0.983989 44.5961 2.95197L46.7415 5.11049C48.627 7.00748 51.1935 8.07056 53.8681 8.06241L56.9114 8.05315C62.4608 8.03625 66.9637 12.5392 66.9468 18.0886L66.9376 21.1319C66.9294 23.8065 67.9925 26.373 69.8895 28.2585L72.048 30.4039C75.984 34.316 75.984 40.684 72.048 44.5961L69.8895 46.7415C67.9925 48.627 66.9294 51.1935 66.9376 53.8681L66.9468 56.9114C66.9637 62.4608 62.4608 66.9637 56.9114 66.9469L53.8681 66.9376C51.1935 66.9294 48.627 67.9925 46.7415 69.8895L44.5961 72.048C40.684 75.984 34.316 75.984 30.4039 72.048L28.2585 69.8895C26.373 67.9925 23.8065 66.9294 21.1319 66.9376L18.0886 66.9469C12.5392 66.9637 8.03625 62.4608 8.05315 56.9114L8.06241 53.8681C8.07056 51.1935 7.00748 48.627 5.11049 46.7415L2.95197 44.5961C-0.983992 40.684 -0.983987 34.316 2.95197 30.4039L5.11049 28.2585C7.00748 26.373 8.07056 23.8065 8.06241 21.1319L8.05315 18.0886C8.03625 12.5392 12.5392 8.03625 18.0886 8.05315L21.1319 8.06241C23.8065 8.07056 26.373 7.00748 28.2585 5.11049L30.4039 2.95197Z",fill:"#D9D9D9",className:"fill-super"})}),o.jsx(jt,{icon:t,size:"sm",className:"relative"})]}),o.jsx("div",{className:"w-full",children:r?o.jsxs("div",{className:"gap-sm pb-sm flex flex-col",children:[o.jsx(Q,{variant:a==="hide-chrome"?"offset":"offsetPlus",className:"h-2 w-full rounded-full"}),o.jsx(Q,{variant:a==="hide-chrome"?"offset":"offsetPlus",className:"h-2 rounded-full"}),o.jsx(Q,{variant:a==="hide-chrome"?"offset":"offsetPlus",className:"h-2 w-[50%] rounded-full"})]}):o.jsxs(F,{variant:s,children:[o.jsx("span",{className:"font-medium",children:n})," ",e]})})]})});F_e.displayName="EntityItemChooseIf";const U_e=3,B_e=2,by=L.memo(({pros:e,cons:t,loading:n,className:r,viewState:s="collapsed",id:a,scrollOnMobile:i=!0})=>!n&&e.length===0&&t.length===0?null:o.jsx("div",{className:r,children:s==="collapsed"?o.jsx(z_e,{loading:n,pros:e,cons:t,id:a,scrollOnMobile:i}):o.jsx(H_e,{loading:n,pros:e,cons:t})}));by.displayName="EntityItemProsCons";const V_e=L.memo(({children:e,loading:t,scrollOnMobile:n=!0})=>{const{isMobileStyle:r}=qe(),{variant:s}=Ux();return r&&n?o.jsx("div",{className:"-mx-md",children:o.jsx(mu,{orientation:"horizontal",showScrollIndicator:!1,children:o.jsx("div",{className:"flex",children:o.jsx("ul",{className:"gap-sm px-md flex shrink-0",children:e})})})}):o.jsx("ul",{className:W("flex flex-wrap",{"gap-0":s==="dense-card"&&!t,"gap-sm":s!=="dense-card"||t}),children:e})});V_e.displayName="ProsConsCollapsedContainer";const z_e=L.memo(({loading:e,pros:t,cons:n,id:r,scrollOnMobile:s=!0})=>o.jsx(V_e,{loading:e,scrollOnMobile:s,children:o.jsx(kt,{initial:!1,children:o.jsx(rm,{children:e?Array.from({length:3}).map((a,i)=>o.jsx(F5,{asPlaceholder:!0,text:"",type:"con",label:"",id:r},i)):o.jsxs(o.Fragment,{children:[t.map(a=>o.jsx(F5,{text:a.description,type:"pro",label:a.label,id:r},a.label+r)).slice(0,U_e),n.map(a=>o.jsx(F5,{text:a.description,type:"con",label:a.label,id:r},a.label+r)).slice(0,B_e)]})})})}));z_e.displayName="ProsConsCollapsed";const H_e=L.memo(({loading:e,pros:t,cons:n})=>o.jsx("div",{className:"-mx-6",children:o.jsx(mu,{orientation:"horizontal",showScrollIndicator:!1,children:o.jsx("ul",{className:"gap-sm flex px-6",children:e?Array.from({length:3}).map((r,s)=>o.jsx(W_e,{},s)):o.jsxs(o.Fragment,{children:[t.map(r=>o.jsx(mR,{text:r.description,type:"pro",label:r.label},r.label)).slice(0,U_e),n.map(r=>o.jsx(mR,{text:r.description,type:"con",label:r.label},r.label)).slice(0,B_e)]})})})}));H_e.displayName="ProsConsExpanded";const F5=L.memo(({text:e,label:t,type:n,asPlaceholder:r,id:s})=>{const{trackEvent:a}=Ye(),{variant:i}=Ux(),l=()=>{r||a("shopping pro con hover",{type:n,label:t})},c={initial:{opacity:0,x:-3},animate:{opacity:1,x:0}},u=f.useMemo(()=>o.jsx("div",{className:W("px-sm py-sm pointer-events-none translate-y-0"),children:o.jsx(F,{variant:"small",children:e})}),[e]);return o.jsx(je.li,{variants:c,initial:"initial",animate:"animate",transition:{duration:.1,ease:Mi},className:W("group inline-flex shrink-0 cursor-default rounded-full duration-150",{"gap-xs":i!=="dense-card","gap-sm":i==="dense-card","hover:bg-offsetPlus/50":!r,"border-borderMain/50 border duration-150":!r&&i!=="dense-card","!border-transparent !bg-transparent":r}),onMouseEnter:l,children:o.jsx(rU,{hoverOpen:!0,placement:"bottom-start",contentWidth:"200px",removeScroll:!1,content:u,isMobileStyle:!1,delayTime:1,disabled:r,hasInteractiveContent:!1,childrenClassName:"inline-flex",children:o.jsxs("div",{className:W("px-xs py-xs relative inline-flex items-center pr-[10px]",{"bg-offset dark:bg-offsetPlusDark":r,"h-[26px] rounded-full":r,"gap-2xs":i==="dense-card","gap-xs":i!=="dense-card"}),children:[o.jsx("div",{className:W("size-md flex shrink-0 items-center justify-center rounded-full",{"text-super":n==="pro"},{"text-textOff":n==="con"},{"bg-transparent":r}),children:o.jsx(F,{variant:"tiny",color:n==="pro"?"super":"light",className:"inline-flex",children:o.jsx(Ne,{className:r?"opacity-0":"",icon:n==="pro"?Pa:yn,size:"xs"})})}),r?o.jsx(F,{variant:"tiny",className:"w-10 shrink-0",children:" "}):o.jsx(F,{variant:"tiny",color:"light",children:o.jsx("span",{className:W({"text-super":n==="pro"}),children:t})})]})})},t+s)});F5.displayName="EntityItemProConItem";const W_e=L.memo(()=>o.jsx(Q,{className:"p-sm h-[136px] w-[200px] rounded-md",variant:"offset"}));W_e.displayName="ExpandedLoading";const mR=L.memo(({text:e,label:t,type:n})=>o.jsxs(Q,{className:"p-sm w-[200px] rounded-md",variant:"offset",children:[o.jsxs("div",{className:"mb-2xs gap-xs flex items-center",children:[o.jsx(Q,{variant:n==="pro"?"super":"textColor",className:W("size-md flex shrink-0 items-center justify-center rounded-full",{"opacity-50":n==="con"}),children:o.jsx(jt,{icon:n==="pro"?HC.faCheck:vvt.faClose,className:"text-background",size:"2xs"})}),o.jsx(F,{variant:"smallBold",color:n==="pro"?"super":"light",children:t})]}),o.jsx(F,{variant:"small",color:"light",children:e})]}));mR.displayName="ProConItemExpanded";const Bh=f.memo(({src:e,onClick:t,showViewMore:n,onMouseEnter:r,onMouseLeave:s,className:a,imageClassName:i,albumSize:l})=>{const{$t:c}=ae();return o.jsxs("div",{onClick:t,onMouseEnter:r,onMouseLeave:s,className:W("bg-offsetPlus group relative aspect-square h-full w-full cursor-pointer overflow-hidden rounded duration-150",a),children:[o.jsx("img",{src:e,alt:"",className:W("m-0 size-full object-contain duration-150 group-hover:scale-[1.02]",i),sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",loading:"lazy",decoding:"async"}),l&&o.jsx("div",{className:"absolute bottom-1.5 right-1.5 flex items-center justify-center rounded-full bg-black/40",children:o.jsxs(F,{variant:"tiny",color:"white",className:"gap-sm px-sm py-xs relative flex items-center",children:[l,o.jsx(Ne,{icon:SWe,size:"xs"})]})}),n&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 dark:bg-black/80",children:o.jsxs(F,{variant:"tiny",color:"white",className:"px-sm py-xs relative rounded-full",children:[o.jsx("span",{className:"absolute inset-0 rounded-[inherit] bg-black opacity-30 dark:bg-white dark:opacity-10"}),o.jsx("span",{className:"relative opacity-80 dark:opacity-60",children:c({defaultMessage:"View More",id:"QQSdHPJWXu"})})]})})]})}),yvt=()=>{const[e,t]=f.useState(!1),n=f.useRef(null),r=f.useRef(!1),s=f.useRef({x:0,y:0}),a=f.useRef(null);f.useEffect(()=>{const c=u=>{s.current={x:u.clientX,y:u.clientY}};return document.addEventListener("mousemove",c,{passive:!0}),()=>document.removeEventListener("mousemove",c)},[]);const i=f.useCallback(()=>{if(!n.current)return;const c=n.current.getBoundingClientRect(),{x:u,y:d}=s.current,h=u>=c.left&&u<=c.right&&d>=c.top&&d<=c.bottom;r.current&&!h&&(t(!0),r.current=!1,a.current&&(clearInterval(a.current),a.current=null))},[]),l=f.useCallback(()=>{t(!1),r.current=!0,a.current=setInterval(i,50)},[i]);return f.useEffect(()=>()=>{a.current&&clearInterval(a.current)},[]),[e,n,l]},$_e=f.memo(({images:e,className:t,badgeText:n,imageClassName:r})=>{const[s,a]=f.useState(0),[i,l]=f.useState(!1),c=f.useRef(null),u=4,[d,h,m]=yvt(),g=f.useCallback(()=>{i||(l(!0),c.current=setInterval(()=>{a(b=>b===e.length-1?0:b+1)},1e3))},[i,e.length]),v=f.useCallback(()=>{l(!1),c.current&&(clearInterval(c.current),c.current=null),a(0)},[]),x=f.useCallback(()=>{m(),g()},[m,g]);return f.useEffect(()=>{d&&v()},[d,v]),f.useEffect(()=>()=>{c.current&&(clearInterval(c.current),c.current=null)},[]),o.jsxs("div",{className:"relative w-full",children:[o.jsx("div",{ref:h,className:W("p-xs grid grid-cols-1 grid-rows-1 rounded bg-white",t),onMouseEnter:x,children:i?e.map((b,w)=>o.jsx(Bh,{src:b,className:W("rounded-inherit col-start-1 row-start-1 bg-white !duration-100",{"opacity-0":w!==s,hidden:w!==s&&!i}),imageClassName:W(r,"!scale-100")},w)):o.jsx(Bh,{src:e[s],className:"rounded-inherit col-start-1 row-start-1 bg-white",imageClassName:W(r,"!scale-100")})}),e.length>1&&o.jsx("div",{className:W("bottom-sm pointer-events-none absolute left-1/2 -translate-x-1/2 duration-150",{"translate-y-0 opacity-50":i,"translate-y-0.5 opacity-0":!i}),children:o.jsx(xvt,{images:e,activeIndex:s,maxDots:u,isAnimating:i})}),n&&o.jsx("div",{className:"gap-sm right-xs top-xs pointer-events-none absolute flex items-center",children:n&&o.jsx(F,{variant:"smallCaps",className:"bg-text-200 !text-background dark:bg-background-200 dark:!text-text flex h-5 items-center whitespace-nowrap rounded-full px-1.5 !text-[10px] backdrop-blur-sm",children:n})})]})}),xvt=f.memo(({images:e,activeIndex:t,maxDots:n,isAnimating:r})=>o.jsx(je.div,{layout:!0,layoutRoot:!0,className:"gap-xs flex items-center justify-center",children:o.jsx(kt,{mode:"popLayout",children:e.map((s,a)=>{let i=0,l=0;return t<n?(i=Math.max(t-Math.floor(n/2),0),l=i+n):(l=Math.min(t+Math.floor(n/2),e.length-1),i=l-n),a>l||a<i?null:o.jsx(je.div,{initial:{opacity:0,x:4},animate:{opacity:1,x:0,scale:a===t?1:.6},exit:{opacity:0,x:-4},transition:{duration:.15},layout:"position",children:o.jsx("div",{className:W("bg-backgroundDark h-1.5 rounded-full border border-white p-px duration-200",{"w-4":a===t,"w-1.5":a!==t}),children:o.jsx(je.div,{className:"h-full rounded-full bg-white/50",initial:{width:"0",opacity:0},animate:{width:a===t&&r?"100%":"0",opacity:r?1:0},transition:{width:{duration:1},opacity:{duration:.15}}},s+"progress")})},a)})})})),bvt=25,$g=L.memo(({rating:e,className:t,reviewCount:n,size:r="xs",textVariant:s="small",reviewTextVariant:a="small",reviewTextColor:i="light",variant:l,showCount:c=!0,minReviewCount:u=bvt,showRatingLabel:d=!0,url:h,color:m="default"})=>{const g=Math.floor(e),v=e%1===0?0:1,x=5-g-v;if(e===0||!n||n<u)return null;const b=o.jsxs("div",{className:W("gap-xs flex items-center",t),children:[o.jsxs("div",{className:"flex items-center",children:[l==="truncated"?o.jsx(Ne,{icon:$p,size:r,className:"text-super translate-y-[-1px]"}):Array.from({length:g}).map((w,C)=>o.jsx(Ne,{icon:$p,size:r,className:"text-super"},`rating-star-full-${C}`)),l!=="truncated"&&Array.from({length:v}).map((w,C)=>o.jsx(q_e,{fraction:e%1,size:r},`rating-star-half-${C}`)),l!=="truncated"&&Array.from({length:x}).map((w,C)=>o.jsx("span",{className:"inline-flex opacity-20",children:o.jsx(Ne,{icon:$p,size:r,className:"text-super"},C)},`rating-star-empty-${C}`))]}),d&&o.jsx(F,{variant:s,className:"group-hover/link:text-super relative font-medium leading-none",color:m,children:o.jsx(rq,{value:e,maximumFractionDigits:1})}),n&&n>0&&c&&o.jsxs(F,{variant:a,color:i,className:"group-hover/link:text-super relative leading-none",children:["(",o.jsx(rq,{value:n}),")"]})]});return h?o.jsx(Nt,{href:h,target:"_blank",className:"group/link",children:b}):b});$g.displayName="EntityItemRating";const q_e=L.memo(({fraction:e,size:t})=>o.jsxs("div",{className:"isolate inline-grid grid-cols-1 grid-rows-1",children:[o.jsx("span",{className:"z-1 text-textMain relative col-start-1 row-start-1 inline-flex items-center opacity-30",children:o.jsx("span",{className:"inline-flex",children:o.jsx(Ne,{icon:$p,size:t})})}),o.jsx("span",{className:"z-2 relative col-start-1 row-start-1 inline-flex items-center",children:o.jsx("span",{className:"text-super inline-flex overflow-hidden",style:{width:e*100+"%"},children:o.jsx(Ne,{icon:$p,size:t,className:"shrink-0"})})})]}));q_e.displayName="HalfStar";const G_e=L.memo(()=>o.jsx("svg",{className:"h-auto w-full",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 4635.92 708.22",children:o.jsx("path",{d:"M4806.79,746.44a25,25,0,1,0,25,25A25,25,0,0,0,4806.79,746.44Zm0,46.08a21.08,21.08,0,1,1,21.08-21.07A21.09,21.09,0,0,1,4806.79,792.52Zm8.12-25.33c0-4.55-3.25-7.25-8-7.25h-8v22.77h3.94v-8.26h4.26l4.13,8.26h4.23L4811,773.6A6.59,6.59,0,0,0,4814.91,767.19Zm-8.16,3.78h-3.87v-7.55h3.87c2.63,0,4.23,1.33,4.23,3.77S4809.38,771,4806.75,771ZM569.17,605.31a97.95,97.95,0,1,1-97.94-97.94A97.94,97.94,0,0,1,569.17,605.31Zm552.18,0a97.95,97.95,0,1,1-97.95-97.94A97.95,97.95,0,0,1,1121.35,605.31ZM1099,304.09C998.87,235.77,878,195.89,747.32,195.89a619.47,619.47,0,0,0-351,108.2H195.89l90.17,98.12a274.9,274.9,0,0,0-89.89,203.66c0,152.19,123.38,275.57,275.57,275.57A274.54,274.54,0,0,0,659,808l88.34,96.12L835.66,808a274.54,274.54,0,0,0,187.23,73.4c152.19,0,275.68-123.38,275.68-275.57a274.9,274.9,0,0,0-89.89-203.66l90.17-98.12ZM471.74,792.36c-103,0-186.49-83.49-186.49-186.49s83.5-186.49,186.49-186.49,186.5,83.49,186.5,186.49S574.74,792.36,471.74,792.36ZM747.37,600.5c0-122.73-89.26-228-207-273.06a538.15,538.15,0,0,1,413.93,0C836.62,372.49,747.37,477.78,747.37,600.5Zm462,5.37c0,103-83.5,186.49-186.49,186.49s-186.5-83.49-186.5-186.49,83.5-186.49,186.5-186.49S1209.38,502.87,1209.38,605.87Zm654.11-173.45h43.37v85.84h-50.75c-39.09,0-64.17,19.18-64.17,58.28V792.36h-92.78V432.42h92.78V492.9C1800.05,450.12,1829.56,432.42,1863.49,432.42Zm186.35-85.59a56.06,56.06,0,0,1-112.12,0c0-31.72,24.34-56.8,56.06-56.8S2049.84,315.11,2049.84,346.83Zm-102.33,85.59H2040V792.36h-92.53Zm347.35-6.08a179,179,0,0,0-109.22,36.52V432.42h-92.52V898h92.52V761.92a179,179,0,0,0,109.22,36.52c102.76,0,186-83.3,186-186.05S2397.62,426.34,2294.86,426.34Zm-8.15,287.12a101.07,101.07,0,1,1,101.07-101.07A101.07,101.07,0,0,1,2286.71,713.46Zm1890.57-34.8c0,69.4-59.54,119.78-141.57,119.78-85.12,0-144.57-51.57-144.57-125.42v-2h90.54v2c0,30.82,22,51.53,54.78,51.53,31.42,0,52.53-15.33,52.53-38.14,0-21.61-14.61-33.69-53.89-44.56l-51.71-14.1c-54.34-14.71-85.5-50.12-85.5-97.14,0-60.42,57-104.27,135.57-104.27,79.3,0,132.58,43.88,132.58,109.21v2.05h-85.3v-2.05c0-22.18-20.77-39.55-47.28-39.55-27.84,0-47.28,12.78-47.28,31.09,0,18.76,13.84,29.66,49.36,38.91l54,14.81C4162.05,600.16,4177.28,644.7,4177.28,678.66Zm-1368-215.8A179,179,0,0,0,2700,426.34c-102.76,0-186.05,83.3-186.05,186.05S2597.26,798.44,2700,798.44a179,179,0,0,0,109.22-36.52v30.44h92.52V432.42h-92.52Zm0,149.54a101.07,101.07,0,1,1-101.07-101.08A101.08,101.08,0,0,1,2809.24,612.4ZM3236,462.86a179,179,0,0,0-109.22-36.52c-102.75,0-186.05,83.3-186.05,186.05s83.3,186.05,186.05,186.05A179,179,0,0,0,3236,761.92v30.44h92.53V304.3H3236Zm-101.06,250.6A101.07,101.07,0,1,1,3236,612.39,101.07,101.07,0,0,1,3134.89,713.46Zm623.34-281h92.53V792.36h-92.53Zm102.33-85.59a56.06,56.06,0,1,1-112.12,0c0-31.72,24.34-56.8,56.06-56.8S3860.56,315.11,3860.56,346.83Zm530.71,79.51c-102.75,0-186.05,83.3-186.05,186.05s83.3,186.05,186.05,186.05,186-83.3,186-186.05S4494,426.34,4391.27,426.34Zm0,287.12a101.07,101.07,0,1,1,101.07-101.07A101.06,101.06,0,0,1,4391.27,713.46ZM1744.55,386.87H1613.14V792.36h-92.22V386.87H1389.51V304.3h355Zm1877.76,45.55h97.21L3595.31,792.36H3484L3360.47,432.42h97.2L3540,693.79Zm1162.19,0h43.37v85.84h-50.75c-39.09,0-64.18,19.18-64.18,58.28V792.36h-92.77V432.42h92.77V492.9C4721.06,450.12,4750.57,432.42,4784.5,432.42Z",transform:"translate(-195.89 -195.89)",fill:"currentColor"})}));G_e.displayName="TripadvisorLogo";const Y_e=L.memo(()=>o.jsxs("svg",{className:"h-auto w-full",viewBox:"0 0 1000 385",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsx("path",{d:"M806.495 227.151L822.764 223.392C823.106 223.313 823.671 223.183 824.361 222.96C828.85 221.753 832.697 218.849 835.091 214.862C837.485 210.874 838.241 206.113 837.198 201.582C837.175 201.482 837.153 201.388 837.13 201.289C836.596 199.117 835.66 197.065 834.37 195.239C832.547 192.926 830.291 190.991 827.728 189.542C824.711 187.82 821.553 186.358 818.289 185.171L800.452 178.659C790.441 174.937 780.432 171.309 770.328 167.771C763.776 165.439 758.224 163.393 753.4 161.901C752.49 161.62 751.485 161.34 750.669 161.058C744.837 159.271 740.739 158.53 737.272 158.505C734.956 158.42 732.649 158.841 730.511 159.738C728.283 160.699 726.282 162.119 724.639 163.906C723.822 164.835 723.054 165.806 722.337 166.815C721.665 167.843 721.049 168.907 720.491 170.001C719.876 171.174 719.348 172.391 718.911 173.642C715.6 183.428 713.951 193.7 714.032 204.029C714.091 213.368 714.342 225.354 719.475 233.479C720.712 235.564 722.372 237.366 724.348 238.769C728.004 241.294 731.7 241.627 735.544 241.904C741.289 242.316 746.855 240.905 752.403 239.623L806.45 227.135L806.495 227.151Z",fill:"currentColor"}),o.jsx("path",{d:"M987.995 140.779C983.553 131.457 977.581 122.947 970.328 115.601C969.39 114.669 968.385 113.806 967.321 113.02C966.339 112.283 965.318 111.598 964.264 110.967C963.18 110.373 962.065 109.837 960.924 109.362C958.668 108.476 956.25 108.077 953.829 108.19C951.513 108.322 949.254 108.956 947.207 110.049C944.105 111.591 940.748 114.07 936.283 118.221C935.666 118.834 934.891 119.525 934.195 120.177C930.511 123.641 926.413 127.911 921.536 132.883C914.002 140.497 906.583 148.152 899.21 155.89L886.017 169.571C883.601 172.071 881.401 174.771 879.441 177.643C877.771 180.07 876.59 182.799 875.963 185.678C875.6 187.886 875.653 190.142 876.12 192.329C876.143 192.429 876.164 192.523 876.187 192.622C877.229 197.154 879.988 201.103 883.883 203.637C887.778 206.172 892.505 207.094 897.068 206.211C897.791 206.106 898.352 205.982 898.693 205.898L969.033 189.646C974.576 188.365 980.202 187.191 985.182 184.3C988.522 182.363 991.699 180.443 993.878 176.569C995.043 174.441 995.748 172.092 995.948 169.675C997.027 160.089 992.021 149.202 987.995 140.779Z",fill:"currentColor"}),o.jsx("path",{d:"M862.1 170.358C867.197 163.955 867.184 154.41 867.64 146.607C869.174 120.536 870.79 94.4619 872.07 68.3766C872.56 58.4962 873.624 48.7498 873.036 38.7944C872.552 30.5816 872.492 21.1521 867.307 14.4122C858.154 2.52688 838.636 3.50371 825.319 5.34732C821.239 5.91358 817.153 6.6749 813.099 7.64807C809.045 8.62124 805.033 9.6841 801.108 10.9412C788.329 15.127 770.365 22.8103 767.323 37.5341C765.608 45.858 769.672 54.3727 772.824 61.9691C776.645 71.1774 781.865 79.4721 786.622 88.1401C799.198 111.024 812.008 133.765 824.782 156.53C828.597 163.326 832.755 171.933 840.135 175.454C840.623 175.667 841.121 175.856 841.628 176.018C844.937 177.272 848.545 177.513 851.993 176.712C852.201 176.664 852.405 176.617 852.608 176.57C855.792 175.704 858.675 173.973 860.937 171.568C861.345 171.185 861.734 170.782 862.1 170.358Z",fill:"currentColor"}),o.jsx("path",{d:"M855.997 240.155C854.008 237.355 851.184 235.258 847.931 234.162C844.677 233.065 841.16 233.027 837.881 234.051C837.111 234.307 836.361 234.618 835.636 234.983C834.515 235.554 833.445 236.221 832.439 236.976C829.507 239.148 827.039 241.97 824.791 244.8C824.221 245.522 823.7 246.483 823.022 247.1L811.708 262.663C805.295 271.382 798.971 280.123 792.7 289.003C788.608 294.735 785.068 299.576 782.273 303.859C781.743 304.666 781.193 305.567 780.689 306.284C777.338 311.469 775.441 315.252 774.467 318.622C773.735 320.862 773.503 323.234 773.788 325.572C774.1 328.008 774.92 330.35 776.195 332.447C776.873 333.499 777.604 334.516 778.385 335.495C779.196 336.436 780.058 337.332 780.966 338.18C781.936 339.105 782.973 339.957 784.07 340.729C791.879 346.162 800.428 350.066 809.421 353.083C816.904 355.567 824.682 357.053 832.555 357.504C833.894 357.572 835.237 357.543 836.572 357.417C837.809 357.309 839.04 357.136 840.26 356.9C841.479 356.615 842.681 356.266 843.863 355.853C846.162 354.993 848.255 353.66 850.008 351.94C851.667 350.279 852.944 348.276 853.749 346.07C855.057 342.81 855.917 338.671 856.483 332.526C856.532 331.652 856.657 330.604 856.744 329.644C857.19 324.545 857.395 318.556 857.723 311.514C858.276 300.685 858.71 289.903 859.053 279.09C859.053 279.09 859.782 259.875 859.78 259.865C859.946 255.437 859.81 250.53 858.582 246.121C858.042 244.008 857.17 241.994 855.997 240.155V240.155Z",fill:"currentColor"}),o.jsx("path",{d:"M983.707 270.24C981.346 267.651 978 265.069 972.722 261.878C971.961 261.453 971.068 260.886 970.244 260.392C965.85 257.749 960.557 254.969 954.374 251.611C944.876 246.396 935.372 241.312 925.778 236.271L908.825 227.28C907.946 227.024 907.053 226.389 906.225 225.989C902.968 224.432 899.516 222.978 895.932 222.311C894.697 222.074 893.444 221.944 892.186 221.923C891.375 221.913 890.565 221.962 889.761 222.07C886.371 222.595 883.234 224.178 880.795 226.591C878.356 229.005 876.74 232.128 876.178 235.513C875.919 237.667 875.998 239.847 876.411 241.976C877.24 246.487 879.254 250.95 881.338 254.858L890.391 271.824C895.428 281.394 900.526 290.907 905.752 300.391C909.123 306.578 911.929 311.871 914.557 316.26C915.055 317.085 915.62 317.974 916.046 318.738C919.245 324.013 921.815 327.333 924.421 329.715C926.109 331.345 928.132 332.586 930.349 333.351C932.68 334.124 935.146 334.398 937.59 334.155C938.832 334.008 940.066 333.795 941.286 333.516C942.488 333.193 943.672 332.808 944.833 332.362C946.087 331.889 947.305 331.327 948.478 330.678C955.36 326.82 961.703 322.07 967.345 316.552C974.112 309.894 980.093 302.633 984.745 294.321C985.392 293.145 985.952 291.924 986.422 290.667C986.86 289.504 987.24 288.319 987.558 287.118C987.834 285.896 988.045 284.662 988.191 283.418C988.422 280.977 988.138 278.514 987.358 276.19C986.591 273.963 985.345 271.932 983.707 270.24V270.24Z",fill:"currentColor"}),o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M400.03 105.19C400.03 91.2089 411.42 79.7877 425.167 79.7877C438.717 79.7877 449.714 91.2089 450.303 105.387V303.682C450.303 317.663 438.913 329.084 425.167 329.084C411.027 329.084 400.03 317.663 400.03 303.682V105.19ZM376.657 227.672C376.461 231.61 375.479 238.896 370.373 244.213C364.874 249.923 357.412 251.302 353.092 251.302C335.123 251.4 317.155 251.45 299.187 251.499C281.218 251.548 263.248 251.597 245.279 251.696C246.85 256.619 249.992 264.101 257.062 270.994C261.382 275.129 265.506 277.492 267.273 278.476C269.434 279.855 276.896 283.793 286.126 283.793C295.945 283.793 304.586 280.642 313.03 276.31L313.736 275.945C319.604 272.904 325.66 269.766 332.079 268.631C338.363 267.646 345.04 268.827 349.949 273.16C355.841 278.279 358.197 285.762 356.037 293.442C353.484 302.106 346.218 309.589 338.559 314.118C334.239 316.678 329.526 318.844 324.813 320.617C318.725 322.783 312.441 324.358 306.157 325.343C299.872 326.327 293.392 326.721 286.911 326.524H286.911C283.769 326.524 280.431 326.524 277.092 326.13C273.558 325.736 270.023 324.949 266.684 324.161C261.186 322.98 256.08 321.207 250.974 318.844C246.064 316.678 241.155 313.921 236.638 310.771C232.121 307.62 227.997 303.879 224.07 299.94C220.338 296.002 216.804 291.67 213.662 286.944C203.057 270.797 198.147 250.908 199.129 231.61C199.915 212.706 206.199 193.802 217.589 178.443C218.823 176.519 220.247 174.883 221.596 173.333C222.18 172.663 222.75 172.008 223.284 171.354C237.35 154.158 256.142 148.716 263.894 146.471L264.328 146.345C286.519 140.044 304.978 144.179 312.441 146.345C316.172 147.33 337.185 153.828 353.484 171.354C354.27 172.141 356.43 174.701 359.179 178.443C369.505 192.508 373.066 205.605 374.272 210.042L374.301 210.146C375.479 214.478 376.657 220.386 376.657 227.672ZM261.382 195.181C249.992 204.436 246.85 216.251 246.064 219.992H331.686C330.901 216.448 327.562 204.436 316.172 195.181C304.586 185.925 292.41 185.335 288.679 185.335C284.948 185.335 272.772 185.925 261.382 195.181ZM586.98 142.998C564.593 142.998 544.169 153.041 529.637 169.385V168.794C529.048 155.6 518.05 144.967 504.696 144.967C490.753 144.967 479.56 156.191 479.56 170.172V359.409C479.56 373.391 490.753 384.615 504.696 384.615C518.64 384.615 529.833 373.391 529.833 359.409V352.123V300.334C544.365 316.482 564.593 326.721 587.176 326.721C632.147 326.721 668.674 285.959 668.674 235.155C668.478 184.35 631.951 142.998 586.98 142.998ZM575.983 285.566C550.453 285.566 529.637 263.314 529.637 235.549C529.637 207.586 550.257 185.335 575.983 185.335C601.512 185.335 622.328 207.586 622.328 235.549C622.132 263.314 601.512 285.566 575.983 285.566ZM161.425 248.348L153.177 266.464C149.446 274.341 145.715 282.415 142.18 290.488C141.052 292.966 139.916 295.494 138.764 298.057C123.068 332.981 104.44 374.43 63.8242 383.236C44.1861 387.568 14.5327 381.661 3.5354 363.15C-7.4619 344.443 8.83767 322.979 29.8504 327.902C33.1646 328.641 36.4235 330.266 39.7101 331.904C45.187 334.635 50.7406 337.404 56.7545 336.173C62.4495 335.188 65.9844 331.053 70.5011 325.736C76.7853 318.45 79.5346 310.771 80.7129 306.242C80.6147 306.045 80.5165 305.798 80.4183 305.552C80.3201 305.306 80.2219 305.06 80.1237 304.863C75.0117 295.326 70.5473 286.8 66.8178 279.677C64.3868 275.034 62.2681 270.987 60.4857 267.646C56.8287 260.714 54.0662 255.473 51.918 251.398C45.6449 239.497 44.609 237.532 41.8296 232.398C35.7418 220.78 29.2612 209.555 22.5843 198.331C15.3182 186.122 7.85577 172.535 13.9436 158.16C18.8531 146.542 31.4214 140.634 43.4006 144.376C56.0403 148.212 61.6377 160.239 66.8724 171.487C67.8188 173.52 68.7534 175.528 69.7156 177.458C78.16 194.196 86.4079 210.934 94.6559 227.672C95.382 229.336 96.4917 231.605 97.8402 234.362C99.0447 236.824 100.44 239.676 101.922 242.834C102.697 244.475 103.434 246.002 104.101 247.382C104.954 249.149 105.691 250.676 106.242 251.892C110.072 242.342 113.95 232.841 117.829 223.34C121.707 213.839 125.586 204.337 129.415 194.787C129.522 194.253 130.436 192.216 131.813 189.145C132.977 186.549 134.473 183.215 136.092 179.427C136.64 178.133 137.191 176.79 137.755 175.417C142.856 162.995 148.988 148.06 162.604 143.982C172.423 141.028 183.42 144.967 189.115 153.237C192.061 157.372 193.239 162.098 193.435 166.824C193.593 177.275 188.545 188.491 184.212 198.115C183.157 200.459 182.144 202.708 181.26 204.829C181.219 204.91 181.048 205.296 180.739 205.988C179.541 208.679 176.278 216.005 170.655 228.066C168.626 232.389 166.679 236.713 164.707 241.09C163.626 243.491 162.538 245.907 161.425 248.348Z",fill:"currentColor"}),o.jsx("path",{d:"M687.728 310.153H689.549C690.447 310.153 691.167 309.923 691.706 309.462C692.256 308.99 692.532 308.395 692.532 307.676C692.532 306.833 692.29 306.232 691.807 305.872C691.324 305.502 690.56 305.316 689.515 305.316H687.728V310.153ZM695.043 307.608C695.043 308.507 694.801 309.305 694.318 310.002C693.846 310.687 693.178 311.198 692.313 311.535L696.324 318.193H693.492L690.004 312.226H687.728V318.193H685.234V303.176H689.633C691.498 303.176 692.863 303.541 693.728 304.271C694.605 305.002 695.043 306.114 695.043 307.608ZM677.228 310.676C677.228 308.429 677.79 306.322 678.914 304.356C680.037 302.389 681.582 300.839 683.549 299.704C685.515 298.569 687.633 298.002 689.902 298.002C692.15 298.002 694.256 298.564 696.223 299.687C698.189 300.811 699.74 302.356 700.874 304.322C702.009 306.288 702.577 308.406 702.577 310.676C702.577 312.889 702.032 314.968 700.942 316.912C699.852 318.856 698.324 320.412 696.358 321.58C694.391 322.749 692.24 323.333 689.902 323.333C687.577 323.333 685.431 322.754 683.464 321.597C681.498 320.429 679.964 318.872 678.863 316.929C677.773 314.985 677.228 312.901 677.228 310.676ZM678.998 310.676C678.998 312.62 679.487 314.44 680.464 316.136C681.442 317.822 682.773 319.153 684.459 320.131C686.155 321.097 687.97 321.58 689.902 321.58C691.858 321.58 693.672 321.092 695.346 320.114C697.02 319.136 698.346 317.816 699.324 316.153C700.313 314.479 700.807 312.653 700.807 310.676C700.807 308.721 700.318 306.906 699.341 305.232C698.363 303.558 697.037 302.232 695.363 301.255C693.7 300.266 691.88 299.771 689.902 299.771C687.947 299.771 686.133 300.26 684.459 301.238C682.785 302.215 681.453 303.541 680.464 305.215C679.487 306.878 678.998 308.698 678.998 310.676Z",fill:"currentColor"})]}));Y_e.displayName="YelpLogo";const wvt=({className:e})=>o.jsx(F,{className:W("w-10",e),children:o.jsx(Y_e,{})}),_vt=({className:e})=>o.jsx(F,{className:W("w-[70px]",e),children:o.jsx(G_e,{})}),Cvt=e=>{const t=f.useMemo(()=>Ls(e).with(vh.string.includes("yelp.com"),()=>wvt).with(vh.string.includes("tripadvisor.com"),()=>_vt).otherwise(()=>null),[e]);return f.useMemo(()=>({SearchClientLogo:t}),[t])},K_e=L.memo(({operatingHours:e})=>{const{locale:t}=ae();return e?o.jsx("div",{className:"gap-xs flex flex-col",children:e.map(({day:n,hours:r,is_today:s})=>o.jsxs("div",{className:"gap-md flex items-center justify-between",children:[o.jsx(F,{variant:"tiny",color:"white",className:s?void 0:"opacity-[0.5]",children:kC(n,t)}),o.jsx(F,{variant:"tiny",color:"white",className:s?void 0:"opacity-[0.5]",children:r.join(", ")})]},`place-hours-${n}`))}):null});K_e.displayName="PlaceOperatingHours";const Ml=L.memo(({children:e,isOpen:t,onClose:n,...r})=>o.jsx(jg,{isOpen:t,onClose:n,center:!1,variant:"lightbox",...r,children:o.jsx("div",{className:"flex h-screen flex-col",children:e})}));Ml.displayName="Gallery";const Q_e=L.memo(({className:e="",headerText:t,children:n,onClose:r,...s})=>o.jsxs("div",{className:W("mx-md gap-md border-borderMainDark/50 h-headerHeight flex items-center justify-between border-b",e),...s,children:[o.jsxs("div",{className:"gap-x-md flex items-center",children:[o.jsx(Ei,{variant:"mark",color:"white",size:"tiny"}),t&&o.jsx(F,{color:"white",variant:"section-title",className:"line-clamp-1",children:t})]}),o.jsxs("div",{className:"gap-sm flex items-center",children:[n,o.jsx(Le,{pill:!0,icon:yn,onClick:r,size:"small",extraCSS:"!text-white hover:!bg-offsetDark !border-0 !bg-offsetDark"})]})]}));Q_e.displayName="GalleryHeader";const X_e=L.memo(({className:e,style:t,...n})=>o.jsx("div",{className:W("col-span-6 h-[50dvh] min-h-0 w-full flex-1 shrink-0 md:h-auto md:w-auto lg:col-span-7",e),style:{colorScheme:"dark",...t},...n})),Svt=L.memo(({children:e,className:t,style:n,...r})=>o.jsx("div",{className:W("col-span-4 flex h-[50dvh] min-h-0 flex-col md:h-auto lg:col-span-3",t),style:{colorScheme:"dark",...n},...r,children:o.jsx("div",{className:"scrollbar-thin scrollbar-thumb-borderMainDark scrollbar-track-offsetDark dark:scrollbar-thumb-borderMainDark dark:scrollbar-track-offsetDark min-h-0 flex-1 overflow-y-auto",children:e})}));X_e.displayName="GalleryMain";const Z_e=L.memo(({className:e,...t})=>o.jsx("div",{className:W("gap-lg flex min-h-0 flex-1 grow flex-col md:grid md:grid-cols-10 md:gap-0",e),...t}));Z_e.displayName="GalleryContent";Ml.Header=Q_e;Ml.Main=X_e;Ml.Sidebar=Svt;Ml.Content=Z_e;var pR=(e=>(e.DEFAULT="default",e.DALLE3="dall-e-3",e.PLAYGROUND="playground",e.FLUX="flux",e.GPT4O_IMAGE="gpt-4o",e))(pR||{});const J_e=e=>{switch(e){case"dall-e-3":return"DALL-E 3";case"playground":return"Playground";case"flux":return"FLUX";case"gpt-4o":return"GPT-4o Image";default:return"AI"}},sU=e=>{if(e==="dalle"||Object.values(pR).includes(e))return!0;const t=e.toLowerCase();return Object.values(pR).some(n=>t.includes(n.toLowerCase()))},eCe=L.memo(({mediaItem:e})=>{const{name:t,url:n,image:r,source:s,author_name:a,author_url:i}=e,l=sU(s??""),c=n?.includes("unsplash.com"),u=a&&i;let d=t;c&&(d="Unsplash");const h=f.useCallback(m=>{m.stopPropagation()},[]);return o.jsx(Nt,{className:"cursor-pointer",target:"_blank",rel:"noopener nofollow",href:n??r??"",children:u?o.jsxs(Q,{className:"flex max-w-[300px] items-stretch overflow-hidden",children:[o.jsxs("div",{className:"gap-sm hover:bg-offsetDark flex shrink-0 items-center rounded-md p-[7px] duration-300",children:[n&&o.jsx(pu,{domain:n}),o.jsx(F,{color:"white",variant:"tiny",className:"truncate",children:d})]}),o.jsx(Nt,{href:i,target:"_blank",className:"gap-sm p-sm hover:bg-offsetDark group flex items-center overflow-hidden rounded-md pr-[10px] duration-300",onClick:h,children:o.jsx(F,{color:"white",variant:"tiny",className:"truncate opacity-50 duration-300 group-hover:opacity-75",children:a})})]}):o.jsx(Q,{className:"hover:bg-offsetDark max-w-[250px] rounded-md p-[7px] px-[10px] duration-300",variant:l?"darkOffset":"transparent",children:n&&o.jsx(Dg,{color:"white",url:n,source:d,truncate:!1,isAttachment:!1,variant:"tiny"})})})});eCe.displayName="ImageGalleryCitation";const tCe=L.memo(({image:e,name:t,url:n,fallbackSrc:r,onClick:s,AIProps:a,softBlockSaveImage:i,imageClassName:l,includeLightBoxModal:c,lightboxSrc:u,rounded:d="sm",onFail:h,onLoad:m,className:g,style:v,containerClassName:x,maskClassName:b})=>{const w=f.useRef(null),C=f.useMemo(()=>({url:n,name:t}),[t,n]),S=f.useMemo(()=>({draggable:!1}),[]);return o.jsx("div",{onClick:s,className:g,style:v,children:o.jsx(ps,{AIProps:a,origin:C,fadeIn:!1,hasShadow:!1,includeLightBoxModal:c,lightboxSrc:u,imageClassName:W("max-h-[70vh] object-cover w-full",l),alt:t,src:e,fallback:null,fallbackSrc:r,softBlockSaveImage:i,rounded:d,imageRef:w,onFail:h,onLoad:m,containerClassName:x,maskClassName:b,imageProps:S},n)})}),nCe=L.memo(({mediaItem:e,softBlockSaveImage:t})=>{const{image:n,name:r,url:s,thumbnail:a,source:i}=e,l=n??a;return l?o.jsx("div",{className:"py-md px-lg flex size-full select-none items-center justify-center",children:o.jsx(tCe,{image:l,name:r,fallbackSrc:a,url:s,AIProps:i?{isAI:sU(i),AILabel:J_e(i)}:void 0,includeLightBoxModal:!1,softBlockSaveImage:t,maskClassName:"bg-offsetDark"})}):(le.warn(new Error("Invalid media item in image gallery"),{extra:{mediaItem:e}}),null)});nCe.displayName="ImageGalleryMain";class Mvt extends L.Component{static defaultProps={columnsCount:3,gutter:"0"};getColumns(){const{children:t,columnsCount:n=3}=this.props,r=Array.from({length:n},()=>[]);let s=0;return L.Children.forEach(t,a=>{a&&L.isValidElement(a)&&(r[s%n].push(a),s++)}),r}renderColumns(){const{gutter:t="0"}=this.props;return this.getColumns().map((n,r)=>o.jsx("div",{style:{display:"flex",flexDirection:"column",justifyContent:"flex-start",alignContent:"stretch",flex:1,width:0,gap:t},children:n.map(s=>s)},r))}render(){const{columnsCount:t,gutter:n="0",style:r,...s}=this.props;return o.jsx("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignContent:"stretch",boxSizing:"border-box",width:"100%",gap:n,...r},...s,children:this.renderColumns()})}}const rCe=L.memo(({mediaItem:e,isHighlighed:t,onClick:n})=>{const{image:r,name:s,url:a,thumbnail:i,source:l}=e,c=i??r,[u,d]=f.useState(!1),[h,m]=f.useState(!1),g=f.useCallback(()=>d(!0),[]),v=f.useCallback(()=>m(!0),[]);return!c||u?(le.warn(new Error("Invalid media item in image gallery sidebar"),{extra:{mediaItem:e}}),null):o.jsx(tCe,{className:W("cursor-pointer select-none rounded-lg border-2 border-transparent transition-all duration-200 ease-in-out",{"ring-background-super-100 !border-black ring-2":t,"hover:opacity-70":!t,"animate-in fade-in duration-300 ease-in":h,hidden:!h}),AIProps:l?{isAI:sU(l),AILabel:J_e(l)}:void 0,image:c,rounded:"md",name:s,fallbackSrc:void 0,url:a,includeLightBoxModal:!1,onClick:n,maskClassName:"bg-offsetDark",imageClassName:"select-none",onFail:g,onLoad:v})});rCe.displayName="GalleryImage";const sCe=L.memo(({mainIndex:e,images:t,onClick:n})=>{const r=f.useMemo(()=>L.memo(({mediaItem:s,index:a})=>{const i=f.useCallback(()=>n(a),[a]);return o.jsx(rCe,{mediaItem:s,isHighlighed:a===e,onClick:i})}),[e,n]);return o.jsx(Mvt,{className:"p-sm select-none pr-1",columnsCount:2,gutter:"8px",children:t.map((s,a)=>o.jsx(r,{mediaItem:s,index:a},"galleryImage "+a))})});sCe.displayName="ImageGallerySidebar";const aU=L.memo(({mainImageIndex:e,title:t,isOpen:n,onClose:r=Yn,onSelect:s,images:a,softBlockSaveImage:i})=>{const[l,c]=f.useState(e);f.useEffect(()=>{c(e)},[e,n]);const u=f.useCallback(()=>{c(v=>(v+1)%a.length)},[a.length]),d=f.useCallback(()=>{c(v=>(v-1+a.length)%a.length)},[a.length]),h=f.useCallback(()=>{c(v=>{const x=v-2;return x>=0?x:v})},[]),m=f.useCallback(()=>{c(v=>{const x=v+2;return x<a.length?x:v})},[a.length]);f.useEffect(()=>{const v=x=>{n&&(x.key==="ArrowRight"?u():x.key==="ArrowLeft"?d():x.key==="ArrowUp"?h():x.key==="ArrowDown"&&m())};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[n,u,d,h,m]);const g=f.useCallback(v=>{c(v),s&&s(a[v])},[a,s]);return o.jsxs(Ml,{isOpen:n,onClose:r,children:[o.jsx(Ml.Header,{headerText:t,onClose:r,children:o.jsx(eCe,{mediaItem:a[l]})}),o.jsxs(Ml.Content,{children:[o.jsx(Ml.Main,{children:o.jsx(nCe,{mediaItem:a[l],softBlockSaveImage:i})}),o.jsx(Ml.Sidebar,{children:o.jsx(sCe,{images:a,mainIndex:l,onClick:g})})]})]})});aU.displayName="ImageGallery";const kvt=({entity_id:e,entity_name:t,data_source:n,entry_uuid:r,url:s,reason:a})=>{const i=Vt(),l=["place_result_reviews",`${n}_${s}`],{refetch:c,data:u,isFetching:d,error:h}=Ft({queryKey:l,enabled:!1,queryFn:async()=>{let m={summary:"",review_quality_score:0,pros:[],cons:[],key_features:[],review_search_results:[]},g="PENDING",v="";try{await me.SSE("/rest/sse/places_review_summary_bulk",a,{params:{places:[{entity_id:e,entity_name:t,data_source:n,entry_uuid:r,url:s}]},handlers:{message:x=>{x.blocks?.[0]?.review_summary_block&&(m={...m,...x.blocks[0].review_summary_block}),g=x.status??"FAILED",v=x.id??"",i.setQueryData(l,{review_summary:m,status:g,id:v})}}})}catch{}return{review_summary:m,status:g,id:v}}});return f.useMemo(()=>({generateReviewSummaryForPlace:c,reviewSummary:u?.review_summary,isFetching:d,error:h}),[u?.review_summary,h,c,d])};function Evt(){const{locale:e}=ae(),t=new Intl.Locale(e),{value:n,loading:r}=Fs({flag:"canonical-hotel-pages-enabled",defaultValue:!1,extraAttributes:{cfLanguage:t.language,appApiVersion:bu}});return f.useMemo(()=>({initialized:!r,value:n}),[n,r])}const aCe=L.memo(({place:e,menuItems:t,className:n,entryUUID:r,contextUUID:s,onHover:a})=>{const i="place-widget",{$t:l}=ae(),[c,u]=f.useState(!1),{SearchClientLogo:d}=Cvt(e.url),h=Evt(),{generateReviewSummaryForPlace:m,reviewSummary:g,isFetching:v}=kvt({entity_id:String(e.id),entity_name:e.name,entry_uuid:r??"",data_source:e.client,url:e.url,reason:i}),{trackEvent:x}=Ye();f.useEffect(()=>{r&&x("place card viewed",{entryUUID:r,contextUUID:s??"",inline:!1,itemID:e.url})},[r,s,e.url,x]),f.useEffect(()=>{e.review_summary||g||m()},[e.review_summary,g]);const b=f.useMemo(()=>e.review_summary??g,[e.review_summary,g]),w=f.useMemo(()=>{const D=[];return e.image_url&&D.push(e.image_url),e.images&&e.images.forEach(z=>{z!==e.image_url&&D.push(z)}),D.length?D.map(z=>({image:z,url:z.includes("tripadvisor.com")?e.url:e.entity_url??e.url})):null},[e.image_url,e.images,e.url,e.entity_url]),C=f.useMemo(()=>Ls(e.url).with(vh.string.includes("yelp.com"),()=>l({defaultMessage:"View on {partnerSite}",id:"Z/KOc+Wez3"},{partnerSite:"Yelp"})).with(vh.string.includes("tripadvisor.com"),()=>l({defaultMessage:"View on {partnerSite}",id:"Z/KOc+Wez3"},{partnerSite:"Tripadvisor"})).otherwise(()=>null),[l,e.url]),S=f.useCallback(()=>{const D=e.entity_url??e.url,z=h.initialized&&h.value?e.canonical_page_path??D:D;window.open(z)},[h,e.canonical_page_path,e.entity_url,e.url]),{isMobileStyle:k}=qe(),E=!!b?.summary.length,{hasProsOrCons:T,isLoadingProsCons:j}=f.useMemo(()=>{const D=b?.pros_detailed?.length??0,z=b?.cons_detailed?.length??0;return{hasProsOrCons:D||z||v,isLoadingProsCons:v&&!E&&(D+z<3||!D||!z)}},[b?.pros_detailed,b?.cons_detailed,E,v]),N=f.useCallback(D=>{D.stopPropagation()},[]),R=f.useCallback(()=>{a&&a(void 0)},[a]),O=f.useCallback(()=>{a&&a(e.url)},[a,e.url]),I=f.useCallback(()=>{S()},[S]),B=f.useCallback(()=>{u(!1)},[]);return o.jsxs(o.Fragment,{children:[o.jsx(nU,{id:String(e.id),entityVariant:"dense-card",menuItems:t,className:"relative !p-0",children:o.jsxs(Q,{as:"button","data-widget-id":e.id,className:W("group/root gap-sm p-md md:gap-md group flex h-full cursor-pointer appearance-none flex-col text-left duration-150",n),onMouseEnter:O,onMouseLeave:R,onClick:I,children:[o.jsxs("div",{className:"gap-md flex flex-1",children:[w&&w.length>0&&o.jsx("div",{className:"border-borderMain/50 shadow-subtle size-20 shrink-0 rounded-md border bg-white md:size-28 dark:border-0",children:o.jsx($_e,{images:w.map(D=>D.image),className:"size-full bg-white",imageClassName:"object-cover"})}),o.jsxs("div",{className:"gap-sm flex flex-1 flex-col",children:[o.jsx(F,{variant:k?"baseSemi":"section-title",className:"group-hover:text-super group-hover:background-blue-200 line-clamp-3 leading-tight transition-colors duration-150",children:e.name}),!!e.operating_hours&&k&&o.jsx(gR,{place:e}),(e.rating||e.price||e.price_range)&&o.jsxs(cm,{className:"gap-xs text-text-200 text-xs",children:[!!e.operating_hours&&!k&&o.jsx(Os,{id:"is-open",children:o.jsx(gR,{place:e})}),(e.price||e.price_range)&&o.jsx(Os,{id:"price",children:o.jsx(R_e,{dollarCount:e.price?.replace(/\u200A/g,"").length??0,priceRange:e.price_range,currencySymbol:e.currency_char})}),e.rating&&o.jsx(Os,{id:"rating",children:o.jsx($g,{minReviewCount:1,reviewCount:e.num_reviews,rating:e.rating,size:"sm",variant:"truncated",textVariant:"tiny"})}),d&&o.jsx(Os,{id:"logo",children:e.url?o.jsx(Nt,{href:e.url,target:"_blank",className:"cursor-pointer duration-150 hover:opacity-70",onClick:N,children:o.jsx(d,{})}):o.jsx(d,{})})]}),o.jsxs("div",{className:"mt-xs gap-xs flex flex-col",children:[!!e.address?.length&&o.jsx(U5,{icon:vce,href:`https://maps.google.com/?q=${e.address.join(", ")}`,target:"_blank",label:e.address.join(", ")}),!!e.phone&&o.jsx(U5,{icon:PWe,label:e.phone,href:`tel:${e.phone}`}),!!e.url&&C&&!d&&o.jsx(U5,{icon:yce,label:C,href:e.url})]})]})]}),T&&o.jsx(Kn,{active:j,className:"",children:o.jsx(Q,{className:"mt-xs pt-sm border-t",children:o.jsx("div",{className:"-ml-sm",children:o.jsx(by,{id:String(e.id),pros:b?.pros_detailed??Fe,cons:b?.cons_detailed??Fe,loading:j})})})})]})}),o.jsx(aU,{title:e.name,mainImageIndex:0,isOpen:c,images:w??Fe,onClose:B})]})});aCe.displayName="PlaceWidget";const gR=L.memo(({place:e})=>{const{$t:t}=ae(),n=f.useMemo(()=>{if(e.is_open){const s=e.operating_hours?.find(a=>a.is_today)?.hours;return!s||s.length===0||s.length>1?null:s?.[0].split(" - ")[1]}return null},[e.is_open,e.operating_hours]),r=f.useMemo(()=>o.jsx(K_e,{operatingHours:e.operating_hours}),[e.operating_hours]);return o.jsx(Mn,{tooltipText:r,asChild:!0,children:o.jsx(F,{variant:"tiny",color:e.is_open?"super":"red",children:e.is_open?n?t({defaultMessage:"Open until {time}",id:"abDRIJdom/"},{time:n}):t({defaultMessage:"Open",id:"JfG49wNHKP"}):t({defaultMessage:"Closed",id:"Fv1ZSzMOV6"})})})});gR.displayName="OpenUntil";const U5=L.memo(({icon:e,label:t,href:n,target:r})=>{const s=f.useCallback(i=>{i.stopPropagation()},[]),a=o.jsxs(F,{variant:"tiny",color:"light",className:"gap-xs flex items-start md:items-center",children:[o.jsx(Ne,{icon:e,size:"sm",className:"-translate-x-0.5"}),t]});return n?o.jsx(Nt,{href:n,target:r,className:"cursor-pointer",onClick:s,children:o.jsx(F,{superHover:!0,color:"light",children:a})}):a});U5.displayName="MetaDataItem";const iCe=L.memo(({url:e,children:t,className:n})=>{const r=f.useCallback(s=>{s.stopPropagation()},[]);return e?o.jsx("div",{className:W("inline-flex",n),children:o.jsx(Nt,{href:e,target:"_blank",className:"inline-flex min-w-0 items-center gap-0 duration-150 hover:opacity-60",onClick:r,children:t})}):t});iCe.displayName="LogoWrapper";const iU=L.memo(({merchantName:e,merchantDomain:t,itemUrl:n,className:r,textVariant:s,iconSize:a,faviconSize:i})=>o.jsx(iCe,{url:n??void 0,className:r,iconSize:a,children:o.jsx(oCe,{name:e,domain:t,faviconSize:i,textVariant:s})}));iU.displayName="EntityItemMerchantInfo";const oCe=L.memo(({name:e,domain:t,faviconSize:n,textVariant:r="tiny"})=>o.jsxs(F,{variant:r,color:"light",className:"gap-xs flex items-center",children:[o.jsx(pu,{className:"shrink-0 translate-y-[-0.5px]",domain:t,size:n}),o.jsx("span",{className:"truncate whitespace-nowrap",children:e})]}));oCe.displayName="EntityMerchantLogoName";const Fl=e=>{if(e.indexOf("$")===-1)return e;const t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),n=e.replace(/[$,]/g,"");return t.format(parseFloat(n))},oU=L.memo(({price:e,comparePrice:t,soldOut:n,size:r,textVariant:s})=>{const{$t:a}=ae(),{isMobileStyle:i}=qe(),l=Fl(n&&t?t:e);return o.jsxs("div",{className:"gap-sm flex items-center",children:[o.jsx(F,{variant:s||(i||r==="small"?"smallBold":"baseSemi"),className:n?"line-through":void 0,color:t?"default":void 0,children:l}),n?o.jsx(F,{variant:s??"small",color:"red",children:a({defaultMessage:"Sold Out",id:"MwUAGRNkR/"})}):t&&o.jsx(F,{variant:s??"small",color:"light",className:"line-through",children:Fl(t)})]})});oU.displayName="EntityItemPrice";const Tvt=({enabled:e,reason:t})=>{const{data:n,isPending:r,refetch:s}=Ft({queryKey:["create_firmly_session"],queryFn:async()=>qmt({reason:t}),enabled:e});return f.useMemo(()=>({createFirmlySessionData:n,isPending:r,refetch:s}),[n,r,s])},lU=L.memo(({className:e})=>o.jsx(F,{variant:"tiny",color:"super",className:W("flex shrink-0 items-center gap-[5px] !text-[11px]",e),children:"Buy now"}));lU.displayName="BuyWithProIndicator";const lCe=L.memo(({className:e,textVariant:t="tiny"})=>{const{$t:n}=ae();return o.jsx(Mn,{asChild:!0,tooltipLayout:"top",tooltipText:n({defaultMessage:"Shipping is free while shopping with Perplexity Pro",id:"UMkYrflCjt"}),children:o.jsx(F,{color:"light",variant:t,className:e,children:n({defaultMessage:"Free Delivery",id:"d7c64sMLc7"})})})});lCe.displayName="FreeShippingIndicator";const Nvt=({reason:e,enabled:t=!0})=>{const n=Vt(),{data:r,isLoading:s}=Ft({queryKey:nk(),queryFn:()=>$mt({reason:e}),enabled:t}),a=f.useCallback(()=>{setTimeout(()=>{n.invalidateQueries({queryKey:nk()})},3e3)},[n]),i=f.useCallback(({paymentMethodId:l,type:c="card",link:u=null,card:d=null})=>{a(),n.setQueryData(nk(),h=>h&&h.customer?{...h,customer:{...h.customer,default_payment_method_type:c,default_payment_method:c==="card"?{id:l,brand:d?.brand,last_digits:d?.last_digits}:null,default_payment_method_link:c==="link"?{id:l,email:u?.email}:null}}:h)},[a,n]);return f.useMemo(()=>({customerShoppingInfo:r,isCustomerShoppingInfoLoading:s,setDefaultPaymentMethod:i}),[r,s,i])},cCe=({ref:e,onInView:t,onNotInView:n,once:r=!0})=>{const[s,a]=f.useState(!1),i=TVe(e);f.useEffect(()=>{const l=r?!s:!0;i&&l?(t(),a(!0)):!i&&l&&n&&(n(),a(!0))},[r,s,a,t,i,n])},uCe=L.memo(()=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"70",height:"auto","aria-labelledby":"shop-pay-logo",viewBox:"0 0 424 102",fill:"none",children:[o.jsx("title",{id:"shop-pay-logo",children:"Shop Pay"}),o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M204.916 30.0997C208.894 25.1796 215.067 21.1016 222.436 21.1016C238.98 21.1016 252.012 34.7983 252.001 51.6974C252.001 69.3058 238.903 82.3375 223.189 82.3375C214.834 82.3375 208.44 78.06 206.102 74.4918H205.88V100.356C205.88 100.512 205.818 100.661 205.708 100.771C205.598 100.881 205.449 100.943 205.293 100.943H190.566C190.409 100.943 190.258 100.882 190.146 100.772C190.035 100.662 189.97 100.513 189.967 100.356V21.6779C189.967 21.5192 190.03 21.3669 190.143 21.2547C190.255 21.1425 190.407 21.0795 190.566 21.0795H204.329C204.486 21.0824 204.635 21.1467 204.745 21.2586C204.855 21.3705 204.916 21.5211 204.916 21.6779V30.0997ZM221.179 67.3428C219.958 67.3814 218.73 67.2768 217.521 67.0265C214.479 66.397 211.694 64.8745 209.522 62.6536C207.35 60.4328 205.89 57.6146 205.329 54.5595C205.167 53.6817 205.082 52.7958 205.072 51.9114C205.061 50.9204 205.144 49.926 205.323 48.9415C205.879 45.8886 207.331 43.0704 209.495 40.8465C211.659 38.6226 214.436 37.094 217.473 36.4557C218.689 36.2001 219.924 36.0919 221.153 36.1288C223.15 36.1534 225.123 36.5679 226.962 37.3492C228.825 38.141 230.513 39.2939 231.929 40.7413C233.344 42.1887 234.459 43.902 235.209 45.7824C235.959 47.6628 236.329 49.6731 236.299 51.6974C236.299 51.6977 236.299 51.698 236.299 51.6983C236.331 53.7263 235.962 55.7408 235.214 57.626C234.465 59.5114 233.351 61.2304 231.937 62.6843C230.522 64.1382 228.834 65.2983 226.97 66.098C225.138 66.8837 223.171 67.3063 221.179 67.3428Z",fill:"currentColor"}),o.jsx("path",{d:"M109.306 32.8701C105.904 25.7337 99.4543 21.1238 89.7359 21.1238C86.753 21.1758 83.8218 21.9123 81.1685 23.2765C78.5151 24.6406 76.2106 26.5959 74.4325 28.9916L74.0779 29.4238V1.45428C74.0779 1.29264 74.0137 1.13763 73.8994 1.02333C73.7851 0.909028 73.6301 0.844803 73.4684 0.844803H59.7275C59.5678 0.847707 59.4156 0.913196 59.3037 1.02718C59.1917 1.14117 59.1291 1.29454 59.1291 1.45428V81.6837C59.1291 81.8424 59.1921 81.9946 59.3044 82.1068C59.4166 82.219 59.5688 82.2821 59.7275 82.2821H74.4436C74.6033 82.2821 74.7567 82.2194 74.8707 82.1075C74.9847 81.9956 75.0502 81.8434 75.0531 81.6837V47.4754C75.0531 40.8265 79.4856 36.1169 86.5777 36.1169C94.3347 36.1169 96.2961 42.4998 96.2961 49.0046V81.6837C96.2961 81.8424 96.3592 81.9946 96.4714 82.1068C96.5836 82.219 96.7358 82.2821 96.8945 82.2821H111.577C111.737 82.2821 111.891 82.2194 112.004 82.1075C112.118 81.9956 112.184 81.8434 112.187 81.6837V47.0543C112.187 45.8686 112.187 44.705 112.032 43.5747C111.78 39.8707 110.856 36.2435 109.306 32.8701V32.8701Z",fill:"currentColor"}),o.jsx("path",{d:"M35.8249 44.7604C35.8249 44.7604 28.3339 42.9985 25.5746 42.2893C22.8153 41.5801 17.9949 40.073 17.9949 36.4272C17.9949 32.7814 21.8845 31.6179 25.8295 31.6179C29.7745 31.6179 34.1627 32.5709 34.5062 36.948C34.5201 37.1058 34.5927 37.2525 34.7097 37.3593C34.8267 37.466 34.9795 37.5249 35.1379 37.5243L49.6434 37.4689C49.7288 37.4691 49.8133 37.4517 49.8916 37.4178C49.9699 37.3838 50.0404 37.3341 50.0987 37.2717C50.1569 37.2093 50.2017 37.1356 50.2301 37.0551C50.2585 36.9746 50.2701 36.8891 50.264 36.804C49.3664 22.7971 37.0771 17.7883 25.7408 17.7883C12.2991 17.7883 2.46987 26.6534 2.46987 36.4272C2.46987 43.5636 4.48669 50.2568 20.3442 54.911C23.1256 55.7199 26.9044 56.7727 30.2066 57.6924C34.1738 58.8006 36.3125 60.4739 36.3125 63.1112C36.3125 66.1697 31.8799 68.2973 27.5249 68.2973C21.2196 68.2973 16.7427 65.9592 16.377 61.7593C16.358 61.6056 16.2832 61.4642 16.1667 61.362C16.0502 61.2599 15.9003 61.2041 15.7454 61.2052L1.27307 61.2717C1.18823 61.2717 1.10425 61.2887 1.02614 61.3218C0.94802 61.355 0.877379 61.4035 0.818427 61.4645C0.759474 61.5255 0.713411 61.5978 0.683003 61.677C0.652596 61.7562 0.638464 61.8407 0.641441 61.9255C1.30633 75.1456 14.0721 82.271 25.9735 82.271C43.7038 82.271 51.7156 72.2977 51.7156 62.9561C51.7378 58.5679 50.7294 48.5724 35.8249 44.7604Z",fill:"currentColor"}),o.jsx("path",{d:"M146.384 17.6442C132.654 17.6442 125.806 22.3095 120.31 26.0439L120.143 26.1547C119.86 26.3488 119.66 26.6427 119.584 26.9775C119.508 27.3124 119.562 27.6637 119.733 27.961L125.163 37.3137C125.265 37.4887 125.404 37.6391 125.571 37.754C125.738 37.869 125.928 37.9457 126.127 37.9786C126.323 38.0139 126.523 38.0053 126.715 37.9536C126.907 37.9018 127.084 37.8082 127.235 37.6794L127.668 37.3248C130.493 34.9534 135.026 31.7841 145.996 30.9197C152.102 30.4322 157.377 32.0279 161.266 35.6626C165.544 39.6076 168.104 45.9794 168.104 52.7058C168.104 65.0837 160.812 72.8629 149.099 73.018C139.447 72.9626 132.965 67.9317 132.965 60.496C132.965 56.5511 134.749 53.9802 138.228 51.4093C138.494 51.2193 138.682 50.9395 138.757 50.6217C138.832 50.304 138.79 49.9696 138.638 49.6806L133.762 40.4608C133.672 40.2958 133.551 40.1502 133.404 40.0323C133.258 39.9144 133.089 39.8266 132.909 39.7738C132.725 39.7188 132.531 39.7033 132.34 39.7281C132.149 39.7529 131.965 39.8176 131.801 39.9179C126.327 43.1647 119.611 49.1043 119.977 60.5182C120.42 75.0459 132.499 86.1384 148.201 86.5927H148.988H150.063C168.724 85.9833 182.199 72.1315 182.199 53.3485C182.199 36.1059 169.633 17.6442 146.384 17.6442Z",fill:"currentColor"}),o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M282.375 1.04428H408.027C416.699 1.04428 423.73 8.07446 423.73 16.7466V85.54C423.73 94.2121 416.699 101.242 408.027 101.242H282.375C273.703 101.242 266.673 94.2121 266.673 85.54V16.7466C266.673 8.07446 273.703 1.04428 282.375 1.04428ZM310.566 55.5316C321.049 55.5316 328.551 47.8854 328.551 37.1697C328.551 26.5093 321.049 18.8188 310.566 18.8188H292.06C291.84 18.8188 291.628 18.9064 291.473 19.0623C291.317 19.2181 291.229 19.4295 291.229 19.65V70.4361C291.232 70.6556 291.32 70.8653 291.476 71.0206C291.631 71.1758 291.841 71.2643 292.06 71.2672H299.019C299.24 71.2672 299.451 71.1796 299.607 71.0237C299.763 70.8679 299.85 70.6565 299.85 70.4361V56.3627C299.85 56.1423 299.938 55.9309 300.094 55.775C300.25 55.6191 300.461 55.5316 300.682 55.5316H310.566ZM310.034 26.5315C315.73 26.5315 319.93 31.0306 319.93 37.1697C319.93 43.3198 315.73 47.8078 310.034 47.8078H300.682C300.463 47.8078 300.253 47.7218 300.098 47.5683C299.942 47.4149 299.853 47.2063 299.85 46.9878V27.3626C299.853 27.1431 299.942 26.9334 300.097 26.7781C300.252 26.6229 300.462 26.5344 300.682 26.5315H310.034ZM330.601 61.5266C330.529 59.8838 330.868 58.2489 331.588 56.7704C332.308 55.2919 333.386 54.0167 334.724 53.0604C337.428 51.0325 341.616 49.9798 347.833 49.736L354.426 49.5144V47.564C354.426 43.6745 351.811 42.0233 347.611 42.0233C343.412 42.0233 340.763 43.5082 340.143 45.9351C340.093 46.1065 339.988 46.2564 339.843 46.3609C339.698 46.4653 339.523 46.5183 339.345 46.5113H332.84C332.72 46.5143 332.601 46.491 332.492 46.4431C332.382 46.3952 332.284 46.3238 332.205 46.2341C332.126 46.1443 332.067 46.0383 332.033 45.9235C331.999 45.8086 331.991 45.6878 332.009 45.5694C332.984 39.807 337.749 35.4299 347.911 35.4299C358.704 35.4299 362.593 40.4498 362.593 50.0352V70.4028C362.595 70.5129 362.575 70.6221 362.533 70.7243C362.492 70.8264 362.431 70.9193 362.354 70.9977C362.277 71.076 362.185 71.1382 362.083 71.1807C361.981 71.2232 361.872 71.245 361.762 71.245H355.191C355.081 71.245 354.972 71.2232 354.87 71.1807C354.769 71.1382 354.677 71.076 354.599 70.9977C354.522 70.9193 354.461 70.8264 354.42 70.7243C354.379 70.6221 354.358 70.5129 354.36 70.4028V68.8846C354.371 68.7514 354.339 68.6183 354.268 68.5049C354.197 68.3915 354.092 68.3041 353.967 68.2555C353.842 68.207 353.706 68.1999 353.577 68.2354C353.448 68.2709 353.334 68.347 353.252 68.4525C351.29 70.5912 348.099 72.1426 343.013 72.1426C335.555 72.1647 330.601 68.2641 330.601 61.5266ZM354.426 57.094V55.5205L345.894 55.9637C341.395 56.1964 338.768 58.0692 338.768 61.2163C338.768 64.0643 341.173 65.6489 345.362 65.6489C351.058 65.6489 354.426 62.5682 354.426 57.1051V57.094ZM369.198 80.7196V86.6481C369.188 86.8397 369.242 87.0293 369.353 87.1861C369.463 87.3429 369.623 87.4579 369.807 87.5124C370.966 87.8283 372.164 87.9739 373.365 87.9446C379.736 87.9446 385.554 85.6175 388.879 76.553L403.506 37.5353C403.548 37.4097 403.559 37.276 403.54 37.1451C403.52 37.0142 403.47 36.8897 403.394 36.7817C403.317 36.6738 403.216 36.5854 403.099 36.5238C402.982 36.4622 402.852 36.4291 402.719 36.4272H395.904C395.727 36.4257 395.554 36.4809 395.411 36.5845C395.267 36.6882 395.161 36.8349 395.106 37.0034L387.05 61.7149C386.989 61.8769 386.879 62.0163 386.737 62.1147C386.594 62.2131 386.425 62.2658 386.252 62.2658C386.079 62.2658 385.91 62.2131 385.767 62.1147C385.625 62.0163 385.516 61.8769 385.454 61.7149L376.168 36.9369C376.106 36.7782 375.998 36.6417 375.858 36.5449C375.718 36.4481 375.552 36.3956 375.381 36.394H368.732C368.6 36.3959 368.47 36.429 368.353 36.4906C368.236 36.5522 368.135 36.6406 368.058 36.7485C367.981 36.8564 367.931 36.9809 367.912 37.1119C367.892 37.2428 367.904 37.3765 367.946 37.5021L381.62 72.6301C381.687 72.8126 381.687 73.0129 381.62 73.1953L381.188 74.5583C380.684 76.2492 379.627 77.722 378.186 78.7407C376.746 79.7593 375.005 80.265 373.243 80.1766C372.22 80.1755 371.2 80.079 370.195 79.8885C370.073 79.8656 369.948 79.87 369.828 79.9012C369.708 79.9325 369.596 79.9898 369.501 80.0692C369.406 80.1486 369.329 80.2481 369.277 80.3605C369.224 80.4729 369.197 80.5956 369.198 80.7196Z",fill:"currentColor"})]}));uCe.displayName="ShopPayIcon";function jvt(e){return Object.prototype.toString.call(e)==="[object Object]"}function rJ(e){return jvt(e)||Array.isArray(e)}function Avt(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function cU(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;const s=JSON.stringify(Object.keys(e.breakpoints||{})),a=JSON.stringify(Object.keys(t.breakpoints||{}));return s!==a?!1:n.every(i=>{const l=e[i],c=t[i];return typeof l=="function"?`${l}`==`${c}`:!rJ(l)||!rJ(c)?l===c:cU(l,c)})}function sJ(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function Rvt(e,t){if(e.length!==t.length)return!1;const n=sJ(e),r=sJ(t);return n.every((s,a)=>{const i=r[a];return cU(s,i)})}function uU(e){return typeof e=="number"}function vR(e){return typeof e=="string"}function dU(e){return typeof e=="boolean"}function aJ(e){return Object.prototype.toString.call(e)==="[object Object]"}function Cr(e){return Math.abs(e)}function fU(e){return Math.sign(e)}function S2(e,t){return Cr(e-t)}function Lvt(e,t){if(e===0||t===0||Cr(e)<=Cr(t))return 0;const n=S2(Cr(e),Cr(t));return Cr(n/e)}function wy(e){return _y(e).map(Number)}function Uo(e){return e[Bx(e)]}function Bx(e){return Math.max(0,e.length-1)}function hU(e,t){return t===Bx(e)}function iJ(e,t=0){return Array.from(Array(e),(n,r)=>t+r)}function _y(e){return Object.keys(e)}function dCe(e,t){return[e,t].reduce((n,r)=>(_y(r).forEach(s=>{const a=n[s],i=r[s],l=aJ(a)&&aJ(i);n[s]=l?dCe(a,i):i}),n),{})}function yR(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function Ovt(e,t){const n={start:r,center:s,end:a};function r(){return 0}function s(c){return a(c)/2}function a(c){return t-c}function i(c,u){return vR(e)?n[e](c):e(t,c,u)}return{measure:i}}function Cy(){let e=[];function t(s,a,i,l={passive:!0}){let c;if("addEventListener"in s)s.addEventListener(a,i,l),c=()=>s.removeEventListener(a,i,l);else{const u=s;u.addListener(i),c=()=>u.removeListener(i)}return e.push(c),r}function n(){e=e.filter(s=>s())}const r={add:t,clear:n};return r}function Pvt(e,t,n,r){const s=Cy(),a=1e3/60;let i=null,l=0,c=0;function u(){s.add(e,"visibilitychange",()=>{e.hidden&&v()})}function d(){g(),s.clear()}function h(b){if(!c)return;i||(i=b);const w=b-i;for(i=b,l+=w;l>=a;)n(),l-=a;const C=Cr(l/a);r(C),c&&t.requestAnimationFrame(h)}function m(){c||(c=t.requestAnimationFrame(h))}function g(){t.cancelAnimationFrame(c),i=null,l=0,c=0}function v(){i=null,l=0}return{init:u,destroy:d,start:m,stop:g,update:n,render:r}}function Ivt(e,t){const n=t==="rtl",r=e==="y",s=r?"y":"x",a=r?"x":"y",i=!r&&n?-1:1,l=d(),c=h();function u(v){const{height:x,width:b}=v;return r?x:b}function d(){return r?"top":n?"right":"left"}function h(){return r?"bottom":n?"left":"right"}function m(v){return v*i}return{scroll:s,cross:a,startEdge:l,endEdge:c,measureSize:u,direction:m}}function Vh(e=0,t=0){const n=Cr(e-t);function r(u){return u<e}function s(u){return u>t}function a(u){return r(u)||s(u)}function i(u){return a(u)?r(u)?e:t:u}function l(u){return n?u-n*Math.ceil((u-t)/n):u}return{length:n,max:t,min:e,constrain:i,reachedAny:a,reachedMax:s,reachedMin:r,removeOffset:l}}function fCe(e,t,n){const{constrain:r}=Vh(0,e),s=e+1;let a=i(t);function i(m){return n?Cr((s+m)%s):r(m)}function l(){return a}function c(m){return a=i(m),h}function u(m){return d().set(l()+m)}function d(){return fCe(e,l(),n)}const h={get:l,set:c,add:u,clone:d};return h}function Dvt(e,t,n,r,s,a,i,l,c,u,d,h,m,g,v,x,b,w,C){const{cross:S,direction:k}=e,E=["INPUT","SELECT","TEXTAREA"],T={passive:!1},j=Cy(),N=Cy(),R=Vh(50,225).constrain(g.measure(20)),O={mouse:300,touch:400},I={mouse:500,touch:600},B=v?43:25;let D=!1,z=0,V=0,U=!1,H=!1,q=!1,$=!1;function G(ie){if(!C)return;function he(ge){(dU(C)||C(ie,ge))&&re(ge)}const pe=t;j.add(pe,"dragstart",ge=>ge.preventDefault(),T).add(pe,"touchmove",()=>{},T).add(pe,"touchend",()=>{}).add(pe,"touchstart",he).add(pe,"mousedown",he).add(pe,"touchcancel",ce).add(pe,"contextmenu",ce).add(pe,"click",se,!0)}function K(){j.clear(),N.clear()}function ee(){const ie=$?n:t;N.add(ie,"touchmove",X,T).add(ie,"touchend",ce).add(ie,"mousemove",X,T).add(ie,"mouseup",ce)}function oe(ie){const he=ie.nodeName||"";return E.includes(he)}function ne(){return(v?I:O)[$?"mouse":"touch"]}function te(ie,he){const pe=h.add(fU(ie)*-1),ge=d.byDistance(ie,!v).distance;return v||Cr(ie)<R?ge:b&&he?ge*.5:d.byIndex(pe.get(),0).distance}function re(ie){const he=yR(ie,r);$=he,q=v&&he&&!ie.buttons&&D,D=S2(s.get(),i.get())>=2,!(he&&ie.button!==0)&&(oe(ie.target)||(U=!0,a.pointerDown(ie),u.useFriction(0).useDuration(0),s.set(i),ee(),z=a.readPoint(ie),V=a.readPoint(ie,S),m.emit("pointerDown")))}function X(ie){if(!yR(ie,r)&&ie.touches.length>=2)return ce(ie);const pe=a.readPoint(ie),ge=a.readPoint(ie,S),Ce=S2(pe,z),we=S2(ge,V);if(!H&&!$&&(!ie.cancelable||(H=Ce>we,!H)))return ce(ie);const Pe=a.pointerMove(ie);Ce>x&&(q=!0),u.useFriction(.3).useDuration(.75),l.start(),s.add(k(Pe)),ie.preventDefault()}function ce(ie){const pe=d.byDistance(0,!1).index!==h.get(),ge=a.pointerUp(ie)*ne(),Ce=te(k(ge),pe),we=Lvt(ge,Ce),Pe=B-10*we,ot=w+we/50;H=!1,U=!1,N.clear(),u.useDuration(Pe).useFriction(ot),c.distance(Ce,!v),$=!1,m.emit("pointerUp")}function se(ie){q&&(ie.stopPropagation(),ie.preventDefault(),q=!1)}function J(){return U}return{init:G,destroy:K,pointerDown:J}}function Fvt(e,t){let r,s;function a(h){return h.timeStamp}function i(h,m){const v=`client${(m||e.scroll)==="x"?"X":"Y"}`;return(yR(h,t)?h:h.touches[0])[v]}function l(h){return r=h,s=h,i(h)}function c(h){const m=i(h)-i(s),g=a(h)-a(r)>170;return s=h,g&&(r=h),m}function u(h){if(!r||!s)return 0;const m=i(s)-i(r),g=a(h)-a(r),v=a(h)-a(s)>170,x=m/g;return g&&!v&&Cr(x)>.1?x:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:i}}function Uvt(){function e(n){const{offsetTop:r,offsetLeft:s,offsetWidth:a,offsetHeight:i}=n;return{top:r,right:s+a,bottom:r+i,left:s,width:a,height:i}}return{measure:e}}function Bvt(e){function t(r){return e*(r/100)}return{measure:t}}function Vvt(e,t,n,r,s,a,i){let l,c,u=[],d=!1;function h(x){return s.measureSize(i.measure(x))}function m(x){if(!a)return;c=h(e),u=r.map(h);function b(C){for(const S of C){const k=S.target===e,E=r.indexOf(S.target),T=k?c:u[E],j=h(k?e:r[E]);if(Cr(j-T)>=.5){n.requestAnimationFrame(()=>{x.reInit(),t.emit("resize")});break}}}l=new ResizeObserver(C=>{d||(dU(a)||a(x,C))&&b(C)}),[e].concat(r).forEach(C=>l.observe(C))}function g(){l&&l.disconnect(),d=!0}return{init:m,destroy:g}}function zvt(e,t,n,r,s){let a=0,i=0,l=r,c=s,u=e.get(),d=0;function h(){const E=n.get()-e.get(),T=!l;let j=0;return T?(a=0,e.set(n),j=E):(a+=E/l,a*=c,u+=a,e.add(a),j=u-d),i=fU(j),d=u,k}function m(){const E=n.get()-t.get();return Cr(E)<.001}function g(){return l}function v(){return i}function x(){return a}function b(){return C(r)}function w(){return S(s)}function C(E){return l=E,k}function S(E){return c=E,k}const k={direction:v,duration:g,velocity:x,seek:h,settled:m,useBaseFriction:w,useBaseDuration:b,useFriction:S,useDuration:C};return k}function Hvt(e,t,n,r,s){const a=s.measure(10),i=s.measure(50),l=Vh(.1,.99);let c=!1;function u(){return!(c||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function d(g){if(!u())return;const v=e.reachedMin(t.get())?"min":"max",x=Cr(e[v]-t.get()),b=n.get()-t.get(),w=l.constrain(x/i);n.subtract(b*w),!g&&Cr(b)<a&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())}function h(g){c=!g}return{constrain:d,toggleActive:h}}function Wvt(e,t,n,r,s){const a=Vh(-t+e,0),i=h(),l=d(),c=m();function u(v,x){return S2(v,x)<1}function d(){const v=i[0],x=Uo(i),b=i.lastIndexOf(v),w=i.indexOf(x)+1;return Vh(b,w)}function h(){return n.map((v,x)=>{const{min:b,max:w}=a,C=a.constrain(v),S=!x,k=hU(n,x);return S?w:k||u(b,C)?b:u(w,C)?w:C}).map(v=>parseFloat(v.toFixed(3)))}function m(){if(t<=e+s)return[a.max];if(r==="keepSnaps")return i;const{min:v,max:x}=l;return i.slice(v,x)}return{snapsContained:c,scrollContainLimit:l}}function $vt(e,t,n){const r=t[0],s=n?r-e:Uo(t);return{limit:Vh(s,r)}}function qvt(e,t,n,r){const a=t.min+.1,i=t.max+.1,{reachedMin:l,reachedMax:c}=Vh(a,i);function u(m){return m===1?c(n.get()):m===-1?l(n.get()):!1}function d(m){if(!u(m))return;const g=e*(m*-1);r.forEach(v=>v.add(g))}return{loop:d}}function Gvt(e){const{max:t,length:n}=e;function r(a){const i=a-t;return n?i/-n:0}return{get:r}}function Yvt(e,t,n,r,s){const{startEdge:a,endEdge:i}=e,{groupSlides:l}=s,c=h().map(t.measure),u=m(),d=g();function h(){return l(r).map(x=>Uo(x)[i]-x[0][a]).map(Cr)}function m(){return r.map(x=>n[a]-x[a]).map(x=>-Cr(x))}function g(){return l(u).map(x=>x[0]).map((x,b)=>x+c[b])}return{snaps:u,snapsAligned:d}}function Kvt(e,t,n,r,s,a){const{groupSlides:i}=s,{min:l,max:c}=r,u=d();function d(){const m=i(a),g=!e||t==="keepSnaps";return n.length===1?[a]:g?m:m.slice(l,c).map((v,x,b)=>{const w=!x,C=hU(b,x);if(w){const S=Uo(b[0])+1;return iJ(S)}if(C){const S=Bx(a)-Uo(b)[0]+1;return iJ(S,Uo(b)[0])}return v})}return{slideRegistry:u}}function Qvt(e,t,n,r,s){const{reachedAny:a,removeOffset:i,constrain:l}=r;function c(v){return v.concat().sort((x,b)=>Cr(x)-Cr(b))[0]}function u(v){const x=e?i(v):l(v),b=t.map((C,S)=>({diff:d(C-x,0),index:S})).sort((C,S)=>Cr(C.diff)-Cr(S.diff)),{index:w}=b[0];return{index:w,distance:x}}function d(v,x){const b=[v,v+n,v-n];if(!e)return v;if(!x)return c(b);const w=b.filter(C=>fU(C)===x);return w.length?c(w):Uo(b)-n}function h(v,x){const b=t[v]-s.get(),w=d(b,x);return{index:v,distance:w}}function m(v,x){const b=s.get()+v,{index:w,distance:C}=u(b),S=!e&&a(b);if(!x||S)return{index:w,distance:v};const k=t[w]-C,E=v+d(k,0);return{index:w,distance:E}}return{byDistance:m,byIndex:h,shortcut:d}}function Xvt(e,t,n,r,s,a,i){function l(h){const m=h.distance,g=h.index!==t.get();a.add(m),m&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),g&&(n.set(t.get()),t.set(h.index),i.emit("select"))}function c(h,m){const g=s.byDistance(h,m);l(g)}function u(h,m){const g=t.clone().set(h),v=s.byIndex(g.get(),m);l(v)}return{distance:c,index:u}}function Zvt(e,t,n,r,s,a,i){let l=0;function c(){a.add(document,"keydown",u,!1),t.forEach(d)}function u(m){m.code==="Tab"&&(l=new Date().getTime())}function d(m){const g=()=>{if(new Date().getTime()-l>10)return;e.scrollLeft=0;const b=t.indexOf(m),w=n.findIndex(C=>C.includes(b));uU(w)&&(s.useDuration(0),r.index(w,0),i.emit("slideFocus"))};a.add(m,"focus",g,{passive:!0,capture:!0})}return{init:c}}function B5(e){let t=e;function n(){return t}function r(c){t=i(c)}function s(c){t+=i(c)}function a(c){t-=i(c)}function i(c){return uU(c)?c:c.get()}return{get:n,set:r,add:s,subtract:a}}function hCe(e,t){const n=e.scroll==="x"?a:i,r=t.style;let s=!1;function a(h){return`translate3d(${h}px,0px,0px)`}function i(h){return`translate3d(0px,${h}px,0px)`}function l(h){s||(r.transform=n(e.direction(h)))}function c(h){s=!h}function u(){s||(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:u,to:l,toggleActive:c}}function Jvt(e,t,n,r,s,a,i,l,c){const d=wy(s),h=wy(s).reverse(),m=w().concat(C());function g(j,N){return j.reduce((R,O)=>R-s[O],N)}function v(j,N){return j.reduce((R,O)=>g(R,N)>0?R.concat([O]):R,[])}function x(j){return a.map((N,R)=>({start:N-r[R]+.5+j,end:N+t-.5+j}))}function b(j,N,R){const O=x(N);return j.map(I=>{const B=R?0:-n,D=R?n:0,z=R?"end":"start",V=O[I][z];return{index:I,loopPoint:V,slideLocation:B5(-1),translate:hCe(e,c[I]),target:()=>l.get()>V?B:D}})}function w(){const j=i[0],N=v(h,j);return b(N,n,!1)}function C(){const j=t-i[0]-1,N=v(d,j);return b(N,-n,!0)}function S(){return m.every(({index:j})=>{const N=d.filter(R=>R!==j);return g(N,t)<=.1})}function k(){m.forEach(j=>{const{target:N,translate:R,slideLocation:O}=j,I=N();I!==O.get()&&(R.to(I),O.set(I))})}function E(){m.forEach(j=>j.translate.clear())}return{canLoop:S,clear:E,loop:k,loopPoints:m}}function e2t(e,t,n){let r,s=!1;function a(c){if(!n)return;function u(d){for(const h of d)if(h.type==="childList"){c.reInit(),t.emit("slidesChanged");break}}r=new MutationObserver(d=>{s||(dU(n)||n(c,d))&&u(d)}),r.observe(e,{childList:!0})}function i(){r&&r.disconnect(),s=!0}return{init:a,destroy:i}}function t2t(e,t,n,r){const s={};let a=null,i=null,l,c=!1;function u(){l=new IntersectionObserver(v=>{c||(v.forEach(x=>{const b=t.indexOf(x.target);s[b]=x}),a=null,i=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:r}),t.forEach(v=>l.observe(v))}function d(){l&&l.disconnect(),c=!0}function h(v){return _y(s).reduce((x,b)=>{const w=parseInt(b),{isIntersecting:C}=s[w];return(v&&C||!v&&!C)&&x.push(w),x},[])}function m(v=!0){if(v&&a)return a;if(!v&&i)return i;const x=h(v);return v&&(a=x),v||(i=x),x}return{init:u,destroy:d,get:m}}function n2t(e,t,n,r,s,a){const{measureSize:i,startEdge:l,endEdge:c}=e,u=n[0]&&s,d=v(),h=x(),m=n.map(i),g=b();function v(){if(!u)return 0;const C=n[0];return Cr(t[l]-C[l])}function x(){if(!u)return 0;const C=a.getComputedStyle(Uo(r));return parseFloat(C.getPropertyValue(`margin-${c}`))}function b(){return n.map((C,S,k)=>{const E=!S,T=hU(k,S);return E?m[S]+d:T?m[S]+h:k[S+1][l]-C[l]}).map(Cr)}return{slideSizes:m,slideSizesWithGaps:g,startGap:d,endGap:h}}function r2t(e,t,n,r,s,a,i,l,c){const{startEdge:u,endEdge:d,direction:h}=e,m=uU(n);function g(w,C){return wy(w).filter(S=>S%C===0).map(S=>w.slice(S,S+C))}function v(w){return w.length?wy(w).reduce((C,S,k)=>{const E=Uo(C)||0,T=E===0,j=S===Bx(w),N=s[u]-a[E][u],R=s[u]-a[S][d],O=!r&&T?h(i):0,I=!r&&j?h(l):0,B=Cr(R-I-(N+O));return k&&B>t+c&&C.push(S),j&&C.push(w.length),C},[]).map((C,S,k)=>{const E=Math.max(k[S-1]||0);return w.slice(E,C)}):[]}function x(w){return m?g(w,n):v(w)}return{groupSlides:x}}function s2t(e,t,n,r,s,a,i){const{align:l,axis:c,direction:u,startIndex:d,loop:h,duration:m,dragFree:g,dragThreshold:v,inViewThreshold:x,slidesToScroll:b,skipSnaps:w,containScroll:C,watchResize:S,watchSlides:k,watchDrag:E}=a,T=2,j=Uvt(),N=j.measure(t),R=n.map(j.measure),O=Ivt(c,u),I=O.measureSize(N),B=Bvt(I),D=Ovt(l,I),z=!h&&!!C,V=h||!!C,{slideSizes:U,slideSizesWithGaps:H,startGap:q,endGap:$}=n2t(O,N,R,n,V,s),G=r2t(O,I,b,h,N,R,q,$,T),{snaps:K,snapsAligned:ee}=Yvt(O,D,N,R,G),oe=-Uo(K)+Uo(H),{snapsContained:ne,scrollContainLimit:te}=Wvt(I,oe,ee,C,T),re=z?ne:ee,{limit:X}=$vt(oe,re,h),ce=fCe(Bx(re),d,h),se=ce.clone(),J=wy(n),de=({dragHandler:Oe,scrollBody:Qe,scrollBounds:Ge,options:{loop:ze}})=>{ze||Ge.constrain(Oe.pointerDown()),Qe.seek()},ie=({scrollBody:Oe,translate:Qe,location:Ge,offsetLocation:ze,scrollLooper:Ze,slideLooper:St,dragHandler:It,animation:Jt,eventHandler:dt,options:{loop:ft}},Et)=>{const an=Oe.velocity(),zn=Oe.settled();zn&&!It.pointerDown()&&(Jt.stop(),dt.emit("settle")),zn||dt.emit("scroll"),ze.set(Ge.get()-an+an*Et),ft&&(Ze.loop(Oe.direction()),St.loop()),Qe.to(ze.get())},he=Pvt(r,s,()=>de(xe),Oe=>ie(xe,Oe)),pe=.68,ge=re[ce.get()],Ce=B5(ge),we=B5(ge),Pe=B5(ge),ot=zvt(Ce,we,Pe,m,pe),Be=Qvt(h,re,oe,X,Pe),Ee=Xvt(he,ce,se,ot,Be,Pe,i),st=Gvt(X),et=Cy(),$e=t2t(t,n,i,x),{slideRegistry:tt}=Kvt(z,C,re,te,G,J),at=Zvt(e,n,tt,Ee,ot,et,i),xe={ownerDocument:r,ownerWindow:s,eventHandler:i,containerRect:N,slideRects:R,animation:he,axis:O,dragHandler:Dvt(O,e,r,s,Pe,Fvt(O,s),Ce,he,Ee,ot,Be,ce,i,B,g,v,w,pe,E),eventStore:et,percentOfView:B,index:ce,indexPrevious:se,limit:X,location:Ce,offsetLocation:we,options:a,resizeHandler:Vvt(t,i,s,n,O,S,j),scrollBody:ot,scrollBounds:Hvt(X,we,Pe,ot,B),scrollLooper:qvt(oe,X,we,[Ce,we,Pe]),scrollProgress:st,scrollSnapList:re.map(st.get),scrollSnaps:re,scrollTarget:Be,scrollTo:Ee,slideLooper:Jvt(O,I,oe,U,H,K,re,we,n),slideFocus:at,slidesHandler:e2t(t,i,k),slidesInView:$e,slideIndexes:J,slideRegistry:tt,slidesToScroll:G,target:Pe,translate:hCe(O,t)};return xe}function a2t(){let e={},t;function n(u){t=u}function r(u){return e[u]||[]}function s(u){return r(u).forEach(d=>d(t,u)),c}function a(u,d){return e[u]=r(u).concat([d]),c}function i(u,d){return e[u]=r(u).filter(h=>h!==d),c}function l(){e={}}const c={init:n,emit:s,off:i,on:a,clear:l};return c}const i2t={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0};function o2t(e){function t(a,i){return dCe(a,i||{})}function n(a){const i=a.breakpoints||{},l=_y(i).filter(c=>e.matchMedia(c).matches).map(c=>i[c]).reduce((c,u)=>t(c,u),{});return t(a,l)}function r(a){return a.map(i=>_y(i.breakpoints||{})).reduce((i,l)=>i.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:r}}function l2t(e){let t=[];function n(a,i){return t=i.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(a,e)),i.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function r(){t=t.filter(a=>a.destroy())}return{init:n,destroy:r}}function t6(e,t,n){const r=e.ownerDocument,s=r.defaultView,a=o2t(s),i=l2t(a),l=Cy(),c=a2t(),{mergeOptions:u,optionsAtMedia:d,optionsMediaQueries:h}=a,{on:m,off:g,emit:v}=c,x=I;let b=!1,w,C=u(i2t,t6.globalOptions),S=u(C),k=[],E,T,j;function N(){const{container:de,slides:ie}=S;T=(vR(de)?e.querySelector(de):de)||e.children[0];const pe=vR(ie)?T.querySelectorAll(ie):ie;j=[].slice.call(pe||T.children)}function R(de){const ie=s2t(e,T,j,r,s,de,c);if(de.loop&&!ie.slideLooper.canLoop()){const he=Object.assign({},de,{loop:!1});return R(he)}return ie}function O(de,ie){b||(C=u(C,de),S=d(C),k=ie||k,N(),w=R(S),h([C,...k.map(({options:he})=>he)]).forEach(he=>l.add(he,"change",I)),S.active&&(w.translate.to(w.location.get()),w.animation.init(),w.slidesInView.init(),w.slideFocus.init(),w.eventHandler.init(J),w.resizeHandler.init(J),w.slidesHandler.init(J),w.options.loop&&w.slideLooper.loop(),T.offsetParent&&j.length&&w.dragHandler.init(J),E=i.init(J,k)))}function I(de,ie){const he=K();B(),O(u({startIndex:he},de),ie),c.emit("reInit")}function B(){w.dragHandler.destroy(),w.eventStore.clear(),w.translate.clear(),w.slideLooper.clear(),w.resizeHandler.destroy(),w.slidesHandler.destroy(),w.slidesInView.destroy(),w.animation.destroy(),i.destroy(),l.clear()}function D(){b||(b=!0,l.clear(),B(),c.emit("destroy"),c.clear())}function z(de,ie,he){!S.active||b||(w.scrollBody.useBaseFriction().useDuration(ie===!0?0:S.duration),w.scrollTo.index(de,he||0))}function V(de){const ie=w.index.add(1).get();z(ie,de,-1)}function U(de){const ie=w.index.add(-1).get();z(ie,de,1)}function H(){return w.index.add(1).get()!==K()}function q(){return w.index.add(-1).get()!==K()}function $(){return w.scrollSnapList}function G(){return w.scrollProgress.get(w.location.get())}function K(){return w.index.get()}function ee(){return w.indexPrevious.get()}function oe(){return w.slidesInView.get()}function ne(){return w.slidesInView.get(!1)}function te(){return E}function re(){return w}function X(){return e}function ce(){return T}function se(){return j}const J={canScrollNext:H,canScrollPrev:q,containerNode:ce,internalEngine:re,destroy:D,off:g,on:m,emit:v,plugins:te,previousScrollSnap:ee,reInit:x,rootNode:X,scrollNext:V,scrollPrev:U,scrollProgress:G,scrollSnapList:$,scrollTo:z,selectedScrollSnap:K,slideNodes:se,slidesInView:oe,slidesNotInView:ne};return O(t,n),setTimeout(()=>c.emit("init"),0),J}t6.globalOptions=void 0;function mU(e={},t=[]){const n=f.useRef(e),r=f.useRef(t),[s,a]=f.useState(),[i,l]=f.useState(),c=f.useCallback(()=>{s&&s.reInit(n.current,r.current)},[s]);return f.useEffect(()=>{if(Avt()&&i){t6.globalOptions=mU.globalOptions;const u=t6(i,n.current,r.current);return a(u),()=>u.destroy()}else a(void 0)},[i,a]),f.useEffect(()=>{cU(n.current,e)||(n.current=e,c())},[e,c]),f.useEffect(()=>{Rvt(r.current,t)||(r.current=t,c())},[t,c]),[l,s]}mU.globalOptions=void 0;const mCe=L.createContext(null);function pU(){const e=L.useContext(mCe);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const pCe=L.forwardRef(({orientation:e="horizontal",opts:t,setApi:n,plugins:r,className:s,children:a,...i},l)=>{const[c,u]=mU({...t,axis:e==="horizontal"?"x":"y"},r),[d,h]=L.useState(!1),[m,g]=L.useState(!1),v=L.useCallback(C=>{C&&(h(C.canScrollPrev()),g(C.canScrollNext()))},[]),x=L.useCallback(()=>{u?.scrollPrev()},[u]),b=L.useCallback(()=>{u?.scrollNext()},[u]),w=L.useCallback(C=>{C.key==="ArrowLeft"?(C.preventDefault(),x()):C.key==="ArrowRight"&&(C.preventDefault(),b())},[x,b]);return L.useEffect(()=>{!u||!n||n(u)},[u,n]),L.useEffect(()=>{if(u)return v(u),u.on("reInit",v),u.on("select",v),()=>{u?.off("select",v)}},[u,v]),o.jsx(mCe.Provider,{value:{carouselRef:c,api:u,opts:t,orientation:e||(t?.axis==="y"?"vertical":"horizontal"),scrollPrev:x,scrollNext:b,canScrollPrev:d,canScrollNext:m},children:o.jsx("div",{ref:l,onKeyDownCapture:w,className:W("relative",s),role:"region","aria-roledescription":"carousel",...i,children:a})})});pCe.displayName="Carousel";const gCe=L.forwardRef(({className:e,...t},n)=>{const{carouselRef:r,orientation:s}=pU();return o.jsx("div",{ref:r,children:o.jsx("div",{ref:n,className:W("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});gCe.displayName="CarouselContent";const xR=L.memo(({selectedIndex:e,total:t})=>o.jsx("div",{className:"gap-xs flex",children:Array.from({length:t}).map((n,r)=>o.jsx("div",{className:W("duration-250 bg-textOff h-[4px] w-[4px] rounded-full opacity-20",{"!opacity-100":e===r})},r))}));xR.displayName="CarouselDots";const vCe=L.memo(({className:e,ref:t,...n})=>o.jsx("div",{ref:t,role:"group","aria-roledescription":"slide",className:W("min-w-0 shrink-0 grow-0 basis-full",e),...n}));vCe.displayName="CarouselItem";const bR=L.memo(({...e})=>{const{scrollPrev:t,canScrollPrev:n}=pU(),r=f.useCallback(s=>{s.stopPropagation(),t()},[t]);return o.jsx(Le,{disabled:!n,onClick:r,pill:!0,icon:ace,...e})});bR.displayName="CarouselPrevious";const wR=L.memo(({...e})=>{const{scrollNext:t,canScrollNext:n}=pU(),r=f.useCallback(s=>{s.stopPropagation(),t()},[t]);return o.jsx(Le,{pill:!0,disabled:!n,onClick:r,icon:xa,...e})});wR.displayName="CarouselNext";const c2t=({children:e,fadeOut:t,clipChildren:n,paginationStyle:r="below",className:s,contentClassName:a,wrapperClassName:i,fadeOutClassName:l,prevClassName:c,nextClassName:u,paginationButtonProps:d})=>{const[h,m]=f.useState(),[g,v]=f.useState(0),[x,b]=f.useState(0),w=L.Children.toArray(e),C=f.useMemo(()=>L.Children.map(w,S=>L.isValidElement(S)?o.jsx(vCe,{className:W("pl-md shrink-0 grow-0 !basis-[90%]",s),children:S},S.props.id):null),[w,s]);return L.useEffect(()=>{h&&(b(h.scrollSnapList().length),h.on("select",()=>{v(h.selectedScrollSnap())}))},[h,v,b]),o.jsxs(pCe,{opts:{duration:20},setApi:m,className:i,children:[o.jsxs("div",{className:W("relative"),children:[o.jsx("div",{className:n||t?"overflow-hidden":"",children:o.jsx(gCe,{className:a,children:C})}),t&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:W("w-lg bg-background pointer-events-none absolute bottom-0 right-0 top-0 opacity-0 duration-300",{"!opacity-100":g<w.length-1},l),style:{maskImage:"linear-gradient(to left, black, transparent)"}}),o.jsx("div",{className:W("w-lg bg-background pointer-events-none absolute bottom-0 left-0 top-0 opacity-0 duration-300",{"!opacity-100":g>0},l),style:{maskImage:"linear-gradient(to right, black, transparent)"}})]}),(r==="overlay"||r==="overlayWithDots")&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:W("-left-sm pointer-events-none absolute top-[50%] -translate-y-[50%] opacity-0 duration-150",{"!pointer-events-auto !opacity-100":g>0},c),children:o.jsx(bR,{extraCSS:"shadow-sm",...d})}),o.jsx("div",{className:W("-right-sm pointer-events-none absolute top-[50%] -translate-y-[50%] opacity-0 duration-150",{"!pointer-events-auto !opacity-100":g<w.length-1},u),children:o.jsx(wR,{extraCSS:"shadow-sm",...d})})]})]}),r==="overlayWithDots"&&x>1&&o.jsx("div",{className:"mt-md flex items-center justify-center",children:o.jsx(xR,{selectedIndex:g,total:x})}),r==="below"&&o.jsxs("div",{className:"mt-md flex items-center justify-between",children:[o.jsx(bR,{}),o.jsx(xR,{selectedIndex:g,total:x}),o.jsx(wR,{})]})]})},u2t=({children:e})=>o.jsx(o.Fragment,{children:e}),yCe=c2t,xCe=u2t,bCe=(e,t=4)=>e.reduce((n,r,s)=>{const a=Math.floor(s/t);return n[a]||(n[a]=[]),n[a].push(r),n},[]),wCe=L.memo(({images:e,badgeText:t,onImageClick:n,onCarouselImageClick:r,selectedImageIndex:s=0,maxImagesPerScroll:a=6,variant:i})=>{const[l,c]=f.useState(s),[u,d]=f.useState(null),{isMobileStyle:h}=qe(),m=f.useCallback(w=>{c(w),r?r(w):n(w)},[r,n]),g=w=>{d(w)},v=()=>{d(null)},x=bCe(e,a);f.useEffect(()=>{c(s)},[s]);const b=f.useMemo(()=>L.memo(({chunk:w,idx:C})=>{const S=f.useCallback(()=>m(C),[C]);return o.jsx(xCe,{id:String(C),children:o.jsx(_Ce,{images:w,onClick:S,onMouseEnter:g,onMouseLeave:Yn,rowIndex:C,selectedIndex:l,maxItems:a,variant:i})},w[0].src)}),[l,m,a,i]);return o.jsxs(Q,{className:"bg-offsetPlus shadow-subtle group relative flex select-none flex-col overflow-hidden rounded-lg border dark:border-none",children:[o.jsxs("div",{className:W("relative flex-1 bg-white",{"pb-0":e.length>1,"p-sm":i!=="small","p-xs":i==="small"}),children:[o.jsx(Bh,{src:e[u!==null?u:l??0]?.src,className:"aspect-[1.2/1] rounded-md border-none bg-transparent shadow-none",onClick:n.bind(null,l)}),t&&o.jsx("div",{className:"gap-sm pointer-events-none absolute right-3 top-3 flex items-center",children:t&&o.jsx(F,{variant:"smallCaps",className:"bg-text-200 !text-background dark:bg-background-200 dark:!text-text flex h-6 items-center rounded-full px-2 backdrop-blur-sm",children:t})})]}),e.length>1&&o.jsx("div",{className:"bottom-sm group left-0 right-0 isolate select-none bg-white",onMouseLeave:v,children:o.jsx(yCe,{paginationStyle:"overlay",wrapperClassName:"w-full",className:"!basis-full",clipChildren:!0,prevClassName:W("md:-translate-x-sm md:group-hover:translate-x-0 z-10",{"left-xs":i==="small"},{"left-sm":i!=="small"}),nextClassName:W("md:translate-x-sm md:group-hover:translate-x-0 z-10",{"right-xs":i==="small"},{"right-sm":i!=="small"}),paginationButtonProps:{size:h?"small":i==="small"?"tiny":"small",extraCSS:"md:opacity-0 md:group-hover:opacity-100 !bg-white !text-black/50 shadow-md border"},children:x.map((w,C)=>o.jsx(b,{chunk:w,idx:C},w[0].src))})})]})});wCe.displayName="EntityItemImageCarousel";const _Ce=L.memo(({images:e,rowIndex:t,selectedIndex:n,onClick:r,onMouseEnter:s,onMouseLeave:a,maxItems:i=6,variant:l})=>{const c=f.useCallback(d=>{r(d)},[r]),u=f.useMemo(()=>L.memo(({image:d,normalizedIndex:h})=>{const m=f.useCallback(v=>{c(h),v.stopPropagation()},[h]),g=f.useCallback(()=>{s(h)},[h]);return o.jsx(Bh,{src:d.src,className:W('shadow-subtle rounded-md bg-transparent after:absolute after:inset-0 after:rounded-[inherit] after:border after:border-black/5 after:content-[""]',{"opacity-100":h===n}),onClick:m,onMouseEnter:g,onMouseLeave:a},d.src)}),[c,s,a,n]);return o.jsx("div",{className:W("grid grid-cols-6 items-center justify-center",{"gap-xs px-xs py-xs":l==="small"},{"gap-md px-md py-md":l!=="small"}),style:{gridTemplateColumns:`repeat(${i}, minmax(0, 1fr))`},children:e.map((d,h)=>{const m=t*i+h;return o.jsx(u,{image:d,normalizedIndex:m},d.src)})})});_Ce.displayName="ImageThumbnailRow";function d2t(){const e=on(),{value:t}=Fs({flag:"shopping-try-on-enabled",defaultValue:!1,extraAttributes:{userEmail:e?.user?.email??"unknown-user"}});return t}const CCe=L.memo(({discountAmount:e,discountLabel:t,className:n})=>{const{$t:r}=ae();return o.jsxs(F,{variant:"tiny",color:"super",className:W("gap-xs bg-superBG py-2xs inline-flex items-center rounded-sm px-[6px]",n),children:[o.jsx(Ne,{icon:r$e,size:"xs"}),r({defaultMessage:"Save {discountAmount} with {discountLabel}",id:"3hJFN0J8ga"},{discountAmount:e.replace(".00",""),discountLabel:t??"Pro"})]})});CCe.displayName="DiscountTag";const SCe=L.memo(({features:e})=>{const t=f.useCallback(n=>{if(n.indexOf(":")>-1){const r=n.split(":");return r.length>2?n:o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"font-medium",children:[r[0],":"]})," ",o.jsx("span",{className:"text-text-200",children:r[1]})]})}return n},[]);return o.jsx("ul",{className:"gap-sm flex flex-col",children:e.map((n,r)=>o.jsxs("li",{className:"flex items-start",children:[o.jsx("div",{className:"flex size-[1lh] shrink-0 items-center justify-center",children:o.jsx(Q,{variant:"textColor",className:"size-[5px] rounded-full opacity-50"})}),o.jsx(F,{as:"span",children:t(n)})]},r))})});SCe.displayName="EntityItemKeyFeatures";const f2t=({target:e,dwellTimeMs:t,callback:n,callLimit:r,targetThreshold:s=.5})=>{const a=f.useRef(null),i=f.useRef(0),l=f.useRef(0);f.useEffect(()=>{a.current&&(clearTimeout(a.current),Date.now()-l.current>=t?(n(),a.current=null):a.current=setTimeout(()=>{n(),i.current=i.current+1,a.current=null},t-(Date.now()-l.current)))},[t,n]),f.useEffect(()=>{r<=i.current&&a.current&&(clearTimeout(a.current),a.current=null)},[r]);const c=f.useCallback(u=>{i.current>=r||(u?(l.current=Date.now(),a.current=setTimeout(()=>{n(),i.current=i.current+1,a.current=null},t)):a.current&&(clearTimeout(a.current),a.current=null))},[t,n,r]);f.useEffect(()=>{const u=new IntersectionObserver(h=>{h.forEach(m=>{c(m.isIntersecting)})},{threshold:s}),d=e.current;return d&&u.observe(d),()=>{d&&u.unobserve(d)}},[e,s,c])},h2t=({target:e,adType:t,sponsor:n,sponsoredUUID:r,contextUUID:s,url:a})=>{const{trackEvent:i}=um(),{result:{context_uuid:l,frontend_context_uuid:c,backend_uuid:u}}=Un(),d=f.useMemo(()=>{const g={contextUUID:s??l??"",frontendContextUUID:c??"",advertiser:n,ad_content_uuid:r,type:t,url:a};return u&&(g.entryUUID=u),g},[s,r,n,t,a,u,l,c]),h=f.useCallback(()=>{i("ad unit viewed",d)},[d,i]);f2t({target:e,dwellTimeMs:1e3,callback:h,callLimit:1}),cCe({ref:e,onInView:()=>{i("ad unit delivered",d)}});const m=f.useCallback(()=>{i("ad unit clicked",d)},[d,i]);return f.useMemo(()=>({trackClick:m}),[m])},gU=L.memo(({ref:e,...t})=>{const{$t:n}=ae(),{url:r,thumbnail:s,title:a,className:i,titleClassName:l,entryUUID:c,sponsoredUUID:u,onClick:d,onThumbnailFail:h}=t,m=sf(r),g=`https://img.youtube.com/vi/${m}/hqdefault.jpg`,[v,x]=f.useState(!1),{trackEvent:b}=Ye(),w=s??g,C=f.useCallback(()=>{h?.(w,r)},[w,r]),S=f.useCallback(()=>{x(!0),c&&b("media item clicked",{entryUUID:c,mediaItemType:"video",url:r}),d?.()},[c,d,b,r]);return m===void 0?null:o.jsxs(o.Fragment,{children:[o.jsxs(Q,{"data-testid":Ga.ANSWER_MODE_VIDEO.VIDEO_PREVIEW,ref:e,onClick:S,className:W("group relative aspect-video w-full cursor-pointer overflow-hidden rounded-md shadow-md transition-all duration-200 ease-in-out hover:scale-[1.02] hover:shadow-lg",i),children:[o.jsxs("div",{children:[o.jsx("div",{className:"rounded-inherit px-sm py-xs absolute inset-0 flex items-start justify-start bg-black/60 opacity-0 duration-150 group-hover:opacity-100",children:o.jsx(F,{className:W("line-clamp-3 text-white drop-shadow-sm",l),variant:"tiny",children:a})}),o.jsxs(F,{variant:"tiny",color:"white",className:"bottom-xs right-xs gap-x-xs absolute inline-flex items-center rounded-[4px] bg-black/80 px-[6px] py-[2px]",children:[n({defaultMessage:"Watch",id:"aaiLWk1hBH"}),o.jsx(Ne,{icon:BWe,size:"xs"})]}),!!u&&o.jsx(F,{variant:"tiny",color:"white",className:"bottom-xs left-xs gap-x-xs absolute inline-flex items-center rounded-[4px] bg-black/80 px-[6px] py-[2px]",children:n({defaultMessage:"Sponsored",id:"DURmN0gdJi"})})]}),o.jsx("img",{alt:"Video Preview",className:"h-full w-full rounded-md object-cover",src:w,onError:C})]}),o.jsx(Ig,{name:a,url:r,isOpen:v,setisOpen:x})]})});gU.displayName="ThreadEntryVideo";const m2t=L.memo(({sponsoredUUID:e,sponsor:t,...n})=>{const r=f.useRef(null),{trackClick:s}=h2t({target:r,adType:"video",sponsor:t,sponsoredUUID:e,url:n.url});return o.jsx(gU,{ref:r,onClick:s,sponsoredUUID:e,...n})});m2t.displayName="SponsoredThreadEntryVideo";const MCe=L.memo(({isLoading:e,shouldTruncate:t,firstYoutubeSource:n,entryUUID:r,reviewSummary:s,className:a})=>{const{$t:i}=ae(),[l,c]=f.useState(!1),[u,d]=f.useState(!1),[h,m]=f.useState(!1),g=f.useRef(null),v=()=>{c(!0)};f.useEffect(()=>{!g.current||!t||m(g.current.scrollHeight>g.current.clientHeight)},[e,t]);const x=f.useCallback(()=>d(!0),[]);return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:a,children:e?o.jsxs(Kn,{className:"mt-sm gap-sm flex flex-col",children:[o.jsx("div",{className:"bg-offset h-3 w-[80%] rounded-full"}),o.jsx("div",{className:"bg-offset h-3 rounded-full"}),o.jsx("div",{className:"bg-offset h-3 w-[50%] rounded-full"})]}):o.jsxs("div",{className:W("clear-end",{"flex flex-col":!l}),children:[o.jsxs("div",{className:"group/parent relative w-full",onClick:!l&&h?v:void 0,children:[o.jsx(F,{className:W({"line-clamp-3":t&&!l}),ref:g,children:s}),!l&&h&&t&&o.jsx("div",{className:"absolute bottom-[1.5px] right-0 cursor-pointer pl-8",children:o.jsxs(F,{color:"light",variant:"small",children:[o.jsx("div",{className:"bg-background absolute inset-0",style:{maskImage:"linear-gradient(to right, transparent, black 30%)"}}),o.jsxs("span",{className:"gap-xs relative flex items-center",children:[i({defaultMessage:"More",id:"I5NMJ8llIi"}).toLowerCase(),o.jsx(jt,{icon:L_e.faChevronDown,size:"xs"})]})]})})]}),n&&o.jsx("div",{children:o.jsxs(Q,{variant:"offset",className:"mt-sm gap-md p-sm dark:shadow-subtle inline-flex cursor-pointer items-center rounded-md duration-150 hover:opacity-75",onClick:x,children:[o.jsx(gU,{url:n.url,thumbnail:null,title:n.name,variant:"preview",className:W("pointer-events-none z-10 hidden !h-[2lh] !w-auto shrink-0 self-start md:block"),titleClassName:"!line-clamp-2",entryUUID:r}),o.jsx("div",{children:o.jsx(F,{variant:"tiny",color:"light",className:"line-clamp-2 max-w-[250px]",children:n.name.replace(" - YouTube","")})})]})})]})}),n&&o.jsx(Ig,{name:n.name,url:n.url,isOpen:u,setisOpen:d})]})});MCe.displayName="EntityItemReviewSummary";const kCe=L.memo(({sources:e,count:t,variant:n="default",className:r})=>{const s="clip-path-small",a="clip-path-default",i=Math.min(e.length,t),l=f.useMemo(()=>e.slice(0,i),[e,i]);return i===0?null:o.jsxs(o.Fragment,{children:[o.jsx("svg",{width:14,height:14,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"absolute opacity-0",children:o.jsx("defs",{children:o.jsx("clipPath",{id:a,children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0635 0.704214C9.13824 0.253115 8.09868 0 7 0C3.13401 0 0 3.13401 0 7C0 10.866 3.13401 14 7 14C8.09868 14 9.13824 13.7469 10.0635 13.2958C8.19825 11.8312 7 9.55552 7 7C7 4.44448 8.19825 2.16882 10.0635 0.704214Z",fill:"#D9D9D9"})})})}),o.jsx("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"absolute opacity-0",children:o.jsx("defs",{children:o.jsx("clipPath",{id:s,children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.57242 0.57787C7.7928 0.20734 6.92062 0 6 0C2.68629 0 0 2.68629 0 6C0 9.31371 2.68629 12 6 12C6.92062 12 7.7928 11.7927 8.57242 11.4221C7.00228 10.1385 6 8.18628 6 6C6 3.81372 7.00228 1.86154 8.57242 0.57787Z",fill:"#D9D9D9"})})})}),o.jsx("div",{className:W("gap-xs relative flex shrink-0 items-center",r),children:o.jsx("div",{className:"ml-xs flex",children:l.map((c,u)=>o.jsx(pu,{domain:c,size:n==="small"?12:14,className:W("bg-offsetPlus relative z-0 shrink-0",{"-ml-[5px]":n==="default"},{"-ml-xs":n==="small"}),style:u!==i-1?{clipPath:`url(#${n==="small"?s:a})`}:void 0},u))})})]})});kCe.displayName="CitationPile";const ECe=L.memo(({webResults:e,className:t,isLoading:n})=>{const[r,s]=f.useState(!1),{isMobileStyle:a}=qe(),i=a?2:3,l=2,c=f.useMemo(()=>e.reduce((g,v)=>g.some(b=>!b||!v.url?!1:no(b)===no(v.url))?g:v.url?g.concat(v.url):g,[]),[e]),u=f.useMemo(()=>c.slice(0,i),[c,i]),d=f.useMemo(()=>c.reduce((g,v,x)=>x<l?g+(x>0?", ":"")+no(v).replace(/\.[^.]*$/,""):x>=l&&x===c.length-1?g+`, +${c.length-l}`:g,""),[c]),h=f.useCallback(()=>{s(!0)},[]),m=f.useCallback(()=>{s(!1)},[]);return n?null:o.jsxs(o.Fragment,{children:[o.jsx(Mn,{tooltipText:"Review summary sources",asChild:!0,tooltipLayout:"top",children:o.jsxs("div",{onClick:h,className:W("gap-sm hover:bg-offsetPlus flex cursor-pointer flex-row-reverse items-center",t),children:[o.jsx(F,{variant:"smallCaps",color:"light",children:d}),o.jsx(kCe,{count:i,sources:u})]})}),o.jsx(zF,{isOpen:r,onClose:m,webResults:e})]})});ECe.displayName="EntityItemSourcePile";const Vx=(e="sm")=>{const[t,n]=f.useState(e);f.useEffect(()=>{const c=()=>{window.innerWidth>=1536?n("2xl"):window.innerWidth>=1280?n("xl"):window.innerWidth>=1024?n("lg"):window.innerWidth>=768?n("md"):window.innerWidth>=640&&n("sm")};return window.addEventListener("resize",c),c(),()=>window.removeEventListener("resize",c)},[]);const r=!0,s=["md","lg","xl","2xl"].includes(t),a=["lg","xl","2xl"].includes(t),i=["xl","2xl"].includes(t),l=["2xl"].includes(t);return f.useMemo(()=>({breakpoint:t,isSmallScreen:r,isMediumScreen:s,isLargeScreen:a,isXLargeScreen:i,is2XLargeScreen:l}),[t,l,a,s,r,i])};var Gk,vU="HoverCard",[TCe,dXt]=Zo(vU,[_g]),qC=_g(),[p2t,GC]=TCe(vU),NCe=e=>{const{__scopeHoverCard:t,children:n,open:r,defaultOpen:s,onOpenChange:a,openDelay:i=700,closeDelay:l=300}=e,c=qC(t),u=f.useRef(0),d=f.useRef(0),h=f.useRef(!1),m=f.useRef(!1),[g=!1,v]=rf({prop:r,defaultProp:s,onChange:a}),x=f.useCallback(()=>{clearTimeout(d.current),u.current=window.setTimeout(()=>v(!0),i)},[i,v]),b=f.useCallback(()=>{clearTimeout(u.current),!h.current&&!m.current&&(d.current=window.setTimeout(()=>v(!1),l))},[l,v]),w=f.useCallback(()=>v(!1),[v]);return f.useEffect(()=>()=>{clearTimeout(u.current),clearTimeout(d.current)},[]),o.jsx(p2t,{scope:t,open:g,onOpenChange:v,onOpen:x,onClose:b,onDismiss:w,hasSelectionRef:h,isPointerDownOnContentRef:m,children:o.jsx(HI,{...c,children:n})})};NCe.displayName=vU;var jCe="HoverCardTrigger",ACe=f.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,s=GC(jCe,n),a=qC(n);return o.jsx(q_,{asChild:!0,...a,children:o.jsx(Jn.a,{"data-state":s.open?"open":"closed",...r,ref:t,onPointerEnter:pn(e.onPointerEnter,r6(s.onOpen)),onPointerLeave:pn(e.onPointerLeave,r6(s.onClose)),onFocus:pn(e.onFocus,s.onOpen),onBlur:pn(e.onBlur,s.onClose),onTouchStart:pn(e.onTouchStart,i=>i.preventDefault())})})});ACe.displayName=jCe;var yU="HoverCardPortal",[g2t,v2t]=TCe(yU,{forceMount:void 0}),RCe=e=>{const{__scopeHoverCard:t,forceMount:n,children:r,container:s}=e,a=GC(yU,t);return o.jsx(g2t,{scope:t,forceMount:n,children:o.jsx(Da,{present:n||a.open,children:o.jsx(wx,{asChild:!0,container:s,children:r})})})};RCe.displayName=yU;var n6="HoverCardContent",LCe=f.forwardRef((e,t)=>{const n=v2t(n6,e.__scopeHoverCard),{forceMount:r=n.forceMount,...s}=e,a=GC(n6,e.__scopeHoverCard);return o.jsx(Da,{present:r||a.open,children:o.jsx(y2t,{"data-state":a.open?"open":"closed",...s,onPointerEnter:pn(e.onPointerEnter,r6(a.onOpen)),onPointerLeave:pn(e.onPointerLeave,r6(a.onClose)),ref:t})})});LCe.displayName=n6;var y2t=f.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:i,...l}=e,c=GC(n6,n),u=qC(n),d=f.useRef(null),h=Fr(t,d),[m,g]=f.useState(!1);return f.useEffect(()=>{if(m){const v=document.body;return Gk=v.style.userSelect||v.style.webkitUserSelect,v.style.userSelect="none",v.style.webkitUserSelect="none",()=>{v.style.userSelect=Gk,v.style.webkitUserSelect=Gk}}},[m]),f.useEffect(()=>{if(d.current){const v=()=>{g(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",v),()=>{document.removeEventListener("pointerup",v),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),f.useEffect(()=>{d.current&&w2t(d.current).forEach(x=>x.setAttribute("tabindex","-1"))}),o.jsx(xx,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:i,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:pn(a,v=>{v.preventDefault()}),onDismiss:c.onDismiss,children:o.jsx(WI,{...u,...l,onPointerDown:pn(l.onPointerDown,v=>{v.currentTarget.contains(v.target)&&g(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:h,style:{...l.style,userSelect:m?"text":void 0,WebkitUserSelect:m?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),x2t="HoverCardArrow",b2t=f.forwardRef((e,t)=>{const{__scopeHoverCard:n,...r}=e,s=qC(n);return o.jsx($I,{...s,...r,ref:t})});b2t.displayName=x2t;function r6(e){return t=>t.pointerType==="touch"?void 0:e()}function w2t(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var OCe=NCe,PCe=ACe,ICe=RCe,DCe=LCe;const Yk="text-text text-left hover:text-super focus:text-super mb-xs transition-color line-clamp-2 cursor-pointer font-sans text-sm font-medium duration-150",YC=L.memo(({hideHoverCard:e=!1,children:t,contentProps:n,linkProps:r,result:s,webResultCitation:a,timestampComponent:i,trackEvent:l,getAttachmentUrl:c})=>{const u=s?.is_conversation_history??!1,d=s?.is_memory??!1,h=u||d,[m,g]=f.useState(!1),[v,x]=f.useState(null),b=s.is_attachment??!1,w=Si(s.url),C=f.useCallback(async()=>{if(!c)return;const ee=await c(s.url);w&&(x(ee),g(!0),R(!1),O.current=!1)},[c,s.url,w]),S=AC(s),k=xpe(s),E=k||h&&!S?null:s.meta_data?.generated_file_title??s.name,T=a?.cited_texts??[],j=s.meta_data?.generated_file_description??s.snippet,[N,R]=f.useState(!1),O=f.useRef(!1),[I,B]=f.useState(!1),D=!!(s.url&&sf(s.url)),z=__(),V=s.meta_data?.authors,U=typeof s.meta_data?.wiley_book_uuid=="string",H=typeof s.meta_data?.domain_name=="string"?s.meta_data?.domain_name:void 0,q=f.useMemo(()=>fde(s),[s]);f.useEffect(()=>{if(typeof window>"u")return;function ee(){O.current=!1}return document.addEventListener("visibilitychange",ee),()=>{window.removeEventListener("visibilitychange",ee)}},[]);const $=s.url||S,G=f.useCallback(()=>g(!1),[]),K=f.useMemo(()=>({src:v??void 0}),[v]);return o.jsxs(OCe,{onOpenChange:ee=>{!ee&&O.current||R(e?!1:ee)},open:N,openDelay:200,closeDelay:200,children:[D&&s.url&&o.jsx(Ig,{isOpen:I,name:E,setisOpen:B,url:s.url}),w&&v&&o.jsx(LC,{isOpen:m,onClose:G,imgProps:K}),o.jsx(PCe,{asChild:!0,"aria-label":E,onPointerEnter:()=>{O.current=!0},onClick:()=>{R(!1),O.current=!1},onPointerLeave:()=>{O.current=!1},children:t}),o.jsx(ICe,{children:o.jsx(DCe,{className:W({"data-open:animate-in data-open:zoom-in-[0.97] data-open:fade-in data-closed:animate-out data-closed:zoom-out-[0.97] data-closed:fade-out data-[side=bottom]:origin-top data-[side=top]:origin-bottom":!z}),side:"bottom",sideOffset:8,...n,children:o.jsxs("div",{className:"bg-background p-xs px-md py-sm dark:border-borderMainDark/50 dark:bg-backgroundDark w-80 rounded-lg border shadow-lg",children:[h&&!S?o.jsx(FF,{variant:"medium",searchType:d?"memory":"conversation-history"}):o.jsxs("div",{className:"gap-sm flex flex-col",children:[($||i)&&o.jsxs("div",{className:"flex items-center justify-between",children:[$&&o.jsx(Dg,{className:"text-right",variant:"tiny",color:"light",url:s.url,isAttachment:b,source:H,connectionType:s.meta_data?.connection_type}),i]}),D?o.jsx("button",{className:Yk,onClick:()=>{B(!0)},children:E}):b?o.jsx("button",{className:Yk,onClick:C,children:E}):q?o.jsx(DF,{className:Yk,result:s,trackEvent:l,...r,children:E}):o.jsx("span",{className:"text-default mb-xs line-clamp-2 text-left font-sans text-sm",children:E})]}),V?o.jsx(F,{color:"light",variant:"small",className:"line-clamp-3",children:V.join(", ")}):null,k?o.jsx(F,{variant:"small",color:"light",children:o.jsx(Ve,{defaultMessage:"This is a private source.",id:"jKReyt0qq8",description:"Text shown when a source is private and obfuscated"})}):null,E!==s.name&&!d&&!k?o.jsx(F,{variant:"small",color:"light",children:s.name}):null,T.length>0?o.jsx("ul",{children:T.map((ee,oe)=>o.jsx("li",{className:"border-b last:border-b-0",children:o.jsx(F,{variant:"small",className:"line-clamp-20 italic",children:ee})},oe))}):j&&o.jsx(F,{variant:"small",className:"line-clamp-4 whitespace-pre-wrap",children:j}),U?o.jsxs(Q,{className:"gap-xs pt-sm mt-sm flex items-center border-t",children:[o.jsx(F,{variant:"tiny",color:"super",children:o.jsx(Ne,{size:"sm",icon:Rce})}),o.jsx(F,{variant:"tiny",color:"super",children:o.jsx(Ve,{defaultMessage:"Premium Source",id:"K/sjkPqxv7",description:"title"})})]}):null,S&&!k?o.jsxs(Q,{className:"gap-xs pt-sm mt-sm flex items-center border-t",children:[o.jsx(F,{variant:"tiny",color:"super",children:o.jsx(Ne,{size:"sm",icon:jce})}),o.jsx(F,{variant:"tiny",color:"super",children:o.jsx(Ve,{defaultMessage:"Personal Search",id:"7+aLCEyqS2",description:"title"})})]}):null]})})})]})}),_2t=De(async()=>({default:(await Me(()=>import("./SidePDFViewer-0J9CNdqm.js"),__vite__mapDeps([79,1,3]))).SidePDFViewer})),FCe=f.createContext({openFile:()=>{},closeViewer:()=>{},doViewerAction:()=>{},isViewerOpen:!1,setViewerDispatch:()=>{}}),UCe=L.memo(({children:e})=>{const[t,n]=f.useState(),[r,s]=f.useState(),a=f.useRef(void 0),i=f.useCallback(m=>{n(m)},[n]),l=f.useCallback(()=>{n(void 0),s(void 0),a.current=void 0},[n,s]),c=f.useRef([]),u=f.useCallback(m=>{a.current?a.current(m):c.current.push(m)},[]),d=f.useCallback(m=>{s(()=>m),a.current=m,c.current.length>0&&m&&(c.current.forEach(g=>m(g)),c.current=[])},[s]),h=f.useMemo(()=>({openFile:i,closeViewer:l,doViewerAction:u,isViewerOpen:!!r,setViewerDispatch:d}),[i,l,u,r,d]);return o.jsxs(FCe.Provider,{value:h,children:[e,o.jsx(kt,{children:t&&o.jsx(_2t,{file:t})})]})});UCe.displayName="FileViewerStateProvider";const C2t=e=>{const{value:t}=Fs({flag:"file-viewer-side",defaultValue:!1}),{isLargeScreen:n}=Vx();return t&&!e&&n},KC=({reason:e})=>{const t=Vt(),{mutateAsync:n}=Kt({mutationKey:l4(),mutationFn:async i=>(await _ct({request:{url:i.url,thread_id:i.thread_id},reason:e})).file_url,onSuccess:(i,l,c)=>{t.setQueryData(l4(l.url),i),l.callback?.(i,!1)},onError:(i,l,c)=>{l.callback?.("",!1)},retry:!1}),r=f.useCallback(i=>{const l=t.getQueryData(l4(i));return typeof l=="string"?l:null},[t]),s=f.useCallback(async i=>{i.callback?.("",!0);const l=r(i.url);if(l)return i.callback?.(l,!1),l;const c=await n(i);return i.callback?.(c,!1),c},[r,n]),a=f.useCallback(async(i,l)=>{const c=URL.createObjectURL(l);t.setQueryData(l4(i),c)},[t]);return f.useMemo(()=>({getCachedImageDownloadUrl:r,getImageDownloadUrl:s,cacheImageDownloadUrl:a}),[a,r,s])},BCe=()=>{const{openModal:e}=Gt(),{trackEvent:t}=Ye();return f.useCallback(r=>{if(AC(r))return;const s=DC(r);e("memorySearchHistoryModal",s);const a=s.type,i=s.memoryKey,l=s.entryUuid;t("viewed memory search history modal",{type:a,...a==="memory"&&{memory_key:i},...a==="conversation_history"&&{entry_uuid:l}})},[e,t])},xU=({trackEvent:e,entryUUID:t,frontendContextUUID:n,contextUUID:r})=>f.useCallback((s,a)=>{e(s,{entryUUID:t,frontendContextUUID:n,contextUUID:r,...a})},[t,n,r,e]),VCe=L.memo(({webResults:e,inFlight:t,threadOrArticle:n,showSkeletonUnits:r})=>{const{isMediumScreen:s}=Vx(),a=s?4:3,i="citation-regular-list",{$t:l}=ae(),{getImageDownloadUrl:c}=KC({reason:i}),{trackEvent:u}=Ye(),d=Bs(),h=Ln(),m=pr(),g=f.useCallback((N,R)=>{h&&d.openTab({url:N,tabId:R})},[h,d]),{mutate:v}=vF({reason:i,onSuccess:h?g:void 0}),x=BCe(),b=f.useMemo(()=>e.slice(0,a),[e,a]),w=xU({trackEvent:u,entryUUID:n.backend_uuid,frontendContextUUID:n.uuid,contextUUID:n.context_uuid}),C=C2t("collection_info"in n&&!!n.collection_info?.uuid),S=f.useContext(FCe),k=f.useCallback(async N=>{if(C&&N.url.endsWith(".pdf")){S?.openFile({name:N.name,url:null});const R=await c({url:N.url,thread_id:n.backend_uuid??""});S?.openFile({name:N.name,url:R}),u("file viewer opened",{contextUUID:n.context_uuid,entryUUID:n.backend_uuid,frontendContextUUID:n.uuid,source:"source card",fileName:N.name});return}return v({file_url:N.url,tab_id:N.tab_id})},[C,v,S,c,n.backend_uuid,n.context_uuid,n.uuid,u]),E=f.useCallback((N,R)=>{if(Si(N.url)){if(J_(N.url)){R(N.url,!1);return}c({callback:R,url:N.url,thread_id:n.backend_uuid??""})}},[c,n]),T=f.useCallback((N,R)=>{if(jC(N)){x(N);return}const O=sf(N.url);!m&&O||nD(R)&&(R.preventDefault(),my(N)?v({file_url:N.url,tab_id:N.tab_id}):d.openTab({url:N.url,tabId:N.tab_id}))},[v,d,m,x]),j=f.useMemo(()=>L.memo(({result:N,idx:R})=>{const O=f.useMemo(()=>({onClick(){const D=DC(N),{type:z,memoryKey:V}=D;u("click citation",{source:"hoverCard",citation_url:N.url,entryUUID:n.uuid,frontendContextUUID:n.uuid,contextUUID:n.context_uuid,isMemory:N.is_memory,isConversationHistory:N.is_conversation_history,...z==="memory"&&{memory_key:V}})}}),[N]),I=f.useMemo(()=>({color:"light"}),[]),B=f.useCallback(D=>T(N,D),[N]);return o.jsx("div",{className:"min-w-0",children:o.jsx(YC,{hideHoverCard:!0,linkProps:O,result:N,trackEvent:u,timestampComponent:OC.isRecentlyTrending(N)?o.jsx(IC,{recentlyUpdatedLabel:l({defaultMessage:"just now",id:"I90sbWU03C"}),timestamp:N.meta_data?.published_date,timestampProps:I,children:l({defaultMessage:"Updated",id:"xrk6zgu9jU"})}):null,children:o.jsx("div",{className:"size-full",children:o.jsx(Px,{result:N,idx:R,inFlight:t,isTrendingLayout:!1,isSidecar:m,trackEvent:w,downloadCitation:my(N)?k:void 0,getImageUrl:Si(N.url)?E:void 0,variant:"grid",onClick:B,useLightBoxModal:!h})})})})}),[l,E,k,t,h,m,T,n.context_uuid,n.uuid,w,u]);return o.jsxs("div",{className:"gap-sm grid grid-cols-3 md:grid-cols-4 md:px-0 [&>*:nth-child(4)]:hidden md:[&>*:nth-child(4)]:block",children:[b.map((N,R)=>o.jsx(j,{result:N,idx:R},`${N.url}-${N.timestamp}`)),r&&new Array(a-b.length).fill(null).map((N,R)=>o.jsx(Q,{variant:"offsetLoading",className:"size-full h-[52px] min-w-0 rounded-lg md:h-[68px]"},R))]})});VCe.displayName="CitationRegularList";const zCe=L.memo(({children:e,className:t})=>o.jsx(Q,{className:t,children:e}));zCe.displayName="CitationsWrapper";const S2t=({webResults:e})=>uo(t=>({isShowing:!1,webResults:e,actions:{hide:()=>t({isShowing:!1}),show:n=>t({...n,isShowing:!0})}})),{Context:M2t,useTrackedState:k2t}=Nx("SourcesList"),HCe=f.memo(({children:e,webResults:t})=>{const[n]=L.useState(()=>S2t({webResults:t}));return f.useEffect(()=>{n.setState({webResults:t})},[t,n]),o.jsx(M2t.Provider,{value:n,children:e})});HCe.displayName="SourcesListProvider";const WCe=k2t,E2t=L.memo(({results:e,handleViewAllClick:t,expandedLayout:n,maxFavicons:r})=>{const a=r??(n?2:6),i=ae(),l=Array.from(new Map(e.map(d=>[no(d.url),d])).values()),c=WCe(),u=i.formatMessage({defaultMessage:"Hide sources",id:"EO4AIuVUJ3"});return o.jsxs(Q,{variant:"offset",bgHover:"offsetPlus",className:W("p-sm gap-xs flex h-full cursor-pointer flex-col rounded-lg md:w-auto md:justify-between",{"bg-super/10 ring-super/80 hover:!bg-super/10 dark:bg-super/20 dark:ring-super/80 dark:hover:!bg-super/20 ring-1":c.isShowing},"select-none"),onClick:c.isShowing?c.actions.hide:t,children:[o.jsx(Q,{className:W("hidden sm:flex",{"gap-xs flex-wrap items-center":!n,"gap-sm flex-col":n}),children:l.slice(0,a).map(d=>o.jsxs(Q,{className:W("",{"pb-sm border-b":n}),children:[o.jsxs(Q,{className:"gap-xs flex items-center",children:[o.jsx(Q,{className:"gap-x-sm flex-none",children:d.is_attachment?o.jsx(F,{variant:"tiny",color:"light",children:o.jsx(Ne,{icon:nf,size:"xs"})}):o.jsx(pu,{domain:Z_(d.url)},d.url)}),n&&o.jsx(F,{variant:"tiny",color:"light",className:"truncate",children:no(d.url).replace(/\.[^.]*$/,"")})]}),n&&o.jsx(F,{variant:"tiny",color:"light",className:"mt-two line-clamp-2",children:d.name})]},d.url))}),o.jsx(Q,{className:"flex flex-col gap-1 sm:flex-row sm:items-center",children:o.jsx(F,{variant:"tiny",color:"light",children:c.isShowing?u:i.formatMessage({defaultMessage:"+{count, plural, one {# source} other {# sources}}",id:"WhDK62xj4Y"},{count:e.length})})})]})}),$Ce=L.memo(({webResults:e,handleViewAllClick:t,threadOrArticle:n,showSkeletonUnits:r})=>{const{$t:s}=ae(),{trackEvent:a}=Ye(),i=xU({trackEvent:a,entryUUID:n.backend_uuid,frontendContextUUID:n.uuid,contextUUID:n.context_uuid}),l=4,c=l-1,u=e.slice(0,c),d=e.slice(c),h=e.length-c,m=f.useMemo(()=>L.memo(({result:g,idx:v})=>{const x=f.useMemo(()=>({onClick(){const w=DC(g),{type:C,memoryKey:S}=w;a("click citation",{source:"hoverCard",citation_url:g.url,entryUUID:n.uuid,frontendContextUUID:n.uuid,contextUUID:n.context_uuid,...C==="memory"&&{memory_key:S}})}}),[g]),b=f.useMemo(()=>({color:"light"}),[]);return o.jsx(Q,{className:"w-[40vw] md:w-auto",children:o.jsx(YC,{hideHoverCard:!0,linkProps:x,result:g,trackEvent:a,timestampComponent:OC.isRecentlyTrending(g)?o.jsx(IC,{recentlyUpdatedLabel:s({defaultMessage:"just now",id:"I90sbWU03C"}),timestamp:g.meta_data?.published_date,timestampProps:b,children:s({defaultMessage:"Updated",id:"xrk6zgu9jU"})}):null,children:o.jsx(Q,{className:"size-full",children:o.jsx(Px,{result:g,idx:v,isTrendingLayout:!0,trackEvent:i,variant:"grid"})})})},`${g.url}-${g.timestamp}`)}),[s,n.context_uuid,n.uuid,i,a]);return o.jsxs(Q,{className:W("gap-sm grid grid-flow-col md:grid-cols-[1fr_1fr_1fr_96px]","-mx-pageHorizontalPadding px-pageHorizontalPadding scrollbar-none overflow-x-auto","md:mx-0 md:px-0"),children:[u.map((g,v)=>o.jsx(m,{result:g,idx:v},`${g.url}-${g.timestamp}`)),e.length>c?o.jsx(E2t,{expandedLayout:!1,moreResultsCount:h,handleViewAllClick:t,results:d,maxFavicons:3}):r?new Array(l-u.length).fill(null).map((g,v)=>o.jsx(Q,{variant:"offset",className:"size-full h-[68px] min-w-0 rounded-lg"},v)):null]})});$Ce.displayName="CitationTrendingList";const Qf={lastEntryUUID:null,loggedUrls:new Set,seenEntries:new Set};function T2t(e){if(e)return[{...e,url:e?.url,title:e?.name,snippet:e?.snippet,sitelinks:e?.sitelinks?.map(t=>({url:t.url,title:t.title}))}]}const N2t=L.memo(({navigationResult:e,trackEvent:t,queryString:n,entryUUID:r,onClick:s,...a})=>{const{url:i,title:l,snippet:c,sitelinks:u,position:d,source:h,client_request_timestamp:m,unstable_server_request_timestamp:g,is_cached:v,is_comet_navigation:x}=e,b=f.useMemo(()=>Z_(i),[i]),w=f.useMemo(()=>no(i),[i]);f.useEffect(()=>{if(!r||!i)return;const S=Qf.seenEntries.has(r);Qf.lastEntryUUID!==r&&(Qf.lastEntryUUID=r,Qf.loggedUrls.clear()),Qf.loggedUrls.has(i)||(Qf.loggedUrls.add(i),Qf.seenEntries.add(r),t("navigational source viewed",{query:n,url:i,title:l,subLinks:u,position:d,source:h,is_comet_navigation:x,...typeof m=="number"&&!S&&{renderTimeMs:performance.now()-m},...typeof g=="number"&&!S&&{unstableRenderTimeMs:performance.now()-g},isCached:v}))},[r,i,n]);const C=f.useCallback(S=>{t("click citation",{source:"navigationalCard",navigationalLinkType:"primaryLink",citation_url:i,is_comet_navigation:x}),s?.(S)},[x,t,i,s]);return o.jsx(Q,{variant:"transparent",className:"flex grow flex-col rounded-lg",children:o.jsx(Nt,{className:"group flex cursor-pointer items-stretch",href:i,onClick:C,rel:"noopener",...a,children:o.jsxs(Q,{className:"pr-md group",children:[o.jsxs("div",{className:"mb-xs flex items-center gap-1.5",children:[o.jsx(pu,{size:18,domain:b,className:"rounded-full"}),o.jsx(F,{variant:"tinyRegular",color:"light",className:"whitespace-nowrap text-[13px]",children:w})]}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx(F,{variant:"baseSemi",color:"super",className:"decoration-1 underline-offset-1 group-hover:underline",children:l}),o.jsx(F,{variant:"small",color:"light",className:"mb-two line-clamp-2",children:c})]})]})},i)})}),qCe=({entry:e,webResults:t,showSourcesSidebar:n,submit:r,allowedNavResultsCount:s,isFirstResult:a,...i})=>{const{trackEvent:l}=Ye(),{trackEvent:c}=um(),{openModal:u}=Gt(),d=mo(),h=WCe(),m=f.useMemo(()=>"searchMode"in i&&i.searchMode===_e.SEARCH,[i]),g=f.useMemo(()=>t?.filter(I=>I.is_navigational)?.flatMap(I=>T2t(I)||[]),[t]),{data:v}=zlt(e?.query_str??""),x=f.useMemo(()=>v?.navigation_results?.map(I=>({...I,is_cached:!0}))??g?.map(I=>({...I,is_cached:!1})),[v,g]),b=f.useMemo(()=>x?.slice(0,s),[x,s]),w=b?.length&&a&&!m,C=f.useMemo(()=>{if(!b)return t;const I=new Set(b.map(B=>B.url));return t?.filter(B=>!I.has(B.url))},[t?.length,b]),S=f.useMemo(()=>C?.filter(I=>I.meta_data?.client==="trending")??[],[C?.length]),k=f.useMemo(()=>C?.slice(0,3)??[],[C]),T=f.useMemo(()=>k.filter(I=>I.meta_data?.client==="trending").length,[k])>=2,j=f.useMemo(()=>An.isPerplexityMessage(e)?e?.blocks?.some(I=>I.intended_usage==="answer_media_items"):!1,[e]),N=f.useMemo(()=>!w&&!j&&T,[w,j,T]),R=f.useCallback(()=>{if(e?.backend_uuid){const I=n?"sidebar":"modal";c("click view sources button",{entryUUID:e.backend_uuid,type:h.isShowing?void 0:I})}n?h.actions.show({webResults:t}):u("citationListModal",{webResults:t,entry:e,submit:d?r:void 0})},[e?.backend_uuid,u,d,n,h.isShowing,h.actions.hide,r,c,t?.length]),O=xU({trackEvent:l,entryUUID:e?.backend_uuid,frontendContextUUID:e?.uuid,contextUUID:e?.context_uuid});return f.useMemo(()=>({isNavigationalLayout:w,navigationResults:b,trackCitationClickEvent:O,handleViewAllClick:R,dedupedWebResults:C,isTrendingLayout:N,trendingResults:S}),[C,R,w,N,b,O,S])},GCe=L.memo(({webResults:e})=>{const{actions:{handleSourcesCuration:t},result:n,isFirstResult:r,searchMode:s,isEntryInFlight:a}=Un(),i=qCe({allowedNavResultsCount:0,entry:n,webResults:e,showSourcesSidebar:!1,submit:t,isFirstResult:r,searchMode:s}),{trendingResults:l,isTrendingLayout:c,dedupedWebResults:u,handleViewAllClick:d}=i;return o.jsx("div",{className:"-mt-sm pb-px",children:o.jsx("div",{className:"-mb-lg pb-sm",children:o.jsx(zCe,{trendingResults:l,isTrendingLayout:c,children:u&&o.jsx(Q,{className:"-mx-md scrollbar-none flex w-screen overflow-x-auto overflow-y-hidden sm:overflow-x-visible sm:overflow-y-visible md:mx-auto md:block md:w-auto",children:c?o.jsx($Ce,{webResults:u,handleViewAllClick:d,threadOrArticle:n}):o.jsx(VCe,{webResults:u,inFlight:a,handleViewAllClick:d,threadOrArticle:n})})})})})});GCe.displayName="ShoppingWidgetSources";const YCe=L.memo(({isCollapsed:e,reviewSummary:t,handleViewMoreClick:n,entryUUID:r,inFlight:s,webResults:a})=>{const{$t:i}=ae(),l=!!t?.summary,c=t?.key_features&&t.key_features.length>0,u=t?.review_search_results&&t.review_search_results.length>0,d=!l&&s,h=f.useMemo(()=>[...l?[i({defaultMessage:"What People Say",id:"CxUv9qofTc"})]:[],...c?[i({defaultMessage:"Key Features",id:"duAAqc0Zet"})]:[],...u?[i({defaultMessage:"Review Sources",id:"Hk7TvjDgj8"})]:[]].join(", "),[l,c,u,i]),m=f.useMemo(()=>a?.find(g=>!!sf(g.url)),[a]);return o.jsx(o.Fragment,{children:e?o.jsx(mvt,{loading:d,onClick:n,className:"-mb-md mt-4 border-t",trailingText:h}):o.jsxs(o.Fragment,{children:[l&&o.jsx(Wk,{title:i({defaultMessage:"What People Say",id:"CxUv9qofTc"}),defaultExpanded:!0,className:"border-t",trailingContent:o.jsx(ECe,{isLoading:d,webResults:t?.review_search_results??Fe,className:"ml-xs border-borderMain/50 p-xs rounded-full border px-[6px]"}),children:o.jsx(MCe,{isLoading:d,entryUUID:r,shouldTruncate:!1,reviewSummary:t?.summary,firstYoutubeSource:m})}),c&&o.jsx(Wk,{title:i({defaultMessage:"Key Features",id:"duAAqc0Zet"}),defaultExpanded:!e,className:"border-t",children:o.jsx(SCe,{features:t?.key_features??Fe})}),u&&o.jsx(Wk,{title:i({defaultMessage:"Review Sources",id:"Hk7TvjDgj8"}),className:"-mb-md border-b-0 border-t",defaultExpanded:!e,children:o.jsx("div",{className:"mt-sm",children:o.jsx(GCe,{webResults:t?.review_search_results??Fe})})})]})})});YCe.displayName="ShoppingViewMore";const j2t=L.memo(({loading:e,size:t=30})=>{const[n,{width:r,height:s}]=ou(),[a,i]=f.useState(0),[l,c]=f.useState(0),u=[.19,1,.22,1],d=[0,0,.58,1];f.useEffect(()=>{if(r&&s){const v=Math.floor(r/t),x=Math.floor(s/t);i(v),c(x)}},[r,s,t]);function h(v,x){const b=Math.ceil(v),w=Math.floor(x);return Math.floor(Math.random()*(w-b)+b)}const g=r?((v,x)=>{let b=Math.floor(x/v);return b%2!==0&&(b=b-1),b=Math.max(2,b),x/b})(t,r):t;return o.jsx("div",{ref:n,style:{gridTemplateColumns:`repeat(auto-fill, ${g}px)`,gridTemplateRows:`repeat(auto-fill, ${g}px)`},className:W("pointer-events-none absolute inset-0 z-[5] grid h-full w-full gap-0",{"bg-raised dark:bg-offsetDark":a===0||l===0}),children:o.jsx(kt,{children:[...Array(a*l)].map((v,x)=>e?o.jsx(je.div,{animate:{opacity:[.9,0],transition:{repeat:1/0,duration:.5,delay:h(0,10)/10,repeatType:"mirror",ease:d}},exit:{opacity:0,transition:{duration:1,ease:u}},className:"bg-raised dark:bg-offsetDark"},x):null)})})}),A2t="IMAGE_GEN_PLACEHOLDER",R2t="VIDEO_GEN_PLACEHOLDER",KCe=L.memo(({sourceImage:e,media:t,generating:n,square:r=!1,type:s="image",onMediaLoad:a})=>{const i=[.19,1,.22,1],[l,c]=f.useState(void 0),[u,d]=f.useState(!1),[h,m]=f.useState(!n),[g,v]=f.useState(!0),[x,{width:b}]=ou();f.useEffect(()=>{const E=s==="video"?R2t:A2t;t&&t.name!==E&&c(t)},[t,s]),f.useEffect(()=>{g&&v(!1)},[g]),f.useEffect(()=>{n&&(d(!1),m(!1))},[n]),f.useEffect(()=>{if(u&&!n){const E=setTimeout(()=>{m(!0)},1e3);return()=>clearTimeout(E)}},[u,n]);const C=((E,T)=>{let j=Math.floor(T/E);return j%2!==0&&(j=j-1),j=Math.max(2,j),T/j})(30,b),S=f.useCallback(()=>{d(!0),a?.()},[a]),k=f.useMemo(()=>({url:l?.url,name:l?.name,showCitation:!1}),[l?.url,l?.name]);return o.jsx("div",{ref:x,className:"relative h-full w-full shrink-0",children:C!==0?o.jsxs(o.Fragment,{children:[o.jsx(j2t,{loading:!h,size:C}),o.jsx(je.div,{className:"relative h-full w-full",style:{maskSize:`${C}px ${C}px`,maskPosition:"top left",maskRepeat:"repeat"},initial:{maskImage:h?`radial-gradient(black ${C/5*4}px, transparent 0px)`:`radial-gradient(black ${C/5}px, transparent 0px)`},animate:{maskImage:h?`radial-gradient(black ${C/5*4}px, transparent 0px)`:`radial-gradient(black ${C/5}px, transparent 0px)`},transition:{duration:1,ease:i},children:o.jsx(Vr,{className:W(`relative h-full w-full overflow-hidden !rounded-md ${h?"cursor-pointer":""}`,{"!rounded-none":r}),fullBleed:!0,children:o.jsx(je.div,{animate:{filter:!h&&e?"blur(20px) saturate(2)":"none"},transition:{duration:1,ease:i},className:"grid h-full w-full",children:o.jsx("div",{className:"relative w-full bg-black/40 dark:bg-white/40",children:o.jsxs(kt,{children:[(e?.startsWith("http")||e?.startsWith("blob"))&&!h&&o.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1,ease:i},className:"absolute inset-0 h-full w-full",children:o.jsx("img",{src:e,alt:"Source",className:"block h-full w-full object-cover"})},"source"),l?.image?.startsWith("http")&&o.jsx(je.div,{initial:{opacity:0},animate:{opacity:h?1:0},exit:{opacity:0},transition:{duration:1,ease:i},className:"absolute inset-0 h-full w-full",children:s==="image"?o.jsxs(o.Fragment,{children:[o.jsx(ps,{src:l.image||l.thumbnail,alt:l.name||"Generated Image",origin:k,includeLightBoxModal:!!h,maskClassName:W("!bg-transparent",{"!rounded-none":r}),imageClassName:"block w-full h-full object-contain !bg-transparent",containerClassName:"w-full h-full absolute inset-0 z-10 !bg-transparent",onLoad:S}),o.jsx("img",{src:l.image||l.thumbnail,alt:l.name||"Generated Image",className:"absolute inset-0 block h-full w-full object-cover blur-[20px] saturate-[1.5]"})]}):o.jsx("video",{muted:!0,loop:!0,autoPlay:!0,playsInline:!0,onLoadedData:S,className:"absolute inset-0 block h-full w-full object-cover",children:o.jsx("source",{src:l.image,type:"video/mp4"})})},"generated")]})})})})})]}):null})}),L2t=L.memo(({setViewState:e})=>{const t=f.useCallback(()=>e("create_avatar"),[e]);return o.jsxs("div",{className:"gap-lg flex flex-col",children:[o.jsx(B2t,{}),o.jsxs("div",{className:"px-xl mx-xl gap-sm flex flex-col",children:[o.jsx(F,{variant:"page-title",className:"text-pretty text-center",children:"Shop for clothes like never before with virtual try on"}),o.jsx(F,{variant:"small",className:"text-pretty text-center",color:"light",children:"Upload a photo and explore how outfits look on a digital version of you."})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(Le,{text:"Create your avatar",variant:"primary",onClick:t})})]})}),O2t=L.memo(({setViewState:e,uploadSelfie:t,setLocalPreviewUrl:n})=>{const r=f.useCallback(s=>{const a=s.target.files?.[0];if(a){const i=URL.createObjectURL(a);n(i),t(a),e("choose_body")}s.target.value=""},[t,n,e]);return o.jsxs("div",{className:"gap-lg flex flex-col",children:[o.jsx("div",{className:"flex flex-col",children:o.jsx(F,{variant:"section-title",className:"text-center",children:"Create your avatar"})}),o.jsxs("div",{className:"gap-sm grid grid-cols-2 grid-rows-4",children:[o.jsx(Io,{image:"/static/images/tryon/selfie.png",title:"Front facing selfie",description:"Simple front facing photo is all we need.",className:"!col-start-1 !row-span-4 !row-start-1"}),o.jsx(Io,{title:"Face fully visible",className:"!col-start-2 !row-start-1"}),o.jsx(Io,{title:"Looking Forward",className:"!col-start-2 !row-start-2"}),o.jsx(Io,{title:"Even natural light",className:"!col-start-2 !row-start-3"}),o.jsx(Io,{title:"No harsh shadows",className:"!col-start-2 !row-start-4"})]}),o.jsxs("div",{className:"flex justify-center",children:[o.jsx("input",{type:"file",accept:"image/*",className:"absolute hidden",id:"shopping-try-on-file-input",onChange:r}),o.jsxs("label",{htmlFor:"shopping-try-on-file-input",className:"px-md py-sm gap-sm bg-super active:ease-outExpo group flex origin-center transform-gpu cursor-pointer select-none flex-row items-center whitespace-nowrap rounded-lg duration-300 hover:opacity-80 active:scale-[0.97] active:duration-150",children:[o.jsx(F,{children:o.jsx(Ne,{icon:px,size:"md",className:"!text-white"})}),o.jsx(F,{variant:"baseSemi",color:"white",children:"Upload a selfie"})]})]})]})}),P2t=L.memo(({setViewState:e,generateDefaultAvatar:t,selfieUrl:n,isSelfieUploading:r})=>{const s=f.useCallback(l=>{if(l==="default"){if(!n)return;e("generating_avatar"),t(n)}else l==="your"&&e("your_body")},[e,t,n]),a=f.useCallback(()=>{s("default")},[s]),i=f.useCallback(()=>s("your"),[s]);return o.jsxs("div",{className:"gap-lg flex flex-col",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx(F,{variant:"section-title",className:"text-center",children:"Choose your avatar body"}),o.jsx(F,{variant:"small",className:"text-center",color:"light",children:"You can continue with a default body or create a more personalized avatar with your body."})]}),o.jsxs("div",{className:"gap-md grid grid-cols-2",children:[o.jsxs(Q,{className:W("gap-sm p-md rounded-lg border",r&&"cursor-wait opacity-50"),onClick:r?void 0:a,children:[o.jsx("div",{className:"aspect-square overflow-hidden rounded-md bg-gray-100",children:o.jsx(ps,{src:"/static/images/tryon/avatar_body.png",alt:"Default body",imageClassName:"",containerClassName:"h-full w-full",includeLightBoxModal:!1})}),o.jsx(F,{variant:"baseSemi",className:"text-center",children:r?"Uploading selfie...":"Default body"}),o.jsx(F,{variant:"tinyRegular",className:"text-center",color:"light",children:"Uses a generic body shape, no photo needed"})]}),o.jsxs(Q,{className:"gap-sm p-md rounded-lg border",onClick:i,children:[o.jsx("div",{className:"aspect-square overflow-hidden rounded-md bg-gray-100",children:o.jsx(ps,{src:"/static/images/tryon/avatar_body.png",alt:"Your body",imageClassName:"",containerClassName:"h-full w-full",includeLightBoxModal:!1})}),o.jsx(F,{variant:"baseSemi",className:"text-center",children:"Your body"}),o.jsx(F,{variant:"tinyRegular",className:"text-center",color:"light",children:"Uses a full body photo to create a custom body"})]})]})]})}),I2t=L.memo(({setViewState:e,uploadPhoto:t,generateCustomAvatar:n,selfieUrl:r,setLocalPreviewUrl:s})=>{const{$t:a}=ae(),i=f.useCallback(async l=>{const c=l.target.files?.[0];if(c){if(!r)return;const u=URL.createObjectURL(c);s(u);const d=await t(c);d&&(e("generating_avatar"),n(r,d))}l.target.value=""},[t,n,r,s,e]);return o.jsxs("div",{className:"gap-lg flex flex-col",children:[o.jsx("div",{className:"flex flex-col",children:o.jsx(F,{variant:"section-title",className:"text-center",children:"Upload a full body photo to create your avatar"})}),o.jsxs("div",{className:"gap-sm grid grid-cols-2 grid-rows-[300px_200px]",children:[o.jsx(Io,{image:"/static/images/tryon/ex2.jpg",title:"Full Body",description:"Make sure your entire body is visible in the frame.",className:"!col-start-1 !row-span-2 !row-start-1"}),o.jsx(Io,{image:"/static/images/tryon/ex3.jpg",title:"Hands Visible",description:"Make sure your hands are visible in the photo.",className:"!col-start-2 !row-start-1"}),o.jsx(Io,{image:"/static/images/tryon/ex2.jpg",title:"Even Lighting",description:"Use natural light and avoid harsh shadows or backlights."})]}),o.jsxs("div",{className:"flex justify-center",children:[o.jsx("input",{type:"file",accept:"image/*",className:"absolute hidden",id:"shopping-try-on-file-input",onChange:i}),o.jsxs("label",{htmlFor:"shopping-try-on-file-input",className:"px-md py-sm gap-sm bg-super active:ease-outExpo group flex origin-center transform-gpu cursor-pointer select-none flex-row items-center whitespace-nowrap rounded-lg duration-300 hover:opacity-80 active:scale-[0.97] active:duration-150",children:[o.jsx(F,{children:o.jsx(Ne,{icon:px,size:"md",className:"!text-white"})}),o.jsx(F,{variant:"baseSemi",color:"white",children:a({defaultMessage:"Upload Photo",id:"HMo/qo0S+z"})})]})]})]})}),D2t=L.memo(({status:e,onClose:t,onBack:n,resultUrl:r,saveAvatar:s,onSuccessfulOnboarding:a})=>{const i=f.useCallback(async()=>{r&&e==="success"?(await s(r),a(r)):t()},[t,r,e,s,a]);return o.jsxs("div",{className:"gap-lg flex flex-col",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx(Q,{className:W("gap-sm relative isolate flex flex-col overflow-hidden rounded-lg border"),children:r&&o.jsx(ps,{src:r,alt:"Your Avatar",imageClassName:"max-h-[500px] max-w-full object-contain",containerClassName:"flex justify-center",includeLightBoxModal:!1})})}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx(F,{variant:"section-title",className:"text-center",children:"Your new virtual you"}),o.jsx(F,{variant:"small",className:"text-center",color:"light",children:"Your personalized avatar is ready"})]}),o.jsxs("div",{className:"gap-sm flex justify-center",children:[o.jsx(Le,{text:"Back",variant:"border",onClick:n}),o.jsx(Le,{text:"Start Shopping",variant:"primary",onClick:i,disabled:e!=="success"})]})]})}),F2t=L.memo(({localPreviewUrl:e})=>{const t=f.useMemo(()=>{if(e)return{image:e,name:"Avatar Preview",status:pde.IN_PROGRESS,type:"image",medium:"image",author_name:"PPLX",author_url:"https://pplx.ai",image_width:100,image_height:100,url:e,source:"pplx",thumbnail:e,dark_image_url:e,locations:[],thumbnail_height:100,thumbnail_width:100,sponsored_uuid:"",ad_content_uuid:"",modal_url:"",low_res_image:""}},[e]);return o.jsxs("div",{className:"gap-lg flex flex-col",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx(F,{variant:"section-title",className:"text-center",children:"Working on your avatar"}),o.jsx(F,{variant:"small",className:"text-center",color:"light",children:"This can take up to 30 seconds to complete. You can continue shopping and we will let you know when it is done."})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(Q,{className:W("gap-sm relative isolate flex flex-col overflow-hidden rounded-lg border","h-[400px] w-full max-w-md"),children:o.jsx(KCe,{generating:!0,sourceImage:e??"",media:t})})})]})});L.memo(({setViewState:e,uploadAndProcess:t,localPhotoUrl:n})=>{const{$t:r}=ae(),s=f.useCallback(a=>{const i=a.target.files?.[0];i&&t(i,"https://perplexity.supply/cdn/shop/files/Classic_Sweater_Front.png?v=1734982058&width=3000",!1),a.target.value=""},[t]);return f.useEffect(()=>{n&&e("confirmation")},[n,e]),o.jsxs("div",{className:"gap-lg flex flex-col",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx(F,{variant:"section-title",className:"text-center",children:"Upload a photo of yourself to get started"}),o.jsx(F,{variant:"small",className:"text-center",color:"light",children:"Use a full-body photo for the most accurate fit"})]}),o.jsxs("div",{className:"gap-sm grid grid-cols-2 grid-rows-[300px_200px]",children:[o.jsx(Io,{image:"/static/images/tryon/ex2.jpg",title:"Full Body",description:"Make sure your entire body is visible in the frame.",className:"!col-start-1 !row-span-2 !row-start-1"}),o.jsx(Io,{image:"/static/images/tryon/ex3.jpg",title:"Hands Visible",description:"Make sure your hands are visible in the photo.",className:"!col-start-2 !row-start-1"}),o.jsx(Io,{image:"/static/images/tryon/ex2.jpg",title:"Even Lighting",description:"Use natural light and avoid harsh shadows or backlights."})]}),o.jsxs("div",{className:"flex justify-center",children:[o.jsx("input",{type:"file",accept:"image/*",className:"absolute hidden",id:"shopping-try-on-file-input",onChange:s}),o.jsxs("label",{htmlFor:"shopping-try-on-file-input",className:"px-md py-sm gap-sm bg-super active:ease-outExpo group flex origin-center transform-gpu cursor-pointer select-none flex-row items-center whitespace-nowrap rounded-lg duration-300 hover:opacity-80 active:scale-[0.97] active:duration-150",children:[o.jsx(F,{children:o.jsx(Ne,{icon:px,size:"md",className:"!text-white"})}),o.jsx(F,{variant:"baseSemi",color:"white",children:r({defaultMessage:"Upload Photo",id:"HMo/qo0S+z"})})]})]})]})});L.memo(({status:e,uploadedPhotoUrl:t,localPhotoUrl:n,onClose:r,onBack:s,fileUrl:a,onSuccessfulOnboarding:i})=>{const l=f.useCallback(async()=>{t&&e==="success"?i(t):r()},[r,t,e,i]),c=f.useMemo(()=>{if(a)return{image:a,name:"Try On Result",status:pde.COMPLETED,type:"image",medium:"image",author_name:"PPLX",author_url:"https://pplx.ai",image_width:100,image_height:100,url:a,source:"pplx",thumbnail:a,dark_image_url:a,locations:[],thumbnail_height:100,thumbnail_width:100,sponsored_uuid:"",ad_content_uuid:"",modal_url:"",low_res_image:""}},[a]);return o.jsxs("div",{className:"gap-lg flex flex-col",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx(F,{variant:"section-title",className:"text-center",children:"Fit Check"}),o.jsx(F,{variant:"small",className:"text-center",color:"light",children:"Verify the test outfit fits properly on your avatar"})]}),o.jsxs("div",{className:"gap-sm grid h-[500px] grid-cols-2",children:[o.jsxs(Q,{className:W("gap-sm relative flex flex-col overflow-hidden rounded-lg border"),children:[o.jsx(ps,{src:n||"",alt:"Original Photo",imageClassName:"h-full w-full object-cover",containerClassName:"flex-1 min-h-0"}),o.jsx(F,{variant:"smallBold",className:"p-sm from-background absolute inset-x-0 bottom-0 top-1/2 flex items-end justify-center bg-gradient-to-t to-transparent text-center",children:"Original Photo"})]}),o.jsx(V2t,{image:c,userTryOnPhotoUrl:n,status:e})]}),o.jsxs("div",{className:"gap-sm flex justify-center",children:[o.jsx(Le,{text:"Upload a different photo",variant:"border",onClick:s}),o.jsx(Le,{text:"Looks good!",variant:"primary",onClick:l,disabled:e!=="success"})]})]})});const U2t=L.memo(()=>o.jsx("div",{children:"DoneView"})),B2t=L.memo(()=>{const e=["/static/images/tryon/ex1.jpg","/static/images/tryon/ex2.jpg","/static/images/tryon/ex3.jpg","/static/images/tryon/ex4.jpg"];return o.jsx("div",{className:"gap-sm flex h-[300px] flex-row",children:e.map((t,n)=>o.jsx(ps,{src:t,alt:"Intro",className:"h-full w-full object-cover",containerClassName:"h-full w-full",imageClassName:"h-full w-full object-cover",includeLightBoxModal:!1},n))})}),Io=L.memo(({image:e,title:t,className:n,description:r})=>o.jsxs(Q,{className:W("gap-sm relative col-start-2 row-start-2 flex flex-col overflow-hidden rounded-lg border",n),children:[e&&o.jsx(ps,{src:e,alt:"Intro",imageClassName:"h-full w-full object-cover pointer-events-none",containerClassName:"flex-1 min-h-0",includeLightBoxModal:!1,className:"pointer-events-none"}),o.jsxs("div",{className:"from-background p-sm absolute inset-x-0 bottom-0 top-1/2 flex flex-col items-center justify-end bg-gradient-to-t from-20% to-transparent",children:[o.jsx(F,{variant:"smallBold",className:"flex items-end justify-center text-center",children:t}),r&&o.jsx(F,{variant:"tinyRegular",className:"text-pretty text-center leading-tight",color:"light",children:r})]})]})),V2t=L.memo(({image:e,userTryOnPhotoUrl:t,status:n})=>{const r=n==="error",s=n==="uploading"||n==="processing";return o.jsxs(Q,{className:W("gap-sm relative isolate flex flex-col overflow-hidden rounded-lg border"),children:[r&&o.jsx("div",{className:"flex h-full w-full items-center justify-center",children:o.jsx(F,{variant:"smallBold",className:"text-center",children:"Error generating try-on"})}),!r&&o.jsx(KCe,{generating:s,sourceImage:t??"",media:e}),o.jsx(F,{variant:"smallBold",className:"p-sm from-background absolute inset-x-0 bottom-0 top-1/2 z-10 flex items-end justify-center bg-gradient-to-t to-transparent text-center",children:s?"Generating...":"Example Fit"})]})}),bU=async({file:e,fileSource:t,forceImage:n,reason:r})=>{const s=await me.POST("/rest/uploads/create_upload_url",r,{body:{filename:e.name,content_type:e.type,source:t??"default",file_size:e.size,force_image:n??!1},timeoutMs:Ur.MEDIUM,retries:2});return s.data?s.data:null},z2t=async({remote_file_id:e,connection_type:t,source:n,reason:r})=>{const s=await me.POST("/rest/connectors/attachments/upload",r,{body:{remote_file_id:e,connection_type:t,source:n??"default"},timeoutMs:Ur.VERY_HIGH,retries:2});return s.data?s.data:null};async function H2t({request:e,reason:t}){return new Promise((n,r)=>{me.SSE("/rest/sse/attachment_processing/subscribe",t,{params:e,handlers:{message:s=>{n(s)}}}).catch(r)})}async function W2t({request:e,reason:t}){const{data:n,error:r}=await me.POST("/rest/shopping/generate-shopping-try-on",t,{body:e,timeoutMs:35e3,headers:{"content-type":"application/json"}});return r?{status:"error",image_url:""}:n}async function oJ({request:e,reason:t}){const{data:n,error:r}=await me.POST("/rest/shopping/try-on-photo/generate-avatar",t,{body:e,timeoutMs:4e4,headers:{"content-type":"application/json"}});return r?{status:"error",image_url:""}:n}const $2t=async({reason:e,try_on_photo_url:t})=>{try{const n=await me.PUT("/rest/shopping/try-on-photo/save",e,{body:{try_on_photo_url:t},timeoutMs:ut()});return n.data?n.data:{status:"error"}}catch(n){return le.error("Failed to save user try on photo",n),{status:"error"}}},q2t=async({reason:e})=>{try{const t=await me.DELETE("/rest/shopping/try-on-photo/delete",e,{timeoutMs:ut()});return t.data?t.data:{status:"error"}}catch(t){return le.error("Failed to delete user try on photo",t),{status:"error"}}},QCe=({reason:e})=>{const{$t:t}=ae(),[n,r]=f.useState({status:"idle",error:null,resultUrl:null,selfieUrl:null}),s=f.useCallback(()=>{r({status:"idle",error:null,resultUrl:null,selfieUrl:null})},[]),a=f.useCallback(g=>{r(v=>({...v,status:"error",error:g}))},[]),i=f.useCallback(async g=>{if(!g.type.startsWith("image/"))return a(t({defaultMessage:"Only image files are supported.",id:"f4sVsu2Ean"})),null;const v=10*1024*1024;if(g.size>v)return a(t({defaultMessage:"Image size exceeds 10MB limit.",id:"/lVoGk8eeX"})),null;try{r(S=>({...S,status:"uploading"}));const x=await bU({file:g,fileSource:"shopping_try_on",forceImage:!0,reason:e});if(!x?.fields||!x?.s3_bucket_url)throw x?.rate_limited?new Error("File upload failed due to rate limit."):new Error("Failed to get upload URL");const b=new FormData;Object.entries(x.fields).forEach(([S,k])=>{b.append(S,k)}),b.append("file",g);const w=await fetch(x.s3_bucket_url,{method:"POST",body:b});if(!w.ok)throw new Error("Failed to upload file");let C=null;try{const S=await w.json();S?.secure_url?C=S.secure_url:S?.eager?.[0]?.secure_url&&(C=S.eager[0].secure_url),C&&f2(C)&&(C=lA(C))}catch{x.s3_object_url&&(C=x.s3_object_url)}if(!C)throw new Error("Failed to get image URL from upload response");return r(S=>({...S,status:"idle"})),C}catch(x){return a(x instanceof Error?x.message:t({defaultMessage:"Failed to upload image.",id:"+eCvtPyOJg"})),null}},[t,e,a]),l=f.useCallback(async g=>{const v=await i(g);return v&&r(x=>({...x,selfieUrl:v})),v},[i]),c=f.useCallback(async g=>{try{r(x=>({...x,status:"processing",resultUrl:null,error:null}));const v=await oJ({request:{user_image_url:g},reason:e});if(v.status==="failed")throw new Error("Failed to generate avatar");r(x=>({...x,status:"success",resultUrl:v.image_url}))}catch(v){a(v instanceof Error?v.message:t({defaultMessage:"Failed to generate avatar.",id:"anPmJ/DLsx"}))}},[e,t,a]),u=f.useCallback(async(g,v)=>{try{r(b=>({...b,status:"processing",resultUrl:null,error:null}));const x=await oJ({request:{user_image_url:v,selfie_image_url:g},reason:e});if(x.status==="failed")throw new Error("Failed to generate avatar");r(b=>({...b,status:"success",resultUrl:x.image_url}))}catch(x){a(x instanceof Error?x.message:t({defaultMessage:"Failed to generate avatar.",id:"anPmJ/DLsx"}))}},[e,t,a]),d=f.useCallback(async(g,v)=>{try{r(b=>({...b,status:"processing",resultUrl:null,error:null}));const x=await W2t({request:{image_url:g,product_image_url:v},reason:e});if(x.status==="error")throw new Error("Failed to generate try-on");r(b=>({...b,status:"success",resultUrl:x.image_url}))}catch(x){a(x instanceof Error?x.message:t({defaultMessage:"Failed to generate try-on.",id:"ptEP5MGDf6"}))}},[e,t,a]),h=f.useCallback(async g=>{try{await $2t({reason:e,try_on_photo_url:g})}catch(v){le.error("Failed to save avatar",v)}},[e]),m=f.useCallback(async()=>{try{await q2t({reason:e})}catch(g){le.error("Failed to delete avatar",g)}},[e]);return f.useMemo(()=>({status:n.status,error:n.error,resultUrl:n.resultUrl,selfieUrl:n.selfieUrl,uploadPhoto:i,uploadSelfie:l,generateDefaultAvatar:c,generateCustomAvatar:u,tryOnProduct:d,saveAvatar:h,resetState:s,deleteAvatar:m}),[n.status,n.error,n.resultUrl,n.selfieUrl,i,l,c,u,d,h,s,m])},G2t=L.memo(({isOpen:e,onClose:t,onSuccessfulOnboarding:n})=>{const r="shopping-try-on-onboarding",{status:s,resultUrl:a,selfieUrl:i,uploadSelfie:l,generateDefaultAvatar:c,generateCustomAvatar:u,uploadPhoto:d,saveAvatar:h,resetState:m}=QCe({reason:r}),[g,v]=f.useState("intro"),[x,b]=f.useState(null),w=f.useCallback(k=>{b(E=>(E&&E!==k&&URL.revokeObjectURL(E),k))},[]),C=f.useCallback(()=>{v("intro"),m(),t()},[t,m]);f.useEffect(()=>{!e&&x&&(URL.revokeObjectURL(x),b(null))},[e,x]),f.useEffect(()=>{g==="generating_avatar"&&(s==="success"&&a?v("confirm_avatar"):s==="error"&&v("choose_body"))},[g,s,a]);const S=f.useCallback(()=>v("choose_body"),[]);return o.jsx(Sn,{isOpen:e,onClose:C,headerClassname:"hidden",children:o.jsxs("div",{className:"h-full w-full",children:[g==="intro"&&o.jsx(L2t,{setViewState:v}),g==="create_avatar"&&o.jsx(O2t,{setViewState:v,uploadSelfie:l,setLocalPreviewUrl:w}),g==="choose_body"&&o.jsx(P2t,{setViewState:v,generateDefaultAvatar:c,selfieUrl:i,isSelfieUploading:s==="uploading"}),g==="your_body"&&o.jsx(I2t,{setViewState:v,uploadPhoto:d,generateCustomAvatar:u,selfieUrl:i,setLocalPreviewUrl:w}),g==="generating_avatar"&&o.jsx(F2t,{localPreviewUrl:x}),g==="confirm_avatar"&&o.jsx(D2t,{status:s,onClose:C,onBack:S,resultUrl:a,saveAvatar:h,onSuccessfulOnboarding:n}),g==="done"&&o.jsx(U2t,{})]})})}),Y2t=L.memo(({productImageUrl:e,setTryOnImageUrl:t,setIsGeneratingTryOn:n})=>{const{$t:r}=ae(),[s,a]=f.useState(!1),i="shopping-try-on",l=Vt(),{resultUrl:c,tryOnProduct:u,status:d}=QCe({reason:i}),{userTryOnPhotoUrl:h,isUserTryOnPhotoLoading:m}=c1e({reason:i});f.useEffect(()=>{c&&(t(c),n(!1))},[c,t,n]),f.useEffect(()=>{d==="processing"?n(!0):(d==="success"||d==="error")&&n(!1)},[d,n]);const g=f.useCallback(()=>{h?u(h,e):a(!0)},[h,u,e]),v=f.useCallback(()=>a(!1),[]),x=f.useCallback(b=>{a(!1),l.setQueryData(The(),{try_on_photo_url:b}),u(b,e)},[u,e,l]);return o.jsxs(o.Fragment,{children:[o.jsx(Le,{text:r({defaultMessage:"Try on",id:"2GYSdm3Xzb"}),variant:"common",onClick:g,disabled:m,size:"small",pill:!0,icon:fWe}),o.jsx(G2t,{isOpen:s,onClose:v,onSuccessfulOnboarding:x})]})}),XCe=(e,t)=>{const n=parseFloat(t.replace(/[^0-9.-]+/g,"")),r=parseFloat(e.replace(/[^0-9.-]+/g,"")),s=Math.trunc((n-r)/n*100);return s===0?null:`${s}%`},K2t=(e,t)=>{let n;return e.thumbnails&&e.thumbnails?.length===1?n=[...e.thumbnails,...e.images]:n=e.thumbnails?.length>0?e.thumbnails:e.images,n.filter(r=>r.variants.includes(t.id)).concat(n.filter(r=>r.variants.length===0))},Q2t=L.memo(({item:e,contextUUID:t,entryUUID:n,idx:r,innerRef:s,menuItems:a,showCount:i,variant:l,onShopifyButtonClick:c,onBuyWithProButtonClick:u,inFlight:d,viewState:h="collapsed",canTryOn:m=!1,headerLeadingClassName:g,className:v,onGeneratingTryOn:x,onTryOnUrl:b})=>o.jsx(wU,{inFlight:d,item:e,onShopifyButtonClick:c,onBuyWithProButtonClick:u,children:o.jsx(ZCe,{item:e,className:v,contextUUID:t,inFlight:d,canTryOn:m,viewState:h,menuItems:a,showCount:i,headerLeadingClassName:g,idx:r,entryUUID:n,variant:l,innerRef:s,onGeneratingTryOn:x,onTryOnUrl:b})}));Q2t.displayName="ShoppingWidget";const ZCe=L.memo(({item:e,className:t,contextUUID:n,inFlight:r,innerRef:s,viewState:a,menuItems:i,showCount:l,headerLeadingClassName:c,idx:u,entryUUID:d,canTryOn:h,variant:m,onGeneratingTryOn:g,onTryOnUrl:v})=>{const{$t:x}=ae(),{userDiscountOffer:b,shouldShowBuyWithPro:w,selectedVariant:C,purchaseUrl:S,hideReviewSummary:k,hasReviewSummary:E,carouselImages:T,badgeText:j,needsUpsell:N,showDiscountTag:R,onPrimaryButtonClick:O,buttonTitle:I,buttonTrailingComponent:B,selectedImageIndex:D,reviewSummaryLoading:z,isGeneratingTryOn:V,tryOnImageUrl:U}=nSe(),{hasAccessToProFeatures:H}=cn(),{setItemDetailsOpen:q,setSelectedImageIndex:$,setImageGalleryOpen:G,setTryOnImageUrl:K,setIsGeneratingTryOn:ee}=rSe(),{isMobileStyle:oe}=qe(),{trackEvent:ne}=Ye();f.useEffect(()=>{g?.(V)},[V,g]),f.useEffect(()=>{U&&v&&v(U)},[v,U]);const te=d2t()&&h&&H,re=()=>{n&&e.url&&ne("shopping card title selected",{contextUUID:n,productURL:e.url,productId:e.id,productName:e.name,productPrice:C.price??"",client:e.client}),a==="collapsed"?q(!0):O()},X=f.useCallback(ie=>{n&&e.url&&ne("shopping card image selected",{contextUUID:n,productURL:e.url,productId:e.id,productName:e.name,productPrice:C.price??"",client:e.client}),a==="collapsed"?q(!0):($(ie),G(!0))},[n,e.client,e.id,e.name,e.url,C.price,G,q,$,ne,a]),ce=f.useCallback(()=>{ne("shopping view more selected",{productId:e.id,productURL:e.url,contextUUID:n??"",client:e.client}),q(!0)},[n,e.client,e.id,e.url,q,ne]),se=f.useCallback(()=>{a==="collapsed"&&(q(!0),ne("shopping card body clicked",{productId:e.id,productURL:e.url,contextUUID:n??"",client:e.client}))},[n,e.client,e.id,e.url,q,ne,a]),J=f.useCallback(ie=>{oe?$(ie):X(ie)},[X,oe,$]),de=f.useCallback(ie=>{X(ie)},[X]);return o.jsx("div",{"data-widget-id":e.id,ref:s,className:W("group/root relative",{"cursor-pointer":a==="collapsed"},t),onClick:()=>{se()},children:o.jsxs(nU,{id:e.id,entityVariant:m,menuItems:a==="expanded"?i:void 0,className:"relative z-10",children:[o.jsxs(uvt,{className:"md:!flex-row-reverse",children:[o.jsx(fvt,{listNumber:typeof u=="number"&&l?u+1:void 0,className:c,children:o.jsx(wCe,{images:T,selectedImageIndex:D,maxImagesPerScroll:5,badgeText:j??void 0,onImageClick:de,onCarouselImageClick:J,variant:"small"})}),o.jsxs(hvt,{buttonProps:{onClick:ie=>{O(),ie.stopPropagation()},text:I,trailingComponent:B,extraCSS:w?"":S?"!bg-[#5433eb] !text-white":void 0},secondaryButtonProps:!N||S?void 0:{text:x({defaultMessage:"Visit Site",id:"Ppy3I8Cd73"}),extraCSS:"!px-md",href:e.url,target:"_blank"},trailingComponent:te&&o.jsx(Y2t,{productImageUrl:e.images[0].src,setTryOnImageUrl:K,setIsGeneratingTryOn:ee}),className:"py-xs",children:[R&&o.jsx(CCe,{discountAmount:b?.discount_amount_str??"",discountLabel:b?.discount_label??"Pro",className:"mb-xs self-start"}),o.jsx(dvt,{title:e.name,onTitleClick:re}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsx("div",{className:"gap-sm md:mb-md flex items-center",children:typeof e.rating=="number"&&o.jsx($g,{reviewCount:e.num_reviews,rating:e.rating,size:"xs"})}),o.jsxs("div",{className:"mt-xs gap-sm flex items-center md:mt-0",children:[o.jsx(oU,{price:C?.price??"",comparePrice:C?.compare_at_price??void 0}),w&&o.jsx(Mn,{tooltipText:x({defaultMessage:"Shipping is free while shopping with Perplexity Pro",id:"UMkYrflCjt"}),children:o.jsx(F,{variant:"tiny",color:"super",children:x({defaultMessage:"FREE Delivery",id:"dPXaEReoOY"})})})]}),o.jsx(iU,{merchantDomain:e.merchant_info.merchant_domain,merchantName:e.merchant_info.merchant_name,itemUrl:S||w&&!N?e.url:null})]})]})]}),o.jsxs("div",{children:[!k&&o.jsx(D_e,{cons:e.review_summary?.cons_detailed,pros:e.review_summary?.pros_detailed,chooseIfReason:e.review_summary?.buy_if,chooseIfLeadInCopy:x({defaultMessage:"Buy this if",id:"YDZngLW6Sg"}),inFlight:r,className:W("border-borderMain/50 z-20 border-t",{"mt-4":a==="collapsed","my-4":a==="expanded"}),viewState:a,id:e.id}),(z||E)&&a==="expanded"&&o.jsx(YCe,{isCollapsed:!1,reviewSummary:e.review_summary,handleViewMoreClick:ce,entryUUID:d??"",inFlight:r,webResults:e.review_summary?.review_search_results??Fe})]})]})})});ZCe.displayName="WidgetInner";const X2t=De(async()=>({default:(await Me(()=>import("./ShoppingDetailsModal-DWtpUlSg.js"),__vite__mapDeps([80,1,36,3]))).ShoppingDetailsModal})),Z2t=De(async()=>({default:(await Me(()=>import("./ShopifyPurchaseModal-BjghIRSS.js").then(t=>t.c),__vite__mapDeps([81,1,37]))).ShopifyPurchaseModal})),J2t=(e,t)=>{switch(t.type){case"setItemDetailsOpen":return{...e,itemDetailsOpen:t.open};case"setSelectedImageIndex":return{...e,selectedImageIndex:t.index};case"setImageGalleryOpen":return{...e,imageGalleryOpen:t.open};case"setTryOnImageUrl":return{...e,tryOnImageUrl:t.url};case"setIsGeneratingTryOn":return{...e,isGeneratingTryOn:t.isGenerating}}},JCe={userDiscountOffer:null,shouldShowBuyWithPro:!1,selectedVariant:null,shopifyPurchaseModalOpen:!1,purchaseUrl:"",hideReviewSummary:!1,hasReviewSummary:!1,isShopifyPurchase:null,carouselImages:[],badgeText:"",needsUpsell:!1,showDiscountTag:!1,inViewRef:L.createRef(),reviewSummaryLoading:!1,buttonTitle:"",buttonTrailingComponent:null,selectedImageIndex:0,hasProsOrCons:!1,itemDetailsOpen:!1,imageGalleryOpen:!1,onPrimaryButtonClick:()=>{},tryOnImageUrl:null,isGeneratingTryOn:!1},eyt={setItemDetailsOpen:()=>{},setSelectedImageIndex:()=>{},setImageGalleryOpen:()=>{},setTryOnImageUrl:()=>{},setIsGeneratingTryOn:()=>{}},eSe=f.createContext(JCe),tSe=f.createContext(eyt),nSe=()=>f.useContext(eSe),rSe=()=>f.useContext(tSe),wU=L.memo(({contextUUID:e,item:t,inFlight:n,entryUUID:r,onBuyWithProButtonClick:s,onShopifyButtonClick:a,children:i,canTryOn:l=!1})=>{const c="shopping-widget-provider",{$t:u}=ae(),[d,h]=f.useReducer(J2t,{...JCe}),[m,g]=f.useState(1),[v,x]=f.useState(!1),[b,w]=f.useState(t.variants.find(xe=>xe.available)||t.variants[0]),{trackEvent:C}=Ye(),{openModal:S}=Gt(),{hasAccessToProFeatures:k}=cn(),E=Ct(),{openVisitorLoginUpsell:T}=Br({enabled:!E}),N=iC()==="US",{isLocalhost:R}=af(),O=N||R,I=f.useRef(null),{isMobileStyle:B}=qe();cCe({ref:I,onInView:()=>{e&&C("shown shopping product",{contextUUID:e,entryUUID:r??"",productId:t.id,productName:t.name,productURL:t.url,client:t.client})}});const D=!!t.review_summary?.buy_if,z=!D&&n;let V=null;b?.id&&t?.merchant_info?.merchant_domain&&(V=`https://${t.merchant_info.merchant_domain}/cart/${b.id}:${m}`);const U=f.useMemo(()=>{const xe=K2t(t,b);return d.tryOnImageUrl?[{src:d.tryOnImageUrl,variants:[]},...xe]:xe},[t,b,d.tryOnImageUrl]),H=f.useMemo(()=>{const xe=t.images.map(Oe=>({image:Oe.src||"",url:Oe.src||""}));return d.tryOnImageUrl?[{image:d.tryOnImageUrl,url:d.tryOnImageUrl},...xe]:xe},[t.images,d.tryOnImageUrl]),q=f.useMemo(()=>t.merchant_info.pro_shop_enabled&&O,[t.merchant_info.pro_shop_enabled,O]),{customerShoppingInfo:$}=Nvt({enabled:q??!1,reason:c}),G=f.useMemo(()=>!$?.customer?.shipping_address?.address.city,[$]),K=f.useCallback(()=>{const xe=m+1;e&&C("shopping product quantity changed",{contextUUID:e,productName:t.name,newQuantity:xe}),g(xe)},[e,t.name,m,C]),ee=f.useCallback(()=>{const xe=m>1?m-1:1;e&&C("shopping product quantity changed",{contextUUID:e,productName:t.name,newQuantity:xe}),g(xe)},[e,t.name,m,C]),oe=f.useCallback(async()=>{b.price?S("shoppingPaymentModal",{product:t,onSuccess:xe=>{S("purchaseConfirmationModal",{order:xe})}}):window.open(t.url)},[t,S,b.price]),ne=f.useCallback(()=>{S("shoppingOnboardingModal",{onContinue:()=>{oe()}})},[oe,S]),te=f.useCallback(()=>{e&&V&&(C("shopping modal button selected",{contextUUID:e,productURL:t.url,productId:t.id,productName:t.name,productPrice:b.price??"",client:t.client}),window.open(V),x(!1))},[e,t.name,t.url,V,b.price,x,C,t.client,t.id]),re=f.useCallback(xe=>{e&&t.url&&C("shopping card button selected",{contextUUID:e,productURL:t.url,productId:t.id,productName:t.name,productPrice:b.price??"",cta:xe,client:t.client})},[e,t.name,t.url,t.id,b.price,C,t.client]),X=f.useMemo(()=>{if(b?.compare_at_price&&b?.price){const xe=XCe(b.price,b.compare_at_price);if(xe)return u({defaultMessage:"{amount} off",id:"+Fpudsk35l"},{amount:xe})}return null},[b,u]),ce=f.useMemo(()=>!!t.review_summary&&t.review_summary.review_quality_score===0,[t.review_summary]),se=f.useCallback((xe,Oe)=>{if(!t.variants)return;const Qe=t.variants.find(Ge=>[Ge.option1,Ge.option2,Ge.option3].every((Ze,St)=>St===Oe?Ze===xe:Ze===b[`option${St+1}`]));Qe&&w(Qe),e&&C("shopping product option selected",{contextUUID:e,productName:t.name})},[e,t.name,t.variants,b,w,C]),J=f.useMemo(()=>V,[V]),de=f.useMemo(()=>q&&(!E||!k),[q,E,k]),ie=f.useMemo(()=>u(q||V?{defaultMessage:"Buy with",id:"bw7bvygIAi"}:{defaultMessage:"Visit Site",id:"Ppy3I8Cd73"}),[q,V,u]),he=f.useMemo(()=>q?o.jsx(Sx,{sizeVariant:"small",fillColor:"fill-background",width:"w-[26px] ml-0.5"}):V?o.jsx("div",{className:"h-[14px] [&>*]:ml-0.5 [&>*]:w-auto",children:o.jsx(uCe,{})}):void 0,[q,V]),pe=f.useCallback(()=>{a?a():x(!0)},[a,x]),ge=f.useCallback(()=>{if(q){if(!E){T({origin:gt.BUY_WITH_PRO_BUTTON,description:u({defaultMessage:"Explore millions of products with free shipping on Perplexity Pro.",id:"PYA+JEZasT"}),title:u({defaultMessage:"Unlock free shipping with Perplexity",id:"dmUvYTOIgW"}),sheetModalVariant:"bottom-sheet-gradient"});return}if(!k){S("pricingModal",{origin:gt.BUY_WITH_PRO_BUTTON,pitchMessage:{title:u({defaultMessage:"Unlock free shipping with Perplexity",id:"dmUvYTOIgW"}),description:u({defaultMessage:"Explore millions of products with free shipping on Perplexity Pro.",id:"PYA+JEZasT"})}});return}G?ne():oe(),s?.()}else J?pe():window.open(t.url)},[oe,ne,pe,J,t.url,s,G,E,k,S,T,q,u]),Ce=f.useCallback(()=>{re(q?"buy with pro":J?"buy with shop":"visit site")},[re,J,q]),we=f.useCallback(()=>{ge(),Ce()},[ge,Ce]),Pe=f.useMemo(()=>z?!0:(t.review_summary?.pros_detailed?.length??0)>0||(t.review_summary?.cons_detailed?.length??0)>0,[t.review_summary?.pros_detailed,t.review_summary?.cons_detailed,z]),ot=f.useMemo(()=>({...d,shouldShowBuyWithPro:q,selectedVariant:b,shopifyPurchaseModalOpen:v,purchaseUrl:V,hideReviewSummary:ce,hasReviewSummary:D,isShopifyPurchase:J,carouselImages:U,badgeText:X,needsUpsell:de,inViewRef:I,reviewSummaryLoading:z,buttonTitle:ie,buttonTrailingComponent:he,hasProsOrCons:Pe,onPrimaryButtonClick:we}),[d,q,b,v,V,ce,D,J,U,X,de,I,z,ie,he,Pe,we]),Be=f.useMemo(()=>({setItemDetailsOpen:xe=>h({type:"setItemDetailsOpen",open:xe}),setSelectedImageIndex:xe=>h({type:"setSelectedImageIndex",index:xe}),setImageGalleryOpen:xe=>h({type:"setImageGalleryOpen",open:xe}),setTryOnImageUrl:xe=>h({type:"setTryOnImageUrl",url:xe}),setIsGeneratingTryOn:xe=>h({type:"setIsGeneratingTryOn",isGenerating:xe})}),[h]),Ee=f.useCallback(()=>{Be.setItemDetailsOpen(!1)},[Be]),st=f.useCallback(()=>{Be.setItemDetailsOpen(!1),x(!0)},[Be,x]),et=f.useCallback(()=>{Be.setItemDetailsOpen(!1)},[Be]),$e=f.useCallback(()=>{x(!1)},[x]),tt=f.useCallback(xe=>{Be.setSelectedImageIndex(xe),B||requestAnimationFrame(()=>{Be.setImageGalleryOpen(!0)})},[Be,B]),at=f.useCallback(()=>{Be.setImageGalleryOpen(!1)},[Be]);return o.jsx(eSe.Provider,{value:ot,children:o.jsxs(tSe.Provider,{value:Be,children:[i,o.jsx(X2t,{isOpen:d.itemDetailsOpen,onClose:Ee,onShopifyButtonClick:st,inFlight:n,onBuyWithProButtonClick:et,item:t,canTryOn:l,menuItems:Fe}),o.jsx(Z2t,{open:v,onOptionSelect:se,onQuantityIncrement:K,onQuantityDecrement:ee,onClose:$e,quantity:m,item:t,selectedVariant:b,handleBuyClick:te,selectedImageIndex:d.selectedImageIndex,handleImageClick:tt,images:U}),o.jsx(aU,{title:t.name,mainImageIndex:d.selectedImageIndex,isOpen:d.imageGalleryOpen,images:H,onClose:at})]})})});wU.displayName="ShoppingWidgetProvider";const sSe=L.memo(({contextUUID:e,entryUUID:t,item:n,inFlight:r,innerRef:s,className:a,showProsCons:i=!0,context:l})=>{const{result:{answer_modes:c}}=Un(),u=f.useMemo(()=>c.find(h=>h.answer_mode_type===Fn.SHOPPING)?.shopping_config?.can_try_on??!1,[c]);return o.jsx(wU,{contextUUID:e,item:n,inFlight:r,entryUUID:t,canTryOn:u,children:o.jsx(aSe,{item:n,className:a,contextUUID:e,entryUUID:t,inFlight:r,innerRef:s,showProsCons:i,context:l})})});sSe.displayName="ShoppingWidgetDense";const aSe=L.memo(({item:e,className:t,contextUUID:n,entryUUID:r,innerRef:s,showProsCons:a,context:i})=>{const l="widget-inner",{inViewRef:c,shouldShowBuyWithPro:u,carouselImages:d,badgeText:h,selectedVariant:m,reviewSummaryLoading:g,hasProsOrCons:v}=nSe(),{setItemDetailsOpen:x}=rSe(),{isMobileStyle:b}=qe(),{trackEvent:w}=Ye(),C=f.useCallback(()=>{x(!0),w("shopping card body clicked",{productId:e.id,productURL:e.url,contextUUID:n??"",client:e.client}),i==="answersMode"&&w("answer mode tab item selected",{answerMode:"shopping",entryUUID:r??"",contextUUID:n??"",itemID:e.id})},[i,n,r,e.client,e.id,e.url,x,w]);Tvt({enabled:e.client==="firmly",reason:l});const S=f.useCallback(()=>{C()},[C]);return o.jsx(nU,{id:e.id,entityVariant:"dense-card",className:W("relative !p-0",t),children:o.jsxs(Q,{as:"button","data-widget-id":e.id,ref:Spe([s,c]),className:W("group/root gap-sm md:gap-md flex cursor-pointer flex-col p-[10px] duration-150"),onClick:S,children:[o.jsxs("div",{className:W("md:gap-md flex flex-1 items-start gap-[12px]",{"md:items-center":!a||!v,"md:items-start":a&&v}),children:[e.image_url&&o.jsx("div",{className:"border-borderMain/50 size-[88px] shrink-0 rounded-lg border bg-white md:size-28 dark:border-0",children:o.jsx($_e,{images:d.map(k=>k.src),className:"size-full rounded-lg bg-white",badgeText:h??void 0})}),o.jsxs("div",{className:"gap-xs flex flex-1 flex-col",children:[o.jsx("div",{className:"gap-xs flex items-start justify-between",children:o.jsxs("div",{className:"gap-xs flex flex-col",children:[e.merchant_info&&o.jsx(iU,{merchantName:e.merchant,merchantDomain:e.merchant_info.merchant_domain,itemUrl:e.url,className:"md:mb-xs"}),u&&o.jsx("div",{className:"border-super/10 md:right-sm md:top-sm bg-super/10 md:px-sm md:py-xs absolute right-0 top-0 rounded-bl rounded-tr-[11px] border border-r-0 border-t-0 px-[6px] py-0.5 duration-150 md:rounded md:rounded-tr-[6px] md:border-r md:border-t",children:o.jsx(lU,{})}),o.jsx(F,{variant:b?"smallBold":"baseSemi",className:"line-clamp-2 text-pretty text-left leading-tight",children:e.name}),o.jsxs("div",{className:"gap-sm flex items-center",children:[o.jsx(oU,{textVariant:b?"tiny":void 0,comparePrice:m?.compare_at_price??void 0,price:e.price,size:"small"}),u&&o.jsx(lCe,{className:"inline-flex"})]}),typeof e.rating=="number"&&o.jsx($g,{reviewCount:e.num_reviews,rating:e.rating,size:"xs",variant:"truncated",textVariant:b?"tiny":void 0})]})}),!b&&v&&a&&o.jsx(Kn,{active:g,className:"-ml-xs mt-1",children:o.jsx(by,{pros:e.review_summary?.pros_detailed??Fe,cons:e.review_summary?.cons_detailed??Fe,loading:g,id:e.id})})]})]}),b&&v&&a&&o.jsx(by,{pros:e.review_summary?.pros_detailed??Fe,cons:e.review_summary?.cons_detailed??Fe,loading:g,className:"mt-2",id:e.id})]})})});aSe.displayName="WidgetInner";const k4=.2,iSe=L.memo(({icon:e,title:t,loading:n,intentTier:r})=>{const{isMobileStyle:s}=qe(),a=r!==Nw.HIGH||s;return o.jsxs(Kn,{active:n,className:"gap-sm flex w-full items-center",speed:"slow",children:[e&&o.jsx(F,{variant:a?"baseSemi":"section-title",className:a?void 0:"w-[24px]",children:o.jsx(jt,{fixedWidth:!0,icon:e,className:W("duration-200",{"text-textMain/35":n,"text-text":!n}),size:a?"sm":void 0})}),o.jsx(kt,{mode:"popLayout",initial:!1,children:o.jsx(je.div,{initial:{y:"-50%",opacity:0},animate:{y:0,opacity:1,transition:{y:{duration:.2,ease:Mi,delay:k4+.1},opacity:{duration:.2,ease:"linear",delay:k4+.1}}},exit:{y:"50%",opacity:0,transition:{y:{duration:.2,ease:Toe,delay:k4},opacity:{duration:.2,ease:"linear",delay:k4}}},className:"w-full",children:o.jsx(F,{variant:a?"baseSemi":"section-title",color:n?"ultraLight":void 0,children:t})},t)})]})});iSe.displayName="EntityGroupTitle";const tyt=({reason:e})=>{const{uuid:t}=Xat({reason:e}),{value:n,loading:r}=Fs({flag:"shopping-enabled",defaultValue:!1,extraAttributes:{orgUUID:t??""}});return f.useMemo(()=>!r&&n,[r,n])},oSe=L.memo(({contextUUID:e,item:t,canEdit:n,idx:r,onDelete:s,variant:a="list",onClick:i,includeProCons:l,inFlight:c})=>{const u=t.id,{scrollToWidget:d}=tU(),{trackEvent:h}=Ye(),m=()=>{u&&e&&h("shopping overview item selected",{contextUUID:e,productId:t.id,productURL:t.url,client:t.client}),i?i(t):d(u)};switch(a){case"list":return o.jsx(lSe,{canEdit:n,item:t,onClick:m,onDelete:s??Yn,idx:r});case"card":return o.jsx(_R,{canEdit:n,item:t,onClick:m,idx:r,includeProCons:l,inFlight:c});case"tile":return o.jsx(_R,{canEdit:n,item:t,onClick:m,idx:r,includeProCons:l,inFlight:c,variant:"tile"});case"chip":return o.jsx(dSe,{canEdit:n,item:t,onClick:m,idx:r})}});oSe.displayName="ShoppingOverviewItem";const lSe=L.memo(({onClick:e,onDelete:t,item:n,idx:r,canEdit:s})=>{const{image_url:a,num_reviews:i,rating:l}=n;return o.jsxs(Q,{className:"py-md group relative cursor-pointer duration-150 active:scale-[0.99]",onClick:e,children:[o.jsx("div",{className:"-inset-x-sm inset-y-sm bg-offset pointer-events-none absolute scale-[0.98] rounded-md opacity-0 duration-150 group-hover:scale-100 group-hover:opacity-100"}),o.jsxs("div",{className:"gap-m just gap-md relative flex w-full items-center",children:[a&&o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"p-xs relative !size-[60px] shrink-0 overflow-hidden !rounded-md bg-white after:absolute after:inset-0 after:rounded-[inherit] after:border after:border-black/10 after:content-['']",children:o.jsx(Bh,{className:"!bg-white",src:a})}),o.jsx(F,{className:"size-md border-borderMain bg-background absolute -left-1.5 -top-1.5 flex items-center justify-center rounded-full border shadow-sm",variant:"smallCaps",color:"light",children:r+1})]}),o.jsxs("div",{className:"gap-xs flex flex-1 flex-col duration-150 group-hover:opacity-70",children:[o.jsx(F,{variant:"smallBold",className:"line-clamp-2 leading-tight",children:n.name}),o.jsxs(cm,{className:"gap-xs text-textOff",delimiter:"",children:[typeof l=="number"&&o.jsx(Os,{id:"rating",children:o.jsx($g,{showCount:!1,reviewCount:i,rating:l,size:"2xs",textVariant:"tiny",className:"mb-[2px]",variant:"truncated"})}),n.price&&o.jsx(Os,{id:"price",children:o.jsx(F,{variant:"tiny",color:"light",children:Fl(n.price)})}),n.variants&&n.variants[0].compare_at_price&&o.jsx(Os,{id:"originalPrice",children:o.jsx(F,{variant:"tiny",color:"light",className:"line-through opacity-70",children:Fl(n.variants[0].compare_at_price)})})]})]}),s&&o.jsx(cSe,{onDelete:t})]})]})});lSe.displayName="OverviewListItem";const cSe=L.memo(({onDelete:e})=>{const{$t:t}=ae(),{isMobileStyle:n}=qe(),[r,s]=f.useState(!1),a=f.useMemo(()=>[{text:t({defaultMessage:"Remove",id:"G/yZLul6P1"}),icon:Id,destructive:!0,onClick:c=>{e(),c.stopPropagation()}}],[e,t]),i=f.useCallback(c=>{s(!0),c.stopPropagation()},[]),l=f.useCallback(()=>{s(!1)},[]);return o.jsx(Rn,{items:a.map(c=>({type:"default",...c})),isMobileStyle:n,isOpen:r,onClose:l,children:o.jsx(Le,{icon:tf,extraCSS:"",size:"tiny",pill:!0,onClick:i})})});cSe.displayName="OverviewDropdownMenu";const _R=L.memo(({onClick:e,item:t,idx:n,showCount:r,includeProCons:s,inFlight:a,variant:i})=>{const l="shopping-overview-item",{$t:c}=ae(),{image_url:u,num_reviews:d,rating:h}=t,g=tyt({reason:l})&&t.merchant_info.pro_shop_enabled,v=f.useMemo(()=>{if(t.variants&&t.variants[0].compare_at_price&&t.variants[0].price){const x=XCe(t.variants[0].price,t.variants[0].compare_at_price);if(x)return c({defaultMessage:"{amount} off",id:"+Fpudsk35l"},{amount:x})}return null},[t,c]);return o.jsx(Q,{variant:i==="tile"?"transparent":"offset",bgHover:"offsetPlus",className:"px-sm py-sm group relative flex shrink-0 cursor-pointer select-none rounded-lg duration-150 active:scale-[0.98]",onClick:e,children:o.jsxs("div",{className:"gap-sm relative flex w-full flex-col items-start",children:[u&&o.jsxs("div",{className:"relative aspect-square w-full",children:[o.jsxs("div",{className:"p-xs relative shrink-0 overflow-hidden rounded-md bg-white after:absolute after:inset-0 after:rounded-[inherit] after:border after:border-black/10 after:content-['']",children:[o.jsx(Bh,{className:"!bg-white",src:u}),v&&o.jsx("div",{className:"gap-sm absolute right-2 top-2 flex items-center",children:o.jsx(F,{variant:"smallCaps",className:"flex items-center rounded-full border border-black/5 bg-white/80 px-1 py-[3px] !text-[10px] !text-black/50 backdrop-blur-sm",children:v})})]}),r&&o.jsx(F,{className:"size-md border-borderMain bg-background absolute -left-1.5 -top-1.5 flex items-center justify-center rounded-full border shadow-sm",variant:"smallCaps",color:"light",children:n+1})]}),o.jsxs("div",{className:"gap-xs flex w-full flex-1 flex-col",children:[o.jsxs("div",{className:"gap-2xs flex flex-col",children:[o.jsx(F,{variant:"smallBold",className:"line-clamp-2",children:t.name}),o.jsxs(cm,{delimiter:"",className:"gap-xs",children:[o.jsx(Os,{id:"price",children:o.jsx(F,{variant:"tiny",color:"light",children:t.variants?.[0].price?Fl(t.variants[0].price):Fl(t.price??"")})}),t.variants&&t.variants[0].compare_at_price&&o.jsx(Os,{id:"originalPrice",children:o.jsx(F,{variant:"tiny",color:"light",className:"line-through opacity-70",children:Fl(t.variants[0].compare_at_price)})})]}),g&&o.jsx(lU,{className:"mb-sm"})]}),s&&o.jsx(uSe,{pros:t.review_summary?.pros_detailed,inFlight:a}),o.jsx("div",{className:"h-full flex-1"}),o.jsxs(F,{variant:"tiny",color:"light",className:"gap-xs flex items-center",children:[o.jsx(pu,{size:12,className:"inline-flex shrink-0",domain:t.merchant_info.merchant_domain}),o.jsx("span",{className:"line-clamp-1",children:t.merchant})]}),typeof h=="number"&&o.jsx($g,{size:"2xs",reviewCount:d,rating:h,textVariant:"tiny",variant:"truncated"})]})]})})});_R.displayName="OverviewCardItem";const uSe=L.memo(({pros:e,inFlight:t})=>{const n=!e&&t;return o.jsx("div",{className:"gap-2xs flex flex-col",children:n?o.jsx(Kn,{className:"gap-2xs flex flex-col",children:Array.from({length:2}).map((r,s)=>o.jsxs(F,{variant:"tiny",color:"light",className:"flex items-center",children:[o.jsx("div",{className:W("bg-background-300 h-2 rounded",{"w-1/2":s===0,"w-2/3":s===1})})," "]},s))}):e?.slice(0,2).map(r=>o.jsxs(F,{variant:"tiny",color:"light",className:"gap-xs flex items-start",children:[o.jsx(jt,{icon:HC.faCheck,size:"sm",className:"text-super shrink-0 translate-y-[2px]"}),r.label]},r.label))})});uSe.displayName="ProCons";const dSe=L.memo(({onClick:e,item:t,idx:n,showCount:r})=>{const{image_url:s}=t;return o.jsx(Q,{variant:"offset",bgHover:"offsetPlus",className:"group relative flex shrink-0 cursor-pointer select-none rounded-lg p-1.5 duration-150 active:scale-[0.99]",onClick:e,children:o.jsxs("div",{className:"gap-sm relative flex w-full flex-row items-start",children:[s&&o.jsxs("div",{className:"relative aspect-square size-8 shrink-0",children:[o.jsx("div",{className:"p-xs relative w-full overflow-hidden rounded-md bg-white after:absolute after:inset-0 after:rounded-[inherit] after:border after:border-black/10 after:content-['']",children:o.jsx(Bh,{className:"!bg-white",src:s})}),r&&o.jsx(F,{className:"size-md border-borderMain bg-background absolute -left-1.5 -top-1.5 flex items-center justify-center rounded-full border shadow-sm",variant:"smallCaps",color:"light",children:n+1})]}),o.jsx("div",{className:"gap-xs flex w-full min-w-0 flex-1 flex-col",children:o.jsxs("div",{children:[o.jsx(F,{variant:"tiny",className:"mb-1 line-clamp-2 leading-tight",children:t.name}),o.jsx(cm,{delimiter:"",className:"gap-xs",children:o.jsx(Os,{id:"price",children:o.jsx(F,{variant:"smallCaps",color:"light",children:t.variants?.[0].price?Fl(t.variants[0].price):Fl(t.price??"")})})})]})})]})})});dSe.displayName="OverviewChipItem";const fSe=L.memo(({contextUUID:e,widgets:t,className:n,onItemClick:r,maxItems:s=1/0,includeProCons:a=!1,inFlight:i=!1})=>{const{articleLocalState:l}=Ome(),{isMobileStyle:c}=qe(),u=c?3:Math.min(t.length,s)<=4?4:5,d=f.useMemo(()=>t.map(g=>{const v=Wg(g);if(!v)return null;switch(v.object){case"ShopifyWidget":return v;default:return null}}).filter(Boolean),[t]),h=f.useMemo(()=>d.slice(0,s).map((g,v)=>{if(!g)return null;switch(g.object){case"ShopifyWidget":return o.jsx(oSe,{contextUUID:e,item:g,canEdit:l.isEditModeEnabled,variant:"card",idx:v,onClick:r,includeProCons:a,inFlight:i},g.id);default:return null}}).filter(Boolean),[d,l.isEditModeEnabled,e,r,a,s,i]);if(d.length===0)return null;const m=bCe(h,u);return o.jsx("div",{className:W("mb-md",n),children:o.jsx(yCe,{fadeOut:!c,paginationStyle:"overlay",paginationButtonProps:{size:"small",variant:"border",extraCSS:"bg-background shadow-sm"},fadeOutClassName:"hidden",className:"!basis-full",children:m.map((g,v)=>o.jsx(xCe,{id:"related-pages-"+v,children:o.jsx("div",{className:"gap-sm grid grid-cols-5 grid-rows-1",style:{gridTemplateColumns:`repeat(${u}, minmax(0, 1fr))`},children:m[v].map((x,b)=>o.jsx(L.Fragment,{children:x},b))})},"related-pages-"+v))})})});fSe.displayName="OverviewCards";const hSe=f.createContext(void 0),nyt=()=>{const e=f.useContext(hSe);if(!e)throw new Error("useEntityGroup must be used within an EntityGroupProvider");return e},mSe=L.memo(({children:e})=>{const[t,n]=f.useState(!1);return o.jsx(hSe.Provider,{value:{viewMoreOpen:t,setViewMoreOpen:n},children:e})});mSe.displayName="EntityGroupProvider";const ryt=3,pSe=L.memo(({onClick:e,disabled:t,images:n})=>{const{$t:r}=ae();return o.jsx("div",{className:"flex items-center justify-center",children:o.jsxs(Q,{variant:"background",bgHover:"offset",className:W("gap-sm py-md group flex w-full cursor-pointer items-center justify-center rounded-lg border",{"pointer-events-none opacity-50":t}),onClick:e,children:[o.jsx("div",{className:"ml-xs mr-xs flex items-center",children:n.slice(0,ryt).map((s,a)=>o.jsxs("div",{className:W("-ml-xs dark:ring-background relative size-6 shrink-0 overflow-hidden rounded bg-white p-[0.1rem] shadow-sm duration-150 dark:ring",{"group-hover:-translate-x-sm":a===1},{"group-hover:-translate-x-md":a===0}),children:[o.jsx(ps,{src:s.src,containerClassName:W("relative h-full w-full"),alt:"",maskClassName:"!rounded-[0.18rem]",includeLightBoxModal:!1,imageClassName:"w-full h-full object-contain bg-white"}),o.jsx("div",{className:"rounded-inherit absolute inset-0 border border-black/10 dark:border-transparent"})]},s.src))}),o.jsx(F,{className:"small",variant:"smallBold",children:r({defaultMessage:"All Products",id:"enAu2bZ4pg"})})]})})});pSe.displayName="ViewAllButton";const gSe=L.memo(({intentTier:e})=>e===Nw.HIGH?o.jsx(vSe,{}):o.jsx(ySe,{}));gSe.displayName="WidgetPlaceholder";const vSe=L.memo(()=>{const e=f.useMemo(()=>({maskImage:"linear-gradient(to bottom, black, transparent)"}),[]);return o.jsx(je.div,{children:o.jsx(Q,{variant:"offset",className:"flex h-[200px] animate-pulse rounded-lg",style:e})})});vSe.displayName="HighIntentWidgetAnimationPlaceholder";const ySe=L.memo(()=>{const{isMobileStyle:e}=qe();return o.jsx(je.div,{className:"gap-sm flex",children:Array.from({length:e?2:5}).map((t,n)=>o.jsx(Q,{variant:"offset",className:"h-[200px] flex-1 animate-pulse rounded-lg"},n))})});ySe.displayName="MediumIntentWidgetAnimationPlaceholder";const syt=De(async()=>({default:(await Me(()=>import("./ShoppingDetailsModal-DWtpUlSg.js"),__vite__mapDeps([80,1,36,3]))).ShoppingDetailsModal})),ayt=De(async()=>({default:(await Me(()=>import("./ShoppingViewMoreModal-CM5kE3nY.js"),__vite__mapDeps([82,1,83,84,81,37,3]))).ShoppingViewMoreModal})),iyt=L.memo(({data:e,contextUUID:t,entryUUID:n,entryTitle:r,title:s,icon:a,menuItemFn:i,innerRef:l,isEntryInFlight:c,entityVariant:u,includeViewAll:d,className:h,groupClassName:m,entityClassName:g,loading:v,textLoading:x,onRemoveResults:b,intentTier:w=Nw.HIGH})=>{const{$t:C}=ae(),{entityRefs:S}=tU(),{viewMoreOpen:k,setViewMoreOpen:E}=nyt(),[T,j]=f.useState(null),{trackEvent:N}=Ye(),R=f.useCallback(()=>{E(!0),n&&N("view all clicked",{entryUUID:n,src:"button"})},[n,E,N]),O=f.useMemo(()=>{const z=[],V=[],U=[];return e.forEach(H=>{const q=Wg(H);if(!q)return;const $=q.object;if($==="ShopifyWidget")z.push(H),V.push(q),U.push(q.images[0]);else if($==="PlaceWidget"&&(z.push(H),V.push(q),q.images?.[0])){const G=q.images[0];U.push({src:G,variants:[]})}}),{widgetResults:z,widgets:V,images:U}},[e]),I=f.useCallback(z=>{j(z)},[]),B=f.useCallback(()=>E(!1),[E]),D=f.useCallback(()=>j(null),[]);return o.jsxs(o.Fragment,{children:[o.jsxs(je.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2,ease:Ar},ref:l,className:W("gap-sm relative isolate flex flex-col",m),children:[s&&o.jsxs("div",{className:"mt-md flex items-end justify-between",children:[o.jsx(iSe,{icon:a,title:s,loading:v,intentTier:w}),o.jsx("div",{className:"gap-sm flex items-center",children:o.jsxs(kt,{mode:"popLayout",initial:!1,children:[d&&!v&&o.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,ease:Mi},children:o.jsx(Le,{text:C({defaultMessage:"View All",id:"wbcwKddwLa"}),variant:"border",size:"tiny",pill:!0,onClick:R})},"view-all-button"),!v&&b&&o.jsx(Le,{variant:"border",size:"tiny",pill:!0,icon:yn,onClick:b,toolTip:C({defaultMessage:"Remove results",id:"eLqO1aEzzN"})},"remove-results-button")]})})]}),x?o.jsx(gSe,{intentTier:w}):w===Nw.MEDIUM?o.jsx(bSe,{validatedWidgets:O,className:h,contextUUID:t,onItemClick:I,inFlight:c}):o.jsx(xSe,{validatedWidgets:O,className:h,menuItemFn:i,contextUUID:t,entryUUID:n,isEntryInFlight:c,entityRefs:S,entityVariant:u,entityClassName:g,includeViewAll:d,onClickViewAll:R})]}),n&&o.jsxs(o.Fragment,{children:[T&&o.jsx(syt,{isOpen:T!==null,onClose:D,item:T,onShopifyButtonClick:Yn,onBuyWithProButtonClick:Yn,inFlight:c,menuItems:Fe}),o.jsx(ayt,{open:k,onClose:B,entryUUID:n,title:r??"",initialResults:O.widgetResults.filter(z=>"meta_data"in z)})]})]})});iyt.displayName="EntityGroup";const xSe=L.memo(({validatedWidgets:e,className:t,menuItemFn:n,contextUUID:r,entryUUID:s,isEntryInFlight:a,entityRefs:i,entityClassName:l,includeViewAll:c,onClickViewAll:u})=>o.jsxs("div",{className:W("gap-sm flex flex-col",t),children:[e.widgetResults.map((d,h)=>{const m=n?n(d):void 0,g=e.widgets[h];return Ls(g).with({object:"ShopifyWidget"},v=>o.jsx(sSe,{item:v,contextUUID:r,entryUUID:s,innerRef:i[v.id],inFlight:a,className:l},v.id)).with({object:"PlaceWidget"},v=>o.jsx(aCe,{place:v,contextUUID:r,entryUUID:s,menuItems:m,inFlight:a,className:l},v.id)).otherwise(()=>null)}),c&&o.jsx(pSe,{onClick:u,disabled:a,images:e.images})]}));xSe.displayName="HighIntentWidgetGroup";const bSe=L.memo(({validatedWidgets:e,className:t,contextUUID:n,onItemClick:r,inFlight:s})=>{const{isMobileStyle:a}=qe();return o.jsx("div",{className:W("gap-md flex flex-col",t),children:o.jsx(fSe,{contextUUID:n,widgets:e.widgetResults,onItemClick:r,maxItems:a?void 0:4,includeProCons:!0,inFlight:s})})});bSe.displayName="MediumIntentWidgetGroup";const oyt=(e,t)=>e.concat(t).reduce((r,s)=>{const a=Wg(s);if(!a)return r;const i=a.object;return(i==="ShopifyWidget"||i==="PlaceWidget")&&(r[i]||(r[i]=[]),r[i].push(s)),r},{}),lyt=e=>{const t=Wg(e);if(t)switch(t.object){case"ShopifyWidget":return!0;default:return!1}return!1},wSe=["GenericFallbackWidget"],cyt=(e,t)=>{if(!e)return;const n=e.filter(r=>r.plan_block&&r.intended_usage=="plan").map(r=>r.plan_block);if(n&&n.length>0){const r=[];let s=!1;for(const a of n){for(const i of a?.goals??[])i.description!==null&&(r.length==0||r[r.length-1].final?r.push({...i}):(r[r.length-1].description+=i.description,r[r.length-1].final=i.final));a?.final&&(s=!0)}if(r.length>0)return{goals:r,final:s,channel_uuid:"",comprehensive_mode:!1}}return t},uyt=e=>e.blocks??Fe,dyt=e=>{const t=e.filter(s=>s.plan_block&&s.intended_usage=="pro_search_steps").map(s=>s.plan_block),n={};for(let s=0;s<t.length;s++)n[t[s].steps[0].uuid]=s;return t.filter((s,a)=>n[s.steps[0].uuid]===a).map(s=>s.steps.map(a=>({step_type:a.step_type,uuid:a.uuid??"",content:a?.initial_query_content??a?.attachment_content??a?.terminate_content??a?.search_web_content??a?.web_results_content??a?.code_content??a?.table_status_content??a?.entropy_request_content??a?.thought_content??a?.browser_search_content??a?.browser_open_tab_content??a?.browser_open_tab_results_content??a?.url_navigate_content??a?.browser_get_site_content_content??a?.user_clarification_content??a?.browser_get_history_summary_content??a?.browser_get_open_tab_content_content??a?.read_calendar_content??a?.read_calendar_response_content??a?.read_gmail_content??a?.read_gmail_response_content??a?.update_calendar_content??a?.generate_image_content??a?.generate_image_results_content??a?.generate_video_content??a?.generate_video_results_content??a?.search_tabs_content??a?.search_tabs_results_content??a?.create_app_results_content??a?.browser_close_tabs_content??a?.browser_close_tabs_results_content??a?.update_calendar_response_content??a?.browser_group_tabs_content??a?.browser_group_tabs_results_content??a?.create_chart_content??a?.get_url_content_content??a?.create_client_app_content??a?.get_user_info_content??a?.get_user_info_response_content??a?.get_free_busy_content??a?.get_free_busy_response_content??a?.send_gmail_content??a?.send_gmail_response_content??a?.browser_ungroup_content??a?.browser_search_tab_groups_content??a?.browser_search_tab_groups_result_content??a?.search_browser_content??a?.search_browser_results_content??a?.clarifying_questions_content??a?.clarifying_questions_output_content??a?.gmail_gcal_agent_content??a?.mcp_tool_input_content??a?.mcp_tool_output_content??a?.blocking_clarifying_questions_content??a?.create_tasks_content??a?.create_tasks_response_content??{},assets:a.assets}))).flat()},fyt=e=>e?.filter(t=>t.reasoning_plan_block&&t.intended_usage==="reasoning_plan").map(t=>t.reasoning_plan_block),hyt=e=>{let t=!1;if(e&&e.length>0){const n=new Map;for(const a of e){if(a.goals){for(const i of a.goals)if(i.id)if(n.has(i.id)){const l=n.get(i.id);l.description+=i.description,n.set(i.id,l)}else n.set(i.id,{...i})}t=a.progress==="DONE"}const r=Array.from(n.values()),s=e.flatMap(a=>a.web_results??Fe);return{goals:r,web_results:s,final:t}}};function myt(e){const t={},n=[];return e?.forEach(r=>{if(r.widget_block){const s=t[r.intended_usage]??n.length;t[r.intended_usage]=s,n[s]=Fct(n[s],r.widget_block)}}),n}function pyt(e){return(e?.filter(t=>t.media_block).flatMap(t=>t.media_block.media_items)??[]).filter(t=>!t.sponsored_uuid)}function gyt(e=Fe){return e.reduce((t,n)=>{if(n.is_code_interpreter&&n.is_image)t.codeInterpreterImages.push(n);else{const r=n.meta_data?.source==="quartr"?{...n,snippet:""}:n;t.webResultsStandard.push(r)}return t},{webResultsStandard:[],codeInterpreterImages:[]})}function vyt(e){return e?.flatMap(t=>t.inline_entity_block?.knowledge_card_block?t.inline_entity_block.knowledge_card_block.knowledge_cards:t.knowledge_card_block?t.knowledge_card_block.knowledge_cards:[])??[]}function yyt(e){return e??Fe}function xyt(e){return e?.filter(t=>t.citation_block).flatMap(t=>t.citation_block.citations)??Fe}function byt(e){const t=e?.find(n=>n?.inline_entity_block?.finance_inline_block&&n.intended_usage==="answer_finance_widget")?.inline_entity_block?.finance_inline_block;if(t!==void 0)return{object:"FinanceWidget",data:t.data_json.map(n=>JSON.parse(n))}}function wyt(e){const t=e?.map(s=>s.widget_block)?.find(s=>s?.widget_type==="sports");if(!t?.sports_widget_block?.data)return;const r=t.sports_widget_block.data;switch(r.object){case"SportsEventsWidget":return r;case"SportsIndvScheduleWidget":return r;case"SportsStandingsWidget":return r;case"SportsIndvEventsWidget":return r;default:return}}function _yt(e){if(!e)return;const t=e?.find(n=>n.widget_block?.search_result_widget_block?.metadata?.object==="WeatherWidget");if(!(!t||!t.widget_block?.search_result_widget_block))return t.widget_block.search_result_widget_block.metadata}function Cyt(e){if(!e)return;const t=e?.find(n=>n.widget_block?.search_result_widget_block?.metadata?.object==="TimeWidget");if(!(!t||!t.widget_block?.search_result_widget_block))return t.widget_block.search_result_widget_block.metadata}function Syt(e){if(!e)return;const t=e?.find(n=>n.widget_block?.search_result_widget_block?.metadata?.object==="CalculatorWidget");if(!(!t||!t.widget_block?.search_result_widget_block))return t.widget_block.search_result_widget_block.metadata}function Myt(e,t){return e&&e.length>0?e.map(n=>({name:n.widget_type||"",url:"",snippet:"",timestamp:"",meta_data:{object:n.widget_type||"unknown",...n},is_attachment:!1,is_image:!1,is_code_interpreter:!1,is_knowledge_card:!1,is_navigational:!1,is_widget:!0,sitelinks:[],inline_entity_id:""})):t||[]}function kyt(e){const t=e.find(r=>r?.meta_data?.object==="TableWidget");return t?t.meta_data.search_results:Fe}function Eyt(e){return e.filter(t=>wSe.includes(t?.meta_data?.object))}function Tyt(e){return e.filter(t=>!wSe.includes(t?.meta_data?.object))}function Nyt(e){const t=e?.find(n=>n.widget_block?.search_result_widget_block?.metadata?.object==="TaskWidget");if(!(!t||!t.widget_block?.search_result_widget_block))return t.widget_block.search_result_widget_block.metadata}function jyt(e){if(!e)return;const t=e?.find(n=>n.widget_block?.search_result_widget_block?.metadata?.object==="FlightStatusWidget");if(!(!t||!t.widget_block?.search_result_widget_block))return t.widget_block.search_result_widget_block.metadata}function Ayt(e){if(!e?.length)return[];const t=[];return e.forEach(n=>{n.intended_usage==="pro_search_steps"&&n.plan_block?.steps&&n.plan_block.steps.forEach(r=>{r.clarifying_questions_output_content?.clarification&&t.push(r.clarifying_questions_output_content.clarification)})}),t}const Vs=e=>e.result,ea=zt.makeSelector(e=>uyt(e(Vs))),Ryt=zt.makeSelector(e=>e(Vs).mode),_U=zt.makeSelector(e=>e(Vs).display_model),Lyt=zt.makeSelector(e=>!!e(Vs).is_pro_reasoning_mode),Oyt=zt.makeSelector(e=>e(Vs).search_implementation_mode),_Se=zt.makeSelector(e=>An.isStatusFailed(e(Vs))),Pyt=zt.makeSelector(e=>An.isStatusPending(e(Vs))),Iyt=zt.makeSelector(e=>e(Vs).plan),CSe=zt.makeSelector(e=>e(Vs).widget_data??Fe),Dyt=zt.makeSelector(e=>e(Vs).form),QC=zt.makeSelector(e=>An.parseAskTextField(e(Vs))??void 0),Fyt=zt.makeSelector(e=>An.isStatusPending(e(Vs))),Uyt=zt.makeSelector(e=>Aht(e(Vs))),Byt=zt.makeSelector(e=>e(Vs).expect_search_results),CR=zt.makeSelector(e=>{const t=e(QC);return t?An.hasAnswer(t):!1}),Vyt=zt.makeSelector(e=>e(kSe).length>0),s6=zt.makeSelector(e=>dyt(e(ea))),CU=zt.makeSelector(e=>cyt(e(ea),e(Iyt))),zyt=zt.makeSelector(e=>fyt(e(ea))),SR=zt.makeSelector(e=>hyt(e(zyt))),SU=zt.makeSelector(e=>Us(e(_U))),SSe=zt.makeSelector(e=>e(ASe)!==void 0),Hyt=zt.makeSelector(e=>{const t=e(SU),n=An.parseStructuredAnswerBlocks(e(Vs));return n!==null&&n.some(r=>r.intended_usage==="answer_generated_image"||r.intended_usage==="answer_generated_video")&&t===_e.SEARCH}),MSe=zt.makeSelector(e=>myt(e(ea))),kSe=zt.makeSelector(e=>gyt(e(QC)?.web_results).webResultsStandard),ESe=zt.makeSelector(e=>_yt(e(ea))),TSe=zt.makeSelector(e=>Cyt(e(ea))),NSe=zt.makeSelector(e=>Syt(e(ea))),jSe=zt.makeSelector(e=>jyt(e(ea))),XC=zt.makeSelector(e=>Myt(e(MSe),e(CSe))),Wyt=zt.makeSelector(e=>Lht(e(ea),e(_U),e(s6))),$yt=zt.makeSelector(e=>e(QC)?.answer==="Answer skipped."||e(ea).some(t=>t.markdown_block?.answer==="Answer skipped.")),qyt=zt.makeSelector(e=>e(Ryt)===Qp.COPILOT||e(s6)!=null&&e(s6).length>0),ASe=zt.makeSelector(e=>{const t=e(Dyt);if(t&&Rht(t))return t}),Gyt=zt.makeSelector(e=>e(_Se)?Fe:pyt(e(ea))),Yyt=zt.makeSelector(e=>{const t=e(CU);return!!t&&t.goals.some(n=>n.id==="fast-search-goal")}),Kyt=zt.makeSelector(e=>e(Vs).attachment_processing_progress??Fe);zt.makeSelector(e=>e(Vs).attachments??Fe);const RSe=zt.makeSelector(e=>!!e(Kyt).length),Qyt=zt.makeSelector(e=>e(_U)===Re.O3_PRO&&!e(CR)?!0:e(Yyt)&&!e(SR)?!1:!!(!e(SSe)&&!e(CR)&&(e(CU)||e(SR)||e(SU)!==_e.SEARCH||e(Oyt)==="multi_step"||e(RSe)))),Xyt=zt.makeSelector(e=>vyt(e(ea))),Zyt=zt.makeSelector(e=>yyt(e(Vs).related_query_items)),Jyt=zt.makeSelector(e=>xyt(e(ea))),LSe=zt.makeSelector(e=>byt(e(ea))),OSe=zt.makeSelector(e=>wyt(e(ea))),PSe=zt.makeSelector(e=>kyt(e(XC))),ext=zt.makeSelector(e=>Eyt(e(XC))),txt=zt.makeSelector(e=>Tyt(e(XC))),nxt=zt.makeSelector(e=>oyt(e(XC),e(MSe))),rxt=zt.makeSelector(e=>[...e(kSe),...e(PSe)]),sxt=zt.makeSelector(e=>Nyt(e(ea))),axt=zt.makeSelector(e=>{const t=e(OSe),n=e(LSe),r=e(ESe),s=e(TSe),a=e(NSe),i=e(jSe);return!!(t||n||r||s||a||i)}),ixt=zt.makeSelector(e=>Ayt(e(ea))),ISe=e=>{const{idx:t,result:n,inFlight:r,isLastResult:s,isFirstResult:a,scrollToListItem:i,submitQuery:l,pendingClarifications:c=[]}=e,u=ixt(e),d=n.backend_uuid?c.filter(m=>m.entryUUID===n.backend_uuid).map(m=>m.content):[],h=Array.from(new Set([...u,...d]));return{idx:t,result:n,inFlight:r,isLastResult:s,isFirstResult:a,scrollToListItem:i,submitQuery:l,isPending:Pyt(e),isFinalStep:Wyt(e),isFailed:_Se(e),isProReasoningMode:Lyt(e),widgetData:CSe(e),response:QC(e),isEntryInFlight:Fyt(e),hasLLMToken:Uyt(e),isAnswerSkipped:$yt(e),expectWebResults:Byt(e),steps:s6(e),researchPlan:CU(e),reasoningPlan:SR(e),searchMode:SU(e),hasPrompt:SSe(e),hasMediaOnlyLayout:Hyt(e),hasAnswer:CR(e),hasWebResults:Vyt(e),weatherWidgetData:ESe(e),timeWidgetData:TSe(e),calculatorWidgetData:NSe(e),flightStatusWidgetData:jSe(e),isCopilot:qyt(e),generativeForm:ASe(e),mediaItems:Gyt(e),hasPendingFiles:RSe(e),showAgentWorkflow:Qyt(e),knowledgeCards:Xyt(e),relatedQueryItems:Zyt(e),webResultCitations:Jyt(e),financeWidgetData:LSe(e),sportsWidgetData:OSe(e),tableWebResults:PSe(e),highPriorityWidgets:ext(e),lowPriorityWidgets:txt(e),groupedEntityWidgets:nxt(e),webResults:rxt(e),taskWidgetData:sxt(e),hasFastWidget:axt(e),userClarifications:h}},oxt=e=>uo()((n,r)=>({editQueryValue:e.result?.query_str??"",isEditingQuery:!1,isStatusUpdaterOpen:!1,wasStatusUpdaterManuallyOpened:!1,...ISe(e),actions:{setEditQueryValue:s=>n({editQueryValue:s}),setIsEditingQuery:s=>n({isEditingQuery:s}),setStatusUpdaterOpen:s=>n({isStatusUpdaterOpen:s}),setWasStatusUpdaterManuallyOpened:s=>n({wasStatusUpdaterManuallyOpened:s}),handleSourcesCuration:s=>{r().result?.frontend_context_uuid&&(r().result?.backend_uuid&&r().scrollToListItem?.(r().result.backend_uuid,{smooth:!0}),r().submitQuery({existingEntryUUID:r().result?.backend_uuid??void 0,newFrontendContextUUID:null,existingFrontendContextUUID:r().result?.frontend_context_uuid,deletedUrls:s,rawQuery:r().result?.query_str??"",existingUuid:r().result?.uuid??void 0,collection:null,promptSource:"user",querySource:"citation_modal"}))}}})),{Context:lxt,useTrackedState:cxt}=Nx("ThreadEntry"),DSe=L.memo(({idx:e,children:t,result:n,inFlight:r,isLastResult:s,isFirstResult:a,scrollToListItem:i,submitQuery:l})=>{const c=f.useRef(r),{trackEvent:u}=um(),{pendingClarifications:d}=A_e(),[h]=f.useState(()=>oxt({idx:e,result:n,inFlight:r,isLastResult:s,isFirstResult:a,scrollToListItem:i,submitQuery:l,pendingClarifications:d})),g=h(v=>v.isFinalStep);return f.useEffect(()=>{const v=()=>{const w=setTimeout(()=>{u("engaged",{})},1e4);return()=>{clearTimeout(w)}},x=a&&s,b=c.current&&!r;if(x&&b&&g)return v();c.current=r},[r,g,s,a,u]),f.useEffect(()=>{h.setState(ISe({idx:e,result:n,inFlight:r,isLastResult:s,isFirstResult:a,scrollToListItem:i,submitQuery:l,pendingClarifications:d}))},[e,n,r,s,a,i,l,d,h]),o.jsx(lxt.Provider,{value:h,children:t})});DSe.displayName="ThreadEntryProvider";const Un=cxt;function ZC(){const{result:{frontend_uuid:e,frontend_context_uuid:t}}=Un(),n=uF(),r=n(e??"")??n(t);return f.useCallback((s,a)=>r?.addTiming(s,a),[r])}function FSe(){const{result:{frontend_uuid:e,frontend_context_uuid:t}}=Un(),n=uF(),r=n(e??"")??n(t);return f.useCallback((s,a)=>r?.addTimingOnce(s,a),[r])}const uxt=({widgetType:e,widgetName:t,widgetSize:n="full"})=>{const{trackEvent:r}=Ye(),{result:{backend_uuid:s,frontend_context_uuid:a}}=Un(),i=f.useMemo(()=>({widgetType:e,widgetName:t,widgetLocation:"thread",widgetSize:n,position:0,frontendUUID:a,entryUUID:s}),[e,t,s,a,n]),l=f.useCallback(()=>{r("widget viewed",i)},[r,i]),c=f.useCallback(()=>{r("widget hovered",i)},[r,i]),u=f.useCallback(d=>{r("widget selected",{...i,widgetCTA:{type:"internal_url",permalink:d}})},[r,i]);return f.useMemo(()=>({widgetViewed:l,widgetHovered:c,widgetSelected:u}),[l,c,u])},ac=L.memo(e=>{const{children:t,...n}=e,{widgetSelected:r,widgetViewed:s,widgetHovered:a}=uxt(n),i=f.useRef({hovered:!1,viewed:!1}),{ref:l,isIntersecting:c}=Hpe({threshold:.5,freezeOnceVisible:!0});f.useEffect(()=>{c&&!i.current.viewed&&(s(),i.current.viewed=!0)},[c,s]);const u=f.useCallback(()=>{i.current.hovered||(a(),i.current.hovered=!0)},[a]);return o.jsx("div",{ref:l,onMouseEnter:u,children:typeof t=="function"?t({widgetSelected:r}):t})});ac.displayName="WithThreadWidgetInteractionEvents";const USe=L.memo(e=>{const{data:t}=e,{menuItems:n}=$C();return t?.result==null?null:o.jsx(ac,{widgetType:"calculator",widgetName:"calculator",widgetSize:"full",children:o.jsx(Q,{className:"flex",children:o.jsxs("div",{className:"flex w-full items-center",children:[o.jsx(F,{color:"light",variant:"smallBold",children:o.jsx(Ne,{className:"mt-two text-2xl leading-none",icon:LHe,size:"sm"})}),o.jsx(F,{children:o.jsx(Q,{className:"pl-md font-mono text-2xl",children:gut(t.result)})}),n&&n.length>0&&o.jsx("div",{className:"flex grow items-start justify-end",children:o.jsx(Wr.Menu,{menuItems:n})})]})})})});USe.displayName="CalculatorWidget";function zh(e){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(e)}function vr(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Mt(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Dt(e){Mt(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||zh(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Za(e,t){Mt(2,arguments);var n=Dt(e),r=vr(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function $o(e,t){Mt(2,arguments);var n=Dt(e),r=vr(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),a=new Date(n.getTime());a.setMonth(n.getMonth()+r+1,0);var i=a.getDate();return s>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),s),n)}function wv(e,t){if(Mt(2,arguments),!t||zh(t)!=="object")return new Date(NaN);var n=t.years?vr(t.years):0,r=t.months?vr(t.months):0,s=t.weeks?vr(t.weeks):0,a=t.days?vr(t.days):0,i=t.hours?vr(t.hours):0,l=t.minutes?vr(t.minutes):0,c=t.seconds?vr(t.seconds):0,u=Dt(e),d=r||n?$o(u,r+n*12):u,h=a||s?Za(d,a+s*7):d,m=l+i*60,g=c+m*60,v=g*1e3,x=new Date(h.getTime()+v);return x}function dxt(e,t){Mt(2,arguments);var n=Dt(e).getTime(),r=vr(t);return new Date(n+r)}var fxt={};function pf(){return fxt}function Gl(e,t){var n,r,s,a,i,l,c,u;Mt(1,arguments);var d=pf(),h=vr((n=(r=(s=(a=t?.weekStartsOn)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Dt(e),g=m.getDay(),v=(g<h?7:0)+g-h;return m.setDate(m.getDate()-v),m.setHours(0,0,0,0),m}function Hh(e){return Mt(1,arguments),Gl(e,{weekStartsOn:1})}function hxt(e){Mt(1,arguments);var t=Dt(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var s=Hh(r),a=new Date(0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);var i=Hh(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function mxt(e){Mt(1,arguments);var t=hxt(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var r=Hh(n);return r}function Sy(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function $d(e){Mt(1,arguments);var t=Dt(e);return t.setHours(0,0,0,0),t}var pxt=864e5;function Nl(e,t){Mt(2,arguments);var n=$d(e),r=$d(t),s=n.getTime()-Sy(n),a=r.getTime()-Sy(r);return Math.round((s-a)/pxt)}function MR(e,t){Mt(2,arguments);var n=vr(t),r=n*7;return Za(e,r)}function gxt(e,t){Mt(2,arguments);var n=vr(t);return $o(e,n*12)}function vxt(e){Mt(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(zh(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var n;return t.forEach(function(r){var s=Dt(r);(n===void 0||n<s||isNaN(Number(s)))&&(n=s)}),n||new Date(NaN)}function yxt(e){Mt(1,arguments);var t;if(e&&typeof e.forEach=="function")t=e;else if(zh(e)==="object"&&e!==null)t=Array.prototype.slice.call(e);else return new Date(NaN);var n;return t.forEach(function(r){var s=Dt(r);(n===void 0||n>s||isNaN(s.getDate()))&&(n=s)}),n||new Date(NaN)}function n1(e,t){Mt(2,arguments);var n=Dt(e),r=Dt(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}var xxt=6e4,bxt=36e5;function Qs(e,t){Mt(2,arguments);var n=$d(e),r=$d(t);return n.getTime()===r.getTime()}function MU(e){return Mt(1,arguments),e instanceof Date||zh(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function wxt(e){if(Mt(1,arguments),!MU(e)&&typeof e!="number")return!1;var t=Dt(e);return!isNaN(Number(t))}function F1(e,t){Mt(2,arguments);var n=Dt(e),r=Dt(t),s=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return s*12+a}var _xt=6048e5;function Cxt(e,t,n){Mt(2,arguments);var r=Gl(e,n),s=Gl(t,n),a=r.getTime()-Sy(r),i=s.getTime()-Sy(s);return Math.round((a-i)/_xt)}function Sxt(e,t){Mt(2,arguments);var n=Dt(e),r=Dt(t);return n.getFullYear()-r.getFullYear()}function lJ(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function Mxt(e,t){Mt(2,arguments);var n=Dt(e),r=Dt(t),s=lJ(n,r),a=Math.abs(Nl(n,r));n.setDate(n.getDate()-s*a);var i=+(lJ(n,r)===-s),l=s*(a-i);return l===0?0:l}function kU(e,t){return Mt(2,arguments),Dt(e).getTime()-Dt(t).getTime()}var kxt={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},Ext="trunc";function EU(e){return kxt[Ext]}function Txt(e,t,n){Mt(2,arguments);var r=kU(e,t)/bxt;return EU()(r)}function Nxt(e,t,n){Mt(2,arguments);var r=kU(e,t)/xxt;return EU()(r)}function jxt(e){Mt(1,arguments);var t=Dt(e);return t.setHours(23,59,59,999),t}function JC(e){Mt(1,arguments);var t=Dt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Axt(e){Mt(1,arguments);var t=Dt(e);return jxt(t).getTime()===JC(t).getTime()}function Rxt(e,t){Mt(2,arguments);var n=Dt(e),r=Dt(t),s=n1(n,r),a=Math.abs(F1(n,r)),i;if(a<1)i=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*a);var l=n1(n,r)===-s;Axt(Dt(e))&&a===1&&n1(e,r)===1&&(l=!1),i=s*(a-Number(l))}return i===0?0:i}function Lxt(e,t,n){Mt(2,arguments);var r=kU(e,t)/1e3;return EU()(r)}function Oxt(e,t){Mt(2,arguments);var n=Dt(e),r=Dt(t),s=n1(n,r),a=Math.abs(Sxt(n,r));n.setFullYear(1584),r.setFullYear(1584);var i=n1(n,r)===-s,l=s*(a-Number(i));return l===0?0:l}function ti(e){Mt(1,arguments);var t=Dt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Pxt(e){Mt(1,arguments);var t=Dt(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function TU(e,t){var n,r,s,a,i,l,c,u;Mt(1,arguments);var d=pf(),h=vr((n=(r=(s=(a=t?.weekStartsOn)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Dt(e),g=m.getDay(),v=(g<h?-7:0)+6-(g-h);return m.setDate(m.getDate()+v),m.setHours(23,59,59,999),m}function BSe(e){return Mt(1,arguments),TU(e,{weekStartsOn:1})}function Ixt(e,t){Mt(2,arguments);var n=vr(t);return dxt(e,-n)}var Dxt=864e5;function Fxt(e){Mt(1,arguments);var t=Dt(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/Dxt)+1}function a6(e){Mt(1,arguments);var t=1,n=Dt(e),r=n.getUTCDay(),s=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function VSe(e){Mt(1,arguments);var t=Dt(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=a6(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var i=a6(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function Uxt(e){Mt(1,arguments);var t=VSe(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=a6(n);return r}var Bxt=6048e5;function Vxt(e){Mt(1,arguments);var t=Dt(e),n=a6(t).getTime()-Uxt(t).getTime();return Math.round(n/Bxt)+1}function i6(e,t){var n,r,s,a,i,l,c,u;Mt(1,arguments);var d=pf(),h=vr((n=(r=(s=(a=t?.weekStartsOn)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Dt(e),g=m.getUTCDay(),v=(g<h?7:0)+g-h;return m.setUTCDate(m.getUTCDate()-v),m.setUTCHours(0,0,0,0),m}function zSe(e,t){var n,r,s,a,i,l,c,u;Mt(1,arguments);var d=Dt(e),h=d.getUTCFullYear(),m=pf(),g=vr((n=(r=(s=(a=t?.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&r!==void 0?r:(c=m.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(h+1,0,g),v.setUTCHours(0,0,0,0);var x=i6(v,t),b=new Date(0);b.setUTCFullYear(h,0,g),b.setUTCHours(0,0,0,0);var w=i6(b,t);return d.getTime()>=x.getTime()?h+1:d.getTime()>=w.getTime()?h:h-1}function zxt(e,t){var n,r,s,a,i,l,c,u;Mt(1,arguments);var d=pf(),h=vr((n=(r=(s=(a=t?.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=zSe(e,t),g=new Date(0);g.setUTCFullYear(m,0,h),g.setUTCHours(0,0,0,0);var v=i6(g,t);return v}var Hxt=6048e5;function Wxt(e,t){Mt(1,arguments);var n=Dt(e),r=i6(n,t).getTime()-zxt(n,t).getTime();return Math.round(r/Hxt)+1}function qn(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var id={y:function(t,n){var r=t.getUTCFullYear(),s=r>0?r:1-r;return qn(n==="yy"?s%100:s,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):qn(r+1,2)},d:function(t,n){return qn(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return qn(t.getUTCHours()%12||12,n.length)},H:function(t,n){return qn(t.getUTCHours(),n.length)},m:function(t,n){return qn(t.getUTCMinutes(),n.length)},s:function(t,n){return qn(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,s=t.getUTCMilliseconds(),a=Math.floor(s*Math.pow(10,r-3));return qn(a,n.length)}},ip={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$xt={G:function(t,n,r){var s=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var s=t.getUTCFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return id.y(t,n)},Y:function(t,n,r,s){var a=zSe(t,s),i=a>0?a:1-a;if(n==="YY"){var l=i%100;return qn(l,2)}return n==="Yo"?r.ordinalNumber(i,{unit:"year"}):qn(i,n.length)},R:function(t,n){var r=VSe(t);return qn(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return qn(r,n.length)},Q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return qn(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,n,r){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return qn(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,n,r){var s=t.getUTCMonth();switch(n){case"M":case"MM":return id.M(t,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,n,r){var s=t.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return qn(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,n,r,s){var a=Wxt(t,s);return n==="wo"?r.ordinalNumber(a,{unit:"week"}):qn(a,n.length)},I:function(t,n,r){var s=Vxt(t);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):qn(s,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):id.d(t,n)},D:function(t,n,r){var s=Fxt(t);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):qn(s,n.length)},E:function(t,n,r){var s=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,n,r,s){var a=t.getUTCDay(),i=(a-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(i);case"ee":return qn(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,n,r,s){var a=t.getUTCDay(),i=(a-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(i);case"cc":return qn(i,n.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,n,r){var s=t.getUTCDay(),a=s===0?7:s;switch(n){case"i":return String(a);case"ii":return qn(a,n.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,n,r){var s=t.getUTCHours(),a=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,n,r){var s=t.getUTCHours(),a;switch(s===12?a=ip.noon:s===0?a=ip.midnight:a=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,n,r){var s=t.getUTCHours(),a;switch(s>=17?a=ip.evening:s>=12?a=ip.afternoon:s>=4?a=ip.morning:a=ip.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return id.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):id.H(t,n)},K:function(t,n,r){var s=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):qn(s,n.length)},k:function(t,n,r){var s=t.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):qn(s,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):id.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):id.s(t,n)},S:function(t,n){return id.S(t,n)},X:function(t,n,r,s){var a=s._originalDate||t,i=a.getTimezoneOffset();if(i===0)return"Z";switch(n){case"X":return uJ(i);case"XXXX":case"XX":return ih(i);case"XXXXX":case"XXX":default:return ih(i,":")}},x:function(t,n,r,s){var a=s._originalDate||t,i=a.getTimezoneOffset();switch(n){case"x":return uJ(i);case"xxxx":case"xx":return ih(i);case"xxxxx":case"xxx":default:return ih(i,":")}},O:function(t,n,r,s){var a=s._originalDate||t,i=a.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+cJ(i,":");case"OOOO":default:return"GMT"+ih(i,":")}},z:function(t,n,r,s){var a=s._originalDate||t,i=a.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+cJ(i,":");case"zzzz":default:return"GMT"+ih(i,":")}},t:function(t,n,r,s){var a=s._originalDate||t,i=Math.floor(a.getTime()/1e3);return qn(i,n.length)},T:function(t,n,r,s){var a=s._originalDate||t,i=a.getTime();return qn(i,n.length)}};function cJ(e,t){var n=e>0?"-":"+",r=Math.abs(e),s=Math.floor(r/60),a=r%60;if(a===0)return n+String(s);var i=t;return n+String(s)+i+qn(a,2)}function uJ(e,t){if(e%60===0){var n=e>0?"-":"+";return n+qn(Math.abs(e)/60,2)}return ih(e,t)}function ih(e,t){var n=t||"",r=e>0?"-":"+",s=Math.abs(e),a=qn(Math.floor(s/60),2),i=qn(s%60,2);return r+a+n+i}var dJ=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},HSe=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},qxt=function(t,n){var r=t.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return dJ(t,n);var i;switch(s){case"P":i=n.dateTime({width:"short"});break;case"PP":i=n.dateTime({width:"medium"});break;case"PPP":i=n.dateTime({width:"long"});break;case"PPPP":default:i=n.dateTime({width:"full"});break}return i.replace("{{date}}",dJ(s,n)).replace("{{time}}",HSe(a,n))},Gxt={p:HSe,P:qxt},Yxt=["D","DD"],Kxt=["YY","YYYY"];function Qxt(e){return Yxt.indexOf(e)!==-1}function Xxt(e){return Kxt.indexOf(e)!==-1}function fJ(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Zxt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Jxt=function(t,n,r){var s,a=Zxt[t];return typeof a=="string"?s=a:n===1?s=a.one:s=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Kk(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var ebt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tbt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nbt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rbt={date:Kk({formats:ebt,defaultWidth:"full"}),time:Kk({formats:tbt,defaultWidth:"full"}),dateTime:Kk({formats:nbt,defaultWidth:"full"})},sbt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},abt=function(t,n,r,s){return sbt[t]};function _v(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,i=n!=null&&n.width?String(n.width):a;s=e.formattingValues[i]||e.formattingValues[a]}else{var l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var ibt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},obt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lbt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cbt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ubt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dbt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fbt=function(t,n){var r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},hbt={ordinalNumber:fbt,era:_v({values:ibt,defaultWidth:"wide"}),quarter:_v({values:obt,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:_v({values:lbt,defaultWidth:"wide"}),day:_v({values:cbt,defaultWidth:"wide"}),dayPeriod:_v({values:ubt,defaultWidth:"wide",formattingValues:dbt,defaultFormattingWidth:"wide"})};function Cv(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;var i=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?pbt(l,function(h){return h.test(i)}):mbt(l,function(h){return h.test(i)}),u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(i.length);return{value:u,rest:d}}}function mbt(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function pbt(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function gbt(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var s=r[0],a=t.match(e.parsePattern);if(!a)return null;var i=e.valueCallback?e.valueCallback(a[0]):a[0];i=n.valueCallback?n.valueCallback(i):i;var l=t.slice(s.length);return{value:i,rest:l}}}var vbt=/^(\d+)(th|st|nd|rd)?/i,ybt=/\d+/i,xbt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bbt={any:[/^b/i,/^(a|c)/i]},wbt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_bt={any:[/1/i,/2/i,/3/i,/4/i]},Cbt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Sbt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Mbt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kbt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ebt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Tbt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Nbt={ordinalNumber:gbt({matchPattern:vbt,parsePattern:ybt,valueCallback:function(t){return parseInt(t,10)}}),era:Cv({matchPatterns:xbt,defaultMatchWidth:"wide",parsePatterns:bbt,defaultParseWidth:"any"}),quarter:Cv({matchPatterns:wbt,defaultMatchWidth:"wide",parsePatterns:_bt,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Cv({matchPatterns:Cbt,defaultMatchWidth:"wide",parsePatterns:Sbt,defaultParseWidth:"any"}),day:Cv({matchPatterns:Mbt,defaultMatchWidth:"wide",parsePatterns:kbt,defaultParseWidth:"any"}),dayPeriod:Cv({matchPatterns:Ebt,defaultMatchWidth:"any",parsePatterns:Tbt,defaultParseWidth:"any"})},WSe={code:"en-US",formatDistance:Jxt,formatLong:rbt,formatRelative:abt,localize:hbt,match:Nbt,options:{weekStartsOn:0,firstWeekContainsDate:1}},jbt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Abt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rbt=/^'([^]*?)'?$/,Lbt=/''/g,Obt=/[a-zA-Z]/;function gf(e,t,n){var r,s,a,i,l,c,u,d,h,m,g,v,x,b,w,C,S,k;Mt(2,arguments);var E=String(t),T=pf(),j=(r=(s=n?.locale)!==null&&s!==void 0?s:T.locale)!==null&&r!==void 0?r:WSe,N=vr((a=(i=(l=(c=n?.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:T.firstWeekContainsDate)!==null&&i!==void 0?i:(h=T.locale)===null||h===void 0||(m=h.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(N>=1&&N<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=vr((g=(v=(x=(b=n?.weekStartsOn)!==null&&b!==void 0?b:n==null||(w=n.locale)===null||w===void 0||(C=w.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&x!==void 0?x:T.weekStartsOn)!==null&&v!==void 0?v:(S=T.locale)===null||S===void 0||(k=S.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&g!==void 0?g:0);if(!(R>=0&&R<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!j.localize)throw new RangeError("locale must contain localize property");if(!j.formatLong)throw new RangeError("locale must contain formatLong property");var O=Dt(e);if(!wxt(O))throw new RangeError("Invalid time value");var I=Sy(O),B=Ixt(O,I),D={firstWeekContainsDate:N,weekStartsOn:R,locale:j,_originalDate:O},z=E.match(Abt).map(function(V){var U=V[0];if(U==="p"||U==="P"){var H=Gxt[U];return H(V,j.formatLong)}return V}).join("").match(jbt).map(function(V){if(V==="''")return"'";var U=V[0];if(U==="'")return Pbt(V);var H=$xt[U];if(H)return!(n!=null&&n.useAdditionalWeekYearTokens)&&Xxt(V)&&fJ(V,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Qxt(V)&&fJ(V,t,String(e)),H(B,V,j.localize,D);if(U.match(Obt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+U+"`");return V}).join("");return z}function Pbt(e){var t=e.match(Rbt);return t?t[1].replace(Lbt,"'"):e}function Ibt(e){Mt(1,arguments);var t=Dt(e),n=t.getFullYear(),r=t.getMonth(),s=new Date(0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}var Dbt=6048e5;function Fbt(e){Mt(1,arguments);var t=Dt(e),n=Hh(t).getTime()-mxt(t).getTime();return Math.round(n/Dbt)+1}function Ubt(e){Mt(1,arguments);var t=Dt(e),n=t.getTime();return n}function Bbt(e){return Mt(1,arguments),Math.floor(Ubt(e)/1e3)}function Vbt(e,t){var n,r,s,a,i,l,c,u;Mt(1,arguments);var d=Dt(e),h=d.getFullYear(),m=pf(),g=vr((n=(r=(s=(a=t?.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&r!==void 0?r:(c=m.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(h+1,0,g),v.setHours(0,0,0,0);var x=Gl(v,t),b=new Date(0);b.setFullYear(h,0,g),b.setHours(0,0,0,0);var w=Gl(b,t);return d.getTime()>=x.getTime()?h+1:d.getTime()>=w.getTime()?h:h-1}function zbt(e,t){var n,r,s,a,i,l,c,u;Mt(1,arguments);var d=pf(),h=vr((n=(r=(s=(a=t?.firstWeekContainsDate)!==null&&a!==void 0?a:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=Vbt(e,t),g=new Date(0);g.setFullYear(m,0,h),g.setHours(0,0,0,0);var v=Gl(g,t);return v}var Hbt=6048e5;function Wbt(e,t){Mt(1,arguments);var n=Dt(e),r=Gl(n,t).getTime()-zbt(n,t).getTime();return Math.round(r/Hbt)+1}function $bt(e){Mt(1,arguments);var t=Dt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function qbt(e,t){return Mt(1,arguments),Cxt($bt(e),ti(e),t)+1}function Gbt(e){Mt(1,arguments);var t=Dt(e.start),n=Dt(e.end);if(isNaN(t.getTime()))throw new RangeError("Start Date is invalid");if(isNaN(n.getTime()))throw new RangeError("End Date is invalid");var r={};r.years=Math.abs(Oxt(n,t));var s=n1(n,t),a=wv(t,{years:s*r.years});r.months=Math.abs(Rxt(n,a));var i=wv(a,{months:s*r.months});r.days=Math.abs(Mxt(n,i));var l=wv(i,{days:s*r.days});r.hours=Math.abs(Txt(n,l));var c=wv(l,{hours:s*r.hours});r.minutes=Math.abs(Nxt(n,c));var u=wv(c,{minutes:s*r.minutes});return r.seconds=Math.abs(Lxt(n,u)),r}function $Se(e,t){Mt(2,arguments);var n=Dt(e),r=Dt(t);return n.getTime()>r.getTime()}function qSe(e,t){Mt(2,arguments);var n=Dt(e),r=Dt(t);return n.getTime()<r.getTime()}function NU(e,t){Mt(2,arguments);var n=Dt(e),r=Dt(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Ybt(e,t){Mt(2,arguments);var n=Dt(e),r=Dt(t);return n.getFullYear()===r.getFullYear()}function GSe(e){return Mt(1,arguments),Qs(e,Date.now())}function Kbt(e){return Mt(1,arguments),Qs(e,Za(Date.now(),1))}function kR(e,t){Mt(2,arguments);var n=vr(t);return Za(e,-n)}function Qbt(e){return Mt(1,arguments),Qs(e,kR(Date.now(),1))}function Qk(e,t){Mt(2,arguments);var n=Dt(e),r=vr(t),s=n.getFullYear(),a=n.getDate(),i=new Date(0);i.setFullYear(s,r,15),i.setHours(0,0,0,0);var l=Ibt(i);return n.setMonth(r,Math.min(a,l)),n}function hJ(e,t){Mt(2,arguments);var n=Dt(e),r=vr(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}var E4={exports:{}},mJ;function Xbt(){return mJ||(mJ=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var s=Number(r);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}e.exports=t.default}(E4,E4.exports)),E4.exports}var T4={exports:{}},pJ;function Zbt(){return pJ||(pJ=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){var s=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return s.setUTCFullYear(r.getFullYear()),r.getTime()-s.getTime()}e.exports=t.default}(T4,T4.exports)),T4.exports}function Jbt(e,t){var n=r3t(t);return n.formatToParts?t3t(n,e):n3t(n,e)}var e3t={year:0,month:1,day:2,hour:3,minute:4,second:5};function t3t(e,t){try{for(var n=e.formatToParts(t),r=[],s=0;s<n.length;s++){var a=e3t[n[s].type];a>=0&&(r[a]=parseInt(n[s].value,10))}return r}catch(i){if(i instanceof RangeError)return[NaN];throw i}}function n3t(e,t){var n=e.format(t),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var Xk={};function r3t(e){if(!Xk[e]){var t=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";Xk[e]=n?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return Xk[e]}function YSe(e,t,n,r,s,a,i){var l=new Date(0);return l.setUTCFullYear(e,t,n),l.setUTCHours(r,s,a,i),l}var gJ=36e5,s3t=6e4,Zk={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function KSe(e,t,n){var r,s;if(!e||(r=Zk.timezoneZ.exec(e),r))return 0;var a;if(r=Zk.timezoneHH.exec(e),r)return a=parseInt(r[1],10),vJ(a)?-(a*gJ):NaN;if(r=Zk.timezoneHHMM.exec(e),r){a=parseInt(r[2],10);var i=parseInt(r[3],10);return vJ(a,i)?(s=Math.abs(a)*gJ+i*s3t,r[1]==="+"?-s:s):NaN}if(o3t(e)){t=new Date(t||Date.now());var l=n?t:a3t(t),c=ER(l,e),u=n?c:i3t(t,c,e);return-u}return NaN}function a3t(e){return YSe(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function ER(e,t){var n=Jbt(e,t),r=YSe(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),s=e.getTime(),a=s%1e3;return s-=a>=0?a:1e3+a,r-s}function i3t(e,t,n){var r=e.getTime(),s=r-t,a=ER(new Date(s),n);if(t===a)return t;s-=a-t;var i=ER(new Date(s),n);return a===i?a:Math.max(a,i)}function vJ(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var yJ={};function o3t(e){if(yJ[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),yJ[e]=!0,!0}catch{return!1}}var l3t=Xbt();const c3t=Js(l3t);var u3t=Zbt();const xJ=Js(u3t);var d3t=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,Jk=36e5,bJ=6e4,f3t=2,Ea={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:d3t};function h3t(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var n={},r=n.additionalDigits==null?f3t:c3t(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var s=m3t(e),a=p3t(s.date,r),i=a.year,l=a.restDateString,c=g3t(l,i);if(isNaN(c))return new Date(NaN);if(c){var u=c.getTime(),d=0,h;if(s.time&&(d=v3t(s.time),isNaN(d)))return new Date(NaN);if(s.timeZone||n.timeZone){if(h=KSe(s.timeZone||n.timeZone,new Date(u+d)),isNaN(h))return new Date(NaN)}else h=xJ(new Date(u+d)),h=xJ(new Date(u+d+h));return new Date(u+d+h)}else return new Date(NaN)}function m3t(e){var t={},n=Ea.dateTimePattern.exec(e),r;if(n?(t.date=n[1],r=n[3]):(n=Ea.datePattern.exec(e),n?(t.date=n[1],r=n[2]):(t.date=null,r=e)),r){var s=Ea.timeZone.exec(r);s?(t.time=r.replace(s[1],""),t.timeZone=s[1].trim()):t.time=r}return t}function p3t(e,t){var n=Ea.YYY[t],r=Ea.YYYYY[t],s;if(s=Ea.YYYY.exec(e)||r.exec(e),s){var a=s[1];return{year:parseInt(a,10),restDateString:e.slice(a.length)}}if(s=Ea.YY.exec(e)||n.exec(e),s){var i=s[1];return{year:parseInt(i,10)*100,restDateString:e.slice(i.length)}}return{year:null}}function g3t(e,t){if(t===null)return null;var n,r,s,a;if(e.length===0)return r=new Date(0),r.setUTCFullYear(t),r;if(n=Ea.MM.exec(e),n)return r=new Date(0),s=parseInt(n[1],10)-1,_J(t,s)?(r.setUTCFullYear(t,s),r):new Date(NaN);if(n=Ea.DDD.exec(e),n){r=new Date(0);var i=parseInt(n[1],10);return b3t(t,i)?(r.setUTCFullYear(t,0,i),r):new Date(NaN)}if(n=Ea.MMDD.exec(e),n){r=new Date(0),s=parseInt(n[1],10)-1;var l=parseInt(n[2],10);return _J(t,s,l)?(r.setUTCFullYear(t,s,l),r):new Date(NaN)}if(n=Ea.Www.exec(e),n)return a=parseInt(n[1],10)-1,CJ(t,a)?wJ(t,a):new Date(NaN);if(n=Ea.WwwD.exec(e),n){a=parseInt(n[1],10)-1;var c=parseInt(n[2],10)-1;return CJ(t,a,c)?wJ(t,a,c):new Date(NaN)}return null}function v3t(e){var t,n,r;if(t=Ea.HH.exec(e),t)return n=parseFloat(t[1].replace(",",".")),eE(n)?n%24*Jk:NaN;if(t=Ea.HHMM.exec(e),t)return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),eE(n,r)?n%24*Jk+r*bJ:NaN;if(t=Ea.HHMMSS.exec(e),t){n=parseInt(t[1],10),r=parseInt(t[2],10);var s=parseFloat(t[3].replace(",","."));return eE(n,r,s)?n%24*Jk+r*bJ+s*1e3:NaN}return null}function wJ(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var s=r.getUTCDay()||7,a=t*7+n+1-s;return r.setUTCDate(r.getUTCDate()+a),r}var y3t=[31,28,31,30,31,30,31,31,30,31,30,31],x3t=[31,29,31,30,31,30,31,31,30,31,30,31];function QSe(e){return e%400===0||e%4===0&&e%100!==0}function _J(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;var r=QSe(e);if(r&&n>x3t[t]||!r&&n>y3t[t])return!1}return!0}function b3t(e,t){if(t<1)return!1;var n=QSe(e);return!(n&&t>366||!n&&t>365)}function CJ(e,t,n){return!(t<0||t>52||n!=null&&(n<0||n>6))}function eE(e,t,n){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}function TR(e,t,n){var r=h3t(e,n),s=KSe(t,r,!0),a=new Date(r.getTime()-s),i=new Date(0);return i.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),i.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),i}const XSe=L.memo(({flights:e,selectedFlight:t,setSelectedFlight:n})=>{const{locale:r,$t:s}=ae(),{isMobileStyle:a}=qe(),i=f.useCallback(u=>{const d=new Date(u.departureTime),h=TR(d,u.departureTimezone);let m;if(GSe(h)?m=s({id:"zWgbGgjUUg",defaultMessage:"Today"}):Qbt(h)?m=s({id:"6dIxDP1C8c",defaultMessage:"Yesterday"}):Kbt(h)?m=s({id:"MtrTNyxuSU",defaultMessage:"Tomorrow"}):m=d.toLocaleDateString(r,{weekday:"short",month:"short",day:"numeric"}),e.filter(v=>{if(v.departureTimezone!==u.departureTimezone)return!1;const x=TR(new Date(v.departureTime),v.departureTimezone);return $d(x).getTime()===$d(h).getTime()}).length>1){const v=d.toLocaleTimeString(r,{hour:"numeric",minute:"2-digit"});m=s({id:"Fr3TxQz4BU",defaultMessage:"{dateString} - {timeString}"},{dateString:m,timeString:v})}return m},[r,e,s]),l=f.useMemo(()=>e.map(u=>({type:"default",text:i(u),value:u.flightAwareId,onClick:()=>n(u),active:u.flightAwareId===t?.flightAwareId})),[e,i,n,t?.flightAwareId]),c=f.useMemo(()=>t?i(t):"",[t,i]);return o.jsx("div",{children:o.jsx(Rn,{items:l,isMobileStyle:a,children:o.jsx(Le,{variant:"border",text:c,chevron:!0,pill:!0})})})});XSe.displayName="FlightStatusSwitcher";const Yv=(e,t,n)=>{const r=Gbt({start:e,end:t}),s=r.days||0,a=r.hours||0,i=r.minutes||0;return s>0?a===0&&i===0?n({id:"sSynIO3ThU",defaultMessage:"{days}d"},{days:s}):i===0?n({id:"10cSZzeWte",defaultMessage:"{days}d {hours}h"},{days:s,hours:a}):n({id:"OWk1HjddEb",defaultMessage:"{days}d {hours}h {minutes}m"},{days:s,hours:a,minutes:i.toString().padStart(2,"0")}):a===0?n({id:"VvfhE21OJI",defaultMessage:"{minutes}m"},{minutes:i}):i===0?n({id:"unuVj1l7KW",defaultMessage:"{hours}h"},{hours:a}):n({id:"0Yp4jJ7rzm",defaultMessage:"{hours}h {minutes}m"},{hours:a,minutes:i.toString().padStart(2,"0")})},ZSe=L.memo(({flightMetadata:e,departureTime:t,arrivalTime:n,actualDepartureTime:r,actualArrivalTime:s,estimatedDepartureTime:a,estimatedArrivalTime:i,delayed:l=!1,rightContent:c})=>{const{$t:u,locale:d}=ae(),h=f.useMemo(()=>new Date,[]),{cancelled:m,diverted:g,status:v,flightNumber:x,departureCity:b,departureAirport:w,arrivalAirport:C,arrivalCity:S}=e,k=f.useMemo(()=>t.toLocaleDateString(d,{month:"short",day:"numeric",year:"numeric"}),[t,d]),E=r||a||t,T=s||i||n,j=f.useMemo(()=>Yv(h,E,u),[h,E,u]),N=f.useMemo(()=>Yv(E,h,u),[h,E,u]),R=f.useMemo(()=>Yv(T,h,u),[h,T,u]),O=f.useMemo(()=>Yv(h,T,u),[h,T,u]),I=E<=h,B=T<=h,D=f.useMemo(()=>B?u({id:"mtuHNb+mRc",defaultMessage:"Arrived {time} ago"},{time:R}):I?u({id:"b6q320RasU",defaultMessage:"Departed {time} ago"},{time:N}):u({id:"/JLglYfuNX",defaultMessage:"Departing in {time}"},{time:j}),[I,B,j,N,R,u]),z=f.useMemo(()=>m?u({id:"3wsVWFbC1x",defaultMessage:"Cancelled"}):g?u({id:"/N1ZeWQc8B",defaultMessage:"Diverted"}):v,[m,g,u,v]);return o.jsxs("div",{className:"gap-sm flex flex-col justify-between sm:flex-row",children:[o.jsxs("div",{children:[o.jsx(F,{variant:"section-title",children:o.jsx(Ve,{id:"5KgWVKDR/R",defaultMessage:"{flightNumber} · {departureCity} ({departureAirport}) to {arrivalCity} ({arrivalAirport})",values:{flightNumber:x,departureCity:b,departureAirport:w,arrivalAirport:C,arrivalCity:S}})}),o.jsx("div",{className:"gap-sm flex flex-row",children:o.jsxs(cm,{className:"gap-xs flex flex-row flex-wrap",children:[o.jsx(Os,{id:"day",children:o.jsx(F,{variant:"smallBold",color:"light",children:k})}),!m&&o.jsx(Os,{id:"relative-departure-time",children:o.jsx(F,{variant:"smallBold",color:"light",children:D})}),I&&!B&&!m&&o.jsx(Os,{id:"relative-arrival-time",children:o.jsx(F,{variant:"smallBold",color:"light",children:o.jsx(Ve,{id:"z8jWKRSOak",defaultMessage:"Arriving in {time}",values:{time:O}})})}),o.jsx(Os,{id:"status",children:o.jsx(F,{variant:"smallBold",color:m||g||l?"negative":"super",children:z})})]})})]}),c]})});ZSe.displayName="FlightHeader";const fm=()=>{const{firstResult:{status:e,privacy_state:t}={}}=un(),n=mo(),{isIncognitoLocal:r}=On();return f.useMemo(()=>{if(!e)return!1;const s=!!t&&(r&&t!==iy.INCOGNITO||!r&&t===iy.INCOGNITO);return!n&&e!==Zs.PENDING||s},[r,t,n,e])},qg=()=>{const[e,t]=HF("deviceLocation",void 0),n=f.useCallback(a=>{t(a),a?(fn("lat",a.latitude.toString()),fn("long",a.longitude.toString())):(g1("lat"),g1("long"))},[t]),[r,s]=f.useState(void 0);return f.useEffect(()=>{if(!navigator.geolocation||!("permissions"in navigator))return;const a=()=>{navigator.geolocation.getCurrentPosition(i=>{n({latitude:i.coords.latitude,longitude:i.coords.longitude})},null,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})};navigator.permissions.query({name:"geolocation"}).then(i=>{s(i.state),i.state==="granted"?a():n(void 0),i.addEventListener("change",()=>{s(i.state),i.state==="denied"?n(void 0):i.state==="granted"&&a()})}).catch(()=>{})},[n]),f.useMemo(()=>({location:e,permissionStatus:r,isPreciseLocationEnabled:r==="granted"&&!isNaN(e?.latitude??0)&&!isNaN(e?.longitude??0)}),[e,r])},JSe=()=>{const e=Ln(),t=pr(),n=Bs(),r=f.useCallback(s=>{const a=!!s.last_backend_uuid,i=Us(s.model_preference)===_e.RESEARCH||Us(s.model_preference)===_e.STUDIO;return(s.sources?.some(c=>c==="web")??!0)&&e&&!a&&!t&&!i},[e,t]);return f.useCallback((s,a,i)=>{!s||!r(a)||n.injectSearchResults(s,i)},[n,r])},w3t=({inPage:e})=>e?window.getSelection()?.toString():void 0;function _3t(){const{value:e}=Wtt({flag:"client-context-max-chars",subjectType:"visitor_id",defaultValue:5e4});return e}function jU(){const{value:e}=qtt({flag:"max-file-upload-count",subjectType:"user_nextauth_id",defaultValue:10});return e}const C3t=[{id:"default",backend_name:"turbo",display_name:"Auto",description:"Adapts to each query",show_in_query_model_selector:!1,has_new_tag:!1,search_mode:"search",selector_section:null,subscription_tier:"free"},{id:"pro",backend_name:"pplx_pro",display_name:"Best",description:"Automatically selects the most responsive model based on the query",show_in_query_model_selector:!1,has_new_tag:!1,search_mode:"search",selector_section:null,subscription_tier:"pro"},{id:"pplx_pro_upgraded",backend_name:"pplx_pro_upgraded",display_name:"Best",description:"Automatically selects the most responsive model based on the query",show_in_query_model_selector:!1,has_new_tag:!1,search_mode:"search",selector_section:null,subscription_tier:"pro"},{id:"sonar",backend_name:"experimental",display_name:"Sonar",description:"Perplexity's fast model",show_in_query_model_selector:!0,has_new_tag:!1,search_mode:"search",selector_section:"answer",subscription_tier:"pro"},{id:"claude_2",backend_name:"claude2",display_name:"Claude 4.0 Sonnet",description:"Anthropic's advanced model",show_in_query_model_selector:!0,has_new_tag:!1,search_mode:"search",selector_section:"answer",subscription_tier:"pro"},{id:"gpt_4_1",backend_name:"gpt41",display_name:"GPT-4.1",description:"OpenAI's versatile model",show_in_query_model_selector:!0,has_new_tag:!1,search_mode:"search",selector_section:"answer",subscription_tier:"pro"},{id:"gemini_2_flash",backend_name:"gemini2flash",display_name:"Gemini 2.5 Pro 06-05",description:"Google's latest model",show_in_query_model_selector:!0,has_new_tag:!0,search_mode:"search",selector_section:"answer",subscription_tier:"pro"},{id:"r1",backend_name:"r1",display_name:"R1 1776",description:"Perplexity's unbiased reasoning model",show_in_query_model_selector:!0,has_new_tag:!1,search_mode:"search",selector_section:"reasoning",subscription_tier:"pro"},{id:"grok4",backend_name:"grok4",display_name:"Grok 4",description:"xAI's latest, most powerful reasoning model",show_in_query_model_selector:!0,has_new_tag:!0,search_mode:"search",selector_section:"reasoning",subscription_tier:"pro"},{id:"o3",backend_name:"o3",display_name:"o3",description:"OpenAI's reasoning model",show_in_query_model_selector:!0,has_new_tag:!1,search_mode:"search",selector_section:"reasoning",subscription_tier:"pro"},{id:"o3_pro",backend_name:"o3pro",display_name:"o3-pro",description:"OpenAI's most powerful reasoning model",show_in_query_model_selector:!0,has_new_tag:!1,search_mode:"search",selector_section:"reasoning",subscription_tier:"max"},{id:"claude_3_7_sonnet_thinking",backend_name:"claude37sonnetthinking",display_name:"Claude 4.0 Sonnet Thinking",description:"Anthropic's reasoning model",show_in_query_model_selector:!0,has_new_tag:!1,search_mode:"search",selector_section:"reasoning",subscription_tier:"pro"},{id:"claude_4_0_opus_thinking",backend_name:"claude40opusthinking",display_name:"Claude 4.0 Opus Thinking",description:"Anthropic's advanced reasoning model",show_in_query_model_selector:!0,has_new_tag:!1,search_mode:"search",selector_section:"reasoning",subscription_tier:"max"},{id:"alpha",backend_name:"pplx_alpha",display_name:"Best",description:"Fast and thorough for routine research",show_in_query_model_selector:!1,has_new_tag:!1,search_mode:"research",selector_section:null,subscription_tier:"pro"},{id:"o4_mini",backend_name:"o4mini",display_name:"o4-mini",description:"OpenAI's latest reasoning model",show_in_query_model_selector:!1,has_new_tag:!1,search_mode:"research",selector_section:"reasoning",subscription_tier:"pro"},{id:"o3_research",backend_name:"o3_research",display_name:"o3",description:"OpenAI's reasoning model",show_in_query_model_selector:!0,has_new_tag:!1,search_mode:"research",selector_section:"reasoning",subscription_tier:"max"},{id:"claude40sonnetthinking_research",backend_name:"claude40sonnetthinking_research",display_name:"Claude 4.0 Sonnet Thinking",description:"Anthropic's reasoning model",show_in_query_model_selector:!0,has_new_tag:!1,search_mode:"research",selector_section:"reasoning",subscription_tier:"max"},{id:"claude40opusthinking_research",backend_name:"claude40opusthinking_research",display_name:"Claude 4.0 Sonnet Thinking",description:"Anthropic's advanced reasoning model",show_in_query_model_selector:!0,has_new_tag:!1,search_mode:"research",selector_section:"reasoning",subscription_tier:"max"},{id:"beta",backend_name:"pplx_beta",display_name:"Best",description:"Multi-step tasks with advanced troubleshooting",show_in_query_model_selector:!1,has_new_tag:!1,search_mode:"labs",selector_section:"reasoning",subscription_tier:"pro"},{id:"o3_labs",backend_name:"o3_labs",display_name:"o3",description:"OpenAI's reasoning model",show_in_query_model_selector:!0,has_new_tag:!1,search_mode:"labs",selector_section:"reasoning",subscription_tier:"max"},{id:"claude40sonnetthinking_labs",backend_name:"claude40sonnetthinking_labs",display_name:"Claude 4.0 Sonnet Thinking",description:"Anthropic's reasoning model",show_in_query_model_selector:!0,has_new_tag:!1,search_mode:"labs",selector_section:"reasoning",subscription_tier:"max"},{id:"claude40opusthinking_labs",backend_name:"claude40opusthinking_labs",display_name:"Claude 4.0 Opus Thinking",description:"Anthropic's advanced reasoning model",show_in_query_model_selector:!0,has_new_tag:!1,search_mode:"labs",selector_section:"reasoning",subscription_tier:"max"}];function e8e(){const e=C3t;return f.useMemo(()=>{const t=n=>{const r=e.filter(a=>a.search_mode===n),s={[Qi.ANSWER]:[],[Qi.REASONING]:[]};return r.forEach(a=>{const l={search_model:a.backend_name,show_in_query_model_selector:a.show_in_query_model_selector,has_new_tag:a.has_new_tag,subscription_tier:a.subscription_tier};a.selector_section==="answer"?s[Qi.ANSWER].push(l):a.selector_section==="reasoning"&&s[Qi.REASONING].push(l)}),s};return{ProSearchModeModels:t("search"),ResearchModeModels:t("research"),LabsModeModels:t("labs")}},[e])}const S3t=({isFollowup:e,isInSameThread:t,sourcesOverride:n,firstResultSources:r,firstResultRecency:s,defaultSources:a,defaultRecency:i})=>n?{finalSources:n,finalRecency:i}:!e||!t?{finalSources:a,finalRecency:i}:{finalSources:Array.isArray(r)?r:[],finalRecency:s},Gg=f.createContext({markTTV:()=>{},addPageTiming:()=>{},getPageStartTime:()=>0,getPageTimer:()=>tu(),addPageTimingOnce:()=>{}});function M3t({children:e}){const{startTimeFromTimeOriginRef:t}=Qt(),n=f.useRef({}),{markTTV:r}=GPe(),s=f.useCallback(()=>(n.current[t.current]||(n.current[t.current]=tu(void 0,{nowFromTimeOrigin:t.current})),n.current[t.current]),[t]),a=f.useMemo(()=>({markTTV:()=>r(t.current),addPageTiming:(i,l={})=>s().addTiming(i,l),addPageTimingOnce:(i,l={})=>s().addTimingOnce(i,l),getPageStartTime:()=>t.current,getPageTimer:s}),[r,t,s]);return o.jsx(Gg.Provider,{value:a,children:e})}function k3t(){const{markTTV:e}=f.useContext(Gg);return e}function E3t(){const{addPageTiming:e}=f.useContext(Gg);return e}function t8e(){const{getPageStartTime:e}=f.useContext(Gg);return e}function n8e(){const{getPageTimer:e}=f.useContext(Gg);return e}const r8e=f.createContext({markTTV:()=>{}});function AU({children:e,modules:t}){const{markTTV:n,addPageTimingOnce:r,getPageTimer:s}=f.useContext(Gg),a=s(),i=Rg(a),l=f.useRef(new Set),c=f.useCallback(d=>{r(`web.ttv.${d}`),l.current?.add(d),t.every(h=>l.current?.has(h))&&(n(),l.current.clear())},[n,t,r]);f.useEffect(()=>{!i||i===a||l.current.clear()},[a,i]);const u=f.useMemo(()=>({markTTV:c}),[c]);return o.jsx(r8e.Provider,{value:u,children:e})}function T3t(){const{markTTV:e}=f.useContext(r8e);return e}function fXt(e={}){const t=k3t();f.useEffect(()=>{e.skip||t()},[e.skip,t])}function eS(e,t={}){const n=T3t();f.useEffect(()=>{t.skip||n(e)},[n,e,t.skip])}const N3t=e=>{try{return new URL(e),!0}catch{return!1}},j3t=({inPageOverride:e,dslQuery:t,existingEntryUUID:n,existingUuid:r,deletedUrls:s,redoSearch:a,collection:i,isRelatedQuery:l,isSponsored:c,relatedQueryUUID:u,inDomain:d,inPage:h,newFrontendContextUUID:m,promptSource:g,querySource:v,timeFromFirstType:x,utmSource:b,disableWidgets:w,isNavSuggestionsDisabled:C,entropyBrowser:S,clientPayloadUUID:k,isIncognito:E,sessionId:T,modelPreferenceSubmit:j,lastBackendUUID:N,deviceLocation:R,newAttachments:O,threadMetadataRwToken:I,forceNew:B,finalSources:D,finalRecency:z,mode:V,frontendUUID:U,isWindowsApp:H,browserHistorySummaryNumDays:q,mentions:$,reason:G,side_by_side_metadata:K,skipSearchEnabled:ee,browserHistorySummaryMaxResults:oe,sidecarUrl:ne,sidecarTitle:te,isFirstEntry:re})=>{const X=R?{location_lat:R.latitude,location_lng:R.longitude,name:""}:null,ce=lm(),J=ga().erp,de=Ln(),ie=J==="sidecar",he=de?{source:qP,client_payload_cache_key:k}:{},pe=H?{source:Wp}:{};let ge,Ce="";de&&re&&(ge=kJe({entropyBrowser:S,browserHistorySummaryNumDays:q,browserHistorySummaryMaxResults:oe,reason:G}),Ce=S.getLastOmniboxInput(U)??"");let we;de&&v==="default_search"&&N3t(Ce)&&(we=!1);const Pe=v==="followup"?"followup-sidecar":"sidecar";return{last_backend_uuid:N??void 0,read_write_token:B?void 0:I,existing_entry_uuid:B?void 0:n,deleted_urls:s??void 0,attachments:O,language:Sd(),timezone:tD,in_page:e??h,in_domain:d,search_focus:D.length===0?"writing":"internet",sources:D,search_recency_filter:z,frontend_uuid:r??U,redo_search:a,mode:V,target_collection_uuid:i?.uuid,model_preference:j??void 0,is_related_query:l??!1,is_sponsored:c??!1,related_query_uuid:u,visitor_id:ce??void 0,user_nextauth_id:T??void 0,frontend_context_uuid:m??void 0,prompt_source:g??void 0,query_source:ie?Pe:v??"",browser_history_summary_key:ge||void 0,is_incognito:E,time_from_first_type:x??void 0,local_search_enabled:we,use_schematized_api:!0,send_back_text_in_streaming_api:!1,supported_block_use_cases:Yle,utm_source:b,client_coordinates:X,mentions:$,dsl_query:t,skip_search_enabled:ee,is_nav_suggestions_disabled:C||ie,...v==="followup"?{followup_source:"link"}:{},...he,...pe,...w?{disable_widgets:w}:{},comet_info:de?{rendering_place:J??"unknown",sidecar_url:ne,sidecar_title:te}:void 0,...K&&{side_by_side_metadata:K},client_search_results_cache_key:de&&U?`nav-${U}`:void 0}},A3t=2,R3t=10,L3t=({response:e,isUserLoggedIn:t,submissionCount:n,session:r,queryCountMobile:s,isWindowsApp:a,addKeyRequiringRerender:i,setSubmissionCount:l,trackEvent:c,setShouldShowProductFeedback:u,setFeedbackEntryUUID:d,setShouldShowRecruitmentBanner:h,sendQueryEventSingular:m,maybeSendNthQueryEventSingular:g,recruitmentBannerEnabled:v,reason:x})=>{const b=dD();if(e?.backend_uuid){const w=e.backend_uuid;Bit({entryUUID:e.backend_uuid,params:{query:e.query_str||"",sources:e.sources?.sources??[]},reason:x}).then(C=>{u(C),C&&c("query feedback shown",{entry_uuid:w})}),v&&Wit({entryUUID:w,reason:x}).then(C=>{h(C),C&&c("power user recruitment banner shown",{})}),d(w)}!t&&n===A3t-1&&(w0t(),i("floating-signup")),t&&r?.user?.id&&s===0&&n===R3t-1&&i("floating-mobile-download"),a?i("floating-milestone-refetch-legacy"):t&&i("floating-milestone-refetch"),l(n+1),m(),g(b)},O3t={submitQuery:()=>{le.error("submitQuery must be used within PerplexityQueryStateProvider")},handleBotStep:()=>{le.error("handleBotStep must be used within PerplexityQueryStateProvider")},deleteLastResult:()=>{le.error("deleteLastResult must be used within PerplexityQueryStateProvider")},shouldShowProductFeedback:!1,shouldShowRecruitmentBanner:!1,feedbackEntryUUID:null,quote:null,setQuote:()=>{},updateLocalStatePostStream:()=>{}},P3t=3,I3t=6,D3t=2,s8e=f.createContext(O3t),F3t=(e,t,n,r)=>{if(!(e&&!t))return n?n.backend_uuid:r},U3t=({children:e,shouldFetchSettings:t})=>{const n="perplexity-query-state-provider",r=Qt(),{trackEvent:s}=Ye(),a=on(),i=Bs(),{location:l}=qg(),[c,u]=f.useState(null),{isWindowsApp:d,isMobile:h,isSamsungBrowser:m}=sn(),g=Ai(),v=n8e(),{sources:x,recency:b,isCopilot:w,setAskInputReasoningMode:C,setAskInputReasoningModelPreference:S,configuredModel:k}=Mr(),E=mo(),{firstResult:T,lastResult:j,actions:{setCurrentStreamId:N}}=un(),{hasAiProfile:R,queryCountMobile:O}=Ua({enabled:t,reason:n}),[I,B]=f.useState(!1),[D,z]=f.useState(!1),[V,U]=f.useState(null),H=Ct(),{addKeyRequiringRerender:q}=of(),{value:$}=vs({flag:"skip-search-button",subjectType:"visitor_id",defaultValue:!1}),G=_3t(),K=Fa({reason:n}),[ee,oe]=f.useState(0),{sendQueryEventSingular:ne,maybeSendNthQueryEventSingular:te,sendResurrectedActivationEventSingular:re}=Jde(),X=sc(),ce=slt(),{value:se}=Fs({flag:"power-user-recruitment-banner",defaultValue:!1}),{isMaxUpsellEnabled:J}=ff(),{isMax:de}=cn(),{value:{max_results:ie,num_days:he}}=oC({flag:"browser-history-summary-settings",defaultValue:{max_results:500,num_days:7}}),{ProSearchModeModels:pe}=e8e(),ge=jU(),Ce=JSe(),we=f.useCallback(({rawQuery:Ee,dslQuery:st,fork:et,inPageOverride:$e,copilotOverride:tt,existingEntryUUID:at,existingUuid:xe,deletedUrls:Oe,redoSearch:Qe,attachments:Ge,collection:ze,modelPreferenceOverride:Ze,isRelatedQuery:St,isSponsored:It,relatedQueryUUID:Jt,inDomain:dt,inPage:ft,newFrontendContextUUID:Et,existingFrontendContextUUID:an,promptSource:zn,querySource:er,sourcesOverride:Rt,submitFromArticleOverride:Xt,timeFromFirstType:Se,utmSource:ht,disableWidgets:ct,isNavSuggestionsDisabled:mt,deviceLocation:vt,shouldRedirectToBackendUUID:Bt,onThreadSlugReceived:Lt,incognitoOverride:kn,mentions:hn=[],shouldUsePageStartTime:_r,side_by_side_metadata:Gr,frontendUUID:os=qr()})=>{if(Ee.trim().length===0&&!c){le.error("Submit failed: empty query");return}const Yr=hn.filter(Qn=>Qn.type==="tab").map(Qn=>({id:Number(Qn.id),url:Qn.url}));if(!H&&!m){const Qn=ee+1;h&&!N1()?Qn%D3t===1&&q("visitor-gate"):Qn%I3t===0?q("visitor-gate-ii"):Qn%P3t===0&&q("visitor-gate")}const tr=!!Et,Kr=[...new Set([...Ge??[]])].slice(0,ge).filter(Qn=>!Oe?.includes(Qn)),li=pr(),_f=Ln()&&(li||!!Yr?.length),Au=_f?ri():void 0,za=(tt??w)||li,sl=za?"copilot":"concise";let Qr=k??Re.DEFAULT;(g===_e.RESEARCH||g===_e.STUDIO)&&(Qr=g===_e.RESEARCH?Re.ALPHA:Re.BETA,J&&de&&(Qr=k));const Ha=pe[Qi.REASONING].some(Qn=>Qn.search_model===Qr);Ze?Qr=Ze:(C(Ha),Ha||S(null));const _a=F3t(tr,et??!1,Xt??null,j?.backend_uuid??null);Yet(),rtt(()=>{s("resurrected activated"),re()}),Ha&&Jet(),Us(Qr)===_e.RESEARCH?Ket():Us(Qr)===_e.STUDIO&&Qet();const oc=!!_a,_o=T?.frontend_context_uuid===an,kr=S3t({isFollowup:oc,isInSameThread:_o,sourcesOverride:Rt,firstResultSources:T?.sources?.sources,firstResultRecency:T?.search_recency_filter,defaultSources:x??[],defaultRecency:b??null}),{finalSources:lc,finalRecency:al}=kr,bs=w3t({inPage:$e??ft})||c,ws=(bs?Wft(Ee,bs):Ee).trim();if(!ws){le.error("Submit failed: empty query");return}const Cf=at==T?.backend_uuid||!_a,bm=Not({rawQuery:ws,fork:et,existingEntryUUID:at,existingUuid:xe,collection:ze,isRelatedQuery:St,newFrontendContextUUID:Et,existingFrontendContextUUID:an,submitFromArticleOverride:Xt,isNavSuggestionsDisabled:mt,isCopilot:za,modelPreferenceSubmit:Qr,newAttachments:Kr,firstResultFrontendContextUUID:T?.frontend_context_uuid,isPersonalized:R,forceNew:tr,querySource:er,lastResultBackendUUID:j?.backend_uuid,finalSources:lc,finalRecency:al??void 0,uuid:os,threadMetadataTitle:T?.thread_title,threadMetadataThreadUrlSlug:T?.thread_url_slug,side_by_side_metadata:Gr}),Ru=j3t({redoSearch:Qe,collection:ze,dslQuery:st,isRelatedQuery:St,isSponsored:It,relatedQueryUUID:Jt,inDomain:dt,inPage:ft,newFrontendContextUUID:Et,promptSource:zn,querySource:er,timeFromFirstType:Se,utmSource:ht,disableWidgets:ct,isNavSuggestionsDisabled:mt,isWindowsApp:d,isIncognito:kn??K,sessionId:a?.user?.id,modelPreferenceSubmit:Qr,clientPayloadUUID:Au,lastBackendUUID:_a,deviceLocation:vt=vt??l,newAttachments:Kr,threadMetadataRwToken:E,forceNew:tr,finalSources:lc,finalRecency:al,mode:sl,frontendUUID:os,entropyBrowser:i,existingEntryUUID:at,deletedUrls:Oe,browserHistorySummaryNumDays:he,mentions:hn,side_by_side_metadata:Gr,reason:n,skipSearchEnabled:$,browserHistorySummaryMaxResults:ie,sidecarTitle:X.sourceTabTitle,sidecarUrl:X.sourceTabUrl,isFirstEntry:Cf});Et&&Ce(ws,Ru,Ru.frontend_uuid),_f&&Au&&bJe({clientPayloadCacheKey:Au,cometBrowser:i,maxChars:G,attachedTabs:Yr,includeSidecar:li,reason:n,cometState:X}),u(null);const wm={params:{...Ru,version:bu},query_str:ws};function cc(Qn){if(Lt){if(!Qn.thread_url_slug)throw new Error("thread_url_slug is required on first message");Lt(Qn.thread_url_slug)}Bt&&r.push(`/search/${Qn.thread_url_slug}`)}const Lu=ce(wm,{onFirstMessageReceived:cc,placeholderChunk:{...bm,backend_uuid:at||ame},timer:_r?v():tu(void 0,{nowFromTimeOrigin:performance.now()}),reason:n});N(Lu.id.description)},[c,H,ge,w,k,g,pe,j?.backend_uuid,T?.frontend_context_uuid,T?.sources?.sources,T?.search_recency_filter,T?.thread_title,T?.thread_url_slug,T?.backend_uuid,x,b,R,d,K,a?.user,l,E,i,he,$,ie,X,ce,v,N,ee,h,m,q,J,de,C,S,s,re,Ce,G,r]),Pe=f.useCallback(Ee=>{L3t({response:Ee,isUserLoggedIn:H,submissionCount:ee,session:a??void 0,queryCountMobile:O,isWindowsApp:d,addKeyRequiringRerender:q,setSubmissionCount:oe,setShouldShowProductFeedback:B,setShouldShowRecruitmentBanner:z,setFeedbackEntryUUID:U,trackEvent:s,sendQueryEventSingular:ne,maybeSendNthQueryEventSingular:te,recruitmentBannerEnabled:se,reason:n})},[q,H,d,O,ne,te,a,ee,s,se]),ot=fF(),Be=f.useCallback(async()=>{const Ee=j?.backend_uuid;!Ee||!E||(s("delete last result",{entryUUID:Ee}),await me.DELETE("/rest/entry/delete-ask-entry/{entry_uuid}",n,{params:{path:{entry_uuid:Ee}},body:{read_write_token:E}}),ot(st=>{if(!st)return;const et=st??[];if(et.length<1){r.push("/",void 0,"Delete last result");return}return et.slice(0,-1)}))},[j?.backend_uuid,E,s,ot,r]);return o.jsx(s8e.Provider,{value:{submitQuery:we,deleteLastResult:Be,shouldShowProductFeedback:I,feedbackEntryUUID:V,quote:c,setQuote:u,shouldShowRecruitmentBanner:D,updateLocalStatePostStream:Pe},children:e})},go=()=>{const e=f.useContext(s8e);if(!e)throw new Error("usePerplexityQueryState must be used within PerplexityQueryStateContext");return e},N4={initial:{opacity:0,filter:"blur(2px)"},animate:{opacity:1,filter:"blur(0px)"},exit:{opacity:0,filter:"blur(2px)"},transition:{duration:.5,ease:"easeInOut"}},a8e=L.memo(({children:e,animationKey:t,...n})=>o.jsx(kt,{mode:"popLayout",initial:!1,children:o.jsx(je.div,{initial:N4.initial,animate:N4.animate,exit:N4.exit,transition:N4.transition,children:o.jsx(F,{...n,children:e})},t)})),i8e=L.memo(({terminal:e,gate:t,alignEnd:n})=>{const{$t:r}=ae();return o.jsxs("div",{className:W("gap-lg flex w-full flex-row",n&&"justify-end"),children:[e&&o.jsx(NR,{label:r({id:"GAHVEi8lHA",defaultMessage:"Terminal"}),value:e}),t&&o.jsx(NR,{label:r({id:"W+gH70jajX",defaultMessage:"Gate"}),value:t})]})});i8e.displayName="FlightTerminalGate";const NR=L.memo(({label:e,value:t})=>o.jsxs("div",{children:[o.jsx(F,{variant:"tinyMono",color:"light",children:e}),o.jsx(a8e,{animationKey:t,variant:"entry-title-200",children:t})]}));NR.displayName="FlightAttribute";const j4={initial:{opacity:0,height:0,filter:"blur(2px)"},animate:{opacity:1,height:"auto",filter:"blur(0px)"},exit:{opacity:0,height:0,filter:"blur(2px)"},transition:{duration:.3,ease:Ar}},jR=L.memo(({airport:e,time:t,actualTime:n,estimatedTime:r,timezone:s,terminal:a,gate:i,variant:l="departure",delayed:c=!1,cancelled:u=!1})=>{const{locale:d,$t:h}=ae(),{submitQuery:m}=go(),g=fm(),{firstResult:v}=un(),x=v?.frontend_context_uuid,b=f.useMemo(()=>h(l==="departure"?{id:"BtqAemWTLK",defaultMessage:"Departure"}:{id:"WOIPGxfmZn",defaultMessage:"Arrival"}),[l,h]),w=l==="arrival",C=f.useMemo(()=>{const T=n||r;return T&&T.getTime()===t.getTime()?null:T},[n,r,t]),S=f.useMemo(()=>t.toLocaleTimeString(d,{hour:"numeric",minute:"2-digit",timeZone:s}),[t,s,d]),k=f.useMemo(()=>C?.toLocaleTimeString(d,{hour:"numeric",minute:"2-digit",timeZone:s}),[C,s,d]),E=f.useCallback(()=>{const T=g,j=ri();m({fork:T,rawQuery:h({id:"xxqvnlQO57",defaultMessage:"Airport {airport}"},{airport:e}),collection:null,newFrontendContextUUID:T?j:null,existingFrontendContextUUID:T?void 0:x,promptSource:"user",querySource:"entity_link",shouldRedirectToBackendUUID:T})},[e,g,x,m,h]);return o.jsxs("div",{className:"gap-md col-span-3 flex flex-col justify-between",children:[o.jsxs("div",{className:W("gap-sm flex flex-col",w&&"items-end"),children:[o.jsxs(F,{variant:"tinyMono",color:"light",className:"gap-sm flex flex-row",children:[b,o.jsx("button",{className:"text-textMain hover:text-super cursor-pointer underline transition-colors duration-150 ease-in-out",onClick:E,children:e})]}),o.jsxs("div",{className:W("flex flex-col",w&&"items-end"),children:[o.jsx(a8e,{animationKey:S,as:"span",variant:"entry-title-200",color:c?"negative":"super",className:W("-translate-y-[1px] !font-mono transition-colors duration-500",u&&"text-textOff line-through"),children:C?k:S}),o.jsx(kt,{initial:!1,children:C&&o.jsx(je.div,{initial:j4.initial,animate:j4.animate,exit:j4.exit,transition:j4.transition,className:"overflow-hidden",children:o.jsx(F,{as:"span",variant:C?"small":"entry-title-200",color:"super",className:W("-translate-y-[1px] !font-mono",C&&"!text-textOff line-through"),children:S})})})]})]}),o.jsx(i8e,{terminal:a,gate:i,alignEnd:w})]})});jR.displayName="FlightDepartureArrival";const B3t=je(Q),o8e=L.memo(({progress:e,departureTime:t,arrivalTime:n,delayed:r,cancelled:s})=>{const{$t:a}=ae(),i=f.useMemo(()=>Yv(t,n,a),[t,n,a]),l=f.useMemo(()=>e===void 0||s?0:Math.max(0,Math.min(100,e)),[e,s]),{left:c,width:u}=f.useMemo(()=>({left:`${l}%`,width:`${l}%`}),[l]),d=f.useMemo(()=>({left:0}),[]),h=f.useMemo(()=>({duration:2,ease:Ar,delay:.5}),[]),m=f.useMemo(()=>({left:c,opacity:1,scale:1}),[c]),g=f.useMemo(()=>({...d,opacity:0,scale:1.2,top:"50%",translateX:"-50%",translateY:"-50%"}),[d]),v=f.useMemo(()=>({width:u}),[u]);return o.jsx("div",{className:"px-xs order-last col-span-6 flex flex-col items-center justify-center sm:order-[unset] sm:px-0",children:o.jsxs("div",{className:"gap-md flex w-full flex-col items-center",children:[o.jsx(F,{variant:"tinyMono",color:"light",children:i}),o.jsxs("div",{className:"relative flex w-full flex-1 items-center",children:[o.jsx("div",{className:"bg-textMain/10 relative h-0.5 w-full overflow-hidden rounded-full",children:o.jsx(je.div,{className:W("absolute bottom-0 left-0 top-0 transition-colors duration-500",r?"bg-negative":"bg-super",s&&"!bg-textOff/50"),initial:d,animate:v,transition:h})}),o.jsx(B3t,{variant:"raised",className:"absolute left-0 flex aspect-square w-6 items-center justify-center",initial:g,animate:m,transition:h,children:o.jsx(Ne,{className:W("text-textOff transition-colors duration-500",e&&e>0&&!r&&"!text-super",r&&"!text-negative",s&&"!text-textOff"),icon:O_})})]})]})})});o8e.displayName="FlightProgress";const l8e=L.memo(({departureTime:e,arrivalTime:t,actualDepartureTime:n,actualArrivalTime:r,estimatedDepartureTime:s,estimatedArrivalTime:a,flightMetadata:i,delayed:l=!1})=>{const{cancelled:c,departureAirport:u,arrivalAirport:d,departureTimezone:h,arrivalTimezone:m,terminal:g,gate:v,arrivalTerminal:x,arrivalGate:b,progressPercent:w}=i;return o.jsxs(Vr,{className:"p-md gap-md grid w-full grid-cols-2 overflow-hidden shadow-sm sm:grid-cols-12",children:[o.jsx(jR,{variant:"departure",airport:u,time:e,actualTime:n,estimatedTime:s,timezone:h,terminal:g,gate:v,delayed:l,cancelled:c}),o.jsx(o8e,{departureTime:e,arrivalTime:t,progress:w,delayed:l,cancelled:c}),o.jsx(jR,{variant:"arrival",airport:d,time:t,actualTime:r,estimatedTime:a,timezone:m,terminal:x,gate:b,delayed:l,cancelled:c})]})});l8e.displayName="FlightStatusCard";const A4=new Date,c8e=L.memo(({data:e})=>{const t=f.useMemo(()=>[...e.data.flights].sort((g,v)=>new Date(g.departureTime).getTime()-new Date(v.departureTime).getTime()),[e.data.flights]),n=f.useMemo(()=>{const g=new Date().getTime();if(t.length!==0)return t.reduce((v,x)=>{const b=new Date(x.departureTime).getTime(),w=new Date(v.departureTime).getTime(),C=Math.abs(b-g),S=Math.abs(w-g);return C<S?x:v})},[t]),[r,s]=f.useState(n),{departureTime:a,arrivalTime:i,actualDepartureTime:l,actualArrivalTime:c,estimatedDepartureTime:u,estimatedArrivalTime:d}=f.useMemo(()=>{const g=v=>v?new Date(v):void 0;return r?{departureTime:new Date(r.departureTime),arrivalTime:new Date(r.arrivalTime),actualDepartureTime:g(r.actualDepartureTime),actualArrivalTime:g(r.actualArrivalTime),estimatedDepartureTime:g(r.estimatedDepartureTime),estimatedArrivalTime:g(r.estimatedArrivalTime)}:{}},[r]),h=f.useMemo(()=>c?c>i:d?d>i:!1,[c,i,d]),m=f.useMemo(()=>t.length<2?null:o.jsx(XSe,{flights:t,selectedFlight:r,setSelectedFlight:s}),[t,r,s]);return r?o.jsx(Wr,{"data-testid":"flight-status-widget",className:"w-full",variant:"noChrome",children:o.jsxs("div",{className:"gap-sm flex flex-col",children:[o.jsx(ZSe,{flightMetadata:r,departureTime:a||A4,arrivalTime:i||A4,actualDepartureTime:l,actualArrivalTime:c,estimatedDepartureTime:u,estimatedArrivalTime:d,delayed:h,rightContent:m}),o.jsx(l8e,{departureTime:a||A4,arrivalTime:i||A4,actualDepartureTime:l,actualArrivalTime:c,estimatedDepartureTime:u,estimatedArrivalTime:d,flightMetadata:r,delayed:h})]})}):null});c8e.displayName="FlightStatusWidget";const u8e=L.memo(({children:e,entries:t,size:n="sm",footer:r})=>{const s=n!=="sm";return o.jsxs(Vr,{shadow:!0,className:W("relative",s?"mb-lg pb-md":""),children:[e,o.jsx(Q,{className:W("grid border-t"),children:t.map(({text:a,href:i,onClick:l})=>o.jsx("div",{className:"p-xs border-borderMain/50 border-b last:border-b-0",onClickCapture:l,children:o.jsx(it,{fullWidth:!0,variant:"super",chevron:!0,chevronIcon:xa,size:"small",text:a,href:i,extraCSS:"rounded-md"})},i))}),r]})});u8e.displayName="WidgetCta";const d8e=L.memo(({data:{title:e,text:t,image_url:n,canonical_pages:r}})=>{const{$t:s}=ae();return o.jsx("div",{className:"mb-md gap-md flex flex-col",children:o.jsx(u8e,{entries:r.map(a=>({text:a.cta??s({defaultMessage:"View More",id:"QQSdHPJWXu"}),href:a.url_web})),size:"sm",children:o.jsx("div",{className:"gap-md p-md flex flex-col items-center md:flex-row",children:o.jsxs("div",{className:"gap-md flex items-center",children:[n&&o.jsx("img",{alt:"",className:"w-[75px] rounded",src:n}),o.jsxs("div",{className:"mr-sm w-full",children:[e&&o.jsx(F,{variant:"baseSemi",children:e}),t&&o.jsx(F,{variant:"small",color:"light",children:t})]})]})})})})});d8e.displayName="GenericFallbackWidget";const V3t=({event:e})=>{const t=e.event.status==="live",n=e.event.extra.pitch_outcome,r=n?.count?.outs??0,s=n?.count?.balls??0,a=n?.count?.strikes??0,i=n?.runners,l=n?.count,c=n?.type!=="half_over"&&r!==3&&s!==4&&a!==3;return t?o.jsxs("div",{className:"mt-lg md:mt-md flex flex-col items-center gap-0",children:[o.jsx(z3t,{runners:i}),o.jsx(H3t,{outs:r}),o.jsx(W3t,{count:l,show:c})]}):null},z3t=({runners:e})=>{const t=e?.filter(n=>!n.out).map(n=>n.ending_base);return o.jsx("div",{style:{transformStyle:"preserve-3d",perspective:"1000px"},className:"inline-flex",children:o.jsx("div",{style:{transform:"rotateX(45deg)"},children:o.jsxs("div",{className:"translate-z-10 grid rotate-45 grid-cols-2 grid-rows-2 gap-[3px]",children:[o.jsx(tE,{active:t?.includes(2)??!1}),o.jsx(tE,{active:t?.includes(1)??!1}),o.jsx(tE,{active:t?.includes(3)??!1})]})})})},tE=({active:e})=>o.jsx("div",{className:W("size-3 duration-150 md:size-4",e?"bg-super":"bg-textMain/25")}),H3t=({outs:e})=>o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(nE,{filled:e>=1}),o.jsx(nE,{filled:e>=2}),o.jsx(nE,{filled:e>=3})]}),nE=({filled:e})=>o.jsx("div",{className:W("relative size-1 rounded-full duration-150",e?"bg-text":"bg-textMain/25"),children:e&&o.jsx("div",{className:"bg-text repeat-1 absolute inset-0 animate-ping rounded-full"})}),W3t=({count:e,show:t})=>{const n=e?.balls??0,r=e?.strikes??0,s=n===0&&r===0;return o.jsx(F,{variant:"micro",color:s?"ultraLight":"light",className:W("mt-1 duration-150",t?"opacity-100":"opacity-0"),children:o.jsx("span",{className:"font-mono",children:t?`${n}-${r}`:o.jsx(o.Fragment,{children:" "})})})},f8e=L.memo(({children:e,innerRef:t,canScrollLeft:n,canScrollRight:r,fadeOut:s})=>o.jsx("div",{className:"gap-md flex w-full flex-col overflow-hidden",children:o.jsxs(mu,{orientation:"horizontal",viewportRef:t,showScrollIndicator:!1,className:"relative",children:[o.jsx("div",{className:"p-md pt-0",children:e}),n&&s&&o.jsx(Q,{className:"w-xl to-offset pointer-events-none absolute inset-y-0 left-0 bg-gradient-to-l from-transparent"}),r&&s&&o.jsx(Q,{className:"w-xl from-offset pointer-events-none absolute inset-y-0 right-0 bg-gradient-to-l to-transparent"})]})}));f8e.displayName="CanonicalScroll";const tS=L.memo(({title:e,subtitle:t,subtitleIcon:n,children:r,scrollable:s,fadeOut:a,trailing:i,titleClassName:l})=>{const c=f.useRef(null),[u,d]=f.useState(!1),[h,m]=f.useState(!1),g=f.useCallback(()=>{c.current?.scrollTo({left:c.current.scrollLeft-c.current.clientWidth,behavior:"smooth"})},[c]),v=f.useCallback(()=>{c.current?.scrollTo({left:c.current.scrollLeft+c.current.clientWidth,behavior:"smooth"})},[c]),x=f.useCallback(()=>{c.current&&(d(c.current.scrollLeft>0),m(c.current.scrollLeft+c.current.clientWidth+10<c.current.scrollWidth&&c.current.scrollWidth>c.current.clientWidth))},[c]);return f.useEffect(()=>{const b=c.current;return b?.addEventListener("scroll",x),()=>{b?.removeEventListener("scroll",x)}},[x,c]),f.useEffect(()=>{const b=new ResizeObserver(x);return b.observe(window.document.body),()=>{b.disconnect()}},[x,c]),f.useEffect(()=>{x()},[x]),o.jsxs(Q,{className:"gap-md flex flex-col",children:[o.jsxs(h8e,{title:e,subtitle:t,subtitleIcon:n,className:l,children:[i,s&&o.jsxs("div",{className:"-mr-sm flex items-center",children:[o.jsx(it,{icon:ace,size:"small",onClick:g,disabled:!u,variant:u?void 0:"noHover"}),o.jsx(it,{icon:xa,size:"small",onClick:v,disabled:!h,variant:h?void 0:"noHover"})]})]}),s?o.jsx(f8e,{innerRef:c,canScrollLeft:u,canScrollRight:h,fadeOut:a,children:r}):o.jsx("div",{ref:c,className:"gap-md px-md pb-md flex flex-col",children:r})]})});tS.displayName="CanonicalSection";const h8e=L.memo(({children:e,title:t,subtitle:n,subtitleIcon:r,className:s})=>o.jsxs(Q,{className:W("gap-md px-md py-sm flex items-center justify-between border-b",s),children:[o.jsxs(Q,{className:"flex items-center justify-between",children:[t&&o.jsx(F,{variant:"baseSemi",children:t}),n&&o.jsxs(F,{variant:"smallCaps",color:"light",className:"gap-xs flex items-center",children:[r&&o.jsx(jt,{icon:r}),n]})]}),e]}));h8e.displayName="SectionTitle";function m8e(e,t){return t.find(n=>String(n.teamId)===String(e))}const $3t=e=>{switch(e){case"nba":case"wnba":case"ncaam":case"ncaaw":case"mlb":return"/static/images/sports/nba/logos/nba-logo-generic.png";case"nfl":return"/static/images/sports/nfl/logos/nfl-logo-generic.png";case"ipl":case"cricket":return"/static/images/sports/cricket/logos/cricket-logo-generic.png";default:return""}};function U1(e,t,n){const r={teamId:e,logo:$3t(n),color:"#64645F"};return m8e(e,t)??r}function q3t(e,t){return t.find(n=>n.teamId===e)}function nS(e){return[...e].sort((t,n)=>n.teamLocationType.teamLocationTypeId-t.teamLocationType.teamLocationTypeId)}function hXt(e){if(!e||e.wins+e.losses+e.ties===0)return"";const{wins:t,losses:n,ties:r}=e;return r?`${t}-${n}-${r}`:`${t}-${n}`}function mXt(e,t){return t.winProbabilities?.find(n=>n.teamId===e)}function G3t(e,t,n,r){const s=U1(e,n,r),a=q3t(e,t),i=t.find(c=>c.teamId===e)?.seed,l=Y3t(r);return{teamId:a.teamId,logo:s.logo,color:s.color,nickname:l?a.location:a.nickname,abbreviation:a.abbreviation,record:a.record,winner:a.isWinner,score:a.score,seed:i}}const Y3t=e=>e==="ncaam"||e==="ncaaw";function K3t(e,t,n,r){const s=U1(e,n,r),a=t.find(i=>i.id===e);return a?{teamId:a.id,logo:s.logo,color:s.color,nickname:a.title??"",abbreviation:a.abbreviation??""}:{teamId:e,logo:s.logo,color:s.color,nickname:"",abbreviation:""}}function pXt(e,t,n){return nS(e)?.map(r=>G3t(r.teamId,e,t,n))}function gXt(e,t,n){return e.map(r=>K3t(r.id,e,t,n))}function vXt(e,t){for(const n of t)for(const r of n.divisions)for(const s of r.teams)if(s.teamId===e)return{conference:n.abbreviation,division:r.name};return null}const yXt=e=>e?"nickname"in e?e.nickname:e.title:null,xXt=e=>e?"teamId"in e?e.teamId:e.id:null,bXt=e=>"score"in e?e.score:e.sub_text&&e.text?`${e.text} ${e.sub_text}`:e.text,Q3t=e=>"isWinner"in e?e.isWinner:e.won,wXt=e=>e?e.some(t=>Q3t(t)):!1,_Xt=e=>e?"teamId"in e[0]?e.every(t=>"teamId"in t)&&!e.some(t=>!t.teamId||String(t.teamId)==="TBD"):e.every(t=>"id"in t)&&!e.some(t=>t.id==="TBD"):!1,X3t={tiny:"size-[16px]",small:"size-[24px]",medium:"size-[32px]",large:"xl:size-[64px] size-[50px]"},Z3t={tiny:"p-[0.5px]",small:"p-[0.5px]",medium:"p-[0.5px]",large:"p-[0.5px]"},J3t={tiny:"border-[1px]",small:"border-[1px]",medium:"border-[2px]",large:"border-[4px]"},Yl=f.memo(({includeStripe:e=!0,includeShadow:t=!1,className:n,includeBackground:r=!1,size:s="large",logo:a,color:i,...l})=>{const c=f.useMemo(()=>{let u=X3t[s];return r&&(u+=` ${Z3t[s]}`),u},[r,s]);return o.jsx("div",{className:W(c,{"shadow-subtle":t&&r,"border-borderMain/50 rounded-full border bg-white dark:border-transparent":r},n),...l,children:o.jsx("div",{className:W("rounded-inherit flex size-full items-center justify-center",{[J3t[s]]:e&&r}),style:{borderColor:r?i:void 0},children:o.jsx("img",{src:a,alt:"",width:r?"70%":"100%",height:"auto"})})})});var rE={exports:{}},sE,SJ;function p8e(){return SJ||(SJ=1,sE={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),sE}var aE={exports:{}},iE,MJ;function e4t(){return MJ||(MJ=1,iE=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")}),iE}var kJ;function t4t(){if(kJ)return aE.exports;kJ=1;var e=e4t(),t=Array.prototype.concat,n=Array.prototype.slice,r=aE.exports=function(a){for(var i=[],l=0,c=a.length;l<c;l++){var u=a[l];e(u)?i=t.call(i,n.call(u)):i.push(u)}return i};return r.wrap=function(s){return function(){return s(r(arguments))}},aE.exports}var EJ;function n4t(){if(EJ)return rE.exports;EJ=1;var e=p8e(),t=t4t(),n=Object.hasOwnProperty,r=Object.create(null);for(var s in e)n.call(e,s)&&(r[e[s]]=s);var a=rE.exports={to:{},get:{}};a.get=function(c){var u=c.substring(0,3).toLowerCase(),d,h;switch(u){case"hsl":d=a.get.hsl(c),h="hsl";break;case"hwb":d=a.get.hwb(c),h="hwb";break;default:d=a.get.rgb(c),h="rgb";break}return d?{model:h,value:d}:null},a.get.rgb=function(c){if(!c)return null;var u=/^#([a-f0-9]{3,4})$/i,d=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,h=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,m=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,g=/^(\w+)$/,v=[0,0,0,1],x,b,w;if(x=c.match(d)){for(w=x[2],x=x[1],b=0;b<3;b++){var C=b*2;v[b]=parseInt(x.slice(C,C+2),16)}w&&(v[3]=parseInt(w,16)/255)}else if(x=c.match(u)){for(x=x[1],w=x[3],b=0;b<3;b++)v[b]=parseInt(x[b]+x[b],16);w&&(v[3]=parseInt(w+w,16)/255)}else if(x=c.match(h)){for(b=0;b<3;b++)v[b]=parseInt(x[b+1],0);x[4]&&(x[5]?v[3]=parseFloat(x[4])*.01:v[3]=parseFloat(x[4]))}else if(x=c.match(m)){for(b=0;b<3;b++)v[b]=Math.round(parseFloat(x[b+1])*2.55);x[4]&&(x[5]?v[3]=parseFloat(x[4])*.01:v[3]=parseFloat(x[4]))}else return(x=c.match(g))?x[1]==="transparent"?[0,0,0,0]:n.call(e,x[1])?(v=e[x[1]],v[3]=1,v):null:null;for(b=0;b<3;b++)v[b]=i(v[b],0,255);return v[3]=i(v[3],0,1),v},a.get.hsl=function(c){if(!c)return null;var u=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,d=c.match(u);if(d){var h=parseFloat(d[4]),m=(parseFloat(d[1])%360+360)%360,g=i(parseFloat(d[2]),0,100),v=i(parseFloat(d[3]),0,100),x=i(isNaN(h)?1:h,0,1);return[m,g,v,x]}return null},a.get.hwb=function(c){if(!c)return null;var u=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,d=c.match(u);if(d){var h=parseFloat(d[4]),m=(parseFloat(d[1])%360+360)%360,g=i(parseFloat(d[2]),0,100),v=i(parseFloat(d[3]),0,100),x=i(isNaN(h)?1:h,0,1);return[m,g,v,x]}return null},a.to.hex=function(){var c=t(arguments);return"#"+l(c[0])+l(c[1])+l(c[2])+(c[3]<1?l(Math.round(c[3]*255)):"")},a.to.rgb=function(){var c=t(arguments);return c.length<4||c[3]===1?"rgb("+Math.round(c[0])+", "+Math.round(c[1])+", "+Math.round(c[2])+")":"rgba("+Math.round(c[0])+", "+Math.round(c[1])+", "+Math.round(c[2])+", "+c[3]+")"},a.to.rgb.percent=function(){var c=t(arguments),u=Math.round(c[0]/255*100),d=Math.round(c[1]/255*100),h=Math.round(c[2]/255*100);return c.length<4||c[3]===1?"rgb("+u+"%, "+d+"%, "+h+"%)":"rgba("+u+"%, "+d+"%, "+h+"%, "+c[3]+")"},a.to.hsl=function(){var c=t(arguments);return c.length<4||c[3]===1?"hsl("+c[0]+", "+c[1]+"%, "+c[2]+"%)":"hsla("+c[0]+", "+c[1]+"%, "+c[2]+"%, "+c[3]+")"},a.to.hwb=function(){var c=t(arguments),u="";return c.length>=4&&c[3]!==1&&(u=", "+c[3]),"hwb("+c[0]+", "+c[1]+"%, "+c[2]+"%"+u+")"},a.to.keyword=function(c){return r[c.slice(0,3)]};function i(c,u,d){return Math.min(Math.max(u,c),d)}function l(c){var u=Math.round(c).toString(16).toUpperCase();return u.length<2?"0"+u:u}return rE.exports}var oE,TJ;function g8e(){if(TJ)return oE;TJ=1;const e=p8e(),t={};for(const s of Object.keys(e))t[e[s]]=s;const n={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};oE=n;for(const s of Object.keys(n)){if(!("channels"in n[s]))throw new Error("missing channels property: "+s);if(!("labels"in n[s]))throw new Error("missing channel labels property: "+s);if(n[s].labels.length!==n[s].channels)throw new Error("channel and label counts mismatch: "+s);const{channels:a,labels:i}=n[s];delete n[s].channels,delete n[s].labels,Object.defineProperty(n[s],"channels",{value:a}),Object.defineProperty(n[s],"labels",{value:i})}n.rgb.hsl=function(s){const a=s[0]/255,i=s[1]/255,l=s[2]/255,c=Math.min(a,i,l),u=Math.max(a,i,l),d=u-c;let h,m;u===c?h=0:a===u?h=(i-l)/d:i===u?h=2+(l-a)/d:l===u&&(h=4+(a-i)/d),h=Math.min(h*60,360),h<0&&(h+=360);const g=(c+u)/2;return u===c?m=0:g<=.5?m=d/(u+c):m=d/(2-u-c),[h,m*100,g*100]},n.rgb.hsv=function(s){let a,i,l,c,u;const d=s[0]/255,h=s[1]/255,m=s[2]/255,g=Math.max(d,h,m),v=g-Math.min(d,h,m),x=function(b){return(g-b)/6/v+1/2};return v===0?(c=0,u=0):(u=v/g,a=x(d),i=x(h),l=x(m),d===g?c=l-i:h===g?c=1/3+a-l:m===g&&(c=2/3+i-a),c<0?c+=1:c>1&&(c-=1)),[c*360,u*100,g*100]},n.rgb.hwb=function(s){const a=s[0],i=s[1];let l=s[2];const c=n.rgb.hsl(s)[0],u=1/255*Math.min(a,Math.min(i,l));return l=1-1/255*Math.max(a,Math.max(i,l)),[c,u*100,l*100]},n.rgb.cmyk=function(s){const a=s[0]/255,i=s[1]/255,l=s[2]/255,c=Math.min(1-a,1-i,1-l),u=(1-a-c)/(1-c)||0,d=(1-i-c)/(1-c)||0,h=(1-l-c)/(1-c)||0;return[u*100,d*100,h*100,c*100]};function r(s,a){return(s[0]-a[0])**2+(s[1]-a[1])**2+(s[2]-a[2])**2}return n.rgb.keyword=function(s){const a=t[s];if(a)return a;let i=1/0,l;for(const c of Object.keys(e)){const u=e[c],d=r(s,u);d<i&&(i=d,l=c)}return l},n.keyword.rgb=function(s){return e[s]},n.rgb.xyz=function(s){let a=s[0]/255,i=s[1]/255,l=s[2]/255;a=a>.04045?((a+.055)/1.055)**2.4:a/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92,l=l>.04045?((l+.055)/1.055)**2.4:l/12.92;const c=a*.4124+i*.3576+l*.1805,u=a*.2126+i*.7152+l*.0722,d=a*.0193+i*.1192+l*.9505;return[c*100,u*100,d*100]},n.rgb.lab=function(s){const a=n.rgb.xyz(s);let i=a[0],l=a[1],c=a[2];i/=95.047,l/=100,c/=108.883,i=i>.008856?i**(1/3):7.787*i+16/116,l=l>.008856?l**(1/3):7.787*l+16/116,c=c>.008856?c**(1/3):7.787*c+16/116;const u=116*l-16,d=500*(i-l),h=200*(l-c);return[u,d,h]},n.hsl.rgb=function(s){const a=s[0]/360,i=s[1]/100,l=s[2]/100;let c,u,d;if(i===0)return d=l*255,[d,d,d];l<.5?c=l*(1+i):c=l+i-l*i;const h=2*l-c,m=[0,0,0];for(let g=0;g<3;g++)u=a+1/3*-(g-1),u<0&&u++,u>1&&u--,6*u<1?d=h+(c-h)*6*u:2*u<1?d=c:3*u<2?d=h+(c-h)*(2/3-u)*6:d=h,m[g]=d*255;return m},n.hsl.hsv=function(s){const a=s[0];let i=s[1]/100,l=s[2]/100,c=i;const u=Math.max(l,.01);l*=2,i*=l<=1?l:2-l,c*=u<=1?u:2-u;const d=(l+i)/2,h=l===0?2*c/(u+c):2*i/(l+i);return[a,h*100,d*100]},n.hsv.rgb=function(s){const a=s[0]/60,i=s[1]/100;let l=s[2]/100;const c=Math.floor(a)%6,u=a-Math.floor(a),d=255*l*(1-i),h=255*l*(1-i*u),m=255*l*(1-i*(1-u));switch(l*=255,c){case 0:return[l,m,d];case 1:return[h,l,d];case 2:return[d,l,m];case 3:return[d,h,l];case 4:return[m,d,l];case 5:return[l,d,h]}},n.hsv.hsl=function(s){const a=s[0],i=s[1]/100,l=s[2]/100,c=Math.max(l,.01);let u,d;d=(2-i)*l;const h=(2-i)*c;return u=i*c,u/=h<=1?h:2-h,u=u||0,d/=2,[a,u*100,d*100]},n.hwb.rgb=function(s){const a=s[0]/360;let i=s[1]/100,l=s[2]/100;const c=i+l;let u;c>1&&(i/=c,l/=c);const d=Math.floor(6*a),h=1-l;u=6*a-d,d&1&&(u=1-u);const m=i+u*(h-i);let g,v,x;switch(d){default:case 6:case 0:g=h,v=m,x=i;break;case 1:g=m,v=h,x=i;break;case 2:g=i,v=h,x=m;break;case 3:g=i,v=m,x=h;break;case 4:g=m,v=i,x=h;break;case 5:g=h,v=i,x=m;break}return[g*255,v*255,x*255]},n.cmyk.rgb=function(s){const a=s[0]/100,i=s[1]/100,l=s[2]/100,c=s[3]/100,u=1-Math.min(1,a*(1-c)+c),d=1-Math.min(1,i*(1-c)+c),h=1-Math.min(1,l*(1-c)+c);return[u*255,d*255,h*255]},n.xyz.rgb=function(s){const a=s[0]/100,i=s[1]/100,l=s[2]/100;let c,u,d;return c=a*3.2406+i*-1.5372+l*-.4986,u=a*-.9689+i*1.8758+l*.0415,d=a*.0557+i*-.204+l*1.057,c=c>.0031308?1.055*c**(1/2.4)-.055:c*12.92,u=u>.0031308?1.055*u**(1/2.4)-.055:u*12.92,d=d>.0031308?1.055*d**(1/2.4)-.055:d*12.92,c=Math.min(Math.max(0,c),1),u=Math.min(Math.max(0,u),1),d=Math.min(Math.max(0,d),1),[c*255,u*255,d*255]},n.xyz.lab=function(s){let a=s[0],i=s[1],l=s[2];a/=95.047,i/=100,l/=108.883,a=a>.008856?a**(1/3):7.787*a+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,l=l>.008856?l**(1/3):7.787*l+16/116;const c=116*i-16,u=500*(a-i),d=200*(i-l);return[c,u,d]},n.lab.xyz=function(s){const a=s[0],i=s[1],l=s[2];let c,u,d;u=(a+16)/116,c=i/500+u,d=u-l/200;const h=u**3,m=c**3,g=d**3;return u=h>.008856?h:(u-16/116)/7.787,c=m>.008856?m:(c-16/116)/7.787,d=g>.008856?g:(d-16/116)/7.787,c*=95.047,u*=100,d*=108.883,[c,u,d]},n.lab.lch=function(s){const a=s[0],i=s[1],l=s[2];let c;c=Math.atan2(l,i)*360/2/Math.PI,c<0&&(c+=360);const d=Math.sqrt(i*i+l*l);return[a,d,c]},n.lch.lab=function(s){const a=s[0],i=s[1],c=s[2]/360*2*Math.PI,u=i*Math.cos(c),d=i*Math.sin(c);return[a,u,d]},n.rgb.ansi16=function(s,a=null){const[i,l,c]=s;let u=a===null?n.rgb.hsv(s)[2]:a;if(u=Math.round(u/50),u===0)return 30;let d=30+(Math.round(c/255)<<2|Math.round(l/255)<<1|Math.round(i/255));return u===2&&(d+=60),d},n.hsv.ansi16=function(s){return n.rgb.ansi16(n.hsv.rgb(s),s[2])},n.rgb.ansi256=function(s){const a=s[0],i=s[1],l=s[2];return a===i&&i===l?a<8?16:a>248?231:Math.round((a-8)/247*24)+232:16+36*Math.round(a/255*5)+6*Math.round(i/255*5)+Math.round(l/255*5)},n.ansi16.rgb=function(s){let a=s%10;if(a===0||a===7)return s>50&&(a+=3.5),a=a/10.5*255,[a,a,a];const i=(~~(s>50)+1)*.5,l=(a&1)*i*255,c=(a>>1&1)*i*255,u=(a>>2&1)*i*255;return[l,c,u]},n.ansi256.rgb=function(s){if(s>=232){const u=(s-232)*10+8;return[u,u,u]}s-=16;let a;const i=Math.floor(s/36)/5*255,l=Math.floor((a=s%36)/6)/5*255,c=a%6/5*255;return[i,l,c]},n.rgb.hex=function(s){const i=(((Math.round(s[0])&255)<<16)+((Math.round(s[1])&255)<<8)+(Math.round(s[2])&255)).toString(16).toUpperCase();return"000000".substring(i.length)+i},n.hex.rgb=function(s){const a=s.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!a)return[0,0,0];let i=a[0];a[0].length===3&&(i=i.split("").map(h=>h+h).join(""));const l=parseInt(i,16),c=l>>16&255,u=l>>8&255,d=l&255;return[c,u,d]},n.rgb.hcg=function(s){const a=s[0]/255,i=s[1]/255,l=s[2]/255,c=Math.max(Math.max(a,i),l),u=Math.min(Math.min(a,i),l),d=c-u;let h,m;return d<1?h=u/(1-d):h=0,d<=0?m=0:c===a?m=(i-l)/d%6:c===i?m=2+(l-a)/d:m=4+(a-i)/d,m/=6,m%=1,[m*360,d*100,h*100]},n.hsl.hcg=function(s){const a=s[1]/100,i=s[2]/100,l=i<.5?2*a*i:2*a*(1-i);let c=0;return l<1&&(c=(i-.5*l)/(1-l)),[s[0],l*100,c*100]},n.hsv.hcg=function(s){const a=s[1]/100,i=s[2]/100,l=a*i;let c=0;return l<1&&(c=(i-l)/(1-l)),[s[0],l*100,c*100]},n.hcg.rgb=function(s){const a=s[0]/360,i=s[1]/100,l=s[2]/100;if(i===0)return[l*255,l*255,l*255];const c=[0,0,0],u=a%1*6,d=u%1,h=1-d;let m=0;switch(Math.floor(u)){case 0:c[0]=1,c[1]=d,c[2]=0;break;case 1:c[0]=h,c[1]=1,c[2]=0;break;case 2:c[0]=0,c[1]=1,c[2]=d;break;case 3:c[0]=0,c[1]=h,c[2]=1;break;case 4:c[0]=d,c[1]=0,c[2]=1;break;default:c[0]=1,c[1]=0,c[2]=h}return m=(1-i)*l,[(i*c[0]+m)*255,(i*c[1]+m)*255,(i*c[2]+m)*255]},n.hcg.hsv=function(s){const a=s[1]/100,i=s[2]/100,l=a+i*(1-a);let c=0;return l>0&&(c=a/l),[s[0],c*100,l*100]},n.hcg.hsl=function(s){const a=s[1]/100,l=s[2]/100*(1-a)+.5*a;let c=0;return l>0&&l<.5?c=a/(2*l):l>=.5&&l<1&&(c=a/(2*(1-l))),[s[0],c*100,l*100]},n.hcg.hwb=function(s){const a=s[1]/100,i=s[2]/100,l=a+i*(1-a);return[s[0],(l-a)*100,(1-l)*100]},n.hwb.hcg=function(s){const a=s[1]/100,l=1-s[2]/100,c=l-a;let u=0;return c<1&&(u=(l-c)/(1-c)),[s[0],c*100,u*100]},n.apple.rgb=function(s){return[s[0]/65535*255,s[1]/65535*255,s[2]/65535*255]},n.rgb.apple=function(s){return[s[0]/255*65535,s[1]/255*65535,s[2]/255*65535]},n.gray.rgb=function(s){return[s[0]/100*255,s[0]/100*255,s[0]/100*255]},n.gray.hsl=function(s){return[0,0,s[0]]},n.gray.hsv=n.gray.hsl,n.gray.hwb=function(s){return[0,100,s[0]]},n.gray.cmyk=function(s){return[0,0,0,s[0]]},n.gray.lab=function(s){return[s[0],0,0]},n.gray.hex=function(s){const a=Math.round(s[0]/100*255)&255,l=((a<<16)+(a<<8)+a).toString(16).toUpperCase();return"000000".substring(l.length)+l},n.rgb.gray=function(s){return[(s[0]+s[1]+s[2])/3/255*100]},oE}var lE,NJ;function r4t(){if(NJ)return lE;NJ=1;const e=g8e();function t(){const a={},i=Object.keys(e);for(let l=i.length,c=0;c<l;c++)a[i[c]]={distance:-1,parent:null};return a}function n(a){const i=t(),l=[a];for(i[a].distance=0;l.length;){const c=l.pop(),u=Object.keys(e[c]);for(let d=u.length,h=0;h<d;h++){const m=u[h],g=i[m];g.distance===-1&&(g.distance=i[c].distance+1,g.parent=c,l.unshift(m))}}return i}function r(a,i){return function(l){return i(a(l))}}function s(a,i){const l=[i[a].parent,a];let c=e[i[a].parent][a],u=i[a].parent;for(;i[u].parent;)l.unshift(i[u].parent),c=r(e[i[u].parent][u],c),u=i[u].parent;return c.conversion=l,c}return lE=function(a){const i=n(a),l={},c=Object.keys(i);for(let u=c.length,d=0;d<u;d++){const h=c[d];i[h].parent!==null&&(l[h]=s(h,i))}return l},lE}var cE,jJ;function s4t(){if(jJ)return cE;jJ=1;const e=g8e(),t=r4t(),n={},r=Object.keys(e);function s(i){const l=function(...c){const u=c[0];return u==null?u:(u.length>1&&(c=u),i(c))};return"conversion"in i&&(l.conversion=i.conversion),l}function a(i){const l=function(...c){const u=c[0];if(u==null)return u;u.length>1&&(c=u);const d=i(c);if(typeof d=="object")for(let h=d.length,m=0;m<h;m++)d[m]=Math.round(d[m]);return d};return"conversion"in i&&(l.conversion=i.conversion),l}return r.forEach(i=>{n[i]={},Object.defineProperty(n[i],"channels",{value:e[i].channels}),Object.defineProperty(n[i],"labels",{value:e[i].labels});const l=t(i);Object.keys(l).forEach(u=>{const d=l[u];n[i][u]=a(d),n[i][u].raw=s(d)})}),cE=n,cE}var uE,AJ;function a4t(){if(AJ)return uE;AJ=1;const e=n4t(),t=s4t(),n=["keyword","gray","hex"],r={};for(const m of Object.keys(t))r[[...t[m].labels].sort().join("")]=m;const s={};function a(m,g){if(!(this instanceof a))return new a(m,g);if(g&&g in n&&(g=null),g&&!(g in t))throw new Error("Unknown model: "+g);let v,x;if(m==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(m instanceof a)this.model=m.model,this.color=[...m.color],this.valpha=m.valpha;else if(typeof m=="string"){const b=e.get(m);if(b===null)throw new Error("Unable to parse color from string: "+m);this.model=b.model,x=t[this.model].channels,this.color=b.value.slice(0,x),this.valpha=typeof b.value[x]=="number"?b.value[x]:1}else if(m.length>0){this.model=g||"rgb",x=t[this.model].channels;const b=Array.prototype.slice.call(m,0,x);this.color=h(b,x),this.valpha=typeof m[x]=="number"?m[x]:1}else if(typeof m=="number")this.model="rgb",this.color=[m>>16&255,m>>8&255,m&255],this.valpha=1;else{this.valpha=1;const b=Object.keys(m);"alpha"in m&&(b.splice(b.indexOf("alpha"),1),this.valpha=typeof m.alpha=="number"?m.alpha:0);const w=b.sort().join("");if(!(w in r))throw new Error("Unable to parse color from object: "+JSON.stringify(m));this.model=r[w];const{labels:C}=t[this.model],S=[];for(v=0;v<C.length;v++)S.push(m[C[v]]);this.color=h(S)}if(s[this.model])for(x=t[this.model].channels,v=0;v<x;v++){const b=s[this.model][v];b&&(this.color[v]=b(this.color[v]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}a.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(m){let g=this.model in e.to?this:this.rgb();g=g.round(typeof m=="number"?m:1);const v=g.valpha===1?g.color:[...g.color,this.valpha];return e.to[g.model](v)},percentString(m){const g=this.rgb().round(typeof m=="number"?m:1),v=g.valpha===1?g.color:[...g.color,this.valpha];return e.to.rgb.percent(v)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const m={},{channels:g}=t[this.model],{labels:v}=t[this.model];for(let x=0;x<g;x++)m[v[x]]=this.color[x];return this.valpha!==1&&(m.alpha=this.valpha),m},unitArray(){const m=this.rgb().color;return m[0]/=255,m[1]/=255,m[2]/=255,this.valpha!==1&&m.push(this.valpha),m},unitObject(){const m=this.rgb().object();return m.r/=255,m.g/=255,m.b/=255,this.valpha!==1&&(m.alpha=this.valpha),m},round(m){return m=Math.max(m||0,0),new a([...this.color.map(l(m)),this.valpha],this.model)},alpha(m){return m!==void 0?new a([...this.color,Math.max(0,Math.min(1,m))],this.model):this.valpha},red:c("rgb",0,u(255)),green:c("rgb",1,u(255)),blue:c("rgb",2,u(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,m=>(m%360+360)%360),saturationl:c("hsl",1,u(100)),lightness:c("hsl",2,u(100)),saturationv:c("hsv",1,u(100)),value:c("hsv",2,u(100)),chroma:c("hcg",1,u(100)),gray:c("hcg",2,u(100)),white:c("hwb",1,u(100)),wblack:c("hwb",2,u(100)),cyan:c("cmyk",0,u(100)),magenta:c("cmyk",1,u(100)),yellow:c("cmyk",2,u(100)),black:c("cmyk",3,u(100)),x:c("xyz",0,u(95.047)),y:c("xyz",1,u(100)),z:c("xyz",2,u(108.833)),l:c("lab",0,u(100)),a:c("lab",1),b:c("lab",2),keyword(m){return m!==void 0?new a(m):t[this.model].keyword(this.color)},hex(m){return m!==void 0?new a(m):e.to.hex(this.rgb().round().color)},hexa(m){if(m!==void 0)return new a(m);const g=this.rgb().round().color;let v=Math.round(this.valpha*255).toString(16).toUpperCase();return v.length===1&&(v="0"+v),e.to.hex(g)+v},rgbNumber(){const m=this.rgb().color;return(m[0]&255)<<16|(m[1]&255)<<8|m[2]&255},luminosity(){const m=this.rgb().color,g=[];for(const[v,x]of m.entries()){const b=x/255;g[v]=b<=.04045?b/12.92:((b+.055)/1.055)**2.4}return .2126*g[0]+.7152*g[1]+.0722*g[2]},contrast(m){const g=this.luminosity(),v=m.luminosity();return g>v?(g+.05)/(v+.05):(v+.05)/(g+.05)},level(m){const g=this.contrast(m);return g>=7?"AAA":g>=4.5?"AA":""},isDark(){const m=this.rgb().color;return(m[0]*2126+m[1]*7152+m[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const m=this.rgb();for(let g=0;g<3;g++)m.color[g]=255-m.color[g];return m},lighten(m){const g=this.hsl();return g.color[2]+=g.color[2]*m,g},darken(m){const g=this.hsl();return g.color[2]-=g.color[2]*m,g},saturate(m){const g=this.hsl();return g.color[1]+=g.color[1]*m,g},desaturate(m){const g=this.hsl();return g.color[1]-=g.color[1]*m,g},whiten(m){const g=this.hwb();return g.color[1]+=g.color[1]*m,g},blacken(m){const g=this.hwb();return g.color[2]+=g.color[2]*m,g},grayscale(){const m=this.rgb().color,g=m[0]*.3+m[1]*.59+m[2]*.11;return a.rgb(g,g,g)},fade(m){return this.alpha(this.valpha-this.valpha*m)},opaquer(m){return this.alpha(this.valpha+this.valpha*m)},rotate(m){const g=this.hsl();let v=g.color[0];return v=(v+m)%360,v=v<0?360+v:v,g.color[0]=v,g},mix(m,g){if(!m||!m.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof m);const v=m.rgb(),x=this.rgb(),b=g===void 0?.5:g,w=2*b-1,C=v.alpha()-x.alpha(),S=((w*C===-1?w:(w+C)/(1+w*C))+1)/2,k=1-S;return a.rgb(S*v.red()+k*x.red(),S*v.green()+k*x.green(),S*v.blue()+k*x.blue(),v.alpha()*b+x.alpha()*(1-b))}};for(const m of Object.keys(t)){if(n.includes(m))continue;const{channels:g}=t[m];a.prototype[m]=function(...v){return this.model===m?new a(this):v.length>0?new a(v,m):new a([...d(t[this.model][m].raw(this.color)),this.valpha],m)},a[m]=function(...v){let x=v[0];return typeof x=="number"&&(x=h(v,g)),new a(x,m)}}function i(m,g){return Number(m.toFixed(g))}function l(m){return function(g){return i(g,m)}}function c(m,g,v){m=Array.isArray(m)?m:[m];for(const x of m)(s[x]||(s[x]=[]))[g]=v;return m=m[0],function(x){let b;return x!==void 0?(v&&(x=v(x)),b=this[m](),b.color[g]=x,b):(b=this[m]().color[g],v&&(b=v(b)),b)}}function u(m){return function(g){return Math.max(0,Math.min(m,g))}}function d(m){return Array.isArray(m)?m:[m]}function h(m,g){for(let v=0;v<g;v++)typeof m[v]!="number"&&(m[v]=0);return m}return uE=a,uE}var i4t=a4t();const Ed=Js(i4t);var RU=Hx(),rn=e=>zx(e,RU),LU=Hx();rn.write=e=>zx(e,LU);var rS=Hx();rn.onStart=e=>zx(e,rS);var OU=Hx();rn.onFrame=e=>zx(e,OU);var PU=Hx();rn.onFinish=e=>zx(e,PU);var r1=[];rn.setTimeout=(e,t)=>{const n=rn.now()+t,r=()=>{const a=r1.findIndex(i=>i.cancel==r);~a&&r1.splice(a,1),bd-=~a?1:0},s={time:n,handler:e,cancel:r};return r1.splice(v8e(n),0,s),bd+=1,y8e(),s};var v8e=e=>~(~r1.findIndex(t=>t.time>e)||~r1.length);rn.cancel=e=>{rS.delete(e),OU.delete(e),PU.delete(e),RU.delete(e),LU.delete(e)};rn.sync=e=>{AR=!0,rn.batchedUpdates(e),AR=!1};rn.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...s){t=s,rn.onStart(n)}return r.handler=e,r.cancel=()=>{rS.delete(n),t=null},r};var IU=typeof window<"u"?window.requestAnimationFrame:()=>{};rn.use=e=>IU=e;rn.now=typeof performance<"u"?()=>performance.now():Date.now;rn.batchedUpdates=e=>e();rn.catch=console.error;rn.frameLoop="always";rn.advance=()=>{rn.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):b8e()};var xd=-1,bd=0,AR=!1;function zx(e,t){AR?(t.delete(e),e(0)):(t.add(e),y8e())}function y8e(){xd<0&&(xd=0,rn.frameLoop!=="demand"&&IU(x8e))}function o4t(){xd=-1}function x8e(){~xd&&(IU(x8e),rn.batchedUpdates(b8e))}function b8e(){const e=xd;xd=rn.now();const t=v8e(xd);if(t&&(w8e(r1.splice(0,t),n=>n.handler()),bd-=t),!bd){o4t();return}rS.flush(),RU.flush(e?Math.min(64,xd-e):16.667),OU.flush(),LU.flush(),PU.flush()}function Hx(){let e=new Set,t=e;return{add(n){bd+=t==e&&!e.has(n)?1:0,e.add(n)},delete(n){return bd-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,bd-=t.size,w8e(t,r=>r(n)&&e.add(r)),bd+=e.size,t=e)}}}function w8e(e,t){e.forEach(n=>{try{t(n)}catch(r){rn.catch(r)}})}var l4t=Object.defineProperty,c4t=(e,t)=>{for(var n in t)l4t(e,n,{get:t[n],enumerable:!0})},qo={};c4t(qo,{assign:()=>d4t,colors:()=>Td,createStringInterpolator:()=>FU,skipAnimation:()=>C8e,to:()=>_8e,willAdvance:()=>UU});function RR(){}var u4t=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Je={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function Fc(e,t){if(Je.arr(e)){if(!Je.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var Zt=(e,t)=>e.forEach(t);function Kl(e,t,n){if(Je.arr(e)){for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var ja=e=>Je.und(e)?[]:Je.arr(e)?e:[e];function M2(e,t){if(e.size){const n=Array.from(e);e.clear(),Zt(n,t)}}var Kv=(e,...t)=>M2(e,n=>n(...t)),DU=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),FU,_8e,Td=null,C8e=!1,UU=RR,d4t=e=>{e.to&&(_8e=e.to),e.now&&(rn.now=e.now),e.colors!==void 0&&(Td=e.colors),e.skipAnimation!=null&&(C8e=e.skipAnimation),e.createStringInterpolator&&(FU=e.createStringInterpolator),e.requestAnimationFrame&&rn.use(e.requestAnimationFrame),e.batchedUpdates&&(rn.batchedUpdates=e.batchedUpdates),e.willAdvance&&(UU=e.willAdvance),e.frameLoop&&(rn.frameLoop=e.frameLoop)},k2=new Set,eo=[],dE=[],o6=0,sS={get idle(){return!k2.size&&!eo.length},start(e){o6>e.priority?(k2.add(e),rn.onStart(f4t)):(S8e(e),rn(LR))},advance:LR,sort(e){if(o6)rn.onFrame(()=>sS.sort(e));else{const t=eo.indexOf(e);~t&&(eo.splice(t,1),M8e(e))}},clear(){eo=[],k2.clear()}};function f4t(){k2.forEach(S8e),k2.clear(),rn(LR)}function S8e(e){eo.includes(e)||M8e(e)}function M8e(e){eo.splice(h4t(eo,t=>t.priority>e.priority),0,e)}function LR(e){const t=dE;for(let n=0;n<eo.length;n++){const r=eo[n];o6=r.priority,r.idle||(UU(r),r.advance(e),r.idle||t.push(r))}return o6=0,dE=eo,dE.length=0,eo=t,eo.length>0}function h4t(e,t){const n=e.findIndex(t);return n<0?e.length:n}var m4t={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Fo="[-+]?\\d*\\.?\\d+",l6=Fo+"%";function aS(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var p4t=new RegExp("rgb"+aS(Fo,Fo,Fo)),g4t=new RegExp("rgba"+aS(Fo,Fo,Fo,Fo)),v4t=new RegExp("hsl"+aS(Fo,l6,l6)),y4t=new RegExp("hsla"+aS(Fo,l6,l6,Fo)),x4t=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,b4t=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,w4t=/^#([0-9a-fA-F]{6})$/,_4t=/^#([0-9a-fA-F]{8})$/;function C4t(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=w4t.exec(e))?parseInt(t[1]+"ff",16)>>>0:Td&&Td[e]!==void 0?Td[e]:(t=p4t.exec(e))?(op(t[1])<<24|op(t[2])<<16|op(t[3])<<8|255)>>>0:(t=g4t.exec(e))?(op(t[1])<<24|op(t[2])<<16|op(t[3])<<8|OJ(t[4]))>>>0:(t=x4t.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=_4t.exec(e))?parseInt(t[1],16)>>>0:(t=b4t.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=v4t.exec(e))?(RJ(LJ(t[1]),R4(t[2]),R4(t[3]))|255)>>>0:(t=y4t.exec(e))?(RJ(LJ(t[1]),R4(t[2]),R4(t[3]))|OJ(t[4]))>>>0:null}function fE(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function RJ(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,s=2*n-r,a=fE(s,r,e+1/3),i=fE(s,r,e),l=fE(s,r,e-1/3);return Math.round(a*255)<<24|Math.round(i*255)<<16|Math.round(l*255)<<8}function op(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function LJ(e){return(parseFloat(e)%360+360)%360/360}function OJ(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function R4(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function PJ(e){let t=C4t(e);if(t===null)return e;t=t||0;const n=(t&4278190080)>>>24,r=(t&16711680)>>>16,s=(t&65280)>>>8,a=(t&255)/255;return`rgba(${n}, ${r}, ${s}, ${a})`}var My=(e,t,n)=>{if(Je.fun(e))return e;if(Je.arr(e))return My({range:e,output:t,extrapolate:n});if(Je.str(e.output[0]))return FU(e);const r=e,s=r.output,a=r.range||[0,1],i=r.extrapolateLeft||r.extrapolate||"extend",l=r.extrapolateRight||r.extrapolate||"extend",c=r.easing||(u=>u);return u=>{const d=M4t(u,a);return S4t(u,a[d],a[d+1],s[d],s[d+1],c,i,l,r.map)}};function S4t(e,t,n,r,s,a,i,l,c){let u=c?c(e):e;if(u<t){if(i==="identity")return u;i==="clamp"&&(u=t)}if(u>n){if(l==="identity")return u;l==="clamp"&&(u=n)}return r===s?r:t===n?e<=t?r:s:(t===-1/0?u=-u:n===1/0?u=u-t:u=(u-t)/(n-t),u=a(u),r===-1/0?u=-u:s===1/0?u=u+r:u=u*(s-r)+r,u)}function M4t(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}var k4t={linear:e=>e},ky=Symbol.for("FluidValue.get"),B1=Symbol.for("FluidValue.observers"),Zi=e=>!!(e&&e[ky]),Ka=e=>e&&e[ky]?e[ky]():e,IJ=e=>e[B1]||null;function E4t(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Ey(e,t){const n=e[B1];n&&n.forEach(r=>{E4t(r,t)})}var k8e=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");T4t(this,e)}},T4t=(e,t)=>E8e(e,ky,t);function Yg(e,t){if(e[ky]){let n=e[B1];n||E8e(e,B1,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Ty(e,t){const n=e[B1];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[B1]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var E8e=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),V5=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,N4t=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,DJ=new RegExp(`(${V5.source})(%|[a-z]+)`,"i"),j4t=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,iS=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,T8e=e=>{const[t,n]=A4t(e);if(!t||DU())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const s=window.getComputedStyle(document.documentElement).getPropertyValue(n);return s||e}else{if(n&&iS.test(n))return T8e(n);if(n)return n}return e},A4t=e=>{const t=iS.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},hE,R4t=(e,t,n,r,s)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${s})`,N8e=e=>{hE||(hE=Td?new RegExp(`(${Object.keys(Td).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(a=>Ka(a).replace(iS,T8e).replace(N4t,PJ).replace(hE,PJ)),n=t.map(a=>a.match(V5).map(Number)),s=n[0].map((a,i)=>n.map(l=>{if(!(i in l))throw Error('The arity of each "output" value must be equal');return l[i]})).map(a=>My({...e,output:a}));return a=>{const i=!DJ.test(t[0])&&t.find(c=>DJ.test(c))?.replace(V5,"");let l=0;return t[0].replace(V5,()=>`${s[l++](a)}${i||""}`).replace(j4t,R4t)}},BU="react-spring: ",j8e=e=>{const t=e;let n=!1;if(typeof t!="function")throw new TypeError(`${BU}once requires a function parameter`);return(...r)=>{n||(t(...r),n=!0)}},L4t=j8e(console.warn);function O4t(){L4t(`${BU}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var P4t=j8e(console.warn);function I4t(){P4t(`${BU}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function oS(e){return Je.str(e)&&(e[0]=="#"||/\d/.test(e)||!DU()&&iS.test(e)||e in(Td||{}))}var mh=DU()?f.useEffect:f.useLayoutEffect,D4t=()=>{const e=f.useRef(!1);return mh(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function VU(){const e=f.useState()[1],t=D4t();return()=>{t.current&&e(Math.random())}}function F4t(e,t){const[n]=f.useState(()=>({inputs:t,result:e()})),r=f.useRef(),s=r.current;let a=s;return a?t&&a.inputs&&U4t(t,a.inputs)||(a={inputs:t,result:e()}):a=n,f.useEffect(()=>{r.current=a,s==n&&(n.inputs=n.result=void 0)},[a]),a.result}function U4t(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var zU=e=>f.useEffect(e,B4t),B4t=[];function OR(e){const t=f.useRef();return f.useEffect(()=>{t.current=e}),t.current}var Ny=Symbol.for("Animated:node"),V4t=e=>!!e&&e[Ny]===e,yl=e=>e&&e[Ny],HU=(e,t)=>u4t(e,Ny,t),lS=e=>e&&e[Ny]&&e[Ny].getPayload(),A8e=class{constructor(){HU(this,this)}getPayload(){return this.payload||[]}},Wx=class extends A8e{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,Je.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new Wx(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return Je.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,Je.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},jy=class extends Wx{constructor(e){super(0),this._string=null,this._toString=My({output:[e,e]})}static create(e){return new jy(e)}getValue(){const e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(Je.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=My({output:[this.getValue(),e]})),this._value=0,super.reset()}},c6={dependencies:null},cS=class extends A8e{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return Kl(this.source,(n,r)=>{V4t(n)?t[r]=n.getValue(e):Zi(n)?t[r]=Ka(n):e||(t[r]=n)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Zt(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return Kl(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){c6.dependencies&&Zi(e)&&c6.dependencies.add(e);const t=lS(e);t&&Zt(t,n=>this.add(n))}},R8e=class extends cS{constructor(e){super(e)}static create(e){return new R8e(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const t=this.getPayload();return e.length==t.length?t.map((n,r)=>n.setValue(e[r])).some(Boolean):(super.setValue(e.map(z4t)),!0)}};function z4t(e){return(oS(e)?jy:Wx).create(e)}function PR(e){const t=yl(e);return t?t.constructor:Je.arr(e)?R8e:oS(e)?jy:Wx}var FJ=(e,t)=>{const n=!Je.fun(e)||e.prototype&&e.prototype.isReactComponent;return f.forwardRef((r,s)=>{const a=f.useRef(null),i=n&&f.useCallback(v=>{a.current=$4t(s,v)},[s]),[l,c]=W4t(r,t),u=VU(),d=()=>{const v=a.current;if(n&&!v)return;(v?t.applyAnimatedValues(v,l.getValue(!0)):!1)===!1&&u()},h=new H4t(d,c),m=f.useRef();mh(()=>(m.current=h,Zt(c,v=>Yg(v,h)),()=>{m.current&&(Zt(m.current.deps,v=>Ty(v,m.current)),rn.cancel(m.current.update))})),f.useEffect(d,[]),zU(()=>()=>{const v=m.current;Zt(v.deps,x=>Ty(x,v))});const g=t.getComponentProps(l.getValue());return f.createElement(e,{...g,ref:i})})},H4t=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&rn.write(this.update)}};function W4t(e,t){const n=new Set;return c6.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new cS(e),c6.dependencies=null,[e,n]}function $4t(e,t){return e&&(Je.fun(e)?e(t):e.current=t),t}var UJ=Symbol.for("AnimatedComponent"),q4t=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:n=s=>new cS(s),getComponentProps:r=s=>s}={})=>{const s={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},a=i=>{const l=BJ(i)||"Anonymous";return Je.str(i)?i=a[i]||(a[i]=FJ(i,s)):i=i[UJ]||(i[UJ]=FJ(i,s)),i.displayName=`Animated(${l})`,i};return Kl(e,(i,l)=>{Je.arr(e)&&(l=BJ(i)),a[l]=a(i)}),{animated:a}},BJ=e=>Je.str(e)?e:e&&Je.str(e.displayName)?e.displayName:Je.fun(e)&&e.name||null;function Qa(e,...t){return Je.fun(e)?e(...t):e}var E2=(e,t)=>e===!0||!!(t&&e&&(Je.fun(e)?e(t):ja(e).includes(t))),L8e=(e,t)=>Je.obj(e)?t&&e[t]:e,O8e=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,G4t=e=>e,uS=(e,t=G4t)=>{let n=Y4t;e.default&&e.default!==!0&&(e=e.default,n=Object.keys(e));const r={};for(const s of n){const a=t(e[s],s);Je.und(a)||(r[s]=a)}return r},Y4t=["config","onProps","onStart","onChange","onPause","onResume","onRest"],K4t={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Q4t(e){const t={};let n=0;if(Kl(e,(r,s)=>{K4t[s]||(t[s]=r,n++)}),n)return t}function WU(e){const t=Q4t(e);if(t){const n={to:t};return Kl(e,(r,s)=>s in t||(n[s]=r)),n}return{...e}}function Ay(e){return e=Ka(e),Je.arr(e)?e.map(Ay):oS(e)?qo.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function P8e(e){for(const t in e)return!0;return!1}function IR(e){return Je.fun(e)||Je.arr(e)&&Je.obj(e[0])}function DR(e,t){e.ref?.delete(e),t?.delete(e)}function I8e(e,t){t&&e.ref!==t&&(e.ref?.delete(e),t.add(e),e.ref=t)}var X4t={default:{tension:170,friction:26}},FR={...X4t.default,mass:1,damping:1,easing:k4t.linear,clamp:!1},Z4t=class{constructor(){this.velocity=0,Object.assign(this,FR)}};function J4t(e,t,n){n&&(n={...n},VJ(n,t),t={...n,...t}),VJ(e,t),Object.assign(e,t);for(const i in FR)e[i]==null&&(e[i]=FR[i]);let{frequency:r,damping:s}=e;const{mass:a}=e;return Je.und(r)||(r<.01&&(r=.01),s<0&&(s=0),e.tension=Math.pow(2*Math.PI/r,2)*a,e.friction=4*Math.PI*s*a/r),e}function VJ(e,t){if(!Je.und(t.decay))e.duration=void 0;else{const n=!Je.und(t.tension)||!Je.und(t.friction);(n||!Je.und(t.frequency)||!Je.und(t.damping)||!Je.und(t.mass))&&(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}}var zJ=[],e5t=class{constructor(){this.changed=!1,this.values=zJ,this.toValues=null,this.fromValues=zJ,this.config=new Z4t,this.immediate=!1}};function D8e(e,{key:t,props:n,defaultProps:r,state:s,actions:a}){return new Promise((i,l)=>{let c,u,d=E2(n.cancel??r?.cancel,t);if(d)g();else{Je.und(n.pause)||(s.paused=E2(n.pause,t));let v=r?.pause;v!==!0&&(v=s.paused||E2(v,t)),c=Qa(n.delay||0,t),v?(s.resumeQueue.add(m),a.pause()):(a.resume(),m())}function h(){s.resumeQueue.add(m),s.timeouts.delete(u),u.cancel(),c=u.time-rn.now()}function m(){c>0&&!qo.skipAnimation?(s.delayed=!0,u=rn.setTimeout(g,c),s.pauseQueue.add(h),s.timeouts.add(u)):g()}function g(){s.delayed&&(s.delayed=!1),s.pauseQueue.delete(h),s.timeouts.delete(u),e<=(s.cancelId||0)&&(d=!0);try{a.start({...n,callId:e,cancel:d},i)}catch(v){l(v)}}})}var $U=(e,t)=>t.length==1?t[0]:t.some(n=>n.cancelled)?s1(e.get()):t.every(n=>n.noop)?F8e(e.get()):Po(e.get(),t.every(n=>n.finished)),F8e=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Po=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),s1=e=>({value:e,cancelled:!0,finished:!1});function U8e(e,t,n,r){const{callId:s,parentId:a,onRest:i}=t,{asyncTo:l,promise:c}=n;return!a&&e===l&&!t.reset?c:n.promise=(async()=>{n.asyncId=s,n.asyncTo=e;const u=uS(t,(b,w)=>w==="onRest"?void 0:b);let d,h;const m=new Promise((b,w)=>(d=b,h=w)),g=b=>{const w=s<=(n.cancelId||0)&&s1(r)||s!==n.asyncId&&Po(r,!1);if(w)throw b.result=w,h(b),b},v=(b,w)=>{const C=new HJ,S=new WJ;return(async()=>{if(qo.skipAnimation)throw Ry(n),S.result=Po(r,!1),h(S),S;g(C);const k=Je.obj(b)?{...b}:{...w,to:b};k.parentId=s,Kl(u,(T,j)=>{Je.und(k[j])&&(k[j]=T)});const E=await r.start(k);return g(C),n.paused&&await new Promise(T=>{n.resumeQueue.add(T)}),E})()};let x;if(qo.skipAnimation)return Ry(n),Po(r,!1);try{let b;Je.arr(e)?b=(async w=>{for(const C of w)await v(C)})(e):b=Promise.resolve(e(v,r.stop.bind(r))),await Promise.all([b.then(d),m]),x=Po(r.get(),!0,!1)}catch(b){if(b instanceof HJ)x=b.result;else if(b instanceof WJ)x=b.result;else throw b}finally{s==n.asyncId&&(n.asyncId=a,n.asyncTo=a?l:void 0,n.promise=a?c:void 0)}return Je.fun(i)&&rn.batchedUpdates(()=>{i(x,r,r.item)}),x})()}function Ry(e,t){M2(e.timeouts,n=>n.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var HJ=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},WJ=class extends Error{constructor(){super("SkipAnimationSignal")}},UR=e=>e instanceof qU,t5t=1,qU=class extends k8e{constructor(){super(...arguments),this.id=t5t++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=yl(this);return e&&e.getValue()}to(...e){return qo.to(this,e)}interpolate(...e){return O4t(),qo.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Ey(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||sS.sort(this),Ey(this,{type:"priority",parent:this,priority:e})}},Wh=Symbol.for("SpringPhase"),B8e=1,V8e=2,z8e=4,mE=e=>(e[Wh]&B8e)>0,od=e=>(e[Wh]&V8e)>0,Sv=e=>(e[Wh]&z8e)>0,$J=(e,t)=>t?e[Wh]|=V8e|B8e:e[Wh]&=-3,qJ=(e,t)=>t?e[Wh]|=z8e:e[Wh]&=-5,n5t=class extends qU{constructor(e,t){if(super(),this.animation=new e5t,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Je.und(e)||!Je.und(t)){const n=Je.obj(e)?{...e}:{...t,from:e};Je.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(od(this)||this._state.asyncTo)||Sv(this)}get goal(){return Ka(this.animation.to)}get velocity(){const e=yl(this);return e instanceof Wx?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return mE(this)}get isAnimating(){return od(this)}get isPaused(){return Sv(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:s}=r;const{config:a}=r,i=lS(r.to);!i&&Zi(r.to)&&(s=ja(Ka(r.to))),r.values.forEach((u,d)=>{if(u.done)return;const h=u.constructor==jy?1:i?i[d].lastPosition:s[d];let m=r.immediate,g=h;if(!m){if(g=u.lastPosition,a.tension<=0){u.done=!0;return}let v=u.elapsedTime+=e;const x=r.fromValues[d],b=u.v0!=null?u.v0:u.v0=Je.arr(a.velocity)?a.velocity[d]:a.velocity;let w;const C=a.precision||(x==h?.005:Math.min(1,Math.abs(h-x)*.001));if(Je.und(a.duration))if(a.decay){const S=a.decay===!0?.998:a.decay,k=Math.exp(-(1-S)*v);g=x+b/(1-S)*(1-k),m=Math.abs(u.lastPosition-g)<=C,w=b*k}else{w=u.lastVelocity==null?b:u.lastVelocity;const S=a.restVelocity||C/10,k=a.clamp?0:a.bounce,E=!Je.und(k),T=x==h?u.v0>0:x<h;let j,N=!1;const R=1,O=Math.ceil(e/R);for(let I=0;I<O&&(j=Math.abs(w)>S,!(!j&&(m=Math.abs(h-g)<=C,m)));++I){E&&(N=g==h||g>h==T,N&&(w=-w*k,g=h));const B=-a.tension*1e-6*(g-h),D=-a.friction*.001*w,z=(B+D)/a.mass;w=w+z*R,g=g+w*R}}else{let S=1;a.duration>0&&(this._memoizedDuration!==a.duration&&(this._memoizedDuration=a.duration,u.durationProgress>0&&(u.elapsedTime=a.duration*u.durationProgress,v=u.elapsedTime+=e)),S=(a.progress||0)+v/this._memoizedDuration,S=S>1?1:S<0?0:S,u.durationProgress=S),g=x+a.easing(S)*(h-x),w=(g-u.lastPosition)/e,m=S==1}u.lastVelocity=w,Number.isNaN(g)&&(console.warn("Got NaN while animating:",this),m=!0)}i&&!i[d].done&&(m=!1),m?u.done=!0:t=!1,u.setValue(g,a.round)&&(n=!0)});const l=yl(this),c=l.getValue();if(t){const u=Ka(r.to);(c!==u||n)&&!a.decay?(l.setValue(u),this._onChange(u)):n&&a.decay&&this._onChange(c),this._stop()}else n&&this._onChange(c)}set(e){return rn.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(od(this)){const{to:e,config:t}=this.animation;rn.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return Je.und(e)?(n=this.queue||[],this.queue=[]):n=[Je.obj(e)?e:{...t,to:e}],Promise.all(n.map(r=>this._update(r))).then(r=>$U(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Ry(this._state,e&&this._lastCallId),rn.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=Je.obj(n)?n[t]:n,(n==null||IR(n))&&(n=void 0),r=Je.obj(r)?r[t]:r,r==null&&(r=void 0);const s={to:n,from:r};return mE(this)||(e.reverse&&([n,r]=[r,n]),r=Ka(r),Je.und(r)?yl(this)||this._set(n):this._set(r)),s}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,uS(e,(i,l)=>/^on/.test(l)?L8e(i,n):i)),YJ(this,e,"onProps"),kv(this,"onProps",e,this);const s=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const a=this._state;return D8e(++this._lastCallId,{key:n,props:e,defaultProps:r,state:a,actions:{pause:()=>{Sv(this)||(qJ(this,!0),Kv(a.pauseQueue),kv(this,"onPause",Po(this,Mv(this,this.animation.to)),this))},resume:()=>{Sv(this)&&(qJ(this,!1),od(this)&&this._resume(),Kv(a.resumeQueue),kv(this,"onResume",Po(this,Mv(this,this.animation.to)),this))},start:this._merge.bind(this,s)}}).then(i=>{if(e.loop&&i.finished&&!(t&&i.noop)){const l=H8e(e);if(l)return this._update(l,!0)}return i})}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(s1(this));const r=!Je.und(e.to),s=!Je.und(e.from);if(r||s)if(t.callId>this._lastToId)this._lastToId=t.callId;else return n(s1(this));const{key:a,defaultProps:i,animation:l}=this,{to:c,from:u}=l;let{to:d=c,from:h=u}=e;s&&!r&&(!t.default||Je.und(d))&&(d=h),t.reverse&&([d,h]=[h,d]);const m=!Fc(h,u);m&&(l.from=h),h=Ka(h);const g=!Fc(d,c);g&&this._focus(d);const v=IR(t.to),{config:x}=l,{decay:b,velocity:w}=x;(r||s)&&(x.velocity=0),t.config&&!v&&J4t(x,Qa(t.config,a),t.config!==i.config?Qa(i.config,a):void 0);let C=yl(this);if(!C||Je.und(d))return n(Po(this,!0));const S=Je.und(t.reset)?s&&!t.default:!Je.und(h)&&E2(t.reset,a),k=S?h:this.get(),E=Ay(d),T=Je.num(E)||Je.arr(E)||oS(E),j=!v&&(!T||E2(i.immediate||t.immediate,a));if(g){const I=PR(d);if(I!==C.constructor)if(j)C=this._set(E);else throw Error(`Cannot animate between ${C.constructor.name} and ${I.name}, as the "to" prop suggests`)}const N=C.constructor;let R=Zi(d),O=!1;if(!R){const I=S||!mE(this)&&m;(g||I)&&(O=Fc(Ay(k),E),R=!O),(!Fc(l.immediate,j)&&!j||!Fc(x.decay,b)||!Fc(x.velocity,w))&&(R=!0)}if(O&&od(this)&&(l.changed&&!S?R=!0:R||this._stop(c)),!v&&((R||Zi(c))&&(l.values=C.getPayload(),l.toValues=Zi(d)?null:N==jy?[1]:ja(E)),l.immediate!=j&&(l.immediate=j,!j&&!S&&this._set(c)),R)){const{onRest:I}=l;Zt(s5t,D=>YJ(this,t,D));const B=Po(this,Mv(this,c));Kv(this._pendingCalls,B),this._pendingCalls.add(n),l.changed&&rn.batchedUpdates(()=>{l.changed=!S,I?.(B,this),S?Qa(i.onRest,B):l.onStart?.(B,this)})}S&&this._set(k),v?n(U8e(t.to,t,this._state,this)):R?this._start():od(this)&&!g?this._pendingCalls.add(n):n(F8e(k))}_focus(e){const t=this.animation;e!==t.to&&(IJ(this)&&this._detach(),t.to=e,IJ(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Zi(t)&&(Yg(t,this),UR(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Zi(e)&&Ty(e,this)}_set(e,t=!0){const n=Ka(e);if(!Je.und(n)){const r=yl(this);if(!r||!Fc(n,r.getValue())){const s=PR(n);!r||r.constructor!=s?HU(this,s.create(n)):r.setValue(n),r&&rn.batchedUpdates(()=>{this._onChange(n,t)})}}return yl(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,kv(this,"onStart",Po(this,Mv(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Qa(this.animation.onChange,e,this)),Qa(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;yl(this).reset(Ka(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),od(this)||($J(this,!0),Sv(this)||this._resume())}_resume(){qo.skipAnimation?this.finish():sS.start(this)}_stop(e,t){if(od(this)){$J(this,!1);const n=this.animation;Zt(n.values,s=>{s.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Ey(this,{type:"idle",parent:this});const r=t?s1(this.get()):Po(this.get(),Mv(this,e??n.to));Kv(this._pendingCalls,r),n.changed&&(n.changed=!1,kv(this,"onRest",r,this))}}};function Mv(e,t){const n=Ay(t),r=Ay(e.get());return Fc(r,n)}function H8e(e,t=e.loop,n=e.to){const r=Qa(t);if(r){const s=r!==!0&&WU(r),a=(s||e).reverse,i=!s||s.reset;return Ly({...e,loop:t,default:!1,pause:void 0,to:!a||IR(n)?n:void 0,from:i?e.from:void 0,reset:i,...s})}}function Ly(e){const{to:t,from:n}=e=WU(e),r=new Set;return Je.obj(t)&&GJ(t,r),Je.obj(n)&&GJ(n,r),e.keys=r.size?Array.from(r):null,e}function r5t(e){const t=Ly(e);return Je.und(t.default)&&(t.default=uS(t)),t}function GJ(e,t){Kl(e,(n,r)=>n!=null&&t.add(r))}var s5t=["onStart","onRest","onChange","onPause","onResume"];function YJ(e,t,n){e.animation[n]=t[n]!==O8e(t,n)?L8e(t[n],e.key):void 0}function kv(e,t,...n){e.animation[t]?.(...n),e.defaultProps[t]?.(...n)}var a5t=["onStart","onChange","onRest"],i5t=1,W8e=class{constructor(e,t){this.id=i5t++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((t,n)=>e[n]=t.get()),e}set(e){for(const t in e){const n=e[t];Je.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(Ly(e)),this}start(e){let{queue:t}=this;return e?t=ja(e).map(Ly):this.queue=[],this._flush?this._flush(this,t):(K8e(this,t),BR(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;Zt(ja(t),r=>n[r].stop(!!e))}else Ry(this._state,this._lastAsyncId),this.each(n=>n.stop(!!e));return this}pause(e){if(Je.und(e))this.start({pause:!0});else{const t=this.springs;Zt(ja(e),n=>t[n].pause())}return this}resume(e){if(Je.und(e))this.start({pause:!1});else{const t=this.springs;Zt(ja(e),n=>t[n].resume())}return this}each(e){Kl(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,s=this._changed.size>0;(r&&!this._started||s&&!this._started)&&(this._started=!0,M2(e,([l,c])=>{c.value=this.get(),l(c,this,this._item)}));const a=!r&&this._started,i=s||a&&n.size?this.get():null;s&&t.size&&M2(t,([l,c])=>{c.value=i,l(c,this,this._item)}),a&&(this._started=!1,M2(n,([l,c])=>{c.value=i,l(c,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;rn.onFrame(this._onFrame)}};function BR(e,t){return Promise.all(t.map(n=>$8e(e,n))).then(n=>$U(e,n))}async function $8e(e,t,n){const{keys:r,to:s,from:a,loop:i,onRest:l,onResolve:c}=t,u=Je.obj(t.default)&&t.default;i&&(t.loop=!1),s===!1&&(t.to=null),a===!1&&(t.from=null);const d=Je.arr(s)||Je.fun(s)?s:void 0;d?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):Zt(a5t,x=>{const b=t[x];if(Je.fun(b)){const w=e._events[x];t[x]=({finished:C,cancelled:S})=>{const k=w.get(b);k?(C||(k.finished=!1),S&&(k.cancelled=!0)):w.set(b,{value:null,finished:C||!1,cancelled:S||!1})},u&&(u[x]=t[x])}});const h=e._state;t.pause===!h.paused?(h.paused=t.pause,Kv(t.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(t.pause=!0);const m=(r||Object.keys(e.springs)).map(x=>e.springs[x].start(t)),g=t.cancel===!0||O8e(t,"cancel")===!0;(d||g&&h.asyncId)&&m.push(D8e(++e._lastAsyncId,{props:t,state:h,actions:{pause:RR,resume:RR,start(x,b){g?(Ry(h,e._lastAsyncId),b(s1(e))):(x.onRest=l,b(U8e(d,x,h,e)))}}})),h.paused&&await new Promise(x=>{h.resumeQueue.add(x)});const v=$U(e,await Promise.all(m));if(i&&v.finished&&!(n&&v.noop)){const x=H8e(t,i,s);if(x)return K8e(e,[x]),$8e(e,x,!0)}return c&&rn.batchedUpdates(()=>c(v,e,e.item)),v}function VR(e,t){const n={...e.springs};return t&&Zt(ja(t),r=>{Je.und(r.keys)&&(r=Ly(r)),Je.obj(r.to)||(r={...r,to:void 0}),Y8e(n,r,s=>G8e(s))}),q8e(e,n),n}function q8e(e,t){Kl(t,(n,r)=>{e.springs[r]||(e.springs[r]=n,Yg(n,e))})}function G8e(e,t){const n=new n5t;return n.key=e,t&&Yg(n,t),n}function Y8e(e,t,n){t.keys&&Zt(t.keys,r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)})}function K8e(e,t){Zt(t,n=>{Y8e(e.springs,n,r=>G8e(r,e))})}var $x=({children:e,...t})=>{const n=f.useContext(u6),r=t.pause||!!n.pause,s=t.immediate||!!n.immediate;t=F4t(()=>({pause:r,immediate:s}),[r,s]);const{Provider:a}=u6;return f.createElement(a,{value:t},e)},u6=o5t($x,{});$x.Provider=u6.Provider;$x.Consumer=u6.Consumer;function o5t(e,t){return Object.assign(e,f.createContext(t)),e.Provider._context=e,e.Consumer._context=e,e}var Q8e=()=>{const e=[],t=function(r){I4t();const s=[];return Zt(e,(a,i)=>{if(Je.und(r))s.push(a.start());else{const l=n(r,a,i);l&&s.push(a.start(l))}}),s};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const s=e.indexOf(r);~s&&e.splice(s,1)},t.pause=function(){return Zt(e,r=>r.pause(...arguments)),this},t.resume=function(){return Zt(e,r=>r.resume(...arguments)),this},t.set=function(r){Zt(e,(s,a)=>{const i=Je.fun(r)?r(a,s):r;i&&s.set(i)})},t.start=function(r){const s=[];return Zt(e,(a,i)=>{if(Je.und(r))s.push(a.start());else{const l=this._getProps(r,a,i);l&&s.push(a.start(l))}}),s},t.stop=function(){return Zt(e,r=>r.stop(...arguments)),this},t.update=function(r){return Zt(e,(s,a)=>s.update(this._getProps(r,s,a))),this};const n=function(r,s,a){return Je.fun(r)?r(a,s):r};return t._getProps=n,t};function l5t(e,t,n){const r=Je.fun(t)&&t;r&&!n&&(n=[]);const s=f.useMemo(()=>r||arguments.length==3?Q8e():void 0,[]),a=f.useRef(0),i=VU(),l=f.useMemo(()=>({ctrls:[],queue:[],flush(w,C){const S=VR(w,C);return a.current>0&&!l.queue.length&&!Object.keys(S).some(E=>!w.springs[E])?BR(w,C):new Promise(E=>{q8e(w,S),l.queue.push(()=>{E(BR(w,C))}),i()})}}),[]),c=f.useRef([...l.ctrls]),u=[],d=OR(e)||0;f.useMemo(()=>{Zt(c.current.slice(e,d),w=>{DR(w,s),w.stop(!0)}),c.current.length=e,h(d,e)},[e]),f.useMemo(()=>{h(0,Math.min(d,e))},n);function h(w,C){for(let S=w;S<C;S++){const k=c.current[S]||(c.current[S]=new W8e(null,l.flush)),E=r?r(S,k):t[S];E&&(u[S]=r5t(E))}}const m=c.current.map((w,C)=>VR(w,u[C])),g=f.useContext($x),v=OR(g),x=g!==v&&P8e(g);mh(()=>{a.current++,l.ctrls=c.current;const{queue:w}=l;w.length&&(l.queue=[],Zt(w,C=>C())),Zt(c.current,(C,S)=>{s?.add(C),x&&C.start({default:g});const k=u[S];k&&(I8e(C,k.ref),C.ref?C.queue.push(k):C.start(k))})}),zU(()=>()=>{Zt(l.ctrls,w=>w.stop(!0))});const b=m.map(w=>({...w}));return s?[b,s]:b}function CXt(e,t){const n=Je.fun(e),[[r],s]=l5t(1,n?e:[e],n?[]:t);return n||arguments.length==2?[r,s]:r}function X8e(e,t,n){const r=Je.fun(t)&&t,{reset:s,sort:a,trail:i=0,expires:l=!0,exitBeforeEnter:c=!1,onDestroyed:u,ref:d,config:h}=r?r():t,m=f.useMemo(()=>r||arguments.length==3?Q8e():void 0,[]),g=ja(e),v=[],x=f.useRef(null),b=s?null:x.current;mh(()=>{x.current=v}),zU(()=>(Zt(v,z=>{m?.add(z.ctrl),z.ctrl.ref=m}),()=>{Zt(x.current,z=>{z.expired&&clearTimeout(z.expirationId),DR(z.ctrl,m),z.ctrl.stop(!0)})}));const w=u5t(g,r?r():t,b),C=s&&x.current||[];mh(()=>Zt(C,({ctrl:z,item:V,key:U})=>{DR(z,m),Qa(u,V,U)}));const S=[];if(b&&Zt(b,(z,V)=>{z.expired?(clearTimeout(z.expirationId),C.push(z)):(V=S[V]=w.indexOf(z.key),~V&&(v[V]=z))}),Zt(g,(z,V)=>{v[V]||(v[V]={key:w[V],item:z,phase:"mount",ctrl:new W8e},v[V].ctrl.item=z)}),S.length){let z=-1;const{leave:V}=r?r():t;Zt(S,(U,H)=>{const q=b[H];~U?(z=v.indexOf(q),v[z]={...q,item:g[U]}):V&&v.splice(++z,0,q)})}Je.fun(a)&&v.sort((z,V)=>a(z.item,V.item));let k=-i;const E=VU(),T=uS(t),j=new Map,N=f.useRef(new Map),R=f.useRef(!1);Zt(v,(z,V)=>{const U=z.key,H=z.phase,q=r?r():t;let $,G;const K=Qa(q.delay||0,U);if(H=="mount")$=q.enter,G="enter";else{const te=w.indexOf(U)<0;if(H!="leave")if(te)$=q.leave,G="leave";else if($=q.update)G="update";else return;else if(!te)$=q.enter,G="enter";else return}if($=Qa($,z.item,V),$=Je.obj($)?WU($):{to:$},!$.config){const te=h||T.config;$.config=Qa(te,z.item,V,G)}k+=i;const ee={...T,delay:K+k,ref:d,immediate:q.immediate,reset:!1,...$};if(G=="enter"&&Je.und(ee.from)){const te=r?r():t,re=Je.und(te.initial)||b?te.from:te.initial;ee.from=Qa(re,z.item,V)}const{onResolve:oe}=ee;ee.onResolve=te=>{Qa(oe,te);const re=x.current,X=re.find(ce=>ce.key===U);if(X&&!(te.cancelled&&X.phase!="update")&&X.ctrl.idle){const ce=re.every(se=>se.ctrl.idle);if(X.phase=="leave"){const se=Qa(l,X.item);if(se!==!1){const J=se===!0?0:se;if(X.expired=!0,!ce&&J>0){J<=2147483647&&(X.expirationId=setTimeout(E,J));return}}}ce&&re.some(se=>se.expired)&&(N.current.delete(X),c&&(R.current=!0),E())}};const ne=VR(z.ctrl,ee);G==="leave"&&c?N.current.set(z,{phase:G,springs:ne,payload:ee}):j.set(z,{phase:G,springs:ne,payload:ee})});const O=f.useContext($x),I=OR(O),B=O!==I&&P8e(O);mh(()=>{B&&Zt(v,z=>{z.ctrl.start({default:O})})},[O]),Zt(j,(z,V)=>{if(N.current.size){const U=v.findIndex(H=>H.key===V.key);v.splice(U,1)}}),mh(()=>{Zt(N.current.size?N.current:j,({phase:z,payload:V},U)=>{const{ctrl:H}=U;U.phase=z,m?.add(H),B&&z=="enter"&&H.start({default:O}),V&&(I8e(H,V.ref),(H.ref||m)&&!R.current?H.update(V):(H.start(V),R.current&&(R.current=!1)))})},s?void 0:n);const D=z=>f.createElement(f.Fragment,null,v.map((V,U)=>{const{springs:H}=j.get(V)||V.ctrl,q=z({...H},V.item,V,U);return q&&q.type?f.createElement(q.type,{...q.props,key:Je.str(V.key)||Je.num(V.key)?V.key:V.ctrl.id,ref:q.ref}):q}));return m?[D,m]:D}var c5t=1;function u5t(e,{key:t,keys:n=t},r){if(n===null){const s=new Set;return e.map(a=>{const i=r&&r.find(l=>l.item===a&&l.phase!=="leave"&&!s.has(l));return i?(s.add(i),i.key):c5t++})}return Je.und(n)?e:Je.fun(n)?e.map(n):ja(n)}var Z8e=class extends qU{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=My(...t);const n=this._get(),r=PR(n);HU(this,r.create(n))}advance(e){const t=this._get(),n=this.get();Fc(t,n)||(yl(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&KJ(this._active)&&pE(this)}_get(){const e=Je.arr(this.source)?this.source.map(Ka):ja(Ka(this.source));return this.calc(...e)}_start(){this.idle&&!KJ(this._active)&&(this.idle=!1,Zt(lS(this),e=>{e.done=!1}),qo.skipAnimation?(rn.batchedUpdates(()=>this.advance()),pE(this)):sS.start(this))}_attach(){let e=1;Zt(ja(this.source),t=>{Zi(t)&&Yg(t,this),UR(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){Zt(ja(this.source),e=>{Zi(e)&&Ty(e,this)}),this._active.clear(),pE(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=ja(this.source).reduce((t,n)=>Math.max(t,(UR(n)?n.priority:0)+1),0))}};function d5t(e){return e.idle!==!1}function KJ(e){return!e.size||Array.from(e).every(d5t)}function pE(e){e.idle||(e.idle=!0,Zt(lS(e),t=>{t.done=!0}),Ey(e,{type:"idle",parent:e}))}var f5t=(e,...t)=>new Z8e(e,t);qo.assign({createStringInterpolator:N8e,to:(e,t)=>new Z8e(e,t)});var J8e=/^--/;function h5t(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!J8e.test(e)&&!(T2.hasOwnProperty(e)&&T2[e])?t+"px":(""+t).trim()}var QJ={};function m5t(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:r,style:s,children:a,scrollTop:i,scrollLeft:l,viewBox:c,...u}=t,d=Object.values(u),h=Object.keys(u).map(m=>n||e.hasAttribute(m)?m:QJ[m]||(QJ[m]=m.replace(/([A-Z])/g,g=>"-"+g.toLowerCase())));a!==void 0&&(e.textContent=a);for(const m in s)if(s.hasOwnProperty(m)){const g=h5t(m,s[m]);J8e.test(m)?e.style.setProperty(m,g):e.style[m]=g}h.forEach((m,g)=>{e.setAttribute(m,d[g])}),r!==void 0&&(e.className=r),i!==void 0&&(e.scrollTop=i),l!==void 0&&(e.scrollLeft=l),c!==void 0&&e.setAttribute("viewBox",c)}var T2={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p5t=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),g5t=["Webkit","Ms","Moz","O"];T2=Object.keys(T2).reduce((e,t)=>(g5t.forEach(n=>e[p5t(n,t)]=e[t]),e),T2);var v5t=/^(matrix|translate|scale|rotate|skew)/,y5t=/^(translate)/,x5t=/^(rotate|skew)/,gE=(e,t)=>Je.num(e)&&e!==0?e+t:e,z5=(e,t)=>Je.arr(e)?e.every(n=>z5(n,t)):Je.num(e)?e===t:parseFloat(e)===t,b5t=class extends cS{constructor({x:e,y:t,z:n,...r}){const s=[],a=[];(e||t||n)&&(s.push([e||0,t||0,n||0]),a.push(i=>[`translate3d(${i.map(l=>gE(l,"px")).join(",")})`,z5(i,0)])),Kl(r,(i,l)=>{if(l==="transform")s.push([i||""]),a.push(c=>[c,c===""]);else if(v5t.test(l)){if(delete r[l],Je.und(i))return;const c=y5t.test(l)?"px":x5t.test(l)?"deg":"";s.push(ja(i)),a.push(l==="rotate3d"?([u,d,h,m])=>[`rotate3d(${u},${d},${h},${gE(m,c)})`,z5(m,0)]:u=>[`${l}(${u.map(d=>gE(d,c)).join(",")})`,z5(u,l.startsWith("scale")?1:0)])}}),s.length&&(r.transform=new w5t(s,a)),super(r)}},w5t=class extends k8e{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return Zt(this.inputs,(n,r)=>{const s=Ka(n[0]),[a,i]=this.transforms[r](Je.arr(s)?s:n.map(Ka));e+=" "+a,t=t&&i}),t?"none":e}observerAdded(e){e==1&&Zt(this.inputs,t=>Zt(t,n=>Zi(n)&&Yg(n,this)))}observerRemoved(e){e==0&&Zt(this.inputs,t=>Zt(t,n=>Zi(n)&&Ty(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Ey(this,e)}},_5t=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];qo.assign({batchedUpdates:Xs.unstable_batchedUpdates,createStringInterpolator:N8e,colors:m4t});var C5t=q4t(_5t,{applyAnimatedValues:m5t,createAnimatedStyle:e=>new b5t(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),H5=C5t.animated,Ev={},XJ;function qx(){if(XJ)return Ev;XJ=1,Ev.__esModule=!0,Ev.default=void 0;var e={top:"top",left:"left",right:"right",bottom:"bottom"};return Ev.default=e,Ev}var S5t=qx();const M5t=Js(S5t);var vE,ZJ;function k5t(){if(ZJ)return vE;ZJ=1,vE=e;function e(r,s,a){r instanceof RegExp&&(r=t(r,a)),s instanceof RegExp&&(s=t(s,a));var i=n(r,s,a);return i&&{start:i[0],end:i[1],pre:a.slice(0,i[0]),body:a.slice(i[0]+r.length,i[1]),post:a.slice(i[1]+s.length)}}function t(r,s){var a=s.match(r);return a?a[0]:null}e.range=n;function n(r,s,a){var i,l,c,u,d,h=a.indexOf(r),m=a.indexOf(s,h+1),g=h;if(h>=0&&m>0){for(i=[],c=a.length;g>=0&&!d;)g==h?(i.push(g),h=a.indexOf(r,g+1)):i.length==1?d=[i.pop(),m]:(l=i.pop(),l<c&&(c=l,u=m),m=a.indexOf(s,g+1)),g=h<m&&h>=0?h:m;i.length&&(d=[c,u])}return d}return vE}var yE,JJ;function E5t(){if(JJ)return yE;JJ=1,yE=e;function e(r,s,a){r instanceof RegExp&&(r=t(r,a)),s instanceof RegExp&&(s=t(s,a));var i=n(r,s,a);return i&&{start:i[0],end:i[1],pre:a.slice(0,i[0]),body:a.slice(i[0]+r.length,i[1]),post:a.slice(i[1]+s.length)}}function t(r,s){var a=s.match(r);return a?a[0]:null}e.range=n;function n(r,s,a){var i,l,c,u,d,h=a.indexOf(r),m=a.indexOf(s,h+1),g=h;if(h>=0&&m>0){if(r===s)return[h,m];for(i=[],c=a.length;g>=0&&!d;)g==h?(i.push(g),h=a.indexOf(r,g+1)):i.length==1?d=[i.pop(),m]:(l=i.pop(),l<c&&(c=l,u=m),m=a.indexOf(s,g+1)),g=h<m&&h>=0?h:m;i.length&&(d=[c,u])}return d}return yE}var xE,eee;function T5t(){if(eee)return xE;eee=1;var e=E5t();xE=t;function t(s,a,i){var l=s;return n(s,a).reduce(function(c,u){return c.replace(u.functionIdentifier+"("+u.matches.body+")",r(u.matches.body,u.functionIdentifier,i,l,a))},s)}function n(s,a){var i=[],l=typeof a=="string"?new RegExp("\\b("+a+")\\("):a;do{var c=l.exec(s);if(!c)return i;if(c[1]===void 0)throw new Error("Missing the first couple of parenthesis to get the function identifier in "+a);var u=c[1],d=c.index,h=e("(",")",s.substring(d));if(!h||h.start!==c[0].length-1)throw new SyntaxError(u+"(): missing closing ')' in the value '"+s+"'");i.push({matches:h,functionIdentifier:u}),s=h.post}while(l.test(s));return i}function r(s,a,i,l,c){return i(t(s,c,i),a,l)}return xE}var bE,tee;function N5t(){if(tee)return bE;tee=1;var e=function(t){this.value=t};return e.math={isDegree:!0,acos:function(t){return e.math.isDegree?180/Math.PI*Math.acos(t):Math.acos(t)},add:function(t,n){return t+n},asin:function(t){return e.math.isDegree?180/Math.PI*Math.asin(t):Math.asin(t)},atan:function(t){return e.math.isDegree?180/Math.PI*Math.atan(t):Math.atan(t)},acosh:function(t){return Math.log(t+Math.sqrt(t*t-1))},asinh:function(t){return Math.log(t+Math.sqrt(t*t+1))},atanh:function(t){return Math.log((1+t)/(1-t))},C:function(t,n){var r=1,s=t-n,a=n;a<s&&(a=s,s=n);for(var i=a+1;i<=t;i++)r*=i;return r/e.math.fact(s)},changeSign:function(t){return-t},cos:function(t){return e.math.isDegree&&(t=e.math.toRadian(t)),Math.cos(t)},cosh:function(t){return(Math.pow(Math.E,t)+Math.pow(Math.E,-1*t))/2},div:function(t,n){return t/n},fact:function(t){if(t%1!==0)return"NaN";for(var n=1,r=2;r<=t;r++)n*=r;return n},inverse:function(t){return 1/t},log:function(t){return Math.log(t)/Math.log(10)},mod:function(t,n){return t%n},mul:function(t,n){return t*n},P:function(t,n){for(var r=1,s=Math.floor(t)-Math.floor(n)+1;s<=Math.floor(t);s++)r*=s;return r},Pi:function(t,n,r){for(var s=1,a=t;a<=n;a++)s*=Number(r.postfixEval({n:a}));return s},pow10x:function(t){for(var n=1;t--;)n*=10;return n},sigma:function(t,n,r){for(var s=0,a=t;a<=n;a++)s+=Number(r.postfixEval({n:a}));return s},sin:function(t){return e.math.isDegree&&(t=e.math.toRadian(t)),Math.sin(t)},sinh:function(t){return(Math.pow(Math.E,t)-Math.pow(Math.E,-1*t))/2},sub:function(t,n){return t-n},tan:function(t){return e.math.isDegree&&(t=e.math.toRadian(t)),Math.tan(t)},tanh:function(t){return e.sinha(t)/e.cosha(t)},toRadian:function(t){return t*Math.PI/180},and:function(t,n){return t&n}},e.Exception=function(t){this.message=t},bE=e,bE}var wE,nee;function j5t(){if(nee)return wE;nee=1;var e=N5t();function t(C,S){for(var k=0;k<C.length;k++)C[k]+=S;return C}for(var n=[{token:"sin",show:"sin",type:0,value:e.math.sin},{token:"cos",show:"cos",type:0,value:e.math.cos},{token:"tan",show:"tan",type:0,value:e.math.tan},{token:"pi",show:"&pi;",type:3,value:"PI"},{token:"(",show:"(",type:4,value:"("},{token:")",show:")",type:5,value:")"},{token:"P",show:"P",type:10,value:e.math.P},{token:"C",show:"C",type:10,value:e.math.C},{token:" ",show:" ",type:14,value:" ".anchor},{token:"asin",show:"asin",type:0,value:e.math.asin},{token:"acos",show:"acos",type:0,value:e.math.acos},{token:"atan",show:"atan",type:0,value:e.math.atan},{token:"7",show:"7",type:1,value:"7"},{token:"8",show:"8",type:1,value:"8"},{token:"9",show:"9",type:1,value:"9"},{token:"int",show:"Int",type:0,value:Math.floor},{token:"cosh",show:"cosh",type:0,value:e.math.cosh},{token:"acosh",show:"acosh",type:0,value:e.math.acosh},{token:"ln",show:" ln",type:0,value:Math.log},{token:"^",show:"^",type:10,value:Math.pow},{token:"root",show:"root",type:0,value:Math.sqrt},{token:"4",show:"4",type:1,value:"4"},{token:"5",show:"5",type:1,value:"5"},{token:"6",show:"6",type:1,value:"6"},{token:"/",show:"&divide;",type:2,value:e.math.div},{token:"!",show:"!",type:7,value:e.math.fact},{token:"tanh",show:"tanh",type:0,value:e.math.tanh},{token:"atanh",show:"atanh",type:0,value:e.math.atanh},{token:"Mod",show:" Mod ",type:2,value:e.math.mod},{token:"1",show:"1",type:1,value:"1"},{token:"2",show:"2",type:1,value:"2"},{token:"3",show:"3",type:1,value:"3"},{token:"*",show:"&times;",type:2,value:e.math.mul},{token:"sinh",show:"sinh",type:0,value:e.math.sinh},{token:"asinh",show:"asinh",type:0,value:e.math.asinh},{token:"e",show:"e",type:3,value:"E"},{token:"log",show:" log",type:0,value:e.math.log},{token:"0",show:"0",type:1,value:"0"},{token:".",show:".",type:6,value:"."},{token:"+",show:"+",type:9,value:e.math.add},{token:"-",show:"-",type:9,value:e.math.sub},{token:",",show:",",type:11,value:","},{token:"Sigma",show:"&Sigma;",type:12,value:e.math.sigma},{token:"n",show:"n",type:13,value:"n"},{token:"Pi",show:"&Pi;",type:12,value:e.math.Pi},{token:"pow",show:"pow",type:8,value:Math.pow,numberOfArguments:2},{token:"&",show:"&",type:9,value:e.math.and}],r={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0,14:-1,15:11},s=0;s<n.length;s++)n[s].precedence=r[n[s].type];var a={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0,14:!0,15:!0},i={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0,15:!0},l={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0,15:!0},c={},u={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0,15:!0},d={1:!0},h=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"," ","&"],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];function m(C,S,k,E){for(var T=0;T<E;T++)if(C[k+T]!==S[T])return!1;return!0}e.tokenTypes={FUNCTION_WITH_ONE_ARG:0,NUMBER:1,BINARY_OPERATOR_HIGH_PRECENDENCE:2,CONSTANT:3,OPENING_PARENTHESIS:4,CLOSING_PARENTHESIS:5,DECIMAL:6,POSTFIX_FUNCTION_WITH_ONE_ARG:7,FUNCTION_WITH_N_ARGS:8,BINARY_OPERATOR_LOW_PRECENDENCE:9,BINARY_OPERATOR_PERMUTATION:10,COMMA:11,EVALUATED_FUNCTION:12,EVALUATED_FUNCTION_PARAMETER:13,SPACE:14},e.addToken=function(C){for(var S=0;S<C.length;S++){var k=C[S].token.length,E=-1;C[S].type===e.tokenTypes.FUNCTION_WITH_N_ARGS&&C[S].numberOfArguments===void 0&&(C[S].numberOfArguments=2),h[k]=h[k]||[];for(var T=0;T<h[k].length;T++)if(C[S].token===h[k][T]){E=g(h[k][T],n);break}E===-1?(n.push(C[S]),C[S].precedence=r[C[S].type],h.length<=C[S].token.length&&(h[C[S].token.length]=[]),h[C[S].token.length].push(C[S].token)):(n[E]=C[S],C[S].precedence=r[C[S].type])}};function g(C,S){for(var k=0;k<S.length;k++)if(S[k].token===C)return k;return-1}function v(C){for(var S=[],k=C.length,E,T,j,N=0;N<k;N++)if(!(N<k-1&&C[N]===" "&&C[N+1]===" ")){for(E="",T=C.length-N>h.length-2?h.length-1:C.length-N;T>0;T--)if(h[T]!==void 0)for(j=0;j<h[T].length;j++)m(C,h[T][j],N,T)&&(E=h[T][j],j=h[T].length,T=0);if(N+=E.length-1,E==="")throw new e.Exception("Can't understand after "+C.slice(N));S.push(n[g(E,n)])}return S}var x={value:e.math.changeSign,type:0,pre:21,show:"-"},b={value:")",show:")",type:5,pre:0},w={value:"(",type:4,pre:0,show:"("};return e.lex=function(C,S){var k=[w],E=[],T=C,j=a,N=0,R=c,O="",I;typeof S<"u"&&e.addToken(S);var B={},D=v(T);for(I=0;I<D.length;I++){var z=D[I];if(z.type===14){if(I>0&&I<D.length-1&&D[I+1].type===1&&(D[I-1].type===1||D[I-1].type===6))throw new e.Exception("Unexpected Space");continue}var V=z.token,U=z.type,H=z.value,q=z.precedence,$=z.show,G=k[k.length-1],K;for(K=E.length;K--&&E[K]===0;)if([0,2,3,4,5,9,11,12,13].indexOf(U)!==-1){if(j[U]!==!0)throw new e.Exception(V+" is not allowed after "+O);k.push(b),j=i,R=u,E.pop()}if(j[U]!==!0)throw new e.Exception(V+" is not allowed after "+O);if(R[U]===!0&&(U=2,H=e.math.mul,$="&times;",q=3,I=I-1),B={value:H,type:U,pre:q,show:$,numberOfArguments:z.numberOfArguments},U===0)j=a,R=c,t(E,2),k.push(B),D[I+1].type!==4&&(k.push(w),E.push(2));else if(U===1)G.type===1?(G.value+=H,t(E,1)):k.push(B),j=i,R=l;else if(U===2)j=a,R=c,t(E,2),k.push(B);else if(U===3)k.push(B),j=i,R=u;else if(U===4)t(E,1),N++,j=a,R=c,k.push(B);else if(U===5){if(!N)throw new e.Exception("Closing parenthesis are more than opening one, wait What!!!");N--,j=i,R=u,k.push(B),t(E,1)}else if(U===6){if(G.hasDec)throw new e.Exception("Two decimals are not allowed in one number");G.type!==1&&(G={value:0,type:1,pre:0},k.push(G)),j=d,t(E,1),R=c,G.value+=H,G.hasDec=!0}else U===7&&(j=i,R=u,t(E,1),k.push(B));U===8?(j=a,R=c,t(E,z.numberOfArguments+2),k.push(B),D[I+1].type!==4&&(k.push(w),E.push(z.numberOfArguments+2))):U===9?(G.type===9?G.value===e.math.add?(G.value=H,G.show=$,t(E,1)):G.value===e.math.sub&&$==="-"&&(G.value=e.math.add,G.show="+",t(E,1)):G.type!==5&&G.type!==7&&G.type!==1&&G.type!==3&&G.type!==13?V==="-"&&(j=a,R=c,t(E,2).push(2),k.push(x),k.push(w)):(k.push(B),t(E,2)),j=a,R=c):U===10?(j=a,R=c,t(E,2),k.push(B)):U===11?(j=a,R=c,k.push(B)):U===12?(j=a,R=c,t(E,6),k.push(B),D[I+1].type!==4&&(k.push(w),E.push(6))):U===13&&(j=i,R=u,k.push(B)),t(E,-1),O=V}for(K=E.length;K--;)k.push(b);if(j[5]!==!0)throw new e.Exception("complete the expression");for(;N--;)k.push(b);return k.push(b),new e(k)},wE=e,wE}var _E,ree;function A5t(){if(ree)return _E;ree=1;var e=j5t();return e.prototype.toPostfix=function(){for(var t=[],n,r,s,a,i,l=[{value:"(",type:4,pre:0}],c=this.value,u=1;u<c.length;u++)if(c[u].type===1||c[u].type===3||c[u].type===13)c[u].type===1&&(c[u].value=Number(c[u].value)),t.push(c[u]);else if(c[u].type===4)l.push(c[u]);else if(c[u].type===5)for(;(r=l.pop()).type!==4;)t.push(r);else if(c[u].type===11){for(;(r=l.pop()).type!==4;)t.push(r);l.push(r)}else{n=c[u],a=n.pre,i=l[l.length-1],s=i.pre;var d=i.value=="Math.pow"&&n.value=="Math.pow";if(a>s)l.push(n);else{for(;s>=a&&!d||d&&a<s;)r=l.pop(),i=l[l.length-1],t.push(r),s=i.pre,d=n.value=="Math.pow"&&i.value=="Math.pow";l.push(n)}}return new e(t)},_E=e,_E}var CE,see;function R5t(){if(see)return CE;see=1;var e=A5t();return e.prototype.postfixEval=function(t){t=t||{},t.PI=Math.PI,t.E=Math.E;for(var n=[],r,s,a,i=this.value,l=typeof t.n<"u",c=0;c<i.length;c++)if(i[c].type===1)n.push({value:i[c].value,type:1});else if(i[c].type===3)n.push({value:t[i[c].value],type:1});else if(i[c].type===0)typeof n[n.length-1].type>"u"?n[n.length-1].value.push(i[c]):n[n.length-1].value=i[c].value(n[n.length-1].value);else if(i[c].type===7)typeof n[n.length-1].type>"u"?n[n.length-1].value.push(i[c]):n[n.length-1].value=i[c].value(n[n.length-1].value);else if(i[c].type===8){for(var u=[],d=0;d<i[c].numberOfArguments;d++)u.push(n.pop().value);n.push({type:1,value:i[c].value.apply(i[c],u.reverse())})}else i[c].type===10?(r=n.pop(),s=n.pop(),typeof s.type>"u"?(s.value=s.concat(r),s.value.push(i[c]),n.push(s)):typeof r.type>"u"?(r.unshift(s),r.push(i[c]),n.push(r)):n.push({type:1,value:i[c].value(s.value,r.value)})):i[c].type===2||i[c].type===9?(r=n.pop(),s=n.pop(),typeof s.type>"u"?(s=s.concat(r),s.push(i[c]),n.push(s)):typeof r.type>"u"?(r.unshift(s),r.push(i[c]),n.push(r)):n.push({type:1,value:i[c].value(s.value,r.value)})):i[c].type===12?(r=n.pop(),typeof r.type<"u"&&(r=[r]),s=n.pop(),a=n.pop(),n.push({type:1,value:i[c].value(a.value,s.value,new e(r))})):i[c].type===13&&(l?n.push({value:t[i[c].value],type:3}):n.push([i[c]]));if(n.length>1)throw new e.Exception("Uncaught Syntax error");return n[0].value>1e15?"Infinity":parseFloat(n[0].value.toFixed(15))},e.eval=function(t,n,r){return typeof n>"u"?this.lex(t).toPostfix().postfixEval():typeof r>"u"?typeof n.length<"u"?this.lex(t,n).toPostfix().postfixEval():this.lex(t).toPostfix().postfixEval(n):this.lex(t,n).toPostfix().postfixEval(r)},CE=e,CE}var SE,aee;function L5t(){if(aee)return SE;aee=1;var e=R5t();return e.prototype.formulaEval=function(){for(var t,n,r,s=[],a=this.value,i=0;i<a.length;i++)a[i].type===1||a[i].type===3?s.push({value:a[i].type===3?a[i].show:a[i].value,type:1}):a[i].type===13?s.push({value:a[i].show,type:1}):a[i].type===0?s[s.length-1]={value:a[i].show+(a[i].show!="-"?"(":"")+s[s.length-1].value+(a[i].show!="-"?")":""),type:0}:a[i].type===7?s[s.length-1]={value:(s[s.length-1].type!=1?"(":"")+s[s.length-1].value+(s[s.length-1].type!=1?")":"")+a[i].show,type:7}:a[i].type===10?(t=s.pop(),n=s.pop(),a[i].show==="P"||a[i].show==="C"?s.push({value:"<sup>"+n.value+"</sup>"+a[i].show+"<sub>"+t.value+"</sub>",type:10}):s.push({value:(n.type!=1?"(":"")+n.value+(n.type!=1?")":"")+"<sup>"+t.value+"</sup>",type:1})):a[i].type===2||a[i].type===9?(t=s.pop(),n=s.pop(),s.push({value:(n.type!=1?"(":"")+n.value+(n.type!=1?")":"")+a[i].show+(t.type!=1?"(":"")+t.value+(t.type!=1?")":""),type:a[i].type})):a[i].type===12&&(t=s.pop(),n=s.pop(),r=s.pop(),s.push({value:a[i].show+"("+r.value+","+n.value+","+t.value+")",type:12}));return s[0].value},SE=e,SE}var ME,iee;function O5t(){if(iee)return ME;iee=1;var e=k5t(),t=T5t(),n=L5t(),r=100,s=/(\+|\-|\*|\\|[^a-z]|)(\s*)(\()/g,a;ME=i;function i(c,u){a=0,u=Math.pow(10,u===void 0?5:u),c=c.replace(/\n+/g," ");function d(m,g,v){if(a++>r)throw a=0,new Error("Call stack overflow for "+v);if(m==="")throw new Error(g+"(): '"+v+"' must contain a non-whitespace string");m=h(m,v);var x=l(m);if(x.length>1||m.indexOf("var(")>-1)return g+"("+m+")";var b=x[0]||"";b==="%"&&(m=m.replace(/\b[0-9\.]+%/g,function(S){return parseFloat(S.slice(0,-1))*.01}));var w=m.replace(new RegExp(b,"gi"),""),C;try{C=n.eval(w)}catch{return g+"("+m+")"}return b==="%"&&(C*=100),(g.length||b==="%")&&(C=Math.round(C*u)/u),C+=b,C}function h(m,g){m=m.replace(/((?:\-[a-z]+\-)?calc)/g,"");for(var v="",x=m,b;b=s.exec(x);){b[0].index>0&&(v+=x.substring(0,b[0].index));var w=e("(",")",x.substring([0].index));if(w.body==="")throw new Error("'"+m+"' must contain a non-whitespace string");var C=d(w.body,"",g);v+=w.pre+C,x=w.post}return v+x}return t(c,/((?:\-[a-z]+\-)?calc)\(/,d)}function l(c){for(var u=[],d=[],h=/[\.0-9]([%a-z]+)/gi,m=h.exec(c);m;)!m||!m[1]||(d.indexOf(m[1].toLowerCase())===-1&&(u.push(m[1]),d.push(m[1].toLowerCase())),m=h.exec(c));return u}return ME}var P5t=O5t();const kE=Js(P5t);var EE,oee;function I5t(){if(oee)return EE;oee=1;var e=typeof vd=="object"&&vd&&vd.Object===Object&&vd;return EE=e,EE}var TE,lee;function GU(){if(lee)return TE;lee=1;var e=I5t(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return TE=n,TE}var NE,cee;function e9e(){if(cee)return NE;cee=1;var e=GU(),t=e.Symbol;return NE=t,NE}var jE,uee;function D5t(){if(uee)return jE;uee=1;var e=e9e(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,s=e?e.toStringTag:void 0;function a(i){var l=n.call(i,s),c=i[s];try{i[s]=void 0;var u=!0}catch{}var d=r.call(i);return u&&(l?i[s]=c:delete i[s]),d}return jE=a,jE}var AE,dee;function F5t(){if(dee)return AE;dee=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return AE=n,AE}var RE,fee;function U5t(){if(fee)return RE;fee=1;var e=e9e(),t=D5t(),n=F5t(),r="[object Null]",s="[object Undefined]",a=e?e.toStringTag:void 0;function i(l){return l==null?l===void 0?s:r:a&&a in Object(l)?t(l):n(l)}return RE=i,RE}var LE,hee;function t9e(){if(hee)return LE;hee=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return LE=e,LE}var OE,mee;function B5t(){if(mee)return OE;mee=1;var e=U5t(),t=t9e(),n="[object AsyncFunction]",r="[object Function]",s="[object GeneratorFunction]",a="[object Proxy]";function i(l){if(!t(l))return!1;var c=e(l);return c==r||c==s||c==n||c==a}return OE=i,OE}var PE,pee;function V5t(){if(pee)return PE;pee=1;var e=GU(),t=e["__core-js_shared__"];return PE=t,PE}var IE,gee;function z5t(){if(gee)return IE;gee=1;var e=V5t(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return IE=n,IE}var DE,vee;function H5t(){if(vee)return DE;vee=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return DE=n,DE}var FE,yee;function W5t(){if(yee)return FE;yee=1;var e=B5t(),t=z5t(),n=t9e(),r=H5t(),s=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,i=Function.prototype,l=Object.prototype,c=i.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!n(m)||t(m))return!1;var g=e(m)?d:a;return g.test(r(m))}return FE=h,FE}var UE,xee;function $5t(){if(xee)return UE;xee=1;function e(t,n){return t?.[n]}return UE=e,UE}var BE,bee;function n9e(){if(bee)return BE;bee=1;var e=W5t(),t=$5t();function n(r,s){var a=t(r,s);return e(a)?a:void 0}return BE=n,BE}var VE,wee;function dS(){if(wee)return VE;wee=1;var e=n9e(),t=e(Object,"create");return VE=t,VE}var zE,_ee;function q5t(){if(_ee)return zE;_ee=1;var e=dS();function t(){this.__data__=e?e(null):{},this.size=0}return zE=t,zE}var HE,Cee;function G5t(){if(Cee)return HE;Cee=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return HE=e,HE}var WE,See;function Y5t(){if(See)return WE;See=1;var e=dS(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function s(a){var i=this.__data__;if(e){var l=i[a];return l===t?void 0:l}return r.call(i,a)?i[a]:void 0}return WE=s,WE}var $E,Mee;function K5t(){if(Mee)return $E;Mee=1;var e=dS(),t=Object.prototype,n=t.hasOwnProperty;function r(s){var a=this.__data__;return e?a[s]!==void 0:n.call(a,s)}return $E=r,$E}var qE,kee;function Q5t(){if(kee)return qE;kee=1;var e=dS(),t="__lodash_hash_undefined__";function n(r,s){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=e&&s===void 0?t:s,this}return qE=n,qE}var GE,Eee;function X5t(){if(Eee)return GE;Eee=1;var e=q5t(),t=G5t(),n=Y5t(),r=K5t(),s=Q5t();function a(i){var l=-1,c=i==null?0:i.length;for(this.clear();++l<c;){var u=i[l];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=s,GE=a,GE}var YE,Tee;function Z5t(){if(Tee)return YE;Tee=1;function e(){this.__data__=[],this.size=0}return YE=e,YE}var KE,Nee;function J5t(){if(Nee)return KE;Nee=1;function e(t,n){return t===n||t!==t&&n!==n}return KE=e,KE}var QE,jee;function fS(){if(jee)return QE;jee=1;var e=J5t();function t(n,r){for(var s=n.length;s--;)if(e(n[s][0],r))return s;return-1}return QE=t,QE}var XE,Aee;function ewt(){if(Aee)return XE;Aee=1;var e=fS(),t=Array.prototype,n=t.splice;function r(s){var a=this.__data__,i=e(a,s);if(i<0)return!1;var l=a.length-1;return i==l?a.pop():n.call(a,i,1),--this.size,!0}return XE=r,XE}var ZE,Ree;function twt(){if(Ree)return ZE;Ree=1;var e=fS();function t(n){var r=this.__data__,s=e(r,n);return s<0?void 0:r[s][1]}return ZE=t,ZE}var JE,Lee;function nwt(){if(Lee)return JE;Lee=1;var e=fS();function t(n){return e(this.__data__,n)>-1}return JE=t,JE}var eT,Oee;function rwt(){if(Oee)return eT;Oee=1;var e=fS();function t(n,r){var s=this.__data__,a=e(s,n);return a<0?(++this.size,s.push([n,r])):s[a][1]=r,this}return eT=t,eT}var tT,Pee;function swt(){if(Pee)return tT;Pee=1;var e=Z5t(),t=ewt(),n=twt(),r=nwt(),s=rwt();function a(i){var l=-1,c=i==null?0:i.length;for(this.clear();++l<c;){var u=i[l];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=s,tT=a,tT}var nT,Iee;function awt(){if(Iee)return nT;Iee=1;var e=n9e(),t=GU(),n=e(t,"Map");return nT=n,nT}var rT,Dee;function iwt(){if(Dee)return rT;Dee=1;var e=X5t(),t=swt(),n=awt();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return rT=r,rT}var sT,Fee;function owt(){if(Fee)return sT;Fee=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return sT=e,sT}var aT,Uee;function hS(){if(Uee)return aT;Uee=1;var e=owt();function t(n,r){var s=n.__data__;return e(r)?s[typeof r=="string"?"string":"hash"]:s.map}return aT=t,aT}var iT,Bee;function lwt(){if(Bee)return iT;Bee=1;var e=hS();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return iT=t,iT}var oT,Vee;function cwt(){if(Vee)return oT;Vee=1;var e=hS();function t(n){return e(this,n).get(n)}return oT=t,oT}var lT,zee;function uwt(){if(zee)return lT;zee=1;var e=hS();function t(n){return e(this,n).has(n)}return lT=t,lT}var cT,Hee;function dwt(){if(Hee)return cT;Hee=1;var e=hS();function t(n,r){var s=e(this,n),a=s.size;return s.set(n,r),this.size+=s.size==a?0:1,this}return cT=t,cT}var uT,Wee;function fwt(){if(Wee)return uT;Wee=1;var e=iwt(),t=lwt(),n=cwt(),r=uwt(),s=dwt();function a(i){var l=-1,c=i==null?0:i.length;for(this.clear();++l<c;){var u=i[l];this.set(u[0],u[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=s,uT=a,uT}var dT,$ee;function hwt(){if($ee)return dT;$ee=1;var e=fwt(),t="Expected a function";function n(r,s){if(typeof r!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var a=function(){var i=arguments,l=s?s.apply(this,i):i[0],c=a.cache;if(c.has(l))return c.get(l);var u=r.apply(this,i);return a.cache=c.set(l,u)||c,u};return a.cache=new(n.Cache||e),a}return n.Cache=e,dT=n,dT}var mwt=hwt();const pwt=Js(mwt);var qee="__react_svg_text_measurement_id";function gwt(e,t){try{var n=document.getElementById(qee);if(!n){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("aria-hidden","true"),r.style.width="0",r.style.height="0",r.style.position="absolute",r.style.top="-100%",r.style.left="-100%",n=document.createElementNS("http://www.w3.org/2000/svg","text"),n.setAttribute("id",qee),r.appendChild(n),document.body.appendChild(r)}return Object.assign(n.style,t),n.textContent=e,n.getComputedTextLength()}catch{return null}}const zR=pwt(gwt,function(e,t){return e+"_"+JSON.stringify(t)});var vwt=["verticalAnchor","scaleToFit","angle","width","lineHeight","capHeight","children","style"];function ywt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function fT(e){return typeof e=="number"}function Gee(e){return typeof e=="number"&&Number.isFinite(e)||typeof e=="string"}function r9e(e){var t=e.verticalAnchor,n=t===void 0?"end":t,r=e.scaleToFit,s=r===void 0?!1:r,a=e.angle,i=e.width,l=e.lineHeight,c=l===void 0?"1em":l,u=e.capHeight,d=u===void 0?"0.71em":u,h=e.children,m=e.style,g=ywt(e,vwt),v=g.x,x=v===void 0?0:v,b=g.y,w=b===void 0?0:b,C=!Gee(x)||!Gee(w),S=f.useMemo(function(){var R=h==null?[]:h.toString().split(/(?:(?!\u00A0+)\s+)/);return{wordsWithWidth:R.map(function(O){return{word:O,wordWidth:zR(O,m)||0}}),spaceWidth:zR(" ",m)||0}},[h,m]),k=S.wordsWithWidth,E=S.spaceWidth,T=f.useMemo(function(){return C?[]:i||s?k.reduce(function(R,O){var I=O.word,B=O.wordWidth,D=R[R.length-1];if(D&&(i==null||s||(D.width||0)+B+E<i))D.words.push(I),D.width=D.width||0,D.width+=B+E;else{var z={words:[I],width:B};R.push(z)}return R},[]):[{words:h==null?[]:h.toString().split(/(?:(?!\u00A0+)\s+)/)}]},[C,i,s,h,k,E]),j=f.useMemo(function(){var R=C?"":kE(n==="start"?"calc("+d+")":n==="middle"?"calc("+(T.length-1)/2+" * -"+c+" + ("+d+" / 2))":"calc("+(T.length-1)+" * -"+c+")");return R},[C,n,d,T.length,c]),N=f.useMemo(function(){var R=[];if(C)return"";if(fT(x)&&fT(w)&&fT(i)&&s&&T.length>0){var O=T[0].width||1,I=s==="shrink-only"?Math.min(i/O,1):i/O,B=I,D=x-I*x,z=w-B*w;R.push("matrix("+I+", 0, 0, "+B+", "+D+", "+z+")")}return a&&R.push("rotate("+a+", "+x+", "+w+")"),R.length>0?R.join(" "):""},[C,x,w,i,s,T,a]);return{wordsByLines:T,startDy:j,transform:N}}var xwt=["dx","dy","textAnchor","innerRef","innerTextRef","verticalAnchor","angle","lineHeight","scaleToFit","capHeight","width"];function HR(){return HR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HR.apply(null,arguments)}function bwt(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var wwt={overflow:"visible"};function mS(e){var t=e.dx,n=t===void 0?0:t,r=e.dy,s=r===void 0?0:r,a=e.textAnchor,i=a===void 0?"start":a,l=e.innerRef,c=e.innerTextRef;e.verticalAnchor,e.angle;var u=e.lineHeight,d=u===void 0?"1em":u;e.scaleToFit,e.capHeight,e.width;var h=bwt(e,xwt),m=h.x,g=m===void 0?0:m,v=h.fontSize,x=r9e(e),b=x.wordsByLines,w=x.startDy,C=x.transform;return L.createElement("svg",{ref:l,x:n,y:s,fontSize:v,style:wwt},b.length>0?L.createElement("text",HR({ref:c,transform:C},h,{textAnchor:i}),b.map(function(S,k){return L.createElement("tspan",{key:k,x:g,dy:k===0?w:d},S.words.join(" "))})):null)}const _wt=Object.freeze(Object.defineProperty({__proto__:null,Text:mS,getStringWidth:zR,useText:r9e},Symbol.toStringTag,{value:"Module"}));function N2(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Cwt(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function YU(e){let t,n,r;e.length!==2?(t=N2,n=(l,c)=>N2(e(l),c),r=(l,c)=>e(l)-c):(t=e===N2||e===Cwt?e:Swt,n=e,r=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const h=u+d>>>1;n(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function i(l,c,u=0,d=l.length){const h=s(l,c,u,d-1);return h>u&&r(l[h-1],c)>-r(l[h],c)?h-1:h}return{left:s,center:i,right:a}}function Swt(){return 0}function s9e(e){return e===null?NaN:+e}const Mwt=YU(N2),Kg=Mwt.right;YU(s9e).center;function Kc(e,t){let n,r;if(t===void 0)for(const s of e)s!=null&&(n===void 0?s>=s&&(n=r=s):(n>s&&(n=s),r<s&&(r=s)));else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class Yee extends Map{constructor(t,n=Twt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(Kee(this,t))}has(t){return super.has(Kee(this,t))}set(t,n){return super.set(kwt(this,t),n)}delete(t){return super.delete(Ewt(this,t))}}function Kee({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function kwt({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Ewt({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Twt(e){return e!==null&&typeof e=="object"?e.valueOf():e}var WR=Math.sqrt(50),$R=Math.sqrt(10),qR=Math.sqrt(2);function GR(e,t,n){var r,s=-1,a,i,l;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(a=e,e=t,t=a),(l=a9e(e,t,n))===0||!isFinite(l))return[];if(l>0){let c=Math.round(e/l),u=Math.round(t/l);for(c*l<e&&++c,u*l>t&&--u,i=new Array(a=u-c+1);++s<a;)i[s]=(c+s)*l}else{l=-l;let c=Math.round(e*l),u=Math.round(t*l);for(c/l<e&&++c,u/l>t&&--u,i=new Array(a=u-c+1);++s<a;)i[s]=(c+s)/l}return r&&i.reverse(),i}function a9e(e,t,n){var r=(t-e)/Math.max(0,n),s=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,s);return s>=0?(a>=WR?10:a>=$R?5:a>=qR?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(a>=WR?10:a>=$R?5:a>=qR?2:1)}function YR(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/s;return a>=WR?s*=10:a>=$R?s*=5:a>=qR&&(s*=2),t<e?-s:s}function Nwt(e,t,n=s9e){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,a=Math.floor(s),i=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return i+(l-i)*(s-a)}}function jwt(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(s);++r<s;)a[r]=e+r*n;return a}function vo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Qee=Symbol("implicit");function KU(){var e=new Yee,t=[],n=[],r=Qee;function s(a){let i=e.get(a);if(i===void 0){if(r!==Qee)return r;e.set(a,i=t.push(a)-1)}return n[i%n.length]}return s.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Yee;for(const i of a)e.has(i)||e.set(i,t.push(i)-1);return s},s.range=function(a){return arguments.length?(n=Array.from(a),s):n.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return KU(t,n).unknown(r)},vo.apply(s,arguments),s}function QU(){var e=KU().unknown(void 0),t=e.domain,n=e.range,r=0,s=1,a,i,l=!1,c=0,u=0,d=.5;delete e.unknown;function h(){var m=t().length,g=s<r,v=g?s:r,x=g?r:s;a=(x-v)/Math.max(1,m-c+u*2),l&&(a=Math.floor(a)),v+=(x-v-a*(m-c))*d,i=a*(1-c),l&&(v=Math.round(v),i=Math.round(i));var b=jwt(m).map(function(w){return v+a*w});return n(g?b.reverse():b)}return e.domain=function(m){return arguments.length?(t(m),h()):t()},e.range=function(m){return arguments.length?([r,s]=m,r=+r,s=+s,h()):[r,s]},e.rangeRound=function(m){return[r,s]=m,r=+r,s=+s,l=!0,h()},e.bandwidth=function(){return i},e.step=function(){return a},e.round=function(m){return arguments.length?(l=!!m,h()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),h()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,h()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),h()):d},e.copy=function(){return QU(t(),[r,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},vo.apply(h(),arguments)}function i9e(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return i9e(t())},e}function Awt(){return i9e(QU.apply(null,arguments).paddingInner(1))}function Qg(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Gx(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function vf(){}var $h=.7,V1=1/$h,a1="\\s*([+-]?\\d+)\\s*",Oy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ul="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Rwt=/^#([0-9a-f]{3,8})$/,Lwt=new RegExp(`^rgb\\(${a1},${a1},${a1}\\)$`),Owt=new RegExp(`^rgb\\(${Ul},${Ul},${Ul}\\)$`),Pwt=new RegExp(`^rgba\\(${a1},${a1},${a1},${Oy}\\)$`),Iwt=new RegExp(`^rgba\\(${Ul},${Ul},${Ul},${Oy}\\)$`),Dwt=new RegExp(`^hsl\\(${Oy},${Ul},${Ul}\\)$`),Fwt=new RegExp(`^hsla\\(${Oy},${Ul},${Ul},${Oy}\\)$`),Xee={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qg(vf,Py,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Zee,formatHex:Zee,formatHex8:Uwt,formatHsl:Bwt,formatRgb:Jee,toString:Jee});function Zee(){return this.rgb().formatHex()}function Uwt(){return this.rgb().formatHex8()}function Bwt(){return o9e(this).formatHsl()}function Jee(){return this.rgb().formatRgb()}function Py(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Rwt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ete(t):n===3?new Ps(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?L4(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?L4(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Lwt.exec(e))?new Ps(t[1],t[2],t[3],1):(t=Owt.exec(e))?new Ps(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Pwt.exec(e))?L4(t[1],t[2],t[3],t[4]):(t=Iwt.exec(e))?L4(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Dwt.exec(e))?rte(t[1],t[2]/100,t[3]/100,1):(t=Fwt.exec(e))?rte(t[1],t[2]/100,t[3]/100,t[4]):Xee.hasOwnProperty(e)?ete(Xee[e]):e==="transparent"?new Ps(NaN,NaN,NaN,0):null}function ete(e){return new Ps(e>>16&255,e>>8&255,e&255,1)}function L4(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ps(e,t,n,r)}function XU(e){return e instanceof vf||(e=Py(e)),e?(e=e.rgb(),new Ps(e.r,e.g,e.b,e.opacity)):new Ps}function KR(e,t,n,r){return arguments.length===1?XU(e):new Ps(e,t,n,r??1)}function Ps(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Qg(Ps,KR,Gx(vf,{brighter(e){return e=e==null?V1:Math.pow(V1,e),new Ps(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$h:Math.pow($h,e),new Ps(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ps(wh(this.r),wh(this.g),wh(this.b),d6(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tte,formatHex:tte,formatHex8:Vwt,formatRgb:nte,toString:nte}));function tte(){return`#${ph(this.r)}${ph(this.g)}${ph(this.b)}`}function Vwt(){return`#${ph(this.r)}${ph(this.g)}${ph(this.b)}${ph((isNaN(this.opacity)?1:this.opacity)*255)}`}function nte(){const e=d6(this.opacity);return`${e===1?"rgb(":"rgba("}${wh(this.r)}, ${wh(this.g)}, ${wh(this.b)}${e===1?")":`, ${e})`}`}function d6(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ph(e){return e=wh(e),(e<16?"0":"")+e.toString(16)}function rte(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Do(e,t,n,r)}function o9e(e){if(e instanceof Do)return new Do(e.h,e.s,e.l,e.opacity);if(e instanceof vf||(e=Py(e)),!e)return new Do;if(e instanceof Do)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),a=Math.max(t,n,r),i=NaN,l=a-s,c=(a+s)/2;return l?(t===a?i=(n-r)/l+(n<r)*6:n===a?i=(r-t)/l+2:i=(t-n)/l+4,l/=c<.5?a+s:2-a-s,i*=60):l=c>0&&c<1?0:i,new Do(i,l,c,e.opacity)}function QR(e,t,n,r){return arguments.length===1?o9e(e):new Do(e,t,n,r??1)}function Do(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Qg(Do,QR,Gx(vf,{brighter(e){return e=e==null?V1:Math.pow(V1,e),new Do(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$h:Math.pow($h,e),new Do(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new Ps(hT(e>=240?e-240:e+120,s,r),hT(e,s,r),hT(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Do(ste(this.h),O4(this.s),O4(this.l),d6(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=d6(this.opacity);return`${e===1?"hsl(":"hsla("}${ste(this.h)}, ${O4(this.s)*100}%, ${O4(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ste(e){return e=(e||0)%360,e<0?e+360:e}function O4(e){return Math.max(0,Math.min(1,e||0))}function hT(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const l9e=Math.PI/180,c9e=180/Math.PI,f6=18,u9e=.96422,d9e=1,f9e=.82521,h9e=4/29,i1=6/29,m9e=3*i1*i1,zwt=i1*i1*i1;function p9e(e){if(e instanceof Bl)return new Bl(e.l,e.a,e.b,e.opacity);if(e instanceof Qc)return g9e(e);e instanceof Ps||(e=XU(e));var t=vT(e.r),n=vT(e.g),r=vT(e.b),s=mT((.2225045*t+.7168786*n+.0606169*r)/d9e),a,i;return t===n&&n===r?a=i=s:(a=mT((.4360747*t+.3850649*n+.1430804*r)/u9e),i=mT((.0139322*t+.0971045*n+.7141733*r)/f9e)),new Bl(116*s-16,500*(a-s),200*(s-i),e.opacity)}function XR(e,t,n,r){return arguments.length===1?p9e(e):new Bl(e,t,n,r??1)}function Bl(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}Qg(Bl,XR,Gx(vf,{brighter(e){return new Bl(this.l+f6*(e??1),this.a,this.b,this.opacity)},darker(e){return new Bl(this.l-f6*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=u9e*pT(t),e=d9e*pT(e),n=f9e*pT(n),new Ps(gT(3.1338561*t-1.6168667*e-.4906146*n),gT(-.9787684*t+1.9161415*e+.033454*n),gT(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function mT(e){return e>zwt?Math.pow(e,1/3):e/m9e+h9e}function pT(e){return e>i1?e*e*e:m9e*(e-h9e)}function gT(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function vT(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Hwt(e){if(e instanceof Qc)return new Qc(e.h,e.c,e.l,e.opacity);if(e instanceof Bl||(e=p9e(e)),e.a===0&&e.b===0)return new Qc(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*c9e;return new Qc(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function ZR(e,t,n,r){return arguments.length===1?Hwt(e):new Qc(e,t,n,r??1)}function Qc(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function g9e(e){if(isNaN(e.h))return new Bl(e.l,0,0,e.opacity);var t=e.h*l9e;return new Bl(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Qg(Qc,ZR,Gx(vf,{brighter(e){return new Qc(this.h,this.c,this.l+f6*(e??1),this.opacity)},darker(e){return new Qc(this.h,this.c,this.l-f6*(e??1),this.opacity)},rgb(){return g9e(this).rgb()}}));var v9e=-.14861,ZU=1.78277,JU=-.29227,pS=-.90649,Iy=1.97294,ate=Iy*pS,ite=Iy*ZU,ote=ZU*JU-pS*v9e;function Wwt(e){if(e instanceof _h)return new _h(e.h,e.s,e.l,e.opacity);e instanceof Ps||(e=XU(e));var t=e.r/255,n=e.g/255,r=e.b/255,s=(ote*r+ate*t-ite*n)/(ote+ate-ite),a=r-s,i=(Iy*(n-s)-JU*a)/pS,l=Math.sqrt(i*i+a*a)/(Iy*s*(1-s)),c=l?Math.atan2(i,a)*c9e-120:NaN;return new _h(c<0?c+360:c,l,s,e.opacity)}function JR(e,t,n,r){return arguments.length===1?Wwt(e):new _h(e,t,n,r??1)}function _h(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Qg(_h,JR,Gx(vf,{brighter(e){return e=e==null?V1:Math.pow(V1,e),new _h(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$h:Math.pow($h,e),new _h(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*l9e,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),s=Math.sin(e);return new Ps(255*(t+n*(v9e*r+ZU*s)),255*(t+n*(JU*r+pS*s)),255*(t+n*(Iy*r)),this.opacity)}}));const gS=e=>()=>e;function y9e(e,t){return function(n){return e+n*t}}function $wt(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function eB(e,t){var n=t-e;return n?y9e(e,n>180||n<-180?n-360*Math.round(n/360):n):gS(isNaN(e)?t:e)}function qwt(e){return(e=+e)==1?Is:function(t,n){return n-t?$wt(t,n,e):gS(isNaN(t)?n:t)}}function Is(e,t){var n=t-e;return n?y9e(e,n):gS(isNaN(e)?t:e)}const eL=function e(t){var n=qwt(t);function r(s,a){var i=n((s=KR(s)).r,(a=KR(a)).r),l=n(s.g,a.g),c=n(s.b,a.b),u=Is(s.opacity,a.opacity);return function(d){return s.r=i(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return r.gamma=e,r}(1);function Gwt(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(a){for(s=0;s<n;++s)r[s]=e[s]*(1-a)+t[s]*a;return r}}function Ywt(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Kwt(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),a=new Array(n),i;for(i=0;i<r;++i)s[i]=tB(e[i],t[i]);for(;i<n;++i)a[i]=t[i];return function(l){for(i=0;i<r;++i)a[i]=s[i](l);return a}}function Qwt(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function h6(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Xwt(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=tB(e[s],t[s]):r[s]=t[s];return function(a){for(s in n)r[s]=n[s](a);return r}}var tL=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yT=new RegExp(tL.source,"g");function Zwt(e){return function(){return e}}function Jwt(e){return function(t){return e(t)+""}}function e6t(e,t){var n=tL.lastIndex=yT.lastIndex=0,r,s,a,i=-1,l=[],c=[];for(e=e+"",t=t+"";(r=tL.exec(e))&&(s=yT.exec(t));)(a=s.index)>n&&(a=t.slice(n,a),l[i]?l[i]+=a:l[++i]=a),(r=r[0])===(s=s[0])?l[i]?l[i]+=s:l[++i]=s:(l[++i]=null,c.push({i,x:h6(r,s)})),n=yT.lastIndex;return n<t.length&&(a=t.slice(n),l[i]?l[i]+=a:l[++i]=a),l.length<2?c[0]?Jwt(c[0].x):Zwt(t):(t=c.length,function(u){for(var d=0,h;d<t;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function tB(e,t){var n=typeof t,r;return t==null||n==="boolean"?gS(t):(n==="number"?h6:n==="string"?(r=Py(t))?(t=r,eL):e6t:t instanceof Py?eL:t instanceof Date?Qwt:Ywt(t)?Gwt:Array.isArray(t)?Kwt:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Xwt:h6)(e,t)}function x9e(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function b9e(e){return function(t,n){var r=e((t=QR(t)).h,(n=QR(n)).h),s=Is(t.s,n.s),a=Is(t.l,n.l),i=Is(t.opacity,n.opacity);return function(l){return t.h=r(l),t.s=s(l),t.l=a(l),t.opacity=i(l),t+""}}}const t6t=b9e(eB);var n6t=b9e(Is);function r6t(e,t){var n=Is((e=XR(e)).l,(t=XR(t)).l),r=Is(e.a,t.a),s=Is(e.b,t.b),a=Is(e.opacity,t.opacity);return function(i){return e.l=n(i),e.a=r(i),e.b=s(i),e.opacity=a(i),e+""}}function w9e(e){return function(t,n){var r=e((t=ZR(t)).h,(n=ZR(n)).h),s=Is(t.c,n.c),a=Is(t.l,n.l),i=Is(t.opacity,n.opacity);return function(l){return t.h=r(l),t.c=s(l),t.l=a(l),t.opacity=i(l),t+""}}}const s6t=w9e(eB);var a6t=w9e(Is);function _9e(e){return function t(n){n=+n;function r(s,a){var i=e((s=JR(s)).h,(a=JR(a)).h),l=Is(s.s,a.s),c=Is(s.l,a.l),u=Is(s.opacity,a.opacity);return function(d){return s.h=i(d),s.s=l(d),s.l=c(Math.pow(d,n)),s.opacity=u(d),s+""}}return r.gamma=t,r}(1)}const i6t=_9e(eB);var o6t=_9e(Is);function l6t(e){return function(){return e}}function C9e(e){return+e}var lte=[0,1];function jl(e){return e}function nL(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:l6t(isNaN(t)?NaN:.5)}function c6t(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function u6t(e,t,n){var r=e[0],s=e[1],a=t[0],i=t[1];return s<r?(r=nL(s,r),a=n(i,a)):(r=nL(r,s),a=n(a,i)),function(l){return a(r(l))}}function d6t(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),a=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)s[i]=nL(e[i],e[i+1]),a[i]=n(t[i],t[i+1]);return function(l){var c=Kg(e,l,1,r)-1;return a[c](s[c](l))}}function Yx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vS(){var e=lte,t=lte,n=tB,r,s,a,i=jl,l,c,u;function d(){var m=Math.min(e.length,t.length);return i!==jl&&(i=c6t(e[0],e[m-1])),l=m>2?d6t:u6t,c=u=null,h}function h(m){return m==null||isNaN(m=+m)?a:(c||(c=l(e.map(r),t,n)))(r(i(m)))}return h.invert=function(m){return i(s((u||(u=l(t,e.map(r),h6)))(m)))},h.domain=function(m){return arguments.length?(e=Array.from(m,C9e),d()):e.slice()},h.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},h.rangeRound=function(m){return t=Array.from(m),n=x9e,d()},h.clamp=function(m){return arguments.length?(i=m?!0:jl,d()):i!==jl},h.interpolate=function(m){return arguments.length?(n=m,d()):n},h.unknown=function(m){return arguments.length?(a=m,h):a},function(m,g){return r=m,s=g,d()}}function nB(){return vS()(jl,jl)}function f6t(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function m6(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function z1(e){return e=m6(Math.abs(e)),e?e[1]:NaN}function h6t(e,t){return function(n,r){for(var s=n.length,a=[],i=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(s-=l,s+l)),!((c+=l+1)>r));)l=e[i=(i+1)%e.length];return a.reverse().join(t)}}function m6t(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var p6t=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Dy(e){if(!(t=p6t.exec(e)))throw new Error("invalid format: "+e);var t;return new rB({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Dy.prototype=rB.prototype;function rB(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}rB.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function g6t(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var S9e;function v6t(e,t){var n=m6(e,t);if(!n)return e+"";var r=n[0],s=n[1],a=s-(S9e=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,i=r.length;return a===i?r:a>i?r+new Array(a-i+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+m6(e,Math.max(0,t+a-1))[0]}function cte(e,t){var n=m6(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const ute={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:f6t,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>cte(e*100,t),r:cte,s:v6t,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function dte(e){return e}var fte=Array.prototype.map,hte=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function y6t(e){var t=e.grouping===void 0||e.thousands===void 0?dte:h6t(fte.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?dte:m6t(fte.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=Dy(h);var m=h.fill,g=h.align,v=h.sign,x=h.symbol,b=h.zero,w=h.width,C=h.comma,S=h.precision,k=h.trim,E=h.type;E==="n"?(C=!0,E="g"):ute[E]||(S===void 0&&(S=12),k=!0,E="g"),(b||m==="0"&&g==="=")&&(b=!0,m="0",g="=");var T=x==="$"?n:x==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",j=x==="$"?r:/[%p]/.test(E)?i:"",N=ute[E],R=/[defgprs%]/.test(E);S=S===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function O(I){var B=T,D=j,z,V,U;if(E==="c")D=N(I)+D,I="";else{I=+I;var H=I<0||1/I<0;if(I=isNaN(I)?c:N(Math.abs(I),S),k&&(I=g6t(I)),H&&+I==0&&v!=="+"&&(H=!1),B=(H?v==="("?v:l:v==="-"||v==="("?"":v)+B,D=(E==="s"?hte[8+S9e/3]:"")+D+(H&&v==="("?")":""),R){for(z=-1,V=I.length;++z<V;)if(U=I.charCodeAt(z),48>U||U>57){D=(U===46?s+I.slice(z+1):I.slice(z))+D,I=I.slice(0,z);break}}}C&&!b&&(I=t(I,1/0));var q=B.length+I.length+D.length,$=q<w?new Array(w-q+1).join(m):"";switch(C&&b&&(I=t($+I,$.length?w-D.length:1/0),$=""),g){case"<":I=B+I+D+$;break;case"=":I=B+$+I+D;break;case"^":I=$.slice(0,q=$.length>>1)+B+I+D+$.slice(q);break;default:I=$+B+I+D;break}return a(I)}return O.toString=function(){return h+""},O}function d(h,m){var g=u((h=Dy(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(z1(m)/3)))*3,x=Math.pow(10,-v),b=hte[8+v/3];return function(w){return g(x*w)+b}}return{format:u,formatPrefix:d}}var P4,sB,M9e;x6t({thousands:",",grouping:[3],currency:["$",""]});function x6t(e){return P4=y6t(e),sB=P4.format,M9e=P4.formatPrefix,P4}function b6t(e){return Math.max(0,-z1(Math.abs(e)))}function w6t(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(z1(t)/3)))*3-z1(Math.abs(e)))}function _6t(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,z1(t)-z1(e))+1}function C6t(e,t,n,r){var s=YR(e,t,n),a;switch(r=Dy(r??",f"),r.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=w6t(s,i))&&(r.precision=a),M9e(r,i)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=_6t(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=b6t(s))&&(r.precision=a-(r.type==="%")*2);break}}return sB(r)}function Kx(e){var t=e.domain;return e.ticks=function(n){var r=t();return GR(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return C6t(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,a=r.length-1,i=r[s],l=r[a],c,u,d=10;for(l<i&&(u=i,i=l,l=u,u=s,s=a,a=u);d-- >0;){if(u=a9e(i,l,n),u===c)return r[s]=i,r[a]=l,t(r);if(u>0)i=Math.floor(i/u)*u,l=Math.ceil(l/u)*u;else if(u<0)i=Math.ceil(i*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function k9e(){var e=nB();return e.copy=function(){return Yx(e,k9e())},vo.apply(e,arguments),Kx(e)}function E9e(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],a=e[r],i;return a<s&&(i=n,n=r,r=i,i=s,s=a,a=i),e[n]=t.floor(s),e[r]=t.ceil(a),e}function mte(e){return Math.log(e)}function pte(e){return Math.exp(e)}function S6t(e){return-Math.log(-e)}function M6t(e){return-Math.exp(-e)}function k6t(e){return isFinite(e)?+("1e"+e):e<0?0:e}function E6t(e){return e===10?k6t:e===Math.E?Math.exp:t=>Math.pow(e,t)}function T6t(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function gte(e){return(t,n)=>-e(-t,n)}function N6t(e){const t=e(mte,pte),n=t.domain;let r=10,s,a;function i(){return s=T6t(r),a=E6t(r),n()[0]<0?(s=gte(s),a=gte(a),e(S6t,M6t)):e(mte,pte),t}return t.base=function(l){return arguments.length?(r=+l,i()):r},t.domain=function(l){return arguments.length?(n(l),i()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let m=s(u),g=s(d),v,x;const b=l==null?10:+l;let w=[];if(!(r%1)&&g-m<b){if(m=Math.floor(m),g=Math.ceil(g),u>0){for(;m<=g;++m)for(v=1;v<r;++v)if(x=m<0?v/a(-m):v*a(m),!(x<u)){if(x>d)break;w.push(x)}}else for(;m<=g;++m)for(v=r-1;v>=1;--v)if(x=m>0?v/a(-m):v*a(m),!(x<u)){if(x>d)break;w.push(x)}w.length*2<b&&(w=GR(u,d,b))}else w=GR(m,g,Math.min(g-m,b)).map(a);return h?w.reverse():w},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Dy(c)).precision==null&&(c.trim=!0),c=sB(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let h=d/a(Math.round(s(d)));return h*r<r-.5&&(h*=r),h<=u?c(d):""}},t.nice=()=>n(E9e(n(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),t}function T9e(){const e=N6t(vS()).domain([1,10]);return e.copy=()=>Yx(e,T9e()).base(e.base()),vo.apply(e,arguments),e}function vte(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function yte(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function j6t(e){var t=1,n=e(vte(t),yte(t));return n.constant=function(r){return arguments.length?e(vte(t=+r),yte(t)):t},Kx(n)}function N9e(){var e=j6t(vS());return e.copy=function(){return Yx(e,N9e()).constant(e.constant())},vo.apply(e,arguments)}function xte(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function A6t(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function R6t(e){return e<0?-e*e:e*e}function L6t(e){var t=e(jl,jl),n=1;function r(){return n===1?e(jl,jl):n===.5?e(A6t,R6t):e(xte(n),xte(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},Kx(t)}function aB(){var e=L6t(vS());return e.copy=function(){return Yx(e,aB()).exponent(e.exponent())},vo.apply(e,arguments),e}function O6t(){return aB.apply(null,arguments).exponent(.5)}function bte(e){return Math.sign(e)*e*e}function P6t(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function j9e(){var e=nB(),t=[0,1],n=!1,r;function s(a){var i=P6t(e(a));return isNaN(i)?r:n?Math.round(i):i}return s.invert=function(a){return e.invert(bte(a))},s.domain=function(a){return arguments.length?(e.domain(a),s):e.domain()},s.range=function(a){return arguments.length?(e.range((t=Array.from(a,C9e)).map(bte)),s):t.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(n=!!a,s):n},s.clamp=function(a){return arguments.length?(e.clamp(a),s):e.clamp()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return j9e(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},vo.apply(s,arguments),Kx(s)}function A9e(){var e=[],t=[],n=[],r;function s(){var i=0,l=Math.max(1,t.length);for(n=new Array(l-1);++i<l;)n[i-1]=Nwt(e,i/l);return a}function a(i){return i==null||isNaN(i=+i)?r:t[Kg(n,i)]}return a.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(N2),s()},a.range=function(i){return arguments.length?(t=Array.from(i),s()):t.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return A9e().domain(e).range(t).unknown(r)},vo.apply(a,arguments)}function R9e(){var e=0,t=1,n=1,r=[.5],s=[0,1],a;function i(c){return c!=null&&c<=c?s[Kg(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},i.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,l()):s.slice()},i.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},i.unknown=function(c){return arguments.length&&(a=c),i},i.thresholds=function(){return r.slice()},i.copy=function(){return R9e().domain([e,t]).range(s).unknown(a)},vo.apply(Kx(i),arguments)}function L9e(){var e=[.5],t=[0,1],n,r=1;function s(a){return a!=null&&a<=a?t[Kg(e,a,0,r)]:n}return s.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(a){var i=t.indexOf(a);return[e[i-1],e[i]]},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return L9e().domain(e).range(t).unknown(n)},vo.apply(s,arguments)}const xT=new Date,bT=new Date;function xs(e,t,n,r){function s(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(e(a=new Date(+a)),a),s.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),s.round=a=>{const i=s(a),l=s.ceil(a);return a-i<l-a?i:l},s.offset=(a,i)=>(t(a=new Date(+a),i==null?1:Math.floor(i)),a),s.range=(a,i,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<i)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<i);return c},s.filter=a=>xs(i=>{if(i>=i)for(;e(i),!a(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!a(i););else for(;--l>=0;)for(;t(i,1),!a(i););}),n&&(s.count=(a,i)=>(xT.setTime(+a),bT.setTime(+i),e(xT),e(bT),Math.floor(n(xT,bT))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(r?i=>r(i)%a===0:i=>s.count(0,i)%a===0):s)),s}const p6=xs(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);p6.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?xs(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):p6);p6.range;const Xc=1e3,to=Xc*60,Zc=to*60,gu=Zc*24,iB=gu*7,wte=gu*30,wT=gu*365,Jc=xs(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Xc)},(e,t)=>(t-e)/Xc,e=>e.getUTCSeconds());Jc.range;const yS=xs(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xc)},(e,t)=>{e.setTime(+e+t*to)},(e,t)=>(t-e)/to,e=>e.getMinutes());yS.range;const xS=xs(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*to)},(e,t)=>(t-e)/to,e=>e.getUTCMinutes());xS.range;const bS=xs(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xc-e.getMinutes()*to)},(e,t)=>{e.setTime(+e+t*Zc)},(e,t)=>(t-e)/Zc,e=>e.getHours());bS.range;const wS=xs(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Zc)},(e,t)=>(t-e)/Zc,e=>e.getUTCHours());wS.range;const Xg=xs(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*to)/gu,e=>e.getDate()-1);Xg.range;const Qx=xs(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gu,e=>e.getUTCDate()-1);Qx.range;const O9e=xs(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gu,e=>Math.floor(e/gu));O9e.range;function hm(e){return xs(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*to)/iB)}const Xx=hm(0),g6=hm(1),I6t=hm(2),D6t=hm(3),H1=hm(4),F6t=hm(5),U6t=hm(6);Xx.range;g6.range;I6t.range;D6t.range;H1.range;F6t.range;U6t.range;function mm(e){return xs(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/iB)}const Zx=mm(0),v6=mm(1),B6t=mm(2),V6t=mm(3),W1=mm(4),z6t=mm(5),H6t=mm(6);Zx.range;v6.range;B6t.range;V6t.range;W1.range;z6t.range;H6t.range;const Jx=xs(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Jx.range;const _S=xs(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());_S.range;const Go=xs(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Go.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xs(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Go.range;const Ql=xs(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ql.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xs(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ql.range;function P9e(e,t,n,r,s,a){const i=[[Jc,1,Xc],[Jc,5,5*Xc],[Jc,15,15*Xc],[Jc,30,30*Xc],[a,1,to],[a,5,5*to],[a,15,15*to],[a,30,30*to],[s,1,Zc],[s,3,3*Zc],[s,6,6*Zc],[s,12,12*Zc],[r,1,gu],[r,2,2*gu],[n,1,iB],[t,1,wte],[t,3,3*wte],[e,1,wT]];function l(u,d,h){const m=d<u;m&&([u,d]=[d,u]);const g=h&&typeof h.range=="function"?h:c(u,d,h),v=g?g.range(u,+d+1):[];return m?v.reverse():v}function c(u,d,h){const m=Math.abs(d-u)/h,g=YU(([,,b])=>b).right(i,m);if(g===i.length)return e.every(YR(u/wT,d/wT,h));if(g===0)return p6.every(Math.max(YR(u,d,h),1));const[v,x]=i[m/i[g-1][2]<i[g][2]/m?g-1:g];return v.every(x)}return[l,c]}const[W6t,$6t]=P9e(Ql,_S,Zx,O9e,wS,xS),[q6t,G6t]=P9e(Go,Jx,Xx,Xg,bS,yS);function _T(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function CT(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Tv(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Y6t(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,a=e.days,i=e.shortDays,l=e.months,c=e.shortMonths,u=Nv(s),d=jv(s),h=Nv(a),m=jv(a),g=Nv(i),v=jv(i),x=Nv(l),b=jv(l),w=Nv(c),C=jv(c),S={a:H,A:q,b:$,B:G,c:null,d:Ete,e:Ete,f:v_t,g:E_t,G:N_t,H:m_t,I:p_t,j:g_t,L:I9e,m:y_t,M:x_t,p:K,q:ee,Q:jte,s:Ate,S:b_t,u:w_t,U:__t,V:C_t,w:S_t,W:M_t,x:null,X:null,y:k_t,Y:T_t,Z:j_t,"%":Nte},k={a:oe,A:ne,b:te,B:re,c:null,d:Tte,e:Tte,f:O_t,g:W_t,G:q_t,H:A_t,I:R_t,j:L_t,L:F9e,m:P_t,M:I_t,p:X,q:ce,Q:jte,s:Ate,S:D_t,u:F_t,U:U_t,V:B_t,w:V_t,W:z_t,x:null,X:null,y:H_t,Y:$_t,Z:G_t,"%":Nte},E={a:O,A:I,b:B,B:D,c:z,d:Mte,e:Mte,f:u_t,g:Ste,G:Cte,H:kte,I:kte,j:i_t,L:c_t,m:a_t,M:o_t,p:R,q:s_t,Q:f_t,s:h_t,S:l_t,u:J6t,U:e_t,V:t_t,w:Z6t,W:n_t,x:V,X:U,y:Ste,Y:Cte,Z:r_t,"%":d_t};S.x=T(n,S),S.X=T(r,S),S.c=T(t,S),k.x=T(n,k),k.X=T(r,k),k.c=T(t,k);function T(se,J){return function(de){var ie=[],he=-1,pe=0,ge=se.length,Ce,we,Pe;for(de instanceof Date||(de=new Date(+de));++he<ge;)se.charCodeAt(he)===37&&(ie.push(se.slice(pe,he)),(we=_te[Ce=se.charAt(++he)])!=null?Ce=se.charAt(++he):we=Ce==="e"?" ":"0",(Pe=J[Ce])&&(Ce=Pe(de,we)),ie.push(Ce),pe=he+1);return ie.push(se.slice(pe,he)),ie.join("")}}function j(se,J){return function(de){var ie=Tv(1900,void 0,1),he=N(ie,se,de+="",0),pe,ge;if(he!=de.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(J&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(pe=CT(Tv(ie.y,0,1)),ge=pe.getUTCDay(),pe=ge>4||ge===0?v6.ceil(pe):v6(pe),pe=Qx.offset(pe,(ie.V-1)*7),ie.y=pe.getUTCFullYear(),ie.m=pe.getUTCMonth(),ie.d=pe.getUTCDate()+(ie.w+6)%7):(pe=_T(Tv(ie.y,0,1)),ge=pe.getDay(),pe=ge>4||ge===0?g6.ceil(pe):g6(pe),pe=Xg.offset(pe,(ie.V-1)*7),ie.y=pe.getFullYear(),ie.m=pe.getMonth(),ie.d=pe.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),ge="Z"in ie?CT(Tv(ie.y,0,1)).getUTCDay():_T(Tv(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(ge+5)%7:ie.w+ie.U*7-(ge+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,CT(ie)):_T(ie)}}function N(se,J,de,ie){for(var he=0,pe=J.length,ge=de.length,Ce,we;he<pe;){if(ie>=ge)return-1;if(Ce=J.charCodeAt(he++),Ce===37){if(Ce=J.charAt(he++),we=E[Ce in _te?J.charAt(he++):Ce],!we||(ie=we(se,de,ie))<0)return-1}else if(Ce!=de.charCodeAt(ie++))return-1}return ie}function R(se,J,de){var ie=u.exec(J.slice(de));return ie?(se.p=d.get(ie[0].toLowerCase()),de+ie[0].length):-1}function O(se,J,de){var ie=g.exec(J.slice(de));return ie?(se.w=v.get(ie[0].toLowerCase()),de+ie[0].length):-1}function I(se,J,de){var ie=h.exec(J.slice(de));return ie?(se.w=m.get(ie[0].toLowerCase()),de+ie[0].length):-1}function B(se,J,de){var ie=w.exec(J.slice(de));return ie?(se.m=C.get(ie[0].toLowerCase()),de+ie[0].length):-1}function D(se,J,de){var ie=x.exec(J.slice(de));return ie?(se.m=b.get(ie[0].toLowerCase()),de+ie[0].length):-1}function z(se,J,de){return N(se,t,J,de)}function V(se,J,de){return N(se,n,J,de)}function U(se,J,de){return N(se,r,J,de)}function H(se){return i[se.getDay()]}function q(se){return a[se.getDay()]}function $(se){return c[se.getMonth()]}function G(se){return l[se.getMonth()]}function K(se){return s[+(se.getHours()>=12)]}function ee(se){return 1+~~(se.getMonth()/3)}function oe(se){return i[se.getUTCDay()]}function ne(se){return a[se.getUTCDay()]}function te(se){return c[se.getUTCMonth()]}function re(se){return l[se.getUTCMonth()]}function X(se){return s[+(se.getUTCHours()>=12)]}function ce(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var J=T(se+="",S);return J.toString=function(){return se},J},parse:function(se){var J=j(se+="",!1);return J.toString=function(){return se},J},utcFormat:function(se){var J=T(se+="",k);return J.toString=function(){return se},J},utcParse:function(se){var J=j(se+="",!0);return J.toString=function(){return se},J}}}var _te={"-":"",_:" ",0:"0"},zs=/^\s*\d+/,K6t=/^%/,Q6t=/[\\^$*+?|[\]().{}]/g;function Pn(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",a=s.length;return r+(a<n?new Array(n-a+1).join(t)+s:s)}function X6t(e){return e.replace(Q6t,"\\$&")}function Nv(e){return new RegExp("^(?:"+e.map(X6t).join("|")+")","i")}function jv(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Z6t(e,t,n){var r=zs.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function J6t(e,t,n){var r=zs.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function e_t(e,t,n){var r=zs.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function t_t(e,t,n){var r=zs.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function n_t(e,t,n){var r=zs.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Cte(e,t,n){var r=zs.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Ste(e,t,n){var r=zs.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function r_t(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function s_t(e,t,n){var r=zs.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function a_t(e,t,n){var r=zs.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Mte(e,t,n){var r=zs.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function i_t(e,t,n){var r=zs.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function kte(e,t,n){var r=zs.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function o_t(e,t,n){var r=zs.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function l_t(e,t,n){var r=zs.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function c_t(e,t,n){var r=zs.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function u_t(e,t,n){var r=zs.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function d_t(e,t,n){var r=K6t.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function f_t(e,t,n){var r=zs.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function h_t(e,t,n){var r=zs.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Ete(e,t){return Pn(e.getDate(),t,2)}function m_t(e,t){return Pn(e.getHours(),t,2)}function p_t(e,t){return Pn(e.getHours()%12||12,t,2)}function g_t(e,t){return Pn(1+Xg.count(Go(e),e),t,3)}function I9e(e,t){return Pn(e.getMilliseconds(),t,3)}function v_t(e,t){return I9e(e,t)+"000"}function y_t(e,t){return Pn(e.getMonth()+1,t,2)}function x_t(e,t){return Pn(e.getMinutes(),t,2)}function b_t(e,t){return Pn(e.getSeconds(),t,2)}function w_t(e){var t=e.getDay();return t===0?7:t}function __t(e,t){return Pn(Xx.count(Go(e)-1,e),t,2)}function D9e(e){var t=e.getDay();return t>=4||t===0?H1(e):H1.ceil(e)}function C_t(e,t){return e=D9e(e),Pn(H1.count(Go(e),e)+(Go(e).getDay()===4),t,2)}function S_t(e){return e.getDay()}function M_t(e,t){return Pn(g6.count(Go(e)-1,e),t,2)}function k_t(e,t){return Pn(e.getFullYear()%100,t,2)}function E_t(e,t){return e=D9e(e),Pn(e.getFullYear()%100,t,2)}function T_t(e,t){return Pn(e.getFullYear()%1e4,t,4)}function N_t(e,t){var n=e.getDay();return e=n>=4||n===0?H1(e):H1.ceil(e),Pn(e.getFullYear()%1e4,t,4)}function j_t(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Pn(t/60|0,"0",2)+Pn(t%60,"0",2)}function Tte(e,t){return Pn(e.getUTCDate(),t,2)}function A_t(e,t){return Pn(e.getUTCHours(),t,2)}function R_t(e,t){return Pn(e.getUTCHours()%12||12,t,2)}function L_t(e,t){return Pn(1+Qx.count(Ql(e),e),t,3)}function F9e(e,t){return Pn(e.getUTCMilliseconds(),t,3)}function O_t(e,t){return F9e(e,t)+"000"}function P_t(e,t){return Pn(e.getUTCMonth()+1,t,2)}function I_t(e,t){return Pn(e.getUTCMinutes(),t,2)}function D_t(e,t){return Pn(e.getUTCSeconds(),t,2)}function F_t(e){var t=e.getUTCDay();return t===0?7:t}function U_t(e,t){return Pn(Zx.count(Ql(e)-1,e),t,2)}function U9e(e){var t=e.getUTCDay();return t>=4||t===0?W1(e):W1.ceil(e)}function B_t(e,t){return e=U9e(e),Pn(W1.count(Ql(e),e)+(Ql(e).getUTCDay()===4),t,2)}function V_t(e){return e.getUTCDay()}function z_t(e,t){return Pn(v6.count(Ql(e)-1,e),t,2)}function H_t(e,t){return Pn(e.getUTCFullYear()%100,t,2)}function W_t(e,t){return e=U9e(e),Pn(e.getUTCFullYear()%100,t,2)}function $_t(e,t){return Pn(e.getUTCFullYear()%1e4,t,4)}function q_t(e,t){var n=e.getUTCDay();return e=n>=4||n===0?W1(e):W1.ceil(e),Pn(e.getUTCFullYear()%1e4,t,4)}function G_t(){return"+0000"}function Nte(){return"%"}function jte(e){return+e}function Ate(e){return Math.floor(+e/1e3)}var lp,eb,B9e;Y_t({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Y_t(e){return lp=Y6t(e),eb=lp.format,lp.parse,B9e=lp.utcFormat,lp.utcParse,lp}function K_t(e){return new Date(e)}function Q_t(e){return e instanceof Date?+e:+new Date(+e)}function oB(e,t,n,r,s,a,i,l,c,u){var d=nB(),h=d.invert,m=d.domain,g=u(".%L"),v=u(":%S"),x=u("%I:%M"),b=u("%I %p"),w=u("%a %d"),C=u("%b %d"),S=u("%B"),k=u("%Y");function E(T){return(c(T)<T?g:l(T)<T?v:i(T)<T?x:a(T)<T?b:r(T)<T?s(T)<T?w:C:n(T)<T?S:k)(T)}return d.invert=function(T){return new Date(h(T))},d.domain=function(T){return arguments.length?m(Array.from(T,Q_t)):m().map(K_t)},d.ticks=function(T){var j=m();return e(j[0],j[j.length-1],T??10)},d.tickFormat=function(T,j){return j==null?E:u(j)},d.nice=function(T){var j=m();return(!T||typeof T.range!="function")&&(T=t(j[0],j[j.length-1],T??10)),T?m(E9e(j,T)):d},d.copy=function(){return Yx(d,oB(e,t,n,r,s,a,i,l,c,u))},d}function X_t(){return vo.apply(oB(q6t,G6t,Go,Jx,Xx,Xg,bS,yS,Jc,eb).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Z_t(){return vo.apply(oB(W6t,$6t,Ql,_S,Zx,Qx,wS,xS,Jc,B9e).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function J_t(e,t){t.domain&&("nice"in e||"quantiles"in e||"padding"in e,e.domain(t.domain))}function eCt(e,t){t.range&&("padding"in e,e.range(t.range))}function tCt(e,t){"align"in e&&"align"in t&&typeof t.align<"u"&&e.align(t.align)}function nCt(e,t){"base"in e&&"base"in t&&typeof t.base<"u"&&e.base(t.base)}function rCt(e,t){"clamp"in e&&"clamp"in t&&typeof t.clamp<"u"&&e.clamp(t.clamp)}function sCt(e,t){"constant"in e&&"constant"in t&&typeof t.constant<"u"&&e.constant(t.constant)}function aCt(e,t){"exponent"in e&&"exponent"in t&&typeof t.exponent<"u"&&e.exponent(t.exponent)}var Rte={lab:r6t,hcl:s6t,"hcl-long":a6t,hsl:t6t,"hsl-long":n6t,cubehelix:i6t,"cubehelix-long":o6t,rgb:eL};function iCt(e){switch(e){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return Rte[e]}var t=e.type,n=e.gamma,r=Rte[t];return typeof n>"u"?r:r.gamma(n)}function oCt(e,t){if("interpolate"in t&&"interpolate"in e&&typeof t.interpolate<"u"){var n=iCt(t.interpolate);e.interpolate(n)}}var lCt=new Date(Date.UTC(2020,1,2,3,4,5)),cCt="%Y-%m-%d %H:%M";function V9e(e){var t=e.tickFormat(1,cCt)(lCt);return t==="2020-02-02 03:04"}var Lte={day:Xg,hour:bS,minute:yS,month:Jx,second:Jc,week:Xx,year:Go},Ote={day:Qx,hour:wS,minute:xS,month:_S,second:Jc,week:Zx,year:Ql};function uCt(e,t){if("nice"in t&&typeof t.nice<"u"&&"nice"in e){var n=t.nice;if(typeof n=="boolean")n&&e.nice();else if(typeof n=="number")e.nice(n);else{var r=e,s=V9e(r);if(typeof n=="string")r.nice(s?Ote[n]:Lte[n]);else{var a=n.interval,i=n.step,l=(s?Ote[a]:Lte[a]).every(i);l!=null&&r.nice(l)}}}}function dCt(e,t){"padding"in e&&"padding"in t&&typeof t.padding<"u"&&e.padding(t.padding),"paddingInner"in e&&"paddingInner"in t&&typeof t.paddingInner<"u"&&e.paddingInner(t.paddingInner),"paddingOuter"in e&&"paddingOuter"in t&&typeof t.paddingOuter<"u"&&e.paddingOuter(t.paddingOuter)}function fCt(e,t){if(t.reverse){var n=e.range().slice().reverse();"padding"in e,e.range(n)}}function hCt(e,t){"round"in t&&typeof t.round<"u"&&(t.round&&"interpolate"in t&&typeof t.interpolate<"u"?console.warn("[visx/scale/applyRound] ignoring round: scale config contains round and interpolate. only applying interpolate. config:",t):"round"in e?e.round(t.round):"interpolate"in e&&t.round&&e.interpolate(x9e))}function mCt(e,t){"unknown"in e&&"unknown"in t&&typeof t.unknown<"u"&&e.unknown(t.unknown)}function pCt(e,t){if("zero"in t&&t.zero===!0){var n=e.domain(),r=n[0],s=n[1],a=s<r,i=a?[s,r]:[r,s],l=i[0],c=i[1],u=[Math.min(0,l),Math.max(0,c)];e.domain(a?u.reverse():u)}}var z9e=["domain","nice","zero","interpolate","round","range","reverse","align","base","clamp","constant","exponent","padding","unknown"],gCt={domain:J_t,nice:uCt,zero:pCt,interpolate:oCt,round:hCt,align:tCt,base:nCt,clamp:rCt,constant:sCt,exponent:aCt,padding:dCt,range:eCt,reverse:fCt,unknown:mCt};function Ba(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new Set(t),s=z9e.filter(function(a){return r.has(a)});return function(i,l){return typeof l<"u"&&s.forEach(function(c){gCt[c](i,l)}),i}}var vCt=Ba("domain","range","reverse","align","padding","round");function lB(e){return vCt(QU(),e)}var yCt=Ba("domain","range","reverse","align","padding","round");function cB(e){return yCt(Awt(),e)}var xCt=Ba("domain","range","reverse","clamp","interpolate","nice","round","zero");function $1(e){return xCt(k9e(),e)}var bCt=Ba("domain","range","clamp","nice","round","unknown");function wCt(e){return bCt(j9e(),e)}var _Ct=Ba("domain","range","reverse","clamp","interpolate","nice","round");function tb(e){return _Ct(X_t(),e)}var CCt=Ba("domain","range","reverse","clamp","interpolate","nice","round");function H9e(e){return CCt(Z_t(),e)}var SCt=Ba("domain","range","reverse","base","clamp","interpolate","nice","round");function uB(e){return SCt(T9e(),e)}var MCt=Ba("domain","range","reverse","clamp","exponent","interpolate","nice","round","zero");function W9e(e){return MCt(aB(),e)}var kCt=Ba("domain","range","reverse","unknown");function dB(e){return kCt(KU(),e)}var ECt=Ba("domain","range","reverse","nice","zero");function $9e(e){return ECt(R9e(),e)}var TCt=Ba("domain","range","reverse");function q9e(e){return TCt(A9e(),e)}var NCt=Ba("domain","range","reverse","clamp","constant","nice","zero","round");function G9e(e){return NCt(N9e(),e)}var jCt=Ba("domain","range","reverse");function Y9e(e){return jCt(L9e(),e)}var ACt=Ba("domain","range","reverse","clamp","interpolate","nice","round","zero");function K9e(e){return ACt(O6t(),e)}function RCt(e){if(typeof e<"u"&&"type"in e)switch(e.type){case"linear":return $1(e);case"log":return uB(e);case"pow":return W9e(e);case"sqrt":return K9e(e);case"symlog":return G9e(e);case"time":return tb(e);case"utc":return H9e(e);case"quantile":return q9e(e);case"quantize":return $9e(e);case"threshold":return Y9e(e);case"ordinal":return dB(e);case"point":return cB(e);case"band":return lB(e)}return $1(e)}var LCt=Ba.apply(void 0,z9e);function OCt(e,t){return LCt(e.copy(),t)}function PCt(e){return"paddingInner"in e?"band":"padding"in e?"point":"quantiles"in e?"quantile":"base"in e?"log":"exponent"in e?e.exponent()===.5?"sqrt":"pow":"constant"in e?"symlog":"clamp"in e?e.ticks()[0]instanceof Date?V9e(e)?"utc":"time":"linear":"nice"in e?"quantize":"invertExtent"in e?"threshold":"ordinal"}function CS(e){if((typeof e=="function"||typeof e=="object"&&e)&&"valueOf"in e){var t=e.valueOf();if(typeof t=="number")return t}return e}function fB(e,t){var n=e;return"ticks"in n?n.ticks(t):n.domain().filter(function(r,s,a){return t==null||a.length<=t||s%Math.round((a.length-1)/t)===0})}function Q9e(e){return e?.toString()}var ICt=new Set(["linear","pow","quantize","sqrt","symlog"]);function DCt(e){return ICt.has(e.type)}const FCt=Object.freeze(Object.defineProperty({__proto__:null,coerceNumber:CS,createScale:RCt,getTicks:fB,inferScaleType:PCt,scaleBand:lB,scaleCanBeZeroed:DCt,scaleLinear:$1,scaleLog:uB,scaleOrdinal:dB,scalePoint:cB,scalePower:W9e,scaleQuantile:q9e,scaleQuantize:$9e,scaleRadial:wCt,scaleSqrt:K9e,scaleSymlog:G9e,scaleThreshold:Y9e,scaleTime:tb,scaleUtc:H9e,toString:Q9e,updateScale:OCt},Symbol.toStringTag,{value:"Module"}));function I4(e,t,n,r,s){var a;switch(e){case"center":return s;case"min":return n??0;case"max":return r??0;case"outside":default:return(a=(t??0)<s?n:r)!=null?a:0}}function Pte(e){var t=e.from,n=e.to;return{fromX:t.x,toX:n.x,fromY:t.y,toY:n.y,opacity:1}}function X9e(e){var t=e.scale,n=e.animateXOrY,r=e.animationTrajectory,s=r===void 0?"outside":r,a=n==="x";return f.useMemo(function(){var i=t.range().map(CS),l=i[0],c=i[1],u=c!=null&&l!=null&&c<l,d=u?[c,l]:[l,c],h=d[0],m=d[1],g=c!=null&&l!=null?Math.abs(c-l):0,v=(h??0)+g/2,x=s;!a&&s==="min"&&(x="max"),!a&&s==="max"&&(x="min");var b=function(C){var S=C.from,k=C.to;return{fromX:a?I4(x,S.x,h,m,v):S.x,toX:a?I4(x,S.x,h,m,v):k.x,fromY:a?S.y:I4(x,S.y,h,m,v),toY:a?k.y:I4(x,S.y,h,m,v),opacity:0}};return{from:b,leave:b,enter:Pte,update:Pte}},[t,a,s])}function j2(){return j2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j2.apply(null,arguments)}function UCt(e){var t=e.hideTicks,n=e.horizontal,r=e.orientation,s=e.scale,a=e.tickClassName,i=e.tickComponent,l=e.tickLabelProps,c=e.tickStroke,u=c===void 0?"#222":c,d=e.tickTransform,h=e.ticks,m=e.tickLineProps,g=e.animationTrajectory,v=X8e(h,j2({},X9e({scale:s,animateXOrY:n?"x":"y",animationTrajectory:g}),{keys:function(b){return"tick-"+b.value+"-"+b.index}}));return L.createElement(L.Fragment,null,v(function(x,b,w,C){var S,k,E=x.fromX,T=x.toX,j=x.fromY,N=x.toY,R=x.opacity,O=w.key,I=(S=(k=l[C])!=null?k:l[0])!=null?S:{};return b==null||O==null?null:L.createElement(H5.g,{key:O,className:W("visx-axis-tick",a),transform:d},!t&&L.createElement(H5.line,j2({x1:E,x2:T,y1:j,y2:N,stroke:u,strokeLinecap:"square",strokeOpacity:R},m)),L.createElement(H5.g,{key:C,transform:f5t([T,N],function(B,D){var z;return"translate("+B+","+(D+(r===M5t.bottom&&typeof I.fontSize=="number"?(z=I.fontSize)!=null?z:10:0))+")"}),opacity:R},i?i(j2({},I,{x:T,y:N,formattedValue:b?.formattedValue})):L.createElement(mS,I,b?.formattedValue)))}))}var D4={},BCt=["top","left","transform","className","children","innerRef"];function rL(){return rL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rL.apply(this,arguments)}function VCt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function si(e){var t=e.top,n=t===void 0?0:t,r=e.left,s=r===void 0?0:r,a=e.transform,i=e.className,l=e.children,c=e.innerRef,u=VCt(e,BCt);return L.createElement("g",rL({ref:c,className:W("visx-group",i),transform:a||"translate("+s+", "+n+")"},u),l)}si.propTypes={top:Ae.number,left:Ae.number,transform:Ae.string,className:Ae.string,children:Ae.node,innerRef:Ae.oneOfType([Ae.string,Ae.func,Ae.object])};const zCt=Object.freeze(Object.defineProperty({__proto__:null,Group:si},Symbol.toStringTag,{value:"Module"})),hB=rx(zCt),mB=rx(FCt);var F4={},sL=Math.PI,aL=2*sL,oh=1e-6,HCt=aL-oh;function iL(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ri(){return new iL}iL.prototype=Ri.prototype={constructor:iL,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,s,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+s)+","+(this._y1=+a)},arcTo:function(e,t,n,r,s){e=+e,t=+t,n=+n,r=+r,s=+s;var a=this._x1,i=this._y1,l=n-e,c=r-t,u=a-e,d=i-t,h=u*u+d*d;if(s<0)throw new Error("negative radius: "+s);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>oh)if(!(Math.abs(d*l-c*u)>oh)||!s)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var m=n-a,g=r-i,v=l*l+c*c,x=m*m+g*g,b=Math.sqrt(v),w=Math.sqrt(h),C=s*Math.tan((sL-Math.acos((v+h-x)/(2*b*w)))/2),S=C/w,k=C/b;Math.abs(S-1)>oh&&(this._+="L"+(e+S*u)+","+(t+S*d)),this._+="A"+s+","+s+",0,0,"+ +(d*m>u*g)+","+(this._x1=e+k*l)+","+(this._y1=t+k*c)}},arc:function(e,t,n,r,s,a){e=+e,t=+t,n=+n,a=!!a;var i=n*Math.cos(r),l=n*Math.sin(r),c=e+i,u=t+l,d=1^a,h=a?r-s:s-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+c+","+u:(Math.abs(this._x1-c)>oh||Math.abs(this._y1-u)>oh)&&(this._+="L"+c+","+u),n&&(h<0&&(h=h%aL+aL),h>HCt?this._+="A"+n+","+n+",0,1,"+d+","+(e-i)+","+(t-l)+"A"+n+","+n+",0,1,"+d+","+(this._x1=c)+","+(this._y1=u):h>oh&&(this._+="A"+n+","+n+",0,"+ +(h>=sL)+","+d+","+(this._x1=e+n*Math.cos(s))+","+(this._y1=t+n*Math.sin(s))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function Cn(e){return function(){return e}}var Ite=Math.abs,ra=Math.atan2,Xf=Math.cos,WCt=Math.max,ST=Math.min,fl=Math.sin,Up=Math.sqrt,qa=1e-12,Fy=Math.PI,y6=Fy/2,W5=2*Fy;function $Ct(e){return e>1?0:e<-1?Fy:Math.acos(e)}function Dte(e){return e>=1?y6:e<=-1?-y6:Math.asin(e)}function qCt(e){return e.innerRadius}function GCt(e){return e.outerRadius}function YCt(e){return e.startAngle}function KCt(e){return e.endAngle}function QCt(e){return e&&e.padAngle}function XCt(e,t,n,r,s,a,i,l){var c=n-e,u=r-t,d=i-s,h=l-a,m=h*c-d*u;if(!(m*m<qa))return m=(d*(t-a)-h*(e-s))/m,[e+m*c,t+m*u]}function U4(e,t,n,r,s,a,i){var l=e-n,c=t-r,u=(i?a:-a)/Up(l*l+c*c),d=u*c,h=-u*l,m=e+d,g=t+h,v=n+d,x=r+h,b=(m+v)/2,w=(g+x)/2,C=v-m,S=x-g,k=C*C+S*S,E=s-a,T=m*x-v*g,j=(S<0?-1:1)*Up(WCt(0,E*E*k-T*T)),N=(T*S-C*j)/k,R=(-T*C-S*j)/k,O=(T*S+C*j)/k,I=(-T*C+S*j)/k,B=N-b,D=R-w,z=O-b,V=I-w;return B*B+D*D>z*z+V*V&&(N=O,R=I),{cx:N,cy:R,x01:-d,y01:-h,x11:N*(s/E-1),y11:R*(s/E-1)}}function ZCt(){var e=qCt,t=GCt,n=Cn(0),r=null,s=YCt,a=KCt,i=QCt,l=null;function c(){var u,d,h=+e.apply(this,arguments),m=+t.apply(this,arguments),g=s.apply(this,arguments)-y6,v=a.apply(this,arguments)-y6,x=Ite(v-g),b=v>g;if(l||(l=u=Ri()),m<h&&(d=m,m=h,h=d),!(m>qa))l.moveTo(0,0);else if(x>W5-qa)l.moveTo(m*Xf(g),m*fl(g)),l.arc(0,0,m,g,v,!b),h>qa&&(l.moveTo(h*Xf(v),h*fl(v)),l.arc(0,0,h,v,g,b));else{var w=g,C=v,S=g,k=v,E=x,T=x,j=i.apply(this,arguments)/2,N=j>qa&&(r?+r.apply(this,arguments):Up(h*h+m*m)),R=ST(Ite(m-h)/2,+n.apply(this,arguments)),O=R,I=R,B,D;if(N>qa){var z=Dte(N/h*fl(j)),V=Dte(N/m*fl(j));(E-=z*2)>qa?(z*=b?1:-1,S+=z,k-=z):(E=0,S=k=(g+v)/2),(T-=V*2)>qa?(V*=b?1:-1,w+=V,C-=V):(T=0,w=C=(g+v)/2)}var U=m*Xf(w),H=m*fl(w),q=h*Xf(k),$=h*fl(k);if(R>qa){var G=m*Xf(C),K=m*fl(C),ee=h*Xf(S),oe=h*fl(S),ne;if(x<Fy&&(ne=XCt(U,H,ee,oe,G,K,q,$))){var te=U-ne[0],re=H-ne[1],X=G-ne[0],ce=K-ne[1],se=1/fl($Ct((te*X+re*ce)/(Up(te*te+re*re)*Up(X*X+ce*ce)))/2),J=Up(ne[0]*ne[0]+ne[1]*ne[1]);O=ST(R,(h-J)/(se-1)),I=ST(R,(m-J)/(se+1))}}T>qa?I>qa?(B=U4(ee,oe,U,H,m,I,b),D=U4(G,K,q,$,m,I,b),l.moveTo(B.cx+B.x01,B.cy+B.y01),I<R?l.arc(B.cx,B.cy,I,ra(B.y01,B.x01),ra(D.y01,D.x01),!b):(l.arc(B.cx,B.cy,I,ra(B.y01,B.x01),ra(B.y11,B.x11),!b),l.arc(0,0,m,ra(B.cy+B.y11,B.cx+B.x11),ra(D.cy+D.y11,D.cx+D.x11),!b),l.arc(D.cx,D.cy,I,ra(D.y11,D.x11),ra(D.y01,D.x01),!b))):(l.moveTo(U,H),l.arc(0,0,m,w,C,!b)):l.moveTo(U,H),!(h>qa)||!(E>qa)?l.lineTo(q,$):O>qa?(B=U4(q,$,G,K,h,-O,b),D=U4(U,H,ee,oe,h,-O,b),l.lineTo(B.cx+B.x01,B.cy+B.y01),O<R?l.arc(B.cx,B.cy,O,ra(B.y01,B.x01),ra(D.y01,D.x01),!b):(l.arc(B.cx,B.cy,O,ra(B.y01,B.x01),ra(B.y11,B.x11),!b),l.arc(0,0,h,ra(B.cy+B.y11,B.cx+B.x11),ra(D.cy+D.y11,D.cx+D.x11),b),l.arc(D.cx,D.cy,O,ra(D.y11,D.x11),ra(D.y01,D.x01),!b))):l.arc(0,0,h,k,S,b)}if(l.closePath(),u)return l=null,u+""||null}return c.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+s.apply(this,arguments)+ +a.apply(this,arguments))/2-Fy/2;return[Xf(d)*u,fl(d)*u]},c.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:Cn(+u),c):e},c.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:Cn(+u),c):t},c.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:Cn(+u),c):n},c.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Cn(+u),c):r},c.startAngle=function(u){return arguments.length?(s=typeof u=="function"?u:Cn(+u),c):s},c.endAngle=function(u){return arguments.length?(a=typeof u=="function"?u:Cn(+u),c):a},c.padAngle=function(u){return arguments.length?(i=typeof u=="function"?u:Cn(+u),c):i},c.context=function(u){return arguments.length?(l=u??null,c):l},c}function Z9e(e){this._context=e}Z9e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function qh(e){return new Z9e(e)}function pB(e){return e[0]}function gB(e){return e[1]}function vB(){var e=pB,t=gB,n=Cn(!0),r=null,s=qh,a=null;function i(l){var c,u=l.length,d,h=!1,m;for(r==null&&(a=s(m=Ri())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(d,c,l),+t(d,c,l));if(m)return a=null,m+""||null}return i.x=function(l){return arguments.length?(e=typeof l=="function"?l:Cn(+l),i):e},i.y=function(l){return arguments.length?(t=typeof l=="function"?l:Cn(+l),i):t},i.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Cn(!!l),i):n},i.curve=function(l){return arguments.length?(s=l,r!=null&&(a=s(r)),i):s},i.context=function(l){return arguments.length?(l==null?r=a=null:a=s(r=l),i):r},i}function JCt(){var e=pB,t=null,n=Cn(0),r=gB,s=Cn(!0),a=null,i=qh,l=null;function c(d){var h,m,g,v=d.length,x,b=!1,w,C=new Array(v),S=new Array(v);for(a==null&&(l=i(w=Ri())),h=0;h<=v;++h){if(!(h<v&&s(x=d[h],h,d))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(C[g],S[g]);l.lineEnd(),l.areaEnd()}b&&(C[h]=+e(x,h,d),S[h]=+n(x,h,d),l.point(t?+t(x,h,d):C[h],r?+r(x,h,d):S[h]))}if(w)return l=null,w+""||null}function u(){return vB().defined(s).curve(i).context(a)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Cn(+d),t=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Cn(+d),c):e},c.x1=function(d){return arguments.length?(t=d==null?null:typeof d=="function"?d:Cn(+d),c):t},c.y=function(d){return arguments.length?(n=typeof d=="function"?d:Cn(+d),r=null,c):n},c.y0=function(d){return arguments.length?(n=typeof d=="function"?d:Cn(+d),c):n},c.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Cn(+d),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(n)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(t).y(n)},c.defined=function(d){return arguments.length?(s=typeof d=="function"?d:Cn(!!d),c):s},c.curve=function(d){return arguments.length?(i=d,a!=null&&(l=i(a)),c):i},c.context=function(d){return arguments.length?(d==null?a=l=null:l=i(a=d),c):a},c}function eSt(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function tSt(e){return e}function nSt(){var e=tSt,t=eSt,n=null,r=Cn(0),s=Cn(W5),a=Cn(0);function i(l){var c,u=l.length,d,h,m=0,g=new Array(u),v=new Array(u),x=+r.apply(this,arguments),b=Math.min(W5,Math.max(-W5,s.apply(this,arguments)-x)),w,C=Math.min(Math.abs(b)/u,a.apply(this,arguments)),S=C*(b<0?-1:1),k;for(c=0;c<u;++c)(k=v[g[c]=c]=+e(l[c],c,l))>0&&(m+=k);for(t!=null?g.sort(function(E,T){return t(v[E],v[T])}):n!=null&&g.sort(function(E,T){return n(l[E],l[T])}),c=0,h=m?(b-u*S)/m:0;c<u;++c,x=w)d=g[c],k=v[d],w=x+(k>0?k*h:0)+S,v[d]={data:l[d],index:c,value:k,startAngle:x,endAngle:w,padAngle:C};return v}return i.value=function(l){return arguments.length?(e=typeof l=="function"?l:Cn(+l),i):e},i.sortValues=function(l){return arguments.length?(t=l,n=null,i):t},i.sort=function(l){return arguments.length?(n=l,t=null,i):n},i.startAngle=function(l){return arguments.length?(r=typeof l=="function"?l:Cn(+l),i):r},i.endAngle=function(l){return arguments.length?(s=typeof l=="function"?l:Cn(+l),i):s},i.padAngle=function(l){return arguments.length?(a=typeof l=="function"?l:Cn(+l),i):a},i}var rSt=e7e(qh);function J9e(e){this._curve=e}J9e.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function e7e(e){function t(n){return new J9e(e(n))}return t._curve=e,t}function sSt(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(n){return arguments.length?t(e7e(n)):t()._curve},e}function aSt(){return sSt(vB().curve(rSt))}function B4(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}var oL=Array.prototype.slice;function iSt(e){return e.source}function oSt(e){return e.target}function yB(e){var t=iSt,n=oSt,r=pB,s=gB,a=null;function i(){var l,c=oL.call(arguments),u=t.apply(this,c),d=n.apply(this,c);if(a||(a=l=Ri()),e(a,+r.apply(this,(c[0]=u,c)),+s.apply(this,c),+r.apply(this,(c[0]=d,c)),+s.apply(this,c)),l)return a=null,l+""||null}return i.source=function(l){return arguments.length?(t=l,i):t},i.target=function(l){return arguments.length?(n=l,i):n},i.x=function(l){return arguments.length?(r=typeof l=="function"?l:Cn(+l),i):r},i.y=function(l){return arguments.length?(s=typeof l=="function"?l:Cn(+l),i):s},i.context=function(l){return arguments.length?(a=l??null,i):a},i}function lSt(e,t,n,r,s){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,s,r,s)}function cSt(e,t,n,r,s){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+s)/2,r,n,r,s)}function uSt(e,t,n,r,s){var a=B4(t,n),i=B4(t,n=(n+s)/2),l=B4(r,n),c=B4(r,s);e.moveTo(a[0],a[1]),e.bezierCurveTo(i[0],i[1],l[0],l[1],c[0],c[1])}function dSt(){return yB(lSt)}function fSt(){return yB(cSt)}function hSt(){var e=yB(uSt);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}function Fte(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function t7e(e){this._context=e}t7e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fte(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fte(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mSt(e){return new t7e(e)}function n7e(e){this._context=e}n7e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Ute(e),s=Ute(t),a=0,i=1;i<n;++a,++i)this._context.bezierCurveTo(r[0][a],s[0][a],r[1][a],s[1][a],e[i],t[i]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ute(e){var t,n=e.length-1,r,s=new Array(n),a=new Array(n),i=new Array(n);for(s[0]=0,a[0]=2,i[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,a[t]=4,i[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,a[n-1]=7,i[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/a[t-1],a[t]-=r,i[t]-=r*i[t-1];for(s[n-1]=i[n-1]/a[n-1],t=n-2;t>=0;--t)s[t]=(i[t]-s[t+1])/a[t];for(a[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-s[t+1];return[s,a]}function pSt(e){return new n7e(e)}function q1(e,t){if((i=e.length)>1)for(var n=1,r,s,a=e[t[0]],i,l=a.length;n<i;++n)for(s=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function G1(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function gSt(e,t){return e[t]}function xB(){var e=Cn([]),t=G1,n=q1,r=gSt;function s(a){var i=e.apply(this,arguments),l,c=a.length,u=i.length,d=new Array(u),h;for(l=0;l<u;++l){for(var m=i[l],g=d[l]=new Array(c),v=0,x;v<c;++v)g[v]=x=[0,+r(a[v],m,v,a)],x.data=a[v];g.key=m}for(l=0,h=t(d);l<u;++l)d[h[l]].index=l;return n(d,h),d}return s.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Cn(oL.call(a)),s):e},s.value=function(a){return arguments.length?(r=typeof a=="function"?a:Cn(+a),s):r},s.order=function(a){return arguments.length?(t=a==null?G1:typeof a=="function"?a:Cn(oL.call(a)),s):t},s.offset=function(a){return arguments.length?(n=a??q1,s):n},s}function vSt(e,t){if((r=e.length)>0){for(var n,r,s=0,a=e[0].length,i;s<a;++s){for(i=n=0;n<r;++n)i+=e[n][s][1]||0;if(i)for(n=0;n<r;++n)e[n][s][1]/=i}q1(e,t)}}function ySt(e,t){if((c=e.length)>0)for(var n,r=0,s,a,i,l,c,u=e[t[0]].length;r<u;++r)for(i=l=0,n=0;n<c;++n)(a=(s=e[t[n]][r])[1]-s[0])>0?(s[0]=i,s[1]=i+=a):a<0?(s[1]=l,s[0]=l+=a):(s[0]=0,s[1]=a)}function xSt(e,t){if((s=e.length)>0){for(var n=0,r=e[t[0]],s,a=r.length;n<a;++n){for(var i=0,l=0;i<s;++i)l+=e[i][n][1]||0;r[n][1]+=r[n][0]=-l/2}q1(e,t)}}function bSt(e,t){if(!(!((i=e.length)>0)||!((a=(s=e[t[0]]).length)>0))){for(var n=0,r=1,s,a,i;r<a;++r){for(var l=0,c=0,u=0;l<i;++l){for(var d=e[t[l]],h=d[r][1]||0,m=d[r-1][1]||0,g=(h-m)/2,v=0;v<l;++v){var x=e[t[v]],b=x[r][1]||0,w=x[r-1][1]||0;g+=b-w}c+=h,u+=g*h}s[r-1][1]+=s[r-1][0]=n,c&&(n-=u/c)}s[r-1][1]+=s[r-1][0]=n,q1(e,t)}}function wSt(e){var t=e.map(_St);return G1(e).sort(function(n,r){return t[n]-t[r]})}function _St(e){for(var t=-1,n=0,r=e.length,s,a=-1/0;++t<r;)(s=+e[t][1])>a&&(a=s,n=t);return n}function r7e(e){var t=e.map(s7e);return G1(e).sort(function(n,r){return t[n]-t[r]})}function s7e(e){for(var t=0,n=-1,r=e.length,s;++n<r;)(s=+e[n][1])&&(t+=s);return t}function CSt(e){return r7e(e).reverse()}function SSt(e){var t=e.length,n,r,s=e.map(s7e),a=wSt(e),i=0,l=0,c=[],u=[];for(n=0;n<t;++n)r=a[n],i<l?(i+=s[r],c.push(r)):(l+=s[r],u.push(r));return u.reverse().concat(c)}function MSt(e){return G1(e).reverse()}function hr(e,t){e(t)}var x6={ascending:r7e,descending:CSt,insideout:SSt,none:G1,reverse:MSt},kSt=Object.keys(x6);function SS(e){return e&&x6[e]||x6.none}var b6={expand:vSt,diverging:ySt,none:q1,silhouette:xSt,wiggle:bSt},ESt=Object.keys(b6);function MS(e){return e&&b6[e]||b6.none}function bB(e){var t=e===void 0?{}:e,n=t.innerRadius,r=t.outerRadius,s=t.cornerRadius,a=t.startAngle,i=t.endAngle,l=t.padAngle,c=t.padRadius,u=ZCt();return n!=null&&hr(u.innerRadius,n),r!=null&&hr(u.outerRadius,r),s!=null&&hr(u.cornerRadius,s),a!=null&&hr(u.startAngle,a),i!=null&&hr(u.endAngle,i),l!=null&&hr(u.padAngle,l),c!=null&&hr(u.padRadius,c),u}function kS(e){var t=e===void 0?{}:e,n=t.x,r=t.x0,s=t.x1,a=t.y,i=t.y0,l=t.y1,c=t.defined,u=t.curve,d=JCt();return n&&hr(d.x,n),r&&hr(d.x0,r),s&&hr(d.x1,s),a&&hr(d.y,a),i&&hr(d.y0,i),l&&hr(d.y1,l),c&&d.defined(c),u&&d.curve(u),d}function pm(e){var t=e===void 0?{}:e,n=t.x,r=t.y,s=t.defined,a=t.curve,i=vB();return n&&hr(i.x,n),r&&hr(i.y,r),s&&i.defined(s),a&&i.curve(a),i}function a7e(e){var t=e===void 0?{}:e,n=t.startAngle,r=t.endAngle,s=t.padAngle,a=t.value,i=t.sort,l=t.sortValues,c=nSt();return(i===null||i!=null)&&c.sort(i),(l===null||l!=null)&&c.sortValues(l),a!=null&&c.value(a),s!=null&&hr(c.padAngle,s),n!=null&&hr(c.startAngle,n),r!=null&&hr(c.endAngle,r),c}function i7e(e){var t=e===void 0?{}:e,n=t.angle,r=t.radius,s=t.defined,a=t.curve,i=aSt();return n&&hr(i.angle,n),r&&hr(i.radius,r),s&&i.defined(s),a&&i.curve(a),i}function o7e(e){var t=e.keys,n=e.value,r=e.order,s=e.offset,a=xB();return t&&a.keys(t),n&&hr(a.value,n),r&&a.order(SS(r)),s&&a.offset(MS(s)),a}var TSt=["className","data","innerRadius","outerRadius","cornerRadius","startAngle","endAngle","padAngle","padRadius","children","innerRef"];function lL(){return lL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lL.apply(this,arguments)}function NSt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function jSt(e){var t=e.className,n=e.data,r=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,i=e.startAngle,l=e.endAngle,c=e.padAngle,u=e.padRadius,d=e.children,h=e.innerRef,m=NSt(e,TSt),g=bB({innerRadius:r,outerRadius:s,cornerRadius:a,startAngle:i,endAngle:l,padAngle:c,padRadius:u});return d?L.createElement(L.Fragment,null,d({path:g})):!n&&(i==null||l==null||r==null||s==null)?(console.warn("[@visx/shape/Arc]: expected data because one of startAngle, endAngle, innerRadius, outerRadius is undefined. Bailing."),null):L.createElement("path",lL({ref:h,className:W("visx-arc",t),d:g(n)||""},m))}var ASt=["className","top","left","data","centroid","innerRadius","outerRadius","cornerRadius","startAngle","endAngle","padAngle","padRadius","pieSort","pieSortValues","pieValue","children","fill"];function cL(){return cL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cL.apply(this,arguments)}function RSt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function LSt(e){var t=e.className,n=e.top,r=e.left,s=e.data,a=s===void 0?[]:s,i=e.centroid,l=e.innerRadius,c=l===void 0?0:l,u=e.outerRadius,d=e.cornerRadius,h=e.startAngle,m=e.endAngle,g=e.padAngle,v=e.padRadius,x=e.pieSort,b=e.pieSortValues,w=e.pieValue,C=e.children,S=e.fill,k=S===void 0?"":S,E=RSt(e,ASt),T=bB({innerRadius:c,outerRadius:u,cornerRadius:d,padRadius:v}),j=a7e({startAngle:h,endAngle:m,padAngle:g,value:w,sort:x,sortValues:b}),N=j(a);return C?L.createElement(L.Fragment,null,C({arcs:N,path:T,pie:j})):L.createElement(si,{className:"visx-pie-arcs-group",top:n,left:r},N.map(function(R,O){return L.createElement("g",{key:"pie-arc-"+O},L.createElement("path",cL({className:W("visx-pie-arc",t),d:T(R)||"",fill:k==null||typeof k=="string"?k:k(R)},E)),i?.(T.centroid(R),R))}))}var OSt=["from","to","fill","className","innerRef"];function uL(){return uL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uL.apply(this,arguments)}function PSt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function ES(e){var t=e.from,n=t===void 0?{x:0,y:0}:t,r=e.to,s=r===void 0?{x:1,y:1}:r,a=e.fill,i=a===void 0?"transparent":a,l=e.className,c=e.innerRef,u=PSt(e,OSt),d=n.x===s.x||n.y===s.y;return L.createElement("line",uL({ref:c,className:W("visx-line",l),x1:n.x,y1:n.y,x2:s.x,y2:s.y,fill:i,shapeRendering:d?"crispEdges":"auto"},u))}var ISt=["children","data","x","y","fill","className","curve","innerRef","defined"];function dL(){return dL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dL.apply(this,arguments)}function DSt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function l7e(e){var t=e.children,n=e.data,r=n===void 0?[]:n,s=e.x,a=e.y,i=e.fill,l=i===void 0?"transparent":i,c=e.className,u=e.curve,d=e.innerRef,h=e.defined,m=h===void 0?function(){return!0}:h,g=DSt(e,ISt),v=pm({x:s,y:a,defined:m,curve:u});return t?L.createElement(L.Fragment,null,t({path:v})):L.createElement("path",dL({ref:d,className:W("visx-linepath",c),d:v(r)||"",fill:l,strokeLinecap:"round"},g))}var FSt=["className","angle","radius","defined","curve","data","innerRef","children","fill"];function fL(){return fL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fL.apply(this,arguments)}function USt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function BSt(e){var t=e.className,n=e.angle,r=e.radius,s=e.defined,a=e.curve,i=e.data,l=i===void 0?[]:i,c=e.innerRef,u=e.children,d=e.fill,h=d===void 0?"transparent":d,m=USt(e,FSt),g=i7e({angle:n,radius:r,defined:s,curve:a});return u?L.createElement(L.Fragment,null,u({path:g})):L.createElement("path",fL({ref:c,className:W("visx-line-radial",t),d:g(l)||"",fill:h},m))}var VSt=["children","x","x0","x1","y","y0","y1","data","defined","className","curve","innerRef"];function hL(){return hL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hL.apply(this,arguments)}function zSt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function HSt(e){var t=e.children,n=e.x,r=e.x0,s=e.x1,a=e.y,i=e.y0,l=e.y1,c=e.data,u=c===void 0?[]:c,d=e.defined,h=d===void 0?function(){return!0}:d,m=e.className,g=e.curve,v=e.innerRef,x=zSt(e,VSt),b=kS({x:n,x0:r,x1:s,y:a,y0:i,y1:l,defined:h,curve:g});return t?L.createElement(L.Fragment,null,t({path:b})):L.createElement("path",hL({ref:v,className:W("visx-area",m),d:b(u)||""},x))}var WSt=["x","x0","x1","y","y1","y0","yScale","data","defined","className","curve","innerRef","children"];function mL(){return mL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mL.apply(this,arguments)}function $St(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Y1(e){var t=e.x,n=e.x0,r=e.x1,s=e.y,a=e.y1,i=e.y0,l=e.yScale,c=e.data,u=c===void 0?[]:c,d=e.defined,h=d===void 0?function(){return!0}:d,m=e.className,g=e.curve,v=e.innerRef,x=e.children,b=$St(e,WSt),w=kS({x:t,x0:n,x1:r,defined:h,curve:g});return i==null?w.y0(l.range()[0]):hr(w.y0,i),s&&!a&&hr(w.y1,s),a&&!s&&hr(w.y1,a),x?L.createElement(L.Fragment,null,x({path:w})):L.createElement("path",mL({ref:v,className:W("visx-area-closed",m),d:w(u)||""},b))}var qSt=["className","top","left","keys","data","curve","defined","x","x0","x1","y0","y1","value","order","offset","color","children"];function pL(){return pL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pL.apply(this,arguments)}function GSt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function c7e(e){var t=e.className,n=e.top,r=e.left,s=e.keys,a=e.data,i=e.curve,l=e.defined,c=e.x,u=e.x0,d=e.x1,h=e.y0,m=e.y1,g=e.value,v=e.order,x=e.offset,b=e.color,w=e.children,C=GSt(e,qSt),S=o7e({keys:s,value:g,order:v,offset:x}),k=kS({x:c,x0:u,x1:d,y0:h,y1:m,curve:i,defined:l}),E=S(a);return w?L.createElement(L.Fragment,null,w({stacks:E,path:k,stack:S})):L.createElement(si,{top:n,left:r},E.map(function(T,j){return L.createElement("path",pL({className:W("visx-stack",t),key:"stack-"+j+"-"+(T.key||""),d:k(T)||"",fill:b?.(T.key,j)},C))}))}var YSt=["className","top","left","keys","data","curve","defined","x","x0","x1","y0","y1","value","order","offset","color","children"];function w6(){return w6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w6.apply(this,arguments)}function KSt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function QSt(e){var t=e.className,n=e.top,r=e.left,s=e.keys,a=e.data,i=e.curve,l=e.defined,c=e.x,u=e.x0,d=e.x1,h=e.y0,m=e.y1,g=e.value,v=e.order,x=e.offset,b=e.color,w=e.children,C=KSt(e,YSt);return L.createElement(c7e,w6({className:t,top:n,left:r,keys:s,data:a,curve:i,defined:l,x:c,x0:u,x1:d,y0:h,y1:m,value:g,order:v,offset:x,color:b},C),w||function(S){var k=S.stacks,E=S.path;return k.map(function(T,j){return L.createElement("path",w6({className:W("visx-area-stack",t),key:"area-stack-"+j+"-"+(T.key||""),d:E(T)||"",fill:b?.(T.key,j)},C))})})}var XSt=["className","innerRef"];function gL(){return gL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gL.apply(this,arguments)}function ZSt(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Zg(e){var t=e.className,n=e.innerRef,r=ZSt(e,XSt);return L.createElement("rect",gL({ref:n,className:W("visx-bar",t)},r))}var JSt=["children","className","innerRef","x","y","width","height","radius","all","top","bottom","left","right","topLeft","topRight","bottomLeft","bottomRight"];function vL(){return vL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vL.apply(this,arguments)}function e8t(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function t8t(e){var t=e.all,n=e.bottom,r=e.bottomLeft,s=e.bottomRight,a=e.height,i=e.left,l=e.radius,c=e.right,u=e.top,d=e.topLeft,h=e.topRight,m=e.width,g=e.x,v=e.y;h=t||u||c||h,s=t||n||c||s,r=t||n||i||r,d=t||u||i||d,l=Math.max(1,Math.min(l,Math.min(m,a)/2));var x=2*l,b=("M"+(g+l)+","+v+" h"+(m-x)+`
 `+(h?"a"+l+","+l+" 0 0 1 "+l+","+l:"h"+l+"v"+l)+`
 v`+(a-x)+`
 `+(s?"a"+l+","+l+" 0 0 1 "+-l+","+l:"v"+l+"h"+-l)+`
 h`+(x-m)+`
 `+(r?"a"+l+","+l+" 0 0 1 "+-l+","+-l:"h"+-l+"v"+-l)+`
 v`+(x-a)+`
 `+(d?"a"+l+","+l+" 0 0 1 "+l+","+-l:"v"+-l+"h"+l)+`
z`).split(`
`).join("");return b}function n8t(e){var t=e.children,n=e.className,r=e.innerRef,s=e.x,a=e.y,i=e.width,l=e.height,c=e.radius,u=e.all,d=u===void 0?!1:u,h=e.top,m=h===void 0?!1:h,g=e.bottom,v=g===void 0?!1:g,x=e.left,b=x===void 0?!1:x,w=e.right,C=w===void 0?!1:w,S=e.topLeft,k=S===void 0?!1:S,E=e.topRight,T=E===void 0?!1:E,j=e.bottomLeft,N=j===void 0?!1:j,R=e.bottomRight,O=R===void 0?!1:R,I=e8t(e,JSt),B=t8t({x:s,y:a,width:i,height:l,radius:c,all:d,top:m,bottom:v,left:b,right:C,topLeft:k,topRight:T,bottomLeft:N,bottomRight:O});return t?L.createElement(L.Fragment,null,t({path:B})):L.createElement("path",vL({ref:r,className:W("visx-bar-rounded",n),d:B},I))}function TS(e){if("bandwidth"in e)return e.bandwidth();var t=e.range(),n=e.domain();return Math.abs(t[t.length-1]-t[0])/n.length}var r8t=["data","className","top","left","x0","x0Scale","x1Scale","yScale","color","keys","height","children"];function yL(){return yL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yL.apply(this,arguments)}function s8t(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function a8t(e){var t=e.data,n=e.className,r=e.top,s=e.left,a=e.x0,i=e.x0Scale,l=e.x1Scale,c=e.yScale,u=e.color,d=e.keys,h=e.height,m=e.children,g=s8t(e,r8t),v=TS(l),x=t.map(function(b,w){return{index:w,x0:i(a(b)),bars:d.map(function(C,S){var k=b[C];return{index:S,key:C,value:k,width:v,x:l(C)||0,y:c(k)||0,color:u(C,S),height:h-(c(k)||0)}})}});return m?L.createElement(L.Fragment,null,m(x)):L.createElement(si,{className:W("visx-bar-group",n),top:r,left:s},x.map(function(b){return L.createElement(si,{key:"bar-group-"+b.index+"-"+b.x0,left:b.x0},b.bars.map(function(w){return L.createElement(Zg,yL({key:"bar-group-bar-"+b.index+"-"+w.index+"-"+w.value+"-"+w.key,x:w.x,y:w.y,width:w.width,height:w.height,fill:w.color},g))}))}))}var i8t=["data","className","top","left","x","y0","y0Scale","y1Scale","xScale","color","keys","width","children"];function xL(){return xL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xL.apply(this,arguments)}function o8t(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function l8t(e){var t=e.data,n=e.className,r=e.top,s=e.left,a=e.x,i=a===void 0?function(){return 0}:a,l=e.y0,c=e.y0Scale,u=e.y1Scale,d=e.xScale,h=e.color,m=e.keys;e.width;var g=e.children,v=o8t(e,i8t),x=TS(u),b=t.map(function(w,C){return{index:C,y0:c(l(w))||0,bars:m.map(function(S,k){var E=w[S];return{index:k,key:S,value:E,height:x,x:i(E)||0,y:u(S)||0,color:h(S,k),width:d(E)||0}})}});return g?L.createElement(L.Fragment,null,g(b)):L.createElement(si,{className:W("visx-bar-group-horizontal",n),top:r,left:s},b.map(function(w){return L.createElement(si,{key:"bar-group-"+w.index+"-"+w.y0,top:w.y0},w.bars.map(function(C){return L.createElement(Zg,xL({key:"bar-group-bar-"+w.index+"-"+C.index+"-"+C.value+"-"+C.key,x:C.x,y:C.y,width:C.width,height:C.height,fill:C.color},v))}))}))}function yo(e){return typeof e?.x=="number"?e?.x:0}function xo(e){return typeof e?.y=="number"?e?.y:0}function bo(e){return e?.source}function wo(e){return e?.target}function u7e(e){return e?.[0]}function d7e(e){return e?.[1]}var c8t=["data","className","top","left","x","y0","y1","xScale","yScale","color","keys","value","order","offset","children"];function bL(){return bL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bL.apply(this,arguments)}function u8t(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function d8t(e){var t=e.data,n=e.className,r=e.top,s=e.left,a=e.x,i=e.y0,l=i===void 0?u7e:i,c=e.y1,u=c===void 0?d7e:c,d=e.xScale,h=e.yScale,m=e.color,g=e.keys,v=e.value,x=e.order,b=e.offset,w=e.children,C=u8t(e,c8t),S=xB();g&&S.keys(g),v&&hr(S.value,v),x&&S.order(SS(x)),b&&S.offset(MS(b));var k=S(t),E=TS(d),T=k.map(function(j,N){var R=j.key;return{index:N,key:R,bars:j.map(function(O,I){var B=(h(l(O))||0)-(h(u(O))||0),D=h(u(O)),z="bandwidth"in d?d(a(O.data)):Math.max((d(a(O.data))||0)-E/2);return{bar:O,key:R,index:I,height:B,width:E,x:z||0,y:D||0,color:m(j.key,I)}})}});return w?L.createElement(L.Fragment,null,w(T)):L.createElement(si,{className:W("visx-bar-stack",n),top:r,left:s},T.map(function(j){return j.bars.map(function(N){return L.createElement(Zg,bL({key:"bar-stack-"+j.index+"-"+N.index,x:N.x,y:N.y,height:N.height,width:N.width,fill:N.color},C))})}))}var f8t=["data","className","top","left","y","x0","x1","xScale","yScale","color","keys","value","order","offset","children"];function wL(){return wL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wL.apply(this,arguments)}function h8t(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function m8t(e){var t=e.data,n=e.className,r=e.top,s=e.left,a=e.y,i=e.x0,l=i===void 0?u7e:i,c=e.x1,u=c===void 0?d7e:c,d=e.xScale,h=e.yScale,m=e.color,g=e.keys,v=e.value,x=e.order,b=e.offset,w=e.children,C=h8t(e,f8t),S=xB();g&&S.keys(g),v&&hr(S.value,v),x&&S.order(SS(x)),b&&S.offset(MS(b));var k=S(t),E=TS(h),T=k.map(function(j,N){var R=j.key;return{index:N,key:R,bars:j.map(function(O,I){var B=(d(u(O))||0)-(d(l(O))||0),D=d(l(O)),z="bandwidth"in h?h(a(O.data)):Math.max((h(a(O.data))||0)-B/2);return{bar:O,key:R,index:I,height:E,width:B,x:D||0,y:z||0,color:m(j.key,I)}})}});return w?L.createElement(L.Fragment,null,w(T)):L.createElement(si,{className:W("visx-bar-stack-horizontal",n),top:r,left:s},T.map(function(j){return j.bars.map(function(N){return L.createElement(Zg,wL({key:"bar-stack-"+j.index+"-"+N.index,x:N.x,y:N.y,height:N.height,width:N.width,fill:N.color},C))})}))}var f7e=function(t){return Math.PI/180*t},p8t=["className","children","data","innerRef","path","x","y","source","target"];function _L(){return _L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_L.apply(this,arguments)}function g8t(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function h7e(e){var t=e.source,n=e.target,r=e.x,s=e.y;return function(a){var i=dSt();return i.x(r),i.y(s),i.source(t),i.target(n),i(a)}}function v8t(e){var t=e.className,n=e.children,r=e.data,s=e.innerRef,a=e.path,i=e.x,l=i===void 0?xo:i,c=e.y,u=c===void 0?yo:c,d=e.source,h=d===void 0?bo:d,m=e.target,g=m===void 0?wo:m,v=g8t(e,p8t),x=a||h7e({source:h,target:g,x:l,y:u});return n?L.createElement(L.Fragment,null,n({path:x})):L.createElement("path",_L({ref:s,className:W("visx-link visx-link-horizontal-diagonal",t),d:x(r)||""},v))}var y8t=["className","children","data","innerRef","path","x","y","source","target"];function CL(){return CL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CL.apply(this,arguments)}function x8t(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function m7e(e){var t=e.source,n=e.target,r=e.x,s=e.y;return function(a){var i=fSt();return i.x(r),i.y(s),i.source(t),i.target(n),i(a)}}function b8t(e){var t=e.className,n=e.children,r=e.data,s=e.innerRef,a=e.path,i=e.x,l=i===void 0?yo:i,c=e.y,u=c===void 0?xo:c,d=e.source,h=d===void 0?bo:d,m=e.target,g=m===void 0?wo:m,v=x8t(e,y8t),x=a||m7e({source:h,target:g,x:l,y:u});return n?L.createElement(L.Fragment,null,n({path:x})):L.createElement("path",CL({ref:s,className:W("visx-link visx-link-vertical-diagonal",t),d:x(r)||""},v))}var w8t=["className","children","data","innerRef","path","angle","radius","source","target"];function SL(){return SL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SL.apply(this,arguments)}function _8t(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function p7e(e){var t=e.source,n=e.target,r=e.angle,s=e.radius;return function(a){var i=hSt();return i.angle(r),i.radius(s),i.source(t),i.target(n),i(a)}}function C8t(e){var t=e.className,n=e.children,r=e.data,s=e.innerRef,a=e.path,i=e.angle,l=i===void 0?yo:i,c=e.radius,u=c===void 0?xo:c,d=e.source,h=d===void 0?bo:d,m=e.target,g=m===void 0?wo:m,v=_8t(e,w8t),x=a||p7e({source:h,target:g,angle:l,radius:u});return n?L.createElement(L.Fragment,null,n({path:x})):L.createElement("path",SL({ref:s,className:W("visx-link visx-link-radial-diagonal",t),d:x(r)||""},v))}var S8t=["className","children","data","innerRef","path","percent","x","y","source","target"];function ML(){return ML=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ML.apply(this,arguments)}function M8t(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function g7e(e){var t=e.source,n=e.target,r=e.x,s=e.y,a=e.percent;return function(i){var l=t(i),c=n(i),u=r(l),d=s(l),h=r(c),m=s(c),g=h-u,v=m-d,x=a*(g+v),b=a*(v-g),w=Ri();return w.moveTo(u,d),w.bezierCurveTo(u+x,d+b,h+b,m-x,h,m),w.toString()}}function k8t(e){var t=e.className,n=e.children,r=e.data,s=e.innerRef,a=e.path,i=e.percent,l=i===void 0?.2:i,c=e.x,u=c===void 0?xo:c,d=e.y,h=d===void 0?yo:d,m=e.source,g=m===void 0?bo:m,v=e.target,x=v===void 0?wo:v,b=M8t(e,S8t),w=a||g7e({source:g,target:x,x:u,y:h,percent:l});return n?L.createElement(L.Fragment,null,n({path:w})):L.createElement("path",ML({ref:s,className:W("visx-link visx-link-horizontal-curve",t),d:w(r)||""},b))}var E8t=["className","children","data","innerRef","path","percent","x","y","source","target"];function kL(){return kL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kL.apply(this,arguments)}function T8t(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function v7e(e){var t=e.source,n=e.target,r=e.x,s=e.y,a=e.percent;return function(i){var l=t(i),c=n(i),u=r(l),d=s(l),h=r(c),m=s(c),g=h-u,v=m-d,x=a*(g+v),b=a*(v-g),w=Ri();return w.moveTo(u,d),w.bezierCurveTo(u+x,d+b,h+b,m-x,h,m),w.toString()}}function N8t(e){var t=e.className,n=e.children,r=e.data,s=e.innerRef,a=e.path,i=e.percent,l=i===void 0?.2:i,c=e.x,u=c===void 0?yo:c,d=e.y,h=d===void 0?xo:d,m=e.source,g=m===void 0?bo:m,v=e.target,x=v===void 0?wo:v,b=T8t(e,E8t),w=a||v7e({source:g,target:x,x:u,y:h,percent:l});return n?L.createElement(L.Fragment,null,n({path:w})):L.createElement("path",kL({ref:s,className:W("visx-link visx-link-vertical-curve",t),d:w(r)||""},b))}var j8t=["className","children","data","innerRef","path","percent","x","y","source","target"];function EL(){return EL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EL.apply(this,arguments)}function A8t(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function y7e(e){var t=e.source,n=e.target,r=e.x,s=e.y,a=e.percent;return function(i){var l=t(i),c=n(i),u=r(l)-Math.PI/2,d=s(l),h=r(c)-Math.PI/2,m=s(c),g=Math.cos(u),v=Math.sin(u),x=Math.cos(h),b=Math.sin(h),w=d*g,C=d*v,S=m*x,k=m*b,E=S-w,T=k-C,j=a*(E+T),N=a*(T-E),R=Ri();return R.moveTo(w,C),R.bezierCurveTo(w+j,C+N,S+N,k-j,S,k),R.toString()}}function R8t(e){var t=e.className,n=e.children,r=e.data,s=e.innerRef,a=e.path,i=e.percent,l=i===void 0?.2:i,c=e.x,u=c===void 0?yo:c,d=e.y,h=d===void 0?xo:d,m=e.source,g=m===void 0?bo:m,v=e.target,x=v===void 0?wo:v,b=A8t(e,j8t),w=a||y7e({source:g,target:x,x:u,y:h,percent:l});return n?L.createElement(L.Fragment,null,n({path:w})):L.createElement("path",EL({ref:s,className:W("visx-link visx-link-radial-curve",t),d:w(r)||""},b))}var L8t=["className","children","innerRef","data","path","x","y","source","target"];function TL(){return TL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TL.apply(this,arguments)}function O8t(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function x7e(e){var t=e.source,n=e.target,r=e.x,s=e.y;return function(a){var i=t(a),l=n(a),c=r(i),u=s(i),d=r(l),h=s(l),m=Ri();return m.moveTo(c,u),m.lineTo(d,h),m.toString()}}function P8t(e){var t=e.className,n=e.children,r=e.innerRef,s=e.data,a=e.path,i=e.x,l=i===void 0?xo:i,c=e.y,u=c===void 0?yo:c,d=e.source,h=d===void 0?bo:d,m=e.target,g=m===void 0?wo:m,v=O8t(e,L8t),x=a||x7e({source:h,target:g,x:l,y:u});return n?L.createElement(L.Fragment,null,n({path:x})):L.createElement("path",TL({ref:r,className:W("visx-link visx-link-horizontal-line",t),d:x(s)||""},v))}var I8t=["className","innerRef","data","path","x","y","source","target","children"];function NL(){return NL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NL.apply(this,arguments)}function D8t(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function b7e(e){var t=e.source,n=e.target,r=e.x,s=e.y;return function(a){var i=t(a),l=n(a),c=r(i),u=s(i),d=r(l),h=s(l),m=Ri();return m.moveTo(c,u),m.lineTo(d,h),m.toString()}}function F8t(e){var t=e.className,n=e.innerRef,r=e.data,s=e.path,a=e.x,i=a===void 0?yo:a,l=e.y,c=l===void 0?xo:l,u=e.source,d=u===void 0?bo:u,h=e.target,m=h===void 0?wo:h,g=e.children,v=D8t(e,I8t),x=s||b7e({source:d,target:m,x:i,y:c});return g?L.createElement(L.Fragment,null,g({path:x})):L.createElement("path",NL({ref:n,className:W("visx-link visx-link-vertical-line",t),d:x(r)||""},v))}var U8t=["className","innerRef","data","path","x","y","source","target","children"];function jL(){return jL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jL.apply(this,arguments)}function B8t(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function w7e(e){var t=e.source,n=e.target,r=e.x,s=e.y;return function(a){var i=t(a),l=n(a),c=r(i)-Math.PI/2,u=s(i),d=r(l)-Math.PI/2,h=s(l),m=Math.cos(c),g=Math.sin(c),v=Math.cos(d),x=Math.sin(d),b=Ri();return b.moveTo(u*m,u*g),b.lineTo(h*v,h*x),b.toString()}}function V8t(e){var t=e.className,n=e.innerRef,r=e.data,s=e.path,a=e.x,i=a===void 0?yo:a,l=e.y,c=l===void 0?xo:l,u=e.source,d=u===void 0?bo:u,h=e.target,m=h===void 0?wo:h,g=e.children,v=B8t(e,U8t),x=s||w7e({source:d,target:m,x:i,y:c});return g?L.createElement(L.Fragment,null,g({path:x})):L.createElement("path",jL({ref:n,className:W("visx-link visx-link-radial-line",t),d:x(r)||""},v))}var z8t=["className","innerRef","data","path","percent","x","y","source","target","children"];function AL(){return AL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AL.apply(this,arguments)}function H8t(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function _7e(e){var t=e.source,n=e.target,r=e.x,s=e.y,a=e.percent;return function(i){var l=t(i),c=n(i),u=r(l),d=s(l),h=r(c),m=s(c),g=Ri();return g.moveTo(u,d),g.lineTo(u+(h-u)*a,d),g.lineTo(u+(h-u)*a,m),g.lineTo(h,m),g.toString()}}function W8t(e){var t=e.className,n=e.innerRef,r=e.data,s=e.path,a=e.percent,i=a===void 0?.5:a,l=e.x,c=l===void 0?xo:l,u=e.y,d=u===void 0?yo:u,h=e.source,m=h===void 0?bo:h,g=e.target,v=g===void 0?wo:g,x=e.children,b=H8t(e,z8t),w=s||_7e({source:m,target:v,x:c,y:d,percent:i});return x?L.createElement(L.Fragment,null,x({path:w})):L.createElement("path",AL({ref:n,className:W("visx-link visx-link-horizontal-step",t),d:w(r)||""},b))}var $8t=["className","innerRef","data","path","percent","x","y","source","target","children"];function RL(){return RL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RL.apply(this,arguments)}function q8t(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function C7e(e){var t=e.source,n=e.target,r=e.x,s=e.y,a=e.percent;return function(i){var l=t(i),c=n(i),u=r(l),d=s(l),h=r(c),m=s(c),g=Ri();return g.moveTo(u,d),g.lineTo(u,d+(m-d)*a),g.lineTo(h,d+(m-d)*a),g.lineTo(h,m),g.toString()}}function G8t(e){var t=e.className,n=e.innerRef,r=e.data,s=e.path,a=e.percent,i=a===void 0?.5:a,l=e.x,c=l===void 0?yo:l,u=e.y,d=u===void 0?xo:u,h=e.source,m=h===void 0?bo:h,g=e.target,v=g===void 0?wo:g,x=e.children,b=q8t(e,$8t),w=s||C7e({source:m,target:v,x:c,y:d,percent:i});return x?L.createElement(L.Fragment,null,x({path:w})):L.createElement("path",RL({ref:n,className:W("visx-link visx-link-vertical-step",t),d:w(r)||""},b))}var Y8t=["className","innerRef","data","path","x","y","source","target","children"];function LL(){return LL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LL.apply(this,arguments)}function K8t(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function S7e(e){var t=e.source,n=e.target,r=e.x,s=e.y;return function(a){var i=t(a),l=n(a),c=r(i),u=s(i),d=r(l),h=s(l),m=c-Math.PI/2,g=u,v=d-Math.PI/2,x=h,b=Math.cos(m),w=Math.sin(m),C=Math.cos(v),S=Math.sin(v),k=Math.abs(v-m)>Math.PI?v<=m:v>m;return`
      M`+g*b+","+g*w+`
      A`+g+","+g+",0,0,"+(k?1:0)+","+g*C+","+g*S+`
      L`+x*C+","+x*S+`
    `}}function Q8t(e){var t=e.className,n=e.innerRef,r=e.data,s=e.path,a=e.x,i=a===void 0?yo:a,l=e.y,c=l===void 0?xo:l,u=e.source,d=u===void 0?bo:u,h=e.target,m=h===void 0?wo:h,g=e.children,v=K8t(e,Y8t),x=s||S7e({source:d,target:m,x:i,y:c});return g?L.createElement(L.Fragment,null,g({path:x})):L.createElement("path",LL({ref:n,className:W("visx-link visx-link-radial-step",t),d:x(r)||""},v))}var X8t=["sides","size","center","rotate","className","children","innerRef","points"];function OL(){return OL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OL.apply(this,arguments)}function Z8t(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}var M7e={x:0,y:0},k7e=function(t){var n=t.sides,r=n===void 0?4:n,s=t.size,a=s===void 0?25:s,i=t.center,l=i===void 0?M7e:i,c=t.rotate,u=c===void 0?0:c,d=t.side,h=360/r*d-u,m=f7e(h);return{x:l.x+a*Math.cos(m),y:l.y+a*Math.sin(m)}},E7e=function(t){var n=t.sides,r=t.size,s=t.center,a=t.rotate;return new Array(n).fill(0).map(function(i,l){return k7e({sides:n,size:r,center:s,rotate:a,side:l})})};function J8t(e){var t=e.sides,n=t===void 0?4:t,r=e.size,s=r===void 0?25:r,a=e.center,i=a===void 0?M7e:a,l=e.rotate,c=l===void 0?0:l,u=e.className,d=e.children,h=e.innerRef,m=e.points,g=Z8t(e,X8t),v=m||E7e({sides:n,size:s,center:i,rotate:c}).map(function(x){var b=x.x,w=x.y;return[b,w]});return d?L.createElement(L.Fragment,null,d({points:v})):L.createElement("polygon",OL({ref:h,className:W("visx-polygon",u),points:v.join(" ")},g))}var e9t=["className","innerRef"];function PL(){return PL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PL.apply(this,arguments)}function t9t(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function n9t(e){var t=e.className,n=e.innerRef,r=t9t(e,e9t);return L.createElement("circle",PL({ref:n,className:W("visx-circle",t)},r))}var Bte="http://www.w3.org/2000/svg";function r9t(e){var t=document.getElementById(e);if(!t){var n=document.createElementNS(Bte,"svg");n.setAttribute("aria-hidden","true"),n.style.opacity="0",n.style.width="0",n.style.height="0",n.style.position="absolute",n.style.top="-100%",n.style.left="-100%",n.style.pointerEvents="none",t=document.createElementNS(Bte,"path"),t.setAttribute("id",e),n.appendChild(t),document.body.appendChild(n)}return t}var s9t="__visx_splitpath_svg_path_measurement_id",Vte=function(){return!0};function a9t(e){var t=e.path,n=e.pointsInSegments,r=e.segmentation,s=r===void 0?"x":r,a=e.sampleRate,i=a===void 0?1:a;try{var l=r9t(s9t);l.setAttribute("d",t);var c=l.getTotalLength(),u=n.length,d=n.map(function(){return[]});if(s==="x"||s==="y")for(var h=n.map(function(D){var z;return(z=D.find(function(V){return typeof V[s]=="number"}))==null?void 0:z[s]}),m=l.getPointAtLength(0),g=l.getPointAtLength(c),v=g[s]>m[s],x=v?h.map(function(D){return typeof D>"u"?Vte:function(z){return z>=D}}):h.map(function(D){return typeof D>"u"?Vte:function(z){return z<=D}}),b=0,w=0;w<=c;w+=i){for(var C=l.getPointAtLength(w),S=C[s];b<u-1&&x[b+1](S);)b+=1;d[b].push(C)}else{var k=n.map(function(D){return D.length}),E=k.reduce(function(D,z){return D+z},0),T=c/Math.max(1,E-1),j=k.slice(0,u-1);j.unshift(0);for(var N=2;N<u;N+=1)j[N]+=j[N-1];for(var R=0;R<u;R+=1)j[R]*=T;for(var O=0,I=0;I<=c;I+=i){for(var B=l.getPointAtLength(I);O<u-1&&I>=j[O+1];)O+=1;d[O].push(B)}}return d}catch{return[]}}function IL(){return IL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IL.apply(this,arguments)}var i9t=function(t){return t.x||0},o9t=function(t){return t.y||0};function T7e(e){var t=e.children,n=e.className,r=e.curve,s=e.defined,a=e.segmentation,i=e.sampleRate,l=e.segments,c=e.x,u=e.y,d=e.styles,h=f.useMemo(function(){var v=typeof c=="number"||typeof c>"u"?function(){return c}:c,x=typeof u=="number"||typeof u>"u"?function(){return u}:u;return l.map(function(b){return b.map(function(w,C){return{x:v(w,C,b),y:x(w,C,b)}})})},[c,u,l]),m=f.useMemo(function(){var v=pm({x:c,y:u,defined:s,curve:r});return v(l.flat())||""},[c,u,s,r,l]),g=f.useMemo(function(){return a9t({path:m,segmentation:a,pointsInSegments:h,sampleRate:i})},[m,a,h,i]);return L.createElement("g",null,g.map(function(v,x){return t?L.createElement(L.Fragment,{key:x},t({index:x,segment:v,styles:d[x]||d[x%d.length]})):L.createElement(l7e,IL({key:x,className:n,data:v,x:i9t,y:o9t},d[x]||d[x%d.length]))}))}T7e.propTypes={segments:Ae.arrayOf(Ae.array).isRequired,styles:Ae.array.isRequired,children:Ae.func,className:Ae.string};const l9t=Object.freeze(Object.defineProperty({__proto__:null,Arc:jSt,Area:HSt,AreaClosed:Y1,AreaStack:QSt,Bar:Zg,BarGroup:a8t,BarGroupHorizontal:l8t,BarRounded:n8t,BarStack:d8t,BarStackHorizontal:m8t,Circle:n9t,Line:ES,LinePath:l7e,LineRadial:BSt,LinkHorizontal:v8t,LinkHorizontalCurve:k8t,LinkHorizontalLine:P8t,LinkHorizontalStep:W8t,LinkRadial:C8t,LinkRadialCurve:R8t,LinkRadialLine:V8t,LinkRadialStep:Q8t,LinkVertical:b8t,LinkVerticalCurve:N8t,LinkVerticalLine:F8t,LinkVerticalStep:G8t,Pie:LSt,Polygon:J8t,STACK_OFFSETS:b6,STACK_OFFSET_NAMES:ESt,STACK_ORDERS:x6,STACK_ORDER_NAMES:kSt,SplitLinePath:T7e,Stack:c7e,arc:bB,area:kS,degreesToRadians:f7e,getPoint:k7e,getPoints:E7e,line:pm,pathHorizontalCurve:g7e,pathHorizontalDiagonal:h7e,pathHorizontalLine:x7e,pathHorizontalStep:_7e,pathRadialCurve:y7e,pathRadialDiagonal:p7e,pathRadialLine:w7e,pathRadialStep:S7e,pathVerticalCurve:v7e,pathVerticalDiagonal:m7e,pathVerticalLine:b7e,pathVerticalStep:C7e,pie:a7e,radialLine:i7e,stack:o7e,stackOffset:MS,stackOrder:SS},Symbol.toStringTag,{value:"Module"})),N7e=rx(l9t),j7e=rx(_wt);var V4={},zte;function c9t(){if(zte)return V4;zte=1,V4.__esModule=!0,V4.default=n;var e=t(qx());function t(r){return r&&r.__esModule?r:{default:r}}function n(r){var s=r.labelOffset,a=r.labelProps,i=r.orientation,l=r.range,c=r.tickLabelFontSize,u=r.tickLength,d=i===e.default.left||i===e.default.top?-1:1,h,m,g;if(i===e.default.top||i===e.default.bottom){var v=i===e.default.bottom&&typeof a.fontSize=="number"?a.fontSize:0;h=(Number(l[0])+Number(l[l.length-1]))/2,m=d*(u+s+c+v)}else h=d*((Number(l[0])+Number(l[l.length-1]))/2),m=-(u+s),g="rotate("+d*90+")";return{x:h,y:m,transform:g}}return V4}var z4={},Hte;function u9t(){if(Hte)return z4;Hte=1,z4.__esModule=!0,z4.default=c;var e=i(Xd()),t=i(mg()),n=N7e,r=hB,s=j7e,a=i(qx());function i(u){return u&&u.__esModule?u:{default:u}}function l(){return l=Object.assign?Object.assign.bind():function(u){for(var d=1;d<arguments.length;d++){var h=arguments[d];for(var m in h)({}).hasOwnProperty.call(h,m)&&(u[m]=h[m])}return u},l.apply(null,arguments)}function c(u){var d=u.hideTicks,h=u.horizontal,m=u.orientation,g=u.tickClassName,v=u.tickComponent,x=u.tickLabelProps,b=u.tickStroke,w=b===void 0?"#222":b,C=u.tickTransform,S=u.ticks,k=u.strokeWidth,E=u.tickLineProps;return S.map(function(T){var j,N=T.value,R=T.index,O=T.from,I=T.to,B=T.formattedValue,D=(j=x[R])!=null?j:{},z=Math.max(10,typeof D.fontSize=="number"&&D.fontSize||0),V=I.y+(h&&m!==a.default.top?z:0);return e.default.createElement(r.Group,{key:"visx-tick-"+N+"-"+R,className:(0,t.default)("visx-axis-tick",g),transform:C},!d&&e.default.createElement(n.Line,l({from:O,to:I,stroke:w,strokeWidth:k,strokeLinecap:"square"},E)),v?v(l({},D,{x:I.x,y:V,formattedValue:B})):e.default.createElement(s.Text,l({x:I.x,y:V},D),B))})}return z4}var Wte;function d9t(){if(Wte)return F4;Wte=1,F4.__esModule=!0,F4.default=d;var e=l(Xd()),t=l(mg()),n=N7e,r=j7e,s=l(c9t()),a=l(qx()),i=l(u9t());function l(h){return h&&h.__esModule?h:{default:h}}function c(){return c=Object.assign?Object.assign.bind():function(h){for(var m=1;m<arguments.length;m++){var g=arguments[m];for(var v in g)({}).hasOwnProperty.call(g,v)&&(h[v]=g[v])}return h},c.apply(null,arguments)}var u={textAnchor:"middle",fontFamily:"Arial",fontSize:10,fill:"#222"};function d(h){var m=h.axisFromPoint,g=h.axisLineClassName,v=h.axisToPoint,x=h.hideAxisLine,b=h.hideTicks,w=h.horizontal,C=h.label,S=C===void 0?"":C,k=h.labelClassName,E=h.labelOffset,T=E===void 0?14:E,j=h.labelProps,N=h.orientation,R=N===void 0?a.default.bottom:N,O=h.scale,I=h.stroke,B=I===void 0?"#222":I,D=h.strokeDasharray,z=h.strokeWidth,V=z===void 0?1:z,U=h.tickClassName,H=h.tickComponent,q=h.tickLineProps,$=h.tickLabelProps,G=h.tickLength,K=G===void 0?8:G,ee=h.tickStroke,oe=ee===void 0?"#222":ee,ne=h.tickTransform,te=h.ticks,re=h.ticksComponent,X=re===void 0?i.default:re,ce=c({},u,j),se=c({},u,typeof $=="object"?$:null),J=te.map(function(ie){var he=ie.value,pe=ie.index;return typeof $=="function"?$(he,pe,te):se}),de=Math.max.apply(Math,[10].concat(J.map(function(ie){return typeof ie.fontSize=="number"?ie.fontSize:0})));return e.default.createElement(e.default.Fragment,null,X({hideTicks:b,horizontal:w,orientation:R,scale:O,tickClassName:U,tickComponent:H,tickLabelProps:J,tickStroke:oe,tickTransform:ne,ticks:te,strokeWidth:V,tickLineProps:q}),!x&&e.default.createElement(n.Line,{className:(0,t.default)("visx-axis-line",g),from:m,to:v,stroke:B,strokeWidth:V,strokeDasharray:D}),S&&e.default.createElement(r.Text,c({className:(0,t.default)("visx-axis-label",k)},(0,s.default)({labelOffset:T,labelProps:ce,orientation:R,range:O.range(),tickLabelFontSize:de,tickLength:K}),ce),S))}return F4}var H4={},$te;function f9t(){if($te)return H4;$te=1,H4.__esModule=!0,H4.default=e;function e(t,n){n===void 0&&(n="center");var r=t;if(n!=="start"&&"bandwidth"in r){var s=r.bandwidth();return n==="center"&&(s/=2),r.round()&&(s=Math.round(s)),function(a){var i=r(a);return typeof i=="number"?i+s:i}}return t}return H4}var W4={},qte;function h9t(){if(qte)return W4;qte=1,W4.__esModule=!0,W4.default=t;var e=mB;function t(n){var r=n;return"tickFormat"in r?r.tickFormat():e.toString}return W4}var $4={},qd=function(){function e(n){var r=n.x,s=r===void 0?0:r,a=n.y,i=a===void 0?0:a;this.x=0,this.y=0,this.x=s,this.y=i}var t=e.prototype;return t.value=function(){return{x:this.x,y:this.y}},t.toArray=function(){return[this.x,this.y]},e}();function m9t(e,t){return new qd({x:e.x+t.x,y:e.y+t.y})}function p9t(e,t){return new qd({x:e.x-t.x,y:e.y-t.y})}const g9t=Object.freeze(Object.defineProperty({__proto__:null,Point:qd,subtractPoints:p9t,sumPoints:m9t},Symbol.toStringTag,{value:"Module"})),A7e=rx(g9t);var Gte;function v9t(){if(Gte)return $4;Gte=1,$4.__esModule=!0,$4.default=t;var e=A7e;function t(n,r){var s=n.x,a=n.y;return new e.Point(r?{x:s,y:a}:{x:a,y:s})}return $4}var cp={},Yte;function y9t(){if(Yte)return cp;Yte=1,cp.__esModule=!0,cp.default=n,cp.defaultAxisRangePadding=void 0;function e(){return e=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var i in a)({}).hasOwnProperty.call(a,i)&&(r[i]=a[i])}return r},e.apply(null,arguments)}var t=cp.defaultAxisRangePadding=0;function n(r){return r===void 0&&(r=t),typeof r=="number"?{start:r,end:r}:e({start:t,end:t},r)}return cp}var Kte;function x9t(){if(Kte)return D4;Kte=1,D4.__esModule=!0,D4.default=v,h(HD());var e=h(Xd()),t=h(mg()),n=hB,r=mB,s=h(d9t()),a=h(f9t()),i=h(h9t()),l=h(v9t()),c=h(qx()),u=h(y9t()),d=["children","axisClassName","hideAxisLine","hideTicks","hideZero","innerRef","left","numTicks","orientation","rangePadding","scale","tickFormat","tickLength","tickValues","top"];function h(x){return x&&x.__esModule?x:{default:x}}function m(){return m=Object.assign?Object.assign.bind():function(x){for(var b=1;b<arguments.length;b++){var w=arguments[b];for(var C in w)({}).hasOwnProperty.call(w,C)&&(x[C]=w[C])}return x},m.apply(null,arguments)}function g(x,b){if(x==null)return{};var w={};for(var C in x)if({}.hasOwnProperty.call(x,C)){if(b.includes(C))continue;w[C]=x[C]}return w}function v(x){var b=x.children,w=b===void 0?s.default:b,C=x.axisClassName,S=x.hideAxisLine,k=S===void 0?!1:S,E=x.hideTicks,T=E===void 0?!1:E,j=x.hideZero,N=j===void 0?!1:j,R=x.innerRef,O=x.left,I=O===void 0?0:O,B=x.numTicks,D=B===void 0?10:B,z=x.orientation,V=z===void 0?c.default.bottom:z,U=x.rangePadding,H=U===void 0?0:U,q=x.scale,$=x.tickFormat,G=x.tickLength,K=G===void 0?8:G,ee=x.tickValues,oe=x.top,ne=oe===void 0?0:oe,te=g(x,d),re=$??(0,i.default)(q),X=V===c.default.left,ce=V===c.default.top,se=ce||V===c.default.bottom,J=(0,a.default)(q),de=X||ce?-1:1,ie=q.range(),he=(0,u.default)(H),pe=(0,l.default)({x:Number(ie[0])+.5-he.start,y:0},se),ge=(0,l.default)({x:Number(ie[ie.length-1])+.5+he.end,y:0},se),Ce=(ee??(0,r.getTicks)(q,D)).filter(function(Pe){return!N||Pe!==0&&Pe!=="0"}).map(function(Pe,ot){return{value:Pe,index:ot}}),we=Ce.map(function(Pe){var ot=Pe.value,Be=Pe.index,Ee=(0,r.coerceNumber)(J(ot));return{value:ot,index:Be,from:(0,l.default)({x:Ee,y:0},se),to:(0,l.default)({x:Ee,y:K*de},se),formattedValue:re(ot,Be,Ce)}});return e.default.createElement(n.Group,{className:(0,t.default)("visx-axis",C),innerRef:R,top:ne,left:I},w(m({},te,{axisFromPoint:pe,axisToPoint:ge,hideAxisLine:k,hideTicks:T,hideZero:N,horizontal:se,numTicks:D,orientation:V,rangePadding:H,scale:q,tickFormat:re,tickLength:K,tickPosition:J,tickSign:de,ticks:we})))}return D4}var b9t=x9t();const w9t=Js(b9t);var _9t=["animationTrajectory","tickComponent"];function _6(){return _6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_6.apply(null,arguments)}function C9t(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function S9t(e){var t=e.animationTrajectory,n=e.tickComponent,r=C9t(e,_9t),s=f.useMemo(function(){return function(i){return L.createElement(UCt,_6({},i,{tickComponent:n,animationTrajectory:t}))}},[t,n]);return L.createElement(w9t,_6({},r,{ticksComponent:s}))}var q4={},G4={},Qte;function R7e(){if(Qte)return G4;Qte=1,G4.__esModule=!0,G4.default=i;var e=r(Xd()),t=r(mg()),n=["from","to","fill","className","innerRef"];function r(l){return l&&l.__esModule?l:{default:l}}function s(){return s=Object.assign?Object.assign.bind():function(l){for(var c=1;c<arguments.length;c++){var u=arguments[c];for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(l[d]=u[d])}return l},s.apply(this,arguments)}function a(l,c){if(l==null)return{};var u={},d=Object.keys(l),h,m;for(m=0;m<d.length;m++)h=d[m],!(c.indexOf(h)>=0)&&(u[h]=l[h]);return u}function i(l){var c=l.from,u=c===void 0?{x:0,y:0}:c,d=l.to,h=d===void 0?{x:1,y:1}:d,m=l.fill,g=m===void 0?"transparent":m,v=l.className,x=l.innerRef,b=a(l,n),w=u.x===h.x||u.y===h.y;return e.default.createElement("line",s({ref:x,className:(0,t.default)("visx-line",v),x1:u.x,y1:u.y,x2:h.x,y2:h.y,fill:g,shapeRendering:w?"crispEdges":"auto"},b))}return G4}var Y4={},Xte;function M9t(){if(Xte)return Y4;Xte=1,Y4.__esModule=!0,Y4.default=e;function e(t){return"bandwidth"in t?t.bandwidth():0}return Y4}var Zte;function k9t(){if(Zte)return q4;Zte=1,q4.__esModule=!0,q4.default=m;var e=u(HD()),t=u(Xd()),n=u(mg()),r=u(R7e()),s=hB,a=A7e,i=mB,l=u(M9t()),c=["top","left","scale","width","stroke","strokeWidth","strokeDasharray","className","children","numTicks","lineStyle","offset","tickValues"];function u(g){return g&&g.__esModule?g:{default:g}}function d(){return d=Object.assign?Object.assign.bind():function(g){for(var v=1;v<arguments.length;v++){var x=arguments[v];for(var b in x)Object.prototype.hasOwnProperty.call(x,b)&&(g[b]=x[b])}return g},d.apply(this,arguments)}function h(g,v){if(g==null)return{};var x={},b=Object.keys(g),w,C;for(C=0;C<b.length;C++)w=b[C],!(v.indexOf(w)>=0)&&(x[w]=g[w]);return x}function m(g){var v=g.top,x=v===void 0?0:v,b=g.left,w=b===void 0?0:b,C=g.scale,S=g.width,k=g.stroke,E=k===void 0?"#eaf0f6":k,T=g.strokeWidth,j=T===void 0?1:T,N=g.strokeDasharray,R=g.className,O=g.children,I=g.numTicks,B=I===void 0?10:I,D=g.lineStyle,z=g.offset,V=g.tickValues,U=h(g,c),H=V??(0,i.getTicks)(C,B),q=(z??0)+(0,l.default)(C)/2,$=H.map(function(G,K){var ee,oe=((ee=(0,i.coerceNumber)(C(G)))!=null?ee:0)+q;return{index:K,from:new a.Point({x:0,y:oe}),to:new a.Point({x:S,y:oe})}});return t.default.createElement(s.Group,{className:(0,n.default)("visx-rows",R),top:x,left:w},O?O({lines:$}):$.map(function(G){var K=G.from,ee=G.to,oe=G.index;return t.default.createElement(r.default,d({key:"row-line-"+oe,from:K,to:ee,stroke:E,strokeWidth:j,strokeDasharray:N,style:D},U))}))}return m.propTypes={tickValues:e.default.array,width:e.default.number.isRequired},q4}var E9t=k9t();const T9t=Js(E9t);var N9t=["scale","lines","animationTrajectory","animateXOrY","lineKey","lineStyle"];function C6(){return C6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C6.apply(null,arguments)}function j9t(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function L7e(e){var t=e.scale,n=e.lines,r=e.animationTrajectory,s=e.animateXOrY,a=e.lineKey,i=e.lineStyle,l=j9t(e,N9t),c=X8e(n,C6({},X9e({scale:t,animateXOrY:s,animationTrajectory:r}),{key:a}));return L.createElement(L.Fragment,null,c(function(u,d,h){var m=u.fromX,g=u.toX,v=u.fromY,x=u.toY,b=u.opacity,w=h.key;return L.createElement(H5.line,C6({key:w,x1:m,x2:g,y1:v,y2:x,strokeOpacity:b,style:i},l))}))}L7e.propTypes={lineKey:Ae.func.isRequired};var A9t=["scale","width","numTicks","tickValues","offset","className","animationTrajectory","top","left"];function DL(){return DL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DL.apply(null,arguments)}function R9t(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function O7e(e){var t=e.scale,n=e.width,r=e.numTicks,s=e.tickValues,a=e.offset,i=e.className,l=e.animationTrajectory,c=e.top,u=e.left,d=R9t(e,A9t);return L.createElement(T9t,{scale:t,width:n,numTicks:r,tickValues:s,className:i,top:c,left:u,offset:a},function(h){var m=h.lines;return L.createElement(L7e,DL({scale:t,lines:m,animationTrajectory:l,animateXOrY:"y",lineKey:function(v){var x,b;return"row-"+((x=v==null||(b=v.from)==null?void 0:b.y)!=null?x:"")+"-"+v.index}},d))})}var Ta={top:"top",left:"left",bottom:"bottom"};function L9t(e){var t=e.labelOffset,n=e.labelProps,r=e.orientation,s=e.range,a=e.tickLabelFontSize,i=e.tickLength,l=r===Ta.left||r===Ta.top?-1:1,c,u,d;if(r===Ta.top||r===Ta.bottom){var h=r===Ta.bottom&&typeof n.fontSize=="number"?n.fontSize:0;c=(Number(s[0])+Number(s[s.length-1]))/2,u=l*(i+t+a+h)}else c=l*((Number(s[0])+Number(s[s.length-1]))/2),u=-(i+t),d="rotate("+l*90+")";return{x:c,y:u,transform:d}}function A2(){return A2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A2.apply(null,arguments)}function O9t(e){var t=e.hideTicks,n=e.horizontal,r=e.orientation,s=e.tickClassName,a=e.tickComponent,i=e.tickLabelProps,l=e.tickStroke,c=l===void 0?"#222":l,u=e.tickTransform,d=e.ticks,h=e.strokeWidth,m=e.tickLineProps;return d.map(function(g){var v,x=g.value,b=g.index,w=g.from,C=g.to,S=g.formattedValue,k=(v=i[b])!=null?v:{},E=Math.max(10,typeof k.fontSize=="number"&&k.fontSize||0),T=C.y+(n&&r!==Ta.top?E:0);return L.createElement(si,{key:"visx-tick-"+x+"-"+b,className:W("visx-axis-tick",s),transform:u},!t&&L.createElement(ES,A2({from:w,to:C,stroke:c,strokeWidth:h,strokeLinecap:"square"},m)),a?a(A2({},k,{x:C.x,y:T,formattedValue:S})):L.createElement(mS,A2({x:C.x,y:T},k),S))})}function R2(){return R2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R2.apply(null,arguments)}var Jte={textAnchor:"middle",fontFamily:"Arial",fontSize:10,fill:"#222"};function P9t(e){var t=e.axisFromPoint,n=e.axisLineClassName,r=e.axisToPoint,s=e.hideAxisLine,a=e.hideTicks,i=e.horizontal,l=e.label,c=l===void 0?"":l,u=e.labelClassName,d=e.labelOffset,h=d===void 0?14:d,m=e.labelProps,g=e.orientation,v=g===void 0?Ta.bottom:g,x=e.scale,b=e.stroke,w=b===void 0?"#222":b,C=e.strokeDasharray,S=e.strokeWidth,k=S===void 0?1:S,E=e.tickClassName,T=e.tickComponent,j=e.tickLineProps,N=e.tickLabelProps,R=e.tickLength,O=R===void 0?8:R,I=e.tickStroke,B=I===void 0?"#222":I,D=e.tickTransform,z=e.ticks,V=e.ticksComponent,U=V===void 0?O9t:V,H=R2({},Jte,m),q=R2({},Jte,typeof N=="object"?N:null),$=z.map(function(K){var ee=K.value,oe=K.index;return typeof N=="function"?N(ee,oe,z):q}),G=Math.max.apply(Math,[10].concat($.map(function(K){return typeof K.fontSize=="number"?K.fontSize:0})));return L.createElement(L.Fragment,null,U({hideTicks:a,horizontal:i,orientation:v,scale:x,tickClassName:E,tickComponent:T,tickLabelProps:$,tickStroke:B,tickTransform:D,ticks:z,strokeWidth:k,tickLineProps:j}),!s&&L.createElement(ES,{className:W("visx-axis-line",n),from:t,to:r,stroke:w,strokeWidth:k,strokeDasharray:C}),c&&L.createElement(mS,R2({className:W("visx-axis-label",u)},L9t({labelOffset:h,labelProps:H,orientation:v,range:x.range(),tickLabelFontSize:G,tickLength:O}),H),c))}function I9t(e,t){t===void 0&&(t="center");var n=e;if(t!=="start"&&"bandwidth"in n){var r=n.bandwidth();return t==="center"&&(r/=2),n.round()&&(r=Math.round(r)),function(s){var a=n(s);return typeof a=="number"?a+r:a}}return e}function D9t(e){var t=e;return"tickFormat"in t?t.tickFormat():Q9e}function K4(e,t){var n=e.x,r=e.y;return new qd(t?{x:n,y:r}:{x:r,y:n})}function FL(){return FL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FL.apply(null,arguments)}var MT=0;function F9t(e){return e===void 0&&(e=MT),typeof e=="number"?{start:e,end:e}:FL({start:MT,end:MT},e)}var U9t=["children","axisClassName","hideAxisLine","hideTicks","hideZero","innerRef","left","numTicks","orientation","rangePadding","scale","tickFormat","tickLength","tickValues","top"];function UL(){return UL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UL.apply(null,arguments)}function B9t(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function S6(e){var t=e.children,n=t===void 0?P9t:t,r=e.axisClassName,s=e.hideAxisLine,a=s===void 0?!1:s,i=e.hideTicks,l=i===void 0?!1:i,c=e.hideZero,u=c===void 0?!1:c,d=e.innerRef,h=e.left,m=h===void 0?0:h,g=e.numTicks,v=g===void 0?10:g,x=e.orientation,b=x===void 0?Ta.bottom:x,w=e.rangePadding,C=w===void 0?0:w,S=e.scale,k=e.tickFormat,E=e.tickLength,T=E===void 0?8:E,j=e.tickValues,N=e.top,R=N===void 0?0:N,O=B9t(e,U9t),I=k??D9t(S),B=b===Ta.left,D=b===Ta.top,z=D||b===Ta.bottom,V=I9t(S),U=B||D?-1:1,H=S.range(),q=F9t(C),$=K4({x:Number(H[0])+.5-q.start,y:0},z),G=K4({x:Number(H[H.length-1])+.5+q.end,y:0},z),K=(j??fB(S,v)).filter(function(oe){return!u||oe!==0&&oe!=="0"}).map(function(oe,ne){return{value:oe,index:ne}}),ee=K.map(function(oe){var ne=oe.value,te=oe.index,re=CS(V(ne));return{value:ne,index:te,from:K4({x:re,y:0},z),to:K4({x:re,y:T*U},z),formattedValue:I(ne,te,K)}});return L.createElement(si,{className:W("visx-axis",r),innerRef:d,top:R,left:m},n(UL({},O,{axisFromPoint:$,axisToPoint:G,hideAxisLine:a,hideTicks:l,hideZero:u,horizontal:z,numTicks:v,orientation:b,rangePadding:C,scale:S,tickFormat:I,tickLength:T,tickPosition:V,tickSign:U,ticks:ee})))}var V9t=R7e();const z9t=Js(V9t);function H9t(e){return"bandwidth"in e?e.bandwidth():0}var W9t=["top","left","scale","width","stroke","strokeWidth","strokeDasharray","className","children","numTicks","lineStyle","offset","tickValues"];function BL(){return BL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BL.apply(this,arguments)}function $9t(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function nb(e){var t=e.top,n=t===void 0?0:t,r=e.left,s=r===void 0?0:r,a=e.scale,i=e.width,l=e.stroke,c=l===void 0?"#eaf0f6":l,u=e.strokeWidth,d=u===void 0?1:u,h=e.strokeDasharray,m=e.className,g=e.children,v=e.numTicks,x=v===void 0?10:v,b=e.lineStyle,w=e.offset,C=e.tickValues,S=$9t(e,W9t),k=C??fB(a,x),E=(w??0)+H9t(a)/2,T=k.map(function(j,N){var R,O=((R=CS(a(j)))!=null?R:0)+E;return{index:N,from:new qd({x:0,y:O}),to:new qd({x:i,y:O})}});return L.createElement(si,{className:W("visx-rows",m),top:n,left:s},g?g({lines:T}):T.map(function(j){var N=j.from,R=j.to,O=j.index;return L.createElement(z9t,BL({key:"row-line-"+O,from:N,to:R,stroke:c,strokeWidth:d,strokeDasharray:h,style:b},S))}))}nb.propTypes={tickValues:Ae.array,width:Ae.number.isRequired};function ene({ref:e}){const t=e.current,[n,r,s]=f.useMemo(()=>{if(t){const a=t.querySelectorAll(".visx-axis-tick"),i=Array.from(a).map(l=>{const{width:c,height:u}=l.getBBox();return[c,u]});if(i.length){const l=Math.max(...i.map(u=>u[0])),c=Math.max(...i.map(u=>u[1]));return[l,c,i.length*l]}}return[0,0,0]},[t]);return f.useMemo(()=>({minRequiredWidth:s,maxLabelWidth:n,maxLabelHeight:r}),[r,n,s])}function NS(){const e=f.useRef(null),{maxLabelWidth:t,minRequiredWidth:n}=ene({ref:e}),r=f.useRef(null),{maxLabelWidth:s}=ene({ref:r});return f.useMemo(()=>({xAxisRef:e,yAxisRef:r,maxXLabelWidth:t,maxYLabelWidth:s,minXRequiredWidth:n}),[t,s,n])}const tne=40,kT=e=>typeof e=="number";function jS({config:e,innerWidth:t,innerHeight:n,maxXLabelWidth:r}){let s=Math.floor(t/(r+tne));kT(e?.x?.numTicks)&&kT(s)&&(s=Math.min(s,e.x.numTicks)),r||(s=void 0);let a=Math.floor(n/tne);return kT(e?.y?.numTicks)&&(a=Math.min(a,e.y.numTicks)),{xTiltTicks:!1,xNumTicks:s,yNumTicks:a}}const P7e="fill-textOff font-mono text-xs font-bold truncate max-w-[100px]",nne="fill-textOff dark:fill-textOff  text-xs font-semibold font-sans",q9t=(e,t,n)=>n?{transform:"rotate(-10deg)",transformOrigin:`${e}px ${t}px`,textAnchor:"end"}:{textAnchor:"middle"};function G9t(e){const{shouldTilt:t,x:n,y:r,formattedValue:s,style:a,className:i,...l}=e;return o.jsx("text",{...l,x:n,y:r,dy:"2px",className:W(P7e,i),style:{...a,...q9t(n,r,t)},children:s})}const rb=L.memo(function(t){const{margin:n,height:r,width:s,xScale:a,yScale:i,xFormat:l,yFormat:c,yNumTicks:u,xNumTicks:d,xTickValues:h,yTickValues:m,xTiltTicks:g,animated:v,tickColor:x,axisColor:b,xAxisRef:w,yAxisRef:C,xAxisLabel:S,yAxisLabel:k,gridDashed:E=!1,gridStrokeWidth:T=.5}=t,j=ii(),N=v?S9t:S6,R=v?O7e:nb,O=f.useCallback(B=>o.jsx(G9t,{...B,shouldTilt:g}),[g]),I=f.useMemo(()=>({className:P7e,textAnchor:"start",dx:"0.75em",dy:"-0.25em"}),[]);return o.jsxs(o.Fragment,{children:[o.jsx(S6,{orientation:Ta.bottom,top:r-n.bottom,scale:a,stroke:b,hideAxisLine:!0,label:S,labelClassName:nne,tickFormat:l,numTicks:d,tickStroke:x,innerRef:w,tickValues:h,tickComponent:O,axisClassName:"select-none"}),o.jsx(N,{orientation:Ta.left,left:n.left,hideAxisLine:!0,label:k,labelOffset:7.5,labelClassName:nne,scale:i,tickFormat:c,stroke:b,tickStroke:x,hideTicks:!0,innerRef:C,tickLabelProps:I,numTicks:u,tickValues:m,axisClassName:"select-none"}),j&&o.jsx(R,{left:n.left,scale:i,width:s-n.right-n.left*2,strokeDasharray:E?"8,4":void 0,stroke:b,strokeWidth:T,numTicks:u})]})});rb.displayName="Axes";const I7e="#1FB8CD",D7e="#B4413C",Y9t=[I7e,"#FFC185",D7e,"#ECEBD5","#5D878F","#DB4545","#D2BA4C","#964325"],F7e="#20808D",U7e="#A84B2F",K9t=[F7e,U7e,"#1B474D","#BCE2E7","#944454","#FFC553","#848456","#6E522B"],Q9t={tickColor:"#2F3031",axisColor:"#2F3031",textColor:"#aaaaaa",colorSchema:Y9t},X9t={tickColor:"#D9D9D0",axisColor:"#D9D9D0",textColor:"#A0A0A0",colorSchema:K9t},Z9t=eb("%b %d"),J9t=eb("%b"),e7t=eb("%Y");function t7t(e){return e?(e=new Date(e),(Jx(e)<e?Z9t:Go(e)<e?J9t:e7t)(e)):""}const SXt=(e,t,n)=>{if(!e&&(e!==0||!n?.renderZero))return"";const r=e%1===0&&!n?.alwaysShowMinor||n?.roundToMajor?0:2;let s=n?.roundToMajor?0:2;if(e>0&&e<1){const i=Math.abs(e).toExponential();s=Math.abs(parseInt(i.split("e")[1]))+1}const a=Intl.NumberFormat(void 0,{style:t?"currency":"decimal",currency:t,minimumFractionDigits:1,maximumFractionDigits:1,currencyDisplay:n?.currencyDisplay??"narrowSymbol"});return n?.truncate&&e>=1e6?`${a.format(e/1e6)}M`:n?.truncate&&e>=1e3?`${a.format(e/1e3)}k`:e.toLocaleString(void 0,{style:t?"currency":"decimal",currency:t,minimumFractionDigits:r,maximumFractionDigits:s,currencyDisplay:n?.currencyDisplay??"narrowSymbol"})};function n7t(e,t){const n=e>1?0:2;return e.toLocaleString(void 0,{style:"percent",minimumFractionDigits:0,maximumFractionDigits:n})}const r7t={time:e=>new Date(e),linear:e=>+e,band:e=>e,ordinal:e=>e,log:e=>+e,point:e=>e};function ET(e,t){if(!e)return r=>null;if(t===void 0)return r=>r[e];const n=r7t[t]||(r=>r);return r=>n(r[e])}function up(e,t){return typeof t=="function"?t(e):typeof t=="string"?t.replace("%s",e):e instanceof Date?t7t(e):String(e)}const bi={time:tb,linear:$1,band:lB,log:uB,point:cB,ordinal:dB},rne=["band","ordinal","point"];function s7t({width:e,height:t,margin:n,hasAxis:r,maxYLabelWidth:s=0}){const a=n.left+(r?s+15:0),i=e-n.right-n.left,l=t-n.bottom,c=n.top,u=[a,i],d=[l,c],h=Math.max(0,i-a);return{innerHeight:Math.max(0,l-c),innerWidth:h,xRange:u,yRange:d}}function MXt(e,t,n){const r=[];let s="";return e.forEach(a=>{const i=t(a),l=i.toISOString().slice(0,10);l!==s&&(s=l,r.push(i))}),r.filter((a,i)=>i%n===0)}function AS(e){const{colorScheme:t}=ba(),n=ii(),r=f.useMemo(()=>n?t==="dark":!1,[t,n]);return f.useMemo(()=>({...r?Q9t:X9t,...e}),[r,e])}function RS(e){return f.useMemo(()=>e.data.map(n=>({__key:Math.random(),...n})),[e.data])}function LS({config:e}){const t=f.useMemo(()=>ET(e.x.accessor,e.x.scale),[e.x]),n=f.useMemo(()=>ET(e.y.accessor,e.y.scale),[e.y]),r=f.useMemo(()=>ET(e.z?.accessor,e.z?.scale),[e.z]);return f.useMemo(()=>({xGet:t,yGet:n,zGet:r}),[t,n,r])}function OS({config:e}){const t=f.useCallback(l=>up(l,e.x.format),[e.x]),n=f.useCallback(l=>up(l,e.y.format),[e.y]),r=f.useCallback(l=>up(l,e.z?.format),[e.z]),s=f.useCallback(l=>up(l,e.x.tooltipFormat??e.x.format),[e.x]),a=f.useCallback(l=>up(l,e.y.tooltipFormat??e.y.format),[e.y]),i=f.useCallback(l=>up(l,e.z?.tooltipFormat??e.z?.format),[e.z]);return f.useMemo(()=>({xFormat:t,yFormat:n,zFormat:r,xTooltipFormat:s,yTooltipFormat:a,zTooltipFormat:i}),[t,n,r,s,a,i])}function sb({width:e,height:t,margin:n,maxYLabelWidth:r,hasAxis:s}){return f.useMemo(()=>s7t({width:e,height:t,margin:n,maxYLabelWidth:r,hasAxis:s}),[e,t,n,r,s])}function wB({config:e,xGet:t,yGet:n,data:r,endTime:s,previousClose:a}){const i=f.useMemo(()=>{if(rne.includes(e.x.scale))return[...new Set(r.map(t))];const u=Kc(r,t);return e.x.tickValues?Kc([...e.x.tickValues,...u]):u},[e.x.tickValues,e.x.scale,r,t]),l=f.useMemo(()=>{if(rne.includes(e.y.scale))return[...new Set(r.map(n))];const d=[...Kc(r,n)];a!==void 0&&d.push(a),e.y.tickValues&&d.push(...e.y.tickValues);const[h,m]=Kc(d),v=(m-h)*.05;return[h-v,m+v]},[e.y.tickValues,e.y.scale,r,n,a]),c=f.useMemo(()=>{if(!s||!i||i.length<2||e.x.scale!=="time")return i;const[u,d]=i;return new Date(d).toDateString()!==s.toDateString()?i:Date.now()<s.getTime()&&d<s?[u,s]:i},[i,s,e.x.scale]);return f.useMemo(()=>({xDomain:c,yDomain:l}),[c,l])}function B7e(e){const[t,n]=f.useState({width:0,height:0});return f.useEffect(()=>{const r=()=>{e.current&&n({width:e.current.offsetWidth,height:e.current.offsetHeight})};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[e]),t}const V7e=L.memo(({color:e})=>o.jsx("div",{className:"h-[14px] w-[14px] rounded-full",style:{backgroundColor:e}}));V7e.displayName="Tile";const ab=L.memo(({entries:e})=>o.jsx("ol",{className:"my-sm gap-x-md gap-y-xs flex flex-wrap",children:e.map(({key:t,color:n})=>o.jsxs("li",{className:"gap-xs fade-in flex items-center transition-all duration-200",children:[o.jsx(V7e,{color:n}),o.jsx(F,{variant:"tiny",color:"light",children:String(t)})]},String(t)))}));ab.displayName="Legend";const ib=L.memo(({width:e,height:t,children:n,ref:r})=>{const s=f.useMemo(()=>({position:"relative",height:t,overflow:"visible"}),[t]);return o.jsx(Q,{style:s,children:o.jsx("svg",{width:e,ref:r,height:t,style:{position:"absolute",left:0,top:0,overflow:"visible"},children:n})})});function a7t(e){return!!e&&(e instanceof SVGElement||"ownerSVGElement"in e)}function i7t(e){return!!e&&"createSVGPoint"in e}function o7t(e){return!!e&&"getScreenCTM"in e}function l7t(e){return!!e&&"changedTouches"in e}function c7t(e){return!!e&&"clientX"in e}function u7t(e){return!!e&&(e instanceof Event||"nativeEvent"in e&&e.nativeEvent instanceof Event)}function L2(){return L2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L2.apply(this,arguments)}var TT={x:0,y:0};function d7t(e){if(!e)return L2({},TT);if(l7t(e))return e.changedTouches.length>0?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:L2({},TT);if(c7t(e))return{x:e.clientX,y:e.clientY};var t=e?.target,n=t&&"getBoundingClientRect"in t?t.getBoundingClientRect():null;return n?{x:n.x+n.width/2,y:n.y+n.height/2}:L2({},TT)}function f7t(e,t){if(!e||!t)return null;var n=d7t(t),r=a7t(e)?e.ownerSVGElement:e,s=o7t(r)?r.getScreenCTM():null;if(i7t(r)&&s){var a=r.createSVGPoint();return a.x=n.x,a.y=n.y,a=a.matrixTransform(s.inverse()),new qd({x:a.x,y:a.y})}var i=e.getBoundingClientRect();return new qd({x:n.x-i.left-e.clientLeft,y:n.y-i.top-e.clientTop})}function h7t(e,t){if(u7t(e)){var n=e,r=n.target;if(r)return f7t(r,n)}return null}var m7t=["tooltipOpen"];function p7t(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function M6(){return M6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M6.apply(null,arguments)}function g7t(e){var t=f.useState(M6({tooltipOpen:!1},e)),n=t[0],r=t[1],s=f.useCallback(function(i){return r(typeof i=="function"?function(l){l.tooltipOpen;var c=p7t(l,m7t);return M6({},i(c),{tooltipOpen:!0})}:{tooltipOpen:!0,tooltipLeft:i.tooltipLeft,tooltipTop:i.tooltipTop,tooltipData:i.tooltipData})},[r]),a=f.useCallback(function(){return r({tooltipOpen:!1,tooltipLeft:void 0,tooltipTop:void 0,tooltipData:void 0})},[r]);return{tooltipOpen:n.tooltipOpen,tooltipLeft:n.tooltipLeft,tooltipTop:n.tooltipTop,tooltipData:n.tooltipData,updateTooltip:r,showTooltip:s,hideTooltip:a}}var v7t=["className","top","left","offsetLeft","offsetTop","style","children","unstyled","applyPositionStyle"];function k6(){return k6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k6.apply(null,arguments)}function y7t(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var z7e={position:"absolute",backgroundColor:"white",color:"#666666",padding:".3rem .5rem",borderRadius:"3px",fontSize:"14px",boxShadow:"0 1px 2px rgba(33,33,33,0.2)",lineHeight:"1em",pointerEvents:"none"},_B=L.forwardRef(function(e,t){var n=e.className,r=e.top,s=e.left,a=e.offsetLeft,i=a===void 0?10:a,l=e.offsetTop,c=l===void 0?10:l,u=e.style,d=u===void 0?z7e:u,h=e.children,m=e.unstyled,g=m===void 0?!1:m,v=e.applyPositionStyle,x=v===void 0?!1:v,b=y7t(e,v7t);return L.createElement("div",k6({ref:t,className:W("visx-tooltip",n),style:k6({top:r==null||c==null?r:r+c,left:s==null||i==null?s:s+i},x&&{position:"absolute"},!g&&d)},b),h)});_B.propTypes={children:Ae.node,className:Ae.string,left:Ae.number,offsetLeft:Ae.number,offsetTop:Ae.number,top:Ae.number,applyPositionStyle:Ae.bool,unstyled:Ae.bool};_B.displayName="Tooltip";function VL(){return VL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VL.apply(null,arguments)}function x7t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,zL(e,t)}function zL(e,t){return zL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},zL(e,t)}var sne={top:0,right:0,bottom:0,left:0,width:0,height:0};function b7t(e){var t;return t=function(n){function r(a){var i;return i=n.call(this,a)||this,i.state={rect:void 0,parentRect:void 0},i.nodeRef=L.createRef(),i.getRects=i.getRects.bind(i),i}x7t(r,n);var s=r.prototype;return s.componentDidMount=function(){var i,l=this;this.node=(i=this.nodeRef)!=null&&i.current?this.nodeRef.current:Lle.findDOMNode(this),this.setState(function(){return l.getRects()})},s.getRects=function(){if(!this.node)return this.state;var i=this.node,l=i.parentNode,c=i.getBoundingClientRect?i.getBoundingClientRect():sne,u=l!=null&&l.getBoundingClientRect?l.getBoundingClientRect():sne;return{rect:c,parentRect:u}},s.render=function(){return L.createElement(e,VL({nodeRef:this.nodeRef,getRects:this.getRects},this.state,this.props))},r}(L.PureComponent),t.displayName="withBoundingRects("+(e.displayName||"")+")",t}var H7e=f.createContext({isFlippedVertically:!1,isFlippedHorizontally:!1}),w7t=H7e.Provider;H7e.Consumer;var _7t=["children","getRects","left","offsetLeft","offsetTop","parentRect","rect","style","top","unstyled","nodeRef"];function E6(){return E6=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E6.apply(null,arguments)}function C7t(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function W7e(e){var t=e.children;e.getRects;var n=e.left,r=n===void 0?0:n,s=e.offsetLeft,a=s===void 0?10:s,i=e.offsetTop,l=i===void 0?10:i,c=e.parentRect,u=e.rect,d=e.style,h=d===void 0?z7e:d,m=e.top,g=m===void 0?0:m,v=e.unstyled,x=v===void 0?!1:v,b=e.nodeRef,w=C7t(e,_7t),C,S=!1,k=!1;if(u&&c){var E=r,T=g;if(c.width){var j=E+a+u.width-c.width,N=u.width-E-a;S=j>0&&j>N}else{var R=E+a+u.width-window.innerWidth,O=u.width-E-a;S=R>0&&R>O}if(c.height){var I=T+l+u.height-c.height,B=u.height-T-l;k=I>0&&I>B}else k=T+l+u.height>window.innerHeight;E=S?E-u.width-a:E+a,T=k?T-u.height-l:T+l,E=Math.round(E),T=Math.round(T),C="translate("+E+"px, "+T+"px)"}return L.createElement(_B,E6({ref:b,style:E6({left:0,top:0,transform:C},!x&&h)},w),L.createElement(w7t,{value:{isFlippedVertically:!k,isFlippedHorizontally:!S}},t))}W7e.propTypes={nodeRef:Ae.oneOfType([Ae.string,Ae.func,Ae.object])};const S7t=b7t(W7e);function ane(e){return function(){return e}}function M7t(e){return e[0]}function k7t(e){return e[1]}function T6(){this._=null}function PS(e){e.U=e.C=e.L=e.R=e.P=e.N=null}T6.prototype={constructor:T6,insert:function(e,t){var n,r,s;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=ine(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(s=r.R,s&&s.C?(n.C=s.C=!1,r.C=!0,e=r):(e===n.R&&(Av(this,n),e=n,n=e.U),n.C=!1,r.C=!0,Rv(this,r))):(s=r.L,s&&s.C?(n.C=s.C=!1,r.C=!0,e=r):(e===n.L&&(Rv(this,n),e=n,n=e.U),n.C=!1,r.C=!0,Av(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t=e.U,n,r=e.L,s=e.R,a,i;if(r?s?a=ine(s):a=r:a=s,t?t.L===e?t.L=a:t.R=a:this._=a,r&&s?(i=a.C,a.C=e.C,a.L=r,r.U=a,a!==s?(t=a.U,a.U=e.U,e=a.R,t.L=e,a.R=s,s.U=a):(a.U=t,t=a,e=a.R)):(i=e.C,e=a),e&&(e.U=t),!i){if(e&&e.C){e.C=!1;return}do{if(e===this._)break;if(e===t.L){if(n=t.R,n.C&&(n.C=!1,t.C=!0,Av(this,t),n=t.R),n.L&&n.L.C||n.R&&n.R.C){(!n.R||!n.R.C)&&(n.L.C=!1,n.C=!0,Rv(this,n),n=t.R),n.C=t.C,t.C=n.R.C=!1,Av(this,t),e=this._;break}}else if(n=t.L,n.C&&(n.C=!1,t.C=!0,Rv(this,t),n=t.L),n.L&&n.L.C||n.R&&n.R.C){(!n.L||!n.L.C)&&(n.R.C=!1,n.C=!0,Av(this,n),n=t.L),n.C=t.C,t.C=n.L.C=!1,Rv(this,t),e=this._;break}n.C=!0,e=t,t=t.U}while(!e.C);e&&(e.C=!1)}}};function Av(e,t){var n=t,r=t.R,s=n.U;s?s.L===n?s.L=r:s.R=r:e._=r,r.U=s,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Rv(e,t){var n=t,r=t.L,s=n.U;s?s.L===n?s.L=r:s.R=r:e._=r,r.U=s,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ine(e){for(;e.L;)e=e.L;return e}function Qv(e,t,n,r){var s=[null,null],a=ia.push(s)-1;return s.left=e,s.right=t,n&&N6(s,e,t,n),r&&N6(s,t,e,r),vi[e.index].halfedges.push(a),vi[t.index].halfedges.push(a),s}function Lv(e,t,n){var r=[t,n];return r.left=e,r}function N6(e,t,n,r){!e[0]&&!e[1]?(e[0]=r,e.left=t,e.right=n):e.left===n?e[1]=r:e[0]=r}function E7t(e,t,n,r,s){var a=e[0],i=e[1],l=a[0],c=a[1],u=i[0],d=i[1],h=0,m=1,g=u-l,v=d-c,x;if(x=t-l,!(!g&&x>0)){if(x/=g,g<0){if(x<h)return;x<m&&(m=x)}else if(g>0){if(x>m)return;x>h&&(h=x)}if(x=r-l,!(!g&&x<0)){if(x/=g,g<0){if(x>m)return;x>h&&(h=x)}else if(g>0){if(x<h)return;x<m&&(m=x)}if(x=n-c,!(!v&&x>0)){if(x/=v,v<0){if(x<h)return;x<m&&(m=x)}else if(v>0){if(x>m)return;x>h&&(h=x)}if(x=s-c,!(!v&&x<0)){if(x/=v,v<0){if(x>m)return;x>h&&(h=x)}else if(v>0){if(x<h)return;x<m&&(m=x)}return!(h>0)&&!(m<1)||(h>0&&(e[0]=[l+h*g,c+h*v]),m<1&&(e[1]=[l+m*g,c+m*v])),!0}}}}}function T7t(e,t,n,r,s){var a=e[1];if(a)return!0;var i=e[0],l=e.left,c=e.right,u=l[0],d=l[1],h=c[0],m=c[1],g=(u+h)/2,v=(d+m)/2,x,b;if(m===d){if(g<t||g>=r)return;if(u>h){if(!i)i=[g,n];else if(i[1]>=s)return;a=[g,s]}else{if(!i)i=[g,s];else if(i[1]<n)return;a=[g,n]}}else if(x=(u-h)/(m-d),b=v-x*g,x<-1||x>1)if(u>h){if(!i)i=[(n-b)/x,n];else if(i[1]>=s)return;a=[(s-b)/x,s]}else{if(!i)i=[(s-b)/x,s];else if(i[1]<n)return;a=[(n-b)/x,n]}else if(d<m){if(!i)i=[t,x*t+b];else if(i[0]>=r)return;a=[r,x*r+b]}else{if(!i)i=[r,x*r+b];else if(i[0]<t)return;a=[t,x*t+b]}return e[0]=i,e[1]=a,!0}function N7t(e,t,n,r){for(var s=ia.length,a;s--;)(!T7t(a=ia[s],e,t,n,r)||!E7t(a,e,t,n,r)||!(Math.abs(a[0][0]-a[1][0])>fr||Math.abs(a[0][1]-a[1][1])>fr))&&delete ia[s]}function j7t(e){return vi[e.index]={site:e,halfedges:[]}}function A7t(e,t){var n=e.site,r=t.left,s=t.right;return n===s&&(s=r,r=n),s?Math.atan2(s[1]-r[1],s[0]-r[0]):(n===r?(r=t[1],s=t[0]):(r=t[0],s=t[1]),Math.atan2(r[0]-s[0],s[1]-r[1]))}function $7e(e,t){return t[+(t.left!==e.site)]}function R7t(e,t){return t[+(t.left===e.site)]}function L7t(){for(var e=0,t=vi.length,n,r,s,a;e<t;++e)if((n=vi[e])&&(a=(r=n.halfedges).length)){var i=new Array(a),l=new Array(a);for(s=0;s<a;++s)i[s]=s,l[s]=A7t(n,ia[r[s]]);for(i.sort(function(c,u){return l[u]-l[c]}),s=0;s<a;++s)l[s]=r[i[s]];for(s=0;s<a;++s)r[s]=l[s]}}function O7t(e,t,n,r){var s=vi.length,a,i,l,c,u,d,h,m,g,v,x,b,w=!0;for(a=0;a<s;++a)if(i=vi[a]){for(l=i.site,u=i.halfedges,c=u.length;c--;)ia[u[c]]||u.splice(c,1);for(c=0,d=u.length;c<d;)v=R7t(i,ia[u[c]]),x=v[0],b=v[1],h=$7e(i,ia[u[++c%d]]),m=h[0],g=h[1],(Math.abs(x-m)>fr||Math.abs(b-g)>fr)&&(u.splice(c,0,ia.push(Lv(l,v,Math.abs(x-e)<fr&&r-b>fr?[e,Math.abs(m-e)<fr?g:r]:Math.abs(b-r)<fr&&n-x>fr?[Math.abs(g-r)<fr?m:n,r]:Math.abs(x-n)<fr&&b-t>fr?[n,Math.abs(m-n)<fr?g:t]:Math.abs(b-t)<fr&&x-e>fr?[Math.abs(g-t)<fr?m:e,t]:null))-1),++d);d&&(w=!1)}if(w){var C,S,k,E=1/0;for(a=0,w=null;a<s;++a)(i=vi[a])&&(l=i.site,C=l[0]-e,S=l[1]-t,k=C*C+S*S,k<E&&(E=k,w=i));if(w){var T=[e,t],j=[e,r],N=[n,r],R=[n,t];w.halfedges.push(ia.push(Lv(l=w.site,T,j))-1,ia.push(Lv(l,j,N))-1,ia.push(Lv(l,N,R))-1,ia.push(Lv(l,R,T))-1)}}for(a=0;a<s;++a)(i=vi[a])&&(i.halfedges.length||delete vi[a])}var q7e=[],CB;function P7t(){PS(this),this.x=this.y=this.arc=this.site=this.cy=null}function Bp(e){var t=e.P,n=e.N;if(!(!t||!n)){var r=t.site,s=e.site,a=n.site;if(r!==a){var i=s[0],l=s[1],c=r[0]-i,u=r[1]-l,d=a[0]-i,h=a[1]-l,m=2*(c*h-u*d);if(!(m>=-1e-12)){var g=c*c+u*u,v=d*d+h*h,x=(h*g-u*v)/m,b=(c*v-d*g)/m,w=q7e.pop()||new P7t;w.arc=e,w.site=s,w.x=x+i,w.y=(w.cy=b+l)+Math.sqrt(x*x+b*b),e.circle=w;for(var C=null,S=Uy._;S;)if(w.y<S.y||w.y===S.y&&w.x<=S.x)if(S.L)S=S.L;else{C=S.P;break}else if(S.R)S=S.R;else{C=S;break}Uy.insert(C,w),C||(CB=w)}}}}function o1(e){var t=e.circle;t&&(t.P||(CB=t.N),Uy.remove(t),q7e.push(t),PS(t),e.circle=null)}var G7e=[];function I7t(){PS(this),this.edge=this.site=this.circle=null}function one(e){var t=G7e.pop()||new I7t;return t.site=e,t}function NT(e){o1(e),l1.remove(e),G7e.push(e),PS(e)}function D7t(e){var t=e.circle,n=t.x,r=t.cy,s=[n,r],a=e.P,i=e.N,l=[e];NT(e);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<fr&&Math.abs(r-c.circle.cy)<fr;)a=c.P,l.unshift(c),NT(c),c=a;l.unshift(c),o1(c);for(var u=i;u.circle&&Math.abs(n-u.circle.x)<fr&&Math.abs(r-u.circle.cy)<fr;)i=u.N,l.push(u),NT(u),u=i;l.push(u),o1(u);var d=l.length,h;for(h=1;h<d;++h)u=l[h],c=l[h-1],N6(u.edge,c.site,u.site,s);c=l[0],u=l[d-1],u.edge=Qv(c.site,u.site,null,s),Bp(c),Bp(u)}function F7t(e){for(var t=e[0],n=e[1],r,s,a,i,l=l1._;l;)if(a=Y7e(l,n)-t,a>fr)l=l.L;else if(i=t-U7t(l,n),i>fr){if(!l.R){r=l;break}l=l.R}else{a>-1e-6?(r=l.P,s=l):i>-1e-6?(r=l,s=l.N):r=s=l;break}j7t(e);var c=one(e);if(l1.insert(r,c),!(!r&&!s)){if(r===s){o1(r),s=one(r.site),l1.insert(c,s),c.edge=s.edge=Qv(r.site,c.site),Bp(r),Bp(s);return}if(!s){c.edge=Qv(r.site,c.site);return}o1(r),o1(s);var u=r.site,d=u[0],h=u[1],m=e[0]-d,g=e[1]-h,v=s.site,x=v[0]-d,b=v[1]-h,w=2*(m*b-g*x),C=m*m+g*g,S=x*x+b*b,k=[(b*C-g*S)/w+d,(m*S-x*C)/w+h];N6(s.edge,u,v,k),c.edge=Qv(u,e,null,k),s.edge=Qv(e,v,null,k),Bp(r),Bp(s)}}function Y7e(e,t){var n=e.site,r=n[0],s=n[1],a=s-t;if(!a)return r;var i=e.P;if(!i)return-1/0;n=i.site;var l=n[0],c=n[1],u=c-t;if(!u)return l;var d=l-r,h=1/a-1/u,m=d/u;return h?(-m+Math.sqrt(m*m-2*h*(d*d/(-2*u)-c+u/2+s-a/2)))/h+r:(r+l)/2}function U7t(e,t){var n=e.N;if(n)return Y7e(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var fr=1e-6,l1,vi,Uy,ia;function B7t(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function V7t(e,t){return t[1]-e[1]||t[0]-e[0]}function HL(e,t){var n=e.sort(V7t).pop(),r,s,a;for(ia=[],vi=new Array(e.length),l1=new T6,Uy=new T6;;)if(a=CB,n&&(!a||n[1]<a.y||n[1]===a.y&&n[0]<a.x))(n[0]!==r||n[1]!==s)&&(F7t(n),r=n[0],s=n[1]),n=e.pop();else if(a)D7t(a.arc);else break;if(L7t(),t){var i=+t[0][0],l=+t[0][1],c=+t[1][0],u=+t[1][1];N7t(i,l,c,u),O7t(i,l,c,u)}this.edges=ia,this.cells=vi,l1=Uy=ia=vi=null}HL.prototype={constructor:HL,polygons:function(){var e=this.edges;return this.cells.map(function(t){var n=t.halfedges.map(function(r){return $7e(t,e[r])});return n.data=t.site.data,n})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(n,r){if(l=(a=n.halfedges).length)for(var s=n.site,a,i=-1,l,c,u=t[a[l-1]],d=u.left===s?u.right:u.left;++i<l;)c=d,u=t[a[i]],d=u.left===s?u.right:u.left,c&&d&&r<c.index&&r<d.index&&B7t(s,c,d)<0&&e.push([s.data,c.data,d.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){for(var r=this,s,a=r._found||0,i=r.cells.length,l;!(l=r.cells[a]);)if(++a>=i)return null;var c=e-l.site[0],u=t-l.site[1],d=c*c+u*u;do l=r.cells[s=a],a=null,l.halfedges.forEach(function(h){var m=r.edges[h],g=m.left;if(!((g===l.site||!g)&&!(g=m.right))){var v=e-g[0],x=t-g[1],b=v*v+x*x;b<d&&(d=b,a=g.index)}});while(a!==null);return r._found=s,n==null||d<=n*n?l.site:null}};function z7t(){var e=M7t,t=k7t,n=null;function r(s){return new HL(s.map(function(a,i){var l=[Math.round(e(a,i,s)/fr)*fr,Math.round(t(a,i,s)/fr)*fr];return l.index=i,l.data=a,l}),n)}return r.polygons=function(s){return r(s).polygons()},r.links=function(s){return r(s).links()},r.triangles=function(s){return r(s).triangles()},r.x=function(s){return arguments.length?(e=typeof s=="function"?s:ane(+s),r):e},r.y=function(s){return arguments.length?(t=typeof s=="function"?s:ane(+s),r):t},r.extent=function(s){return arguments.length?(n=s==null?null:[[+s[0][0],+s[0][1]],[+s[1][0],+s[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(s){return arguments.length?(n=s==null?null:[[0,0],[+s[0],+s[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r}var lne=1;function H7t(e){var t=e.width,n=t===void 0?0:t,r=e.height,s=r===void 0?0:r,a=e.x,i=e.y,l=z7t();return a&&l.x(a),i&&l.y(i),l.extent([[-1,-1],[n+lne,s+lne]]),l}function IS({data:e,innerHeight:t,innerWidth:n,xScale:r,yScale:s,xGet:a,yGet:i,voronoiRadius:l=void 0}){const{showTooltip:c,hideTooltip:u,tooltipData:d}=g7t(),h=f.useMemo(()=>H7t({width:n,height:t,x:v=>r(a(v)),y:v=>s(i(v))})(e),[e,n,t,r,s,a,i]),m=f.useCallback(g=>{const{x:v,y:x}=h7t(g)??{x:0,y:0},b=h.find(v,x,l);if(!b)return u();c({tooltipData:{localPoint:{x:v,y:x},voronoiSite:b}})},[c,u,h,l]);return f.useMemo(()=>({showTooltip:c,hideTooltip:u,handleTooltip:m,tooltipData:d}),[m,u,c,d])}const ob=L.memo(function({margin:t,height:n,width:r,tooltipHandle:s,tooltipHide:a,maxYLabelWidth:i}){const c=f.useCallback(()=>a(),[a]);return o.jsx(Zg,{x:t.left+i-2.5,y:t.top,width:r-t.right-t.left*2-i+2.5*2,height:n-t.bottom-t.top,fill:"transparent",onTouchStart:s,onTouchMove:s,onMouseMove:s,onMouseLeave:c})});ob.displayName="TooltipListener";const By=L.memo(({cx:e,cy:t,color:n,r=3})=>o.jsx("circle",{cx:e,cy:t,r,fill:n,stroke:n,strokeWidth:1}));By.displayName="YDot";const K1=L.memo(({marginTop:e,tooltipLeft:t=0,innerHeight:n,color:r,strokeWidth:s=1,dotted:a=!1})=>{const i=f.useMemo(()=>({x:t,y:e}),[e,t]),l=f.useMemo(()=>({x:t,y:n+e}),[n,e,t]);return o.jsx("g",{children:o.jsx(ES,{from:i,to:l,stroke:r,strokeWidth:s,strokeDasharray:a?"4 4":void 0,pointerEvents:"none",className:"animate-in fade-in duration-300"})})});K1.displayName="YCrosshair";const jT=e=>e,K7e=L.memo(({entry:e,xFormat:t=jT,yFormat:n=jT,zFormat:r=jT,xGet:s,yGet:a,zGet:i})=>{const l=[{value:t(s(e))},{value:n(a(e))}];i&&l.unshift({value:r(i(e))});const c=l.filter(u=>u.value);return o.jsx(Q,{children:c.map(({value:u},d)=>o.jsx(F,{variant:"tiny",className:"py-two",children:String(u)},d))})});K7e.displayName="InnerToolTip";const Q7e=L.memo(({tooltipTop:e=0,tooltipLeft:t=0,children:n})=>{const r=f.useMemo(()=>({position:"absolute",pointerEvents:"none"}),[]);return o.jsx(S7t,{top:e,left:t,style:r,children:o.jsx(Q,{variant:"background",className:"p-sm dark:border-backgroundDark rounded-md border shadow-sm",children:n})})});Q7e.displayName="Tooltip";const lb=L.memo(({tooltipTop:e,tooltipLeft:t,entry:n,data:r,config:s,UserToolTip:a,xFormat:i,yFormat:l,zFormat:c,zGet:u,xGet:d,yGet:h})=>o.jsx(Q7e,{tooltipTop:e,tooltipLeft:t,children:a?o.jsx(a,{entry:n,config:s,data:r}):o.jsx(K7e,{entry:n,config:s,xFormat:i,yFormat:l,zFormat:c,zGet:u,xGet:d,yGet:h})}));lb.displayName="ComposedTooltip";const dp=0,X7e=L.memo(function(t){const{width:n,height:r,margin:s,config:a,tooltip:i,colors:l,axes:c=!0}=t,{colorSchema:u,axisColor:d,tickColor:h}=AS(l),m=ii(),g=RS({data:t.data}),{xAxisRef:v,yAxisRef:x,maxYLabelWidth:b,maxXLabelWidth:w,minXRequiredWidth:C}=NS(),{innerHeight:S,innerWidth:k,xRange:E,yRange:T}=sb({width:n,height:r,margin:s,maxYLabelWidth:b,hasAxis:c}),{xNumTicks:j,yNumTicks:N,xTiltTicks:R}=jS({config:a,innerWidth:k,innerHeight:S,maxXLabelWidth:w}),{xGet:O,yGet:I,zGet:B}=LS({config:a}),{xFormat:D,yFormat:z,xTooltipFormat:V,yTooltipFormat:U,zTooltipFormat:H}=OS({config:a}),q=f.useMemo(()=>{if(!a?.z?.accessor)return[{key:"default",data:g}];const pe=a.z.accessor,ge=dy(g,Ce=>String(Ce[pe]));return Object.entries(ge).map(([Ce,we])=>({key:Ce,data:we}))},[g,a.z]),$=q.length>1,G=$?q.map(({key:pe})=>pe):g.map(O),K=bi.band({range:E,domain:G,padding:.4}),ee=[...new Set(g.map(O))],oe=bi.band({range:[0,K.bandwidth()],domain:ee,padding:.1}),ne=f.useMemo(()=>{const[pe,ge]=Kc(g,I),Ce=Math.min(dp,pe),we=Math.max(dp,ge);return[Ce,we]},[g,I]),te=f.useMemo(()=>bi.linear({range:T,domain:ne}),[T,ne]),re=bi.ordinal({range:u.slice(0,ee.length),domain:$?ee:G}),{tooltipData:X,hideTooltip:ce,handleTooltip:se}=IS({data:g,innerHeight:S,innerWidth:k,xScale:$?oe:K,yScale:te,xGet:O,yGet:I}),de=f.useCallback(({localPoint:pe})=>{const ge=$?oe:K,Ce=ge.bandwidth(),we=(ge.step()-Ce)/4;if(isNaN(pe?.x??NaN)||isNaN(pe?.y??NaN))return null;const Pe=pe?.x,ot=pe?.y;return g.reduce((Be,Ee)=>{let st=ge(O(Ee))||0;const et=te(I(Ee)),$e=Math.abs(et-te(0));return $&&(st+=K(Ee.z)||0),st!==void 0&&et!==void 0&&Pe>=st-we&&Pe<=st+Ce+we&&ot>=et-$e&&ot<=et+$e?{x:st,y:et,data:Ee}:Be},null)},[g,K,O,te,I,$,oe])({localPoint:X?.localPoint}),ie=f.useMemo(()=>({marginLeft:s.left,marginRight:s.right}),[s.left,s.right]),he=f.useMemo(()=>[dp],[]);return o.jsxs(Q,{className:"relative",children:[$&&ee.length>1&&o.jsx(Q,{style:ie,children:o.jsx(ab,{entries:ee.map(pe=>({key:pe,color:re(pe)}))})}),o.jsxs(ib,{width:n,height:r,children:[o.jsx(rb,{xScale:K,yScale:te,xFormat:D,yFormat:z,width:n,height:r,margin:s,yNumTicks:N,xNumTicks:j,yTickValues:a.y.tickValues,xTickValues:a.x.tickValues,xAxisLabel:a.x.label,yAxisLabel:a.y.label,animated:!0,tickColor:h,axisColor:d,xAxisRef:v,yAxisRef:x,xTiltTicks:R}),m&&o.jsx(O7e,{left:s.left,scale:te,width:n-s.right-s.left*2,stroke:d,tickValues:he,strokeWidth:2}),q.map(({key:pe,data:ge})=>o.jsx(si,{left:K(pe),children:ge.map((Ce,we)=>{const Pe=$?oe:K;return o.jsx(je.rect,{rx:2,ry:2,x:Pe(O(Ce)),width:Pe.bandwidth(),fill:re($?we:pe),initial:{y:te(dp),height:0,opacity:0},animate:{y:te(Math.max(dp,I(Ce))),height:Math.abs(te(I(Ce))-te(dp)),opacity:1},transition:{duration:.5,ease:"easeInOut"}},we)})},pe)),o.jsx(ob,{margin:s,tooltipHandle:se,tooltipHide:ce,height:r,width:n,maxYLabelWidth:b})]}),de&&X&&o.jsx(lb,{UserToolTip:i,tooltipTop:X?.localPoint?.y,tooltipLeft:X?.localPoint?.x,entry:de.data,data:g,config:a,xFormat:V,yFormat:U,zFormat:H,zGet:B,xGet:O,yGet:I})]})});X7e.displayName="BarChart";var W7t=["children","id","from","to","x1","y1","x2","y2","fromOffset","fromOpacity","toOffset","toOpacity","rotate","transform","vertical"];function WL(){return WL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WL.apply(this,arguments)}function $7t(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function DS(e){var t=e.children,n=e.id,r=e.from,s=e.to,a=e.x1,i=e.y1,l=e.x2,c=e.y2,u=e.fromOffset,d=u===void 0?"0%":u,h=e.fromOpacity,m=h===void 0?1:h,g=e.toOffset,v=g===void 0?"100%":g,x=e.toOpacity,b=x===void 0?1:x,w=e.rotate,C=e.transform,S=e.vertical,k=S===void 0?!0:S,E=$7t(e,W7t),T=a,j=l,N=i,R=c;return k&&!T&&!j&&!N&&!R&&(T="0",j="0",N="0",R="1"),L.createElement("defs",null,L.createElement("linearGradient",WL({id:n,x1:T,y1:N,x2:j,y2:R,gradientTransform:w?"rotate("+w+")":C},E),!!t&&t,!t&&L.createElement("stop",{offset:d,stopColor:r,stopOpacity:m}),!t&&L.createElement("stop",{offset:v,stopColor:s,stopOpacity:b})))}DS.propTypes={id:Ae.string.isRequired,from:Ae.string,to:Ae.string,x1:Ae.oneOfType([Ae.string,Ae.number]),x2:Ae.oneOfType([Ae.string,Ae.number]),y1:Ae.oneOfType([Ae.string,Ae.number]),y2:Ae.oneOfType([Ae.string,Ae.number]),fromOffset:Ae.oneOfType([Ae.string,Ae.number]),fromOpacity:Ae.oneOfType([Ae.string,Ae.number]),toOffset:Ae.oneOfType([Ae.string,Ae.number]),toOpacity:Ae.oneOfType([Ae.string,Ae.number]),rotate:Ae.oneOfType([Ae.string,Ae.number]),transform:Ae.string,children:Ae.node,vertical:Ae.bool};function q7t({xScale:e,xPosition:t}){const n=e.domain(),[r,s]=e.range(),a=(s-r)/(n.length-1),i=Math.min(Math.max(Math.round((t-r)/a),0),n.length-1);return n[i]}function G7t({tooltipData:e,config:t,groups:n,xScale:r,xGet:s}){const a=t.z?.accessor?e?.voronoiSite?.data?.[t.z?.accessor]:"",i=f.useMemo(()=>[...(n.find(({key:h})=>h===a)||n[0])?.d||[]].sort((h,m)=>s(h)-s(m)),[a,n,s]),l=e?.localPoint.x,c=f.useMemo(()=>i.map(s),[i,s]);return f.useMemo(()=>{if(l==null)return;if("invert"in r){const m=r.invert(l),g=Kg(c,m);if(g<=0)return i[0];if(g>=c.length)return i[c.length-1];const v=i[g-1],x=i[g];return Math.abs(s(v)-m)<Math.abs(s(x)-m)?v:x}const d=q7t({xScale:r,xPosition:l}),h=i.find(m=>String(s(m))===String(d));return h||i.reduce((m,g)=>Math.abs(s(g)-d)<Math.abs(s(m)-d)?g:m,i[0])},[l,r,i,s,c])}const Z7e=L.memo(function(t){const{$t:n}=ae(),{width:r,height:s,margin:a={top:0,right:0,bottom:0,left:0},config:i,tooltip:l,axes:c=!0,colors:u,animate:d=!0,includeLegend:h=!0,endTime:m,previousClose:g,exchangeName:v,showLastPoint:x=!1,children:b}=t,[w,C]=f.useState(null),S=RS({data:t.data}),k=f.useRef(new Set),{colorSchema:E,tickColor:T,axisColor:j,textColor:N}=AS(u),{colorScheme:R}=ba(),O=R==="dark",{xAxisRef:I,yAxisRef:B,maxYLabelWidth:D,maxXLabelWidth:z,minXRequiredWidth:V}=NS(),{xGet:U,yGet:H,zGet:q}=LS({config:i}),{xFormat:$,yFormat:G,xTooltipFormat:K,yTooltipFormat:ee,zTooltipFormat:oe}=OS({config:i}),{xDomain:ne,yDomain:te}=wB({config:i,data:S,xGet:U,yGet:H,endTime:m,previousClose:g}),{innerHeight:re,innerWidth:X,xRange:ce,yRange:se}=sb({width:r,height:s,margin:a,maxYLabelWidth:D,hasAxis:c}),{xNumTicks:J,yNumTicks:de,xTiltTicks:ie}=jS({config:i,innerWidth:X,innerHeight:re,maxXLabelWidth:z}),he=f.useMemo(()=>bi[i.x.scale]({range:[ce[0],z?ce[1]-z/2:ce[1]],domain:ne}),[i.x.scale,ce,ne,z]),pe=f.useMemo(()=>{const Ze=i.y.scale==="log";return bi[i.y.scale]({range:se,domain:te,base:Ze?2:void 0,nice:!Ze,round:!0})},[i.y.scale,se,te]),ge=f.useMemo(()=>{if(!i.z?.accessor)return[{key:"",d:S}];const Ze=i.z.accessor,St=dy(S,It=>String(It[Ze]));return Object.entries(St).map(([It,Jt])=>({key:It,d:Jt}))},[S,i?.z?.accessor]),Ce=f.useMemo(()=>{if(ge.length<=1)return null;const Ze=new Map;return ge.forEach(It=>{It.d.forEach(Jt=>{const dt=U(Jt);Ze.set(dt,Jt)})}),Array.from(Ze.values()).sort((It,Jt)=>U(It)-U(Jt))},[ge,U]),{tooltipData:we,hideTooltip:Pe,handleTooltip:ot}=IS({data:S,innerHeight:re,innerWidth:X,xScale:he,yScale:pe,xGet:U,yGet:H}),Be=G7t({tooltipData:we,config:i,groups:ge,xScale:he,xGet:U}),Ee=f.useMemo(()=>!x||!ge.length||!ge[0].d.length?null:ge[0].d.at(-1),[ge,x]),st=f.useMemo(()=>pm().x(Ze=>he(U(Ze))).y(Ze=>pe(H(Ze))).curve(qh),[he,pe,U,H]),et=f.useMemo(()=>bi.ordinal({domain:ge.map(({key:Ze})=>Ze),range:E}),[E,ge]),$e=f.useCallback(()=>{we&&C(Be||null)},[we,Be]),tt=f.useCallback(()=>{C(null)},[]),at=f.useMemo(()=>{const Ze={};if(!w||!Be||!ge.length)return Ze;const St=U(w),It=U(Be),[Jt,dt]=St<It?[St,It]:[It,St],ft=zn=>{const er=i.z?.accessor?zn[i.z.accessor]:ge[0].key,Rt=ge.find(({key:Xt})=>Xt===er);return Rt?Rt.d.filter(Xt=>{const Se=U(Xt);return Se>=Jt&&Se<=dt}):[]},Et=i.z?.accessor?w[i.z.accessor]:ge[0].key;Ze[Et]=ft(w);const an=i.z?.accessor?Be[i.z.accessor]:ge[0].key;return Et!==an&&(Ze[an]=ft(Be)),Ze},[w,Be,ge,U,i.z?.accessor]),xe=f.useMemo(()=>{const Ze=at[i.z?.accessor?w?.[i.z.accessor]:ge[0]?.key]||[],St=at[i.z?.accessor?Be?.[i.z.accessor]:ge[0]?.key]||[],It=[...Ze,...St],Jt=new Map;return It.forEach(ft=>{Jt.set(U(ft),ft)}),Array.from(Jt.values()).sort((ft,Et)=>U(ft)-U(Et))},[at,i.z?.accessor,w,Be,ge,U]),Oe=f.useMemo(()=>({marginLeft:a.left,marginRight:a.right}),[a.left,a.right]),Qe=f.useMemo(()=>[g],[g]),Ge=f.useCallback(Ze=>he(U(Ze))??0,[he,U]),ze=f.useCallback(Ze=>pe(H(Ze))??0,[pe,H]);return o.jsxs(Q,{children:[i.z&&ge?.length>1&&h&&o.jsx(Q,{style:Oe,children:o.jsx(ab,{entries:ge.map(({key:Ze})=>({key:Ze,color:et(Ze)}))})}),o.jsxs(Q,{className:"relative",onMouseDown:$e,onMouseUp:tt,onMouseLeave:tt,children:[o.jsxs(ib,{width:r,height:s,children:[c&&o.jsx(rb,{width:r,height:s,margin:a,xScale:he,yScale:pe,xFormat:$,yFormat:G,yNumTicks:de,xNumTicks:J,yTickValues:i.y.tickValues,xTickValues:i.x.tickValues,tickColor:T,axisColor:j,xAxisRef:I,yAxisRef:B,xTiltTicks:ie,xAxisLabel:i.x.label,yAxisLabel:i.y.label}),b&&b({xScale:he,yScale:pe,xGet:U,yGet:H}),g&&o.jsx("text",{x:r-a.right-10,y:pe(g)-5,fill:N,fontSize:12,className:"font-mono",textAnchor:"end",children:v==="CRYPTO"?n({defaultMessage:"Prev day: {value}",id:"7i8MvDtMyq"},{value:typeof i.y.format=="function"?i.y.format(g):g}):n({defaultMessage:"Prev close: {value}",id:"uRPxTu0cgj"},{value:typeof i.y.format=="function"?i.y.format(g):g})}),g&&o.jsx(nb,{left:a.left,scale:pe,width:r-a.right-a.left*2,stroke:N,tickValues:Qe,strokeWidth:2,strokeDasharray:"2,6",opacity:O?.6:1}),Be&&o.jsx(K1,{marginTop:a.top,tooltipLeft:he(U(Be)),innerHeight:re,color:j,strokeWidth:1}),w&&o.jsx(K1,{marginTop:a.top,tooltipLeft:he(U(w)),innerHeight:re,color:j,strokeWidth:1}),Ce&&ge.length>1&&ge[1]?.key&&o.jsx(je.path,{d:st(Ce),stroke:et(ge[1].key),strokeWidth:1.5,fill:"none",shapeRendering:"geometricPrecision",initial:d?{pathLength:d?0:1,opacity:d?0:1}:void 0,animate:d?{pathLength:1,opacity:1}:void 0,transition:d?{duration:.8,ease:"easeInOut"}:void 0}),ge.map(({d:Ze,key:St},It)=>{const Jt=k.current.has(St),dt=Jt||!d?{initial:void 0,animate:{pathLength:1,opacity:1}}:{initial:{pathLength:d?0:1,opacity:d?0:1},animate:{pathLength:1,opacity:1},transition:{duration:.8,ease:"easeInOut",delay:It/ge.length}};return Jt||k.current.add(St),o.jsx(je.path,{d:st(Ze),stroke:et(St),strokeWidth:2,fill:"none",shapeRendering:"geometricPrecision",...dt},St)}),(Be||Ee)&&o.jsxs(je.g,{initial:{opacity:0},animate:{opacity:1},transition:{duration:0,delay:.8},children:[o.jsx(By,{cx:he(U(Be||Ee)),cy:pe(H(Be||Ee)),color:et(i.z?.accessor?(Be||Ee)?.[i.z.accessor]:""),r:5}),w&&Be&&o.jsxs(o.Fragment,{children:[o.jsx(By,{cx:he(U(w)),cy:pe(H(w)),color:et(i.z?.accessor?w[i.z.accessor]:""),r:5}),xe.length>1&&o.jsx(Y1,{data:xe,x:Ge,y:ze,fill:et(ge[0].key),fillOpacity:.2,stroke:"none",yScale:pe,curve:qh})]})]}),(ge.length===1||ge.length===2)&&ge.map(({d:Ze,key:St},It)=>{const Jt=et(St);return o.jsx(je.g,{initial:d?{opacity:0,clipPath:"inset(0% 100% 0% 0%)"}:void 0,animate:d?{opacity:1,clipPath:"inset(0% 0% 0% 0%)"}:void 0,transition:d?{duration:.8,ease:"easeInOut",delay:It/ge.length}:void 0,children:!w&&(ge.length===1||It===0)&&o.jsxs(o.Fragment,{children:[o.jsx(DS,{from:`${Jt}22`,to:`${Jt}00`,id:St}),o.jsx(Y1,{data:Ze,x:Ge,y:ze,strokeWidth:0,yScale:pe,fill:`url('#${St}')`},St)]})},St)}),o.jsx(ob,{margin:a,tooltipHandle:ot,tooltipHide:Pe,height:s,width:r,maxYLabelWidth:D})]}),Be&&we&&o.jsx(lb,{tooltipTop:we.localPoint.y,tooltipLeft:we.localPoint.x,entry:Be,UserToolTip:l?Ze=>o.jsx(l,{...Ze,comparisonEntry:w||void 0}):void 0,data:S,config:i,xFormat:K,yFormat:ee,zFormat:oe,zGet:q,xGet:U,yGet:H})]})]})});Z7e.displayName="CompositeLineChart";const Y7t=200,K7t={top:24,right:8,bottom:24,left:16};function Q7t({xScale:e,xPosition:t}){const n=e.domain(),[r,s]=e.range(),a=(s-r)/(n.length-1),i=Math.min(Math.max(Math.round((t-r)/a),0),n.length-1);return n[i]}function X7t({tooltipData:e,config:t,groups:n,xScale:r,xGet:s}){const a=t.z?.accessor?e?.voronoiSite?.data?.[t.z?.accessor]:"",i=f.useMemo(()=>[...(n.find(({key:d})=>d===a)||n[0])?.d||[]].sort((d,h)=>s(d)-s(h)),[a,n,s]),l=e?.localPoint.x;return f.useMemo(()=>{if(!l)return;if("invert"in r){const h=r.invert(l),m=Kg(i.map(s),h);return i?.[m-1]}const u=Q7t({xScale:r,xPosition:l});return i.find(h=>String(s(h))===String(u))},[l,r,i,s])}const J7e=L.memo(e=>{const{$t:t}=ae(),{enableComparison:n=!0,width:r,height:s,margin:a={top:0,right:0,bottom:0,left:0},config:i,tooltip:l,axes:c=!0,colors:u,animate:d=!0,includeLegend:h=!0,endTime:m,previousClose:g,exchangeName:v,showLastPoint:x=!1,children:b}=e,[w,C]=f.useState(null),S=RS({data:e.data}),k=ii(),{colorSchema:E,tickColor:T,axisColor:j,textColor:N}=AS(u),{colorScheme:R}=ba(),O=f.useMemo(()=>k?R==="dark":!1,[R,k]),{xAxisRef:I,yAxisRef:B,maxYLabelWidth:D,maxXLabelWidth:z,minXRequiredWidth:V}=NS(),{xGet:U,yGet:H,zGet:q}=LS({config:i}),{xFormat:$,yFormat:G,xTooltipFormat:K,yTooltipFormat:ee,zTooltipFormat:oe}=OS({config:i}),{xDomain:ne,yDomain:te}=wB({config:i,data:S,xGet:U,yGet:H,endTime:m,previousClose:g}),{innerHeight:re,innerWidth:X,xRange:ce,yRange:se}=sb({width:r,height:s,margin:a,maxYLabelWidth:D,hasAxis:c}),{xNumTicks:J,yNumTicks:de,xTiltTicks:ie}=jS({config:i,innerWidth:X,innerHeight:re,maxXLabelWidth:z}),he=f.useMemo(()=>bi[i.x.scale]({range:[ce[0],z?ce[1]-z/2:ce[1]],domain:ne}),[i.x.scale,ce,ne,z]),pe=f.useMemo(()=>{const Ge=i.y.scale==="log";return bi[i.y.scale]({range:se,domain:te,base:Ge?2:void 0,nice:!Ge,round:!0})},[i.y.scale,se,te]),ge=f.useMemo(()=>{if(!i.z?.accessor)return[{key:"",d:S}];const Ge=i.z.accessor,ze=dy(S,Ze=>String(Ze[Ge]));return Object.entries(ze).map(([Ze,St])=>({key:Ze,d:St}))},[S,i?.z?.accessor]),{tooltipData:Ce,hideTooltip:we,handleTooltip:Pe}=IS({data:S,innerHeight:re,innerWidth:X,xScale:he,yScale:pe,xGet:U,yGet:H}),ot=X7t({tooltipData:Ce,config:i,groups:ge,xScale:he,xGet:U}),Be=f.useMemo(()=>!x||!ge.length||!ge[0].d.length?null:ge[0].d.at(-1),[ge,x]),Ee=f.useMemo(()=>pm().x(Ge=>he(U(Ge))).y(Ge=>pe(H(Ge))).curve(qh),[he,pe,U,H]),st=f.useMemo(()=>bi.ordinal({range:E}),[E]),et=f.useCallback(()=>{!Ce||!n||C(ot||null)},[n,Ce,ot]),$e=f.useCallback(()=>{n&&C(null)},[n]),tt=f.useMemo(()=>{if(!w||!ot||!ge.length)return[];const Ge=ge[0],ze=U(w),Ze=U(ot),[St,It]=ze<Ze?[ze,Ze]:[Ze,ze];return Ge.d.filter(Jt=>{const dt=U(Jt);return dt>=St&&dt<=It})},[w,ot,ge,U]),at=f.useMemo(()=>({marginLeft:a.left,marginRight:a.right}),[a.left,a.right]),xe=f.useCallback(Ge=>he(U(Ge))??0,[he,U]),Oe=f.useCallback(Ge=>pe(H(Ge))??0,[pe,H]),Qe=f.useMemo(()=>[g],[g]);return o.jsxs(Q,{children:[i.z&&ge?.length>1&&h&&o.jsx(Q,{style:at,children:o.jsx(ab,{entries:ge.map(({key:Ge})=>({key:Ge,color:st(Ge)}))})}),o.jsxs(Q,{className:"relative",onMouseDown:et,onMouseUp:$e,onMouseLeave:$e,children:[o.jsxs(ib,{width:r,height:s,children:[c&&o.jsx(rb,{width:r,height:s,margin:a,xScale:he,yScale:pe,xFormat:$,yFormat:G,yNumTicks:de,xNumTicks:J,yTickValues:i.y.tickValues,xTickValues:i.x.tickValues,tickColor:T,axisColor:j,xAxisRef:I,yAxisRef:B,xTiltTicks:ie,xAxisLabel:i.x.label,yAxisLabel:i.y.label}),b&&b({xScale:he,yScale:pe,xGet:U,yGet:H}),g&&o.jsx("text",{x:r-a.right-10,y:pe(g)-5,fill:N,fontSize:12,className:"font-mono",textAnchor:"end",children:v==="CRYPTO"?t({defaultMessage:"Prev day: {value}",id:"7i8MvDtMyq"},{value:typeof i.y.format=="function"?i.y.format(g):g}):t({defaultMessage:"Prev close: {value}",id:"uRPxTu0cgj"},{value:typeof i.y.format=="function"?i.y.format(g):g})}),g&&o.jsx(nb,{left:a.left,scale:pe,width:r-a.right-a.left*2,stroke:N,tickValues:Qe,strokeWidth:2,strokeDasharray:"2,6",opacity:O?.6:1}),ot&&o.jsx(K1,{marginTop:a.top,tooltipLeft:he(U(ot)),innerHeight:re,color:j,strokeWidth:1}),w&&o.jsx(K1,{marginTop:a.top,tooltipLeft:he(U(w)),innerHeight:re,color:j,strokeWidth:1}),(ot||Be)&&o.jsxs(je.g,{initial:{opacity:0},animate:{opacity:1},transition:{duration:0,delay:.8},children:[o.jsx(By,{cx:he(U(ot||Be)),cy:pe(H(ot||Be)),color:st(i.z?.accessor?(ot||Be)?.[i.z.accessor]:""),r:5}),w&&ot&&tt.length>0&&o.jsxs(o.Fragment,{children:[o.jsx(By,{cx:he(U(w)),cy:pe(H(w)),color:st(i.z?.accessor?w[i.z.accessor]:""),r:5}),o.jsx(Y1,{data:tt,x:xe,y:Oe,fill:st(i.z?.accessor?w[i.z.accessor]:""),fillOpacity:.2,stroke:"none",yScale:pe,curve:qh})]})]}),ge.length===1&&ge.map(({d:Ge,key:ze},Ze)=>{const St=st(ze);return o.jsx(je.g,{initial:d?{opacity:0,clipPath:"inset(0% 100% 0% 0%)"}:void 0,animate:d?{opacity:1,clipPath:"inset(0% 0% 0% 0%)"}:void 0,transition:d?{duration:.8,ease:"easeInOut",delay:Ze/ge.length}:void 0,children:!w&&o.jsxs(o.Fragment,{children:[o.jsx(DS,{from:`${St}22`,to:`${St}00`,id:ze}),o.jsx(Y1,{data:Ge,x:xe,y:Oe,strokeWidth:0,yScale:pe,fill:`url('#${ze}')`},ze)]})},ze)}),ge.map(({d:Ge,key:ze},Ze)=>o.jsx(je.path,{d:Ee(Ge),stroke:st(ze),strokeWidth:2,fill:"none",shapeRendering:"geometricPrecision",initial:d?{pathLength:0,opacity:0}:void 0,animate:d?{pathLength:1,opacity:1}:void 0,transition:d?{duration:.8,ease:"easeInOut",delay:Ze/ge.length}:void 0},ze)),o.jsx(ob,{margin:a,tooltipHandle:Pe,tooltipHide:we,height:s,width:r,maxYLabelWidth:D})]}),ot&&Ce&&o.jsx(lb,{tooltipTop:Ce.localPoint.y,tooltipLeft:Ce.localPoint.x,entry:ot,UserToolTip:l?Ge=>o.jsx(l,{...Ge,comparisonEntry:w||void 0}):void 0,data:S,config:i,xFormat:K,yFormat:ee,zFormat:oe,zGet:q,xGet:U,yGet:H})]})]})});J7e.displayName="LineChart";const eMe=L.memo(e=>{const{width:t,height:n,margin:r,config:s,tooltip:a,colors:i,axes:l=!0}=e,c=3,u=RS({data:e.data}),{colorSchema:d,tickColor:h,axisColor:m}=AS(i),{xAxisRef:g,yAxisRef:v,maxYLabelWidth:x,maxXLabelWidth:b,minXRequiredWidth:w}=NS(),{innerHeight:C,innerWidth:S,xRange:k,yRange:E}=sb({width:t,height:n,margin:r,maxYLabelWidth:x,hasAxis:l}),{xNumTicks:T,yNumTicks:j,xTiltTicks:N}=jS({config:s,innerWidth:S,innerHeight:C,maxXLabelWidth:b}),{xGet:R,yGet:O,zGet:I}=LS({config:s}),{xFormat:B,yFormat:D,xTooltipFormat:z,yTooltipFormat:V,zTooltipFormat:U}=OS({config:s}),{xDomain:H,yDomain:q}=wB({data:u,config:s,xGet:R,yGet:O}),$=f.useMemo(()=>bi[s.x.scale]({range:k,domain:H}),[s.x.scale,k,H]),G=f.useMemo(()=>bi[s.y.scale]({range:E,domain:q,nice:!0,round:!0}),[s.y.scale,E,q]),{tooltipData:K,handleTooltip:ee,hideTooltip:oe}=IS({data:u,innerHeight:C,innerWidth:S,xScale:$,yScale:G,xGet:R,yGet:O,voronoiRadius:c*2}),ne=f.useMemo(()=>bi.ordinal({range:d}),[d]),te=f.useMemo(()=>{if(!s.z?.accessor)return[];const ce=new Set([]);return u.forEach(se=>ce.add(se[s?.z?.accessor])),Array.from(ce)},[u,s.z]),re=K?.voronoiSite,X=f.useMemo(()=>({marginLeft:r.left,marginRight:r.right}),[r.left,r.right]);return o.jsxs(Q,{children:[te.length>1&&o.jsx(Q,{style:X,children:o.jsx(ab,{entries:te.map(ce=>({key:ce,color:ne(ce)}))})}),o.jsxs(Q,{className:"relative",children:[o.jsxs(ib,{width:t,height:n,children:[o.jsx(rb,{xScale:$,yScale:G,xFormat:B,yFormat:D,width:t,height:n,margin:r,yTickValues:s.y.tickValues,xTickValues:s.x.tickValues,tickColor:h,axisColor:m,xAxisRef:g,yAxisRef:v,yNumTicks:j,xNumTicks:T,xTiltTicks:N}),re&&o.jsx(K1,{marginTop:r.top,tooltipLeft:re[0],innerHeight:C,color:m}),o.jsx("g",{children:u.map((ce,se)=>{const J=re?.data?.__key==ce.__key,de=s.z?.accessor?ne(ce[s.z.accessor]):ne("");return o.jsx(je.circle,{"data-hint":`${R(ce)}: ${O(ce)}`,cx:$(R(ce)),cy:G(O(ce)),r:c,strokeWidth:c/2,stroke:de,fill:J?"transparent":de,initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,ease:"easeInOut",delay:se/u.length}},ce.__key)})}),o.jsx(ob,{margin:r,tooltipHandle:ee,tooltipHide:oe,height:n,width:t,maxYLabelWidth:x})]}),re&&o.jsx(lb,{tooltipTop:re?.[1],tooltipLeft:re?.[0],UserToolTip:a,entry:re.data,data:u,config:s,xFormat:z,yFormat:V,zFormat:U,zGet:I,xGet:R,yGet:O})]})]})});eMe.displayName="ScatterChart";function Z7t(e){const{type:t,config:n,width:r,data:s,height:a,margin:i,tooltip:l,axes:c,colors:u,animate:d,includeLegend:h,endTime:m,previousClose:g,exchangeName:v,showLastPoint:x,children:b,enableComparison:w}=e;return t==="line"?o.jsx(J7e,{data:s,config:n,width:r,height:a,margin:i,tooltip:l,axes:c,colors:u,animate:d,includeLegend:h,endTime:m,previousClose:g,exchangeName:v,showLastPoint:x,enableComparison:w,children:b}):t==="bar"?o.jsx(X7e,{data:s,config:n,width:r,height:a,margin:i,tooltip:l,colors:u,includeLegend:h}):t==="scatter"?o.jsx(eMe,{data:s,config:n,width:r,height:a,margin:i,tooltip:l,colors:u,includeLegend:h}):t==="compositeLine"?o.jsx(Z7e,{data:s,config:n,width:r,height:a,margin:i,tooltip:l,axes:c,colors:u,animate:d,includeLegend:h,endTime:m,previousClose:g,exchangeName:v,showLastPoint:x,children:b}):null}const tMe=L.memo(function({type:t,config:n,data:r,tooltip:s,height:a=Y7t,margin:i=K7t,axes:l,className:c,colors:u,includeLegend:d,endTime:h,previousClose:m,exchangeName:g,showLastPoint:v,animate:x,children:b,enableComparison:w}){const C=f.useRef(null),{width:S}=B7e(C);return o.jsx("div",{ref:C,className:c,children:o.jsx(Z7t,{type:t,data:r,config:n,width:S,height:a,margin:i,tooltip:s,axes:l,colors:u,includeLegend:d,endTime:h,previousClose:m,exchangeName:g,showLastPoint:v,animate:x,enableComparison:w,children:b})})});tMe.displayName="Chart";const kXt=({data:e,brands:t,teams:n,isLive:r,isFinal:s,startLabel:a,endLabel:i,nowLabel:l,shouldAdjustColors:c=!0,nicknameFormatter:u,tooltip:d})=>{const h=f.useMemo(()=>n.map((V,U)=>({...V,uniqueName:V.name+"​".repeat(U+1)})),[n]),{teamsData:m}=f.useMemo(()=>({teamsData:h.map(V=>{const U=V.brand||m8e(V.id,t),H=e[V.id]?.candlesticks||[];return{id:V.id,name:V.name,uniqueName:V.uniqueName,brand:U,candlesticks:H}})}),[h,e,t]),{colorScheme:g,isColorSchemeReady:v}=ba(),{earliestTimestamp:x,latestTimestamp:b}=f.useMemo(()=>{let V=1/0,U=0;return m.forEach(H=>{if(H.candlesticks.length>0){const q=H.candlesticks[0]?.timestamp,$=H.candlesticks[H.candlesticks.length-1]?.timestamp;q&&(V=Math.min(V,q)),$&&(U=Math.max(U,$))}}),{earliestTimestamp:V===1/0?0:V,latestTimestamp:U}},[m]),w=f.useMemo(()=>x?new Date(x*1e3):null,[x]),C=f.useMemo(()=>b?new Date(b*1e3):null,[b]),S=f.useMemo(()=>m.flatMap(V=>V.candlesticks.map(U=>({timestamp:new Date(U.timestamp*1e3),value:(U.price.open+U.price.close)/2,team:V.uniqueName}))),[m]),{locale:k}=ae(),E=!r&&!s,[T,j]=f.useState(!1),{isMobileStyle:N}=qe();f.useEffect(()=>{j(!0)},[]);const R=f.useMemo(()=>{const V=[];if((r||s)&&w&&C)V.push(w,C);else if(E&&w&&C){const U=C.getTime()-w.getTime();V.push(w,new Date(w.getTime()+U/2),C)}return V},[r,s,E,w,C]),I={x:{accessor:"timestamp",scale:"time",format:f.useMemo(()=>{const V=R.map((U,H)=>{const q=H===0||H>0&&U.toDateString()!==R[H-1].toDateString();return{date:U,shouldShowDate:q}});return U=>E?V.find($=>$.date.getTime()===U.getTime())?.shouldShowDate??!0?N?U.toLocaleString(k,{month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).replace(":00","").replace(" AM","a").replace(" PM","p"):U.toLocaleString(k,{month:"short",day:"numeric",hour:"numeric",minute:"numeric"}):N?U.toLocaleString(k,{hour:"numeric",minute:"numeric",hour12:!0}).replace(":00","").replace(" AM","a").replace(" PM","p"):U.toLocaleString(k,{hour:"numeric",minute:"numeric"}):!w||!C?"":U.getTime()===w.getTime()?a:U.getTime()===C.getTime()?s?i:r?l:"":N?U.toLocaleString(k,{hour:"numeric",minute:"numeric",hour12:!0}).replace(":00","").replace(" AM","a").replace(" PM","p"):r?U.toLocaleString(k,{hour:"numeric",minute:"numeric"}):U.toLocaleString(k,{month:"short",day:"numeric",hour:"numeric",minute:"numeric"})},[R,E,N,k,w,C,s,r,a,i,l]),tickValues:R.length>0?R:void 0,tooltipFormat:V=>V.toLocaleString(k,{month:"short",day:"numeric",hour:"numeric",minute:"numeric"})},y:{accessor:"value",scale:"linear",format:V=>n7t(V/100)},z:{accessor:"team",scale:"ordinal",label:"team",format:V=>V.replace(/\u200B/g,"")}},B=f.useMemo(()=>{if(!T||!c)return m.map(H=>H.brand?.color||"#4a90e2");let V=null;return m.map(H=>{const q=H.brand?.color||"#4a90e2",$=j6(q,g==="dark"),G=H.brand?.color||"#4a90e2",K=j6(G,g==="dark"),ee=$L($.toString(),K.toString(),g==="dark",2);if(V){const oe=$L(ee.toString(),V.toString(),ee.isDark(),2);return V=oe.hex(),oe.hex()}return V=ee.hex(),ee.hex()}).map(H=>H.toString())},[m,g,v,T,c]),{$t:D}=ae(),z=n.length>2;return o.jsxs("div",{children:[o.jsxs(Q,{className:W("mb-sm pb-sm -mx-md -mt-sm px-md flex border-b",{"flex-col":z,"items-center justify-between":!z}),children:[o.jsx(F,{variant:"baseSemi",className:z?"mb-sm":void 0,children:D({id:"J3+o0a6LLR",defaultMessage:"Odds to win"})}),o.jsx("div",{className:W("gap-md flex items-center",{"flex-wrap":z}),children:m.map((V,U)=>o.jsx(nMt,{nickname:u?u(V.name):V.name,color:B[U]},V.id))})]}),o.jsx(tMe,{type:"line",data:S,config:I,height:200,margin:J7t,className:"w-full",includeLegend:!1,colors:{colorSchema:B},enableComparison:!1,tooltip:d})]})},J7t={top:16,right:-6,bottom:10,left:8},j6=(e,t)=>{const n="#f7f1f2",r="#1f2121";return e?$L(e,t?r:n,t):Ed(n)},$L=(e,t,n,r=3)=>{if(!e)return Ed(t);let s=Ed(e),a=0,i=0;for(;s.contrast(Ed(t))<r&&(s=n?eMt(s,a):tMt(s,a),a+=.01,i++,!(i>20)););return s};function eMt(e,t){const n=Ed(e).lightness();return Ed(e).lightness(n+(100-n)*t)}function tMt(e,t){const n=Ed(e).lightness();return Ed(e).lightness(n-n*t)}const nMt=({nickname:e,color:t})=>o.jsxs(Q,{className:"gap-xs flex items-center",children:[o.jsx(Q,{className:"size-2 rounded-full",style:{backgroundColor:t}}),o.jsx(F,{variant:"small",children:e})]});function EXt(e,t){return e=Math.abs(e/100),e.toLocaleString(t,{style:"percent",maximumFractionDigits:0})}const rMt=new Map([["one","st"],["two","nd"],["few","rd"],["other","th"]]),sMt=new Intl.PluralRules("en-US",{type:"ordinal"});function nMe(e){if(!e&&e!==0||isNaN(e))return"";const t=rMt.get(sMt.select(e));return`${e}${t}`}function aMt(e,t){if(t!=="upcoming"||e<new Date)return!1;const n=new Date;return Math.abs(+e-+n)<1e3*60*60*24}function TXt(e){return new Date(e.toLocaleDateString(void 0,{timeZone:"UTC"}))}function rMe(e,t){return!Wpe()||!t?e:j6(e,t==="dark")}const NXt=(e,t,n,r)=>{if(!e||!t)return n;const s=new Date(e),a=new Date(t),i={month:"short",day:"numeric"};s.getFullYear()!==a.getFullYear()&&(i.year="numeric");const l=s.toLocaleDateString(r,i),c=a.toLocaleDateString(r,{...i,year:"numeric"});return s.toDateString()===a.toDateString()?c:s.getMonth()===a.getMonth()&&s.getFullYear()===a.getFullYear()?`${s.toLocaleDateString(r,{month:"short"})} ${s.getDate()}-${a.getDate()}, ${a.getFullYear()}`:`${l} - ${c}`},iMt=[17,16];function jXt({event:e,brands:t,isLive:n}){const{$t:r}=ae(),[s,a]=f.useState(!1),[i,l]=f.useState("all"),c=f.useMemo(()=>(e.matchEvents?e.matchEvents.liveData.event:[]).filter(d=>i==="all"?!0:iMt.includes(d.typeId[0])).reduce((d,h)=>(d[h.periodId[1].toString()]=d[h.periodId[1].toString()]||[],d[h.periodId[1].toString()].push(h),d),{}),[e?.matchEvents,i]),u=f.useMemo(()=>[{text:r({defaultMessage:"All Plays",id:"lVQ27GyPmi"}),onClick:()=>l("all"),show:!0,active:i==="all"},{text:r({defaultMessage:"Key Plays",id:"CyNRXF54hv"}),onClick:()=>l("key"),show:!0,active:i==="key"}],[i,r]);return o.jsxs(o.Fragment,{children:[o.jsx(Q,{variant:"raised",className:"rounded-xl border",children:o.jsx(tS,{title:r(n?{defaultMessage:"Play by Play",id:"g2y6uMg3RU"}:{defaultMessage:"Play Summary",id:"HtqDGZkC7q"}),trailing:o.jsx("div",{className:"-mb-sm",children:o.jsx(Hg,{actionList:u,layoutGroupId:"soccer-play-summary-tab-bar",layout:"right",size:"tiny"})}),children:o.jsx("div",{className:"-my-md",children:o.jsx(aMe,{plays:c,event:e,onViewAll:()=>a(!0),playsToRender:6,reverse:!0,brands:t,inModal:!1})})})}),s&&o.jsx(dMt,{plays:c,isOpen:s,onClose:()=>a(!1),event:e,brands:t,reverse:!0,setOpen:a})]})}const sMe=({isRed:e,className:t})=>o.jsx("svg",{width:"16",height:"19",viewBox:"0 0 16 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:W("shrink-0",t),children:o.jsx("rect",{x:"4.29248",y:"0.726685",width:"12",height:"15",rx:"2",transform:"rotate(14.6454 4.29248 0.726685)",fill:e?"#EB4E45":"#f6c825"})}),aMe=f.memo(({plays:e,onViewAll:t,playsToRender:n=1/0,reverse:r=!0,brands:s,inModal:a=!1})=>{const{$t:i}=ae();let l=n;const c=r?[...Object.keys(e)].reverse():Object.keys(e);return o.jsx(ef,{className:"relative isolate",mode:"popLayout",transition:{duration:.2,ease:Ar},children:o.jsx(lu,{children:o.jsxs(Q,{children:[c.map(u=>{let d=0;const h=e[u].length;return l<=0?null:(l<h?(d=l,l=0):(d=h,l-=h),o.jsx(oMt,{plays:e[u],playsToRender:d,period:u,reverse:r,brands:s},u))}),!a&&t&&o.jsx("div",{className:"-mx-sm py-sm flex items-center justify-center",children:o.jsx(it,{variant:"super",chevron:!0,chevronIcon:xa,text:i({defaultMessage:"View All",id:"wbcwKddwLa"}),fullWidth:!0,size:"small",onClick:t})})]})})})});function oMt({plays:e,playsToRender:t,period:n,reverse:r,brands:s}){const a=f.useMemo(()=>r?[...e].reverse():e,[e,r]),i=ii();return o.jsxs(Q,{children:[t>0&&o.jsx(Q,{variant:"offsetPlus",className:W("-mx-md px-md py-sm sticky top-0 z-10 flex items-center justify-between"),children:o.jsx(F,{variant:"smallCaps",color:"light",children:n})}),o.jsx(rm,{children:o.jsx(je.div,{layout:!0,layoutRoot:!0,children:a.slice(0,t).map(l=>o.jsx(lMt,{play:l,brands:s,parentHasMounted:i},l.id))})})]})}const lMt=f.memo(({play:e,brands:t,parentHasMounted:n})=>{const r=f.useRef(!n),s=U1(e.contestantId,t,"soccer"),{colorScheme:a}=ba(),i=rMe(s.color,a).toString();return o.jsxs(je.div,{className:"-mx-md border-borderMain/50 px-md py-md relative border-b",initial:r.current?void 0:{opacity:0},animate:r.current?void 0:{opacity:1},transition:{layout:{duration:.2,ease:Ar},opacity:{duration:.2,ease:Mi}},layout:"position",children:[o.jsx("div",{className:"left-xs inset-y-xs absolute w-1 rounded-full opacity-50",style:{backgroundColor:i}}),!r.current&&o.jsx(je.div,{className:"bg-super/15 absolute inset-0",initial:{opacity:1},animate:{opacity:0},transition:{duration:1,ease:Mi,delay:.2}}),o.jsxs("div",{className:"gap-md relative flex items-center",children:[o.jsx(Yl,{logo:s.logo,color:s.color,size:"small",includeStripe:!1}),o.jsxs("div",{className:"gap-sm flex flex-1 flex-row items-center",children:[o.jsxs("div",{className:"gap-md flex items-baseline",children:[o.jsxs(F,{variant:"tiny",color:"light",children:[e.timeMin,"'"]}),o.jsx(F,{variant:"small",children:e.commentary_text})]}),cMt(e)&&o.jsx(sMe,{isRed:uMt(e)==="red"})]})]})]})}),cMt=e=>e.typeId[0]===17,uMt=e=>{const t=e.commentary_text.toLowerCase();return t.includes("second yellow card")||t.includes("red card")?"red":t.includes("yellow card")?"yellow":null},dMt=({plays:e,isOpen:t,setOpen:n,event:r,brands:s,reverse:a})=>{const i=f.useRef(null),{isMobileStyle:l}=qe();return o.jsx(Sn,{modalContentClassname:"!py-0 mb-0 min-h-0",modalClassname:"[&_>div]:min-h-0",isOpen:t,onClose:()=>n(!1),variant:l?"bottom-sheet":"side-sheet",includeBlur:!1,children:o.jsxs("div",{className:"flex min-h-0 flex-1 flex-col",children:[o.jsx(F,{variant:"section-title",className:"py-sm -mt-sm -mx-md px-md border-borderMain/50 shadow-subtle border-b",children:"Play by Play"}),o.jsx("div",{ref:i,className:"-mx-md px-md scrollbar-thin scrollbar-thumb-idle dark:scrollbar-thumb-idleDark scrollbar-track-transparent flex min-h-0 flex-1 flex-col overflow-y-auto overflow-x-hidden",children:o.jsx(aMe,{plays:e,event:r,brands:s,inModal:!0,reverse:a})})]})})},fMt=({event:e})=>{const n=[...e.matchStats?.contestantStats.map(r=>{const s=r.goal_events.map(i=>({type:"goal",event:i})),a=r.red_card_events.map(i=>({type:"red_card",event:i}));return[...s,...a]})??[]].map(r=>r.sort((s,a)=>s.event[0]-a.event[0]));return!n||n.length===0?null:o.jsx("div",{className:"gap-md p-md grid grid-cols-2",children:n.map((r,s)=>o.jsx(hMt,{events:r,position:s===0?"left":"right"},s))})},hMt=({events:e,position:t})=>o.jsx("div",{className:W("gap-xs flex flex-col",{"items-start":t==="left","items-end":t==="right"}),children:e.map((n,r)=>o.jsx(mMt,{event:n,position:t},r))}),mMt=({event:e,position:t})=>o.jsxs("div",{className:"gap-xs flex items-center",children:[o.jsxs(F,{variant:"tiny",className:W("flex items-center gap-1",{"flex-row-reverse":t==="right"}),children:[o.jsx(pMt,{event:e})," ",e.event[1]]}),o.jsxs(F,{variant:"tiny",color:"light",children:[e.event[0],"'"]})]}),pMt=({event:e})=>e.type!=="goal"?o.jsx(sMe,{isRed:!0,className:"size-md inline-block"}):o.jsx("div",{className:"size-md inline-block",children:"⚽️"}),FS=L.memo(({size:e="default",className:t,includeDot:n})=>{const{$t:r}=ae();return o.jsx("div",{className:W("flex shrink-0 items-center justify-center",t),children:o.jsxs(F,{variant:e==="tiny"?"micro":"tiny",color:"super",className:W("bg-background-super flex shrink-0 items-center rounded-full py-0.5 pt-[3px]",{"px-2.5":e==="default","pl-2":e==="default"&&n,"px-2":e==="small","px-1.5":e==="tiny"}),children:[n&&o.jsxs("span",{className:"grid",children:[o.jsx("span",{className:"bg-super mr-1 size-1.5 rounded-full",style:{gridArea:"1/-1"}}),o.jsx("span",{className:"bg-super mr-1 size-1.5 animate-ping rounded-full",style:{gridArea:"1/-1"}})]}),r({defaultMessage:"Live",id:"Dn82ALx/+V"}).toUpperCase()]})})}),gMt=["West First Round","East First Round","Western Conference Semifinals","Eastern Conference Semifinals","Western Conference Finals","Eastern Conference Finals","NBA Finals"],iMe=e=>gMt.includes(e);function vMt({children:e,className:t}){return o.jsx(F,{variant:"micro",className:W("py-xs !font-mono uppercase",t),color:"light",children:e})}const AXt="[&_tr>td:first-child]:pl-md [&_tr>th:first-child]:pl-md [&_tr>td:last-child]:pr-md [&_tr>th:last-child]:pr-md",SB=({className:e})=>{const{$t:t}=ae();return o.jsx("div",{className:W("flex items-center justify-center",e),children:o.jsx(F,{variant:"tiny",color:"light",className:"bg-background-200 dark:bg-background-300 rounded-full px-2.5 py-0.5 pt-[3px]",children:t({defaultMessage:"Final",id:"6/JzkWi0di"}).toUpperCase()})})},yMt=({className:e})=>{const{$t:t}=ae();return o.jsx("div",{className:W("flex items-center justify-center",e),children:o.jsx(F,{variant:"tiny",color:"light",className:"bg-background-200 dark:bg-background-300 rounded-full px-2.5 py-0.5 pt-[3px]",children:t({defaultMessage:"Upcoming",id:"6/aEFZbs2i"}).toUpperCase()})})},oMe=L.memo(()=>o.jsx("div",{}));oMe.displayName="SportsWidgetErrorFallback";const cne=new Set,xMt=e=>e.status==="live"||e.status==="upcoming";function bMt({widget:e}){const{isMobileStyle:t}=qe(),{result:{backend_uuid:n,mode:r}}=Un(),s=ZC();if(f.useEffect(()=>{!n||!e||!e?.events?.length||cne.has(n)||(s("web.frontend.sports_widget_render_time",{widgetType:"sports",widgetSubType:e.object,league:e.league,queryMode:r}),cne.add(n))},[n,e?.events?.length,r,e,s]),!e?.events?.length)return null;const a=e.canonical_pages?.[0]?.url_web,i=e.events.at(0),l=!t&&(i&&xMt(i)||e.events.length<5),c=e.league??"nba";return o.jsx(oi,{fallback:oMe,children:o.jsx(ac,{widgetType:"sports",widgetName:e.object,children:({widgetSelected:u})=>o.jsx(wMt,{canonicalPageLink:a,children:o.jsx(EMt,{events:e.events,showHero:l,widgetSelected:u,league:c})})})})}const wMt=({children:e,canonicalPageLink:t})=>{const{$t:n}=ae();return o.jsxs(Q,{variant:"raised",className:"shadow-subtle overflow-hidden rounded-xl border",children:[e,t?o.jsx(Nt,{href:t,children:o.jsxs(F,{variant:"smallBold",className:"p-sm border-borderMain/50 flex items-center justify-center gap-0.5 border-t text-center duration-150 hover:opacity-75",color:"super",children:[n({defaultMessage:"View More",id:"QQSdHPJWXu"}),o.jsx(xa,{size:18})]})}):null]})},lMe=({initialData:e,refetch:t=!1,reason:n})=>Ft({initialData:e,queryKey:["sports/events/widget",e.id],queryFn:async()=>{if(!e.refetch_url)return e;const r=await or({urlPath:e.refetch_url,timeoutMs:0,reason:n});if(!r.ok)throw le.error("Failed to fetch sport event",{url:e.refetch_url,status:r.status,statusText:r.statusText}),new Error(`Failed to fetch sport event ${r.status} ${r.statusText}`);return await r.json()},refetchInterval:r=>r.state.data?.refetch_url?r.state.data?.refetch_interval_secs*1e3:!1,enabled:!!e.refetch_url&&t}),_Mt=({event:e,onClick:t,eventCount:n,league:r})=>{const{data:s}=lMe({initialData:e,refetch:!0,reason:"sports-event-row"}),a=cMe(),i=r==="nba"&&iMe(s.title[0]),l=hMe(s.team_1,s.team_2),c=i?l:null,u=f.useMemo(()=>[{title:s.team_1.title,score:s.team_1.text,subscore:s.team_1.sub_text,image:s.team_1.img,emphasized:s.team_1.won,period:s.period_text},{title:s.team_2.title,score:s.team_2.text,subscore:s.team_2.sub_text,image:s.team_2.img,emphasized:s.team_2.won,period:s.period_text}],[s]);return o.jsx(fMe,{href:s.url?.url_web,onClick:()=>t(s.url?.url_web),children:o.jsx(jMt,{title:s.status==="live"?"LIVE":a(s.datetime,s.datetime_tba),isLive:s.status==="live",items:u,period:uMe(s.period_text,s.period_time,r)??null,eventCount:n,subtitle:c??void 0},s.id)})},CMt=({events:e,onClick:t,league:n})=>o.jsx("div",{className:W("bg-background-200/25 dark:bg-background-300/25 grid grid-cols-1 rounded-b-lg md:grid-cols-2",{"lg:grid-cols-3":e.length>2}),children:e.map(r=>o.jsx(_Mt,{event:r,onClick:t,eventCount:e.length,league:n},r.id))}),SMt=e=>{const{locale:t}=ae();return e?new Date(e).toLocaleTimeString(t,{hour:"numeric",minute:"numeric",timeZoneName:"short"}):""},MMt=e=>e.join(" · "),cMe=({includeTime:e=!0}={})=>{const{$t:t}=ae(),{locale:n}=ae();return f.useCallback((r,s)=>{if(!r&&s)return t({defaultMessage:"TBA",id:"ZfAWFLTzx/"});if(!r)return"";const a=new Date(r),i=r&&s,l=a.toLocaleTimeString(n,{hour:"numeric",minute:"numeric",timeZoneName:"short"});if(UF(a))return e?`${t({defaultMessage:"Today",id:"zWgbGgjUUg"})}, ${l}`:t({defaultMessage:"Today",id:"zWgbGgjUUg"});if(zft(a))return e?`${t({defaultMessage:"Yesterday",id:"6dIxDP1C8c"})}, ${l}`:t({defaultMessage:"Yesterday",id:"6dIxDP1C8c"});if(Epe(a))return e?`${t({defaultMessage:"Tomorrow",id:"MtrTNyxuSU"})}, ${l}`:t({defaultMessage:"Tomorrow",id:"MtrTNyxuSU"});if(a.getFullYear()!==new Date().getFullYear())return new Date(a).toLocaleDateString(n,{month:"short",day:"numeric",year:"numeric"});const c=a.toLocaleDateString(n,{month:"short",day:"numeric"});if(!e)return c;const u=i?"TBA":a.toLocaleTimeString(n,{hour:"numeric",minute:"numeric",timeZoneName:"short"});return`${c}, ${u}`},[n,t,e])},uMe=(e,t,n)=>{if(n==="mlb")return kMt(e);if(!e||typeof t?.seconds!="number"&&typeof t?.minutes!="number")return e;const r=t?.seconds?.toString().padStart(2,"0")??"00",s=t?.minutes??0;return`${e} ${s}:${r}`},kMt=e=>e?.replace("Top","▲").replace("Bot","▼"),EMt=({events:e,showHero:t,widgetSelected:n,league:r})=>{const s=f.useMemo(()=>t?e.slice(1):e,[e,t]),{data:a}=lMe({initialData:e[0],refetch:t,reason:"sports-widget-dense"});return o.jsxs(Q,{children:[t&&o.jsxs(fMe,{href:a?.url?.url_web,onClick:()=>{n(a?.url?.url_web)},children:[o.jsx(TMt,{event:a,includeBorder:s.length>0,league:r,statusExtra:a&&r==="mlb"&&a.status==="live"?o.jsx(V3t,{event:{event:a}}):null}),r==="championsleague"&&a&&o.jsx(fMt,{event:{event:a,brands:[],candlestickData:null,matchEvents:null,matchStats:a.extra?.match_stats??null,eventExtra:null}})]}),o.jsx(CMt,{events:s,onClick:n,league:r})]})},dMe=()=>o.jsx("span",{className:"text-textMain/35",children:"—"}),fMe=({children:e,href:t,onClick:n})=>t?o.jsx(Nt,{href:t,className:"group/link group",onClick:n,children:e}):o.jsx("div",{className:"group",onClick:n,children:e}),hMe=(e,t)=>{const{$t:n}=ae(),r=e.subtitle?.split("-"),s=t.subtitle?.split("-"),a=r?+r[0]:null,i=s?+s[0]:null,l=4;if(a===null||i===null)return null;const c=a>i?e.abbreviation:t.abbreviation,u=a>i?a:i,d=a>i?i:a;return a>=l||i>=l?n({defaultMessage:"{leadingTeam} Wins {leadingScore}-{trailingScore}",id:"T1UC+k87MZ"},{leadingTeam:c,leadingScore:u,trailingScore:d}):a===i?n({defaultMessage:"Series Tied {team1Record}-{team2Record}",id:"Liahhq+hIg"},{team1Record:a,team2Record:i}):n({defaultMessage:"{leadingTeam} Leads {leadingScore}-{trailingScore}",id:"oO28OWtTlZ"},{leadingTeam:c,leadingScore:u,trailingScore:d})},TMt=({event:e,includeBorder:t=!1,className:n,league:r,scoreExtra:s,statusExtra:a})=>{const{$t:i}=ae(),l=e.team_1.title,c=e.team_2.title,u=e.team_1.text,d=e.team_1.sub_text,h=e.team_2.text,m=e.team_2.sub_text,g=r==="nba"&&iMe(e.title[0]),v=hMe(e.team_1,e.team_2),x=g?v:null,b=cMe({includeTime:!1}),w=SMt(e.datetime),C=e.datetime_tba?i({defaultMessage:"TBA",id:"ZfAWFLTzx/"}):w,S=MMt(e.title),k=Wpe(),{colorScheme:E}=ba(),T=uMe(e.period_text,e.period_time,r),j=e.team_1.won||e.team_2.won,N=f.useMemo(()=>{let R;return j?(e.team_1.won?R=e.team_1.color:R=e.team_2.color,k?j6(R??"",E==="dark"):R):null},[e.team_1.won,e.team_1.color,e.team_2.color,E,j,k]);return o.jsxs(Q,{className:W(n,"rounded-inherit relative",{"border-b":t}),children:[j&&o.jsx("div",{className:"rounded-inherit pointer-events-none absolute inset-0 overflow-hidden",style:{color:N,maskImage:e.team_1.won?"linear-gradient(to left, transparent 60%, black)":"linear-gradient(to right, transparent 60%, black)"},children:o.jsx(agt,{className:"-inset-xl rounded-inherit !absolute ![--dog-bg-highlight:currentColor]",dotClassName:"!text-[currentColor]",highlightClassName:"!bg-black/5 dark:!bg-white/5"})}),o.jsx("div",{className:"px-md gap-sm relative flex items-start justify-between pt-[12px]",children:o.jsxs(F,{variant:"tiny",color:"light",children:[S,x&&" · "+x]})}),o.jsxs("div",{className:"p-md md:px-lg md:py-md gap-sm relative grid grid-cols-[1fr_auto_1fr] items-center justify-start md:justify-between md:gap-[12px]",children:[o.jsxs("div",{className:"gap-md flex flex-col-reverse items-center justify-start md:flex-row md:justify-start md:gap-[12px]",children:[o.jsx(fne,{record:e.team_1.subtitle,name:l,logo:e.team_1.img}),o.jsx("div",{className:"md:mx-auto",children:o.jsx(une,{position:"leading",score:u,subscore:d,isWinner:e.team_1.won,hasWinner:j,scoreExtra:s,team:e.team_1,teamIdx:0,league:r})})]}),o.jsxs("div",{className:"gap-sm flex flex-col items-center",children:[o.jsx(NMt,{status:e.status,date:b(e.datetime,e.datetime_tba),time:C,isUpcoming:e.datetime?aMt(new Date(e.datetime),e.status):void 0,period:T??null}),a]}),o.jsxs("div",{className:"gap-md flex flex-col-reverse items-center justify-start md:flex-row-reverse md:gap-[12px]",children:[o.jsx(fne,{record:e.team_2.subtitle,name:c,logo:e.team_2.img}),o.jsx("div",{className:"md:mx-auto",children:o.jsx(une,{score:h,subscore:m,position:"trailing",isWinner:e.team_2.won,hasWinner:j,scoreExtra:s,team:e.team_2,teamIdx:1,league:r})})]})]}),e.live_text&&o.jsx("div",{className:"bg-background-200/50 dark:bg-background-300/50 px-md relative py-[12px]",children:o.jsxs(F,{variant:"tiny",color:"light",className:"gap-sm line-clamp-1 flex items-start md:items-center",children:[o.jsx(THe,{size:16,className:"opacity-80 md:-translate-y-px"}),e.live_text]})}),j&&o.jsx("div",{className:"rounded-inherit pointer-events-none absolute inset-0 opacity-20 mix-blend-multiply dark:opacity-60 dark:mix-blend-soft-light",style:{backgroundColor:N??void 0,maskImage:e.team_1.won?"linear-gradient(to left, transparent 60%, black)":"linear-gradient(to right, transparent 60%, black)"}}),!t&&j&&o.jsx("div",{className:"pointer-events-none absolute -inset-px rounded-[12px] border opacity-40",style:{borderColor:N,maskImage:e.team_1.won?"linear-gradient(to left, transparent 60%, black)":"linear-gradient(to right, transparent 60%, black)"}}),!t&&j&&o.jsx("div",{className:"pointer-events-none absolute -inset-px rounded-[13px] border opacity-20 dark:opacity-40",style:{borderColor:N,maskImage:e.team_1.won?"linear-gradient(to left, transparent 60%, black)":"linear-gradient(to right, transparent 60%, black)"}})]})},une=({score:e,subscore:t,position:n,emptyPlaceholder:r=o.jsx(dMe,{}),isWinner:s,hasWinner:a,scoreExtra:i,team:l,teamIdx:c,league:u})=>{const{isMobileStyle:d}=qe(),h=u==="ipl"||u==="cricket";return o.jsxs("div",{className:W("md:gap-xs flex flex-col items-center justify-center",{"items-start":n==="leading","items-end":n==="trailing","opacity-50":a&&!s}),children:[o.jsxs(F,{variant:d?h?"section-title":"display":"section-title",className:"gap-xs md:gap-sm flex items-center sm:!text-2xl lg:!text-3xl",children:[s&&n==="trailing"&&o.jsx(dne,{className:"size-3 rotate-180 md:size-4"}),o.jsxs("span",{className:"font-mono",children:[i&&o.jsx("span",{className:"mr-xs",children:i(l,c)}),e??r]}),s&&n==="leading"&&o.jsx(dne,{className:"size-2.5 md:size-4"})]}),t&&o.jsx(F,{variant:"tiny",color:"light",children:o.jsx("span",{className:"font-mono",children:t})})]})},dne=({className:e})=>o.jsx("svg",{width:"6",viewBox:"0 0 18 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e,children:o.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 0.322327L0.822266 17.5L18 34.6777V0.322327Z",className:"fill-text"})}),fne=({name:e,logo:t,record:n})=>e?o.jsxs("div",{className:"gap-sm flex flex-col items-center justify-between md:gap-0",children:[t&&o.jsx(Yl,{logo:t,color:"#000000"}),o.jsx(F,{variant:"baseSemi",children:e}),n&&o.jsx(F,{variant:"tiny",color:"light",children:o.jsx("span",{className:"font-mono",children:n})})]}):null,NMt=({status:e,date:t,time:n,isUpcoming:r,variant:s="stacked",period:a})=>{const i=e==="live",l=e==="final",{isMobileStyle:c}=qe();return o.jsx("div",{className:W("gap-sm flex",{"flex-row items-center":s==="row","flex-col items-center justify-center":s==="stacked"}),children:i?o.jsxs("div",{className:"gap-sm flex flex-col items-center",children:[o.jsx(FS,{size:c?"small":"default",includeDot:!0}),a&&o.jsx(F,{variant:"tiny",color:"light",children:a})]}):o.jsxs("div",{className:W("gap-xs flex",{"flex-col":s==="stacked","flex-row items-center":s==="row"}),children:[r&&o.jsx(yMt,{className:"mb-1 hidden md:block"}),l&&o.jsx(SB,{className:"-mt-0.5 md:mb-1 md:mt-0 md:block"}),o.jsx(F,{variant:"tiny",color:"light",className:"w-full whitespace-nowrap text-center",children:t}),n&&!l&&o.jsx(F,{variant:"tiny",color:"light",className:"w-full whitespace-nowrap text-center",children:n})]})})},jMt=({items:e,title:t,subtitle:n,isLive:r,period:s,eventCount:a})=>{const i=e.some(d=>d.emphasized),{isMobileStyle:l}=qe(),{isLargeScreen:c,isMediumScreen:u}=Vx();return o.jsx(Q,{variant:"raised",className:W("px-md h-full py-[12px]",{"border-b border-r-0 group-last:border-b-0 group-even:border-r-0":l,"border-b group-odd:border-r":u&&!c,"group-[&:nth-child(2n):nth-last-child(-n+3)~a]:border-b-0":u&&!c&&a>2,"border-b border-r group-[&:nth-child(3n)]:border-r-0":c,"group-[&:nth-child(3n):nth-last-child(-n+4)~a]:border-b-0":c&&a>3,"!border-b-0":c&&a<=3||u&&!c&&a<=2}),children:o.jsxs("div",{className:"gap-sm flex h-full w-full flex-col items-start justify-between duration-150 group-hover/link:opacity-75",children:[r?o.jsxs("div",{className:"gap-sm flex items-center",children:[o.jsx(FS,{size:"small",className:"-ml-1"}),s&&o.jsx(F,{variant:"tiny",color:"super",children:s})]}):t?o.jsx(F,{variant:"tinyRegular",color:"light",children:t}):null,o.jsx("div",{className:"w-full",children:e.map((d,h)=>o.jsx(AMt,{item:d,anyEmphasized:i},d.title+h))}),n&&o.jsx(F,{variant:"tinyRegular",color:"light",children:n})]})})},AMt=({item:e,anyEmphasized:t})=>{const n=f.useMemo(()=>e.score?e.subscore?`${e.score} ${e.subscore}`:e.score:o.jsx(dMe,{}),[e.score,e.subscore]);return o.jsxs(Q,{className:"flex w-full items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[e.image&&o.jsx("img",{src:e.image,alt:e.title,className:"size-[24px]"}),o.jsx(F,{variant:e.emphasized?"smallBold":"small",color:t&&!e.emphasized?"light":"default",children:e.title})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[e.emphasized&&o.jsx(o$e,{size:14,className:"text-super -translate-y-[0.5px]"}),o.jsx(F,{variant:e.emphasized?"smallBold":"small",color:t&&!e.emphasized?"light":"default",children:n})]})]})},mMe=L.memo(()=>o.jsx("div",{children:"Error loading individual event widget."}));mMe.displayName="IndvEventsWidgetErrorFallback";const hne=new Set,RMt=({children:e,canonicalPageLink:t})=>{const{$t:n}=ae();return o.jsxs(Q,{variant:"raised",className:"shadow-subtle overflow-hidden rounded-xl border",children:[e,t?o.jsx(Nt,{href:t,children:o.jsxs(F,{variant:"smallBold",className:"p-sm border-borderMain/50 flex items-center justify-center gap-0.5 border-t text-center duration-150 hover:opacity-75",color:"super",children:[n({defaultMessage:"View More",id:"QQSdHPJWXu"}),o.jsx(xa,{size:18})]})}):null]})},LMt=(e,t)=>{if(!e)return"";try{return new Date(e).toLocaleDateString(t,{month:"short",day:"numeric"})}catch{return""}},OMt=(e,t)=>{if(!e)return"";try{return new Date(e).toLocaleTimeString(t,{hour:"numeric",minute:"2-digit",hour12:!0}).replace(/^0+/,"")}catch{return""}},pMe=({competitor:e})=>o.jsxs(Q,{className:"gap-sm border-borderMain/50 px-md py-sm flex items-center border-b last:border-b-0",children:[o.jsx(F,{className:"w-4 text-center",children:e.rank}),o.jsxs("div",{className:"gap-sm flex flex-grow items-center",children:[e.primary_img_url?o.jsx(Yl,{logo:e.primary_img_url,color:"transparent",size:"small",className:"shrink-0"}):o.jsx(Q,{className:"flex h-5 w-8 flex-shrink-0 items-center justify-center rounded-sm bg-stone-700 text-xs",children:e.abbreviation}),o.jsxs("div",{className:"flex flex-grow flex-col",children:[o.jsx(F,{variant:"smallBold",children:e.title}),o.jsxs(F,{variant:"tiny",color:"light",children:[e.metadata[0]," "]})]})]}),o.jsxs(Q,{className:"flex flex-col items-end text-right",children:[o.jsx(F,{variant:"smallBold",children:e.metadata[1]}),o.jsx(F,{variant:"tiny",color:"light",children:e.metadata[2]})]})]},e.id),PMt=({event:e,league:t})=>{const{locale:n}=ae(),r=e.subtitle,{$t:s}=ae(),a=OMt(e.datetime,n),i=e.datetime?GSe(new Date(e.datetime))?s({defaultMessage:"Today",id:"zWgbGgjUUg"}):Epe(new Date(e.datetime))?s({defaultMessage:"Tomorrow",id:"MtrTNyxuSU"}):new Date(e.datetime).toLocaleDateString(n,{weekday:"short",month:"short",day:"numeric"}):"";return o.jsxs(Q,{className:"flex flex-col",children:[o.jsxs(Q,{className:"p-md border-borderMain flex items-end justify-between border-b",children:[o.jsxs(Q,{className:"flex flex-col",children:[o.jsx(F,{variant:"baseSemi",children:e.title.join(" ")}),o.jsxs(F,{variant:"small",color:"light",children:[t.toUpperCase(),r&&`・${r}`]})]}),o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx(F,{variant:"small",children:i}),o.jsx(F,{variant:"small",color:"light",children:a})]})]}),e.image_url&&o.jsx(Q,{className:"aspect-video w-full overflow-hidden rounded-lg bg-stone-800",children:o.jsx(ps,{src:e.image_url,alt:`${e.title.join(" ")} circuit map`,className:"h-full w-full object-contain"})}),o.jsx(Q,{className:"gap-xs p-md flex flex-col",children:e.metadata?.map((l,c)=>o.jsxs(Q,{className:"flex justify-between",children:[o.jsx(F,{className:"text-sm",color:"light",children:l[0]}),o.jsx(F,{className:"text-sm",children:l[1]})]},c))})]})},IMt=({event:e,league:t})=>{const{locale:n}=ae(),r=LMt(e.datetime,n),s=e.competitors.slice(0,3),a=e.subtitle;return o.jsxs(Q,{className:"flex flex-col",children:[o.jsxs(Q,{className:"border-borderMain px-md py-sm gap-md flex items-center justify-between border-b",children:[o.jsxs("div",{children:[o.jsx(F,{variant:"baseSemi",className:"flex justify-between",children:o.jsx("span",{children:e.title.join(" ")})}),o.jsxs(F,{variant:"small",color:"light",children:[t.toUpperCase(),a&&`・${a}`]})]}),o.jsxs("div",{className:"gap-sm flex items-center",children:[o.jsx(F,{variant:"small",color:"light",children:r}),o.jsx(SB,{})]})]}),o.jsx(Q,{className:"flex flex-col",children:s.map(i=>o.jsx(pMe,{competitor:i},i.id))})]})},DMt=({event:e,league:t})=>{const n=e.competitors.slice(0,3),r=e.subtitle;return o.jsxs(Q,{className:"flex flex-col",children:[o.jsxs(Q,{className:"border-borderMain px-md py-sm gap-md flex items-center justify-between border-b",children:[o.jsxs("div",{children:[o.jsx(F,{variant:"baseSemi",className:"flex justify-between",children:o.jsx("span",{children:e.title.join(" ")})}),o.jsx("div",{children:o.jsxs(F,{variant:"small",color:"light",children:[t.toUpperCase(),r&&`・${r}`]})})]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(FS,{includeDot:!0}),e.period_text&&o.jsx(F,{color:"light",variant:"small",children:e.period_text})]})]}),o.jsx(Q,{className:"flex flex-col",children:n.map(s=>o.jsx(pMe,{competitor:s},s.id))})]})},FMt=({event:e,league:t})=>{switch(e.status){case"upcoming":return o.jsx(PMt,{event:e,league:t});case"live":return o.jsx(DMt,{event:e,league:t});case"final":return o.jsx(IMt,{event:e,league:t});default:return null}};function UMt({widgetData:e}){const{result:{backend_uuid:t,mode:n}}=Un(),r=ZC(),s=f.useMemo(()=>e?.event,[e]),a=f.useMemo(()=>e?.league,[e]);if(f.useEffect(()=>{!t||!e||!s||hne.has(t)||(r("web.frontend.sports_widget_render_time",{widgetType:"sports",widgetSubType:e.object,league:e.league,queryMode:n}),hne.add(t))},[t,s,n,e,r]),!e||!s)return null;const i=e.canonical_page?.url_web,l=`indv-event-${s.id??"unknown"}`;return o.jsx(oi,{fallback:mMe,children:o.jsx(ac,{widgetType:"sports",widgetName:l,children:({})=>o.jsx(RMt,{canonicalPageLink:i,children:o.jsx(FMt,{event:s,league:a})})})})}const gMe=L.memo(()=>o.jsx("div",{children:"Error loading individual schedule widget."}));gMe.displayName="IndvScheduleWidgetErrorFallback";const mne=new Set,BMt=({children:e,canonicalPageLink:t})=>{const{$t:n}=ae();return o.jsxs(Q,{variant:"raised",className:"shadow-subtle overflow-hidden rounded-xl border",children:[e,t?o.jsx(Nt,{href:t,children:o.jsxs(F,{variant:"smallBold",className:"p-sm border-borderMain/50 flex items-center justify-center gap-0.5 border-t text-center duration-150 hover:opacity-75",color:"super",children:[n({defaultMessage:"View More",id:"QQSdHPJWXu"}),o.jsx(xa,{size:18})]})}):null]})},VMt=(e,t,n)=>{if(!e)return t.replace(/^(0)(\d:[0-5]\d\s+[AP]M)$/,"$2");try{return new Date(e).toLocaleTimeString(n,{hour:"numeric",minute:"2-digit",hour12:!0,timeZoneName:"short"}).replace(/^0+/,"")}catch{return t.replace(/^(0)(\d:[0-5]\d\s+[AP]M)$/,"$2")}},AT=({event:e,isFinal:t,isLive:n})=>{const{locale:r}=ae(),s=e.metadata?.[0],a=e.metadata?.[1]??"",i=VMt(e.datetime,a,r),{isMobileStyle:l}=qe(),c=!!e.url?.url_web,u=o.jsxs(o.Fragment,{children:[o.jsxs(Q,{className:"p-md col-span-3 grid grid-cols-subgrid items-center md:col-span-4",children:[o.jsx(Q,{className:"flex flex-col items-start",children:o.jsx(HMt,{date:e.datetime??""})}),o.jsxs(Q,{className:"gap-xs flex flex-col md:gap-0",children:[o.jsx(F,{variant:"baseSemi",className:"text-base leading-snug",children:e.title.join(" ")}),s&&o.jsxs(F,{variant:l?"tiny":"small",className:"mt-0 pt-0",color:"light",children:[!t&&!n&&o.jsxs(o.Fragment,{children:[i," · "]}),s]})]}),o.jsx("div",{className:"hidden md:block",children:e.live_text&&o.jsx(F,{variant:"small",className:"text-right",children:e.live_text})}),o.jsx("div",{children:t?o.jsx(SB,{}):n?o.jsx(FS,{includeDot:!0}):null})]}),o.jsx("div",{className:"p-md -mt-sm col-span-2 col-start-2 pl-0 pt-0 md:hidden",children:e.live_text&&o.jsx(F,{variant:"tiny",className:"border-borderMain/50 p-xs px-sm rounded border",color:"light",children:e.live_text})})]}),d="col-span-3 grid grid-cols-subgrid border-b border-borderMain/50 last:border-b-0 md:col-span-4";return c?o.jsx(Nt,{href:e.url?.url_web??"",className:W(d,"hover:bg-offset/25 duration-150"),children:u}):o.jsx(Q,{className:d,children:u})};function zMt({widgetData:e}){const{result:{backend_uuid:t,mode:n}}=Un(),r=ZC(),s=f.useMemo(()=>e?.events??[],[e]);if(f.useEffect(()=>{!t||!e||!s?.length||mne.has(t)||(r("web.frontend.sports_widget_render_time",{widgetType:"sports",widgetSubType:e.object,league:e.league,queryMode:n}),mne.add(t))},[t,e,s,n,r]),!e||!s||s.length===0)return null;const a=e.canonical_page?.url_web,i=`indv-schedule-${e.league??"unknown"}`;return o.jsx(oi,{fallback:gMe,children:o.jsx(ac,{widgetType:"sports",widgetName:i,children:({})=>o.jsx(BMt,{canonicalPageLink:a,children:o.jsx(Q,{className:"gap-x-md grid grid-cols-[min-content,1fr,min-content] md:grid-cols-[min-content,1fr,1fr,min-content]",children:s.map(l=>{switch(l.status){case"upcoming":return o.jsx(AT,{event:l},l.id);case"live":return o.jsx(AT,{event:l,isLive:!0},l.id);case"final":return o.jsx(AT,{event:l,isFinal:!0},l.id);default:return null}})})})})})}const HMt=({date:e})=>{const{locale:t}=ae(),n=new Date(e).toLocaleDateString(t,{day:"numeric"}),r=new Date(e).toLocaleDateString(t,{month:"short"}),{isMobileStyle:s}=qe();return o.jsxs("div",{className:"dark:bg-background-300 bg-background-200 py-xs flex w-full flex-col items-center justify-center rounded-lg px-0.5 md:p-[6px]",children:[o.jsx(F,{className:"px-sm -mb-0.5 rounded-full text-center",variant:"tinyRegular",color:"light",children:r}),o.jsx(F,{className:"px-sm -mb-1 text-center",variant:s?"baseSemi":"section-title",children:n})]})},vMe=f.createContext({inApp:!1,preferredColorScheme:null,deviceId:null,appVersion:null,isIOS:!1,isAndroid:!1,client:null}),WMt=L.memo(({children:e,inApp:t})=>{const n=wn(),r=n?.get("mobile.deviceId")||null,s=n?.get("mobile.appVersion")||null,a=n?.get("mobile.preferredColorScheme")||null,i=n?.get("mobile.client")||null,l=i==="ios",c=i==="android";return o.jsx(vMe.Provider,{value:{inApp:t,preferredColorScheme:a,deviceId:r,appVersion:s,isIOS:l,isAndroid:c,client:i},children:e})});WMt.displayName="CanonicalPageProvider";function US(){return f.useContext(vMe)}const pne="pplx://www.pplx.com";function $Mt({href:e,inApp:t,queryParams:n}){if(!t||e==null)return e;const r=new URL(e,pne);return n?.forEach((s,a)=>{r.searchParams.get(a)||r.searchParams.set(a,s??"")}),r.pathname.startsWith("/app")||(r.pathname.startsWith("/")?r.pathname=`/app${r.pathname}`:r.pathname=`/app/${r.pathname}`),r.href.replace(pne,"")}const BS=L.memo(({children:e,href:t,...n})=>{const{inApp:r}=US(),s=wn();return o.jsx(Nt,{...n,href:$Mt({href:t,inApp:r,queryParams:s}),children:e})});BS.displayName="CanonicalLink";const qMt=L.memo(e=>e.href?o.jsx(BS,{...e}):e.children);qMt.displayName="CanonicalLinkMaybe";const yMe=(e="left")=>{switch(e){case"center":return"text-center";case"right":return"text-right";case"left":default:return"text-left"}},GMt=(e=!1)=>e?"w-full":"w-0",RT=(e="normal",t)=>{if(t==="pos")return"smallCaps";switch(e){case"bold":return"smallBold";case"normal":default:return"small"}},YMt=(e="")=>e==="pos"?"light":"default",KMt=({cell:e,column:t})=>{const{inApp:n}=US();if(!e)return o.jsx("td",{className:"md:px-md px-sm py-sm"});let r;const s=t.column_type??"text",a=e.display_value??e.value??"-";(s==="entity"||s==="image")&&e.image_url?r=o.jsxs("div",{className:"md:gap-md gap-sm flex items-center",children:[o.jsx(Yl,{logo:e.image_url,color:"transparent",size:"small",className:"shrink-0"}),o.jsxs("div",{children:[o.jsx(F,{variant:RT(t.font_weight??"normal",t.column_id),children:a}),s==="entity"&&e.sub_text&&o.jsx(F,{variant:"tiny",color:"light",children:e.sub_text})]})]}):s==="entity"&&!e.image_url?r=o.jsxs("div",{children:[o.jsx(F,{variant:RT(t.font_weight??"normal",t.column_id),children:a}),e.sub_text&&o.jsx(F,{variant:"tiny",color:"light",children:e.sub_text})]}):r=o.jsx(F,{variant:RT(t.font_weight??"normal",t.column_id),color:YMt(t.column_id),children:a});const i=W("md:pl-md pl-sm last:px-sm md:last:px-md py-sm align-middle",yMe(t.alignment),GMt(t.should_fill_width));return e.canonical_page?o.jsx("td",{className:i,children:o.jsx(BS,{href:n?e.canonical_page.url_app:e.canonical_page.url_web,className:"block",children:r})}):o.jsx("td",{className:i,children:r})},QMt=({row:e,columns:t})=>{const n=new Map(e.cells.map(r=>[r.column_id,r]));return o.jsx("tr",{className:W("border-borderMain/50 border-b last:border-b-0"),children:t.map(r=>o.jsx(KMt,{cell:n.get(r.column_id),column:r},r.column_id))})},XMt=({table:e,variant:t="offset",title:n,className:r})=>{const[s,a]=f.useState(e?.groups?.[0]?.group_id??""),{isMobileStyle:i}=qe();if(eS("standings"),!e||!e.groups?.length)return null;const l=n??e.title??"Standings",c=e.groups.find(h=>h.group_id===s),u=e.groups.length>1;if(!c)return null;const d=e.groups.map(h=>({type:"default",text:h.title??h.group_id,onClick:()=>a(h.group_id),active:s===h.group_id,show:!0}));return o.jsx(Vr,{className:r,header:o.jsxs("div",{className:"md:pl-md gap-md pl-sm mb-sm flex items-center justify-between md:mb-0",children:[o.jsx(F,{variant:"baseSemi",children:l}),u?i?o.jsx(Rn,{items:d,isMobileStyle:!1,size:tn.regular,children:o.jsx(Le,{text:c.title??c.group_id,chevron:!0,size:"small"})}):o.jsx(Hg,{size:i?"tiny":"small",actionList:d,layoutGroupId:`standings-${e.table_id}-tabs`,layout:"left",allowScroll:!0,styleProps:{wrapperClass:"min-w-0 self-stretch",scrollInnerClass:"!h-10",scrollClass:"h-full"}}):o.jsx("div",{className:"invisible min-h-10"})]}),children:o.jsx("div",{className:"rounded-inherit",children:o.jsx("div",{className:"rounded-t-inherit overflow-hidden",children:o.jsx(mu,{orientation:"horizontal",children:o.jsxs("table",{className:W("w-full table-auto border-collapse"),children:[o.jsx(Q,{as:"thead",variant:t==="raised"?"raisedOffset":"offsetPlus",children:o.jsx("tr",{children:c.columns.map(h=>o.jsx("th",{className:W("md:pl-md pl-sm last:px-sm md:last:px-md py-xs whitespace-nowrap align-middle",yMe(h.alignment)),children:o.jsx(vMt,{className:W({"w-[200px] md:w-auto":h.should_fill_width}),children:h.header_label})},h.column_id))})}),o.jsx("tbody",{children:c.rows.map(h=>o.jsx(QMt,{row:h,columns:c.columns},h.row_id))})]})})})},c.group_id)})},xMe=L.memo(()=>o.jsx("div",{children:"Error loading standings widget."}));xMe.displayName="StandingsWidgetErrorFallback";const ZMt=new Set,JMt=({children:e,canonicalPageLink:t})=>{const{$t:n}=ae();return o.jsxs(Q,{variant:"raised",className:"shadow-subtle overflow-hidden rounded-xl border",children:[e,t?o.jsx(Nt,{href:t,children:o.jsxs(F,{variant:"smallBold",className:"p-sm border-borderMain/50 flex items-center justify-center gap-0.5 border-t text-center duration-150 hover:opacity-75",color:"super",children:[n({defaultMessage:"View More",id:"QQSdHPJWXu"}),o.jsx(xa,{size:18})]})}):null]})};function ekt({widgetData:e}){const{result:{backend_uuid:t,mode:n}}=Un(),r=ZC(),s=f.useMemo(()=>e?.standings_table?e.standings_table:null,[e]);if(f.useEffect(()=>{!t||!e||!s||ZMt.has(t)||r("web.frontend.sports_widget_render_time",{widgetType:"sports",widgetSubType:e.object,league:e.league,queryMode:n})},[t,s,n,e,r]),!e||!s)return null;const a=e.canonical_pages?.[0]?.url_web,i=`standings-${s.table_id??"unknown"}`;return o.jsx(oi,{fallback:xMe,children:o.jsx(ac,{widgetType:"sports",widgetName:i,children:({})=>o.jsx(JMt,{canonicalPageLink:a,children:o.jsx(XMt,{table:s,variant:"raised",className:"!rounded-none border-0"})})})})}const Xv=L.memo(({data:e})=>Ls(e).with({object:"SportsEventsWidget"},t=>o.jsx(bMt,{widget:t})).with({object:"SportsStandingsWidget"},t=>o.jsx(ekt,{widgetData:t})).with({object:"SportsIndvScheduleWidget"},t=>o.jsx(zMt,{widgetData:t})).with({object:"SportsIndvEventsWidget"},t=>o.jsx(UMt,{widgetData:t})).exhaustive());Xv.displayName="SportsWidget";function tkt({csvString:e,filename:t="perplexity.csv"}){if(typeof window>"u")throw new Error("Attempting to download a CSV file in a server context.");try{const n=new Blob([e],{type:"text/csv;charset=utf-8;"}),r=window.URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(n){throw n}}function nkt(){return f.useCallback(e=>{tkt(e)},[])}var LT,gne;function rkt(){if(gne)return LT;gne=1;var e=typeof Element<"u",t=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(a,i){if(a===i)return!0;if(a&&i&&typeof a=="object"&&typeof i=="object"){if(a.constructor!==i.constructor)return!1;var l,c,u;if(Array.isArray(a)){if(l=a.length,l!=i.length)return!1;for(c=l;c--!==0;)if(!s(a[c],i[c]))return!1;return!0}var d;if(t&&a instanceof Map&&i instanceof Map){if(a.size!==i.size)return!1;for(d=a.entries();!(c=d.next()).done;)if(!i.has(c.value[0]))return!1;for(d=a.entries();!(c=d.next()).done;)if(!s(c.value[1],i.get(c.value[0])))return!1;return!0}if(n&&a instanceof Set&&i instanceof Set){if(a.size!==i.size)return!1;for(d=a.entries();!(c=d.next()).done;)if(!i.has(c.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(i)){if(l=a.length,l!=i.length)return!1;for(c=l;c--!==0;)if(a[c]!==i[c])return!1;return!0}if(a.constructor===RegExp)return a.source===i.source&&a.flags===i.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof i.valueOf=="function")return a.valueOf()===i.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof i.toString=="function")return a.toString()===i.toString();if(u=Object.keys(a),l=u.length,l!==Object.keys(i).length)return!1;for(c=l;c--!==0;)if(!Object.prototype.hasOwnProperty.call(i,u[c]))return!1;if(e&&a instanceof Element)return!1;for(c=l;c--!==0;)if(!((u[c]==="_owner"||u[c]==="__v"||u[c]==="__o")&&a.$$typeof)&&!s(a[u[c]],i[u[c]]))return!1;return!0}return a!==a&&i!==i}return LT=function(i,l){try{return s(i,l)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},LT}var skt=rkt();const akt=Js(skt),Nd=L.memo(({label:e,accessory:t,onClick:n,className:r,size:s="default",textColor:a="default",icon:i,iconClassName:l,iconOnly:c=!1,tooltip:u,truncate:d=!1,isLink:h=!0})=>{const m=o.jsxs(Q,{as:"span",variant:"offsetPlus",className:W("min-w-[1rem] cursor-pointer rounded-[0.3125rem] text-center align-middle font-mono text-[0.6rem] tabular-nums",{"py-[0.1875rem]":s==="default","py-[0.175rem] leading-none":s==="small","py-[0.125rem] leading-none":s==="extraSmall"},{"px-[0.3rem]":!c,"inline-block px-[0.1875rem]":c,"hover:bg-super dark:hover:text-backgroundDark cursor-pointer hover:text-white":h}),onClick:n,children:[i&&o.jsx(Ne,{icon:i,size:"2xs",className:W("-mt-px inline-block opacity-80",{"mr-xs":!c},l)}),o.jsx("span",{ref:g=>{if(g&&d){const v=g.scrollWidth>g.clientWidth;g.style.maskImage=v?"linear-gradient(to right, black 70%, transparent 100%)":""}},className:W("relative mb-px inline-block align-middle leading-none",{"max-w-[25ch] overflow-hidden":d}),children:e}),t&&o.jsx("span",{className:"ml-xs mr-px",children:t})]});return o.jsx(F,{as:"span",color:a,className:W("relative select-none whitespace-nowrap align-middle",{"-top-px":s==="default","-top-[3px] leading-none":s==="small","-top-[2px] leading-none":s==="extraSmall"},r),children:u?o.jsx(Mn,{tooltipText:u,tooltipLayout:"top",asChild:!0,children:m}):m})});Nd.displayName="CitationBubble";const bMe=L.memo(({domain:e,url:t,size:n="default",className:r,suffix:s,overflowCount:a,includeLink:i=!0,icon:l})=>{if(!t&&!e)return null;const c=e||dde(t).replace(/^[a-z]{1,2}\./i,""),u=s?`${c}.${s}`:c,d=a&&a>0?o.jsxs("span",{className:"pl-two opacity-50",children:["+",a]}):void 0,h=o.jsx(Nd,{label:u,icon:l,size:n,accessory:d,isLink:i,truncate:!0});return i&&t?o.jsx("span",{className:W(r),children:o.jsx(Nt,{href:t,target:"_blank",rel:"noopener",className:"citation inline",children:h})}):o.jsx("span",{className:W(r),children:h})});bMe.displayName="CitationDomainBubble";const MB=L.memo(e=>o.jsx(Nd,{...e}));MB.displayName="CitationNumberBubble";const wMe=L.memo(function({label:t,href:n,overflowCount:r,size:s,getAttachmentUrl:a,onCitationClick:i}){const[l,c]=f.useState(!1),[u,d]=f.useState(null),h=f.useCallback(async x=>{if(i?.(x),x?.defaultPrevented||!n||!a)return;const b=await a(n);Si(n)&&(d(b),c(!0))},[i,a,n]),m=r&&r>0?o.jsxs("span",{className:"opacity-50",children:["+",r]}):void 0,g=f.useCallback(()=>c(!1),[]),v=f.useMemo(()=>({src:u??void 0}),[u]);return o.jsxs(o.Fragment,{children:[o.jsx(Nd,{label:t,accessory:m,icon:cI,className:"cursor-pointer",size:s,truncate:!0,onClick:h}),u&&o.jsx(LC,{isOpen:l,onClose:g,imgProps:v})]})});wMe.displayName="FileCitationBubble";const _Me=L.memo(({ytID:e,timestamp:t,label:n="youtube",overflowCount:r,size:s})=>{const[a,i]=f.useState(!1),l=f.useCallback(()=>i(!0),[]),c=r&&r>0?o.jsxs("span",{className:"opacity-50",children:["+",r]}):void 0;return o.jsxs(o.Fragment,{children:[o.jsx(Nd,{label:n,accessory:c,icon:sce,onClick:l,className:"cursor-pointer",size:s}),e&&o.jsx(Ig,{url:`https://www.youtube.com/watch?v=${e}`,name:"",isOpen:a,setisOpen:i,timestamp:t})]})});_Me.displayName="YoutubeCitationBubble";var Xa;(function(e){e.YOUTUBE="youtube",e.FILE="file",e.MEMORY="memory",e.CONVERSATION_HISTORY="conversation_history",e.WEB="web",e.NUMBERED="numbered"})(Xa||(Xa={}));function ikt(e){if(e){if(e.is_memory)return gg;if(e.is_conversation_history)return vg}}function okt(e){const{ytID:t,isMobileStyle:n,isFile:r,isMemory:s,isConversationHistory:a,enableCitationGrouping:i}=e;return t&&!n?Xa.YOUTUBE:r?Xa.FILE:i?s?Xa.MEMORY:a?Xa.CONVERSATION_HISTORY:Xa.WEB:Xa.NUMBERED}function lkt(e){const t=e.indexOf("&t=");return t!==-1?e.substring(t+3):void 0}function ckt({count:e}){return!e||e<=0?null:o.jsxs("span",{className:"pl-two opacity-50",children:["+",e]})}const CMe=L.memo(L.forwardRef((e,t)=>{const{str:n,href:r,className:s,trackEvent:a,isFile:i,isDownloadable:l,citationSize:c,onCitationClick:u,getAttachmentUrl:d,isMemory:h,isConversationHistory:m,citationGroup:g,enableCitationGrouping:v,citationDomain:x,citationSuffix:b,fileName:w,webResult:C,...S}=e,{isMobileStyle:k}=qe(),E=MC.test(n),T=f.useCallback(U=>{u?.(U)},[u]),j=f.useCallback(()=>{a?.("click citation",{source:"inline",citation_url:r})},[r,a]),N=f.useMemo(()=>o.jsx(ckt,{count:g?.overflowCount}),[g?.overflowCount]);if(!E)return o.jsx("span",{children:n});const R=lkt(r),O=sf(r),I=n.replace(/\[|\]|,.*$/g,""),D=!!(r&&!h&&!m&&(!(O||l)||k)),z=okt({ytID:O,isMobileStyle:k,isFile:i,isMemory:h,isConversationHistory:m,enableCitationGrouping:v});let V;switch(z){case Xa.YOUTUBE:V=O&&o.jsx(_Me,{...!v&&{label:I},ytID:O,overflowCount:g?.overflowCount??0,timestamp:R,size:c});break;case Xa.FILE:V=o.jsx(wMe,{label:v?w??I:I,overflowCount:g?.overflowCount??0,size:c,href:r,getAttachmentUrl:l?d:void 0,onCitationClick:u});break;case Xa.NUMBERED:{const U=ikt(C);V=U?o.jsx(Nd,{label:I,icon:U,size:c,onClick:T}):o.jsx(MB,{label:I,size:c,onClick:T});break}case Xa.MEMORY:V=o.jsx(Nd,{label:C?.name.toLocaleLowerCase(),icon:gg,accessory:N,size:c,truncate:!0,isLink:!1});break;case Xa.CONVERSATION_HISTORY:V=o.jsx(Nd,{label:"library",icon:vg,accessory:N,size:c,truncate:!1,isLink:D});break;case Xa.WEB:default:V=o.jsx(bMe,{url:r,domain:x,suffix:b,overflowCount:g?.overflowCount??0,size:c,includeLink:D});break}return D?o.jsx(ype,{href:r,ref:t,className:W(s,"citation ml-xs inline"),trackEvent:a,onClickLink:j,...S,children:V}):o.jsx("span",{className:W(s,"citation ml-xs inline"),ref:t,...S,children:V})})),ukt=L.forwardRef(function(t,n){const{anchor:r,className:s,...a}=t,i=u=>{const d=document.getElementById(u);d&&d.scrollIntoView({behavior:"smooth"})},l=r.replace(/\[|\]/g,""),c=f.useCallback(()=>i(`#search${r}`),[r]);return o.jsx(Nt,{href:`#search${r}`,onClick:c,className:s,ref:n,...a,children:o.jsx(MB,{label:l})})}),RXt=e=>{const{hideHoverCard:t=!1,trackEvent:n,citationSize:r,onCitationClick:s,getAttachmentUrl:a,enableCitationGrouping:i=!1}=e;return L.memo(L.forwardRef((c,u)=>{const{className:d,href:h,title:m,children:g,target:v="_blank",node:x,...b}=c,w=x?.data?.webResult,C=w?.is_attachment??!1,S=x?.data?.webResultCitation,k=w?.is_memory??!1,E=w?.is_conversation_history??!1,{$t:T}=ae(),j=f.useCallback(D=>{w&&s&&s(w,D)},[w]),N=f.useMemo(()=>({side:"bottom"}),[]),R=f.useMemo(()=>w?{onClick(D){n&&w&&n("click citation",{source:"inline hoverCard",citation_url:w.url}),s?.(w,D)}}:void 0,[w]),O=f.useMemo(()=>({color:"light"}),[]),I=i&&x?.data?x.data.citationGroup:void 0;let B;switch(m){case"_citation":{B=o.jsx(CMe,{isMemory:k,isConversationHistory:E,onCitationClick:j,className:d,str:L.Children.toArray(g).join(""),href:h,rel:"nofollow noopener",trackEvent:n,isFile:C,isDownloadable:w?my(w):!1,citationSize:r,getAttachmentUrl:a,citationGroup:I,enableCitationGrouping:i,citationDomain:w?.meta_data?.citation_domain_name,citationSuffix:w?.meta_data?.suffix,fileName:w?.name,webResult:w,ref:u});break}case"_anchor_citation":{B=o.jsx(ukt,{anchor:L.Children.toArray(g).join(""),className:d,ref:u,...b});break}default:B=o.jsx(Nt,{href:h,target:v,title:m,rel:"nofollow noopener",className:W(d,"break-word hover:text-super hover:decoration-super underline decoration-from-font underline-offset-1 transition-all duration-300"),ref:u,...b,children:g})}return w?o.jsx(YC,{hideHoverCard:t,contentProps:N,linkProps:R,result:w,trackEvent:n,timestampComponent:OC.isRecentlyTrending(w)?o.jsx(IC,{recentlyUpdatedLabel:T({defaultMessage:"Just now",description:"Label for recently updated content",id:"FlgDFQFpF1"}),timestamp:w.meta_data?.published_date,timestampProps:O,children:"Updated"}):null,webResultCitation:S,getAttachmentUrl:a,children:B}):B}),akt)};var OT={},vne;function dkt(){return vne||(vne=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="check",r=448,s=512,a=[10003,10004],i="f00c",l="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faCheck=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(OT)),OT}var fkt=dkt(),PT={},yne;function hkt(){return yne||(yne=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="xmark",r=384,s=512,a=[128473,10005,10006,10060,215,"close","multiply","remove","times"],i="f00d",l="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faXmark=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(PT)),PT}var mkt=hkt();const SMe=L.memo(({status:e})=>o.jsx(F,{as:"span",variant:"smallBold",color:e?"super":"light",children:o.jsx(jt,{icon:e?fkt.faCheck:mkt.faXmark})}));SMe.displayName="BoolCell";const MMe=L.memo(({url:e})=>o.jsx(Nt,{href:e,target:"_blank",rel:"noopener",className:"top-xs relative inline-block inline transition-opacity duration-300 hover:opacity-50",children:o.jsx(Dg,{color:"light",variant:"tiny",url:e,isAttachment:!1})}));MMe.displayName="LinkCell";var IT={},xne;function pkt(){return xne||(xne=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="arrows-up-down",r=320,s=512,a=["arrows-v"],i="f07d",l="M177 7c-9.4-9.4-24.6-9.4-33.9 0L47 103c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l55-55 0 348.1L81 375c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l96 96c9.4 9.4 24.6 9.4 33.9 0l96-96c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-55 55 0-348.1 55 55c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9L177 7z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faArrowsUpDown=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(IT)),IT}var gkt=pkt();function vkt(e,t){return e==null?1:t==null?-1:e==null&&t==null?0:!isNaN(Number(e))&&!isNaN(Number(t))?Number(e)-Number(t):String(e).localeCompare(String(t))}const ykt=({children:e,...t})=>o.jsx("table",{...t,children:e}),xkt=({children:e,...t})=>o.jsx("tr",{...t,children:e}),bkt=({children:e,index:t,id:n,data:r,...s})=>o.jsx("td",{...s,children:o.jsx(F,{variant:"tiny",className:W({"font-normal":t}),children:e})}),wkt=({SortButton:e,children:t})=>o.jsx("th",{className:"py-sm pr-sm text-left align-text-top outline-none",children:o.jsxs(Q,{className:W("group relative flex items-center justify-between"),children:[o.jsx(F,{variant:"tiny",color:"light",children:t}),e]})}),kMe=L.memo(function({name:t,setSortDescriptor:n}){return o.jsx("button",{className:"right-sm absolute opacity-0 transition-opacity duration-200 group-hover:opacity-100",onClick:()=>{n(r=>({...r,column:t,reverse:!r.reverse}))},children:o.jsx(F,{variant:"tiny",color:"super",children:o.jsx(jt,{icon:gkt.faArrowsUpDown})})})});kMe.displayName="SortButton";const _kt=L.memo(({collapsed:e,setCollapsed:t,viewMoreText:n,viewLessText:r})=>{const s=f.useCallback(()=>{t(a=>!a)},[t]);return o.jsx(Q,{className:"pb-sm",children:o.jsx(Le,{pill:!0,variant:"border",size:"tiny",chevron:!0,chevronIcon:e?Ia:iI,text:e?n:r,onClick:s})})});_kt.displayName="ResponsiveTableExpander";const bne="focus-visible:outline-super focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-0",EMe=L.memo(function(t){const{data:n,columns:r,compareFunction:s,RowCell:a,HeaderCell:i,Row:l,Table:c,limit:u}=t,[d,h]=f.useState({column:void 0,reverse:!1}),m=n.at(0),g=f.useMemo(()=>r??Object.keys(m??{}).map(E=>({name:E})),[m,r]),v=s??vkt,x=f.useMemo(()=>{const E=n.map(T=>({data:T,key:T.key??Math.random().toString(36).substring(7)}));return d.column&&E.sort((T,j)=>v(T.data[d.column],j.data[d.column])*(d.reverse?-1:1)),E.slice(0,u||E.length)},[n,u,d,v]),b=i??wkt,w=c??ykt,C=l??xkt,S=a??bkt,k=f.useMemo(()=>L.memo(({index:E,...T})=>{const j=f.useMemo(()=>o.jsx(kMe,{name:T.name,setSortDescriptor:h}),[T.name]);return o.jsx(b,{index:E,id:T.name,data:T,SortButton:j,children:T.label??T.name},T.name)}),[b]);return o.jsx("div",{className:"border-box overflow-x-auto",children:o.jsxs(w,{className:"layout-auto w-full border-collapse",children:[o.jsx("thead",{children:o.jsx(C,{id:"_header",children:g.map((E,T)=>o.jsx(k,{index:T,...E},E.name))})}),o.jsx("tbody",{children:x.map(E=>o.jsx(C,{id:E.key,className:W("group",bne,"border-borderMain/50 group border-t border-dashed !outline-none first:border-solid"),children:g.map(({name:T},j)=>o.jsx(S,{id:T,index:j,data:E.data,className:W("pr-sm align-text-top last:pr-0",bne,'group-data-[selected="true"]:first:border-l-super py-sm group-data-[selected="true"]:border-super group-data-[selected="true"]:bg-super/10 group-data-[selected="true"]:first:pl-xs group-data-[selected="true"]:last:pr-xs dark:group-data-[selected="true"]:bg-super/10 rounded-sm outline-none transition-all duration-300 ease-in-out group-data-[selected="true"]:first:border-l-2 group-data-[selected="true"]:last:border-r-2'),children:String(E.data[T])},T))},E.key))})]})})});EMe.displayName="ResponsiveTable";const $5=L.memo(({text:e})=>o.jsx(F,{as:"span",variant:"tiny",className:"text-pretty break-words font-normal",children:e}));$5.displayName="TextCell";const TMe=function(e){if(e==null)return kkt;if(typeof e=="function")return VS(e);if(typeof e=="object")return Array.isArray(e)?Ckt(e):Skt(e);if(typeof e=="string")return Mkt(e);throw new Error("Expected function, string, or object as test")};function Ckt(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=TMe(e[n]);return VS(r);function r(...s){let a=-1;for(;++a<t.length;)if(t[a].apply(this,s))return!0;return!1}}function Skt(e){const t=e;return VS(n);function n(r){const s=r;let a;for(a in e)if(s[a]!==t[a])return!1;return!0}}function Mkt(e){return VS(t);function t(n){return n&&n.type===e}}function VS(e){return t;function t(n,r,s){return!!(Ekt(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function kkt(){return!0}function Ekt(e){return e!==null&&typeof e=="object"&&"type"in e}const NMe=[],Tkt=!0,wne=!1,Nkt="skip";function jkt(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const a=TMe(s),i=r?-1:1;l(e,void 0,[])();function l(c,u,d){const h=c&&typeof c=="object"?c:{};if(typeof h.type=="string"){const g=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(c.type+(g?"<"+g+">":""))+")"})}return m;function m(){let g=NMe,v,x,b;if((!t||a(c,u,d[d.length-1]||void 0))&&(g=Akt(n(c,d)),g[0]===wne))return g;if("children"in c&&c.children){const w=c;if(w.children&&g[0]!==Nkt)for(x=(r?w.children.length:-1)+i,b=d.concat(w);x>-1&&x<w.children.length;){const C=w.children[x];if(v=l(C,x,b)(),v[0]===wne)return v;x=typeof v[1]=="number"?v[1]:x+i}}return g}}}function Akt(e){return Array.isArray(e)?e:typeof e=="number"?[Tkt,e]:e==null?NMe:[e]}function fp(e,t,n,r){let s,a,i;typeof t=="function"&&typeof n!="function"?(a=void 0,i=t,s=n):(a=t,i=n,s=r),jkt(e,a,l,s);function l(c,u){const d=u[u.length-1],h=d?d.children.indexOf(c):void 0;return i(c,h,d)}}class _ne{static stringArrayToCSV(t){return t.map(this.escapeCSVString).join(",")}static escapeCSVString(t){return`"${t.replace(/"/g,'""')}"`}static tableCellToText(t){const n=[];let r="";return fp(t,[{type:"text"},{tagName:"br"},{tagName:"a"}],s=>{if(s.type==="element"&&s.tagName==="br"){n.push(`
`);return}s.type==="element"&&s.tagName==="a"&&s.properties?.href&&(r=String(s.properties.href)),s.type==="text"&&n.push(s.value.trim())}),r||n.join("")}static tableToCSV(t){if(t.tagName!=="table")throw new Error("Attempting to convert node of wrong tagName to CSV from 'table'");try{const n=[];let r="";return fp(t,{tagName:"thead"},s=>{const a=[];fp(s,{tagName:"th"},i=>{const l=this.tableCellToText(i);a.push(l)}),n.push(this.stringArrayToCSV(a)),r+=a.join("-").replace(/[^a-z0-9\\-]/gi,"")}),fp(t,{tagName:"tbody"},s=>{fp(s,{tagName:"tr"},a=>{const i=[];fp(a,{tagName:"td"},l=>{const c=this.tableCellToText(l);i.push(c)}),n.push(this.stringArrayToCSV(i))})}),{csvString:n.join(`
`),filename:r}}catch(n){throw new Error(`Error attempting to convert table node to CSV string: ${n}`)}}}const jMe=L.memo(({tableData:e,citationOffset:t})=>{const{$t:n}=ae(),{trackEvent:r}=Ye(),{data:s,column_metadata:a,search_results:i}=e,l=f.useMemo(()=>a.reduce((v,{name:x,display_name:b})=>(v[x]=b,v),{}),[a]),c=f.useMemo(()=>a.reduce((v,{name:x,display_format:b})=>(v[x]=b,v),{}),[a]),u=f.useCallback((v,x)=>v.value===null&&x.value===null?0:v.value===null?-1:x.value===null?1:typeof v.value=="string"?String(v.value).localeCompare(String(x.value)):Number(v.value)-Number(x.value),[]),d=f.useCallback(({data:v,id:x,...b})=>{const w=c[x],C=v[x].citation_index??null,S=C!==null?i[C]:null,k=S?.is_attachment??!1,E=v[x].value;let T=o.jsx($5,{text:String(E)});return w==="url"&&(T=o.jsx(MMe,{url:String(E)})),w==="boolean"&&(T=o.jsx(SMe,{status:!!E})),w==="long_text"&&(T=o.jsx($5,{text:String(E)})),w==="date"&&(T=o.jsx($5,{text:String(E)})),E===null?o.jsx("td",{...b,children:o.jsx(F,{variant:"tiny",color:"ultraLight",children:o.jsx(Ne,{icon:AWe,size:"xs"})})}):o.jsxs("td",{...b,children:[o.jsx("span",{children:T}),w!=="url"&&S&&S.url&&C!==null&&o.jsx(YC,{result:S,children:o.jsx(CMe,{str:`[${C+t+1}]`,href:S.url,isFile:k,isDownloadable:my(S),className:W("citation ml-xs inline")})})]})},[i,c,t]),h=f.useMemo(()=>a.map(({name:v})=>({name:v,label:l[v],sortable:!0,resizable:!0})),[a,l]),m=nkt(),g=f.useCallback(()=>{const v=a.reduce((C,S)=>(C.push(S.name),C),[]).join("-"),x=a.map(({display_name:C})=>_ne.escapeCSVString(C)).join(","),b=s.map(C=>a.map(({name:S})=>_ne.escapeCSVString(String(C[S].value))).join(",")),w=[x,...b].join(`
`);return r("clicked download table as csv",{source:"widget"}),m({csvString:w,filename:v})},[a,s,m,r]);return o.jsx(ac,{widgetType:"table",widgetName:"table",widgetSize:"full",children:o.jsxs(Q,{variant:"offset",className:"px-md pb-xs rounded-lg",children:[o.jsx(EMe,{data:s,columns:h,RowCell:d,compareFunction:u}),o.jsx(Q,{className:"border-borderMain/50 py-sm flex justify-end border-t",children:o.jsx(it,{icon:R_,variant:"super",onClick:g,pill:!0,size:"tiny",text:n({defaultMessage:"Export CSV",id:"TE51b7zSWC"}),toolTip:n({defaultMessage:"Download Table as CSV",id:"X3dYB0f+/Q"})})})]})})});jMe.displayName="TableWidget";var qL=["MO","TU","WE","TH","FR","SA","SU"],ka=function(){function e(t,n){if(n===0)throw new Error("Can't create weekday with n == 0");this.weekday=t,this.n=n}return e.fromStr=function(t){return new e(qL.indexOf(t))},e.prototype.nth=function(t){return this.n===t?this:new e(this.weekday,t)},e.prototype.equals=function(t){return this.weekday===t.weekday&&this.n===t.n},e.prototype.toString=function(){var t=qL[this.weekday];return this.n&&(t=(this.n>0?"+":"")+String(this.n)+t),t},e.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},e}(),ns=function(e){return e!=null},pl=function(e){return typeof e=="number"},Cne=function(e){return typeof e=="string"&&qL.includes(e)},wi=Array.isArray,ic=function(e,t){t===void 0&&(t=e),arguments.length===1&&(t=e,e=0);for(var n=[],r=e;r<t;r++)n.push(r);return n},Nn=function(e,t){var n=0,r=[];if(wi(e))for(;n<t;n++)r[n]=[].concat(e);else for(;n<t;n++)r[n]=e;return r},Rkt=function(e){return wi(e)?e:[e]};function hp(e,t,n){n===void 0&&(n=" ");var r=String(e);return t=t>>0,r.length>t?String(r):(t=t-r.length,t>n.length&&(n+=Nn(n,t/n.length)),n.slice(0,t)+String(r))}var Lkt=function(e,t,n){var r=e.split(t);return n?r.slice(0,n).concat([r.slice(n).join(t)]):r},Ji=function(e,t){var n=e%t;return n*t<0?n+t:n},DT=function(e,t){return{div:Math.floor(e/t),mod:Ji(e,t)}},bl=function(e){return!ns(e)||e.length===0},Ts=function(e){return!bl(e)},ar=function(e,t){return Ts(e)&&e.indexOf(t)!==-1},Gh=function(e,t,n,r,s,a){return r===void 0&&(r=0),s===void 0&&(s=0),a===void 0&&(a=0),new Date(Date.UTC(e,t-1,n,r,s,a))},Okt=[31,28,31,30,31,30,31,31,30,31,30,31],AMe=1e3*60*60*24,RMe=9999,LMe=Gh(1970,1,1),Pkt=[6,0,1,2,3,4,5],O2=function(e){return e%4===0&&e%100!==0||e%400===0},OMe=function(e){return e instanceof Date},Zv=function(e){return OMe(e)&&!isNaN(e.getTime())},Ikt=function(e,t){var n=e.getTime(),r=t.getTime(),s=n-r;return Math.round(s/AMe)},GL=function(e){return Ikt(e,LMe)},PMe=function(e){return new Date(LMe.getTime()+e*AMe)},Dkt=function(e){var t=e.getUTCMonth();return t===1&&O2(e.getUTCFullYear())?29:Okt[t]},Q1=function(e){return Pkt[e.getUTCDay()]},Sne=function(e,t){var n=Gh(e,t+1,1);return[Q1(n),Dkt(n)]},IMe=function(e,t){return t=t||e,new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))},YL=function(e){var t=new Date(e.getTime());return t},Mne=function(e){for(var t=[],n=0;n<e.length;n++)t.push(YL(e[n]));return t},Vy=function(e){e.sort(function(t,n){return t.getTime()-n.getTime()})},kB=function(e,t){t===void 0&&(t=!0);var n=new Date(e);return[hp(n.getUTCFullYear().toString(),4,"0"),hp(n.getUTCMonth()+1,2,"0"),hp(n.getUTCDate(),2,"0"),"T",hp(n.getUTCHours(),2,"0"),hp(n.getUTCMinutes(),2,"0"),hp(n.getUTCSeconds(),2,"0"),t?"Z":""].join("")},EB=function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/,n=t.exec(e);if(!n)throw new Error("Invalid UNTIL value: ".concat(e));return new Date(Date.UTC(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10),parseInt(n[5],10)||0,parseInt(n[6],10)||0,parseInt(n[7],10)||0))},kne=function(e,t){var n=e.toLocaleString("sv-SE",{timeZone:t});return n.replace(" ","T")+"Z"},Fkt=function(e,t){var n=Intl.DateTimeFormat().resolvedOptions().timeZone,r=new Date(kne(e,n)),s=new Date(kne(e,t??"UTC")),a=s.getTime()-r.getTime();return new Date(e.getTime()-a)},Vp=function(){function e(t,n){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=t,this.args=n,t==="between"?(this.maxDate=n.inc?n.before:new Date(n.before.getTime()-1),this.minDate=n.inc?n.after:new Date(n.after.getTime()+1)):t==="before"?this.maxDate=n.inc?n.dt:new Date(n.dt.getTime()-1):t==="after"&&(this.minDate=n.inc?n.dt:new Date(n.dt.getTime()+1))}return e.prototype.accept=function(t){++this.total;var n=this.minDate&&t<this.minDate,r=this.maxDate&&t>this.maxDate;if(this.method==="between"){if(n)return!0;if(r)return!1}else if(this.method==="before"){if(r)return!1}else if(this.method==="after")return n?!0:(this.add(t),!1);return this.add(t)},e.prototype.add=function(t){return this._result.push(t),!0},e.prototype.getValue=function(){var t=this._result;switch(this.method){case"all":case"between":return t;case"before":case"after":default:return t.length?t[t.length-1]:null}},e.prototype.clone=function(){return new e(this.method,this.args)},e}(),Ene=function(e){nP(t,e);function t(n,r,s){var a=e.call(this,n,r)||this;return a.iterator=s,a}return t.prototype.add=function(n){return this.iterator(n,this._result.length)?(this._result.push(n),!0):!1},t}(Vp),A6={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},Tne=function(e,t){return e.indexOf(t)!==-1},Ukt=function(e){return e.toString()},Bkt=function(e,t,n){return"".concat(t," ").concat(n,", ").concat(e)},Tu=function(){function e(t,n,r,s){if(n===void 0&&(n=Ukt),r===void 0&&(r=A6),s===void 0&&(s=Bkt),this.text=[],this.language=r||A6,this.gettext=n,this.dateFormatter=s,this.rrule=t,this.options=t.options,this.origOptions=t.origOptions,this.origOptions.bymonthday){var a=[].concat(this.options.bymonthday),i=[].concat(this.options.bynmonthday);a.sort(function(d,h){return d-h}),i.sort(function(d,h){return h-d}),this.bymonthday=a.concat(i),this.bymonthday.length||(this.bymonthday=null)}if(ns(this.origOptions.byweekday)){var l=wi(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],c=String(l);this.byweekday={allWeeks:l.filter(function(d){return!d.n}),someWeeks:l.filter(function(d){return!!d.n}),isWeekdays:c.indexOf("MO")!==-1&&c.indexOf("TU")!==-1&&c.indexOf("WE")!==-1&&c.indexOf("TH")!==-1&&c.indexOf("FR")!==-1&&c.indexOf("SA")===-1&&c.indexOf("SU")===-1,isEveryDay:c.indexOf("MO")!==-1&&c.indexOf("TU")!==-1&&c.indexOf("WE")!==-1&&c.indexOf("TH")!==-1&&c.indexOf("FR")!==-1&&c.indexOf("SA")!==-1&&c.indexOf("SU")!==-1};var u=function(d,h){return d.weekday-h.weekday};this.byweekday.allWeeks.sort(u),this.byweekday.someWeeks.sort(u),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return e.isFullyConvertible=function(t){var n=!0;if(!(t.options.freq in e.IMPLEMENTED)||t.origOptions.until&&t.origOptions.count)return!1;for(var r in t.origOptions){if(Tne(["dtstart","tzid","wkst","freq"],r))return!0;if(!Tne(e.IMPLEMENTED[t.options.freq],r))return!1}return n},e.prototype.isFullyConvertible=function(){return e.isFullyConvertible(this.rrule)},e.prototype.toString=function(){var t=this.gettext;if(!(this.options.freq in e.IMPLEMENTED))return t("RRule error: Unable to fully convert this rrule to text");if(this.text=[t("every")],this[Wt.FREQUENCIES[this.options.freq]](),this.options.until){this.add(t("until"));var n=this.options.until;this.add(this.dateFormatter(n.getUTCFullYear(),this.language.monthNames[n.getUTCMonth()],n.getUTCDate()))}else this.options.count&&this.add(t("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?t("times"):t("time"));return this.isFullyConvertible()||this.add(t("(~ approximate)")),this.text.join("")},e.prototype.HOURLY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("hours"):t("hour"))},e.prototype.MINUTELY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("minutes"):t("minute"))},e.prototype.DAILY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?t("weekdays"):t("weekday")):this.add(this.plural(this.options.interval)?t("days"):t("day")),this.origOptions.bymonth&&(this.add(t("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},e.prototype.WEEKLY=function(){var t=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?t("weeks"):t("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?t("weekdays"):t("weekday")):this.add(t("on")).add(t("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?t("days"):t("day")):(this.options.interval===1&&this.add(t("week")),this.origOptions.bymonth&&(this.add(t("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.origOptions.byhour&&this._byhour())},e.prototype.MONTHLY=function(){var t=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(t("months")),this.plural(this.options.interval)&&this.add(t("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("months"):t("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(t("on")).add(t("weekdays")):this.byweekday&&this._byweekday()},e.prototype.YEARLY=function(){var t=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(t("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?t("years"):t("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(t("on the")).add(this.list(this.options.byyearday,this.nth,t("and"))).add(t("day")),this.options.byweekno&&this.add(t("in")).add(this.plural(this.options.byweekno.length)?t("weeks"):t("week")).add(this.list(this.options.byweekno,void 0,t("and")))},e.prototype._bymonthday=function(){var t=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(t("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,t("or"))).add(t("the")).add(this.list(this.bymonthday,this.nth,t("or"))):this.add(t("on the")).add(this.list(this.bymonthday,this.nth,t("and")))},e.prototype._byweekday=function(){var t=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(t("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(t("and")),this.add(t("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,t("and"))))},e.prototype._byhour=function(){var t=this.gettext;this.add(t("at")).add(this.list(this.origOptions.byhour,void 0,t("and")))},e.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},e.prototype.nth=function(t){t=parseInt(t.toString(),10);var n,r=this.gettext;if(t===-1)return r("last");var s=Math.abs(t);switch(s){case 1:case 21:case 31:n=s+r("st");break;case 2:case 22:n=s+r("nd");break;case 3:case 23:n=s+r("rd");break;default:n=s+r("th")}return t<0?n+" "+r("last"):n},e.prototype.monthtext=function(t){return this.language.monthNames[t-1]},e.prototype.weekdaytext=function(t){var n=pl(t)?(t+1)%7:t.getJsWeekday();return(t.n?this.nth(t.n)+" ":"")+this.language.dayNames[n]},e.prototype.plural=function(t){return t%100!==1},e.prototype.add=function(t){return this.text.push(" "),this.text.push(t),this},e.prototype.list=function(t,n,r,s){var a=this;s===void 0&&(s=","),wi(t)||(t=[t]);var i=function(c,u,d){for(var h="",m=0;m<c.length;m++)m!==0&&(m===c.length-1?h+=" "+d+" ":h+=u+" "),h+=c[m];return h};n=n||function(c){return c.toString()};var l=function(c){return n&&n.call(a,c)};return r?i(t.map(l),s,r):t.map(l).join(s+" ")},e}(),Vkt=function(){function e(t){this.done=!0,this.rules=t}return e.prototype.start=function(t){return this.text=t,this.done=!1,this.nextSymbol()},e.prototype.isDone=function(){return this.done&&this.symbol===null},e.prototype.nextSymbol=function(){var t,n;this.symbol=null,this.value=null;do{if(this.done)return!1;var r=void 0;t=null;for(var s in this.rules){r=this.rules[s];var a=r.exec(this.text);a&&(t===null||a[0].length>t[0].length)&&(t=a,n=s)}if(t!=null&&(this.text=this.text.substr(t[0].length),this.text===""&&(this.done=!0)),t==null){this.done=!0,this.symbol=null,this.value=null;return}}while(n==="SKIP");return this.symbol=n,this.value=t,!0},e.prototype.accept=function(t){if(this.symbol===t){if(this.value){var n=this.value;return this.nextSymbol(),n}return this.nextSymbol(),!0}return!1},e.prototype.acceptNumber=function(){return this.accept("number")},e.prototype.expect=function(t){if(this.accept(t))return!0;throw new Error("expected "+t+" but found "+this.symbol)},e}();function DMe(e,t){t===void 0&&(t=A6);var n={},r=new Vkt(t.tokens);if(!r.start(e))return null;return s(),n;function s(){r.expect("every");var m=r.acceptNumber();if(m&&(n.interval=parseInt(m[0],10)),r.isDone())throw new Error("Unexpected end");switch(r.symbol){case"day(s)":n.freq=Wt.DAILY,r.nextSymbol()&&(i(),h());break;case"weekday(s)":n.freq=Wt.WEEKLY,n.byweekday=[Wt.MO,Wt.TU,Wt.WE,Wt.TH,Wt.FR],r.nextSymbol(),i(),h();break;case"week(s)":n.freq=Wt.WEEKLY,r.nextSymbol()&&(a(),i(),h());break;case"hour(s)":n.freq=Wt.HOURLY,r.nextSymbol()&&(a(),h());break;case"minute(s)":n.freq=Wt.MINUTELY,r.nextSymbol()&&(a(),h());break;case"month(s)":n.freq=Wt.MONTHLY,r.nextSymbol()&&(a(),h());break;case"year(s)":n.freq=Wt.YEARLY,r.nextSymbol()&&(a(),h());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":n.freq=Wt.WEEKLY;var g=r.symbol.substr(0,2).toUpperCase();if(n.byweekday=[Wt[g]],!r.nextSymbol())return;for(;r.accept("comma");){if(r.isDone())throw new Error("Unexpected end");var v=c();if(!v)throw new Error("Unexpected symbol "+r.symbol+", expected weekday");n.byweekday.push(Wt[v]),r.nextSymbol()}i(),d(),h();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(n.freq=Wt.YEARLY,n.bymonth=[l()],!r.nextSymbol())return;for(;r.accept("comma");){if(r.isDone())throw new Error("Unexpected end");var x=l();if(!x)throw new Error("Unexpected symbol "+r.symbol+", expected month");n.bymonth.push(x),r.nextSymbol()}a(),h();break;default:throw new Error("Unknown symbol")}}function a(){var m=r.accept("on"),g=r.accept("the");if(m||g)do{var v=u(),x=c(),b=l();if(v)x?(r.nextSymbol(),n.byweekday||(n.byweekday=[]),n.byweekday.push(Wt[x].nth(v))):(n.bymonthday||(n.bymonthday=[]),n.bymonthday.push(v),r.accept("day(s)"));else if(x)r.nextSymbol(),n.byweekday||(n.byweekday=[]),n.byweekday.push(Wt[x]);else if(r.symbol==="weekday(s)")r.nextSymbol(),n.byweekday||(n.byweekday=[Wt.MO,Wt.TU,Wt.WE,Wt.TH,Wt.FR]);else if(r.symbol==="week(s)"){r.nextSymbol();var w=r.acceptNumber();if(!w)throw new Error("Unexpected symbol "+r.symbol+", expected week number");for(n.byweekno=[parseInt(w[0],10)];r.accept("comma");){if(w=r.acceptNumber(),!w)throw new Error("Unexpected symbol "+r.symbol+"; expected monthday");n.byweekno.push(parseInt(w[0],10))}}else if(b)r.nextSymbol(),n.bymonth||(n.bymonth=[]),n.bymonth.push(b);else return}while(r.accept("comma")||r.accept("the")||r.accept("on"))}function i(){var m=r.accept("at");if(m)do{var g=r.acceptNumber();if(!g)throw new Error("Unexpected symbol "+r.symbol+", expected hour");for(n.byhour=[parseInt(g[0],10)];r.accept("comma");){if(g=r.acceptNumber(),!g)throw new Error("Unexpected symbol "+r.symbol+"; expected hour");n.byhour.push(parseInt(g[0],10))}}while(r.accept("comma")||r.accept("at"))}function l(){switch(r.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function c(){switch(r.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return r.symbol.substr(0,2).toUpperCase();default:return!1}}function u(){switch(r.symbol){case"last":return r.nextSymbol(),-1;case"first":return r.nextSymbol(),1;case"second":return r.nextSymbol(),r.accept("last")?-2:2;case"third":return r.nextSymbol(),r.accept("last")?-3:3;case"nth":var m=parseInt(r.value[1],10);if(m<-366||m>366)throw new Error("Nth out of range: "+m);return r.nextSymbol(),r.accept("last")?-m:m;default:return!1}}function d(){r.accept("on"),r.accept("the");var m=u();if(m)for(n.bymonthday=[m],r.nextSymbol();r.accept("comma");){if(m=u(),!m)throw new Error("Unexpected symbol "+r.symbol+"; expected monthday");n.bymonthday.push(m),r.nextSymbol()}}function h(){if(r.symbol==="until"){var m=Date.parse(r.text);if(!m)throw new Error("Cannot parse until date:"+r.text);n.until=new Date(m)}else r.accept("for")&&(n.count=parseInt(r.value[0],10),r.expect("number"))}}var jn;(function(e){e[e.YEARLY=0]="YEARLY",e[e.MONTHLY=1]="MONTHLY",e[e.WEEKLY=2]="WEEKLY",e[e.DAILY=3]="DAILY",e[e.HOURLY=4]="HOURLY",e[e.MINUTELY=5]="MINUTELY",e[e.SECONDLY=6]="SECONDLY"})(jn||(jn={}));function TB(e){return e<jn.HOURLY}var zkt=function(e,t){return t===void 0&&(t=A6),new Wt(DMe(e,t)||void 0)},Jg=["count","until","interval","byweekday","bymonthday","bymonth"];Tu.IMPLEMENTED=[];Tu.IMPLEMENTED[jn.HOURLY]=Jg;Tu.IMPLEMENTED[jn.MINUTELY]=Jg;Tu.IMPLEMENTED[jn.DAILY]=["byhour"].concat(Jg);Tu.IMPLEMENTED[jn.WEEKLY]=Jg;Tu.IMPLEMENTED[jn.MONTHLY]=Jg;Tu.IMPLEMENTED[jn.YEARLY]=["byweekno","byyearday"].concat(Jg);var Hkt=function(e,t,n,r){return new Tu(e,t,n,r).toString()},Wkt=Tu.isFullyConvertible,R6=function(){function e(t,n,r,s){this.hour=t,this.minute=n,this.second=r,this.millisecond=s||0}return e.prototype.getHours=function(){return this.hour},e.prototype.getMinutes=function(){return this.minute},e.prototype.getSeconds=function(){return this.second},e.prototype.getMilliseconds=function(){return this.millisecond},e.prototype.getTime=function(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond},e}(),$kt=function(e){nP(t,e);function t(n,r,s,a,i,l,c){var u=e.call(this,a,i,l,c)||this;return u.year=n,u.month=r,u.day=s,u}return t.fromDate=function(n){return new this(n.getUTCFullYear(),n.getUTCMonth()+1,n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.valueOf()%1e3)},t.prototype.getWeekday=function(){return Q1(new Date(this.getTime()))},t.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},t.prototype.getDay=function(){return this.day},t.prototype.getMonth=function(){return this.month},t.prototype.getYear=function(){return this.year},t.prototype.addYears=function(n){this.year+=n},t.prototype.addMonths=function(n){if(this.month+=n,this.month>12){var r=Math.floor(this.month/12),s=Ji(this.month,12);this.month=s,this.year+=r,this.month===0&&(this.month=12,--this.year)}},t.prototype.addWeekly=function(n,r){r>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-r))+n*7:this.day+=-(this.getWeekday()-r)+n*7,this.fixDay()},t.prototype.addDaily=function(n){this.day+=n,this.fixDay()},t.prototype.addHours=function(n,r,s){for(r&&(this.hour+=Math.floor((23-this.hour)/n)*n);;){this.hour+=n;var a=DT(this.hour,24),i=a.div,l=a.mod;if(i&&(this.hour=l,this.addDaily(i)),bl(s)||ar(s,this.hour))break}},t.prototype.addMinutes=function(n,r,s,a){for(r&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/n)*n);;){this.minute+=n;var i=DT(this.minute,60),l=i.div,c=i.mod;if(l&&(this.minute=c,this.addHours(l,!1,s)),(bl(s)||ar(s,this.hour))&&(bl(a)||ar(a,this.minute)))break}},t.prototype.addSeconds=function(n,r,s,a,i){for(r&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/n)*n);;){this.second+=n;var l=DT(this.second,60),c=l.div,u=l.mod;if(c&&(this.second=u,this.addMinutes(c,!1,s,a)),(bl(s)||ar(s,this.hour))&&(bl(a)||ar(a,this.minute))&&(bl(i)||ar(i,this.second)))break}},t.prototype.fixDay=function(){if(!(this.day<=28)){var n=Sne(this.year,this.month-1)[1];if(!(this.day<=n))for(;this.day>n;){if(this.day-=n,++this.month,this.month===13&&(this.month=1,++this.year,this.year>RMe))return;n=Sne(this.year,this.month-1)[1]}}},t.prototype.add=function(n,r){var s=n.freq,a=n.interval,i=n.wkst,l=n.byhour,c=n.byminute,u=n.bysecond;switch(s){case jn.YEARLY:return this.addYears(a);case jn.MONTHLY:return this.addMonths(a);case jn.WEEKLY:return this.addWeekly(a,i);case jn.DAILY:return this.addDaily(a);case jn.HOURLY:return this.addHours(a,r,l);case jn.MINUTELY:return this.addMinutes(a,r,l,c);case jn.SECONDLY:return this.addSeconds(a,r,l,c,u)}},t}(R6);function FMe(e){for(var t=[],n=Object.keys(e),r=0,s=n;r<s.length;r++){var a=s[r];ar(wEt,a)||t.push(a),OMe(e[a])&&!Zv(e[a])&&t.push(a)}if(t.length)throw new Error("Invalid options: "+t.join(", "));return yr({},e)}function qkt(e){var t=yr(yr({},NB),FMe(e));if(ns(t.byeaster)&&(t.freq=Wt.YEARLY),!(ns(t.freq)&&Wt.FREQUENCIES[t.freq]))throw new Error("Invalid frequency: ".concat(t.freq," ").concat(e.freq));if(t.dtstart||(t.dtstart=new Date(new Date().setMilliseconds(0))),ns(t.wkst)?pl(t.wkst)||(t.wkst=t.wkst.weekday):t.wkst=Wt.MO.weekday,ns(t.bysetpos)){pl(t.bysetpos)&&(t.bysetpos=[t.bysetpos]);for(var n=0;n<t.bysetpos.length;n++){var r=t.bysetpos[n];if(r===0||!(r>=-366&&r<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(t.byweekno||Ts(t.byweekno)||Ts(t.byyearday)||t.bymonthday||Ts(t.bymonthday)||ns(t.byweekday)||ns(t.byeaster)))switch(t.freq){case Wt.YEARLY:t.bymonth||(t.bymonth=t.dtstart.getUTCMonth()+1),t.bymonthday=t.dtstart.getUTCDate();break;case Wt.MONTHLY:t.bymonthday=t.dtstart.getUTCDate();break;case Wt.WEEKLY:t.byweekday=[Q1(t.dtstart)];break}if(ns(t.bymonth)&&!wi(t.bymonth)&&(t.bymonth=[t.bymonth]),ns(t.byyearday)&&!wi(t.byyearday)&&pl(t.byyearday)&&(t.byyearday=[t.byyearday]),!ns(t.bymonthday))t.bymonthday=[],t.bynmonthday=[];else if(wi(t.bymonthday)){for(var s=[],a=[],n=0;n<t.bymonthday.length;n++){var r=t.bymonthday[n];r>0?s.push(r):r<0&&a.push(r)}t.bymonthday=s,t.bynmonthday=a}else t.bymonthday<0?(t.bynmonthday=[t.bymonthday],t.bymonthday=[]):(t.bynmonthday=[],t.bymonthday=[t.bymonthday]);if(ns(t.byweekno)&&!wi(t.byweekno)&&(t.byweekno=[t.byweekno]),!ns(t.byweekday))t.bynweekday=null;else if(pl(t.byweekday))t.byweekday=[t.byweekday],t.bynweekday=null;else if(Cne(t.byweekday))t.byweekday=[ka.fromStr(t.byweekday).weekday],t.bynweekday=null;else if(t.byweekday instanceof ka)!t.byweekday.n||t.freq>Wt.MONTHLY?(t.byweekday=[t.byweekday.weekday],t.bynweekday=null):(t.bynweekday=[[t.byweekday.weekday,t.byweekday.n]],t.byweekday=null);else{for(var i=[],l=[],n=0;n<t.byweekday.length;n++){var c=t.byweekday[n];if(pl(c)){i.push(c);continue}else if(Cne(c)){i.push(ka.fromStr(c).weekday);continue}!c.n||t.freq>Wt.MONTHLY?i.push(c.weekday):l.push([c.weekday,c.n])}t.byweekday=Ts(i)?i:null,t.bynweekday=Ts(l)?l:null}return ns(t.byhour)?pl(t.byhour)&&(t.byhour=[t.byhour]):t.byhour=t.freq<Wt.HOURLY?[t.dtstart.getUTCHours()]:null,ns(t.byminute)?pl(t.byminute)&&(t.byminute=[t.byminute]):t.byminute=t.freq<Wt.MINUTELY?[t.dtstart.getUTCMinutes()]:null,ns(t.bysecond)?pl(t.bysecond)&&(t.bysecond=[t.bysecond]):t.bysecond=t.freq<Wt.SECONDLY?[t.dtstart.getUTCSeconds()]:null,{parsedOptions:t}}function Gkt(e){var t=e.dtstart.getTime()%1e3;if(!TB(e.freq))return[];var n=[];return e.byhour.forEach(function(r){e.byminute.forEach(function(s){e.bysecond.forEach(function(a){n.push(new R6(r,s,a,t))})})}),n}function KL(e){var t=e.split(`
`).map(Ykt).filter(function(n){return n!==null});return yr(yr({},t[0]),t[1])}function L6(e){var t={},n=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(e);if(!n)return t;var r=n[1],s=n[2];return r&&(t.tzid=r),t.dtstart=EB(s),t}function Ykt(e){if(e=e.replace(/^\s+|\s+$/,""),!e.length)return null;var t=/^([A-Z]+?)[:;]/.exec(e.toUpperCase());if(!t)return Nne(e);var n=t[1];switch(n.toUpperCase()){case"RRULE":case"EXRULE":return Nne(e);case"DTSTART":return L6(e);default:throw new Error("Unsupported RFC prop ".concat(n," in ").concat(e))}}function Nne(e){var t=e.replace(/^RRULE:/i,""),n=L6(t),r=e.replace(/^(?:RRULE|EXRULE):/i,"").split(";");return r.forEach(function(s){var a=s.split("="),i=a[0],l=a[1];switch(i.toUpperCase()){case"FREQ":n.freq=jn[l.toUpperCase()];break;case"WKST":n.wkst=Ro[l.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var c=Kkt(l),u=i.toLowerCase();n[u]=c;break;case"BYWEEKDAY":case"BYDAY":n.byweekday=Qkt(l);break;case"DTSTART":case"TZID":var d=L6(e);n.tzid=d.tzid,n.dtstart=d.dtstart;break;case"UNTIL":n.until=EB(l);break;case"BYEASTER":n.byeaster=Number(l);break;default:throw new Error("Unknown RRULE property '"+i+"'")}}),n}function Kkt(e){if(e.indexOf(",")!==-1){var t=e.split(",");return t.map(jne)}return jne(e)}function jne(e){return/^[+-]?\d+$/.test(e)?Number(e):e}function Qkt(e){var t=e.split(",");return t.map(function(n){if(n.length===2)return Ro[n];var r=n.match(/^([+-]?\d{1,2})([A-Z]{2})$/);if(!r||r.length<3)throw new SyntaxError("Invalid weekday string: ".concat(n));var s=Number(r[1]),a=r[2],i=Ro[a].weekday;return new ka(i,s)})}var O6=function(){function e(t,n){if(isNaN(t.getTime()))throw new RangeError("Invalid date passed to DateWithZone");this.date=t,this.tzid=n}return Object.defineProperty(e.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var t=kB(this.date.getTime(),this.isUTC);return this.isUTC?":".concat(t):";TZID=".concat(this.tzid,":").concat(t)},e.prototype.getTime=function(){return this.date.getTime()},e.prototype.rezonedDate=function(){return this.isUTC?this.date:Fkt(this.date,this.tzid)},e}();function QL(e){for(var t=[],n="",r=Object.keys(e),s=Object.keys(NB),a=0;a<r.length;a++)if(r[a]!=="tzid"&&ar(s,r[a])){var i=r[a].toUpperCase(),l=e[r[a]],c="";if(!(!ns(l)||wi(l)&&!l.length)){switch(i){case"FREQ":c=Wt.FREQUENCIES[e.freq];break;case"WKST":pl(l)?c=new ka(l).toString():c=l.toString();break;case"BYWEEKDAY":i="BYDAY",c=Rkt(l).map(function(g){return g instanceof ka?g:wi(g)?new ka(g[0],g[1]):new ka(g)}).toString();break;case"DTSTART":n=Xkt(l,e.tzid);break;case"UNTIL":c=kB(l,!e.tzid);break;default:if(wi(l)){for(var u=[],d=0;d<l.length;d++)u[d]=String(l[d]);c=u.toString()}else c=String(l)}c&&t.push([i,c])}}var h=t.map(function(g){var v=g[0],x=g[1];return"".concat(v,"=").concat(x.toString())}).join(";"),m="";return h!==""&&(m="RRULE:".concat(h)),[n,m].filter(function(g){return!!g}).join(`
`)}function Xkt(e,t){return e?"DTSTART"+new O6(new Date(e),t).toString():""}function Zkt(e,t){return Array.isArray(e)?!Array.isArray(t)||e.length!==t.length?!1:e.every(function(n,r){return n.getTime()===t[r].getTime()}):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():e===t}var Jkt=function(){function e(){this.all=!1,this.before=[],this.after=[],this.between=[]}return e.prototype._cacheAdd=function(t,n,r){n&&(n=n instanceof Date?YL(n):Mne(n)),t==="all"?this.all=n:(r._value=n,this[t].push(r))},e.prototype._cacheGet=function(t,n){var r=!1,s=n?Object.keys(n):[],a=function(d){for(var h=0;h<s.length;h++){var m=s[h];if(!Zkt(n[m],d[m]))return!0}return!1},i=this[t];if(t==="all")r=this.all;else if(wi(i))for(var l=0;l<i.length;l++){var c=i[l];if(!(s.length&&a(c))){r=c._value;break}}if(!r&&this.all){for(var u=new Vp(t,n),l=0;l<this.all.length&&u.accept(this.all[l]);l++);r=u.getValue(),this._cacheAdd(t,r,n)}return wi(r)?Mne(r):r instanceof Date?YL(r):r},e}(),eEt=lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt([],Nn(1,31),!0),Nn(2,28),!0),Nn(3,31),!0),Nn(4,30),!0),Nn(5,31),!0),Nn(6,30),!0),Nn(7,31),!0),Nn(8,31),!0),Nn(9,30),!0),Nn(10,31),!0),Nn(11,30),!0),Nn(12,31),!0),Nn(1,7),!0),tEt=lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt([],Nn(1,31),!0),Nn(2,29),!0),Nn(3,31),!0),Nn(4,30),!0),Nn(5,31),!0),Nn(6,30),!0),Nn(7,31),!0),Nn(8,31),!0),Nn(9,30),!0),Nn(10,31),!0),Nn(11,30),!0),Nn(12,31),!0),Nn(1,7),!0),nEt=ic(1,29),rEt=ic(1,30),wd=ic(1,31),oa=ic(1,32),sEt=lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt([],oa,!0),rEt,!0),oa,!0),wd,!0),oa,!0),wd,!0),oa,!0),oa,!0),wd,!0),oa,!0),wd,!0),oa,!0),oa.slice(0,7),!0),aEt=lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt([],oa,!0),nEt,!0),oa,!0),wd,!0),oa,!0),wd,!0),oa,!0),oa,!0),wd,!0),oa,!0),wd,!0),oa,!0),oa.slice(0,7),!0),iEt=ic(-28,0),oEt=ic(-29,0),_d=ic(-30,0),la=ic(-31,0),lEt=lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt([],la,!0),oEt,!0),la,!0),_d,!0),la,!0),_d,!0),la,!0),la,!0),_d,!0),la,!0),_d,!0),la,!0),la.slice(0,7),!0),cEt=lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt(lt([],la,!0),iEt,!0),la,!0),_d,!0),la,!0),_d,!0),la,!0),la,!0),_d,!0),la,!0),_d,!0),la,!0),la.slice(0,7),!0),uEt=[0,31,60,91,121,152,182,213,244,274,305,335,366],dEt=[0,31,59,90,120,151,181,212,243,273,304,334,365],Ane=function(){for(var e=[],t=0;t<55;t++)e=e.concat(ic(7));return e}();function fEt(e,t){var n=Gh(e,1,1),r=O2(e)?366:365,s=O2(e+1)?366:365,a=GL(n),i=Q1(n),l=yr(yr({yearlen:r,nextyearlen:s,yearordinal:a,yearweekday:i},hEt(e)),{wnomask:null});if(bl(t.byweekno))return l;l.wnomask=Nn(0,r+7);var c,u,d=c=Ji(7-i+t.wkst,7);d>=4?(d=0,u=l.yearlen+Ji(i-t.wkst,7)):u=r-d;for(var h=Math.floor(u/7),m=Ji(u,7),g=Math.floor(h+m/4),v=0;v<t.byweekno.length;v++){var x=t.byweekno[v];if(x<0&&(x+=g+1),x>0&&x<=g){var b=void 0;x>1?(b=d+(x-1)*7,d!==c&&(b-=7-c)):b=d;for(var w=0;w<7&&(l.wnomask[b]=1,b++,l.wdaymask[b]!==t.wkst);w++);}}if(ar(t.byweekno,1)){var b=d+g*7;if(d!==c&&(b-=7-c),b<r)for(var v=0;v<7&&(l.wnomask[b]=1,b+=1,l.wdaymask[b]!==t.wkst);v++);}if(d){var C=void 0;if(ar(t.byweekno,-1))C=-1;else{var S=Q1(Gh(e-1,1,1)),k=Ji(7-S.valueOf()+t.wkst,7),E=O2(e-1)?366:365,T=void 0;k>=4?(k=0,T=E+Ji(S-t.wkst,7)):T=r-d,C=Math.floor(52+Ji(T,7)/4)}if(ar(t.byweekno,C))for(var b=0;b<d;b++)l.wnomask[b]=1}return l}function hEt(e){var t=O2(e)?366:365,n=Gh(e,1,1),r=Q1(n);return t===365?{mmask:eEt,mdaymask:aEt,nmdaymask:cEt,wdaymask:Ane.slice(r),mrange:dEt}:{mmask:tEt,mdaymask:sEt,nmdaymask:lEt,wdaymask:Ane.slice(r),mrange:uEt}}function mEt(e,t,n,r,s,a){var i={lastyear:e,lastmonth:t,nwdaymask:[]},l=[];if(a.freq===Wt.YEARLY)if(bl(a.bymonth))l=[[0,n]];else for(var c=0;c<a.bymonth.length;c++)t=a.bymonth[c],l.push(r.slice(t-1,t+1));else a.freq===Wt.MONTHLY&&(l=[r.slice(t-1,t+1)]);if(bl(l))return i;i.nwdaymask=Nn(0,n);for(var c=0;c<l.length;c++)for(var u=l[c],d=u[0],h=u[1]-1,m=0;m<a.bynweekday.length;m++){var g=void 0,v=a.bynweekday[m],x=v[0],b=v[1];b<0?(g=h+(b+1)*7,g-=Ji(s[g]-x,7)):(g=d+(b-1)*7,g+=Ji(7-s[g]+x,7)),d<=g&&g<=h&&(i.nwdaymask[g]=1)}return i}function pEt(e,t){t===void 0&&(t=0);var n=e%19,r=Math.floor(e/100),s=e%100,a=Math.floor(r/4),i=r%4,l=Math.floor((r+8)/25),c=Math.floor((r-l+1)/3),u=Math.floor(19*n+r-a-c+15)%30,d=Math.floor(s/4),h=s%4,m=Math.floor(32+2*i+2*d-u-h)%7,g=Math.floor((n+11*u+22*m)/451),v=Math.floor((u+m-7*g+114)/31),x=(u+m-7*g+114)%31+1,b=Date.UTC(e,v-1,x+t),w=Date.UTC(e,0,1);return[Math.ceil((b-w)/(1e3*60*60*24))]}var gEt=function(){function e(t){this.options=t}return e.prototype.rebuild=function(t,n){var r=this.options;if(t!==this.lastyear&&(this.yearinfo=fEt(t,r)),Ts(r.bynweekday)&&(n!==this.lastmonth||t!==this.lastyear)){var s=this.yearinfo,a=s.yearlen,i=s.mrange,l=s.wdaymask;this.monthinfo=mEt(t,n,a,i,l,r)}ns(r.byeaster)&&(this.eastermask=pEt(t,r.byeaster))},Object.defineProperty(e.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!1,configurable:!0}),e.prototype.ydayset=function(){return[ic(this.yearlen),0,this.yearlen]},e.prototype.mdayset=function(t,n){for(var r=this.mrange[n-1],s=this.mrange[n],a=Nn(null,this.yearlen),i=r;i<s;i++)a[i]=i;return[a,r,s]},e.prototype.wdayset=function(t,n,r){for(var s=Nn(null,this.yearlen+7),a=GL(Gh(t,n,r))-this.yearordinal,i=a,l=0;l<7&&(s[a]=a,++a,this.wdaymask[a]!==this.options.wkst);l++);return[s,i,a]},e.prototype.ddayset=function(t,n,r){var s=Nn(null,this.yearlen),a=GL(Gh(t,n,r))-this.yearordinal;return s[a]=a,[s,a,a+1]},e.prototype.htimeset=function(t,n,r,s){var a=this,i=[];return this.options.byminute.forEach(function(l){i=i.concat(a.mtimeset(t,l,r,s))}),Vy(i),i},e.prototype.mtimeset=function(t,n,r,s){var a=this.options.bysecond.map(function(i){return new R6(t,n,i,s)});return Vy(a),a},e.prototype.stimeset=function(t,n,r,s){return[new R6(t,n,r,s)]},e.prototype.getdayset=function(t){switch(t){case jn.YEARLY:return this.ydayset.bind(this);case jn.MONTHLY:return this.mdayset.bind(this);case jn.WEEKLY:return this.wdayset.bind(this);case jn.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}},e.prototype.gettimeset=function(t){switch(t){case jn.HOURLY:return this.htimeset.bind(this);case jn.MINUTELY:return this.mtimeset.bind(this);case jn.SECONDLY:return this.stimeset.bind(this)}},e}();function vEt(e,t,n,r,s,a){for(var i=[],l=0;l<e.length;l++){var c=void 0,u=void 0,d=e[l];d<0?(c=Math.floor(d/t.length),u=Ji(d,t.length)):(c=Math.floor((d-1)/t.length),u=Ji(d-1,t.length));for(var h=[],m=n;m<r;m++){var g=a[m];ns(g)&&h.push(g)}var v=void 0;c<0?v=h.slice(c)[0]:v=h[c];var x=t[u],b=PMe(s.yearordinal+v),w=IMe(b,x);ar(i,w)||i.push(w)}return Vy(i),i}function UMe(e,t){var n=t.dtstart,r=t.freq,s=t.interval,a=t.until,i=t.bysetpos,l=t.count;if(l===0||s===0)return Nc(e);var c=$kt.fromDate(n),u=new gEt(t);u.rebuild(c.year,c.month);for(var d=bEt(u,c,t);;){var h=u.getdayset(r)(c.year,c.month,c.day),m=h[0],g=h[1],v=h[2],x=xEt(m,g,v,u,t);if(Ts(i))for(var b=vEt(i,d,g,v,u,m),w=0;w<b.length;w++){var C=b[w];if(a&&C>a)return Nc(e);if(C>=n){var S=Rne(C,t);if(!e.accept(S)||l&&(--l,!l))return Nc(e)}}else for(var w=g;w<v;w++){var k=m[w];if(ns(k))for(var E=PMe(u.yearordinal+k),T=0;T<d.length;T++){var j=d[T],C=IMe(E,j);if(a&&C>a)return Nc(e);if(C>=n){var S=Rne(C,t);if(!e.accept(S)||l&&(--l,!l))return Nc(e)}}}if(t.interval===0||(c.add(t,x),c.year>RMe))return Nc(e);TB(r)||(d=u.gettimeset(r)(c.hour,c.minute,c.second,0)),u.rebuild(c.year,c.month)}}function yEt(e,t,n){var r=n.bymonth,s=n.byweekno,a=n.byweekday,i=n.byeaster,l=n.bymonthday,c=n.bynmonthday,u=n.byyearday;return Ts(r)&&!ar(r,e.mmask[t])||Ts(s)&&!e.wnomask[t]||Ts(a)&&!ar(a,e.wdaymask[t])||Ts(e.nwdaymask)&&!e.nwdaymask[t]||i!==null&&!ar(e.eastermask,t)||(Ts(l)||Ts(c))&&!ar(l,e.mdaymask[t])&&!ar(c,e.nmdaymask[t])||Ts(u)&&(t<e.yearlen&&!ar(u,t+1)&&!ar(u,-e.yearlen+t)||t>=e.yearlen&&!ar(u,t+1-e.yearlen)&&!ar(u,-e.nextyearlen+t-e.yearlen))}function Rne(e,t){return new O6(e,t.tzid).rezonedDate()}function Nc(e){return e.getValue()}function xEt(e,t,n,r,s){for(var a=!1,i=t;i<n;i++){var l=e[i];a=yEt(r,l,s),a&&(e[l]=null)}return a}function bEt(e,t,n){var r=n.freq,s=n.byhour,a=n.byminute,i=n.bysecond;return TB(r)?Gkt(n):r>=Wt.HOURLY&&Ts(s)&&!ar(s,t.hour)||r>=Wt.MINUTELY&&Ts(a)&&!ar(a,t.minute)||r>=Wt.SECONDLY&&Ts(i)&&!ar(i,t.second)?[]:e.gettimeset(r)(t.hour,t.minute,t.second,t.millisecond)}var Ro={MO:new ka(0),TU:new ka(1),WE:new ka(2),TH:new ka(3),FR:new ka(4),SA:new ka(5),SU:new ka(6)},NB={freq:jn.YEARLY,dtstart:null,interval:1,wkst:Ro.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},wEt=Object.keys(NB),Wt=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=!1),this._cache=n?null:new Jkt,this.origOptions=FMe(t);var r=qkt(t).parsedOptions;this.options=r}return e.parseText=function(t,n){return DMe(t,n)},e.fromText=function(t,n){return zkt(t,n)},e.fromString=function(t){return new e(e.parseString(t)||void 0)},e.prototype._iter=function(t){return UMe(t,this.options)},e.prototype._cacheGet=function(t,n){return this._cache?this._cache._cacheGet(t,n):!1},e.prototype._cacheAdd=function(t,n,r){if(this._cache)return this._cache._cacheAdd(t,n,r)},e.prototype.all=function(t){if(t)return this._iter(new Ene("all",{},t));var n=this._cacheGet("all");return n===!1&&(n=this._iter(new Vp("all",{})),this._cacheAdd("all",n)),n},e.prototype.between=function(t,n,r,s){if(r===void 0&&(r=!1),!Zv(t)||!Zv(n))throw new Error("Invalid date passed in to RRule.between");var a={before:n,after:t,inc:r};if(s)return this._iter(new Ene("between",a,s));var i=this._cacheGet("between",a);return i===!1&&(i=this._iter(new Vp("between",a)),this._cacheAdd("between",i,a)),i},e.prototype.before=function(t,n){if(n===void 0&&(n=!1),!Zv(t))throw new Error("Invalid date passed in to RRule.before");var r={dt:t,inc:n},s=this._cacheGet("before",r);return s===!1&&(s=this._iter(new Vp("before",r)),this._cacheAdd("before",s,r)),s},e.prototype.after=function(t,n){if(n===void 0&&(n=!1),!Zv(t))throw new Error("Invalid date passed in to RRule.after");var r={dt:t,inc:n},s=this._cacheGet("after",r);return s===!1&&(s=this._iter(new Vp("after",r)),this._cacheAdd("after",s,r)),s},e.prototype.count=function(){return this.all().length},e.prototype.toString=function(){return QL(this.origOptions)},e.prototype.toText=function(t,n,r){return Hkt(this,t,n,r)},e.prototype.isFullyConvertibleToText=function(){return Wkt(this)},e.prototype.clone=function(){return new e(this.origOptions)},e.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],e.YEARLY=jn.YEARLY,e.MONTHLY=jn.MONTHLY,e.WEEKLY=jn.WEEKLY,e.DAILY=jn.DAILY,e.HOURLY=jn.HOURLY,e.MINUTELY=jn.MINUTELY,e.SECONDLY=jn.SECONDLY,e.MO=Ro.MO,e.TU=Ro.TU,e.WE=Ro.WE,e.TH=Ro.TH,e.FR=Ro.FR,e.SA=Ro.SA,e.SU=Ro.SU,e.parseString=KL,e.optionsToString=QL,e}();function _Et(e,t,n,r,s,a){var i={},l=e.accept;function c(m,g){n.forEach(function(v){v.between(m,g,!0).forEach(function(x){i[Number(x)]=!0})})}s.forEach(function(m){var g=new O6(m,a).rezonedDate();i[Number(g)]=!0}),e.accept=function(m){var g=Number(m);return isNaN(g)?l.call(this,m):!i[g]&&(c(new Date(g-1),new Date(g+1)),!i[g])?(i[g]=!0,l.call(this,m)):!0},e.method==="between"&&(c(e.args.after,e.args.before),e.accept=function(m){var g=Number(m);return i[g]?!0:(i[g]=!0,l.call(this,m))});for(var u=0;u<r.length;u++){var d=new O6(r[u],a).rezonedDate();if(!e.accept(new Date(d.getTime())))break}t.forEach(function(m){UMe(e,m.options)});var h=e._result;switch(Vy(h),e.method){case"all":case"between":return h;case"before":return h.length&&h[h.length-1]||null;case"after":default:return h.length&&h[0]||null}}var Lne={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function CEt(e,t){var n=[],r=[],s=[],a=[],i=L6(e),l=i.dtstart,c=i.tzid,u=TEt(e,t.unfold);return u.forEach(function(d){var h;if(d){var m=EEt(d),g=m.name,v=m.parms,x=m.value;switch(g.toUpperCase()){case"RRULE":if(v.length)throw new Error("unsupported RRULE parm: ".concat(v.join(",")));n.push(KL(d));break;case"RDATE":var b=(h=/RDATE(?:;TZID=([^:=]+))?/i.exec(d))!==null&&h!==void 0?h:[],w=b[1];w&&!c&&(c=w),r=r.concat(Pne(x,v));break;case"EXRULE":if(v.length)throw new Error("unsupported EXRULE parm: ".concat(v.join(",")));s.push(KL(x));break;case"EXDATE":a=a.concat(Pne(x,v));break;case"DTSTART":break;default:throw new Error("unsupported property: "+g)}}}),{dtstart:l,tzid:c,rrulevals:n,rdatevals:r,exrulevals:s,exdatevals:a}}function SEt(e,t){var n=CEt(e,t),r=n.rrulevals,s=n.rdatevals,a=n.exrulevals,i=n.exdatevals,l=n.dtstart,c=n.tzid,u=t.cache===!1;if(t.compatible&&(t.forceset=!0,t.unfold=!0),t.forceset||r.length>1||s.length||a.length||i.length){var d=new jEt(u);return d.dtstart(l),d.tzid(c||void 0),r.forEach(function(m){d.rrule(new Wt(FT(m,l,c),u))}),s.forEach(function(m){d.rdate(m)}),a.forEach(function(m){d.exrule(new Wt(FT(m,l,c),u))}),i.forEach(function(m){d.exdate(m)}),t.compatible&&t.dtstart&&d.rdate(l),d}var h=r[0]||{};return new Wt(FT(h,h.dtstart||t.dtstart||l,h.tzid||t.tzid||c),u)}function One(e,t){return t===void 0&&(t={}),SEt(e,MEt(t))}function FT(e,t,n){return yr(yr({},e),{dtstart:t,tzid:n})}function MEt(e){var t=[],n=Object.keys(e),r=Object.keys(Lne);if(n.forEach(function(s){ar(r,s)||t.push(s)}),t.length)throw new Error("Invalid options: "+t.join(", "));return yr(yr({},Lne),e)}function kEt(e){if(e.indexOf(":")===-1)return{name:"RRULE",value:e};var t=Lkt(e,":",1),n=t[0],r=t[1];return{name:n,value:r}}function EEt(e){var t=kEt(e),n=t.name,r=t.value,s=n.split(";");if(!s)throw new Error("empty property name");return{name:s[0].toUpperCase(),parms:s.slice(1),value:r}}function TEt(e,t){if(t===void 0&&(t=!1),e=e&&e.trim(),!e)throw new Error("Invalid empty string");if(!t)return e.split(/\s/);for(var n=e.split(`
`),r=0;r<n.length;){var s=n[r]=n[r].replace(/\s+$/g,"");s?r>0&&s[0]===" "?(n[r-1]+=s.slice(1),n.splice(r,1)):r+=1:n.splice(r,1)}return n}function NEt(e){e.forEach(function(t){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(t))throw new Error("unsupported RDATE/EXDATE parm: "+t)})}function Pne(e,t){return NEt(t),e.split(",").map(function(n){return EB(n)})}function Ine(e){var t=this;return function(n){if(n!==void 0&&(t["_".concat(e)]=n),t["_".concat(e)]!==void 0)return t["_".concat(e)];for(var r=0;r<t._rrule.length;r++){var s=t._rrule[r].origOptions[e];if(s)return s}}}var jEt=function(e){nP(t,e);function t(n){n===void 0&&(n=!1);var r=e.call(this,{},n)||this;return r.dtstart=Ine.apply(r,["dtstart"]),r.tzid=Ine.apply(r,["tzid"]),r._rrule=[],r._rdate=[],r._exrule=[],r._exdate=[],r}return t.prototype._iter=function(n){return _Et(n,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},t.prototype.rrule=function(n){Dne(n,this._rrule)},t.prototype.exrule=function(n){Dne(n,this._exrule)},t.prototype.rdate=function(n){Fne(n,this._rdate)},t.prototype.exdate=function(n){Fne(n,this._exdate)},t.prototype.rrules=function(){return this._rrule.map(function(n){return One(n.toString())})},t.prototype.exrules=function(){return this._exrule.map(function(n){return One(n.toString())})},t.prototype.rdates=function(){return this._rdate.map(function(n){return new Date(n.getTime())})},t.prototype.exdates=function(){return this._exdate.map(function(n){return new Date(n.getTime())})},t.prototype.valueOf=function(){var n=[];return!this._rrule.length&&this._dtstart&&(n=n.concat(QL({dtstart:this._dtstart}))),this._rrule.forEach(function(r){n=n.concat(r.toString().split(`
`))}),this._exrule.forEach(function(r){n=n.concat(r.toString().split(`
`).map(function(s){return s.replace(/^RRULE:/,"EXRULE:")}).filter(function(s){return!/^DTSTART/.test(s)}))}),this._rdate.length&&n.push(Une("RDATE",this._rdate,this.tzid())),this._exdate.length&&n.push(Une("EXDATE",this._exdate,this.tzid())),n},t.prototype.toString=function(){return this.valueOf().join(`
`)},t.prototype.clone=function(){var n=new t(!!this._cache);return this._rrule.forEach(function(r){return n.rrule(r.clone())}),this._exrule.forEach(function(r){return n.exrule(r.clone())}),this._rdate.forEach(function(r){return n.rdate(new Date(r.getTime()))}),this._exdate.forEach(function(r){return n.exdate(new Date(r.getTime()))}),n},t}(Wt);function Dne(e,t){if(!(e instanceof Wt))throw new TypeError(String(e)+" is not RRule instance");ar(t.map(String),String(e))||t.push(e)}function Fne(e,t){if(!(e instanceof Date))throw new TypeError(String(e)+" is not Date instance");ar(t.map(Number),Number(e))||(t.push(e),Vy(t))}function Une(e,t,n){var r=!n||n.toUpperCase()==="UTC",s=r?"".concat(e,":"):"".concat(e,";TZID=").concat(n,":"),a=t.map(function(i){return kB(i.valueOf(),r)}).join(",");return"".concat(s).concat(a)}const AEt=e=>{switch(e.kind){case"ONCE":return new Date(e.year,e.month,e.day,e.hour,e.minute);case"DAILY":return new Date(2e3,0,1,e.hour,e.minute);case"WEEKLY":return new Date(2e3,0,2+e.dayOfWeek,e.hour,e.minute);case"MONTHLY":return new Date(2e3,0,e.day,e.hour,e.minute);case"YEARLY":return new Date(2e3,e.month,e.day,e.hour,e.minute);case"WEEKDAYS":return new Date(2e3,0,1,e.hour,e.minute)}};function REt(e,t){const n=AEt(e);switch(e.kind){case"ONCE":return t.formatDate(n,{dateStyle:"medium",timeStyle:"short"});case"DAILY":return t.formatTime(n,{timeStyle:"short"});case"WEEKLY":return t.formatDate(n,{weekday:"short",hour:"numeric",minute:"numeric"});case"MONTHLY":return t.formatMessage({defaultMessage:"Day {day}, {time}",id:"grA/MDsLjr"},{day:n.getDate().toString(),time:t.formatTime(n,{timeStyle:"short"})});case"YEARLY":return t.formatDate(n,{hour:"numeric",minute:"numeric",day:"numeric",month:"short"});case"WEEKDAYS":return t.formatTime(n,{timeStyle:"short"})}}const mp=Ht({kindOnce:{defaultMessage:"Once",id:"DqTQOpG2Me"},kindDaily:{defaultMessage:"Daily",id:"zxvhnETmn2"},kindWeekly:{defaultMessage:"Weekly",id:"/clOBUs/wZ"},kindWeekdays:{defaultMessage:"Every weekday",id:"8Hjql2wdJG"},kindMonthly:{defaultMessage:"Monthly",id:"wYsv4ZHu+B"},kindYearly:{defaultMessage:"Yearly",id:"dqD39hnoA/"}}),LEt={ONCE:mp.kindOnce,DAILY:mp.kindDaily,WEEKLY:mp.kindWeekly,MONTHLY:mp.kindMonthly,YEARLY:mp.kindYearly,WEEKDAYS:mp.kindWeekdays};function OEt(e="",t=Re.PRO,n=["web"]){const r=new Date;return r.setHours(r.getHours()+1,r.getMinutes(),0,0),{title:"",prompt:e,schedule:{kind:"ONCE",minute:r.getMinutes(),hour:r.getHours(),day:r.getDate(),month:r.getMonth(),year:r.getFullYear(),dayOfWeek:r.getDay()},searchModel:t,sources:n}}function PEt(e,t){return t.formatMessage(LEt[e])}const IEt=()=>Intl.DateTimeFormat().resolvedOptions().timeZone;function DEt(e){switch(e.kind){case"ONCE":return new Date(e.year,e.month,e.day,e.hour,e.minute);default:return new Date}}function FEt(e){switch(e.kind){case"ONCE":return"FREQ=DAILY;COUNT=1";case"DAILY":return`FREQ=DAILY;BYHOUR=${e.hour};BYMINUTE=${e.minute}`;case"WEEKLY":return`FREQ=WEEKLY;BYDAY=${["SU","MO","TU","WE","TH","FR","SA"][e.dayOfWeek]};BYHOUR=${e.hour};BYMINUTE=${e.minute}`;case"MONTHLY":return`FREQ=MONTHLY;BYMONTHDAY=${e.day};BYHOUR=${e.hour};BYMINUTE=${e.minute}`;case"YEARLY":return`FREQ=YEARLY;BYMONTH=${e.month+1};BYMONTHDAY=${e.day};BYHOUR=${e.hour};BYMINUTE=${e.minute}`;case"WEEKDAYS":return`FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR;BYHOUR=${e.hour};BYMINUTE=${e.minute}`}}function UT(e){const t=DEt(e);return{start_at:gf(t,"yyyy-MM-dd'T'HH:mm:ss"),rrule:FEt(e),tzid:IEt()}}function XL(e){const t=new Date(e.start_at),n={kind:"ONCE",minute:t.getMinutes(),hour:t.getHours(),day:t.getDate(),month:t.getMonth(),year:t.getFullYear(),dayOfWeek:t.getDay()};if(e.rrule.includes("FREQ=DAILY;COUNT=1"))return n;const r=Wt.parseString(e.rrule),s=d=>Array.isArray(d)?d[0]:d,a=s(r.byhour),i=s(r.byminute),l=s(r.bymonth),c=s(r.bymonthday),u=s(r.byweekday);switch(r.freq){case Wt.DAILY:return a===void 0||i===void 0?(le.error("DAILY schedule missing required BYHOUR or BYMINUTE parameter"),{...n}):{...n,kind:"DAILY",hour:a,minute:i};case Wt.WEEKLY:{if(u===void 0||a===void 0||i===void 0)return le.error("WEEKLY schedule missing required parameters"),{...n};if(Array.isArray(r.byweekday)&&r.byweekday.length===5)return{...n,kind:"WEEKDAYS",hour:a,minute:i};const d=u.weekday===6?0:u.weekday+1;return{...n,kind:"WEEKLY",dayOfWeek:d,hour:a,minute:i}}case Wt.MONTHLY:return c===void 0||a===void 0||i===void 0?(le.error("MONTHLY schedule missing required BYMONTHDAY parameter"),{...n}):{...n,kind:"MONTHLY",day:c,hour:a,minute:i};case Wt.YEARLY:return l===void 0||c===void 0||a===void 0||i===void 0?(le.error("YEARLY schedule missing required BYMONTH parameter"),{...n}):{...n,kind:"YEARLY",month:l-1,day:c,hour:a,minute:i}}return le.error("Invalid task schedule"),{...n}}const UEt=[{value:"ONCE",label:"Once"},{value:"DAILY",label:"Daily"},{value:"WEEKLY",label:"Weekly"},{value:"WEEKDAYS",label:"Every weekday"},{value:"MONTHLY",label:"Monthly"},{value:"YEARLY",label:"Yearly"}],BEt=[{value:"0",label:"Sunday"},{value:"1",label:"Monday"},{value:"2",label:"Tuesday"},{value:"3",label:"Wednesday"},{value:"4",label:"Thursday"},{value:"5",label:"Friday"},{value:"6",label:"Saturday"}],VEt=[...Array(31)].map((e,t)=>({value:String(t+1),label:String(t+1)})),zEt=[{value:"0",label:"January"},{value:"1",label:"February"},{value:"2",label:"March"},{value:"3",label:"April"},{value:"4",label:"May"},{value:"5",label:"June"},{value:"6",label:"July"},{value:"7",label:"August"},{value:"8",label:"September"},{value:"9",label:"October"},{value:"10",label:"November"},{value:"11",label:"December"}];var Yt=function(){return Yt=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Yt.apply(this,arguments)};function HEt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function BMe(e,t,n){for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function cb(e){return e.mode==="multiple"}function ub(e){return e.mode==="range"}function zS(e){return e.mode==="single"}var WEt={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function $Et(e,t){return gf(e,"LLLL y",t)}function qEt(e,t){return gf(e,"d",t)}function GEt(e,t){return gf(e,"LLLL",t)}function YEt(e){return"".concat(e)}function KEt(e,t){return gf(e,"cccccc",t)}function QEt(e,t){return gf(e,"yyyy",t)}var XEt=Object.freeze({__proto__:null,formatCaption:$Et,formatDay:qEt,formatMonthCaption:GEt,formatWeekNumber:YEt,formatWeekdayName:KEt,formatYearCaption:QEt}),ZEt=function(e,t,n){return gf(e,"do MMMM (EEEE)",n)},JEt=function(){return"Month: "},eTt=function(){return"Go to next month"},tTt=function(){return"Go to previous month"},nTt=function(e,t){return gf(e,"cccc",t)},rTt=function(e){return"Week n. ".concat(e)},sTt=function(){return"Year: "},aTt=Object.freeze({__proto__:null,labelDay:ZEt,labelMonthDropdown:JEt,labelNext:eTt,labelPrevious:tTt,labelWeekNumber:rTt,labelWeekday:nTt,labelYearDropdown:sTt});function iTt(){var e="buttons",t=WEt,n=WSe,r={},s={},a=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:XEt,labels:aTt,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:a,styles:i,today:l,mode:"default"}}function oTt(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,s=e.toMonth,a=e.fromDate,i=e.toDate;return r?a=ti(r):t&&(a=new Date(t,0,1)),s?i=JC(s):n&&(i=new Date(n,11,31)),{fromDate:a?$d(a):void 0,toDate:i?$d(i):void 0}}var VMe=f.createContext(void 0);function lTt(e){var t,n=e.initialProps,r=iTt(),s=oTt(n),a=s.fromDate,i=s.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!a||!i)&&(l="buttons");var c;(zS(n)||cb(n)||ub(n))&&(c=n.onSelect);var u=Yt(Yt(Yt({},r),n),{captionLayout:l,classNames:Yt(Yt({},r.classNames),n.classNames),components:Yt({},n.components),formatters:Yt(Yt({},r.formatters),n.formatters),fromDate:a,labels:Yt(Yt({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Yt(Yt({},r.modifiers),n.modifiers),modifiersClassNames:Yt(Yt({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Yt(Yt({},r.styles),n.styles),toDate:i});return L.createElement(VMe.Provider,{value:u},e.children)}function wr(){var e=f.useContext(VMe);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function zMe(e){var t=wr(),n=t.locale,r=t.classNames,s=t.styles,a=t.formatters.formatCaption;return L.createElement("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id},a(e.displayMonth,{locale:n}))}function cTt(e){return L.createElement("svg",Yt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e),L.createElement("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"}))}function HMe(e){var t,n,r=e.onChange,s=e.value,a=e.children,i=e.caption,l=e.className,c=e.style,u=wr(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:cTt;return L.createElement("div",{className:l,style:c},L.createElement("span",{className:u.classNames.vhidden},e["aria-label"]),L.createElement("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r},a),L.createElement("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true"},i,L.createElement(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})))}function uTt(e){var t,n=wr(),r=n.fromDate,s=n.toDate,a=n.styles,i=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return L.createElement(L.Fragment,null);if(!s)return L.createElement(L.Fragment,null);var h=[];if(Ybt(r,s))for(var m=ti(r),g=r.getMonth();g<=s.getMonth();g++)h.push(Qk(m,g));else for(var m=ti(new Date),g=0;g<=11;g++)h.push(Qk(m,g));var v=function(b){var w=Number(b.target.value),C=Qk(ti(e.displayMonth),w);e.onChange(C)},x=(t=u?.Dropdown)!==null&&t!==void 0?t:HMe;return L.createElement(x,{name:"months","aria-label":d(),className:c.dropdown_month,style:a.dropdown_month,onChange:v,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i})},h.map(function(b){return L.createElement("option",{key:b.getMonth(),value:b.getMonth()},l(b,{locale:i}))}))}function dTt(e){var t,n=e.displayMonth,r=wr(),s=r.fromDate,a=r.toDate,i=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,m=[];if(!s)return L.createElement(L.Fragment,null);if(!a)return L.createElement(L.Fragment,null);for(var g=s.getFullYear(),v=a.getFullYear(),x=g;x<=v;x++)m.push(hJ(Pxt(new Date),x));var b=function(C){var S=hJ(ti(n),Number(C.target.value));e.onChange(S)},w=(t=u?.Dropdown)!==null&&t!==void 0?t:HMe;return L.createElement(w,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:b,value:n.getFullYear(),caption:d(n,{locale:i})},m.map(function(C){return L.createElement("option",{key:C.getFullYear(),value:C.getFullYear()},d(C,{locale:i}))}))}function fTt(e,t){var n=f.useState(e),r=n[0],s=n[1],a=t===void 0?r:t;return[a,s]}function hTt(e){var t=e.month,n=e.defaultMonth,r=e.today,s=t||n||r||new Date,a=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(a&&F1(a,s)<0){var u=-1*(c-1);s=$o(a,u)}return i&&F1(s,i)<0&&(s=i),ti(s)}function mTt(){var e=wr(),t=hTt(e),n=fTt(t,e.month),r=n[0],s=n[1],a=function(i){var l;if(!e.disableNavigation){var c=ti(i);s(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,a]}function pTt(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,s=ti(e),a=ti($o(s,r)),i=F1(a,s),l=[],c=0;c<i;c++){var u=$o(s,c);l.push(u)}return n&&(l=l.reverse()),l}function gTt(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,i=r?a:1,l=ti(e);if(!n)return $o(l,i);var c=F1(n,e);if(!(c<a))return $o(l,i)}}function vTt(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,s=t.numberOfMonths,a=s===void 0?1:s,i=r?a:1,l=ti(e);if(!n)return $o(l,-i);var c=F1(l,n);if(!(c<=0))return $o(l,-i)}}var WMe=f.createContext(void 0);function yTt(e){var t=wr(),n=mTt(),r=n[0],s=n[1],a=pTt(r,t),i=gTt(r,t),l=vTt(r,t),c=function(h){return a.some(function(m){return NU(h,m)})},u=function(h,m){c(h)||(m&&qSe(h,m)?s($o(h,1+t.numberOfMonths*-1)):s(h))},d={currentMonth:r,displayMonths:a,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return L.createElement(WMe.Provider,{value:d},e.children)}function db(){var e=f.useContext(WMe);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Bne(e){var t,n=wr(),r=n.classNames,s=n.styles,a=n.components,i=db().goToMonth,l=function(d){i(d)},c=(t=a?.CaptionLabel)!==null&&t!==void 0?t:zMe,u=L.createElement(c,{id:e.id,displayMonth:e.displayMonth});return L.createElement("div",{className:r.caption_dropdowns,style:s.caption_dropdowns},L.createElement("div",{className:r.vhidden},u),L.createElement(uTt,{onChange:l,displayMonth:e.displayMonth}),L.createElement(dTt,{onChange:l,displayMonth:e.displayMonth}))}function xTt(e){return L.createElement("svg",Yt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e),L.createElement("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"}))}function bTt(e){return L.createElement("svg",Yt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e),L.createElement("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"}))}var P6=f.forwardRef(function(e,t){var n=wr(),r=n.classNames,s=n.styles,a=[r.button_reset,r.button];e.className&&a.push(e.className);var i=a.join(" "),l=Yt(Yt({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),L.createElement("button",Yt({},e,{ref:t,type:"button",className:i,style:l}))});function wTt(e){var t,n,r=wr(),s=r.dir,a=r.locale,i=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,h=r.components;if(!e.nextMonth&&!e.previousMonth)return L.createElement(L.Fragment,null);var m=u(e.previousMonth,{locale:a}),g=[i.nav_button,i.nav_button_previous].join(" "),v=d(e.nextMonth,{locale:a}),x=[i.nav_button,i.nav_button_next].join(" "),b=(t=h?.IconRight)!==null&&t!==void 0?t:bTt,w=(n=h?.IconLeft)!==null&&n!==void 0?n:xTt;return L.createElement("div",{className:i.nav,style:l.nav},!e.hidePrevious&&L.createElement(P6,{name:"previous-month","aria-label":m,className:g,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick},s==="rtl"?L.createElement(b,{className:i.nav_icon,style:l.nav_icon}):L.createElement(w,{className:i.nav_icon,style:l.nav_icon})),!e.hideNext&&L.createElement(P6,{name:"next-month","aria-label":v,className:x,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick},s==="rtl"?L.createElement(w,{className:i.nav_icon,style:l.nav_icon}):L.createElement(b,{className:i.nav_icon,style:l.nav_icon})))}function Vne(e){var t=wr().numberOfMonths,n=db(),r=n.previousMonth,s=n.nextMonth,a=n.goToMonth,i=n.displayMonths,l=i.findIndex(function(v){return NU(e.displayMonth,v)}),c=l===0,u=l===i.length-1,d=t>1&&(c||!u),h=t>1&&(u||!c),m=function(){r&&a(r)},g=function(){s&&a(s)};return L.createElement(wTt,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:h,nextMonth:s,previousMonth:r,onPreviousClick:m,onNextClick:g})}function _Tt(e){var t,n=wr(),r=n.classNames,s=n.disableNavigation,a=n.styles,i=n.captionLayout,l=n.components,c=(t=l?.CaptionLabel)!==null&&t!==void 0?t:zMe,u;return s?u=L.createElement(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=L.createElement(Bne,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=L.createElement(L.Fragment,null,L.createElement(Bne,{displayMonth:e.displayMonth,id:e.id}),L.createElement(Vne,{displayMonth:e.displayMonth,id:e.id})):u=L.createElement(L.Fragment,null,L.createElement(c,{id:e.id,displayMonth:e.displayMonth}),L.createElement(Vne,{displayMonth:e.displayMonth,id:e.id})),L.createElement("div",{className:r.caption,style:a.caption},u)}function CTt(e){var t=wr(),n=t.footer,r=t.styles,s=t.classNames.tfoot;return n?L.createElement("tfoot",{className:s,style:r.tfoot},L.createElement("tr",null,L.createElement("td",{colSpan:8},n))):L.createElement(L.Fragment,null)}function STt(e,t,n){for(var r=n?Hh(new Date):Gl(new Date,{locale:e,weekStartsOn:t}),s=[],a=0;a<7;a++){var i=Za(r,a);s.push(i)}return s}function MTt(){var e=wr(),t=e.classNames,n=e.styles,r=e.showWeekNumber,s=e.locale,a=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=STt(s,a,i);return L.createElement("tr",{style:n.head_row,className:t.head_row},r&&L.createElement("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,h){return L.createElement("th",{key:h,scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s})},l(d,{locale:s}))}))}function kTt(){var e,t=wr(),n=t.classNames,r=t.styles,s=t.components,a=(e=s?.HeadRow)!==null&&e!==void 0?e:MTt;return L.createElement("thead",{style:r.head,className:n.head},L.createElement(a,null))}function ETt(e){var t=wr(),n=t.locale,r=t.formatters.formatDay;return L.createElement(L.Fragment,null,r(e.date,{locale:n}))}var jB=f.createContext(void 0);function TTt(e){if(!cb(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return L.createElement(jB.Provider,{value:t},e.children)}return L.createElement(NTt,{initialProps:e.initialProps,children:e.children})}function NTt(e){var t=e.initialProps,n=e.children,r=t.selected,s=t.min,a=t.max,i=function(u,d,h){var m,g;(m=t.onDayClick)===null||m===void 0||m.call(t,u,d,h);var v=!!(d.selected&&s&&r?.length===s);if(!v){var x=!!(!d.selected&&a&&r?.length===a);if(!x){var b=r?BMe([],r):[];if(d.selected){var w=b.findIndex(function(C){return Qs(u,C)});b.splice(w,1)}else b.push(u);(g=t.onSelect)===null||g===void 0||g.call(t,b,u,d,h)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=a&&r.length>a-1,h=r.some(function(m){return Qs(m,u)});return!!(d&&!h)});var c={selected:r,onDayClick:i,modifiers:l};return L.createElement(jB.Provider,{value:c},n)}function AB(){var e=f.useContext(jB);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function jTt(e,t){var n=t||{},r=n.from,s=n.to;if(!r)return{from:e,to:void 0};if(!s&&Qs(r,e))return{from:r,to:e};if(!s&&qSe(e,r))return{from:e,to:r};if(!s)return{from:r,to:e};if(!(Qs(s,e)&&Qs(r,e))){if(Qs(s,e))return{from:s,to:void 0};if(!Qs(r,e))return $Se(r,e)?{from:e,to:s}:{from:r,to:e}}}var RB=f.createContext(void 0);function ATt(e){if(!ub(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return L.createElement(RB.Provider,{value:t},e.children)}return L.createElement(RTt,{initialProps:e.initialProps,children:e.children})}function RTt(e){var t=e.initialProps,n=e.children,r=t.selected,s=r||{},a=s.from,i=s.to,l=t.min,c=t.max,u=function(g,v,x){var b,w;(b=t.onDayClick)===null||b===void 0||b.call(t,g,v,x);var C=jTt(g,r);(w=t.onSelect)===null||w===void 0||w.call(t,C,g,v,x)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a&&(d.range_start=[a],i?(d.range_end=[i],Qs(a,i)||(d.range_middle=[{after:a,before:i}])):d.range_end=[a]),l&&(a&&!i&&d.disabled.push({after:kR(a,l-1),before:Za(a,l-1)}),a&&i&&d.disabled.push({after:a,before:Za(a,l-1)})),c&&(a&&!i&&(d.disabled.push({before:Za(a,-c+1)}),d.disabled.push({after:Za(a,c-1)})),a&&i)){var h=Nl(i,a)+1,m=c-h;d.disabled.push({before:kR(a,m)}),d.disabled.push({after:Za(i,m)})}return L.createElement(RB.Provider,{value:{selected:r,onDayClick:u,modifiers:d}},n)}function LB(){var e=f.useContext(RB);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function q5(e){return Array.isArray(e)?BMe([],e):e!==void 0?[e]:[]}function LTt(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],s=n[1];t[r]=q5(s)}),t}var Yo;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Yo||(Yo={}));var OTt=Yo.Selected,jc=Yo.Disabled,PTt=Yo.Hidden,ITt=Yo.Today,BT=Yo.RangeEnd,VT=Yo.RangeMiddle,zT=Yo.RangeStart,DTt=Yo.Outside;function FTt(e,t,n){var r,s=(r={},r[OTt]=q5(e.selected),r[jc]=q5(e.disabled),r[PTt]=q5(e.hidden),r[ITt]=[e.today],r[BT]=[],r[VT]=[],r[zT]=[],r[DTt]=[],r);return e.fromDate&&s[jc].push({before:e.fromDate}),e.toDate&&s[jc].push({after:e.toDate}),cb(e)?s[jc]=s[jc].concat(t.modifiers[jc]):ub(e)&&(s[jc]=s[jc].concat(n.modifiers[jc]),s[zT]=n.modifiers[zT],s[VT]=n.modifiers[VT],s[BT]=n.modifiers[BT]),s}var $Me=f.createContext(void 0);function UTt(e){var t=wr(),n=AB(),r=LB(),s=FTt(t,n,r),a=LTt(t.modifiers),i=Yt(Yt({},s),a);return L.createElement($Me.Provider,{value:i},e.children)}function qMe(){var e=f.useContext($Me);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function BTt(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function VTt(e){return!!(e&&typeof e=="object"&&"from"in e)}function zTt(e){return!!(e&&typeof e=="object"&&"after"in e)}function HTt(e){return!!(e&&typeof e=="object"&&"before"in e)}function WTt(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function $Tt(e,t){var n,r=t.from,s=t.to;if(!r)return!1;if(!s&&Qs(r,e))return!0;if(!s)return!1;var a=Nl(s,r)<0;a&&(n=[s,r],r=n[0],s=n[1]);var i=Nl(e,r)>=0&&Nl(s,e)>=0;return i}function qTt(e){return MU(e)}function GTt(e){return Array.isArray(e)&&e.every(MU)}function YTt(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(qTt(n))return Qs(e,n);if(GTt(n))return n.includes(e);if(VTt(n))return $Tt(e,n);if(WTt(n))return n.dayOfWeek.includes(e.getDay());if(BTt(n)){var r=Nl(n.before,e),s=Nl(n.after,e),a=r>0,i=s<0,l=$Se(n.before,n.after);return l?i&&a:a||i}return zTt(n)?Nl(e,n.after)>0:HTt(n)?Nl(n.before,e)>0:typeof n=="function"?n(e):!1})}function OB(e,t,n){var r=Object.keys(t).reduce(function(a,i){var l=t[i];return YTt(e,l)&&a.push(i),a},[]),s={};return r.forEach(function(a){return s[a]=!0}),n&&!NU(e,n)&&(s.outside=!0),s}function KTt(e,t){for(var n=ti(e[0]),r=JC(e[e.length-1]),s,a,i=n;i<=r;){var l=OB(i,t),c=!l.disabled&&!l.hidden;if(!c){i=Za(i,1);continue}if(l.selected)return i;l.today&&!a&&(a=i),s||(s=i),i=Za(i,1)}return a||s}var QTt=365;function GMe(e,t){var n=t.moveBy,r=t.direction,s=t.context,a=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,h=s.locale,m={day:Za,week:MR,month:$o,year:gxt,startOfWeek:function(b){return s.ISOWeek?Hh(b):Gl(b,{locale:h,weekStartsOn:c})},endOfWeek:function(b){return s.ISOWeek?BSe(b):TU(b,{locale:h,weekStartsOn:c})}},g=m[n](e,r==="after"?1:-1);r==="before"&&u?g=vxt([u,g]):r==="after"&&d&&(g=yxt([d,g]));var v=!0;if(a){var x=OB(g,a);v=!x.disabled&&!x.hidden}return v?g:l.count>QTt?l.lastFocused:GMe(g,{moveBy:n,direction:r,context:s,modifiers:a,retry:Yt(Yt({},l),{count:l.count+1})})}var YMe=f.createContext(void 0);function XTt(e){var t=db(),n=qMe(),r=f.useState(),s=r[0],a=r[1],i=f.useState(),l=i[0],c=i[1],u=KTt(t.displayMonths,n),d=s??(l&&t.isDateDisplayed(l))?l:u,h=function(){c(s),a(void 0)},m=function(b){a(b)},g=wr(),v=function(b,w){if(s){var C=GMe(s,{moveBy:b,direction:w,context:g,modifiers:n});Qs(s,C)||(t.goToDate(C,s),m(C))}},x={focusedDay:s,focusTarget:d,blur:h,focus:m,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return L.createElement(YMe.Provider,{value:x},e.children)}function PB(){var e=f.useContext(YMe);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function ZTt(e,t){var n=qMe(),r=OB(e,n,t);return r}var IB=f.createContext(void 0);function JTt(e){if(!zS(e.initialProps)){var t={selected:void 0};return L.createElement(IB.Provider,{value:t},e.children)}return L.createElement(eNt,{initialProps:e.initialProps,children:e.children})}function eNt(e){var t=e.initialProps,n=e.children,r=function(a,i,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,i,l),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,a,i,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,a,a,i,l)},s={selected:t.selected,onDayClick:r};return L.createElement(IB.Provider,{value:s},n)}function KMe(){var e=f.useContext(IB);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function tNt(e,t){var n=wr(),r=KMe(),s=AB(),a=LB(),i=PB(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,h=i.blur,m=i.focus,g=i.focusMonthBefore,v=i.focusMonthAfter,x=i.focusYearBefore,b=i.focusYearAfter,w=i.focusStartOfWeek,C=i.focusEndOfWeek,S=function(H){var q,$,G,K;zS(n)?(q=r.onDayClick)===null||q===void 0||q.call(r,e,t,H):cb(n)?($=s.onDayClick)===null||$===void 0||$.call(s,e,t,H):ub(n)?(G=a.onDayClick)===null||G===void 0||G.call(a,e,t,H):(K=n.onDayClick)===null||K===void 0||K.call(n,e,t,H)},k=function(H){var q;m(e),(q=n.onDayFocus)===null||q===void 0||q.call(n,e,t,H)},E=function(H){var q;h(),(q=n.onDayBlur)===null||q===void 0||q.call(n,e,t,H)},T=function(H){var q;(q=n.onDayMouseEnter)===null||q===void 0||q.call(n,e,t,H)},j=function(H){var q;(q=n.onDayMouseLeave)===null||q===void 0||q.call(n,e,t,H)},N=function(H){var q;(q=n.onDayPointerEnter)===null||q===void 0||q.call(n,e,t,H)},R=function(H){var q;(q=n.onDayPointerLeave)===null||q===void 0||q.call(n,e,t,H)},O=function(H){var q;(q=n.onDayTouchCancel)===null||q===void 0||q.call(n,e,t,H)},I=function(H){var q;(q=n.onDayTouchEnd)===null||q===void 0||q.call(n,e,t,H)},B=function(H){var q;(q=n.onDayTouchMove)===null||q===void 0||q.call(n,e,t,H)},D=function(H){var q;(q=n.onDayTouchStart)===null||q===void 0||q.call(n,e,t,H)},z=function(H){var q;(q=n.onDayKeyUp)===null||q===void 0||q.call(n,e,t,H)},V=function(H){var q;switch(H.key){case"ArrowLeft":H.preventDefault(),H.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":H.preventDefault(),H.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":H.preventDefault(),H.stopPropagation(),u();break;case"ArrowUp":H.preventDefault(),H.stopPropagation(),d();break;case"PageUp":H.preventDefault(),H.stopPropagation(),H.shiftKey?x():g();break;case"PageDown":H.preventDefault(),H.stopPropagation(),H.shiftKey?b():v();break;case"Home":H.preventDefault(),H.stopPropagation(),w();break;case"End":H.preventDefault(),H.stopPropagation(),C();break}(q=n.onDayKeyDown)===null||q===void 0||q.call(n,e,t,H)},U={onClick:S,onFocus:k,onBlur:E,onKeyDown:V,onKeyUp:z,onMouseEnter:T,onMouseLeave:j,onPointerEnter:N,onPointerLeave:R,onTouchCancel:O,onTouchEnd:I,onTouchMove:B,onTouchStart:D};return U}function nNt(){var e=wr(),t=KMe(),n=AB(),r=LB(),s=zS(e)?t.selected:cb(e)?n.selected:ub(e)?r.selected:void 0;return s}function rNt(e){return Object.values(Yo).includes(e)}function sNt(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var s=e.modifiersClassNames[r];if(s)n.push(s);else if(rNt(r)){var a=e.classNames["day_".concat(r)];a&&n.push(a)}}),n}function aNt(e,t){var n=Yt({},e.styles.day);return Object.keys(t).forEach(function(r){var s;n=Yt(Yt({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function iNt(e,t,n){var r,s,a,i=wr(),l=PB(),c=ZTt(e,t),u=tNt(e,c),d=nNt(),h=!!(i.onDayClick||i.mode!=="default");f.useEffect(function(){var T;c.outside||l.focusedDay&&h&&Qs(l.focusedDay,e)&&((T=n.current)===null||T===void 0||T.focus())},[l.focusedDay,e,n,h,c.outside]);var m=sNt(i,c).join(" "),g=aNt(i,c),v=!!(c.outside&&!i.showOutsideDays||c.hidden),x=(a=(s=i.components)===null||s===void 0?void 0:s.DayContent)!==null&&a!==void 0?a:ETt,b=L.createElement(x,{date:e,displayMonth:t,activeModifiers:c}),w={style:g,className:m,children:b,role:"gridcell"},C=l.focusTarget&&Qs(l.focusTarget,e)&&!c.outside,S=l.focusedDay&&Qs(l.focusedDay,e),k=Yt(Yt(Yt({},w),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=S||C?0:-1,r)),u),E={isButton:h,isHidden:v,activeModifiers:c,selectedDays:d,buttonProps:k,divProps:w};return E}function oNt(e){var t=f.useRef(null),n=iNt(e.date,e.displayMonth,t);return n.isHidden?L.createElement("div",{role:"gridcell"}):n.isButton?L.createElement(P6,Yt({name:"day",ref:t},n.buttonProps)):L.createElement("div",Yt({},n.divProps))}function lNt(e){var t=e.number,n=e.dates,r=wr(),s=r.onWeekNumberClick,a=r.styles,i=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!s)return L.createElement("span",{className:i.weeknumber,style:a.weeknumber},d);var h=c(Number(t),{locale:l}),m=function(g){s(t,n,g)};return L.createElement(P6,{name:"week-number","aria-label":h,className:i.weeknumber,style:a.weeknumber,onClick:m},d)}function cNt(e){var t,n,r=wr(),s=r.styles,a=r.classNames,i=r.showWeekNumber,l=r.components,c=(t=l?.Day)!==null&&t!==void 0?t:oNt,u=(n=l?.WeekNumber)!==null&&n!==void 0?n:lNt,d;return i&&(d=L.createElement("td",{className:a.cell,style:s.cell},L.createElement(u,{number:e.weekNumber,dates:e.dates}))),L.createElement("tr",{className:a.row,style:s.row},d,e.dates.map(function(h){return L.createElement("td",{className:a.cell,style:s.cell,key:Bbt(h),role:"presentation"},L.createElement(c,{displayMonth:e.displayMonth,date:h}))}))}function zne(e,t,n){for(var r=n?.ISOWeek?BSe(t):TU(t,n),s=n?.ISOWeek?Hh(e):Gl(e,n),a=Nl(r,s),i=[],l=0;l<=a;l++)i.push(Za(s,l));var c=i.reduce(function(u,d){var h=n?.ISOWeek?Fbt(d):Wbt(d,n),m=u.find(function(g){return g.weekNumber===h});return m?(m.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function uNt(e,t){var n=zne(ti(e),JC(e),t);if(t?.useFixedWeeks){var r=qbt(e,t);if(r<6){var s=n[n.length-1],a=s.dates[s.dates.length-1],i=MR(a,6-r),l=zne(MR(a,1),i,t);n.push.apply(n,l)}}return n}function dNt(e){var t,n,r,s=wr(),a=s.locale,i=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,h=s.weekStartsOn,m=s.firstWeekContainsDate,g=s.ISOWeek,v=uNt(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:g,locale:a,weekStartsOn:h,firstWeekContainsDate:m}),x=(t=d?.Head)!==null&&t!==void 0?t:kTt,b=(n=d?.Row)!==null&&n!==void 0?n:cNt,w=(r=d?.Footer)!==null&&r!==void 0?r:CTt;return L.createElement("table",{className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"]},!c&&L.createElement(x,null),L.createElement("tbody",{className:i.tbody,style:l.tbody,role:"rowgroup"},v.map(function(C){return L.createElement(b,{displayMonth:e.displayMonth,key:C.weekNumber,dates:C.dates,weekNumber:C.weekNumber})})),L.createElement(w,{displayMonth:e.displayMonth}))}function fNt(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var hNt=fNt()?f.useLayoutEffect:f.useEffect,HT=!1,mNt=0;function Hne(){return"react-day-picker-".concat(++mNt)}function pNt(e){var t,n=e??(HT?Hne():null),r=f.useState(n),s=r[0],a=r[1];return hNt(function(){s===null&&a(Hne())},[]),f.useEffect(function(){HT===!1&&(HT=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function gNt(e){var t,n,r=wr(),s=r.dir,a=r.classNames,i=r.styles,l=r.components,c=db().displayMonths,u=pNt(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),d=[a.month],h=i.month,m=e.displayIndex===0,g=e.displayIndex===c.length-1,v=!m&&!g;s==="rtl"&&(t=[m,g],g=t[0],m=t[1]),m&&(d.push(a.caption_start),h=Yt(Yt({},h),i.caption_start)),g&&(d.push(a.caption_end),h=Yt(Yt({},h),i.caption_end)),v&&(d.push(a.caption_between),h=Yt(Yt({},h),i.caption_between));var x=(n=l?.Caption)!==null&&n!==void 0?n:_Tt;return L.createElement("div",{key:e.displayIndex,className:d.join(" "),style:h},L.createElement(x,{id:u,displayMonth:e.displayMonth}),L.createElement(dNt,{"aria-labelledby":u,displayMonth:e.displayMonth}))}function vNt(e){var t=e.initialProps,n=wr(),r=PB(),s=db(),a=f.useState(!1),i=a[0],l=a[1];f.useEffect(function(){n.initialFocus&&r.focusTarget&&(i||(r.focus(r.focusTarget),l(!0)))},[n.initialFocus,i,r.focus,r.focusTarget,r]);var c=[n.classNames.root,n.className];n.numberOfMonths>1&&c.push(n.classNames.multiple_months),n.showWeekNumber&&c.push(n.classNames.with_weeknumber);var u=Yt(Yt({},n.styles.root),n.style),d=Object.keys(t).filter(function(h){return h.startsWith("data-")}).reduce(function(h,m){var g;return Yt(Yt({},h),(g={},g[m]=t[m],g))},{});return L.createElement("div",Yt({className:c.join(" "),style:u,dir:n.dir,id:n.id},d),L.createElement("div",{className:n.classNames.months,style:n.styles.months},s.displayMonths.map(function(h,m){return L.createElement(gNt,{key:m,displayIndex:m,displayMonth:h})})))}function yNt(e){var t=e.children,n=HEt(e,["children"]);return L.createElement(lTt,{initialProps:n},L.createElement(yTt,null,L.createElement(JTt,{initialProps:n},L.createElement(TTt,{initialProps:n},L.createElement(ATt,{initialProps:n},L.createElement(UTt,null,L.createElement(XTt,null,t)))))))}function xNt(e){return L.createElement(yNt,Yt({},e),L.createElement(vNt,{initialProps:e}))}var WT={},Wne;function bNt(){return Wne||(Wne=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="chevron-left",r=320,s=512,a=[9001],i="f053",l="M15 239c-9.4 9.4-9.4 24.6 0 33.9L207 465c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9L65.9 256 241 81c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L15 239z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faChevronLeft=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(WT)),WT}var wNt=bNt(),$T={},$ne;function _Nt(){return $ne||($ne=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="chevron-right",r=320,s=512,a=[9002],i="f054",l="M305 239c9.4 9.4 9.4 24.6 0 33.9L113 465c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l175-175L79 81c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L305 239z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faChevronRight=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}($T)),$T}var CNt=_Nt();const QMe=L.memo(({className:e,showOutsideDays:t=!0,...n})=>{const r=L.useMemo(()=>({months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-between relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:"h-7 w-7 p-0 rounded hover:bg-offsetPlus flex items-center justify-center bg-offset [&_*]:fill-text-200",table:"w-full border-collapse",head_row:"flex",head_cell:"text-text-200 rounded-md w-8 font-normal text-sm font-mono",row:"flex w-full mt-1",cell:W("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-full",n.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-full [&:has([aria-selected])]:bg-superBG [&:has(>.day-range-start)]:rounded-l-full first:[&:has([aria-selected])]:rounded-l-full last:[&:has([aria-selected])]:rounded-r-full":"[&:has([aria-selected])]:rounded-md"),day:W("h-8 w-8 p-0 font-normal select-none aria-selected:opacity-100 flex items-center justify-center rounded-full hover:bg-offset cursor-pointer"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:W(n.mode==="range"?"[&.day-range-start]:!bg-super [&.day-range-start]:!text-background [&.day-range-start]:hover:!bg-super [&.day-range-end]:!bg-super [&.day-range-end]:!text-background [&.day-range-end]:hover:!bg-super":"!bg-super !text-background hover:!bg-super"),day_today:"bg-superBG text-super hover:bg-superBG",day_outside:"day-outside text-text-200 aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-text-200 opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...W}),[n.mode]),s=f.useMemo(()=>({IconLeft:({className:a,...i})=>o.jsx(jt,{icon:wNt.faChevronLeft,className:a,size:"sm",...i}),IconRight:({className:a,...i})=>o.jsx(jt,{icon:CNt.faChevronRight,className:a,size:"sm",...i})}),[]);return o.jsx(xNt,{showOutsideDays:t,className:W("p-3 font-sans text-base",e),classNames:r,components:s,...n})});QMe.displayName="Calendar";var DB="Popover",[XMe,LXt]=Zo(DB,[_g]),fb=_g(),[SNt,yf]=XMe(DB),ZMe=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:i=!1}=e,l=fb(t),c=f.useRef(null),[u,d]=f.useState(!1),[h=!1,m]=rf({prop:r,defaultProp:s,onChange:a});return o.jsx(HI,{...l,children:o.jsx(SNt,{scope:t,contentId:Yp(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:f.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:u,onCustomAnchorAdd:f.useCallback(()=>d(!0),[]),onCustomAnchorRemove:f.useCallback(()=>d(!1),[]),modal:i,children:n})})};ZMe.displayName=DB;var JMe="PopoverAnchor",MNt=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=yf(JMe,n),a=fb(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=s;return f.useEffect(()=>(i(),()=>l()),[i,l]),o.jsx(q_,{...a,...r,ref:t})});MNt.displayName=JMe;var eke="PopoverTrigger",tke=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=yf(eke,n),a=fb(n),i=Fr(t,s.triggerRef),l=o.jsx(Jn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ike(s.open),...r,ref:i,onClick:pn(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:o.jsx(q_,{asChild:!0,...a,children:l})});tke.displayName=eke;var FB="PopoverPortal",[kNt,ENt]=XMe(FB,{forceMount:void 0}),nke=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,a=yf(FB,t);return o.jsx(kNt,{scope:t,forceMount:n,children:o.jsx(Da,{present:n||a.open,children:o.jsx(wx,{asChild:!0,container:s,children:r})})})};nke.displayName=FB;var X1="PopoverContent",rke=f.forwardRef((e,t)=>{const n=ENt(X1,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,a=yf(X1,e.__scopePopover);return o.jsx(Da,{present:r||a.open,children:a.modal?o.jsx(TNt,{...s,ref:t}):o.jsx(NNt,{...s,ref:t})})});rke.displayName=X1;var TNt=f.forwardRef((e,t)=>{const n=yf(X1,e.__scopePopover),r=f.useRef(null),s=Fr(t,r),a=f.useRef(!1);return f.useEffect(()=>{const i=r.current;if(i)return vfe(i)},[]),o.jsx(vD,{as:V_,allowPinchZoom:!0,children:o.jsx(ske,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pn(e.onCloseAutoFocus,i=>{i.preventDefault(),a.current||n.triggerRef.current?.focus()}),onPointerDownOutside:pn(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:pn(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),NNt=f.forwardRef((e,t)=>{const n=yf(X1,e.__scopePopover),r=f.useRef(!1),s=f.useRef(!1);return o.jsx(ske,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=a.target;n.triggerRef.current?.contains(i)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),ske=f.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=e,m=yf(X1,n),g=fb(n);return ife(),o.jsx(pD,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:o.jsx(xx,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:o.jsx(WI,{"data-state":ike(m.open),role:"dialog",id:m.contentId,...g,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ake="PopoverClose",jNt=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=yf(ake,n);return o.jsx(Jn.button,{type:"button",...r,ref:t,onClick:pn(e.onClick,()=>s.onOpenChange(!1))})});jNt.displayName=ake;var ANt="PopoverArrow",RNt=f.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=fb(n);return o.jsx($I,{...s,...r,ref:t})});RNt.displayName=ANt;function ike(e){return e?"open":"closed"}var LNt=ZMe,ONt=tke,PNt=nke,INt=rke;const UB=L.memo(e=>{const{children:t,content:n,disableAnimation:r,isOpen:s,onClose:a,onOpen:i,contentClassName:l}=e;return o.jsxs(LNt,{open:s,onOpenChange:c=>{c?i?.():a?.()},children:[o.jsx(ONt,{asChild:!0,children:t}),o.jsx(PNt,{children:o.jsx(INt,{asChild:!0,sideOffset:4,side:"bottom",align:"start",children:o.jsx(Q,{variant:"background",className:W("p-xs relative rounded-lg border shadow-sm",{"data-close:zoom-out-95 data-close:fade-out data-close:animate-out":!r,"data-open:duration-150 data-open:ease-in-out data-open:animate-in data-open:fade-in data-open:zoom-in-95":!r},l),children:n})})})]})});UB.displayName="Popover";const DNt=e=>e.toLocaleDateString();function FNt({value:e,onChange:t,placeholder:n="Select date",formatDate:r=DNt,showIcon:s=!0,buttonClassName:a}){const[i,l]=f.useState(!1),c=()=>{l(!i)},u=h=>{t(h),l(!1)},d=f.useMemo(()=>{const h=new Date;return h.setHours(0,0,0,0),h},[]);return o.jsx("div",{className:"relative z-[50] h-full w-full",children:o.jsx(UB,{isOpen:i,onOpen:()=>l(!0),onClose:()=>l(!1),placement:"bottom-start",content:o.jsx(QMe,{mode:"single",selected:e,onSelect:u,disabled:[{before:d}],fromDate:d}),children:o.jsx("div",{role:"button",tabIndex:0,onClick:()=>c(),className:W("bg-background-200 dark:bg-offsetDark flex cursor-pointer items-center justify-between rounded-lg pl-4 pr-4 font-sans","hover:border-borderMain/75 focus:border-borderMain/75 border border-transparent","transition-colors duration-200 ease-out","h-full w-full","outline-none focus:outline-none focus:ring-0",a),children:o.jsxs("div",{className:"flex items-center gap-2",children:[s&&o.jsx(aI,{size:16,className:"text-textMain !dark:text-light-text"}),o.jsx("span",{className:"text-textMain !dark:text-light-text text-sm",children:e?r(e):n})]})})})})}const qne=({hour:e,minute:t})=>`${e%12||12}:${t.toString().padStart(2,"0")} ${e>=12?"PM":"AM"}`,Gne=e=>{const t=e.trim().match(/^((?:0?[1-9]|1[0-2])):([0-5]\d)\s*([ap]m)$/i);if(!t||t.length!==4)return null;const n=parseInt(t[1],10),r=parseInt(t[2],10);if(isNaN(n)||isNaN(r))return null;const s=t[3]?.toLowerCase();return s==="pm"&&n!==12?{hour:n+12,minute:r}:s==="am"&&n===12?{hour:0,minute:r}:{hour:n,minute:r}},UNt=Array.from({length:48},(e,t)=>({hour:Math.floor(t/2),minute:t%2*30}));function BNt({value:e,onChange:t,placeholder:n="Select time"}){const[r,s]=f.useState(""),[a,i]=f.useState(!1),l=f.useRef(null),c=r.trim()!==""&&!Gne(r),u=e?qne(e):n,d=f.useMemo(()=>UNt.map(x=>({key:`${x.hour}:${x.minute}`,label:qne(x),value:x})),[]),h=()=>{const x=Gne(r);x&&t(x),s("")},m=x=>{t(x),s(""),i(!1)},g=()=>{i(!a)},v=()=>{i(!a),setTimeout(()=>{l.current&&l.current.focus()},0)};return o.jsx("div",{className:"relative z-[50] h-full w-full",children:o.jsx(UB,{contentClassName:"rounded-xl min-w-[var(--radix-popper-anchor-width)]",isOpen:a,onOpen:()=>i(!0),onClose:()=>i(!1),placement:"bottom-start",matchTargetWidth:!0,content:o.jsx("div",{className:"p-xs scrollbar-subtle max-h-64 overflow-y-auto",children:d.map(x=>o.jsx("div",{role:"button",tabIndex:0,onClick:()=>m(x.value),className:W("px-sm text-textMain cursor-pointer rounded-lg py-1.5","hover:bg-background-200 dark:hover:bg-background-200Dark"),children:o.jsx(F,{variant:"extraSmall",children:x.label})},x.key))}),children:o.jsxs("div",{role:"button",tabIndex:0,onClick:g,className:W("text-textMain bg-background-200 dark:bg-offsetDark flex h-full w-full cursor-pointer items-center rounded-lg pl-4 pr-4 font-sans","border transition-colors duration-200 ease-out","outline-none focus:outline-none focus:ring-0","hover:border-borderMain/75 focus-within:border-borderMain/75 border-transparent",{"!border-red-400 dark:border-red-400":c}),children:[o.jsx("input",{ref:l,type:"text",value:r||u,placeholder:n,onChange:x=>s(x.target.value),onBlur:h,onClick:v,className:"placeholder w-full bg-transparent text-sm focus:outline-none"}),o.jsx(Ne,{size:"xs",icon:Ia,className:"right-sm pointer-events-none absolute text-inherit opacity-50"})]})})})}const zy=f.memo(({children:e})=>o.jsx("div",{className:"min-w-0 flex-1 rounded-md",children:e})),Q4=f.memo(({options:e,value:t,onChange:n,isMobileStyle:r})=>{const s=ae(),a=f.useMemo(()=>e.map(d=>({type:"default",text:d.label,onClick:()=>n(d.value),active:d.value===t})),[n,e,t]),l=f.useMemo(()=>e.find(d=>d.value===t),[e,t])?.label||s.formatMessage({defaultMessage:"Select...",id:"724CrE1YuG"}),c=f.useMemo(()=>({className:"w-full"}),[]),u=f.useMemo(()=>({matchTargetWidth:!0,avoidPositionCollisions:!1}),[]);return o.jsx(zy,{children:o.jsx(Rn,{items:a,isMobileStyle:r,placement:"bottom",contentClassName:"w-full",boxProps:c,popoverProps:u,children:o.jsx(Le,{text:l,extraCSS:"!bg-background-200 dark:!bg-offsetDark pl-4 pr-4 w-full !h-10 border-0 !outline-none !justify-start font-normal w-full",textClassName:"text-left text-textMain text-sm font-normal",fullWidth:!0,layout:"split",chevron:!0,chevronIcon:Ia})})})}),VNt=f.memo(({schedule:e,onScheduleChange:t})=>{const{formatMessage:n}=ae(),{isMobileStyle:r}=qe(),s=f.useMemo(()=>new Date(e.year,e.month,e.day,e.hour,e.minute),[e.year,e.month,e.day,e.hour,e.minute]),{kind:a}=e,i=a==="ONCE",l=a==="WEEKLY",c=a==="MONTHLY"||a==="YEARLY",u=a==="YEARLY",d=f.useCallback(w=>{t({kind:w})},[t]),h=f.useCallback(w=>{t({dayOfWeek:parseInt(w,10)})},[t]),m=f.useCallback(w=>{t({month:parseInt(w,10)})},[t]),g=f.useCallback(w=>{t({day:parseInt(w,10)})},[t]),v=f.useCallback(w=>{w&&t({day:w.getDate(),month:w.getMonth(),year:w.getFullYear()})},[t]),x=f.useCallback(w=>{t({hour:w.hour,minute:w.minute})},[t]),b=f.useMemo(()=>({hour:e.hour,minute:e.minute}),[e.hour,e.minute]);return o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(F,{variant:"tiny",color:"light",className:"select-none",children:n({defaultMessage:"Schedule",id:"hGQqkWwmJD"})}),o.jsxs("div",{className:"flex h-10 flex-wrap gap-3",children:[o.jsx(Q4,{options:UEt,value:e.kind,onChange:d,isMobileStyle:r}),l&&o.jsx(Q4,{options:BEt,value:String(e.dayOfWeek),onChange:h,isMobileStyle:r}),u&&o.jsx(Q4,{options:zEt,value:String(e.month),onChange:m,isMobileStyle:r}),c&&o.jsx(Q4,{options:VEt,value:String(e.day),onChange:g,isMobileStyle:r}),i&&o.jsx(zy,{children:o.jsx(FNt,{value:s,onChange:v})}),o.jsx(zy,{children:o.jsx(BNt,{value:b,onChange:x})})]})]})}),oke="(pointer: coarse)";function Yne(){return typeof window>"u"?!1:window.matchMedia(oke).matches}function zNt(){const e=fo(),[t,n]=f.useState(()=>Yne()||e);return f.useLayoutEffect(()=>{if(typeof window>"u")return;const r=window.matchMedia(oke);function s(){n(Yne())}return r.addEventListener("change",s),s(),function(){r.removeEventListener("change",s)}},[]),t}function lke(){const{gpt4Limit:e,pplxAlphaLimit:t,pplxBetaLimit:n}=Mr(),r=Ct(),{hasAccessToProFeatures:s,isMax:a}=cn(),i=Fg(),l=e<=0&&!s,c=e<=0||t<=0,u=e<=0||n<=0;return f.useCallback(d=>{const h=Ti[d],m=h===_e.SEARCH&&![Re.DEFAULT,Re.PRO].includes(d);return d===Re.DEFAULT?!0:r?a?!0:l||Us(d)===_e.RESEARCH&&c||Us(d)===_e.STUDIO&&u||i(h)?!1:!(!s&&m):!1},[l,c,u,s,r,i,a])}function hb(){const{$t:e}=ae(),t=Ct(),{openVisitorLoginUpsell:n}=Br({enabled:!t}),r=Fg(),s=lke(),{openModal:a}=Gt(),i=f.useCallback((c,u)=>{const d=Ti[c];if(c===Re.DEFAULT&&!u)return!1;const h=s(c)===!1||u;if(t)if(h){const m={[_e.SEARCH]:e({defaultMessage:"Want more {copilot}?",id:"Kf+JzdHL3c"},{copilot:"Pro Search"}),[_e.RESEARCH]:e({defaultMessage:"Want more Research?",id:"4cKm89wwuR"}),[_e.STUDIO]:e({defaultMessage:"Try Perplexity Labs",id:"y2BN7EwBoA"})},g={[_e.SEARCH]:e({defaultMessage:"With {pplx} {pro}, get as many as you want",id:"jRMiP6Ut4n"},{pplx:"Perplexity",pro:"Pro"}),[_e.RESEARCH]:r(d)?e({defaultMessage:"Upgrade to Max for unlimited access to Perplexity Research.",id:"WuvGBcnhvG"}):e({defaultMessage:"Extended access for paid subscribers",id:"EpQHuInjog"}),[_e.STUDIO]:r(d)?e({defaultMessage:"Upgrade to Max for unlimited access to Perplexity Labs.",id:"jmWIIwpGtp"}):e({defaultMessage:"Exclusive access for paid subscribers",id:"YTY/t/D+zJ"})},v=m[d??_e.SEARCH],x=g[d??_e.SEARCH],w={[_e.SEARCH]:gt.TRY_COPILOT,[_e.RESEARCH]:gt.TRY_RESEARCH,[_e.STUDIO]:gt.TRY_LABS}[d??_e.SEARCH]??gt.TRY_COPILOT;return a("pricingModal",{pitchMessage:{title:v,description:x},origin:w}),!0}else return!1;else{const m={[_e.SEARCH]:e({defaultMessage:"Sign in to access Pro Search",id:"AARKXJYL5U"}),[_e.RESEARCH]:e({defaultMessage:"Sign in to access Perplexity Research",id:"D/01NxLK/G"}),[_e.STUDIO]:e({defaultMessage:"Sign in to try Perplexity Labs",id:"xJYMyIruMK"})},g={[_e.SEARCH]:e({defaultMessage:"10x as many citations in answers",id:"D0fULpN8/D"}),[_e.RESEARCH]:e({defaultMessage:"Deep research and analysis on any topic",id:"vZzVhXmhZo"}),[_e.STUDIO]:e({defaultMessage:"Create projects from scratch, exclusive access for paid subscribers",id:"vddQ7J5Jev"})},v=m[d??_e.SEARCH],x=g[d??_e.SEARCH];return n({title:v,description:x,origin:gt.TRY_PRO}),!0}},[e,s,t,a,n,r]),l=f.useCallback(c=>s(c)?!1:(t?a("pricingModal",{pitchMessage:{title:e({defaultMessage:"Choose a model",id:"fXlc3idTcy"}),description:e({defaultMessage:"With Perplexity Pro, you get unlimited access to all the latest AI models in one subscription",id:"YHjeXkhaC/"})},origin:gt.MODEL_SELECTOR}):n({title:e({defaultMessage:"Sign in to choose a model",id:"BhbQUiYsTB"}),description:e({defaultMessage:"Access the latest AI models from Perplexity, OpenAI, Anthropic (Claude), Google Gemini and more",id:"DDVABeGeBG"}),origin:gt.MODEL_SELECTOR}),!0),[s,t,a,n,e]);return f.useMemo(()=>({gateSearchModeSelection:i,gateSearchModelSelection:l}),[i,l])}var No={},Kne;function HNt(){if(Kne)return No;Kne=1;var e=No&&No.__awaiter||function(s,a,i,l){function c(u){return u instanceof i?u:new i(function(d){d(u)})}return new(i||(i=Promise))(function(u,d){function h(v){try{g(l.next(v))}catch(x){d(x)}}function m(v){try{g(l.throw(v))}catch(x){d(x)}}function g(v){v.done?u(v.value):c(v.value).then(h,m)}g((l=l.apply(s,a||[])).next())})};Object.defineProperty(No,"__esModule",{value:!0}),No.identify=No.subscribe=No.publish=void 0;const t=(s,a)=>{window.todesktop.ipc.publish(s,a)};No.publish=t;const n=(s,a)=>window.todesktop.ipc.subscribe(s,a);No.subscribe=n;const r=()=>e(void 0,void 0,void 0,function*(){return window.todesktop.ipc.identify()});return No.identify=r,No}var Qne=HNt();const HS=()=>{const{isWindowsApp:e}=sn(),t=f.useRef({}),n=f.useRef({}),r=f.useCallback((a,i)=>{if(e)try{Qne.publish(a,i)}catch{try{if(typeof BroadcastChannel<"u"){let c=t.current[a];c||(c=new BroadcastChannel(a),t.current[a]=c),c.postMessage(i)}else le.warn("Neither IPC publish nor BroadcastChannel are available in this runtime")}catch(c){le.warn("Error using BroadcastChannel: ",c)}}},[e]),s=f.useCallback((a,i)=>{if(e)try{return Qne.subscribe(a,i)}catch{try{if(typeof BroadcastChannel<"u"){let c=t.current[a];c||(c=new BroadcastChannel(a),t.current[a]=c);let u=n.current[a];u||(u=new Set,n.current[a]=u);const d=h=>{i(h.data)};return u.add(i),c.addEventListener("message",d),()=>{c.removeEventListener("message",d),u.delete(i),u.size===0&&(c.close(),delete t.current[a],delete n.current[a])}}le.warn("Neither IPC subscribe nor BroadcastChannel are available in this runtime");return}catch(c){le.warn("Error using BroadcastChannel: ",c);return}}},[e]);return f.useMemo(()=>({safeWindowsIpcPublish:r,safeWindowsIpcSubscribe:s}),[r,s])};function cke(){const e=Ai(),{actions:t}=On(),{setConfiguredModel:n,setConfiguredSearchMode:r,gpt4Limit:s}=Mr(),{gateSearchModelSelection:a}=hb(),{hasAccessToProFeatures:i}=cn(),l=f.useCallback(()=>s<=0||!i?Re.DEFAULT:Re.PRO,[s,i]);return f.useCallback((c=l(),u=e)=>{a(c)||(t.setPreferredSearchModel(u,c),n(c),r(u))},[e,a,l,n,r,t])}function WS(){const e=cke(),{isWindowsApp:t}=sn(),{safeWindowsIpcPublish:n,safeWindowsIpcSubscribe:r}=HS(),s=f.useRef(e);f.useEffect(()=>{s.current=e},[e]);const a=f.useRef(r);return f.useEffect(()=>{a.current=r},[r]),f.useEffect(()=>{if(!t)return;const l=a.current(Lp,c=>{c.type===Lp&&s.current(c.model,c.searchMode)});return()=>{l?.()}},[t]),f.useCallback((l,c)=>{n(Lp,{type:Lp,model:l,searchMode:c}),s.current(l,c)},[n])}function zc(e){switch(e){case _e.SEARCH:return Re.PRO;case _e.RESEARCH:return Re.ALPHA;case _e.STUDIO:return Re.BETA;default:return Re.PRO}}const us={[_e.SEARCH]:Ht({askInputPlaceholder:{defaultMessage:"Ask anything…",id:"AUouhaZgFv"},name:{defaultMessage:"Search",id:"xmcVZ0BU63"},description:{defaultMessage:"Fast answers to everyday questions",id:"5Y9Hg4e+zB"}}),[_e.RESEARCH]:Ht({askInputPlaceholder:{defaultMessage:"Research anything…",id:"PITzDLgm5P"},name:{defaultMessage:"Research",id:"JEe7dVso7F"},description:{defaultMessage:"Deep research on any topic",id:"uH6f+eH2OS"}}),[_e.STUDIO]:Ht({askInputPlaceholder:{defaultMessage:"Create anything…",id:"pmtrj6Tjm9"},name:{defaultMessage:"Labs",id:"ylFNoY79wa"},description:{defaultMessage:"Create projects from scratch",id:"nH9rAkplC/"},cueText:{defaultMessage:"Create a project",id:"HR5A+UPiIu"}})},$i={[Re.DEFAULT]:Ht({name:{defaultMessage:"Auto",id:"NXI/XLSYwc"},description:{defaultMessage:"Adapts to each query",id:"SsTMNu/s/A"}}),[Re.PRO]:Ht({name:{defaultMessage:"Best",id:"PzlMqGwwkm"},description:{defaultMessage:"Automatically selects the most responsive model based on the query",id:"DuOz+H05Us"}}),[Re.PPLX_PRO_UPGRADED]:Ht({name:{defaultMessage:"Pro",id:"R/eOkjWqNU"},description:{defaultMessage:"Automatically selects the most responsive model based on the query",id:"DuOz+H05Us"}}),[Re.SONAR]:Ht({name:{defaultMessage:"Sonar",id:"sT9VX563o6"},description:{defaultMessage:"Perplexity's fast model",id:"pdbURewz6Q"}}),[Re.GPT_4o]:Ht({name:{defaultMessage:"GPT-4o",id:"nebbHBgxX/"},description:{defaultMessage:"OpenAI's versatile model",id:"zdAw82CyOA"}}),[Re.GPT_4_1]:Ht({name:{defaultMessage:"GPT-4.1",id:"+LPr/f6Fal"},description:{defaultMessage:"OpenAI's advanced model",id:"+uCLZVt7uh"}}),[Re.CLAUDE_2]:Ht({name:{defaultMessage:"Claude 4.0 Sonnet",id:"3SXtHYXKou"},description:{defaultMessage:"Anthropic's advanced model",id:"b5CqfvLw4b"}}),[Re.GEMINI_2_FLASH]:Ht({name:{defaultMessage:"Gemini 2.5 Pro 06-05",id:"abrSzRs2eu"},description:{defaultMessage:"Google's latest model",id:"XBL8FigIeX"}}),[Re.GROK]:Ht({name:{defaultMessage:"Grok 3 Beta",id:"Ybq0GDRm0J"},description:{defaultMessage:"xAI's Grok 3 model",id:"gwIHPQy1c/"}}),[Re.PPLX_REASONING]:Ht({name:{defaultMessage:"Reasoning",id:"Aw3qRf7hyO"},description:{defaultMessage:"Advanced problem solving",id:"4J0akc6m53"}}),[Re.R1]:Ht({name:{defaultMessage:"R1 1776",id:"e8N3MYqmIQ"},description:{defaultMessage:"Perplexity's unbiased reasoning model",id:"R5Tg1hC1um"}}),[Re.CLAUDE_3_7_SONNET_THINKING]:Ht({name:{defaultMessage:"Claude 4.0 Sonnet Thinking",id:"/MyqTuOZwe"},description:{defaultMessage:"Anthropic's reasoning model",id:"vRfGVNHXG3"}}),[Re.CLAUDE_4_0_OPUS]:Ht({name:{defaultMessage:"Claude 4.0 Opus",id:"U5WWV+bZ68"},description:{defaultMessage:"Anthropic's Opus reasoning model",id:"e0FjrIe1O/"}}),[Re.CLAUDE_4_0_OPUS_THINKING]:Ht({name:{defaultMessage:"Claude 4.0 Opus Thinking",id:"Ce6ws3YPHn"},description:{defaultMessage:"Anthropic's Opus reasoning model with thinking",id:"ipx+1wZCy6"}}),[Re.GROK_4]:Ht({name:{defaultMessage:"Grok 4",id:"+Y775fAOqr"},description:{defaultMessage:"xAI's latest, most powerful reasoning model",id:"pSXVZwl/+g"}}),[Re.O3]:Ht({name:{defaultMessage:"o3",id:"BBaBURoUEg"},description:{defaultMessage:"OpenAI's reasoning model",id:"V9t5CKw8kf"}}),[Re.O3_PRO]:Ht({name:{defaultMessage:"o3-pro",id:"lyV2e5kFYG"},description:{defaultMessage:"OpenAI's most powerful reasoning model",id:"1ntkiZj5rM"}}),[Re.O4_MINI]:Ht({name:{defaultMessage:"o4-mini",id:"BwwjXFHgz7"},description:{defaultMessage:"OpenAI's latest reasoning model",id:"VKonAfIZbf"}}),[Re.ALPHA]:Ht({name:{defaultMessage:"Best",id:"PzlMqGwwkm"},description:{defaultMessage:"Fast and thorough for routine research",id:"v/MuahlVJE"}}),[Re.O3_RESEARCH]:Ht({name:{defaultMessage:"o3",id:"BBaBURoUEg"},description:{defaultMessage:"OpenAI's reasoning model",id:"V9t5CKw8kf"}}),[Re.O3_PRO_RESEARCH]:Ht({name:{defaultMessage:"o3-pro",id:"lyV2e5kFYG"},description:{defaultMessage:"OpenAI's most powerful reasoning model",id:"1ntkiZj5rM"}}),[Re.CLAUDE40SONNET_RESEARCH]:Ht({name:{defaultMessage:"Claude 4.0 Sonnet",id:"3SXtHYXKou"},description:{defaultMessage:"Anthropic's advanced model",id:"b5CqfvLw4b"}}),[Re.CLAUDE40SONNETTHINKING_RESEARCH]:Ht({name:{defaultMessage:"Claude 4.0 Sonnet Thinking",id:"/MyqTuOZwe"},description:{defaultMessage:"Anthropic's reasoning model",id:"vRfGVNHXG3"}}),[Re.CLAUDE40OPUS_RESEARCH]:Ht({name:{defaultMessage:"Claude 4.0 Opus",id:"U5WWV+bZ68"},description:{defaultMessage:"Anthropic's most advanced model",id:"4l6C+Dcw8g"}}),[Re.CLAUDE40OPUSTHINKING_RESEARCH]:Ht({name:{defaultMessage:"Claude 4.0 Opus Thinking",id:"Ce6ws3YPHn"},description:{defaultMessage:"Anthropic's advanced reasoning model",id:"RwUx0WhdZb"}}),[Re.BETA]:Ht({name:{defaultMessage:"Best",id:"PzlMqGwwkm"},description:{defaultMessage:"Multi-step tasks with advanced troubleshooting",id:"Sf0AeuilA5"}}),[Re.O3_LABS]:Ht({name:{defaultMessage:"o3",id:"BBaBURoUEg"},description:{defaultMessage:"OpenAI's reasoning model",id:"V9t5CKw8kf"}}),[Re.O3_PRO_LABS]:Ht({name:{defaultMessage:"o3-pro",id:"lyV2e5kFYG"},description:{defaultMessage:"OpenAI's most powerful reasoning model",id:"1ntkiZj5rM"}}),[Re.CLAUDE40SONNETTHINKING_LABS]:Ht({name:{defaultMessage:"Claude 4.0 Sonnet Thinking",id:"/MyqTuOZwe"},description:{defaultMessage:"Anthropic's reasoning model",id:"vRfGVNHXG3"}}),[Re.CLAUDE40OPUSTHINKING_LABS]:Ht({name:{defaultMessage:"Claude 4.0 Opus Thinking",id:"Ce6ws3YPHn"},description:{defaultMessage:"Anthropic's advanced reasoning model",id:"RwUx0WhdZb"}}),[Wi.O3_MINI]:Ht({name:{defaultMessage:"o3-mini",id:"GdJwPgWWId"},description:{defaultMessage:"OpenAI's reasoning model",id:"V9t5CKw8kf"}}),[Wi.GROK2]:Ht({name:{defaultMessage:"Grok-2",id:"9X3jPx+0vk"},description:{defaultMessage:"xAI's latest model",id:"e2CghRZC7d"}}),[Wi.GPT_4]:Ht({name:{defaultMessage:"GPT-4",id:"6TGiMlP7f4"},description:{defaultMessage:"OpenAI's previous generation model",id:"U3OQoJ211e"}}),[Wi.CLAUDE_3_OPUS]:Ht({name:{defaultMessage:"Claude 3 Opus",id:"gLSCHWGsu1"},description:{defaultMessage:"Anthropic's previous generation model",id:"hAevdn8yGl"}}),[Wi.CLAUDE_3_5_HAIKU]:Ht({name:{defaultMessage:"Claude 3.5 Haiku",id:"zEJWYa05R2"},description:{defaultMessage:"Anthropic's smaller model",id:"pQia6E7J8i"}}),[Wi.GEMINI]:Ht({name:{defaultMessage:"Gemini",id:"XoqZkcqFZ/"},description:{defaultMessage:"Previous version of Google's Gemini model",id:"9C0LtRWLFh"}}),[Wi.LLAMA_X_LARGE]:Ht({name:{defaultMessage:"Llama X Large",id:"2zxgnSWUyX"},description:{defaultMessage:"Meta's large Llama model",id:"+95UnVOxgQ"}}),[Wi.MISTRAL]:Ht({name:{defaultMessage:"Mistral",id:"dUBSpMbbs4"},description:{defaultMessage:"Mistral AI model",id:"rYRyt8I2Zr"}}),[Wi.COPILOT]:Ht({name:{defaultMessage:"Copilot",id:"b3QbnXgawD"},description:{defaultMessage:"Legacy Pro Search",id:"pg83InaW1o"}}),[Wi.CLAUDE_OMBRE_EAP]:Ht({name:{defaultMessage:"Claude Ombre",id:"F12IlTx8R1"},description:{defaultMessage:"Anthropic's research preview",id:"LKt7UBXwdw"}}),[Wi.CLAUDE_LACE_EAP]:Ht({name:{defaultMessage:"Claude Lace",id:"8ydOdGYWef"},description:{defaultMessage:"Anthropic's opus research preview",id:"GHW8xWfe9i"}})},BB=L.memo(({className:e,color:t})=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:t||"currentColor",viewBox:"0 0 66 24",className:e,children:[o.jsx("path",{d:"M33.569 17.032a1.919 1.919 0 0 1-.799-1.593c0-1.277.935-1.982 2.857-2.157l4.956-.473v.134c0 .784-.127 1.492-.378 2.105a3.958 3.958 0 0 1-1.012 1.456c-.834.753-1.993 1.15-3.354 1.15-.94 0-1.724-.215-2.27-.622Z"}),o.jsx("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M60.756 1.398c1.886.991 3.382 2.457 4.443 4.353 1.03 1.813 1.55 3.918 1.55 6.257 0 2.339-.521 4.444-1.55 6.257a10.934 10.934 0 0 1-2.475 3.027l-7.77-9.445 5.845-7.145V3.92h-3.135l-.076.096-4.626 5.837h-.009l-4.626-5.837-.075-.096h-3.136v.782l5.847 7.146-5.847 7.145v.782h3.136l.075-.095 4.626-5.837h.01l7.214 9.087-.017.01c-1.293.703-1.948 1.06-3.755 1.06H.25V1.862C.25.834 1.085 0 2.113 0h52.932c2.063 0 3.985.482 5.711 1.398ZM27.842 19.773V9.272c0-1.69-.55-3.073-1.59-4.002-.954-.851-2.28-1.301-3.834-1.301-1.375 0-2.54.306-3.463.91-.62.407-1.137.946-1.572 1.642a.1.1 0 0 1-.175-.008 4.35 4.35 0 0 0-1.35-1.605c-.864-.624-1.97-.94-3.285-.94-2.436 0-3.62.89-4.327 1.824-.059.077-.181.038-.181-.06V4.32H5.063v15.452h3.09V10.71c0-1.377.358-2.442 1.064-3.166.65-.665 1.597-1.017 2.74-1.017.967 0 1.712.26 2.215.772.488.499.736 1.221.736 2.148v10.326h3.09V10.71c0-1.377.358-2.442 1.063-3.165.65-.666 1.597-1.018 2.74-1.018.967 0 1.712.26 2.215.773.489.498.736 1.221.736 2.148v10.325h3.09Zm15.8 0 .001-10.003c0-1.821-.64-3.32-1.85-4.334-1.146-.96-2.862-1.468-4.72-1.468-1.856 0-3.49.467-4.723 1.35-1.213.87-2.003 2.096-2.254 3.557-.057.331-.04.736-.04.736h3.008l.027-.22c.122-.963.521-1.708 1.185-2.213.669-.51 1.587-.768 2.738-.768s2.038.27 2.636.8c.619.55.933 1.391.933 2.502v.682l-5.356.507c-3.577.344-5.547 1.997-5.547 4.656 0 1.375.564 2.531 1.63 3.346 1.023.781 2.436 1.194 4.088 1.194 1.43 0 2.66-.304 3.656-.903a5.177 5.177 0 0 0 1.408-1.237c.059-.075.179-.033.179.063v1.753h3.002Z"})]}));BB.displayName="MaxBadge";const VB=L.memo(({className:e})=>o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 51 24",className:e,children:[o.jsx("path",{d:"M35.069 7.954c-1.723 1.74-1.706 6.368 0 8.121 1.597 1.799 5.273 1.817 6.855 0 .873-.922 1.315-2.417 1.315-4.075 0-1.66-.442-3.144-1.317-4.048-1.584-1.853-5.256-1.834-6.853.002Z"}),o.jsx("path",{fillRule:"evenodd",d:"m48.958 5.715-.009-.015a10.792 10.792 0 0 0-4.387-4.301l-.01-.006C42.81.47 40.861 0 38.761 0H1.905C.866 0 .002.84 0 1.88V24h3.818V4.359h3.245v1.284c0 .132.161.196.252.1 2.987-3.275 9.077-2.319 11.216 1.723.725 1.234 1.092 2.759 1.092 4.534.102 4.584-3.017 8.265-7.55 8.235-2.031 0-3.629-.79-4.757-1.978a.146.146 0 0 0-.253.1V24h31.7c2.1 0 4.045-.468 5.78-1.39l.011-.005a10.795 10.795 0 0 0 4.394-4.302l.009-.016C49.98 16.483 50.5 14.368 50.5 12s-.52-4.482-1.543-6.285ZM30.112 7.42a24.93 24.93 0 0 1-.86-.003c-1.338-.02-2.845-.041-3.676.819-.549.54-.827 1.468-.827 2.759v8.809h-3.243V4.359h3.243v1.284c0 .148.194.202.271.077.314-.506.65-.852 1.012-1.05.616-.353 1.462-.532 2.514-.532h1.566V7.42Zm8.399 12.814c-4.77.033-8.068-3.395-7.973-8.235 0-1.716.348-3.21 1.033-4.442 2.714-5.062 11.157-5.068 13.852-.002.704 1.234 1.06 2.729 1.06 4.444.08 4.807-3.207 8.268-7.972 8.235Z",clipRule:"evenodd"}),o.jsx("path",{d:"M16.378 12c0 1.657-.442 3.153-1.314 4.075-1.583 1.816-5.26 1.798-6.857 0-1.706-1.753-1.722-6.381 0-8.121 1.597-1.836 5.27-1.855 6.854-.003.875.904 1.317 2.39 1.317 4.049Z"})]}));VB.displayName="ProBadge";const Jv=L.memo(({isMax:e,className:t})=>e?o.jsx("div",{style:{"--mode-color":"oklch(var(--text-max-color-100))"},children:o.jsx(BB,{className:`text-max ${t||""}`})}):o.jsx("div",{style:{"--mode-color":"oklch(var(--background-super-color-200))"},children:o.jsx(VB,{className:`text-super ${t||""}`})}));Jv.displayName="SearchModeBadge";const uke=L.memo(e=>{const{isFollowUp:t,value:n,onChange:r,buttonSize:s="small"}=e,a=Fg(),{$t:i}=ae(),l=WS(),c=Ai(),u=f.useMemo(()=>n!==void 0?Ti[n]||_e.SEARCH:c,[n,c]),{isMax:d,hasAccessToProFeatures:h}=cn(),m=Ct(),{gpt4Limit:g,pplxAlphaLimit:v,pplxBetaLimit:x}=Mr(),{preferredSearchModels:b,actions:w}=On(),C=fo(),{isMaxUpsellEnabled:S}=ff(),[k,E]=f.useState(()=>b[_e.SEARCH]===Re.DEFAULT?!1:m);k&&g===0&&E(!1);const{gateSearchModeSelection:T}=hb(),j=f.useCallback(()=>{T(Re.BETA,!0)},[T]),N=f.useCallback(V=>T(V?Re.PRO:Re.DEFAULT)?(E(!1),w.setPreferredSearchModel(_e.SEARCH,Re.DEFAULT),!1):(E(V),w.setPreferredSearchModel(_e.SEARCH,V?Re.PRO:Re.DEFAULT),V),[w,T]),R=f.useCallback(V=>{(V===_e.SEARCH||S)&&w.setPreferredSearchMode(V);let U;switch(V){case _e.SEARCH:{k?U=b[V]??zc(V):U=Re.DEFAULT;break}case _e.RESEARCH:{S?U=b[V]??zc(V):U=zc(V);break}case _e.STUDIO:{S?U=b[V]??zc(V):U=zc(V);break}default:{U=Re.DEFAULT;break}}r?r(U):l(U,V)},[w,S,k,r,b,l]),O=f.useMemo(()=>L.memo(()=>{const V=f.useCallback(H=>{N(H)&&u===_e.SEARCH&&l(H?Re.PRO:Re.DEFAULT)},[]),U=f.useMemo(()=>({onClick(H){H.stopPropagation()}}),[]);return o.jsx(cf,{active:k,onChange:V,size:"small",switchProps:U})}),[k,l,u,N]),I=f.useMemo(()=>{function V(G,K){return{active:u===G,description:i(us[G].description),icon:A1[G],onClick(){R(G)},text:i(us[G].name),type:"default",...K}}const U=G=>m&&G<=10&&!d,H=[];H.push(V(_e.SEARCH,{customDescriptionNode:h?void 0:o.jsxs(o.Fragment,{children:[o.jsx(F,{className:"whitespace-pre-wrap",variant:"tinyRegular",color:"light",children:o.jsx(Ve,{...us[_e.SEARCH].description})}),o.jsxs("div",{className:"gap-md flex flex-col",children:[o.jsx("hr",{className:"border-border bg-border -mr-5 mt-3"}),o.jsxs("div",{className:"gap-sm -mr-5 flex items-start justify-between",children:[o.jsxs("div",{className:"gap-xs flex flex-col",children:[o.jsxs("div",{className:"gap-sm flex items-center",children:[o.jsx("button",{onClick:()=>{T(Re.SONAR)},type:"button",children:o.jsx(F,{className:"font-medium underline",color:"super",variant:"tiny",children:o.jsx(Ve,{defaultMessage:"Try Pro Search",id:"akAejIEhqZ"})})}),o.jsx(Jv,{isMax:d,className:"h-2.5"})]}),o.jsx(F,{className:"italic",color:"super",variant:"tinyRegular",children:o.jsx(Ve,{defaultMessage:"3x more sources and detailed answers",id:"6RtAsLZTHv"})}),m&&g<=10&&o.jsx(F,{className:"mt-1 font-light",color:"super",variant:"tinyRegular",children:o.jsx(Ve,{defaultMessage:"{limit, plural, one {# query remaining today} other {# queries remaining today}}",id:"ooxxk0PKGd",values:{limit:g}})})]}),o.jsx(O,{})]})]})]}),customTextNode:o.jsxs("div",{className:"gap-sm mt-px flex items-center",children:[o.jsx(F,{color:"white",variant:"smallBold",children:o.jsx(Ve,{...us[_e.SEARCH].name})}),o.jsx(Jv,{isMax:d,className:"h-2.5"})]})}));const q=Math.min(g,v);H.push(V(_e.RESEARCH,{customTextNode:o.jsxs("div",{className:"gap-sm mt-px flex items-center",children:[o.jsx(F,{variant:"smallBold",children:o.jsx(Ve,{...us[_e.RESEARCH].name})}),o.jsx(Jv,{isMax:d||a(_e.RESEARCH),className:"h-2.5"})]}),customDescriptionNode:o.jsxs("div",{className:"gap-xs flex flex-col",children:[o.jsx(F,{className:"whitespace-pre-wrap",variant:"tinyRegular",color:"light",children:o.jsx(Ve,{...us[_e.RESEARCH].description})}),U(q)&&o.jsxs("div",{children:[o.jsx(F,{color:"super",variant:"tinyRegular",children:o.jsx(Ve,{defaultMessage:"{limit, plural, one {# query remaining today} other {# queries remaining today}}",id:"ooxxk0PKGd",values:{limit:q}})}),a(_e.RESEARCH)&&o.jsx(Le,{onClick:j,variant:"common",size:"small",fullWidth:!0,extraCSS:"mt-sm",text:i({defaultMessage:"Upgrade to Max",id:"z+PtTMgM3T"})})]})]})}));const $=Math.min(g,x);return H.push(V(_e.STUDIO,{customTextNode:o.jsxs("div",{className:"gap-sm mt-px flex items-center",children:[o.jsx(F,{variant:"smallBold",children:o.jsx(Ve,{...us[_e.STUDIO].name})}),o.jsx(Jv,{isMax:d||a(_e.STUDIO),className:"h-2.5"})]}),customDescriptionNode:o.jsxs("div",{className:"gap-xs flex flex-col",children:[o.jsx(F,{className:"whitespace-pre-wrap",variant:"tinyRegular",color:"light",children:o.jsx(Ve,{...us[_e.STUDIO].description})}),U($)&&o.jsxs("div",{children:[o.jsx(F,{color:"max",variant:"tinyRegular",children:o.jsx(Ve,{defaultMessage:"{limit, plural, one {# query remaining this month} other {# queries remaining this month}}",id:"wlPH+sOjjI",values:{limit:$}})}),a(_e.STUDIO)&&o.jsx(Le,{onClick:j,variant:"common",size:"small",fullWidth:!0,extraCSS:"mt-sm",text:i({defaultMessage:"Upgrade to Max",id:"z+PtTMgM3T"})})]})]})})),H},[h,d,m,g,v,O,x,u,i,R,T,a,j]),B=f.useMemo(()=>({modalElementProps:{"data-color-scheme":"dark"}}),[]),D=f.useMemo(()=>({floatingElementProps:{"data-color-scheme":"dark"}}),[]),z=f.useMemo(()=>o.jsx(Ne,{icon:Ia,size:"xs",className:W("-mx-xs -mb-two opacity-50",{"-ml-sm":t})}),[t]);return o.jsx(Rn,{isMobileStyle:C,items:I,modalProps:B,placement:"bottom-start",popoverProps:D,children:o.jsx(Le,{icon:A1[u],size:s,text:t?o.jsx(o.Fragment,{children:"​"}):i(us[u].name),variant:"primaryGhost",trailingComponent:z})})});uke.displayName="SearchModeDropdownMenu";function au(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}function Xne(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function dke(...e){return t=>{let n=!1;const r=e.map(s=>{const a=Xne(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():Xne(e[s],null)}}}}function Z1(...e){return f.useCallback(dke(...e),e)}var I6=f.forwardRef((e,t)=>{const{children:n,...r}=e,s=f.Children.toArray(n),a=s.find($Nt);if(a){const i=a.props.children,l=s.map(c=>c===a?f.Children.count(i)>1?f.Children.only(null):f.isValidElement(i)?i.props.children:null:c);return o.jsx(ZL,{...r,ref:t,children:f.isValidElement(i)?f.cloneElement(i,void 0,l):null})}return o.jsx(ZL,{...r,ref:t,children:n})});I6.displayName="Slot";var ZL=f.forwardRef((e,t)=>{const{children:n,...r}=e;if(f.isValidElement(n)){const s=GNt(n),a=qNt(r,n.props);return n.type!==f.Fragment&&(a.ref=t?dke(t,s):s),f.cloneElement(n,a)}return f.Children.count(n)>1?f.Children.only(null):null});ZL.displayName="SlotClone";var WNt=({children:e})=>o.jsx(o.Fragment,{children:e});function $Nt(e){return f.isValidElement(e)&&e.type===WNt}function qNt(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{a(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function GNt(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var YNt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],mb=YNt.reduce((e,t)=>{const n=f.forwardRef((r,s)=>{const{asChild:a,...i}=r,l=a?I6:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...i,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function KNt(e){const t=e+"CollectionProvider",[n,r]=Zo(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=g=>{const{scope:v,children:x}=g,b=L.useRef(null),w=L.useRef(new Map).current;return o.jsx(s,{scope:v,itemMap:w,collectionRef:b,children:x})};i.displayName=t;const l=e+"CollectionSlot",c=L.forwardRef((g,v)=>{const{scope:x,children:b}=g,w=a(l,x),C=Z1(v,w.collectionRef);return o.jsx(I6,{ref:C,children:b})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=L.forwardRef((g,v)=>{const{scope:x,children:b,...w}=g,C=L.useRef(null),S=Z1(v,C),k=a(u,x);return L.useEffect(()=>(k.itemMap.set(C,{ref:C,...w}),()=>void k.itemMap.delete(C))),o.jsx(I6,{[d]:"",ref:S,children:b})});h.displayName=u;function m(g){const v=a(e+"CollectionConsumer",g);return L.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((k,E)=>w.indexOf(k.ref.current)-w.indexOf(E.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:c,ItemSlot:h},m,r]}var qT="rovingFocusGroup.onEntryFocus",QNt={bubbles:!1,cancelable:!0},$S="RovingFocusGroup",[JL,fke,XNt]=KNt($S),[ZNt,hke]=Zo($S,[XNt]),[JNt,ejt]=ZNt($S),mke=f.forwardRef((e,t)=>o.jsx(JL.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(JL.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(tjt,{...e,ref:t})})}));mke.displayName=$S;var tjt=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,m=f.useRef(null),g=Z1(t,m),v=AF(a),[x=null,b]=rf({prop:i,defaultProp:l,onChange:c}),[w,C]=f.useState(!1),S=da(u),k=fke(n),E=f.useRef(!1),[T,j]=f.useState(0);return f.useEffect(()=>{const N=m.current;if(N)return N.addEventListener(qT,S),()=>N.removeEventListener(qT,S)},[S]),o.jsx(JNt,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:x,onItemFocus:f.useCallback(N=>b(N),[b]),onItemShiftTab:f.useCallback(()=>C(!0),[]),onFocusableItemAdd:f.useCallback(()=>j(N=>N+1),[]),onFocusableItemRemove:f.useCallback(()=>j(N=>N-1),[]),children:o.jsx(mb.div,{tabIndex:w||T===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...e.style},onMouseDown:au(e.onMouseDown,()=>{E.current=!0}),onFocus:au(e.onFocus,N=>{const R=!E.current;if(N.target===N.currentTarget&&R&&!w){const O=new CustomEvent(qT,QNt);if(N.currentTarget.dispatchEvent(O),!O.defaultPrevented){const I=k().filter(U=>U.focusable),B=I.find(U=>U.active),D=I.find(U=>U.id===x),V=[B,D,...I].filter(Boolean).map(U=>U.ref.current);vke(V,d)}}E.current=!1}),onBlur:au(e.onBlur,()=>C(!1))})})}),pke="RovingFocusGroupItem",gke=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,...i}=e,l=Yp(),c=a||l,u=ejt(pke,n),d=u.currentTabStopId===c,h=fke(n),{onFocusableItemAdd:m,onFocusableItemRemove:g}=u;return f.useEffect(()=>{if(r)return m(),()=>g()},[r,m,g]),o.jsx(JL.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:o.jsx(mb.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:au(e.onMouseDown,v=>{r?u.onItemFocus(c):v.preventDefault()}),onFocus:au(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:au(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=sjt(v,u.orientation,u.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=h().filter(C=>C.focusable).map(C=>C.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const C=w.indexOf(v.currentTarget);w=u.loop?ajt(w,C+1):w.slice(C+1)}setTimeout(()=>vke(w))}})})})});gke.displayName=pke;var njt={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function rjt(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function sjt(e,t,n){const r=rjt(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return njt[r]}function vke(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function ajt(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var ijt=mke,ojt=gke;function ljt(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var yke=e=>{const{present:t,children:n}=e,r=cjt(t),s=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),a=Z1(r.ref,ujt(s));return typeof n=="function"||r.isPresent?f.cloneElement(s,{ref:a}):null};yke.displayName="Presence";function cjt(e){const[t,n]=f.useState(),r=f.useRef({}),s=f.useRef(e),a=f.useRef("none"),i=e?"mounted":"unmounted",[l,c]=ljt(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const u=X4(r.current);a.current=l==="mounted"?u:"none"},[l]),Wl(()=>{const u=r.current,d=s.current;if(d!==e){const m=a.current,g=X4(u);e?c("MOUNT"):g==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Wl(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=g=>{const x=X4(r.current).includes(g.animationName);if(g.target===t&&x&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=g=>{g.target===t&&(a.current=X4(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:f.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function X4(e){return e?.animationName||"none"}function ujt(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var zB="Radio",[djt,xke]=Zo(zB),[fjt,hjt]=djt(zB),bke=f.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:a,disabled:i,value:l="on",onCheck:c,form:u,...d}=e,[h,m]=f.useState(null),g=Z1(t,b=>m(b)),v=f.useRef(!1),x=h?u||!!h.closest("form"):!0;return o.jsxs(fjt,{scope:n,checked:s,disabled:i,children:[o.jsx(mb.button,{type:"button",role:"radio","aria-checked":s,"data-state":Cke(s),"data-disabled":i?"":void 0,disabled:i,value:l,...d,ref:g,onClick:au(e.onClick,b=>{s||c?.(),x&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),x&&o.jsx(mjt,{control:h,bubbles:!v.current,name:r,value:l,checked:s,required:a,disabled:i,form:u,style:{transform:"translateX(-100%)"}})]})});bke.displayName=zB;var wke="RadioIndicator",_ke=f.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...s}=e,a=hjt(wke,n);return o.jsx(yke,{present:r||a.checked,children:o.jsx(mb.span,{"data-state":Cke(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:t})})});_ke.displayName=wke;var mjt=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,a=f.useRef(null),i=nF(n),l=$_(t);return f.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==n&&h){const m=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(m)}},[i,n,r]),o.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Cke(e){return e?"checked":"unchecked"}var pjt=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],HB="RadioGroup",[gjt,OXt]=Zo(HB,[hke,xke]),Ske=hke(),Mke=xke(),[vjt,yjt]=gjt(HB),kke=f.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:a,required:i=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...m}=e,g=Ske(n),v=AF(u),[x,b]=rf({prop:a,defaultProp:s,onChange:h});return o.jsx(vjt,{scope:n,name:r,required:i,disabled:l,value:x,onValueChange:b,children:o.jsx(ijt,{asChild:!0,...g,orientation:c,dir:v,loop:d,children:o.jsx(mb.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...m,ref:t})})})});kke.displayName=HB;var Eke="RadioGroupItem",Tke=f.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...s}=e,a=yjt(Eke,n),i=a.disabled||r,l=Ske(n),c=Mke(n),u=f.useRef(null),d=Z1(t,u),h=a.value===s.value,m=f.useRef(!1);return f.useEffect(()=>{const g=x=>{pjt.includes(x.key)&&(m.current=!0)},v=()=>m.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",v)}},[]),o.jsx(ojt,{asChild:!0,...l,focusable:!i,active:h,children:o.jsx(bke,{disabled:i,required:a.required,checked:h,...c,...s,name:a.name,ref:d,onCheck:()=>a.onValueChange(s.value),onKeyDown:au(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:au(s.onFocus,()=>{m.current&&u.current?.click()})})})});Tke.displayName=Eke;var xjt="RadioGroupIndicator",Nke=f.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,s=Mke(n);return o.jsx(_ke,{...s,...r,ref:t})});Nke.displayName=xjt;const bjt=e=>{const t=Wn(e);if(!t)return 0;const n=parseInt(t);return isNaN(n)?1:n},wjt=(e,t)=>{fn(e,t.toString(),{expires:365})},_jt=({cueKey:e,impressionsLimit:t,enabled:n})=>{const[r,s]=f.useState(!1),[a,i]=f.useState(0);return f.useEffect(()=>{if(!n){s(!1);return}const l=bjt(e);i(l),l<t&&(s(!0),wjt(e,l+1),i(l+1))},[e,t,n]),f.useMemo(()=>({shouldShow:r,currentCount:a}),[r,a])},Cjt=e=>{switch(e){case"primary":return{background:"!bg-super",titleText:"!text-background",subtitleText:"!text-background mt-xs opacity-90",arrow:"fill-super",borderRadius:"rounded-xl"};case"common":return{background:"!bg-textMain dark:!bg-offsetPlusDark",titleText:"!text-textMainDark font-semibold",subtitleText:"!text-textMainDark mt-xxs opacity-90",arrow:"fill-textMain dark:fill-offsetPlusDark",borderRadius:"rounded"};default:return{background:"!bg-textMain dark:!bg-offsetPlusDark",titleText:"!text-textMainDark font-semibold",subtitleText:"!text-textMainDark mt-xxs opacity-90",arrow:"fill-textMain dark:fill-offsetPlusDark",borderRadius:"rounded"}}},jke=L.memo(({cueKey:e,title:t,subtitle:n,children:r,enabled:s,impressionsLimit:a=1,variant:i="primary",placement:l="bottom",sideOffset:c=10})=>{const[u,d]=f.useState(!1),{shouldShow:h}=_jt({cueKey:e,impressionsLimit:a,enabled:s}),m=Cjt(i),g=h&&!u,v=()=>!t&&!n?null:o.jsxs("div",{className:"px-xs py-xxs",children:[t&&o.jsx(F,{variant:"tiny",className:m.titleText,children:t}),n&&o.jsx(F,{variant:"tiny",className:m.subtitleText,children:n})]}),x=f.useCallback(()=>{d(!0)},[]),b=f.useMemo(()=>({removeScroll:!1,animationClassName:"z-[2000]"}),[]);return o.jsx(lo,{content:v(),contentClassName:m.background,arrowClassName:m.arrow,borderRadius:m.borderRadius,isOpen:s&&g,onClose:x,placement:l,sideOffset:c,overlayProps:b,children:r})});jke.displayName="Cue";const Ake=L.memo(e=>{const{className:t="",layoutKey:n="",options:r,value:s,backgroundClassName:a="",radioGroupIndicatorClassName:i="",...l}=e,c=f.useMemo(()=>r.map(u=>{const d=u.value===s;return o.jsx(jke,{cueKey:`segmented-control-popover-${u.value}`,title:u.cue?.text,enabled:!!u.cue?.enabled,placement:"top",variant:"common",children:f.createElement(Tke,{...u.elementProps,"aria-label":u.label,disabled:u.disabled??void 0,className:"segmented-control group/segmented-control relative focus:outline-none",key:u.value,value:u.value},d&&o.jsx(Nke,{asChild:!0,className:W("pointer-events-none absolute inset-0 z-0 block","bg-white dark:bg-black dark:bg-[linear-gradient(to_bottom,_oklch(var(--background-super-color-200)/0.2)_0%,_oklch(var(--background-super-color-200)/0.2)_100%)]","border-super dark:border-super/30 border","rounded-lg","shadow-super/30 dark:shadow-super/5 shadow-[0_1px_3px_0]","dark:text-super","transition-colors duration-300","group-focus-visible/segmented-control:border-dashed",i),children:o.jsx(je.div,{layoutId:`segmented-control-active-indicator-${n}`,transition:{duration:.1}})}),u.children)},u.value)}),[n,r,s,i]);return o.jsxs(kke,{...l,className:W("group relative isolate flex h-fit",t),value:s,children:[o.jsx("div",{className:W("absolute inset-0","bg-super/10 dark:bg-black/[0.18]","dark:border dark:border-black/[0.04]","rounded-[10px]","transition-colors duration-300",a)}),o.jsx("div",{className:"p-two flex items-center",children:c})]})});Ake.displayName="SegmentedControl";const Rke=L.memo(e=>{const{className:t="",isActiveOption:n,icon:r,label:s,activeColor:a="text-super"}=e,i=W("transition-colors duration-300",{[a]:n,"text-text-100/70 group-hover/segmented-control:text-text-100":!n});return o.jsxs("div",{className:W("relative z-10 flex h-8 min-w-9 items-center justify-center",{"py-xs gap-xs px-2.5":n||s},t),children:[r&&o.jsx(d2,{buttonSize:"small",icon:r,iconClassName:W(i),showClicked:!1}),s&&o.jsx("div",{className:W("px-two font-sans text-sm leading-[1.125rem]",i),children:s})]})});Rke.displayName="SegmentedControlOption";const Hy=[.4,0,.2,1],Zne=10,Lke=L.memo(e=>{const{children:t,tooltipContent:n,triggeredSearchModeElement:r,isOpen:s,setIsOpen:a}=e,{showSuggestDropdown:i}=La(),[l,c]=f.useState(!1),u=s!==void 0?s:l,d=a||c,h=f.useRef(0),[m,g]=ou(),[v,x]=ou(),w=f.useCallback(()=>{const{left:j=0,width:N=0}=r?.getBoundingClientRect()??{};return g.width===0||j===0?0:j-g.left+N/2-Zne/2},[g,r])();let C=w!==0;w!==0&&w!==h.current&&(C=h.current!==0,h.current=w);const S=f.useCallback(j=>{j||(h.current=0),d(j)},[d]),k=f.useCallback(j=>{j.preventDefault()},[]),E=f.useCallback(()=>{d(!1)},[d]),T=f.useCallback(j=>{j.preventDefault()},[]);return o.jsx(YI,{delayDuration:i?1e3:400,skipDelayDuration:100,children:o.jsxs(Gue,{onOpenChange:S,open:u,children:[o.jsx(KI,{asChild:!0,className:"focus:outline-none",onBlur:E,onClick:k,onPointerDown:T,children:t}),o.jsx(XI,{children:o.jsx(ZI,{className:W("group/tooltip-content data-[state=closed]:animate-slideDownAndFadeOut data-[state=delayed-open]:animate-slideUpAndFadeIn transition-outExpo duration-300"),"data-color-scheme":"dark",sideOffset:4,side:"bottom",ref:m,children:o.jsxs(je.div,{className:W("bg-background-100 shadow-overlay dark:shadow-overlayDark flex w-72 flex-col rounded-lg"),animate:{height:x.height||void 0},transition:{duration:.05,ease:Hy},children:[o.jsxs(je.div,{className:'absolute left-0 group-data-[side="bottom"]/tooltip-content:top-0 group-data-[side="top"]/tooltip-content:bottom-0',animate:{opacity:h.current?1:void 0,x:C?w:void 0},initial:{opacity:0},transition:{duration:.05,ease:Hy},style:{x:w,width:Zne},children:[o.jsx(Tw,{className:"fill-background-100 stroke-border/50"}),o.jsx(Tw,{className:"fill-background-100 -translate-y-px scale-[99%]"})]}),o.jsx("div",{className:W("relative overflow-hidden"),children:o.jsx("div",{className:"whitespace-normal",ref:v,children:n})})]})})})]})})});Lke.displayName="SearchModeTooltip";const Oke={[_e.SEARCH]:Re.DEFAULT,[_e.RESEARCH]:Re.ALPHA,[_e.STUDIO]:Re.BETA},qS=L.memo(e=>{const{children:t,className:n,searchMode:r,...s}=e,{gateSearchModeSelection:a}=hb();return o.jsx("button",{className:W("group",n),onClick:()=>{a(Oke[r],!0)},type:"button",...s,children:o.jsx(F,{className:"!text-[var(--mode-color)] underline decoration-transparent transition-[text-decoration-color] group-hover:decoration-[var(--mode-color)]",variant:"smallBold",children:t})})});qS.displayName="SearchModeTooltipUpgradeButton";const GS=L.memo(e=>{const{badgeNode:t,color:n,enabledText:r,isEnabled:s,upgradeButton:a,isMaxUpsell:i=!1}=e;return o.jsxs("div",{className:"gap-sm flex items-center",style:{"--mode-color":n==="super"?"oklch(var(--background-super-color-200))":"oklch(var(--background-max-color-100))"},children:[t,s?o.jsxs("div",{className:"gap-xs flex items-center",children:[o.jsx(F,{className:"!text-[var(--mode-color)]",variant:"smallBold",children:r}),!i&&o.jsx(Pa,{className:"text-[var(--mode-color)]",size:18})]}):o.jsx(o.Fragment,{children:a})]})});GS.displayName="SearchModeTooltipFooter";const Pke=L.memo(e=>{const{searchMode:t}=e,{$t:n}=ae(),r=Ct(),{hasAccessToProFeatures:s}=cn(),{gateSearchModeSelection:a}=hb(),i=Fg(),l=f.useCallback(()=>{a(Oke[t],!0)},[a,t]);return i(t)?o.jsx(Le,{onClick:l,variant:"maxGold",size:"small",fullWidth:!0,text:n({defaultMessage:"Upgrade to Max",id:"z+PtTMgM3T"})}):r&&s?null:o.jsx(Le,{onClick:l,variant:"primary",size:"small",fullWidth:!0,text:r?o.jsx(Ve,{defaultMessage:"Upgrade to Pro",id:"5N04mo7WNC"}):o.jsx(Ve,{defaultMessage:"Sign in for access",id:"w6mjA9GP58"})})});Pke.displayName="SearchModeTooltipUpsellButton";const YS=L.memo(e=>{const{footerNode:t,includeNewBadge:n,searchMode:r}=e,{$t:s}=ae();return o.jsxs("div",{className:"p-md flex flex-col gap-4",children:[o.jsxs("div",{className:"gap-xs flex flex-col",children:[o.jsxs("div",{className:"relative",children:[o.jsx(F,{className:"text-box-trim-both",variant:"smallExtraBold",children:s(us[r].name)}),n&&o.jsx(Q,{className:"absolute -right-1 -top-1 rounded-md px-2 py-1",variant:"offsetPlus",children:o.jsx(F,{variant:"tiny",children:o.jsx(Ve,{defaultMessage:"New",id:"bW7B87wFFp"})})})]}),o.jsx(F,{variant:"small",className:"text-pretty",children:s(us[r].description)})]}),o.jsx("hr",{className:"border-border bg-border"}),o.jsx("div",{className:"gap-xs flex flex-col",children:t}),o.jsx(Pke,{searchMode:r})]})});YS.displayName="SearchModeTooltipContentContainer";const KS=L.memo(({isMaxUpsell:e=!1})=>{const{isMax:t,isPro:n}=cn();return t||e?o.jsx(BB,{className:"text-max h-3"}):n?o.jsx(VB,{className:"text-super h-3"}):null});KS.displayName="SearchModeBadge";const WB=({isMax:e,isPro:t,isMaxUpsell:n=!1})=>e||n?"max":"super",Ike=L.memo(e=>{const{isToggleActive:t,onToggleChange:n}=e,r=Ct(),{hasAccessToProFeatures:s,isMax:a,isPro:i}=cn(),{gpt4Limit:l}=Mr(),c=r?s?o.jsx(Ve,{defaultMessage:"Unlimited access for subscribers",id:"EvvPQiWwUI"}):l>0&&l<=10?o.jsx(Ve,{defaultMessage:"{limit, plural, one {# query remaining today} other {# queries remaining today}}",id:"ooxxk0PKGd",values:{limit:l}}):null:null,u=f.useMemo(()=>o.jsx(KS,{}),[]),d=f.useMemo(()=>({onClick(v){v.stopPropagation()}}),[]),h=f.useMemo(()=>o.jsx(qS,{searchMode:_e.SEARCH,children:o.jsx(Ve,{defaultMessage:"Try Pro Search",id:"akAejIEhqZ"})}),[]),m=f.useMemo(()=>o.jsx(Ve,{defaultMessage:"Enabled",id:"V52jNnY+6M"}),[]),g=f.useMemo(()=>o.jsxs("div",{className:"gap-sm flex",children:[o.jsxs("div",{className:"gap-xs flex w-full flex-col",children:[o.jsx(GS,{badgeNode:u,color:WB({isMax:a,isPro:i}),enabledText:m,isEnabled:s,upgradeButton:h}),o.jsx(F,{color:"default",variant:"small",className:"text-pretty",children:o.jsx(Ve,{defaultMessage:"3x more sources with powerful models and increased limits",id:"I8TyldAHCx"})}),c&&o.jsx(F,{color:"default",variant:"small",className:"mt-xs opacity-60",children:c})]}),!s&&o.jsx("div",{children:o.jsx(cf,{active:t,onChange:n,switchProps:d})})]}),[u,m,s,a,i,t,n,c,d,h]);return o.jsx(YS,{footerNode:g,searchMode:_e.SEARCH})});Ike.displayName="ProSearchModeTooltip";const Dke=L.memo(()=>{const e=Ct(),{hasAccessToProFeatures:t,isMax:n,isPro:r}=cn(),{gpt4Limit:s,pplxAlphaLimit:a}=Mr(),i=Fg(),l=i(_e.RESEARCH),c=!e||Math.min(s,a)<=0||i(_e.RESEARCH)?null:n?o.jsx(Ve,{defaultMessage:"Unlimited access for subscribers",id:"EvvPQiWwUI"}):a>0&&a<=10?o.jsx(Ve,{defaultMessage:"{limit, plural, one {# query remaining today} other {# queries remaining today}}",id:"ooxxk0PKGd",values:{limit:a}}):o.jsx(Ve,{defaultMessage:"Extended access for subscribers",id:"ATGyCTI4+V"}),u=f.useMemo(()=>o.jsx(KS,{isMaxUpsell:l}),[l]),d=f.useMemo(()=>l?o.jsx(Ve,{defaultMessage:"Unlimited access with Max",id:"ARAQvr+fwO"}):o.jsx(Ve,{defaultMessage:"Enabled",id:"V52jNnY+6M"}),[l]),h=f.useMemo(()=>o.jsx(qS,{searchMode:_e.RESEARCH,children:e?l?o.jsx(Ve,{defaultMessage:"Unlimited access with Max",id:"ARAQvr+fwO"}):o.jsx(Ve,{defaultMessage:"Extended access for subscribers",id:"ATGyCTI4+V"}):o.jsx(Ve,{defaultMessage:"Get more queries with Pro",id:"BZEuCK3Abs"})}),[e,l]),m=f.useMemo(()=>o.jsxs("div",{className:"gap-xs flex flex-col",children:[o.jsx(GS,{badgeNode:u,color:WB({isMax:n,isPro:r,isMaxUpsell:l}),enabledText:d,isEnabled:t,upgradeButton:h,isMaxUpsell:l}),o.jsx(F,{color:"default",variant:"small",className:"text-pretty",children:o.jsx(Ve,{defaultMessage:"In-depth reports with more sources, charts, and advanced reasoning",id:"9V0OqZ9HGl"})}),c&&o.jsx(F,{color:"default",variant:"small",className:"mt-xs opacity-60",children:c})]}),[u,d,t,n,r,l,c,h]);return o.jsx(YS,{footerNode:m,searchMode:_e.RESEARCH})});Dke.displayName="ResearchModeTooltip";const Fke=L.memo(()=>{const e=Ct(),{hasAccessToProFeatures:t,isMax:n,isPro:r}=cn(),{gpt4Limit:s,pplxBetaLimit:a}=Mr(),i=Fg(),l=i(_e.STUDIO),c=(()=>{if(!e)return null;if(!t)return o.jsx(Ve,{defaultMessage:"Upgrade to get access",id:"eRbSgHbjUP"});const g=Math.min(s,a);return g<=0||i(_e.STUDIO)?null:n?o.jsx(Ve,{defaultMessage:"Unlimited access for subscribers",id:"EvvPQiWwUI"}):o.jsx(Ve,{defaultMessage:"{limit, plural, one {# query remaining this month} other {# queries remaining this month}}",id:"wlPH+sOjjI",values:{limit:g}})})(),u=f.useMemo(()=>o.jsx(KS,{isMaxUpsell:l}),[l]),d=f.useMemo(()=>l?o.jsx(Ve,{defaultMessage:"Unlimited access with Max",id:"ARAQvr+fwO"}):o.jsx(Ve,{defaultMessage:"Enabled",id:"V52jNnY+6M"}),[l]),h=f.useMemo(()=>o.jsx(qS,{searchMode:_e.STUDIO,children:e?l?o.jsx(Ve,{defaultMessage:"Unlimited access with Max",id:"ARAQvr+fwO"}):o.jsx(Ve,{defaultMessage:"Access for subscribers only",id:"Ez3b/pzas/"}):o.jsx(Ve,{defaultMessage:"Get more queries with Pro",id:"BZEuCK3Abs"})}),[e,l]),m=f.useMemo(()=>o.jsxs("div",{className:"gap-xs flex flex-col",children:[o.jsx(GS,{badgeNode:u,color:WB({isMax:n,isPro:r,isMaxUpsell:l}),enabledText:d,isEnabled:t,upgradeButton:h,isMaxUpsell:l}),o.jsx(F,{color:"default",variant:"small",className:"text-pretty",children:l?o.jsx(Ve,{defaultMessage:"Draft, design, deliver your ideas.",id:"I1aIhz4l3D"}):o.jsx(Ve,{defaultMessage:"Turn your ideas into completed docs, slides, dashboards, and more",id:"WRu1tcOhoj"})}),c&&o.jsx(F,{color:"default",variant:"small",className:"mt-xs opacity-60",children:c})]}),[u,d,t,n,r,l,c,h]);return o.jsx(YS,{footerNode:m,searchMode:_e.STUDIO,includeNewBadge:!0})});Fke.displayName="StudioModeTooltip";const $B="pplx.activeQuery";function Uke(){const e=Ds.getItem($B);if(!e)return{};try{return JSON.parse(e)}catch{return{}}}function Sjt(e){Ds.setItem($B,JSON.stringify(e))}function Mjt(){Ds.removeItem($B)}const{Provider:kjt,useSelector:e0}=Mg("QueryInputState",()=>uo(e=>({userInput:"",userInputJson:void 0,hasStartedTyping:!1,shouldTriggerFocus:!1,actions:{restoreInput:()=>{const t=Uke();t.rawQuery&&e({userInput:t.rawQuery,userInputJson:t.rawQueryJson})},setUserInput:(t,n)=>{e({userInput:t,userInputJson:n}),Sjt({rawQuery:t,rawQueryJson:n})},setHasStartedTyping:t=>e({hasStartedTyping:t}),setStartTypingTime:t=>e({startTypingTime:t}),resetInput:()=>{e({userInput:"",userInputJson:void 0}),Mjt()},markInputAsSubmitted:()=>{e({userInput:"",userInputJson:void 0,startTypingTime:void 0})},setShouldTriggerFocus:t=>{e({shouldTriggerFocus:t})}}}))),Bke=L.memo(()=>{const{setUserInput:e,resetInput:t}=pb(),n=ln(),r=Rg(n);return f.useLayoutEffect(()=>{const s=Uke();s.rawQuery&&e(s.rawQuery,s.rawQueryJson)},[e]),f.useLayoutEffect(()=>{!r||r===n||r==="/"&&n?.startsWith("/search/new")||r.startsWith("/search/new")&&n?.startsWith("/search")||t()},[n,r,t]),null});Bke.displayName="QueryInputSideEffects";const qB=()=>e0(e=>e.userInput),Ejt=()=>e0(e=>e.userInputJson),GB=()=>e0(e=>e.hasStartedTyping),Tjt=()=>e0(e=>e.startTypingTime),Njt=()=>e0(e=>e.shouldTriggerFocus),pb=()=>e0(e=>e.actions),Vke=L.memo(e=>{const{isFollowUp:t,layoutKey:n,value:r,onChange:s,className:a}=e,i=Ai(),l=f.useMemo(()=>r!==void 0?Ti[r]||_e.SEARCH:i,[r,i]),{$t:c}=ae(),u=WS(),d=ln(),{base:h}=Qt(),{inputRef:m}=La(),g=Ct(),{gpt4Limit:v}=Mr(),{preferredSearchModels:x,actions:b}=On(),w=GB(),{isMaxUpsellEnabled:C}=ff(),[S,k]=f.useState(_e.SEARCH),E=f.useRef(null),[T,j]=f.useState(!1),N=f.useRef(null);f.useEffect(()=>()=>{N.current&&clearTimeout(N.current)},[]);const{gateSearchModeSelection:R}=hb(),[O,I]=f.useState(()=>x[_e.SEARCH]===Re.DEFAULT?!1:g),B=f.useCallback(K=>R(K?Re.PRO:Re.DEFAULT)?(I(!1),b.setPreferredSearchModel(_e.SEARCH,Re.DEFAULT),!1):(I(K),b.setPreferredSearchModel(_e.SEARCH,K?Re.PRO:Re.DEFAULT),K),[b,R]),D=f.useCallback(K=>{switch(K){case _e.SEARCH:return O?x[K]??zc(K):Re.DEFAULT;case _e.RESEARCH:return x[K]??zc(K);case _e.STUDIO:return x[K]??zc(K)}},[O,x]),z=lke(),V=f.useCallback(K=>{(K===_e.SEARCH||C)&&b.setPreferredSearchMode(K);const ee=D(K);z(ee)?(s?s(ee):u(ee,K),m.current?.focus(),j(!1)):R(ee)},[b,z,R,D,m,C,s,u,j]),U=f.useCallback(K=>{if(B(K),l===_e.SEARCH){const ee=K?Re.PRO:Re.DEFAULT;s?s(ee):u(ee)}},[s,u,l,B]),H=f.useMemo(()=>{function K(ee){const{searchMode:oe}=ee,ne=D(oe),te=dX.length<3&&!t,re=us[oe].cueText,X={[_e.STUDIO]:Zet()},ce=d===(h||"/")&&!w&&!!re&&X[oe]===0,se={text:ce?c(re):void 0,enabled:ce};return{children:o.jsx("div",{"data-testid":`search-mode-${oe}`,children:o.jsx(Rke,{label:te?o.jsx(Ve,{...us[oe].name}):void 0,icon:A1[oe],isActiveOption:l===oe})}),elementProps:{"aria-disabled":z(ne)===!1?!0:void 0,onPointerEnter(J){N.current&&clearTimeout(N.current),E.current=J.currentTarget,k(oe),N.current=setTimeout(()=>{j(!0)},800)},onPointerLeave(){N.current&&(clearTimeout(N.current),N.current=null)},onClick(){N.current&&(clearTimeout(N.current),N.current=null),m.current?.focus(),j(!1)}},label:c(us[oe].name),value:oe,cue:se}}return dX.map(ee=>K({searchMode:ee}))},[D,t,d,h,w,c,l,z,m]);O&&v===0&&I(!1);let q;switch(S){case _e.SEARCH:{q=o.jsx(Ike,{isToggleActive:O,onToggleChange:U});break}case _e.RESEARCH:{q=o.jsx(Dke,{});break}case _e.STUDIO:{q=o.jsx(Fke,{});break}}const $=f.useMemo(()=>o.jsx(kt,{initial:!1,mode:"popLayout",children:o.jsx(je.div,{animate:{opacity:1},exit:{opacity:0},initial:{opacity:0},transition:{duration:.15},children:q},S)}),[q,S]),G=f.useCallback(K=>{K.target.tagName===document.activeElement?.tagName&&(E.current=K.target,k(l),j(!0))},[l]);return o.jsx(Lke,{tooltipContent:$,triggeredSearchModeElement:E.current,isOpen:T,setIsOpen:j,children:o.jsx(Ake,{layoutKey:`segmented-search-mode-selector_${n??d}`,options:H,onFocus:G,onValueChange:V,value:l,className:a})})});Vke.displayName="SegmentedSearchModeSelector";const YB=L.memo(e=>{const t=zNt(),{isFollowUp:n,layoutKey:r,value:s,onChange:a,className:i,buttonSize:l}=e,c=fo();return t||c?o.jsx(uke,{isFollowUp:n,value:s,onChange:a,buttonSize:l}):o.jsx(Vke,{isFollowUp:n,layoutKey:r,value:s,onChange:a,className:i})});YB.displayName="SearchModeSelector";const jjt=e=>({id:e.task_id,type:Ajt(e),createdAt:new Date(e.created_at),updatedAt:new Date(e.updated_at),title:e.task_name,prompt:e.task_data.task_prompt,status:e.status,nextRun:new Date(e.next_trigger_intended_time),scheduleInfo:{start_at:e.start_at,rrule:e.trigger_condition_schedule,tzid:e.tzid},subscription:e.event_subscription,searchModel:e.task_data?.task_params?.model_preference||"pplx_pro",sources:e.task_data?.task_params?.sources||["web"]}),Ajt=e=>{switch(e.scheduler_type){case"EVENT_PUSH":return"ALERT";case"POLL":return"SCHEDULE";case"SHORTCUT":return"SHORTCUT";default:return null}},KB=async({taskId:e,headers:t,reason:n})=>{const{data:r,error:s}=await me.GET("/rest/tasks/{task_id}",n,{params:{path:{task_id:e}},timeoutMs:ut(),numRetries:Eg,headers:t});if(s)throw s;return r?.task?jjt(r.task):null},Rjt=async({payload:e,reason:t})=>{const{data:n,error:r}=await me.POST("/rest/tasks/",t,{body:e});if(r)throw r;return n},zke=async({taskId:e,payload:t,reason:n})=>{const{data:r,error:s}=await me.PATCH("/rest/tasks/{task_id}",n,{params:{path:{task_id:e}},body:t});if(s)throw s;return r},Ljt=async({taskId:e,reason:t})=>me.DELETE("/rest/tasks/{task_id}",t,{params:{path:{task_id:e}}}),PXt=async({payload:e,reason:t})=>{const{data:n,error:r}=await me.POST("/rest/tasks/finance",t,{body:e});if(r)throw r;return n},IXt=async({taskId:e,payload:t,reason:n})=>{const{data:r,error:s}=await me.PATCH("/rest/tasks/finance/{task_id}",n,{params:{path:{task_id:e}},body:t});if(s)throw s;return r},DXt=async({ticker:e,reason:t})=>{const{data:n,error:r}=await me.GET("/rest/tasks/finance/tickers/{ticker}",t,{params:{path:{ticker:e}},timeoutMs:ut(),numRetries:Eg});if(r)throw le.error("Failed to get finance ticker",r),r;return n},Hke=async({reason:e})=>{const{data:t,error:n}=await me.GET("/rest/tasks/shortcuts/mentions",e,{params:{query:{order_by:"created_at"}},timeoutMs:ut(),numRetries:Eg});if(n)throw le.error("Failed to get shortcut typeahead options",n),n;return t},Ojt=yt({defaultMessage:"Advanced models in Perplexity {searchMode}",id:"XgqOYZp+oF"}),Pjt=yt({defaultMessage:"Exclusive access for Max subscribers",id:"z2ijkWbdu6"});function Wke({reason:e,selectedSearchMode:t,currentModel:n,onModelSelect:r,isRewrite:s}){const{$t:a}=ae(),{organization:i}=Bn({reason:e}),{openModal:l}=Gt(),c=i?.settings?.disabled_model_preferences??Fe,{isMax:u}=cn(),{isMaxUpsellEnabled:d}=ff(),{value:h}=Sg({flag:"model-outage-on-model-selector-ui",subjectType:"user_nextauth_id",defaultValue:{[Re.SONAR]:!1,[Re.CLAUDE_2]:!1,[Re.GPT_4_1]:!1,[Re.GEMINI_2_FLASH]:!1,[Re.GROK]:!1,[Re.R1]:!1,[Re.O4_MINI]:!1,[Re.CLAUDE_3_7_SONNET_THINKING]:!1}}),{ProSearchModeModels:m,ResearchModeModels:g,LabsModeModels:v}=e8e(),{menuItems:x,selectOptions:b}=f.useMemo(()=>{function w(k,E,T){const j=[],N=[];return E[k].filter(R=>!T?.includes(R.search_model)).filter(R=>R.show_in_query_model_selector).forEach(R=>{if(c.includes(R.search_model))return;const O=!!(h&&h[R.search_model]);let I,B="super";R.subscription_tier===$v.MAX?(I=a({defaultMessage:"max",id:"+LmzMnWE+j"}),B="max"):R.has_new_tag&&(I=a({defaultMessage:"new",id:"qlTe+eC7Ec"}),B="super");const D={active:n===R.search_model,description:a($i[R.search_model]?.description),bottomElement:O&&o.jsx(F,{className:"whitespace-pre-wrap",variant:"tinyRegular",color:"red",children:a({defaultMessage:"Temporary degraded performance",id:"Kc/pdbXoxJ"})}),onClick(){if(d&&!u&&(t===_e.STUDIO||t===_e.RESEARCH||t===_e.SEARCH&&R.subscription_tier===$v.MAX)){l("pricingModal",{origin:s?gt.RETRY_BUTTON:gt.MODEL_SELECTOR,pitchMessage:{title:a(Ojt,{searchMode:a(us[t].name)}),description:a(Pjt)}});return}r(R.search_model)},size:"tiny",type:"default",text:a($i[R.search_model].name),badge:I,badgeVariant:B},z={value:R.search_model,label:a($i[R.search_model].name)},V=d&&!u&&R.subscription_tier===$v.MAX;j.push(D),V||N.push(z)}),{menuItems:j,selectOptions:N}}const C=[],S=[];if(t===_e.SEARCH){const k={active:n===Re.PRO,description:a({defaultMessage:"Selects the best model for each query",id:"TFsbkdJ4zc"}),onClick(){r(Re.PRO)},size:"tiny",text:a($i[Re.PRO].name),type:"default"},E={value:Re.PRO,label:a($i[Re.PRO].name)};if(!s)C.push(k,{type:"separator",show:!0}),S.push(E);else{const N={active:n===Re.ALPHA,description:a({defaultMessage:"In-depth reports on complex topics",id:"j7wjX6Ljpq"}),onClick(){r(Re.ALPHA)},size:"tiny",text:a({defaultMessage:"Research",id:"JEe7dVso7F"}),type:"default"},R={value:Re.ALPHA,label:a($i[Re.ALPHA].name)};C.push(N),S.push(R);const O={active:n===Re.BETA,description:a({defaultMessage:"Create projects from scratch",id:"nH9rAkplC/"}),onClick(){r(Re.BETA)},size:"tiny",text:a({defaultMessage:"Labs",id:"ylFNoY79wa"}),type:"default"},I={value:Re.BETA,label:a($i[Re.BETA].name)};C.push(O,{type:"separator",show:!0}),S.push(I)}const T=w(Qi.ANSWER,m);C.push(...T.menuItems),S.push(...T.selectOptions),C.push({type:"separator",text:a({defaultMessage:"Reasoning",id:"Aw3qRf7hyO"}),show:!0});const j=w(Qi.REASONING,m,d?void 0:[...m[Qi.ANSWER],...m[Qi.REASONING]].filter(N=>N.subscription_tier===$v.MAX).map(N=>N.search_model));C.push(...j.menuItems),S.push(...j.selectOptions)}else if(t===_e.RESEARCH){const k={active:n===Re.ALPHA,description:a({defaultMessage:"Selects the best model for each query",id:"TFsbkdJ4zc"}),onClick(){r(Re.ALPHA)},size:"tiny",text:a($i[Re.ALPHA].name),type:"default"},E={value:Re.ALPHA,label:a($i[Re.ALPHA].name)};C.push(k,{type:"separator",show:!0}),S.push(E);const T=w(Qi.REASONING,g);C.push(...T.menuItems),S.push(...T.selectOptions)}else{const k={active:n===Re.BETA,description:a({defaultMessage:"Selects the best model for each query",id:"TFsbkdJ4zc"}),onClick(){r(Re.BETA)},size:"tiny",text:a($i[Re.BETA].name),type:"default"},E={value:Re.BETA,label:a($i[Re.BETA].name)};C.push(k,{type:"separator",show:!0}),S.push(E);const T=w(Qi.REASONING,v);C.push(...T.menuItems),S.push(...T.selectOptions)}return{menuItems:C,selectOptions:S}},[c,a,t,n,h,u,d,l,m,g,v,r,s]);return f.useMemo(()=>({menuItems:x,selectOptions:b}),[x,b])}const Ijt=({selectedModel:e,onModelChange:t})=>{const n="task-modal-model-selector",r=e||Re.PRO,{isMobileStyle:s}=qe(),{selectOptions:a}=Wke({reason:n,selectedSearchMode:_e.SEARCH,currentModel:r,onModelSelect:u=>{t?.(u)}}),i=f.useMemo(()=>a.map(u=>({type:"default",text:u.label,onClick:()=>t?.(u.value),active:u.value===r})),[a,r,t]),c=f.useMemo(()=>a.find(u=>u.value===r),[a,r])?.label||"Select model...";return o.jsx(Rn,{items:i,isMobileStyle:s,placement:"bottom",contentClassName:"w-full",boxProps:{className:"w-full"},popoverProps:{matchTargetWidth:!0,avoidPositionCollisions:!1},children:o.jsx(Le,{text:c,extraCSS:"!bg-background-200 dark:!bg-offsetDark pl-4 pr-4 w-full !h-10 border-0 !outline-none !justify-start font-normal w-full",textClassName:"text-left text-textMain text-sm font-normal",fullWidth:!0,layout:"split",chevron:!0,chevronIcon:Ia})})},QS=({reason:e})=>{const{connectors:t}=Ua({reason:e}),n=f.useMemo(()=>(t?.connectors??[]).reduce((r,s)=>(r[s.name]=s,r),{}),[t]);return f.useMemo(()=>({connectorsMap:n}),[n])},QB=({reason:e})=>{const{connectors:t}=Ua({reason:e}),{connectorsMap:n}=QS({reason:e}),r=f.useMemo(()=>(t?.connectors??[]).filter(i=>oY.includes(i.name)&&n[i.name]&&n[i.name].connected),[n,t]),s=f.useMemo(()=>(t?.connectors??[]).filter(i=>!oY.includes(i.name)&&n[i.name]&&n[i.name].connected),[n,t]),a=f.useMemo(()=>(t?.connectors??[]).filter(i=>n[i.name]&&n[i.name].connected),[n,t]);return f.useMemo(()=>({enabledFileConnectors:r,enabledNonFileConnectors:s,enabledConnectors:a}),[a,r,s])};var $ke=(e=>(e.MY_FILES="my-files",e.ATTACHMENTS="attachments",e.SOURCES="sources",e.MY_CONNECTORS="my-connectors",e.SPACES="spaces",e))($ke||{});function Djt({reason:e,feature:t}){const{isEnterprise:n}=Bn({reason:e}),{hasAccessToProFeatures:r}=cn(),{value:s}=Fs({flag:"connectors-space-access-for-pro",defaultValue:!1});return n?!0:r?t==="my-files"?!1:t==="spaces"?s:!0:!1}const Fjt=e=>e?.length?e.filter(Ox):void 0,qke=({reason:e})=>{const t=ae(),n=Qt(),{isEnterprise:r,organization:s}=Bn({reason:e}),a=Djt({reason:e,feature:$ke.SOURCES}),i=Ln(),{enabledConnectors:l,enabledNonFileConnectors:c,enabledFileConnectors:u}=QB({reason:e}),{sources:d}=Mr(),h=Vg(),m=on(),[g,v]=f.useState(!1),x=f.useCallback(()=>{v(!0)},[]),b=f.useCallback(()=>{v(!1)},[]),{value:w}=Fs({flag:"gcal-fe-toggle",defaultValue:!1,extraAttributes:{orgUuid:s?.uuid??""}}),C=w&&!i,{value:S}=Fs({flag:"outlook-fe-toggle",defaultValue:!1,extraAttributes:{orgUuid:s?.uuid??""}}),{value:k}=Fs({flag:"edgar-enabled",stableId:m?.user?.id??"KILL_SWITCH",defaultValue:!1,extraAttributes:{orgUuid:s?.uuid??""}}),E=f.useCallback(O=>{O.stopPropagation(),n.push(`${h}/files`)},[n,h]),T=f.useMemo(()=>o.jsx("div",{className:"mr-sm flex",children:o.jsx(Mn,{tooltipText:t.formatMessage({defaultMessage:"Manage my files",id:"o8eQg7byBv"}),children:o.jsx(F,{color:"light",onClick:E,children:o.jsx(Ne,{icon:nHe,size:"sm"})})})}),[t,E]),j=f.useMemo(()=>{const O=u.map(B=>{const D=B.name,z=Hw(D)??"";return o.jsx(sr,{user:z,rounded:!1,showBackground:!1,size:"small"},D)});let I=null;return O.length>0&&(I=zw(O,{...O.length<=3&&{rightText:o.jsx(F,{color:"light",variant:"tinyRegular",children:t.formatMessage({defaultMessage:"Search my files",id:"EYmiG70whM"})})},maxVisuals:O.length,size:"sm"})),{web:{icon:gx,avatar:void 0,text:t.formatMessage({defaultMessage:"Web",id:"B6CB3748fZ"}),description:t.formatMessage({defaultMessage:"Search across the entire Internet",id:"L+Gw+J7uDs"}),type:"toggle"},scholar:{icon:xw,avatar:void 0,text:t.formatMessage({defaultMessage:"Academic",id:"mbxIJyT8C5"}),description:t.formatMessage({defaultMessage:"Search academic papers",id:"IVRQQmrqTD"}),type:"toggle"},...r?{}:{social:{icon:Zle,avatar:void 0,text:t.formatMessage({defaultMessage:"Social",id:"qOLogguG/7"}),description:t.formatMessage({defaultMessage:"Discussions and opinions",id:"g9xPuArp4v"}),type:"toggle"}},...k?{edgar:{icon:Cce,avatar:void 0,text:qle,description:"Search SEC filings",type:"toggle"}}:{},...r?{org:{icon:mce,avatar:void 0,text:t.formatMessage({defaultMessage:"Org files",id:"iWDsD738/m"}),description:t.formatMessage({defaultMessage:"Search files from your organization",id:"Ak5CW53mGi"}),type:"toggle"}}:{},...a&&r?{my_files:{icon:dce,avatar:void 0,text:t.formatMessage({defaultMessage:"My files",id:"bYbrKKlKgS"}),description:u.length===0?t.formatMessage({defaultMessage:"Search my files",id:"EYmiG70whM"}):"",bottomElement:I,rightElement:T,type:"toggle"}}:{}}},[r,t,u,T,a,k]),N=f.useMemo(()=>({...l?.some(I=>I.name==="crunchbase")?{crunchbase:{icon:void 0,avatar:o.jsx(sr,{user:XP,rounded:!1,showBackground:!1,size:"small",altText:"Crunchbase"}),text:ZP,type:"toggle"}}:{},...l?.some(I=>I.name==="factset")?{factset:{icon:void 0,avatar:o.jsx(sr,{user:KP,rounded:!1,showBackground:!1,size:"small",altText:"FactSet"}),text:QP,type:"toggle"}}:{},...l?.some(I=>I.name==="google_drive")&&a?{google_drive:{icon:void 0,avatar:o.jsx(sr,{user:md(Gn.GOOGLE_DRIVE)||"",rounded:!1,showBackground:!1,size:"small",altText:b1}),text:b1,type:"toggle"}}:{},...l?.some(I=>I.name==="onedrive")&&a?{onedrive:{icon:void 0,avatar:o.jsx(sr,{user:md(Gn.ONEDRIVE)||"",rounded:!1,showBackground:!1,size:"small",altText:w1}),text:w1,type:"toggle"}}:{},...l?.some(I=>I.name==="sharepoint")&&a?{sharepoint:{icon:void 0,avatar:o.jsx(sr,{user:md(Gn.SHAREPOINT)||"",rounded:!1,showBackground:!1,size:"small",altText:_1}),text:_1,type:"toggle"}}:{},...l?.some(I=>I.name==="wiley")&&r?{wiley:{icon:void 0,avatar:o.jsx(sr,{user:M_,rounded:!1,showBackground:!1,size:"small",altText:"Wiley"}),text:JP,type:"toggle"}}:{},...l?.some(I=>I.name==="dropbox")&&a?{dropbox:{icon:void 0,avatar:o.jsx(sr,{user:md(Gn.DROPBOX)||"",rounded:!1,showBackground:!1,size:"small",altText:C1}),text:C1,type:"toggle"}}:{},...l?.some(I=>I.name==="gcal")&&C?{gcal:{icon:void 0,avatar:o.jsx(sr,{user:md(Gn.GCAL)||"",rounded:!1,showBackground:!1,size:"small",altText:J2}),text:J2,type:"toggle"}}:{},...l?.some(I=>I.name==="outlook")&&S?{outlook:{icon:void 0,avatar:o.jsx(sr,{user:md(Gn.OUTLOOK)||"",rounded:!1,showBackground:!1,size:"small",altText:Uj}),text:Uj,type:"toggle"}}:{}}),[l,r,a,C,S]),R=f.useMemo(()=>{const O=c.filter(H=>!(H.name==="outlook"&&!S||H.name==="gcal"&&!C)),I=[...new Set(O.map(H=>H.name))],B=I.map(H=>{const q=Hw(H)??"";return o.jsx(sr,{user:q,rounded:!1,showBackground:!1,size:"small"},H)}),z=(d?.filter(H=>O.some(q=>q.name===H))||[]).length>0;let V=null;O.length>0&&(V=zw(B,{rightText:o.jsx(F,{color:"light",variant:"tinyRegular",children:z?t.formatMessage({defaultMessage:"{ num } connected",id:"vKOo9VV7WK"},{num:I.length}):t.formatMessage({defaultMessage:"{ num } available",id:"eEfaubop4a"},{num:I.length})}),maxVisuals:B.length,size:"sm"}));const U=Object.entries(N).filter(([H])=>O.some(q=>q.name===H));return U.length===0?{type:"default",text:t.formatMessage({defaultMessage:"Add connectors",id:"2dXigF1Pil"}),icon:yY,onClick:()=>n.push(`${h}/connectors`),submenuItems:[]}:{type:"nested",isSubmenuOpen:g,onSubmenuOpen:x,onSubmenuClose:b,text:t.formatMessage({defaultMessage:"More connectors",id:"3l4CuVEyHY"}),icon:yY,menuWidth:"300px",bottomElement:V,submenuItems:[...U,{type:"separator"},{type:"default",text:t.formatMessage({defaultMessage:"Manage connectors",id:"cqx+RdJnHp"}),onClick:()=>n.push(`${h}/connectors`)}]}},[g,t,n,c,N,x,b,h,d,C,S]);return f.useMemo(()=>({RootSources:j,ConnectionSources:N,NestedConnectionSources:R}),[N,R,j])};function XS({defaultSource:e,reason:t}){const{sources:n,setSources:r,setRecency:s}=Mr(),a=wn(),{fileRepoInfo:i}=df({reason:t}),{RootSources:l,ConnectionSources:c}=qke({reason:t}),{isLoading:u}=Bn({reason:t}),{isWindowsApp:d}=sn(),{safeWindowsIpcPublish:h,safeWindowsIpcSubscribe:m}=HS(),g=i.file_repository_type==="COLLECTION",v=g?`space-${i.owner_id}`:"home",x=nc(),b=Array.isArray(x?.slug)?x.slug[0]:x?.slug,{collection:w,isLoading:C}=uf({collectionSlug:b,reason:t}),S=C?void 0:w?.enable_web_by_default,k=f.useRef(m);f.useEffect(()=>{k.current=m},[m]);const E=f.useRef(Math.random().toString(36).substring(7)),T=f.useCallback(R=>{let O=[];return n?.includes(R)?(O=n.filter(I=>I!==R),R==="web"&&(n.includes("crunchbase")&&(O=n.filter(I=>I!=="crunchbase"&&I!=="web")),s?.(null))):(O=[...n||[]],R==="crunchbase"&&!O.includes("web")&&O.push("web"),O.push(R)),g&&DM(O,v),r(O),d&&h(fd,{type:fd,sources:O,windowId:E.current}),O},[g,v,r,s,n,d,h]),j=f.useCallback(R=>{const O=[...R];O.includes("crunchbase")&&!O.includes("web")&&O.push("web"),g&&DM(O,v),r(O),d&&h(fd,{type:fd,sources:O,windowId:E.current})},[g,d,v,h,r]);f.useEffect(()=>{if(!d)return;const R=k.current(fd,O=>{O.type===fd&&O.windowId!==E.current&&r(O.sources)});return()=>{R?.()}},[d,r,n]);const N=f.useMemo(()=>{if(C)return new Set([]);if(g)return S?new Set(["web"]):new Set([]);if(e)return new Set([e]);const O=(a?.get("sources")??"web").split(",").map(I=>I.trim()).filter(Ox);return new Set(O||["web"])},[g,C,S,a,e]);return f.useEffect(()=>{if(u)return;let R=g?Let(v)||[...N]:[...N];if(g&&S&&!R.includes("web")?R.push("web"):g&&!S&&R.includes("web")&&(R=R.filter(I=>I!=="web")),JSON.stringify(n||[])!==JSON.stringify(R)){const I=R.filter(B=>B in l||B in c);g&&DM(I,v),r(I)}},[u,g,S]),f.useMemo(()=>({DEFAULT_SOURCES:N,isSpace:g,isSpaceEnableWebByDefault:S,updateSources:T,overwriteSources:j}),[N,g,S,j,T])}var Ns=(e=>(e[e.FOCUS=0]="FOCUS",e[e.SOURCES=1]="SOURCES",e[e.RECENCY=2]="RECENCY",e[e.PRO_MODEL_PREFERENCE=3]="PRO_MODEL_PREFERENCE",e[e.ATTACHMENTS=4]="ATTACHMENTS",e[e.SEARCH_MODEL_SELECTOR=5]="SEARCH_MODEL_SELECTOR",e))(Ns||{});const Ujt="scrollbar-subtle min-h-0 flex-1 overflow-auto",Gke=L.memo(({children:e,focusItems:t,placement:n,width:r="200px",isMobileStyle:s,isOpen:a=!1,onOpen:i,onClose:l,menuType:c=Ns.FOCUS,isSpace:u=!1})=>{const{$t:d}=ae(),{isMax:h}=cn(),m=ae(),g=f.useMemo(()=>{switch(c){case Ns.RECENCY:return d({defaultMessage:"Choose recency",id:"qyxEklVz9W"});case Ns.SOURCES:default:return d({defaultMessage:"Choose sources",id:"5HzLAl6K6z"})}},[c,d]),v=f.useCallback(S=>{S?.stopPropagation(),i?.()},[i]),x=f.useCallback(()=>{l?.()},[l]),b=f.useMemo(()=>o.jsx("div",{className:"gap-x-xs p-sm bg-offsetPlus flex items-center justify-center rounded-t-md text-center",children:o.jsx(F,{color:"light",variant:"tinyRegular",children:o.jsxs("div",{className:"gap-x-sm flex items-center",children:[o.jsx(Ne,{icon:Ja,size:"xs"}),m.formatMessage({defaultMessage:"Search includes all context from this space.",id:"uhJN0zDnSy"})]})})}),[m]),w=f.useMemo(()=>({width:r}),[r]),C=f.useMemo(()=>o.jsxs(Q,{className:W("flex flex-col",{"max-h-[37vh]":u,"max-h-[42vh]":!u,"max-super-override":h}),style:w,children:[u&&c===Ns.SOURCES&&b,o.jsx("div",{className:W(Ujt,{"p-xs":u&&c===Ns.SOURCES}),children:o.jsx(hy,{items:t,disableScrollArea:!0})})]}),[b,t,u,c,w,h]);return s?o.jsxs(o.Fragment,{children:[o.jsx(Sn,{subtitle:g,subtitleClassname:"ml-sm mt-sm font-medium",variant:"bottom-left-sheet",actionList:Fe,isOpen:a,onClose:x,children:o.jsx(Q,{className:"p-xs w-full",children:o.jsx(hy,{textColor:"light",items:t})})}),o.jsx("span",{onClick:v,children:e})]}):o.jsx(lo,{isFileSearchEnabled:!0,isOpen:a,placement:n,onClose:x,onOpen:v,avoidSizeCollisions:!1,contentClassName:u&&c===Ns.SOURCES?"!p-0":"",content:C,hasInteractiveContent:!0,children:e})}),Bjt=L.memo(({children:e})=>o.jsx("div",{className:"flex size-5 items-center justify-center",children:e})),Yke=L.memo(e=>{const t="sources-switcher",{$t:n}=ae(),{isOpen:r,onOpen:s,onClose:a,defaultSource:i,selectedSources:l,onSourcesChange:c,variant:u="icon",hiddenSources:d}=e,{isMobileStyle:h}=qe(),{trackEvent:m}=Ye(),{fileRepoInfo:g}=df({reason:t}),v=g?.file_repository_type==="COLLECTION",{RootSources:x,ConnectionSources:b,NestedConnectionSources:w}=qke({reason:t}),{updateSources:C}=XS({defaultSource:i,reason:t}),{sources:S}=Mr(),{isEnterprise:k}=Bn({reason:t}),E=l??S,T=c??C,j=f.useCallback(V=>V.preventDefault(),[]),N=f.useCallback(V=>{m("search source click",{source:V}),T(V)},[m,T]),R=f.useCallback((V,U)=>{const H=E?.includes(V);return{type:U.type,text:U.text,description:U.description,size:"small",selected:H,icon:U.icon,avatar:U.avatar,link:U.link,onMouseDown:j,onClick:()=>N(V),onLinkClick:U.onLinkClick,bottomElement:U.bottomElement,rightElement:U.rightElement,testId:`source-toggle-${V}`}},[E,j,N]),O=f.useMemo(()=>{const V=Object.entries(x),U=V.filter(([q])=>!d?.includes(q));return(d?.length?V.filter(([q])=>!d.includes(q)):U).map(([q,$])=>R(q,$))},[x,R,d]),I=f.useMemo(()=>{const V=w.submenuItems.filter(U=>{if(Array.isArray(U)){const[H]=U;return!d?.includes(H)}return!0}).map(U=>{if(Array.isArray(U)){const[H,q]=U;return R(H,q)}return U});return{...w,submenu:V}},[w,R,d]),B=f.useMemo(()=>[...O,...h||!k?[]:[{type:"separator"},I]].filter(Boolean),[k,O,I,h]),D=f.useMemo(()=>{if(!E?.length)return o.jsx(Ne,{icon:Dh,size:"sm"});const V=[];return E.forEach(U=>{let H;if(U in x?H=x[U]:U in b&&(H=b[U]),H){const q=H.avatar||o.jsx(Bjt,{children:H.icon?o.jsx(Ne,{icon:H.icon,size:"sm"}):o.jsx(Ne,{icon:Dh,size:"sm"})});V.push(q)}}),zw(V,{maxVisuals:1,size:"lg"})},[E,x,b]),z=f.useMemo(()=>{if(E?.length===1){const V=E[0];return V in x?x[V]?.text:V in b?b[V]?.text:V}return n({defaultMessage:"{count} sources",id:"l1+6PggBqU"},{count:E?.length||0})},[E,x,b,n]);return o.jsx(Gke,{focusItems:B,placement:"bottom-end",width:"300px",isMobileStyle:h,isOpen:r,onOpen:s,onClose:a,menuType:Ns.SOURCES,isSpace:v,children:u==="button"?o.jsx(Le,{text:z,extraCSS:"!bg-background-200 dark:!bg-offsetDark pl-4 pr-4 w-full !h-10 border-0 !outline-none !justify-start font-normal",textClassName:"text-left text-textMain text-sm font-normal",fullWidth:!0,layout:"split",chevron:!0,chevronIcon:Ia,onMouseDown:j,"data-testid":"sources-switcher-button"}):o.jsx(it,{toolTip:n({defaultMessage:"Set sources for search",id:"yAyuRoLEjt"}),size:"small",onMouseDown:j,"data-testid":"sources-switcher-button",extraCSS:`px-[4px] ${E&&E.length>1?"!aspect-auto":""}`,leadingComponent:D})})});function Vjt(e,t){if(e.includes(t)){let n=e.filter(r=>r!==t);return t==="web"&&e.includes("crunchbase")&&(n=n.filter(r=>r!=="crunchbase")),n}else{const n=[...e];return t==="crunchbase"&&!n.includes("web")&&n.push("web"),n.push(t),n}}const Kke=({sources:e,onChange:t})=>{const[n,r]=f.useState(!1),s=f.useCallback(a=>{const i=Vjt(e,a);t(i)},[t,e]);return o.jsx(Yke,{isOpen:n,onOpen:()=>r(!0),onClose:()=>r(!1),selectedSources:e,onSourcesChange:s,variant:"button",hiddenSources:[Sl.org,Sl.google_drive,Sl.onedrive,Sl.sharepoint,Sl.my_files]})};Kke.displayName="TaskSourcesSelector";const zjt=()=>{const{formatMessage:e}=ae();return{getErrorMessage:n=>{switch(n?.detail?.error_code){case"TASK_LIMIT_EXCEEDED":return e({defaultMessage:"You have reached the maximum of 10 active tasks.",id:"A6JRjpSgUM"});case"SHORTCUT_NAME_ALREADY_EXISTS":return e({defaultMessage:"A shortcut with this name already exists. Please choose a different name.",id:"GpnXJDWEkN"});default:return e({defaultMessage:"Something went wrong. Please try again.",id:"W/5hwrn09m"})}}}},Hjt=e=>({id:e.id,title:e.title,prompt:e.prompt,schedule:XL(e.scheduleInfo),searchModel:e.searchModel,sources:e.sources||["web"]}),Jne=(e={})=>e.prefill?e.prefill:e.initial?Hjt(e.initial):{...OEt(),searchModel:Re.PRO},e2=({text:e,onClick:t,variant:n="secondary",disabled:r=!1})=>o.jsx(Le,{text:e,onClick:t,disabled:r,extraCSS:W("min-w-[100px] px-4",n==="secondary"?"!bg-background-200 !dark:bg-background-200Dark !hover:bg-background-200 !dark:hover:bg-background-200Dark":"!bg-textMain !dark:bg-textMainDark !hover:bg-textMain !dark:hover:bg-textMainDark"),textClassName:W(n==="secondary"?"text-textOff  !hover:text-textOff !dark:hover:text-textOff":"text-textMainDark dark:text-light-text !hover:text-textMainDark !dark:hover:text-light-text")}),Wjt=(e,t)=>e.schedule.kind==="ONCE"&&new Date(e.schedule.year,e.schedule.month,e.schedule.day,e.schedule.hour,e.schedule.minute)<=new Date(Date.now())?{ok:!1,message:t({defaultMessage:"Please schedule this task for a future time.",id:"loBg9tvLRE"})}:{ok:!0};function XB({open:e,onClose:t,onSuccess:n,initial:r,prefill:s,errorMessage:a,source:i}){const l="task-modal",c=Vt(),{formatMessage:u}=ae(),{isMobileUserAgent:d}=qe(),{trackEvent:h}=Ye(),{configuredModel:m}=Mr();f.useEffect(()=>{e&&h("task modal opened",{source:i})},[e,i,h]);const g=f.useRef(r?KY(r):void 0);f.useEffect(()=>{e&&(g.current=r?KY(r):void 0)},[e,r]);const[v,x]=f.useState(a),[b,w]=f.useState(()=>Jne({initial:r,prefill:s})),C=f.useMemo(()=>Ti[b.searchModel]??_e.SEARCH,[b.searchModel]);f.useEffect(()=>{x(e?a:void 0)},[e,a]),f.useEffect(()=>{e&&w(Jne({initial:r,prefill:s}))},[e,r,s,m]),f.useEffect(()=>{const $=zc(C);w(G=>({...G,searchModel:$}))},[C]);const S=!!g.current,k=g.current?.status==="PAUSED",E=g.current?.status==="COMPLETED",T=$=>w(G=>({...G,...$})),j=$=>w(G=>({...G,schedule:{...G.schedule,...$}})),N=f.useCallback($=>{c.invalidateQueries({queryKey:qat()}),b.id&&c.invalidateQueries({queryKey:jhe(b.id)}),n?.($),t?.()},[c,b.id,n,t]),{getErrorMessage:R}=zjt(),O=f.useCallback($=>{h("task modal action",{source:i,action:$}),N($)},[i,h,N]),I=Kt({mutationFn:$=>Rjt({payload:$,reason:l}),onSuccess:()=>O("created"),onError:$=>x(R($))}),B=Kt({mutationFn:({id:$,payload:G})=>zke({taskId:$,payload:G,reason:l}),onError:$=>x(R($))}),D=Kt({mutationFn:$=>Ljt({taskId:$,reason:l}),onSuccess:()=>O("deleted")}),z=()=>{x(void 0);const $=Wjt(b,u);if(!$.ok){x($.message);return}S?B.mutate({id:g.current.id,payload:{task_name:b.title,prompt:b.prompt,schedule:UT(b.schedule),status:"ACTIVE",model_preference:b.searchModel,sources:b.sources}},{onSuccess:()=>O("updated")}):I.mutate({task_id:b.id,task_name:b.title,prompt:b.prompt,schedule:UT(b.schedule),model_preference:b.searchModel,sources:b.sources})},V=f.useMemo(()=>{if(!S)return!0;const $=b.prompt!==g.current?.prompt,G=g.current.scheduleInfo,K=UT(b.schedule),ee=!Ya(K.rrule,G.rrule)||!Ya(K.tzid,G.tzid),oe=b.schedule.kind==="ONCE"&&K.start_at!==G.start_at,ne=b.searchModel!==g.current?.searchModel,te=!Ya(b.sources||["web"],g.current?.sources||["web"]);return $||(ee||oe||ne)||te},[S,b,g]),U=I.isPending||B.isPending||D.isPending,{value:H,loading:q}=zg();return q?null:o.jsx(Sn,{isOpen:e,onClose:t,title:u(H?{defaultMessage:"Automation",id:"Fn4YKyl4lm"}:{defaultMessage:"Task",id:"0wJ7N+noSq"}),titleTextVariant:"base",modalContentClassname:"!pb-4 md:!pb-4",children:o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(F,{variant:"tiny",color:"light",className:"select-none",children:u({defaultMessage:"Instructions",id:"sV2v5LjRpX"})}),o.jsx(Hd,{value:b.prompt,onChange:$=>T({prompt:$}),isMobileUserAgent:d,isMobileStyle:!1,minRows:3,maxLength:wze,allowEnterNewlines:!0,className:"bg-background-200 dark:bg-offsetDark [&_textarea]:bg-background-200 dark:[&_textarea]:bg-offsetDark hover:!border-borderMain/75 focus-within:!border-borderMain/75 dark:hover:!border-borderMainDark/75 dark:focus-within:!border-borderMainDark/75 !border !border-transparent"}),v&&o.jsxs("div",{className:"gap-xs flex items-center",children:[o.jsx(oI,{size:12,className:"text-caution"}),o.jsx(F,{variant:"tinyRegular",color:"red",className:"mt-0.5",children:v})]})]}),o.jsx(VNt,{schedule:b.schedule,onScheduleChange:j}),o.jsx("div",{className:"flex flex-col gap-2",children:o.jsxs("div",{className:"flex gap-6",children:[o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(F,{variant:"tiny",color:"light",className:"select-none",children:u({defaultMessage:"Mode",id:"mrOnjMzgC4"})}),o.jsx("div",{className:"h-full w-fit",children:o.jsx(YB,{value:b.searchModel,onChange:$=>T({searchModel:$}),layoutKey:"task-modal",className:"h-full"})})]}),C===_e.SEARCH&&o.jsxs("div",{className:"flex min-w-[200px] flex-col gap-2",children:[o.jsx(F,{variant:"tiny",color:"light",className:"select-none",children:u({defaultMessage:"Model",id:"rhSI1/3g21"})}),o.jsx(zy,{children:o.jsx(Ijt,{selectedModel:b.searchModel,onModelChange:$=>{T({searchModel:$})}})})]}),o.jsxs("div",{className:"flex min-w-[100px] flex-col gap-2",children:[o.jsx(F,{variant:"tiny",color:"light",className:"select-none",children:u({defaultMessage:"Sources",id:"fhwTpAcBLC"})}),o.jsx(zy,{children:o.jsx(Kke,{sources:b.sources||["web"],onChange:$=>T({sources:$})})})]})]})}),o.jsxs(Q,{variant:"background",className:"mt-md pt-md -mx-md px-md flex items-center justify-between border-t",children:[S&&o.jsxs("div",{className:"flex gap-4",children:[!E&&o.jsx(e2,{text:u(k?{defaultMessage:"Resume",id:"3y9DGgura7"}:{defaultMessage:"Pause",id:"tFFMkFDBMO"}),onClick:()=>B.mutate({id:g.current.id,payload:{status:k?"ACTIVE":"PAUSED"}},{onSuccess:()=>O(k?"resumed":"paused")}),disabled:U}),o.jsx(e2,{text:u({defaultMessage:"Delete",id:"K3r6DQW7h+"}),onClick:()=>D.mutate(g.current.id),disabled:U})]}),o.jsxs("div",{className:"ml-auto flex gap-4",children:[o.jsx(e2,{text:u({defaultMessage:"Cancel",id:"47FYwba+bI"}),onClick:()=>t?.()}),o.jsx(e2,{text:u({defaultMessage:"Save",id:"jvo0vs3nF0"}),variant:"primary",disabled:U||!b.prompt||!V,onClick:z})]})]})]})})}const $jt=Object.freeze(Object.defineProperty({__proto__:null,FormButton:e2,default:XB},Symbol.toStringTag,{value:"Module"})),Qke=L.memo(({onEdit:e})=>{const t=ae(),n=Qt(),[r,s]=f.useState(!1),{isMobileStyle:a}=qe(),{value:i,loading:l}=zg(),c=f.useMemo(()=>[{type:"default",text:t.formatMessage({defaultMessage:"Edit",id:"wEQDC6Wv3/"}),onClick:e,testId:"task-widget-edit"},{type:"default",text:i?t.formatMessage({defaultMessage:"View Automations",id:"ykWUMgOBHX"}):t.formatMessage({defaultMessage:"View Tasks",id:"L3nFsHqlqm"}),rightElement:o.jsx("div",{className:"flex items-center",children:o.jsx(xa,{size:16})}),onClick:()=>{n.push("/account/tasks")},testId:"task-widget-view-tasks"}],[t,e,i,n]),u=f.useCallback(()=>s(!1),[]),d=f.useCallback(()=>s(!0),[]);return l?null:o.jsx(Rn,{placement:"bottom-start",items:c,onOpen:d,onClose:u,isMobileStyle:a,children:o.jsx(it,{size:"tiny",icon:KHe,extraCSS:W("",{"!text-text !bg-offsetPlus":r})})})});Qke.displayName="TaskWidgetMenu";const qjt=()=>o.jsxs(Kn,{className:"flex w-full items-center justify-between gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"bg-background-300 h-4 w-4 shrink-0 rounded"}),o.jsx("div",{className:"bg-background-300 h-4 w-32 rounded"})]}),o.jsx("div",{className:"bg-background-300 h-4 w-20 rounded"})]}),Xke=L.memo(({data:e})=>{const{$t:t}=ae(),{suggested_prompt:n,suggested_schedule:r,widget_uuid:s}=e,a=f.useMemo(()=>({id:s,title:"",prompt:n,schedule:XL(r),searchModel:Re.PRO}),[n,r,s]),i=pr(),l=Bs(),c=f.useCallback(()=>{if(!i)throw new Error("handleOpenTaskFromSidecar can only be called in sidecar mode");l.openTab({url:`${window.location.origin}${ml.Tasks.href}`})},[i,l]),[u,d]=f.useState(!1),[h,m]=f.useState(null),[g,v]=f.useState(!1),x=f.useCallback(()=>{d(!0)},[]);f.useEffect(()=>{if(!h)return;const D=setTimeout(()=>{m(null)},2e3);return()=>clearTimeout(D)},[h]);const b=ae(),{data:w,isLoading:C}=Ft({queryKey:jhe(s),queryFn:()=>KB({taskId:s,reason:"task-widget"})}),S=f.useMemo(()=>{if(!w)return null;const D=XL(w.scheduleInfo);return{kind:PEt(D.kind,b),friendly:REt(D,b),isRecurring:D.kind!=="ONCE"}},[w,b]),k=f.useMemo(()=>{if(!h)return null;const D=h==="created"?o.jsx(Ve,{defaultMessage:"Task created",id:"991WgJt61N"}):h==="updated"?o.jsx(Ve,{defaultMessage:"Task updated",id:"sQGGdcVjgL"}):h==="deleted"?o.jsx(Ve,{defaultMessage:"Task deleted",id:"kGP3l1jr/4"}):h==="paused"?o.jsx(Ve,{defaultMessage:"Task paused",id:"Ryhxeg2OIZ"}):o.jsx(Ve,{defaultMessage:"Task resumed",id:"fqAqWnF85q"});return o.jsx(je.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2,ease:Ar},children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(u$e,{className:"text-super",size:16}),o.jsx(F,{variant:"small",color:"super",className:"truncate",children:D})]})},"confirmed")},[h]),{value:E,loading:T}=zg(),j=f.useCallback(()=>{v(!1)},[]),N=f.useCallback(()=>v(!0),[]),R=f.useMemo(()=>t(E?{defaultMessage:"Automation",id:"Fn4YKyl4lm"}:{defaultMessage:"Task",id:"0wJ7N+noSq"}),[t,E]),O=f.useMemo(()=>o.jsx($r,{size:12}),[]),I=f.useCallback(()=>{d(!1),v(!1)},[]),B=f.useCallback(D=>{d(!1),v(!1),m(D)},[]);return T?null:o.jsx(ac,{widgetType:"task",widgetName:"task",widgetSize:"mini",children:o.jsxs(o.Fragment,{children:[o.jsx(Q,{variant:"offset",className:"p-md group relative flex h-14 items-center justify-between gap-2 rounded-lg",onMouseEnter:N,onMouseLeave:j,children:o.jsx(kt,{mode:"wait",children:C?o.jsx(qjt,{}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex min-w-0 shrink items-center gap-2",children:[o.jsx(cce,{size:16,className:"text-textOffLight dark:text-textOffLightDark shrink-0"}),o.jsx("div",{className:"flex w-full min-w-0 flex-col items-start",children:w?o.jsx(F,{variant:"small",color:"default",className:"w-full truncate",children:w.prompt}):o.jsxs(o.Fragment,{children:[o.jsx(F,{variant:"small",color:"default",className:"w-full truncate",children:n}),o.jsx(F,{variant:"tinyRegular",color:"light",className:"truncate",children:o.jsx(Ve,{defaultMessage:"Create a task to get this sent automatically.",id:"1AmBIpC9N9"})})]})})]}),i?o.jsx(it,{size:"tiny",icon:am,onClick:c}):o.jsx(kt,{mode:"wait",children:k||(S?o.jsx("div",{className:"flex min-w-0 shrink-0 items-center gap-1.5",children:g&&w?o.jsx(Qke,{onEdit:x}):o.jsxs(o.Fragment,{children:[S.isRecurring&&o.jsx(HWe,{size:16,className:"shrink-0"}),o.jsx(F,{className:"truncate",variant:"small",children:S.kind}),o.jsx(F,{className:"truncate",variant:"small",color:"light",children:S.friendly})]})}):o.jsx(je.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2,ease:Ar},children:o.jsx(Le,{text:R,leadingComponent:O,size:"small",onClick:x})},"default"))})]})})}),o.jsx(Ag,{children:o.jsx(XB,{source:"task_widget",open:u,prefill:w?void 0:a,initial:w??void 0,onClose:I,onSuccess:B})})]})})});Xke.displayName="TaskWidget";const Zke=L.memo(e=>{const{data:t}=e,{menuItems:n}=$C();return o.jsx(ac,{widgetType:"time",widgetName:"time",widgetSize:"full",children:o.jsxs(Q,{className:"flex w-full",children:[o.jsx(F,{children:o.jsx(Q,{className:"mr-md pr-md border-r font-mono text-4xl",children:t.time})}),o.jsxs("div",{children:[o.jsx(F,{variant:"smallBold",children:t.date}),o.jsx(F,{variant:"small",color:"light",children:t.location?`${t.location}`:null})]}),n&&n.length>0&&o.jsx("div",{className:"-mr-sm -mt-sm flex grow justify-end",children:o.jsx("div",{children:o.jsx(Wr.Menu,{menuItems:n})})})]})})});Zke.displayName="TimeWidget";var GT={},ere;function Gjt(){return ere||(ere=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="sun",r=512,s=512,a=[9728],i="f185",l="M375.7 19.7c-1.5-8-6.9-14.7-14.4-17.8s-16.1-2.2-22.8 2.4L256 61.1 173.5 4.2c-6.7-4.6-15.3-5.5-22.8-2.4s-12.9 9.8-14.4 17.8l-18.1 98.5L19.7 136.3c-8 1.5-14.7 6.9-17.8 14.4s-2.2 16.1 2.4 22.8L61.1 256 4.2 338.5c-4.6 6.7-5.5 15.3-2.4 22.8s9.8 13 17.8 14.4l98.5 18.1 18.1 98.5c1.5 8 6.9 14.7 14.4 17.8s16.1 2.2 22.8-2.4L256 450.9l82.5 56.9c6.7 4.6 15.3 5.5 22.8 2.4s12.9-9.8 14.4-17.8l18.1-98.5 98.5-18.1c8-1.5 14.7-6.9 17.8-14.4s2.2-16.1-2.4-22.8L450.9 256l56.9-82.5c4.6-6.7 5.5-15.3 2.4-22.8s-9.8-12.9-17.8-14.4l-98.5-18.1L375.7 19.7zM269.6 110l65.6-45.2 14.4 78.3c1.8 9.8 9.5 17.5 19.3 19.3l78.3 14.4L402 242.4c-5.7 8.2-5.7 19 0 27.2l45.2 65.6-78.3 14.4c-9.8 1.8-17.5 9.5-19.3 19.3l-14.4 78.3L269.6 402c-8.2-5.7-19-5.7-27.2 0l-65.6 45.2-14.4-78.3c-1.8-9.8-9.5-17.5-19.3-19.3L64.8 335.2 110 269.6c5.7-8.2 5.7-19 0-27.2L64.8 176.8l78.3-14.4c9.8-1.8 17.5-9.5 19.3-19.3l14.4-78.3L242.4 110c8.2 5.7 19 5.7 27.2 0zM256 368a112 112 0 1 0 0-224 112 112 0 1 0 0 224zM192 256a64 64 0 1 1 128 0 64 64 0 1 1 -128 0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faSun=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(GT)),GT}var gb=Gjt();const jd=(e,t,n)=>{const r=document.createElement(e),[s,a]=Array.isArray(t)?[void 0,t]:[t,n];return s&&Object.assign(r,s),a?.forEach(i=>r.appendChild(i)),r},Yjt=(e,t)=>{var n;return t==="left"?e.offsetLeft:(((n=e.offsetParent instanceof HTMLElement?e.offsetParent:null)==null?void 0:n.offsetWidth)??0)-e.offsetWidth-e.offsetLeft},Kjt=e=>e.offsetWidth>0&&e.offsetHeight>0,Qjt=(e,t)=>{customElements.get(e)!==t&&customElements.define(e,t)};function Xjt(e,t,{reverse:n=!1}={}){const r=e.length;for(let s=n?r-1:0;n?s>=0:s<r;n?s--:s++)t(e[s],s)}function Zjt(e,t,n,r){const s=t.formatToParts(e);n&&s.unshift({type:"prefix",value:n}),r&&s.push({type:"suffix",value:r});const a=[],i=[],l=[],c=[],u={},d=x=>`${x}:${u[x]=(u[x]??-1)+1}`;let h="",m=!1,g=!1;for(const x of s){h+=x.value;const b=x.type==="minusSign"||x.type==="plusSign"?"sign":x.type;b==="integer"?(m=!0,i.push(...x.value.split("").map(w=>({type:b,value:parseInt(w)})))):b==="group"?i.push({type:b,value:x.value}):b==="decimal"?(g=!0,l.push({type:b,value:x.value,key:d(b)})):b==="fraction"?l.push(...x.value.split("").map(w=>({type:b,value:parseInt(w),key:d(b),pos:-1-u[b]}))):(m||g?c:a).push({type:b,value:x.value,key:d(b)})}const v=[];for(let x=i.length-1;x>=0;x--){const b=i[x];v.unshift(b.type==="integer"?{...b,key:d(b.type),pos:u[b.type]}:{...b,key:d(b.type)})}return{pre:a,integer:v,fraction:l,post:c,valueAsString:h,value:typeof e=="string"?parseFloat(e):e}}const Jjt=String.raw,eAt=(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0})(),tAt=typeof CSS<"u"&&CSS.supports&&CSS.supports("line-height","mod(1,1)"),tre=typeof matchMedia<"u"?matchMedia("(prefers-reduced-motion: reduce)"):null,D6="--_number-flow-d-opacity",ZB="--_number-flow-d-width",F6="--_number-flow-dx",JB="--_number-flow-d",nAt=(()=>{try{return CSS.registerProperty({name:D6,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:F6,syntax:"<length>",inherits:!0,initialValue:"0px"}),CSS.registerProperty({name:ZB,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:JB,syntax:"<number>",inherits:!0,initialValue:"0"}),!0}catch{return!1}})(),rAt="var(--number-flow-char-height, 1em)",ud="var(--number-flow-mask-height, 0.25em)",nre=`calc(${ud} / 2)`,eO="var(--number-flow-mask-width, 0.5em)",Zf=`calc(${eO} / var(--scale-x))`,Z4="#000 0, transparent 71%",rre=Jjt`:host{display:inline-block;direction:ltr;white-space:nowrap;isolation:isolate;line-height:${rAt} !important}.number,.number__inner{display:inline-block;transform-origin:left top}:host([data-will-change]) :is(.number,.number__inner,.section,.digit,.digit__num,.symbol){will-change:transform}.number{--scale-x:calc(1 + var(${ZB}) / var(--width));transform:translateX(var(${F6})) scaleX(var(--scale-x));margin:0 calc(-1 * ${eO});position:relative;-webkit-mask-image:linear-gradient(to right,transparent 0,#000 ${Zf},#000 calc(100% - ${Zf}),transparent ),linear-gradient(to bottom,transparent 0,#000 ${ud},#000 calc(100% - ${ud}),transparent 100% ),radial-gradient(at bottom right,${Z4}),radial-gradient(at bottom left,${Z4}),radial-gradient(at top left,${Z4}),radial-gradient(at top right,${Z4});-webkit-mask-size:100% calc(100% - ${ud} * 2),calc(100% - ${Zf} * 2) 100%,${Zf} ${ud},${Zf} ${ud},${Zf} ${ud},${Zf} ${ud};-webkit-mask-position:center,center,top left,top right,bottom right,bottom left;-webkit-mask-repeat:no-repeat}.number__inner{padding:${nre} ${eO};transform:scaleX(calc(1 / var(--scale-x))) translateX(calc(-1 * var(${F6})))}:host > :not(.number){z-index:5}.section,.symbol{display:inline-block;position:relative;isolation:isolate}.section::after{content:'\200b';display:inline-block}.section--justify-left{transform-origin:center left}.section--justify-right{transform-origin:center right}.section > [inert],.symbol > [inert]{margin:0 !important;position:absolute !important;z-index:-1}.digit{display:inline-block;position:relative;--c:var(--current) + var(${JB})}.digit__num,.number .section::after{padding:${nre} 0}.digit__num{display:inline-block;--offset-raw:mod(var(--length) + var(--n) - mod(var(--c),var(--length)),var(--length));--offset:calc( var(--offset-raw) - var(--length) * round(down,var(--offset-raw) / (var(--length) / 2),1) );--y:clamp(-100%,var(--offset) * 100%,100%);transform:translateY(var(--y))}.digit__num[inert]{position:absolute;top:0;left:50%;transform:translateX(-50%) translateY(var(--y))}.digit:not(.is-spinning) .digit__num[inert]{display:none}.symbol__value{display:inline-block;mix-blend-mode:plus-lighter;white-space:pre}.section--justify-left .symbol > [inert]{left:0}.section--justify-right .symbol > [inert]{right:0}.animate-presence{opacity:calc(1 + var(${D6}))}`,sAt=HTMLElement,aAt=tAt&&eAt&&nAt;let J4,Jke=class extends sAt{constructor(){super(),this.created=!1,this.batched=!1;const{animated:t,...n}=this.constructor.defaultProps;this._animated=this.computedAnimated=t,Object.assign(this,n)}get animated(){return this._animated}set animated(t){var n;this.animated!==t&&(this._animated=t,(n=this.shadowRoot)==null||n.getAnimations().forEach(r=>r.finish()))}set data(t){var n;if(t==null)return;const{pre:r,integer:s,fraction:a,post:i,value:l}=t;if(this.created){const c=this._data;this._data=t,this.computedTrend=typeof this.trend=="function"?this.trend(c.value,l):this.trend,this.computedAnimated=aAt&&this._animated&&(!this.respectMotionPreference||!(tre!=null&&tre.matches))&&Kjt(this),(n=this.plugins)==null||n.forEach(u=>{var d;return(d=u.onUpdate)==null?void 0:d.call(u,t,c,this)}),this.batched||this.willUpdate(),this._pre.update(r),this._num.update({integer:s,fraction:a}),this._post.update(i),this.batched||this.didUpdate()}else{this._data=t,this.attachShadow({mode:"open"});try{this._internals??(this._internals=this.attachInternals()),this._internals.role="img"}catch{}if(typeof CSSStyleSheet<"u"&&this.shadowRoot.adoptedStyleSheets)J4||(J4=new CSSStyleSheet,J4.replaceSync(rre)),this.shadowRoot.adoptedStyleSheets=[J4];else{const c=document.createElement("style");c.textContent=rre,this.shadowRoot.appendChild(c)}this._pre=new are(this,r,{justify:"right",part:"left"}),this.shadowRoot.appendChild(this._pre.el),this._num=new iAt(this,s,a),this.shadowRoot.appendChild(this._num.el),this._post=new are(this,i,{justify:"left",part:"right"}),this.shadowRoot.appendChild(this._post.el),this.created=!0}try{this._internals.ariaLabel=t.valueAsString}catch{}}willUpdate(){this._pre.willUpdate(),this._num.willUpdate(),this._post.willUpdate()}didUpdate(){if(!this.computedAnimated)return;this._abortAnimationsFinish?this._abortAnimationsFinish.abort():this.dispatchEvent(new Event("animationsstart")),this._pre.didUpdate(),this._num.didUpdate(),this._post.didUpdate();const t=new AbortController;Promise.all(this.shadowRoot.getAnimations().map(n=>n.finished)).then(()=>{t.signal.aborted||(this.dispatchEvent(new Event("animationsfinish")),this._abortAnimationsFinish=void 0)}),this._abortAnimationsFinish=t}};Jke.defaultProps={transformTiming:{duration:900,easing:"linear(0,.005,.019,.039,.066,.096,.129,.165,.202,.24,.278,.316,.354,.39,.426,.461,.494,.526,.557,.586,.614,.64,.665,.689,.711,.731,.751,.769,.786,.802,.817,.831,.844,.856,.867,.877,.887,.896,.904,.912,.919,.925,.931,.937,.942,.947,.951,.955,.959,.962,.965,.968,.971,.973,.976,.978,.98,.981,.983,.984,.986,.987,.988,.989,.99,.991,.992,.992,.993,.994,.994,.995,.995,.996,.996,.9963,.9967,.9969,.9972,.9975,.9977,.9979,.9981,.9982,.9984,.9985,.9987,.9988,.9989,1)"},spinTiming:void 0,opacityTiming:{duration:450,easing:"ease-out"},animated:!0,trend:(e,t)=>Math.sign(t-e),respectMotionPreference:!0,plugins:void 0,digits:void 0};let iAt=class{constructor(t,n,r,{className:s,...a}={}){this.flow=t,this._integer=new sre(t,n,{justify:"right",part:"integer"}),this._fraction=new sre(t,r,{justify:"left",part:"fraction"}),this._inner=jd("span",{className:"number__inner"},[this._integer.el,this._fraction.el]),this.el=jd("span",{...a,part:"number",className:`number ${s??""}`},[this._inner])}willUpdate(){this._prevWidth=this.el.offsetWidth,this._prevLeft=this.el.getBoundingClientRect().left,this._integer.willUpdate(),this._fraction.willUpdate()}update({integer:t,fraction:n}){this._integer.update(t),this._fraction.update(n)}didUpdate(){const t=this.el.getBoundingClientRect();this._integer.didUpdate(),this._fraction.didUpdate();const n=this._prevLeft-t.left,r=this.el.offsetWidth,s=this._prevWidth-r;this.el.style.setProperty("--width",String(r)),this.el.animate({[F6]:[`${n}px`,"0px"],[ZB]:[s,0]},{...this.flow.transformTiming,composite:"accumulate"})}},eEe=class{constructor(t,n,{justify:r,className:s,...a},i){this.flow=t,this.children=new Map,this.onCharRemove=c=>()=>{this.children.delete(c)},this.justify=r;const l=n.map(c=>this.addChar(c).el);this.el=jd("span",{...a,className:`section section--justify-${r} ${s??""}`},i?i(l):l)}addChar(t,{startDigitsAtZero:n=!1,...r}={}){const s=t.type==="integer"||t.type==="fraction"?new nEe(this,t.type,n?0:t.value,t.pos,{...r,onRemove:this.onCharRemove(t.key)}):new oAt(this,t.type,t.value,{...r,onRemove:this.onCharRemove(t.key)});return this.children.set(t.key,s),s}unpop(t){t.el.removeAttribute("inert"),t.el.style.top="",t.el.style[this.justify]=""}pop(t){t.forEach(n=>{n.el.style.top=`${n.el.offsetTop}px`,n.el.style[this.justify]=`${Yjt(n.el,this.justify)}px`}),t.forEach(n=>{n.el.setAttribute("inert",""),n.present=!1})}addNewAndUpdateExisting(t){const n=new Map,r=new Map,s=this.justify==="left",a=s?"prepend":"append";if(Xjt(t,i=>{let l;this.children.has(i.key)?(l=this.children.get(i.key),r.set(i,l),this.unpop(l),l.present=!0):(l=this.addChar(i,{startDigitsAtZero:!0,animateIn:!0}),n.set(i,l)),this.el[a](l.el)},{reverse:s}),this.flow.computedAnimated){const i=this.el.getBoundingClientRect();n.forEach(l=>{l.willUpdate(i)})}n.forEach((i,l)=>{i.update(l.value)}),r.forEach((i,l)=>{i.update(l.value)})}willUpdate(){const t=this.el.getBoundingClientRect();this._prevOffset=t[this.justify],this.children.forEach(n=>n.willUpdate(t))}didUpdate(){const t=this.el.getBoundingClientRect();this.children.forEach(s=>s.didUpdate(t));const n=t[this.justify],r=this._prevOffset-n;r&&this.children.size&&this.el.animate({transform:[`translateX(${r}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"})}},sre=class extends eEe{update(t){const n=new Map;this.children.forEach((r,s)=>{t.find(a=>a.key===s)||n.set(s,r),this.unpop(r)}),this.addNewAndUpdateExisting(t),n.forEach(r=>{r instanceof nEe&&r.update(0)}),this.pop(n)}},are=class extends eEe{update(t){const n=new Map;this.children.forEach((r,s)=>{t.find(a=>a.key===s)||n.set(s,r)}),this.pop(n),this.addNewAndUpdateExisting(t)}},tO=class{constructor(t,n,{onRemove:r,animateIn:s=!1}={}){this.flow=t,this.el=n,this._present=!0,this._remove=()=>{var a;this.el.remove(),(a=this._onRemove)==null||a.call(this)},this.el.classList.add("animate-presence"),this.flow.computedAnimated&&s&&this.el.animate({[D6]:[-.9999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),this._onRemove=r}get present(){return this._present}set present(t){if(this._present!==t){if(this._present=t,t?this.el.removeAttribute("inert"):this.el.setAttribute("inert",""),!this.flow.computedAnimated){t||this._remove();return}this.el.style.setProperty("--_number-flow-d-opacity",t?"0":"-.999"),this.el.animate({[D6]:t?[-.9999,0]:[.999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),t?this.flow.removeEventListener("animationsfinish",this._remove):this.flow.addEventListener("animationsfinish",this._remove,{once:!0})}}},tEe=class extends tO{constructor(t,n,r,s){super(t.flow,r,s),this.section=t,this.value=n,this.el=r}},nEe=class extends tEe{constructor(t,n,r,s,a){var i,l;const c=(((l=(i=t.flow.digits)==null?void 0:i[s])==null?void 0:l.max)??9)+1,u=Array.from({length:c}).map((h,m)=>{const g=jd("span",{className:"digit__num"},[document.createTextNode(String(m))]);return m!==r&&g.setAttribute("inert",""),g.style.setProperty("--n",String(m)),g}),d=jd("span",{part:`digit ${n}-digit`,className:"digit"},u);d.style.setProperty("--current",String(r)),d.style.setProperty("--length",String(c)),super(t,r,d,a),this.pos=s,this._onAnimationsFinish=()=>{this.el.classList.remove("is-spinning")},this._numbers=u,this.length=c}willUpdate(t){const n=this.el.getBoundingClientRect();this._prevValue=this.value;const r=n[this.section.justify]-t[this.section.justify],s=n.width/2;this._prevCenter=this.section.justify==="left"?r+s:r-s}update(t){this.el.style.setProperty("--current",String(t)),this._numbers.forEach((n,r)=>r===t?n.removeAttribute("inert"):n.setAttribute("inert","")),this.value=t}didUpdate(t){const n=this.el.getBoundingClientRect(),r=n[this.section.justify]-t[this.section.justify],s=n.width/2,a=this.section.justify==="left"?r+s:r-s,i=this._prevCenter-a;i&&this.el.animate({transform:[`translateX(${i}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"});const l=this.getDelta();l&&(this.el.classList.add("is-spinning"),this.el.animate({[JB]:[-l,0]},{...this.flow.spinTiming??this.flow.transformTiming,composite:"accumulate"}),this.flow.addEventListener("animationsfinish",this._onAnimationsFinish,{once:!0}))}getDelta(){var t;if(this.flow.plugins)for(const s of this.flow.plugins){const a=(t=s.getDelta)==null?void 0:t.call(s,this.value,this._prevValue,this);if(a!=null)return a}const n=this.value-this._prevValue,r=this.flow.computedTrend||Math.sign(n);return r<0&&this.value>this._prevValue?this.value-this.length-this._prevValue:r>0&&this.value<this._prevValue?this.length-this._prevValue+this.value:n}},oAt=class extends tEe{constructor(t,n,r,s){const a=jd("span",{className:"symbol__value",textContent:r});super(t,r,jd("span",{part:`symbol ${n}`,className:"symbol"},[a]),s),this.type=n,this._children=new Map,this._onChildRemove=i=>()=>{this._children.delete(i)},this._children.set(r,new tO(this.flow,a,{onRemove:this._onChildRemove(r)}))}willUpdate(t){if(this.type==="decimal")return;const n=this.el.getBoundingClientRect();this._prevOffset=n[this.section.justify]-t[this.section.justify]}update(t){if(this.value!==t){const n=this._children.get(this.value);n&&(n.present=!1);const r=this._children.get(t);if(r)r.present=!0;else{const s=jd("span",{className:"symbol__value",textContent:t});this.el.appendChild(s),this._children.set(t,new tO(this.flow,s,{animateIn:!0,onRemove:this._onChildRemove(t)}))}}this.value=t}didUpdate(t){if(this.type==="decimal")return;const n=this.el.getBoundingClientRect()[this.section.justify]-t[this.section.justify],r=this._prevOffset-n;r&&this.el.animate({transform:[`translateX(${r}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"})}};const lAt=parseInt(f.version.match(/^(\d+)\./)?.[1]),eV=lAt>=19,cAt=["data","digits"];class tV extends Jke{attributeChangedCallback(t,n,r){this[t]=JSON.parse(r)}}tV.observedAttributes=eV?[]:cAt;Qjt("number-flow-react",tV);const uAt={},ire=eV?e=>e:JSON.stringify;function ore(e){const{transformTiming:t,spinTiming:n,opacityTiming:r,animated:s,respectMotionPreference:a,trend:i,plugins:l,...c}=e;return[{transformTiming:t,spinTiming:n,opacityTiming:r,animated:s,respectMotionPreference:a,trend:i,plugins:l},c]}class dAt extends f.Component{updateProperties(t){if(!this.el)return;this.el.batched=!this.props.isolate;const[n]=ore(this.props);Object.entries(n).forEach(([r,s])=>{this.el[r]=s??tV.defaultProps[r]}),t?.onAnimationsStart&&this.el.removeEventListener("animationsstart",t.onAnimationsStart),this.props.onAnimationsStart&&this.el.addEventListener("animationsstart",this.props.onAnimationsStart),t?.onAnimationsFinish&&this.el.removeEventListener("animationsfinish",t.onAnimationsFinish),this.props.onAnimationsFinish&&this.el.addEventListener("animationsfinish",this.props.onAnimationsFinish)}componentDidMount(){this.updateProperties(),eV&&this.el&&(this.el.digits=this.props.digits,this.el.data=this.props.data)}getSnapshotBeforeUpdate(t){if(this.updateProperties(t),t.data!==this.props.data){if(this.props.group)return this.props.group.willUpdate(),()=>this.props.group?.didUpdate();if(!this.props.isolate)return this.el?.willUpdate(),()=>this.el?.didUpdate()}return null}componentDidUpdate(t,n,r){r?.()}handleRef(t){this.props.innerRef&&(this.props.innerRef.current=t),this.el=t}render(){const[t,{innerRef:n,className:r,data:s,willChange:a,isolate:i,group:l,digits:c,onAnimationsStart:u,onAnimationsFinish:d,...h}]=ore(this.props);return f.createElement("number-flow-react",{ref:this.handleRef,"data-will-change":a?"":void 0,class:r,...h,dangerouslySetInnerHTML:{__html:""},suppressHydrationWarning:!0,digits:ire(c),data:ire(s)})}constructor(t){super(t),this.handleRef=this.handleRef.bind(this)}}const c1=f.forwardRef(function({value:t,locales:n,format:r,prefix:s,suffix:a,...i},l){f.useImperativeHandle(l,()=>c.current,[]);const c=f.useRef(),u=f.useContext(fAt);u?.useRegister(c);const d=f.useMemo(()=>n?JSON.stringify(n):"",[n]),h=f.useMemo(()=>r?JSON.stringify(r):"",[r]),m=f.useMemo(()=>{const g=uAt[`${d}:${h}`]??=new Intl.NumberFormat(n,r);return Zjt(t,g,s,a)},[t,d,h,s,a]);return f.createElement(dAt,{...i,group:u,data:m,innerRef:c})}),fAt=f.createContext(void 0);function rEe(){const[e,t]=f.useState(!1),n=iC(),r=f.useCallback(s=>{fn(iQ,s.toString()),t(s)},[t]);return f.useEffect(()=>{const s=Wn(iQ);t(s==="true"||s===void 0&&n!=="US")},[n]),f.useMemo(()=>({prefersMetric:e,setPrefersMetric:r}),[e,r])}function ZS(e,t){return Array.isArray(e)?e.includes(t):t?t in e:!1}const sEe=L.memo(({day:e,icon:t,high:n,low:r,selected:s})=>o.jsxs("div",{className:"relative col-span-1",children:[s&&o.jsx("div",{className:"-inset-sm right-md absolute",children:o.jsx("div",{className:"absolute inset-0 rounded-md bg-white opacity-10"})}),o.jsxs("div",{className:"relative flex flex-col items-start",children:[o.jsx(F,{color:"white",children:o.jsx(jt,{icon:t,className:"text-xl"})}),o.jsx(F,{variant:"smallBold",color:"white",children:e}),o.jsxs("div",{className:"mt-xs gap-x-xs flex",children:[o.jsx(F,{variant:"smallCaps",color:"white",className:"gap-x-two flex",children:o.jsxs("span",{className:"",children:[n,"°"]})}),o.jsx(F,{variant:"smallCaps",color:"white",className:"gap-x-two flex opacity-75",children:o.jsxs("span",{className:"",children:[r,"°"]})})]})]})]}));sEe.displayName="ForecastItem";const lre=e=>e.time,cre=e=>e.temp,hAt="white",ure="white",YT="rgba(255, 255, 255, 0.5)",dre="rgba(255, 255, 255, 0.3)",fre="font-mono text-[11px]",Ov={top:30,right:0,bottom:5,left:0},mAt=100,pAt=35,gAt=40,nV=130,aEe=L.memo(({forecast:e,activeDay:t,isMetric:n})=>{const{locale:r}=ae(),s=f.useMemo(()=>e.map(T=>T?.hour?.map(j=>({time:new Date(j.time),temp:n?j.temp_c:j.temp_f}))),[e,n]),a=f.useMemo(()=>Kc(s.flat(),cre),[s]),i=f.useMemo(()=>s[t],[t,s]),l=f.useRef(null),{width:c,height:u}=B7e(l),d=c/mAt,{xRange:h,yRange:m}=sb({width:c,height:u,margin:Ov,maxYLabelWidth:pAt}),g=f.useMemo(()=>tb({range:h,domain:Kc(i,lre),round:!0}),[i,h]),v=u/gAt,x=f.useMemo(()=>$1({range:m,domain:a,nice:!0,round:!0}),[m,a]),b=f.useMemo(()=>pm().x(T=>g(lre(T))).y(T=>x(cre(T))).curve(pSt),[g,x]),w=f.useMemo(()=>b(i),[b,i]),C=f.useCallback(T=>`${T}°`,[]),S=f.useCallback(T=>typeof T=="number"?T.toString():T.toLocaleString(r,{hour:"numeric",minute:"numeric",hour12:!0}).replace(":00",""),[r]),k=f.useCallback((T,j,N)=>({className:fre,fill:ure,dx:j===0?"-0.3em":j===N.length-1?"0.3em":"0",dy:"0.3em",textAnchor:j===0?"start":j===N.length-1?"end":"middle"}),[]),E=f.useMemo(()=>({className:fre,textAnchor:"start",dx:"0.75em",dy:"-0.5em",fill:ure}),[]);return o.jsx("div",{className:"relative",ref:l,style:{height:nV},children:o.jsxs(ib,{width:c,height:u,children:[o.jsx(S6,{orientation:Ta.bottom,scale:g,top:u,stroke:YT,hideAxisLine:!0,numTicks:d,tickStroke:dre,tickLabelProps:k,tickFormat:S}),o.jsx(S6,{orientation:Ta.left,left:Ov.left,hideAxisLine:!0,tickFormat:C,scale:x,stroke:YT,tickStroke:dre,hideTicks:!0,tickLabelProps:E,numTicks:v}),o.jsx(nb,{left:Ov.left,scale:x,width:c-Ov.right-Ov.left*2,strokeDasharray:"2,2",stroke:YT,pointerEvents:"none",numTicks:v}),o.jsx("path",{d:w,stroke:hAt,strokeWidth:2,fill:"none",strokeLinecap:"round",shapeRendering:"geometricPrecision"})]})})});aEe.displayName="HourlyTemperature";const vAt=Object.freeze(Object.defineProperty({__proto__:null,HOURLY_TEMPERATURE_HEIGHT:nV,HourlyTemperature:aEe},Symbol.toStringTag,{value:"Module"}));var KT={},hre;function yAt(){return hre||(hre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="cloud-bolt",r=512,s=512,a=[127785,"thunderstorm"],i="f76c",l="M184 48c-39.8 0-72 32.2-72 72c0 2.6 .1 5.2 .4 7.7c1.3 12-6.6 23.1-18.3 25.9C67.6 159.9 48 183.7 48 212c0 32.2 25.3 58.4 57.1 59.9c.3 0 .7 0 1 .1l1.9 0 95.2 0-60 48L108 320l-4 0c-1.2 0-2.4-.1-3.5-.3C44.3 315.9 0 269.1 0 212c0-44.1 26.4-81.9 64.2-98.7C67.7 50.1 120 0 184 0c33.9 0 64.5 14.1 86.3 36.6C285.1 28.6 302 24 320 24c46.9 0 86.5 31 99.5 73.7C472.1 106.9 512 152.8 512 208c0 61.9-50.1 112-112 112l-48 0-18.3 0 24-48 42.3 0c35.3 0 64-28.7 64-64s-28.6-64-64-64c0 0 0 0 0 0l-.3 0c-12.4 0-22.7-9.3-23.9-21.6C372.9 94.1 349 72 320 72c-14.7 0-28.1 5.7-38.1 15c-5.3 4.9-12.4 7.2-19.5 6.2s-13.4-5-17.2-11.1C232.5 61.6 209.8 48 184 48zM330.1 227.6c5.8 4.7 7.6 12.9 4.3 19.6L281.9 352l70.1 0c6.8 0 12.8 4.3 15.1 10.7s.2 13.5-5.1 17.8l-160 128c-5.9 4.7-14.2 4.7-20.1-.1s-7.6-12.9-4.3-19.6L230.1 384 160 384c-6.8 0-12.8-4.3-15.1-10.7s-.2-13.5 5.1-17.8l160-128c5.9-4.7 14.2-4.7 20.1 .1z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faCloudBolt=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(KT)),KT}var mre=yAt(),QT={},pre;function xAt(){return pre||(pre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="cloud-bolt-moon",r=576,s=512,a=["thunderstorm-moon"],i="f76d",l="M361.4 79.9c31.2 18.7 52.5 52.2 54.3 90.8c33.3 15.8 57.6 47.5 63 85.3c.8 0 1.6 0 2.4 0c34.9 0 66.7-13.8 89.9-36.1c5.1-4.9 6.4-12.5 3.2-18.7s-10.1-9.7-17-8.6c-4.9 .8-10 1.3-15.2 1.3c-49 0-88.4-39.3-88.4-87.4c0-32.6 18-61.1 44.9-76.1c6.1-3.4 9.3-10.5 7.8-17.4s-7.3-12-14.3-12.6c-3.6-.3-7.3-.5-10.9-.5C427.1 0 380.6 33 361.4 79.9zM128.1 160c0-26.5 21.5-48 48-48c22.8 0 41.9 15.9 46.8 37.2c2.1 8.9 9 15.9 18 18s18.3-1.2 24.1-8.3c7.4-9.1 18.6-14.9 31.1-14.9c20.3 0 37.2 15.2 39.7 34.8c.1 .6 .2 1.2 .3 1.7l0 1.1c0 .3 0 .6 0 .9c0 .5 0 1 0 1.5s0 1 0 1.5c0 .3 0 .6 0 .9l0 30.2c0 7 3 13.6 8.3 18.1s12.2 6.6 19.1 5.6c1.5-.2 3-.3 4.6-.3c17.7 0 32 14.3 32 32s-14.3 32-32 32c-.4 0-.9 0-1.3 0c-.3 0-.6 0-1 0l-72.1 0-8 16.1 18.3 0c20.3 0 38.4 12.8 45.2 31.9l16.1 0c.9 0 1.8 0 2.7 0c44.2 0 80-35.8 80-80c0-38.7-27.5-71-64-78.4l0-6.9c0-.9 0-1.8 0-2.7s0-1.8 0-2.7l0-5.3c0-2.9-.5-5.7-1.5-8.3C374.9 126.9 339.1 96 296.1 96c-14.7 0-28.5 3.6-40.6 9.9C238.1 80.6 209.1 64 176.1 64c-52.6 0-95.4 42.4-96 94.8l-.2 2.5C34.6 169 .1 208.5 .1 256c0 43.4 28.8 80 68.3 91.9c3.1-6.6 7.6-12.6 13.6-17.4l33.3-26.6-16.4 0c-.3 0-.6 0-.9 0c-.6 0-1.2 0-1.9 0c-26.5 0-48-21.5-48-48s21.5-48 48-48c1.4 0 2.7 .1 4 .2c13.2 1.1 24.8-8.7 25.9-21.9l2-23.8c.1-.8 .1-1.6 .1-2.5zm154 67.6c-5.8-4.7-14.2-4.7-20.1-.1l-160 128c-5.3 4.2-7.4 11.4-5.1 17.8s8.3 10.7 15.1 10.7l70.1 0L129.7 488.8c-3.4 6.7-1.6 14.9 4.3 19.6s14.2 4.7 20.1 .1l160-128c5.3-4.2 7.4-11.4 5.1-17.8s-8.3-10.7-15.1-10.7l-70.1 0 52.4-104.8c3.4-6.7 1.6-14.9-4.3-19.6z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faCloudBoltMoon=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(QT)),QT}var bAt=xAt(),XT={},gre;function wAt(){return gre||(gre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="cloud-bolt-sun",r=640,s=512,a=["thunderstorm-sun"],i="f76e",l="M294.2 1.2c5.1 2.1 8.7 6.7 9.6 12.1l10.4 62.4c-23.3 10.8-42.9 28.4-56 50.3c-14.6-9-31.8-14.1-50.2-14.1c-53 0-96 43-96 96c0 35.5 19.3 66.6 48 83.2c.8 31.8 13.2 60.7 33.1 82.7l-56 39.2c-4.5 3.1-10.3 3.8-15.4 1.6s-8.7-6.7-9.6-12.1L98.1 317.9 13.4 303.8c-5.4-.9-10-4.5-12.1-9.6s-1.5-10.9 1.6-15.4L52.5 208 2.9 137.2c-3.2-4.5-3.8-10.3-1.6-15.4s6.7-8.7 12.1-9.6L98.1 98.1l14.1-84.7c.9-5.4 4.5-10 9.6-12.1s10.9-1.5 15.4 1.6L208 52.5 278.8 2.9c4.5-3.2 10.3-3.8 15.4-1.6zM208 144c13.8 0 26.7 4.4 37.1 11.9c-1.2 4.1-2.2 8.3-3 12.6c-37.9 14.6-67.2 46.6-77.8 86.4C151.8 243.1 144 226.5 144 208c0-35.3 28.7-64 64-64zm112.1 48c0 .8 0 1.7-.1 2.5l-2 23.8c-1.1 13.2-12.7 23-25.9 21.9c-1.3-.1-2.6-.2-4-.2c-26.5 0-48 21.5-48 48c0 20.6 12.9 38.1 31.1 44.9c-12.6 11.7-17.9 29.3-14 46c-37.9-12.9-65.1-48.7-65.1-90.9c0-47.5 34.5-86.9 79.8-94.6l.2-2.5c.6-52.5 43.4-94.8 96-94.8c33 0 62 16.6 79.3 41.9c12.2-6.3 26-9.9 40.6-9.9c43 0 78.8 30.9 86.5 71.7c1 2.6 1.5 5.4 1.5 8.3l0 5.3c0 .9 0 1.8 0 2.7s0 1.8 0 2.7l0 6.9c36.5 7.4 64 39.7 64 78.4c0 44.2-35.8 80-80 80c-.9 0-1.8 0-2.7 0l-16.1 0c3.5-10.1 3.7-21.3 0-31.8c-2.1-6.1-5.4-11.6-9.6-16.2l26.1 0c.3 0 .6 0 1 0c.4 0 .9 0 1.3 0c17.7 0 32-14.3 32-32s-14.3-32-32-32c-1.6 0-3.1 .1-4.6 .3c-6.9 1-13.9-1.1-19.1-5.6s-8.3-11.2-8.3-18.1l0-30.2c0-.3 0-.6 0-.9c0-.5 0-1 0-1.5s0-1 0-1.5c0-.3 0-.6 0-.9l0-1.1c-.1-.6-.2-1.1-.3-1.7c-2.5-19.6-19.3-34.8-39.7-34.8c-12.6 0-23.8 5.8-31.1 14.9c-.6 .7-1.1 1.3-1.8 1.9c-6.1 1.1-12 3.5-17.4 7c-1.6 0-3.3-.2-4.9-.6c-8.9-2.1-15.9-9.1-18-18c-4.9-21.3-24-37.2-46.8-37.2c-26.5 0-48 21.5-48 48zm154 35.6c5.8 4.7 7.6 12.9 4.2 19.6L425.9 352l70.1 0c6.8 0 12.9 4.3 15.1 10.7s.2 13.5-5.1 17.8l-160 128c-5.9 4.7-14.2 4.7-20.1-.1s-7.6-12.9-4.3-19.6L374.1 384 304 384c-6.8 0-12.8-4.3-15.1-10.7s-.2-13.5 5.1-17.8l160-128c5.9-4.7 14.2-4.7 20.1 .1z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faCloudBoltSun=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(XT)),XT}var _At=wAt(),ZT={},vre;function CAt(){return vre||(vre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="cloud-drizzle",r=512,s=512,a=[],i="f738",l="M112 120c0-39.8 32.2-72 72-72c25.8 0 48.5 13.6 61.2 34c3.8 6.1 10.1 10.2 17.2 11.1s14.3-1.3 19.5-6.2c10-9.3 23.4-15 38.1-15c29 0 52.9 22.1 55.7 50.4c1.2 12.3 11.6 21.7 23.9 21.6l.3 0s0 0 0 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-292 0-1.9 0c-.3 0-.7-.1-1-.1C73.3 270.4 48 244.2 48 212c0-28.3 19.6-52.1 46.1-58.4c11.8-2.8 19.6-13.9 18.3-25.9c-.3-2.5-.4-5.1-.4-7.7zM184 0C120 0 67.7 50.1 64.2 113.3C26.4 130.1 0 167.9 0 212c0 57.1 44.3 103.9 100.5 107.7c1.2 .2 2.3 .3 3.5 .3l4 0 292 0c61.9 0 112-50.1 112-112c0-55.2-39.9-101.1-92.5-110.3C406.5 55 366.9 24 320 24c-18 0-34.9 4.6-49.7 12.6C248.5 14.1 217.9 0 184 0zM88 376c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24s24-10.7 24-24l0-48zm96 64c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24s24-10.7 24-24l0-48zm168-24c-13.3 0-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24s24-10.7 24-24l0-48c0-13.3-10.7-24-24-24zm-72-40c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24s24-10.7 24-24l0-48zm168-24c-13.3 0-24 10.7-24 24l0 48c0 13.3 10.7 24 24 24s24-10.7 24-24l0-48c0-13.3-10.7-24-24-24z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faCloudDrizzle=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(ZT)),ZT}var SAt=CAt(),JT={},yre;function MAt(){return yre||(yre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="cloud-fog",r=640,s=512,a=[127787,"fog"],i="f74e",l="M176 120c0-39.8 32.2-72 72-72c25.8 0 48.5 13.6 61.2 34c3.8 6.1 10.1 10.2 17.2 11.1s14.3-1.3 19.5-6.2c10-9.3 23.4-15 38.1-15c29 0 52.9 22.1 55.7 50.4c1.2 12.3 11.6 21.7 23.9 21.6l.3 0s0 0 0 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-292 0-1.9 0c-.3 0-.7-.1-1-.1C137.3 270.4 112 244.2 112 212c0-28.3 19.6-52.1 46.1-58.4c11.8-2.8 19.6-13.9 18.3-25.9c-.3-2.5-.4-5.1-.4-7.7zM248 0C184 0 131.7 50.1 128.2 113.3C90.4 130.1 64 167.9 64 212c0 57.1 44.3 103.9 100.5 107.7c1.2 .2 2.3 .3 3.5 .3l4 0 292 0c61.9 0 112-50.1 112-112c0-55.2-39.9-101.1-92.5-110.3C470.5 55 430.9 24 384 24c-18 0-34.9 4.6-49.7 12.6C312.5 14.1 281.9 0 248 0zM0 392c0 13.3 10.7 24 24 24l528 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L24 368c-13.3 0-24 10.7-24 24zm64 96c0 13.3 10.7 24 24 24l112 0c13.3 0 24-10.7 24-24s-10.7-24-24-24L88 464c-13.3 0-24 10.7-24 24zm208 0c0 13.3 10.7 24 24 24l320 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-320 0c-13.3 0-24 10.7-24 24z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faCloudFog=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(JT)),JT}var kAt=MAt(),eN={},xre;function EAt(){return xre||(xre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="cloud-hail",r=512,s=512,a=[],i="f739",l="M112 120c0-39.8 32.2-72 72-72c25.8 0 48.5 13.6 61.2 34c3.8 6.1 10.1 10.2 17.2 11.1s14.3-1.3 19.5-6.2c10-9.3 23.4-15 38.1-15c29 0 52.9 22.1 55.7 50.4c1.2 12.3 11.6 21.7 23.9 21.6l.3 0s0 0 0 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-292 0-1.9 0c-.3 0-.7-.1-1-.1C73.3 270.4 48 244.2 48 212c0-28.3 19.6-52.1 46.1-58.4c11.8-2.8 19.6-13.9 18.3-25.9c-.3-2.5-.4-5.1-.4-7.7zM184 0C120 0 67.7 50.1 64.2 113.3C26.4 130.1 0 167.9 0 212c0 57.1 44.3 103.9 100.5 107.7c1.2 .2 2.3 .3 3.5 .3l4 0 292 0c61.9 0 112-50.1 112-112c0-55.2-39.9-101.1-92.5-110.3C406.5 55 366.9 24 320 24c-18 0-34.9 4.6-49.7 12.6C248.5 14.1 217.9 0 184 0zM160 384a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm128 0a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm96 32a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM96 480a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm96 32a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm160-32a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faCloudHail=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(eN)),eN}var TAt=EAt(),tN={},bre;function NAt(){return bre||(bre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="cloud-moon-rain",r=576,s=512,a=[],i="f73c",l="M353.7 107.6c35.4 17.6 60.2 53.3 62.1 95.1c23.2 11 42 29.7 53.1 52.7c4 .4 8.1 .6 12.3 .6c34.9 0 66.7-13.8 89.9-36.1c5.1-4.9 6.4-12.5 3.2-18.7s-10.1-9.7-17-8.6c-4.9 .8-10 1.3-15.2 1.3c-49 0-88.4-39.3-88.4-87.4c0-32.6 18-61.1 44.9-76.1c6.1-3.4 9.3-10.5 7.8-17.4s-7.3-12-14.3-12.6c-3.6-.3-7.3-.5-10.9-.5C417 0 363.5 46.5 353.7 107.6zM85.4 420.1c-11-7.4-25.9-4.4-33.3 6.7l-32 48c-7.4 11-4.4 25.9 6.7 33.3s25.9 4.4 33.3-6.7l32-48c7.4-11 4.4-25.9-6.7-33.3zm96 0c-11-7.4-25.9-4.4-33.3 6.7l-32 48c-7.4 11-4.4 25.9 6.7 33.3s25.9 4.4 33.3-6.7l32-48c7.4-11 4.4-25.9-6.7-33.3zm96 0c-11-7.4-25.9-4.4-33.3 6.7l-32 48c-7.4 11-4.4 25.9 6.7 33.3s25.9 4.4 33.3-6.7l32-48c7.4-11 4.4-25.9-6.7-33.3zm96 0c-11-7.4-25.9-4.4-33.3 6.7l-32 48c-7.4 11-4.4 25.9 6.7 33.3s25.9 4.4 33.3-6.7l32-48c7.4-11 4.4-25.9-6.7-33.3zM128.1 192c0-26.5 21.5-48 48-48c22.8 0 41.9 15.9 46.8 37.2c2.1 8.9 9 15.9 18 18s18.3-1.2 24.1-8.3c7.4-9.1 18.6-14.9 31.1-14.9c20.3 0 37.2 15.2 39.7 34.8c.1 .6 .2 1.2 .3 1.7l0 1.1c0 .3 0 .6 0 .9c0 .5 0 1 0 1.5s0 1 0 1.5c0 .3 0 .6 0 .9l0 30.2c0 7 3 13.6 8.3 18.1s12.2 6.6 19.1 5.6c1.5-.2 3-.3 4.6-.3c17.7 0 32 14.3 32 32s-14.3 32-32 32c-.4 0-.9 0-1.3 0c-.2 0-.4 0-.6 0c-.1 0-.2 0-.4 0l-266.9 0c-.3 0-.6 0-.9 0c-.6 0-1.2 0-1.9 0c-26.5 0-48-21.5-48-48s21.5-48 48-48c1.4 0 2.7 .1 4 .2c13.2 1.1 24.8-8.7 25.9-21.9l2-23.8c.1-.8 .1-1.6 .1-2.5zm48-96c-52.6 0-95.4 42.4-96 94.8l-.2 2.5C34.6 201 .1 240.5 .1 288c0 53 43 96 96 96c1.1 0 2.2 0 3.2-.1l266 0c.9 0 1.8 0 2.7 0c44.2 0 80-35.8 80-80c0-38.7-27.5-71-64-78.4l0-6.9c0-.9 0-1.8 0-2.7s0-1.8 0-2.7l0-5.3c0-2.9-.5-5.7-1.5-8.3c-7.7-40.8-43.4-71.7-86.5-71.7c-14.7 0-28.5 3.6-40.6 9.9C238.1 112.6 209.1 96 176.1 96z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faCloudMoonRain=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(tN)),tN}var jAt=NAt(),nN={},wre;function AAt(){return wre||(wre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="clouds",r=640,s=512,a=[],i="f744",l="M272 112c0 .7 0 1.4 0 2c-.3 10.3 6 19.7 15.6 23.2s20.5 .6 27-7.4c8.8-10.9 22.3-17.9 37.4-17.9c26.5 0 48 21.5 48 48c0 8.7-2.3 16.8-6.3 23.8c3.6 2.3 7.1 4.8 10.6 7.4c12.8-4.4 26.5-6.8 40.7-7.2c2-7.7 3-15.7 3-24c0-53-43-96-96-96c-14 0-27.2 3-39.2 8.4C296.8 30.1 255.9 0 208 0C151.6 0 104.9 41.7 97.1 96L96 96C43 96 0 139 0 192s43 96 96 96l65.9 0c2.7-17.1 8.3-33.3 16.2-48L96 240c-26.5 0-48-21.5-48-48s21.5-48 48-48c5.9 0 11.4 1 16.6 2.9c7.9 2.9 16.8 1.5 23.4-3.8s9.9-13.7 8.7-22c-.4-2.9-.6-6-.6-9.1c0-35.3 28.7-64 64-64s64 28.7 64 64zM240 312c0-39.8 32.2-72 72-72c25.8 0 48.5 13.6 61.2 34c3.8 6.1 10.1 10.2 17.2 11.1s14.3-1.3 19.5-6.2c10-9.3 23.4-15 38.1-15c29 0 52.9 22.1 55.7 50.4c1.2 12.3 11.6 21.7 23.9 21.6l.3 0s0 0 0 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-292 0-1.9 0c-.3 0-.7-.1-1-.1C201.3 462.4 176 436.2 176 404c0-28.3 19.6-52.1 46.1-58.4c11.8-2.8 19.6-13.9 18.3-25.9c-.3-2.5-.4-5.1-.4-7.7zm72-120c-64 0-116.3 50.1-119.8 113.3C154.4 322.1 128 359.9 128 404c0 57.1 44.3 103.9 100.5 107.7c1.2 .2 2.3 .3 3.5 .3l4 0 292 0c61.9 0 112-50.1 112-112c0-55.2-39.9-101.1-92.5-110.3C534.5 247 494.9 216 448 216c-18 0-34.9 4.6-49.7 12.6C376.5 206.1 345.9 192 312 192z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faClouds=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(nN)),nN}var RAt=AAt(),rN={},_re;function LAt(){return _re||(_re=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="cloud-showers",r=512,s=512,a=[],i="f73f",l="M112 120c0-39.8 32.2-72 72-72c25.8 0 48.5 13.6 61.2 34c3.8 6.1 10.1 10.2 17.2 11.1s14.3-1.3 19.5-6.2c10-9.3 23.4-15 38.1-15c29 0 52.9 22.1 55.7 50.4c1.2 12.3 11.6 21.7 23.9 21.6l.3 0s0 0 0 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-292 0-1.9 0c-.3 0-.7-.1-1-.1C73.3 270.4 48 244.2 48 212c0-28.3 19.6-52.1 46.1-58.4c11.8-2.8 19.6-13.9 18.3-25.9c-.3-2.5-.4-5.1-.4-7.7zM184 0C120 0 67.7 50.1 64.2 113.3C26.4 130.1 0 167.9 0 212c0 57.1 44.3 103.9 100.5 107.7c1.2 .2 2.3 .3 3.5 .3l4 0 292 0c61.9 0 112-50.1 112-112c0-55.2-39.9-101.1-92.5-110.3C406.5 55 366.9 24 320 24c-18 0-34.9 4.6-49.7 12.6C248.5 14.1 217.9 0 184 0zM112 352c-13.3 0-24 10.7-24 24l0 80c0 13.3 10.7 24 24 24s24-10.7 24-24l0-80c0-13.3-10.7-24-24-24zm192 0c-13.3 0-24 10.7-24 24l0 80c0 13.3 10.7 24 24 24s24-10.7 24-24l0-80c0-13.3-10.7-24-24-24zm-72 56c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 80c0 13.3 10.7 24 24 24s24-10.7 24-24l0-80zm168-24c-13.3 0-24 10.7-24 24l0 80c0 13.3 10.7 24 24 24s24-10.7 24-24l0-80c0-13.3-10.7-24-24-24z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faCloudShowers=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(rN)),rN}var OAt=LAt(),sN={},Cre;function PAt(){return Cre||(Cre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="cloud-showers-heavy",r=512,s=512,a=[],i="f740",l="M112 120c0-39.8 32.2-72 72-72c25.8 0 48.5 13.6 61.2 34c3.8 6.1 10.1 10.2 17.2 11.1s14.3-1.3 19.5-6.2c10-9.3 23.4-15 38.1-15c29 0 52.9 22.1 55.7 50.4c1.2 12.3 11.6 21.7 23.9 21.6l.3 0s0 0 0 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-292 0-1.9 0c-.3 0-.7-.1-1-.1C73.3 270.4 48 244.2 48 212c0-28.3 19.6-52.1 46.1-58.4c11.8-2.8 19.6-13.9 18.3-25.9c-.3-2.5-.4-5.1-.4-7.7zM184 0C120 0 67.7 50.1 64.2 113.3C26.4 130.1 0 167.9 0 212c0 57.1 44.3 103.9 100.5 107.7c1.2 .2 2.3 .3 3.5 .3l4 0 292 0c61.9 0 112-50.1 112-112c0-55.2-39.9-101.1-92.5-110.3C406.5 55 366.9 24 320 24c-18 0-34.9 4.6-49.7 12.6C248.5 14.1 217.9 0 184 0zM81.5 353.9c-12.2-5.2-26.3 .4-31.5 12.6l-48 112c-5.2 12.2 .4 26.3 12.6 31.5s26.3-.4 31.5-12.6l48-112c5.2-12.2-.4-26.3-12.6-31.5zm120 0c-12.2-5.2-26.3 .4-31.5 12.6l-48 112c-5.2 12.2 .4 26.3 12.6 31.5s26.3-.4 31.5-12.6l48-112c5.2-12.2-.4-26.3-12.6-31.5zm244.6 31.5c5.2-12.2-.4-26.3-12.6-31.5s-26.3 .4-31.5 12.6l-48 112c-5.2 12.2 .4 26.3 12.6 31.5s26.3-.4 31.5-12.6l48-112zM313.5 353.9c-12.2-5.2-26.3 .4-31.5 12.6l-48 112c-5.2 12.2 .4 26.3 12.6 31.5s26.3-.4 31.5-12.6l48-112c5.2-12.2-.4-26.3-12.6-31.5z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faCloudShowersHeavy=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(sN)),sN}var IAt=PAt(),aN={},Sre;function DAt(){return Sre||(Sre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="cloud-sleet",r=512,s=512,a=[],i="f741",l="M112 120c0-39.8 32.2-72 72-72c25.8 0 48.5 13.6 61.2 34c3.8 6.1 10.1 10.2 17.2 11.1s14.3-1.3 19.5-6.2c10-9.3 23.4-15 38.1-15c29 0 52.9 22.1 55.7 50.4c1.2 12.3 11.6 21.7 23.9 21.6l.3 0s0 0 0 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-292 0-1.9 0c-.3 0-.7-.1-1-.1C73.3 270.4 48 244.2 48 212c0-28.3 19.6-52.1 46.1-58.4c11.8-2.8 19.6-13.9 18.3-25.9c-.3-2.5-.4-5.1-.4-7.7zM184 0C120 0 67.7 50.1 64.2 113.3C26.4 130.1 0 167.9 0 212c0 57.1 44.3 103.9 100.5 107.7c1.2 .2 2.3 .3 3.5 .3l4 0 292 0c61.9 0 112-50.1 112-112c0-55.2-39.9-101.1-92.5-110.3C406.5 55 366.9 24 320 24c-18 0-34.9 4.6-49.7 12.6C248.5 14.1 217.9 0 184 0zM81.5 353.9c-12.2-5.2-26.3 .4-31.5 12.6l-48 112c-5.2 12.2 .4 26.3 12.6 31.5s26.3-.4 31.5-12.6l48-112c5.2-12.2-.4-26.3-12.6-31.5zm272 0c-12.2-5.2-26.3 .4-31.5 12.6l-48 112c-5.2 12.2 .4 26.3 12.6 31.5s26.3-.4 31.5-12.6l48-112c5.2-12.2-.4-26.3-12.6-31.5zM216 376c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 16-16 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l16 0 0 16c0 13.3 10.7 24 24 24s24-10.7 24-24l0-16 16 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-16 0 0-16zm256 0c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 16-16 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l16 0 0 16c0 13.3 10.7 24 24 24s24-10.7 24-24l0-16 16 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-16 0 0-16z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faCloudSleet=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(aN)),aN}var FAt=DAt(),iN={},Mre;function UAt(){return Mre||(Mre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="clouds-moon",r=640,s=512,a=[],i="f745",l="M352 160c0 11.5 1.2 22.7 3.5 33.4c53.7 8.2 96.5 49.8 106.4 103c14.2 5.5 27.2 13.4 38.5 23.2c3.7 .3 7.4 .4 11.2 .4c43.2 0 82.5-17.3 111.2-45.3c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-6.5 1.1-13.2 1.7-20 1.7c-64.3 0-116.5-52.3-116.5-116.9c0-43.7 23.9-81.8 59.3-101.9c6.1-3.5 9.2-10.5 7.7-17.3S532 1.2 525.1 .6c-4.5-.4-9-.6-13.5-.6C423.4 0 352 71.7 352 160zM335.8 272c26.5 0 48 21.5 48 48c0 .8 0 1.7 .1 2.5l2 23.8c1.1 13.2 12.7 23 25.9 21.9c1.3-.1 2.6-.2 4-.2c26.5 0 48 21.5 48 48s-21.5 48-48 48c-.6 0-1.3 0-1.9 0c-.3 0-.6 0-.9 0l-266.9 0c-.3 0-.6 0-1 0c-.4 0-.9 0-1.3 0c-17.7 0-32-14.3-32-32s14.3-32 32-32c1.6 0 3.1 .1 4.6 .3c6.9 1 13.9-1.1 19.1-5.6s8.3-11.2 8.3-18.1l0-30.2c0-.3 0-.6 0-.9c0-.5 0-1 0-1.5s0-1 0-1.5c0-.3 0-.6 0-.9l0-1.1c.1-.6 .2-1.1 .3-1.7c2.5-19.6 19.3-34.8 39.7-34.8c12.6 0 23.8 5.8 31.1 14.9c5.8 7.1 15.1 10.4 24.1 8.3s15.9-9.1 18-18c4.9-21.3 24-37.2 46.8-37.2zm96 46.8c-.6-52.5-43.4-94.8-96-94.8c-33 0-62 16.6-79.3 41.9c-12.2-6.3-26-9.9-40.6-9.9c-43 0-78.8 30.9-86.5 71.7c-1 2.6-1.5 5.4-1.5 8.3l0 5.3c0 .9 0 1.8 0 2.7s0 1.8 0 2.7l0 6.9c-36.5 7.4-64 39.7-64 78.4c0 44.2 35.8 80 80 80c.9 0 1.8 0 2.7 0l266 0c1.1 0 2.1 .1 3.2 .1c53 0 96-43 96-96c0-47.5-34.5-86.9-79.8-94.6l-.2-2.5zM320 192.1s0 0 0 0c0-35.3-28.6-64-64-64c-7.4 0-14.6 1.3-21.2 3.6c-11.5-30.1-40.6-51.6-74.8-51.6c-38.9 0-71.3 27.8-78.5 64.6c-3.1-.4-6.3-.6-9.5-.6c-39.8 0-72 32.2-72 72s32.2 72 72 72c0 0 0 0 0 0l34.8 0c9.4-19.9 24.6-36.6 43.4-48l-76.4 0c-.6 0-1.2 0-1.7 0c-13.2 0-24-10.7-24-24s10.7-24 24-24c1.1 0 2.2 .1 3.2 .2c25.1 3.3 48.5-13.5 53.4-38.4c2.9-14.7 15.9-25.8 31.4-25.8c13.6 0 25.3 8.5 29.9 20.6c9.2 24.3 36.2 36.9 60.8 28.2c1.6-.6 3.4-.9 5.3-.9c8.8 0 16 7.2 16 16l0 .9c-.1 6.6-1.6 12.9-4.1 18.6c15.5-9.7 33.2-16.3 52.1-18.7l0-.9z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faCloudsMoon=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(iN)),iN}var kre=UAt(),oN={},Ere;function BAt(){return Ere||(Ere=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="cloud-snow",r=512,s=512,a=[127784],i="f742",l="M112 120c0-39.8 32.2-72 72-72c25.8 0 48.5 13.6 61.2 34c3.8 6.1 10.1 10.2 17.2 11.1s14.3-1.3 19.5-6.2c10-9.3 23.4-15 38.1-15c29 0 52.9 22.1 55.7 50.4c1.2 12.3 11.6 21.7 23.9 21.6l.3 0s0 0 0 0c35.3 0 64 28.7 64 64s-28.7 64-64 64l-292 0-1.9 0c-.3 0-.7-.1-1-.1C73.3 270.4 48 244.2 48 212c0-28.3 19.6-52.1 46.1-58.4c11.8-2.8 19.6-13.9 18.3-25.9c-.3-2.5-.4-5.1-.4-7.7zM184 0C120 0 67.7 50.1 64.2 113.3C26.4 130.1 0 167.9 0 212c0 57.1 44.3 103.9 100.5 107.7c1.2 .2 2.3 .3 3.5 .3l4 0 292 0c61.9 0 112-50.1 112-112c0-55.2-39.9-101.1-92.5-110.3C406.5 55 366.9 24 320 24c-18 0-34.9 4.6-49.7 12.6C248.5 14.1 217.9 0 184 0zM64 352c-13.3 0-24 10.7-24 24l0 16-16 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l16 0 0 16c0 13.3 10.7 24 24 24s24-10.7 24-24l0-16 16 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-16 0 0-16c0-13.3-10.7-24-24-24zm192 32c-13.3 0-24 10.7-24 24l0 16-16 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l16 0 0 16c0 13.3 10.7 24 24 24s24-10.7 24-24l0-16 16 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-16 0 0-16c0-13.3-10.7-24-24-24zm216-8c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 16-16 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l16 0 0 16c0 13.3 10.7 24 24 24s24-10.7 24-24l0-16 16 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-16 0 0-16z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faCloudSnow=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(oN)),oN}var VAt=BAt(),lN={},Tre;function zAt(){return Tre||(Tre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="clouds-sun",r=640,s=512,a=[],i="f746",l="M294.2 1.2c5.1 2.1 8.7 6.7 9.6 12.1l14.1 84.7 30.7 5.1c-26.4 10.6-47 32.6-55.7 59.9C276.8 132.7 244.8 112 208 112c-53 0-96 43-96 96s43 96 96 96c8.1 0 15.9-1 23.4-2.9c-36.6 18.1-63.3 53.1-69.8 94.9l-24.4 17c-4.5 3.1-10.3 3.8-15.4 1.6s-8.7-6.7-9.6-12.1L98.1 317.9 13.4 303.8c-5.4-.9-10-4.5-12.1-9.6s-1.5-10.9 1.6-15.4L52.5 208 2.9 137.2c-3.2-4.5-3.8-10.3-1.6-15.4s6.7-8.7 12.1-9.6L98.1 98.1l14.1-84.7c.9-5.4 4.5-10 9.6-12.1s10.9-1.5 15.4 1.6L208 52.5 278.8 2.9c4.5-3.2 10.3-3.8 15.4-1.6zM144 208a64 64 0 1 1 128 0 64 64 0 1 1 -128 0zm409.8 32.1l12.4 0c.6 0 1.2 0 1.8 0c13.2 0 24-10.7 24-24s-10.7-24-24-24c-1.1 0-2.2 .1-3.2 .2c-25.1 3.3-48.5-13.5-53.4-38.4c-2.9-14.7-15.9-25.8-31.4-25.8c-13.6 0-25.3 8.5-29.9 20.6c-9.2 24.3-36.2 36.9-60.8 28.2c-1.6-.6-3.4-.9-5.3-.9c-8.8 0-15.9 7.1-16 15.9l-.1 0c-16.7 0-32.6 3.2-47.3 9c-.4-2.9-.6-5.9-.6-8.9c0-35.3 28.6-64 64-64c7.4 0 14.6 1.3 21.2 3.6c11.5-30.1 40.6-51.6 74.8-51.6c38.9 0 71.3 27.8 78.5 64.6c3.1-.4 6.3-.6 9.5-.6c39.8 0 72 32.2 72 72c0 30.4-18.8 56.3-45.4 66.9c-9.5-17.7-23.6-32.5-40.8-42.9zM320.1 320c0 .8 0 1.7-.1 2.5l-2 23.8c-1.1 13.2-12.7 23-25.9 21.9c-1.3-.1-2.6-.2-4-.2c-26.5 0-48 21.5-48 48s21.5 48 48 48c.6 0 1.3 0 1.9 0c.3 0 .6 0 .9 0l266.9 0c.3 0 .6 0 1 0c.4 0 .9 0 1.3 0c17.7 0 32-14.3 32-32s-14.3-32-32-32c-1.6 0-3.1 .1-4.6 .3c-6.9 1-13.9-1.1-19.1-5.6s-8.3-11.2-8.3-18.1l0-30.2c0-.3 0-.6 0-.9c0-.5 0-1 0-1.5s0-1 0-1.5c0-.3 0-.6 0-.9l0-1.1c-.1-.6-.2-1.1-.3-1.7c-2.5-19.6-19.3-34.8-39.7-34.8c-12.6 0-23.8 5.8-31.1 14.9c-5.8 7.1-15.1 10.4-24.1 8.3s-15.9-9.1-18-18c-4.9-21.3-24-37.2-46.8-37.2c-26.5 0-48 21.5-48 48zm48-96c33 0 62 16.6 79.3 41.9c12.2-6.3 26-9.9 40.6-9.9c43 0 78.8 30.9 86.5 71.7c1 2.6 1.5 5.4 1.5 8.3l0 5.3c0 .9 0 1.8 0 2.7s0 1.8 0 2.7l0 6.9c36.5 7.4 64 39.7 64 78.4c0 44.2-35.8 80-80 80c-.9 0-1.8 0-2.7 0l-266 0c-1.1 0-2.1 .1-3.2 .1c-53 0-96-43-96-96c0-47.5 34.5-86.9 79.8-94.6l.2-2.5c.6-52.5 43.4-94.8 96-94.8z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faCloudsSun=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(lN)),lN}var Nre=zAt(),cN={},jre;function HAt(){return jre||(jre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="cloud-sun-rain",r=640,s=512,a=[127782],i="f743",l="M294.2 1.2c5.1 2.1 8.7 6.7 9.6 12.1l10.4 62.4c-23.3 10.8-42.9 28.4-56 50.3c-14.6-9-31.8-14.1-50.2-14.1c-53 0-96 43-96 96c0 35.5 19.3 66.6 48 83.2c.8 31.8 13.2 60.7 33.1 82.7l-56 39.2c-4.5 3.1-10.3 3.8-15.4 1.6s-8.7-6.7-9.6-12.1L98.1 317.9 13.4 303.8c-5.4-.9-10-4.5-12.1-9.6s-1.5-10.9 1.6-15.4L52.5 208 2.9 137.2c-3.2-4.5-3.8-10.3-1.6-15.4s6.7-8.7 12.1-9.6L98.1 98.1l14.1-84.7c.9-5.4 4.5-10 9.6-12.1s10.9-1.5 15.4 1.6L208 52.5 278.8 2.9c4.5-3.2 10.3-3.8 15.4-1.6zM208 144c13.8 0 26.7 4.4 37.1 11.9c-1.2 4.1-2.2 8.3-3 12.6c-37.9 14.6-67.2 46.6-77.8 86.4C151.8 243.1 144 226.5 144 208c0-35.3 28.7-64 64-64zm69.4 276c11 7.4 14 22.3 6.7 33.3l-32 48c-7.4 11-22.3 14-33.3 6.7s-14-22.3-6.7-33.3l32-48c7.4-11 22.3-14 33.3-6.7zm96 0c11 7.4 14 22.3 6.7 33.3l-32 48c-7.4 11-22.3 14-33.3 6.7s-14-22.3-6.7-33.3l32-48c7.4-11 22.3-14 33.3-6.7zm96 0c11 7.4 14 22.3 6.7 33.3l-32 48c-7.4 11-22.3 14-33.3 6.7s-14-22.3-6.7-33.3l32-48c7.4-11 22.3-14 33.3-6.7zm96 0c11 7.4 14 22.3 6.7 33.3l-32 48c-7.4 11-22.3 14-33.3 6.7s-14-22.3-6.7-33.3l32-48c7.4-11 22.3-14 33.3-6.7zM320.1 192c0 .8 0 1.7-.1 2.5l-2 23.8c-1.1 13.2-12.7 23-25.9 21.9c-1.3-.1-2.6-.2-4-.2c-26.5 0-48 21.5-48 48s21.5 48 48 48c.6 0 1.3 0 1.9 0c.3 0 .6 0 .9 0l266.9 0c.3 0 .6 0 1 0c.4 0 .9 0 1.3 0c17.7 0 32-14.3 32-32s-14.3-32-32-32c-1.6 0-3.1 .1-4.6 .3c-6.9 1-13.9-1.1-19.1-5.6s-8.3-11.2-8.3-18.1l0-30.2c0-.3 0-.6 0-.9c0-.5 0-1 0-1.5s0-1 0-1.5c0-.3 0-.6 0-.9l0-1.1c-.1-.6-.2-1.1-.3-1.7c-2.5-19.6-19.3-34.8-39.7-34.8c-12.6 0-23.8 5.8-31.1 14.9c-5.8 7.1-15.1 10.4-24.1 8.3s-15.9-9.1-18-18c-4.9-21.3-24-37.2-46.8-37.2c-26.5 0-48 21.5-48 48zm48-96c33 0 62 16.6 79.3 41.9c12.2-6.3 26-9.9 40.6-9.9c43 0 78.8 30.9 86.5 71.7c1 2.6 1.5 5.4 1.5 8.3l0 5.3c0 .9 0 1.8 0 2.7s0 1.8 0 2.7l0 6.9c36.5 7.4 64 39.7 64 78.4c0 44.2-35.8 80-80 80c-.9 0-1.8 0-2.7 0l-266 0c-1.1 0-2.1 .1-3.2 .1c-53 0-96-43-96-96c0-47.5 34.5-86.9 79.8-94.6l.2-2.5c.6-52.5 43.4-94.8 96-94.8z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faCloudSunRain=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(cN)),cN}var WAt=HAt(),uN={},Are;function $At(){return Are||(Are=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="snow-blowing",r=640,s=512,a=[],i="f761",l="M176 64c13.3 0 24 10.7 24 24l0 25.4 12.7-12.7c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6L200 158.6l0 55.8 48.3-27.9 12.9-48.2c2.3-8.5 11.1-13.6 19.6-11.3s13.6 11.1 11.3 19.6l-4.6 17.3 22-12.7c11.5-6.6 26.2-2.7 32.8 8.8s2.7 26.2-8.8 32.8l-22 12.7 17.3 4.6c8.5 2.3 13.6 11.1 11.3 19.6s-11.1 13.6-19.6 11.3l-48.2-12.9L224 256l48.3 27.9L320.6 271c8.5-2.3 17.3 2.8 19.6 11.3s-2.8 17.3-11.3 19.6l-17.3 4.6 22 12.7c11.5 6.6 15.4 21.3 8.8 32.8s-21.3 15.4-32.8 8.8l-22-12.7 4.6 17.3c2.3 8.5-2.8 17.3-11.3 19.6s-17.3-2.8-19.6-11.3l-12.9-48.2L200 297.6l0 55.8 35.3 35.3c6.2 6.2 6.2 16.4 0 22.6s-16.4 6.2-22.6 0L200 398.6l0 25.4c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-25.4-12.7 12.7c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6L152 353.4l0-55.8-48.3 27.9L90.7 373.7c-2.3 8.5-11.1 13.6-19.6 11.3s-13.6-11.1-11.3-19.6l4.6-17.3-22 12.7C31 367.4 16.4 363.5 9.7 352s-2.7-26.2 8.8-32.8l22-12.7-17.3-4.6c-8.5-2.3-13.6-11.1-11.3-19.6s11.1-13.6 19.6-11.3l48.2 12.9L128 256 79.7 228.1 31.4 241c-8.5 2.3-17.3-2.8-19.6-11.3s2.8-17.3 11.3-19.6l17.3-4.6-22-12.7C7 186.2 3.1 171.5 9.7 160s21.3-15.4 32.8-8.8l22 12.7-4.6-17.3c-2.3-8.5 2.8-17.3 11.3-19.6s17.3 2.8 19.6 11.3l12.9 48.2L152 214.4l0-55.8-35.3-35.3c-6.2-6.2-6.2-16.4 0-22.6s16.4-6.2 22.6 0L152 113.4 152 88c0-13.3 10.7-24 24-24zM480 424c0-13.3 10.7-24 24-24l48 0c22.1 0 40-17.9 40-40s-17.9-40-40-40l-144 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l144 0c48.6 0 88 39.4 88 88s-39.4 88-88 88l-48 0c-13.3 0-24-10.7-24-24zM504 64l48 0c48.6 0 88 39.4 88 88s-39.4 88-88 88l-144 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l144 0c22.1 0 40-17.9 40-40s-17.9-40-40-40l-48 0c-13.3 0-24-10.7-24-24s10.7-24 24-24z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faSnowBlowing=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(uN)),uN}var qAt=$At(),dN={},Rre;function GAt(){return Rre||(Rre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="snowflake",r=448,s=512,a=[10052,10054],i="f2dc",l="M224 0c13.3 0 24 10.7 24 24l0 46.1 23-23c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-57 57 0 76.5 66.2-38.2 20.9-77.8c3.4-12.8 16.6-20.4 29.4-17s20.4 16.6 17 29.4L373 142.2l37.1-21.4c11.5-6.6 26.2-2.7 32.8 8.8s2.7 26.2-8.8 32.8L397 183.8l31.5 8.4c12.8 3.4 20.4 16.6 17 29.4s-16.6 20.4-29.4 17l-77.8-20.9L272 256l66.2 38.2 77.8-20.9c12.8-3.4 26 4.2 29.4 17s-4.2 26-17 29.4L397 328.2l37.1 21.4c11.5 6.6 15.4 21.3 8.8 32.8s-21.3 15.4-32.8 8.8L373 369.8l8.4 31.5c3.4 12.8-4.2 26-17 29.4s-26-4.2-29.4-17l-20.9-77.8L248 297.6l0 76.5 57 57c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-23-23 0 46.1c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-46.1-23 23c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l57-57 0-76.5-66.2 38.2-20.9 77.8c-3.4 12.8-16.6 20.4-29.4 17s-20.4-16.6-17-29.4L75 369.8 37.9 391.2c-11.5 6.6-26.2 2.7-32.8-8.8s-2.7-26.2 8.8-32.8L51 328.2l-31.5-8.4c-12.8-3.4-20.4-16.6-17-29.4s16.6-20.4 29.4-17l77.8 20.9L176 256l-66.2-38.2L31.9 238.6c-12.8 3.4-26-4.2-29.4-17s4.2-26 17-29.4L51 183.8 13.9 162.4c-11.5-6.6-15.4-21.3-8.8-32.8s21.3-15.4 32.8-8.8L75 142.2l-8.4-31.5c-3.4-12.8 4.2-26 17-29.4s26 4.2 29.4 17l20.9 77.8L200 214.4l0-76.5L143 81c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l23 23L200 24c0-13.3 10.7-24 24-24z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faSnowflake=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(dN)),dN}var YAt=GAt(),fN={},Lre;function KAt(){return Lre||(Lre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="snowflake-droplets",r=640,s=512,a=[],i="e5c1",l="M320 0c13.3 0 24 10.7 24 24l0 46.1 23-23c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-57 57 0 76.5 66.2-38.2 20.9-77.8c3.4-12.8 16.6-20.4 29.4-17s20.4 16.6 17 29.4L469 142.2l37.1-21.4c11.5-6.6 26.2-2.7 32.8 8.8s2.7 26.2-8.8 32.8L493 183.8l31.5 8.4c12.8 3.4 20.4 16.6 17 29.4s-16.6 20.4-29.4 17l-77.8-20.9L368 256l66.2 38.2 77.8-20.9c12.8-3.4 26 4.2 29.4 17s-4.2 26-17 29.4L493 328.2l28 16.2-22 42.7L469 369.8l8.4 31.5c3.4 12.8-4.2 26-17 29.4s-26-4.2-29.4-17l-20.9-77.8L344 297.6l0 76.5 57 57c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-23-23 0 46.1c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-46.1-23 23c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l57-57 0-76.5-66.2 38.2-20.9 77.8c-3.4 12.8-16.6 20.4-29.4 17s-20.4-16.6-17-29.4l8.4-31.5-30.1 17.4-22-42.7 28-16.2-31.5-8.4c-12.8-3.4-20.4-16.6-17-29.4s16.6-20.4 29.4-17l77.8 20.9L272 256l-66.2-38.2-77.8 20.9c-12.8 3.4-26-4.2-29.4-17s4.2-26 17-29.4l31.5-8.4-37.1-21.4c-11.5-6.6-15.4-21.3-8.8-32.8s21.3-15.4 32.8-8.8L171 142.2l-8.4-31.5c-3.4-12.8 4.2-26 17-29.4s26 4.2 29.4 17l20.9 77.8L296 214.4l0-76.5L239 81c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l23 23L296 24c0-13.3 10.7-24 24-24zM519.1 418.1l47.5-92.4c1.8-3.5 5.4-5.7 9.3-5.7s7.5 2.2 9.3 5.7l47.5 92.4c4.7 9.1 7.1 19.3 7.1 29.5c0 35.3-28.7 64.3-64 64.3s-64-29-64-64.3c0-10.2 2.4-20.4 7.1-29.5zM54.7 325.7c1.8-3.5 5.4-5.7 9.3-5.7s7.5 2.2 9.3 5.7l47.5 92.4c4.7 9.1 7.1 19.3 7.1 29.5C128 483 99.3 512 64 512s-64-29-64-64.3c0-10.2 2.4-20.4 7.1-29.5l47.5-92.4z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faSnowflakeDroplets=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(fN)),fN}var QAt=KAt(),hN={},Ore;function XAt(){return Ore||(Ore=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="moon-stars",r=512,s=512,a=[],i="f755",l="M284.8 99.2l11 38.6c1 3.6 4.4 6.2 8.2 6.2s7.1-2.5 8.2-6.2l11-38.6 38.6-11c3.6-1 6.2-4.4 6.2-8.2s-2.5-7.1-6.2-8.2l-38.6-11-11-38.6c-1-3.6-4.4-6.2-8.2-6.2s-7.1 2.5-8.2 6.2l-11 38.6-38.6 11c-3.6 1-6.2 4.4-6.2 8.2s2.5 7.1 6.2 8.2l38.6 11zm119 211.6c1.6 5.5 6.6 9.2 12.2 9.2s10.7-3.8 12.2-9.2l16.6-58 58-16.6c5.5-1.6 9.2-6.6 9.2-12.2s-3.8-10.7-9.2-12.2l-58-16.6-16.6-58c-1.6-5.5-6.6-9.2-12.2-9.2s-10.7 3.8-12.2 9.2l-16.6 58-58 16.6c-5.5 1.6-9.2 6.6-9.2 12.2s3.8 10.7 9.2 12.2l58 16.6 16.6 58zM191.8 128C85.8 128 0 214.1 0 320.2S85.8 512.4 191.8 512.4c52 0 99.1-20.7 133.6-54.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-8.1 1.4-16.5 2.2-25.1 2.2c-80.7 0-146.2-65.6-146.2-146.6c0-54.8 30-102.6 74.4-127.8c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-5.4-.5-10.8-.7-16.3-.7z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faMoonStars=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(hN)),hN}var ZAt=XAt();const mN=f.memo(({width:e,height:t,variant:n})=>{const[r,s]=f.useState(!1),a=n==="hail"?20:n==="normal"?50:120,i=400,l=n==="hail"?1:20,c=n==="hail"?3:n==="normal"?30:80,u=100,d=n==="hail"?.8:.5,h=n==="hail"?.3:.1,m=__();return f.useEffect(()=>{s(!0)},[]),!r||m?null:o.jsx("div",{className:"absolute inset-0",children:o.jsx(kt,{children:Array.from({length:a}).map((g,v)=>{const x=Math.floor(Math.random()*(e-1)),b=Math.floor(Math.random()*(c-l+1))+l,w=Math.floor(Math.random()*(u+1)),C=Math.random()*(d-h)+h,S=Math.floor(Math.random()*i)+1,k=n==="hail"?b:1;return o.jsxs(je.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:3},style:{left:x,top:0,height:t},className:"absolute",children:[o.jsx("div",{style:{width:k,height:b,animationDuration:i+w+"ms",animationDelay:-S+"ms",animationTimingFunction:"linear",opacity:C,maskImage:n!=="hail"?"linear-gradient(to bottom, transparent, black, transparent)":void 0},className:W("absolute rounded-full bg-white",{"rounded-full":n==="hail"},"animation-weather-rain")}),n!=="hail"&&o.jsx("div",{style:{animationDuration:i+w+"ms",animationDelay:-S+"ms",opacity:C},className:W("absolute -right-[2px] bottom-0 h-[1px] w-[4px] rounded-full bg-white","animation-weather-rain-splash")})]},v)})})})}),Pre=f.memo(({width:e,height:t,variant:n})=>{const[r,s]=f.useState(!1),a=n==="normal"?50:80,i=n==="normal"?2e3:1e3,l=1,c=8,u=n==="normal"?1500:800,d=.5,h=.1,m=2,g=__();return f.useEffect(()=>{s(!0)},[]),!r||g?null:o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:W("absolute bottom-0 left-0 right-0 translate-y-[80%] bg-white opacity-20 blur-sm",{"rounded-m blur-xs -left-xl -right-xl h-lg":n==="heavy"},{"h-md rounded-[50%]":n==="normal"})}),o.jsx(kt,{children:Array.from({length:a}).map((v,x)=>{const b=Math.floor(Math.random()*(e-1)),w=Math.floor(Math.random()*(c-l+1))+l,C=Math.floor(Math.random()*(u+1)),S=Math.floor(Math.random()*m)+1,k=Math.random()*(d-h)+h,E=Math.floor(Math.random()*i)+1;return o.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:3},style:{left:b,top:0,height:t},className:"absolute",children:o.jsx("div",{style:{animationDuration:i+C+"ms",animationTimingFunction:"linear",animationDelay:-E+"ms",opacity:k},className:W("absolute rounded-full bg-white","animation-weather-snow"),children:o.jsx("div",{style:{width:w,height:w,animationDuration:"inherit",maskImage:"radial-gradient(black 20%, transparent)"},className:W("absolute rounded-full bg-white",S===1&&"animation-weather-snow-wave")})})},x)})})]})}),JAt=f.memo(({width:e,height:t,context:n})=>{const[r,s]=f.useState(!1),a=70,i=2,l=1,c=2,u=500,d=1e3,h=.5,m=.2,g=__();return f.useEffect(()=>{s(!0)},[]),!r||g?null:o.jsxs("div",{className:"absolute inset-0",children:[o.jsx(kt,{children:Array.from({length:a}).map((v,x)=>{const b=Math.floor(Math.random()*(e-1)),w=Math.floor(Math.random()*(t-1)),C=Math.floor(Math.random()*(i-l+1))+l,S=Math.floor(Math.random()*c)+1,k=Math.floor(Math.random()*(u+1)),E=Math.floor(Math.random()*(d+1)),T=Math.random()*(h-m)+m;return o.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:3},style:{left:b,top:w},className:"absolute",children:o.jsx("div",{style:{width:C,height:C,animationDuration:5e3+k+"ms",animationDelay:E+"ms",opacity:T},className:W("absolute rounded-full bg-white",{"animation-weather-star-twinkle":S===1})})},x)})}),o.jsx("div",{className:W("w-lg absolute left-0 h-[1px] bg-white","animation-weather-star-shoot",{"context-ntp":n==="ntp"})})]})}),JS=["clear-day","clear-night","partly-cloudy-day","partly-cloudy-night","cloudy-day","cloudy-night","patchy-rain-possible-day","patchy-rain-possible-night","possible-thunder-day","possible-thunder-night","overcast","fog","snow","sleet","patchy-freezing-drizzle","heavy-snow","blizzard","drizzle","hail","light-shower","heavy-rain","lightning-rain","lightning-snow"],U6=L.memo(({variant:e,context:t,className:n})=>{const r=f.useCallback(g=>{switch(g){case"clear-day":default:return["#FF813A","#FFC700","#1F84CD"];case"partly-cloudy-day":return["#8E8E8E","#D5D5D5","#1F84CD"];case"partly-cloudy-night":return["#8E8E8E","#6A6A6A","#0B1B39"];case"cloudy-day":case"overcast":case"patchy-rain-possible-day":case"patchy-freezing-drizzle":case"drizzle":case"light-shower":case"heavy-rain":case"blizzard":case"heavy-snow":case"sleet":case"snow":case"fog":case"possible-thunder-day":case"hail":case"lightning-rain":case"lightning-snow":return["#B8B8B8","#8791AB","#486289"];case"cloudy-night":case"possible-thunder-night":case"patchy-rain-possible-night":return["#222938","#3E475A","#1B2230"];case"clear-night":return["#44344A","#091937","#091937"]}},[]),s=f.useCallback(g=>{switch(g){default:return null;case"partly-cloudy-night":case"cloudy-night":case"possible-thunder-night":case"clear-night":return"stars";case"light-shower":case"sleet":case"drizzle":case"patchy-rain-possible-night":case"patchy-rain-possible-day":case"patchy-freezing-drizzle":case"lightning-rain":return"rain";case"hail":return"rain-hail";case"heavy-rain":return"rain-heavy";case"snow":return"snow";case"heavy-snow":case"blizzard":case"lightning-snow":return"snow-heavy"}},[]),a=r(e),[i,l,c]=a,[u,{width:d,height:h}]=ou(),m=s(e);return o.jsxs("div",{style:{backgroundColor:c},className:W("absolute inset-0 overflow-hidden rounded-md shadow-md",n),children:[o.jsx("div",{className:"-inset-xl absolute translate-y-[25%] rounded-[50%] opacity-75",style:{backgroundColor:l}}),o.jsx("div",{className:"-inset-xl absolute translate-y-[60%] rounded-[50%] opacity-75",style:{backgroundColor:i}}),o.jsx("div",{className:"rounded-inherit absolute inset-0 overflow-hidden backdrop-filter",style:{backdropFilter:"blur(40px)",WebkitBackdropFilter:"blur(40px)"}}),o.jsx("div",{className:"absolute inset-0",ref:u,children:m==="stars"?o.jsx(JAt,{height:h,width:d,context:t}):m==="rain"?o.jsx(mN,{height:h,width:d,variant:"normal"}):m==="rain-heavy"?o.jsx(mN,{height:h,width:d,variant:"heavy"}):m==="snow"?o.jsx(Pre,{height:h,width:d,variant:"normal"}):m==="snow-heavy"?o.jsx(Pre,{height:h,width:d,variant:"heavy"}):m==="rain-hail"?o.jsx(mN,{height:h,width:d,variant:"hail"}):null}),o.jsx("div",{className:"border-textMain/0 absolute inset-0 rounded-md border"})]})});U6.displayName="WeatherGradient";const Wy={"clear-day":gb.faSun,"clear-night":ZAt.faMoonStars,"partly-cloudy-day":Nre.faCloudsSun,"partly-cloudy-night":kre.faCloudsMoon,"cloudy-day":Nre.faCloudsSun,"cloudy-night":kre.faCloudsMoon,"patchy-rain-possible-day":WAt.faCloudSunRain,"patchy-rain-possible-night":jAt.faCloudMoonRain,"possible-thunder-day":_At.faCloudBoltSun,"possible-thunder-night":bAt.faCloudBoltMoon,overcast:RAt.faClouds,fog:kAt.faCloudFog,snow:YAt.faSnowflake,sleet:FAt.faCloudSleet,"patchy-freezing-drizzle":QAt.faSnowflakeDroplets,"heavy-snow":VAt.faCloudSnow,blizzard:qAt.faSnowBlowing,drizzle:SAt.faCloudDrizzle,hail:TAt.faCloudHail,"light-shower":OAt.faCloudShowers,"heavy-rain":IAt.faCloudShowersHeavy,"lightning-rain":mre.faCloudBolt,"lightning-snow":mre.faCloudBolt},eRt=De(async()=>({default:(await Me(()=>Promise.resolve().then(()=>vAt),void 0)).HourlyTemperature}),{loading:()=>o.jsx("div",{style:{height:nV}})}),iEe=L.memo(e=>{const{$t:t}=ae(),{prefersMetric:n,setPrefersMetric:r}=rEe(),s=n,[a,i]=f.useState(0),[l,c]=f.useState(!1),u=e,{menuItems:d}=$C(),{openModal:h}=Gt(),{permissionStatus:m}=qg(),{submitQuery:g}=go(),{trackEvent:v}=Ye(),{locale:x}=ae(),{value:b}=mD({flag:"weather-provider",defaultValue:"weatherapi",subjectType:"visitor_id"}),w=f.useCallback(()=>{v("precise location modal opened",{origin:"weather_widget"}),h("locationPermissionModal",{onPermissionGranted:O=>{c(!1);const I=ri();g({rawQuery:"weather",copilotOverride:!1,attachments:[],collection:null,newFrontendContextUUID:I,promptSource:"device_location_request",querySource:"device_location_request",deviceLocation:{latitude:O.coords.latitude,longitude:O.coords.longitude},shouldRedirectToBackendUUID:!0})},origin:"weather_widget"})},[v,h,g]);f.useEffect(()=>{m!==void 0&&m!=="granted"&&c(!0)},[m]);const C=f.useCallback(()=>{window.open(u.url||"https://www.accuweather.com/","_blank")},[u.url]);if(!u||!u.current||!u.location)return null;const{current:S,location:k,forecast:E}=u,T=E[0],j=S.condition?.icon,N=ZS(JS,j)?Wy[j]:gb.faSun,R="col-span-1";return o.jsx(ac,{widgetType:"weather",widgetName:"weather_forecast",widgetSize:"full",children:o.jsxs(Q,{className:"p-md relative select-none",children:[o.jsx(U6,{variant:a===0?S.condition?.icon:E[a].icon??"clear-day"}),o.jsxs(Q,{className:"gap-md relative flex flex-col drop-shadow-sm",children:[o.jsxs("div",{className:"gap-x-lg flex",children:[o.jsx(Q,{className:R,children:o.jsx("div",{className:"flex h-full items-center",children:o.jsxs(F,{className:"gap-x-md flex items-center",color:"white",children:[o.jsx(jt,{icon:N,className:"text-4xl"}),o.jsxs("div",{className:"flex items-baseline",children:[o.jsx("div",{className:"font-mono text-4xl",children:o.jsx(c1,{value:s?S.temp_c??0:S.temp_f??0,suffix:"°"})}),o.jsxs("div",{className:"ml-xs mt-two flex",children:[o.jsx("button",{onClick:()=>r(!1),className:"cursor-pointer appearance-none",children:o.jsx(F,{color:"white",className:s?"opacity-60":void 0,children:o.jsx("div",{className:"font-mono",children:"F"})})}),o.jsx("button",{onClick:()=>r(!0),className:"ml-xs cursor-pointer appearance-none",children:o.jsx(F,{color:"white",className:s?void 0:"opacity-60",children:o.jsx("div",{className:"font-mono",children:"C"})})})]})]})]})})}),o.jsxs(Q,{className:R,children:[S.condition&&o.jsx(F,{variant:"section-title",color:"white",children:S.condition.text}),o.jsx("div",{className:"gap-x-sm flex",children:o.jsxs("div",{className:"gap-x-xs flex",children:[o.jsx(F,{variant:"smallCaps",color:"white",children:o.jsx(c1,{value:s?T.maxtemp_c??0:T.maxtemp_f??0,suffix:"°"})}),o.jsx(F,{variant:"smallCaps",className:"flex opacity-70",color:"white",children:o.jsx(c1,{value:s?T.mintemp_c??0:T.mintemp_f??0,suffix:"°"})})]})})]})]}),o.jsxs("div",{className:"gap-sm flex",children:[o.jsxs(Q,{className:"flex flex-col items-start justify-center",children:[o.jsx("div",{className:"gap-sm relative flex items-center",children:o.jsxs(cm,{className:"gap-xs text-xs text-white",children:[o.jsx(Os,{id:"location-name",children:o.jsxs(F,{variant:"smallBold",className:"text-right",color:"white",children:[k.name,k.is_usa?k.region?`, ${k.region}`:"":`, ${k.country}`]})}),l&&o.jsx(Os,{id:"precise",children:o.jsx(it,{onClick:w,size:"small",extraCSS:"!text-white hover:underline hover:opacity-100 !p-0 !h-0 decoration-white/50 decoration-offset-[4px] opacity-70 !font-normal",pill:!0,variant:"noBackground",text:t({defaultMessage:"Use Precise Location",id:"A+BBIFLIgr"})})})]})}),k.localtime&&o.jsx(F,{variant:"tiny",color:"white",className:"opacity-75",children:put(k.localtime,x)})]}),d&&d?.length>0&&o.jsx("div",{className:"absolute right-0 top-0",children:o.jsx(Wr.Menu,{buttonClass:"!text-white opacity-40 hover:opacity-100 hover:!bg-white/10",menuItems:d})})]})]}),o.jsx(Q,{className:"mt-xl relative grid grid-cols-3 gap-x-4 gap-y-6 drop-shadow-sm md:grid-cols-6 md:gap-0",children:E.map((O,I)=>o.jsx("button",{onClick:()=>i(I),className:I!==a?"duration-150 hover:opacity-70 active:scale-[0.98]":"",children:o.jsx(sEe,{day:kC(O.dow??"",x),high:(s?O.maxtemp_c:O.maxtemp_f)??0,low:(s?O.mintemp_c:O.mintemp_f)??0,icon:Wy[O.icon],selected:a===I})},I))}),o.jsx(Q,{className:"mt-sm",children:o.jsx(eRt,{forecast:E,activeDay:a,isMetric:s})}),b==="accuweather"&&o.jsx(Q,{className:"mt-lg flex cursor-pointer justify-end",onClick:C,children:o.jsxs(F,{variant:"micro",color:"white",className:"mt-xs gap-xs -mb-sm -mr-xs flex items-center opacity-65 hover:opacity-40",children:["The AccuWeather",o.jsx("sup",{className:"-ml-xs",children:"®"})," Forecast",o.jsx(Ne,{icon:_l,size:"xs"})]})})]})})});iEe.displayName="WeatherWidget";const oEe=()=>null,tRt=De(()=>Me(()=>import("./index-BT-HWlcg.js"),__vite__mapDeps([85,1,3])),{loading:()=>o.jsx(oEe,{})}),nRt=De(async()=>({default:(await Me(()=>import("./CharityWidget-CU1RwDqd.js"),__vite__mapDeps([86,1,3]))).CharityWidget}),{loading:()=>o.jsx(oEe,{})}),lEe=L.memo(({widgetData:e,menuItems:t,tableCitationOffset:n})=>{const r=Wg(e);return r?Ls(r).with({object:"CalculatorWidget"},s=>o.jsx(Wr,{menuItems:t,children:o.jsx(USe,{...s})})).with({object:"FinanceWidget"},()=>null).with({object:"CrunchbaseWidget"},s=>o.jsx(Wr,{menuItems:t,variant:"noChrome",children:o.jsx(tRt,{...s})})).with({object:"PlaceWidget"},()=>null).with({object:"ShopifyWidget"},()=>null).with({object:"JobsWidget"},()=>null).with({object:"TimeWidget"},s=>o.jsx(Wr,{menuItems:t,children:o.jsx(Zke,{...s})})).with({object:"WeatherWidget"},s=>o.jsx(Wr,{menuItems:t,variant:"noChrome",children:o.jsx(iEe,{...s})})).with({object:"TableWidget"},s=>o.jsx(Wr,{menuItems:t,variant:"noChrome",children:o.jsx(jMe,{tableData:s,citationOffset:n??0})})).with({object:"SportsEventsWidget"},s=>o.jsx(Xv,{data:s})).with({object:"SportsIndvScheduleWidget"},s=>o.jsx(Xv,{data:s})).with({object:"SportsStandingsWidget"},s=>o.jsx(Xv,{data:s})).with({object:"SportsIndvEventsWidget"},s=>o.jsx(Xv,{data:s})).with({object:"FlightStatusWidget"},s=>o.jsx(c8e,{data:s})).with({object:"CharityWidget"},s=>o.jsx(Wr,{menuItems:t,variant:"noChrome",children:o.jsx(nRt,{...s})})).with({object:"TaskWidget"},s=>o.jsx(Xke,{data:s})).with({object:"GenericFallbackWidget"},s=>o.jsx(d8e,{...s})).otherwise(()=>(le.warn(new Error(`No PanelComponent found for livePanelType: ${r.object}`),{widgetData:e}),null)):null});lEe.displayName="LivePanel";const cEe=L.memo(({name:e,title:t,values:n,onEntityClick:r})=>{const{inFlight:s}=un(),a=f.useCallback(u=>{s||r(u)},[s,r]),i=W("underline-thickness-thin underline-offset-2 cursor-pointer decoration-textOff/15 hover:text-super hover:decoration-super dark:decoration-textMainDark/15 group transition-colors duration-200 ease-in-out",{underline:!s}),l=f.useCallback(({content:u,href:d})=>{const h=d||(u.startsWith("http://")||u.startsWith("https://")?u:`https://${u}`);return o.jsxs(Nt,{href:h,target:"_blank",rel:"noopener",className:i,children:[u,o.jsx(F,{className:"ml-xs inline",color:"light",variant:"tiny",children:o.jsx(Ne,{icon:yw,size:"xs"})})]})},[i]),c=f.useMemo(()=>L.memo(({attributeValue:u,index:d,totalValues:h})=>{const m=f.useMemo(()=>()=>o.jsx("div",{children:u.value}),[u.value]),g=f.useCallback(()=>a(u.value),[u.value]),v=f.useMemo(()=>o.jsxs(oi,{fallback:m,children:[u.value&&o.jsx(o.Fragment,{children:u.clickable_entity?o.jsx("span",{className:i,onClick:g,children:u.value}):u.value}),u.detail&&o.jsxs("span",{className:"text-textOff ml-1",children:["(",u.source?l({content:u.detail,href:u.source}):u.detail,")"]})]}),[u.clickable_entity,u.detail,u.source,u.value,m,g]);return o.jsxs("span",{children:[v,d<h-1&&", "]})}),[i,a,l]);return o.jsx(Wr.Item,{name:e,title:t,value:n.map((u,d)=>o.jsx(c,{attributeValue:u,index:d,totalValues:n.length},`${u.id}-${d}`))},e)});cEe.displayName="WikiPanelItem";const Ire=0,rRt=L.memo(({data:e,isReadonly:t,submit:n,entryUUID:r})=>{const{$t:s}=ae(),{title:a,subtitle:i,attributes:l,image_url:c,source_url:u}=e,{trackEvent:d}=Ye(),{firstResult:{frontend_context_uuid:h}={}}=un(),m=Qt(),g=l.length,[v,x]=f.useState(g),b=v===g,w=l.length>2,{menuItems:C}=$C(),S=f.useCallback(()=>{d("click toggle on knowledge card",{newState:b?"collapsed":"expanded",entryUUID:r??"",type:e.type,id:e.source_url,name:e.title}),x(R=>R===Ire?g:Ire)},[d,b,g,r,e]),[k,{height:E}]=ou(),T=t,j=ri(),N=f.useCallback(R=>{if(d("knowledge card link clicked",{entryUUID:r??"",type:e.type,id:e.source_url,name:e.title,label:"attributes",value:R}),n({fork:T,rawQuery:R,collection:null,newFrontendContextUUID:T?j:null,existingFrontendContextUUID:T?void 0:h,promptSource:"user",querySource:"entity_link"}),T){const O=new URLSearchParams({q:R,newFrontendContextUUID:j}),I=new URL(window.location.href);I.pathname="search/new",I.search=O.toString();const B=I.toString();m.push(B)}},[n,T,j,h,m,r,e,d]);return f.useEffect(()=>{d("knowledge card shown",{entryUUID:r??"",type:e.type,id:e.source_url,name:e.title})},[]),o.jsx("div",{className:"relative",children:o.jsx(je.div,{animate:E>0?{height:E}:{},transition:{type:"spring",bounce:.2,duration:.2},className:"overflow-hidden",children:o.jsxs("div",{ref:k,className:"gap-md relative flex flex-col",children:[o.jsx("div",{className:"flex items-end justify-between",children:o.jsx(Wr.Title,{title:a,subtitle:i,image_url:c,href:u,links:e.links,entryUUID:r??"",data:e,children:o.jsx("div",{className:"flex items-start",children:o.jsx("div",{className:"gap-sm flex items-center",children:C&&C?.length>0&&o.jsx(Wr.Menu,{menuItems:C,buttonClass:"opacity-0 pointer-events-none"})})})})}),b&&o.jsx("div",{className:"gap-x-sm gap-y-sm border-borderMain/50 pt-md md:gap-x-md grid grid-cols-[auto,1fr] border-t",children:l.slice(0,v).map(R=>o.jsx(cEe,{name:R.key,title:R.title,values:R.values,onEntityClick:N},R.key))}),o.jsx("div",{children:w&&o.jsx("div",{className:"flex justify-end",children:o.jsx(Le,{variant:"border",fullWidth:!0,text:s(b?{defaultMessage:"Less",id:"mFYgAXM/x4"}:{defaultMessage:"More",id:"I5NMJ8llIi"}),size:"tiny",pill:!0,onClick:S,icon:b?iI:Ia,extraCSS:"pl-xs w-[76px]"})})})]})})})});function sRt(e){if(!e||!e.card_type)return null;const{primaryLink:t,otherLinks:n}=e.links.reduce((s,a)=>(a.type==="PRIMARY"&&!s.primaryLink?s.primaryLink=a:s.otherLinks.push(a),s),{primaryLink:null,otherLinks:[]}),r=e?.media_items?.[0]?.image??e?.image_urls?.[0]??"";return{source_url:t?.url??"",image_url:r,title:e?.title??"",subtitle:e.description??"",attributes:e.attributes??[],type:e.card_type,links:n}}const uEe=L.memo(({knowledgePanelData:e,isReadonly:t,submit:n,menuItems:r,entryUUID:s,className:a})=>{const i=f.useMemo(()=>e?sRt(e):null,[e]);return i?o.jsx(Wr,{menuItems:r,className:a,children:o.jsx(rRt,{data:i,submit:n,isReadonly:t,entryUUID:s??""})}):null});uEe.displayName="StaticPanel";function nO(e){return e&&"is_widget"in e&&e.is_widget===!0}function aRt(e){return e&&"card_type"in e}function Dre(e){return"is_code_interpreter"in e&&e.is_code_interpreter===!0&&e.is_image}const iRt=L.memo(({data:e,submit:t,isReadonly:n=!1,menuItems:r,tableCitationOffset:s,entryUUID:a})=>o.jsxs(o.Fragment,{children:[!Dre(e)&&nO(e)&&o.jsx(lEe,{widgetData:e,menuItems:r??Fe,tableCitationOffset:s}),aRt(e)&&o.jsx(uEe,{knowledgePanelData:e,summaryData:null,submit:t,isReadonly:n,menuItems:r??Fe,entryUUID:a??""}),Dre(e)&&o.jsx(N_e,{graphData:e})]}));iRt.displayName="ThreadEntryPanel";const e8=({reason:e})=>{const t=Vt(),{searchTerm:n}=wF(),r=[Ph,{search_term:n??""}],s=cF(),a=mo(),{mutate:i}=Kt({mutationKey:["removeWidget"],mutationFn:async({entryUUID:d,data:h})=>nO(h)?hct({backendUUID:d,url:h.url,rwToken:a,reason:e}):Promise.resolve(),onMutate:async({entryUUID:d,data:h})=>{await t.cancelQueries({queryKey:["results"]}),s(d,m=>nO(h)?{...m,widget_data:m.widget_data?.filter(g=>g.url!==h.url)}:m)}}),{mutate:l}=Kt({mutationFn:async d=>{try{await me.DELETE("/rest/thread/delete_all_threads",e,{body:{delete_all:d==="all"},timeoutMs:0})}catch(h){le.error(h)}},onMutate:async d=>{await t.cancelQueries({queryKey:r}),await t.cancelQueries({queryKey:vn});const h=t.getQueryData(r),m=t.getQueryData(vn);return d==="all"?(t.setQueryData(vn,g=>{const v=g.pages.map(x=>x.map(b=>({...b,thread_count:0})));return{...g,pages:v}}),t.setQueryData(r,g=>({...g,pages:[]}))):d==="standalone"&&t.setQueryData(r,g=>({...g,pages:g.pages.map(v=>v.filter(x=>x.collection?.uuid))})),{previousThreads:h,previousCollections:m}},onSettled:(d,h,m,g)=>{h?(t.setQueryData(r,g?.previousThreads),t.setQueryData(vn,g?.previousCollections)):(t.invalidateQueries({queryKey:r}),t.invalidateQueries({queryKey:vn}),t.invalidateQueries({queryKey:[Yc]}),t.invalidateQueries({queryKey:[y2]}))}}),{mutate:c}=Kt({mutationFn:async({entryUUID:d,callback:h})=>{h?.(),await fct({entryUUID:d,rwToken:a,callback:h,reason:e})},onMutate:async({entryUUID:d,collectionSlug:h})=>{await t.cancelQueries({queryKey:r}),await t.cancelQueries({queryKey:vn});const m=t.getQueryData(r),g=t.getQueryData(vn);return t.setQueryData(r,v=>{v=v||{pages:[],pageParams:[]};const x=v.pages.map(b=>b.filter(w=>w.uuid!==d));return{...v,pages:x}}),h&&(t.setQueryData(vn,v=>{v=v||{pages:[],pageParams:[]};const x=v.pages.map(b=>b.map(w=>w.slug===h?{...w,thread_count:w.thread_count-1}:w));return{...v,pages:x}}),t.setQueryData([Yc,{collection_slug:h.slice(-22)}],v=>{v=v||{pages:[],pageParams:[]};const x=v.pages.map(b=>b.filter(w=>w.uuid!==d));return{...v,pages:x}})),{previousThreads:m,previousCollections:g}},onSettled:(d,h,m,g)=>{h?(t.setQueryData(r,g?.previousThreads),t.setQueryData(vn,g?.previousCollections)):(t.invalidateQueries({queryKey:r}),t.invalidateQueries({queryKey:vn}),t.invalidateQueries({queryKey:[Yc]}),t.invalidateQueries({queryKey:[y2]}))}}),{mutate:u}=Kt({mutationFn:async({entryUUIDs:d,callback:h})=>{h?.(),await dct({entryUUIDs:d,rwToken:a,reason:e})},onMutate:async({entryUUIDs:d})=>{await t.cancelQueries({queryKey:r});const h=t.getQueryData(r),m=t.getQueryData(vn);return t.setQueryData(r,g=>{g=g||{pages:[],pageParams:[]};const v=g.pages.map(x=>x.filter(b=>!d.includes(b.uuid)));return{...g,pages:v}}),{previousThreads:h,previousCollections:m}},onSettled:(d,h,m,g)=>{h?t.setQueryData(r,g?.previousThreads):(t.invalidateQueries({queryKey:r}),t.invalidateQueries({queryKey:[y2]}))}});return f.useMemo(()=>({removeWidgetFromEntry:i,deleteAllThreads:l,deleteThread:c,deleteThreads:u}),[l,c,u,i])};function oRt({queryKey:e,pageSize:t,fetchFn:n,autoFetch:r,nextPageAccessor:s,initialData:a,args:i}){const l=f.useMemo(()=>i||[],[i]),c=f.useCallback(async({pageParam:u=1})=>{(!u||u<1)&&(u=1);const h={offset:(u-1)*t,...l};return n(h)},[l,n,t]);return Zd({enabled:r,queryKey:e,queryFn:c,placeholderData:ax,refetchOnReconnect:"always",networkMode:"offlineFirst",initialData:a,initialPageParam:1,getNextPageParam:(u,d)=>s(u,d)})}const lRt=(e,t)=>e&&e[0]?.has_next_page?t.length+1:void 0,GXt=(e,t,n,r,s)=>{const a=Vt(),{searchTerm:i}=wF(),l=f.useMemo(()=>({search_term:i,with_temporary_threads:t,ascending:r,query_source_filter:n,thread_type_filter:s}),[i,t,r,n,s]),c=f.useCallback(async b=>nme({timeoutMs:5e3,paginationParams:b,ascending:r,reason:e}),[r,e]),u=oRt({queryKey:[Ph,l],pageSize:tme,fetchFn:c,autoFetch:!0,nextPageAccessor:lRt,args:l}),d=f.useCallback(()=>{a.invalidateQueries({queryKey:[Ph,l]})},[a,l]),h=u.data?.pageParams?.length??1,m=u.data?.pages??[],g=m.flat(),v=m[m.length-1]?.[0]?.has_next_page,x=f.useMemo(()=>({currentPage:h,hasNextPage:v,hasPreviousPage:h>1,getNextPage:()=>u.fetchNextPage(),getPreviousPage:()=>u.fetchPreviousPage()}),[v,h,u]);return f.useMemo(()=>({...u,data:g,paginationInfo:x,invalidateThreadsQuery:d}),[x,u,g,d])};function cRt({reason:e}){const t=Vt();return f.useCallback(()=>{t.prefetchInfiniteQuery({queryKey:[Ph,{search_term:""}],initialPageParam:0,queryFn:()=>nme({timeoutMs:5e3,paginationParams:{offset:0},reason:e})})},[t,e])}const dEe="fetch_bookmarks";async function uRt({reason:e}){try{return await(await or({urlPath:"/rest/collections/list_bookmarks",reason:e})).json()||[]}catch(t){return le.error("Failed to get bookmarks.",t),[]}}const dRt=({reason:e,enabled:t=!0})=>{const n=Fa({reason:e}),s=on()?.user?.email,{data:a,refetch:i,isLoading:l}=Ft({queryKey:[dEe,s],queryFn:async()=>s?await uRt({reason:e}):[],enabled:t&&!n&&!!s,refetchOnMount:!1,refetchOnWindowFocus:!0,placeholderData:null});return f.useMemo(()=>!s||n?{data:null,isLoading:!1,refetch:Yn}:{data:a,isLoading:l,refetch:i},[a,s,n,l,i])},fRt=()=>{const e=Vt();return f.useCallback(()=>{e.invalidateQueries({queryKey:[dEe]})},[e])},hRt="fetch_sidebar_hubs",rO=["SIDEBAR_FINANCE","SIDEBAR_SHOPPING","SIDEBAR_TRAVEL","SIDEBAR_ACADEMIC"],sO=[hRt];async function mRt({reason:e}){try{return(await me.GET("/rest/user/get_user_sidebar_hubs",e)).data||{sidebar_hubs:Fe}}catch(t){return le.error("Failed to get sidebar hubs.",t),{sidebar_hubs:Fe}}}const fEe=({reason:e})=>{const{data:t,refetch:n,isLoading:r}=Ft({queryKey:sO,queryFn:()=>mRt({reason:e})});return f.useMemo(()=>({data:t,isLoading:r,refetch:n}),[t,r,n])},pRt=({reason:e})=>{const{actions:t}=On(),{data:n}=fEe({reason:e});f.useEffect(()=>{n&&t.setSidebarHiddenHubs(rO.filter(r=>!n?.sidebar_hubs.includes(r)))},[n,t])},hEe=({reason:e})=>{const t=Vt(),{actions:n,sidebarHiddenHubs:r}=On(),s=f.useCallback(async i=>{try{return await me.POST("/rest/user/subscribe_user_sidebar_hub/{hub_type}",e,{params:{path:{hub_type:i}}}),t.invalidateQueries({queryKey:sO}),n.setSidebarHiddenHubs(r.filter(l=>l!==i)),!0}catch{return!1}},[t,n,r,e]),a=f.useCallback(async i=>{try{return await me.POST("/rest/user/unsubscribe_user_sidebar_hub/{hub_type}",e,{params:{path:{hub_type:i}}}),t.invalidateQueries({queryKey:sO}),n.setSidebarHiddenHubs([...r,i]),!0}catch{return!1}},[t,n,r,e]);return f.useMemo(()=>({subscribeToHub:s,unsubscribeFromHub:a}),[s,a])},gRt=({isOpen:e,onClose:t,availableHubs:n})=>{const r="home-sidebar-configure-overlay",s=xRt(),{data:a}=fEe({reason:r}),{subscribeToHub:i,unsubscribeFromHub:l}=hEe({reason:r}),{$t:c}=ae(),u=f.useMemo(()=>s.filter(d=>n.includes(d.id)),[n,s]);return o.jsxs(Sn,{title:c({defaultMessage:"Customize Sidebar",id:"/4kt7TXcZf"}),isOpen:e,onClose:t,variant:"default",children:[o.jsx(F,{variant:"base",color:"light",className:"mb-sm",children:c({defaultMessage:"Select the items that appear in your sidebar.",id:"I+JwmwJnZQ"})}),o.jsx(Q,{className:"-mb-[24px] flex flex-col divide-y",children:u.map(d=>o.jsx(vRt,{hub:d,enabled:a?.sidebar_hubs.includes(d.id)??!1,onToggle:()=>{a?.sidebar_hubs.includes(d.id)?l(d.id):i(d.id)}},d.id))})]})},vRt=({hub:e,enabled:t,onToggle:n})=>o.jsxs("div",{className:"flex h-12 items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ne,{icon:e.icon,size:"base"}),o.jsx(F,{variant:"baseSemi",children:e.name})]}),o.jsx(cf,{active:t,onChange:n})]}),Fre=10,yRt=({isOpen:e,onCreateClick:t,onDeleteThreadOrBookmark:n,isConfiguring:r,setIsConfiguring:s})=>{const a="home-sidebar",{data:i,isLoading:l}=pme({reason:a}),{data:c,refetch:u}=dRt({reason:a,enabled:e}),{sidebarHiddenHubs:d}=On(),{unsubscribeFromHub:h}=hEe({reason:a}),{bookmarks:m,bookmarks_collection_slug:g,bookmarks_collection_uuid:v}=c||{},b=iC()==="US",w=cRt({reason:a}),{deleteThread:C}=e8({reason:a}),{trackEvent:S}=Ye(),{$t:k}=ae(),E=Ct(),{openVisitorLoginUpsell:T}=Br({enabled:!E}),j=Qt(),N=ln(),{removeThreadFromCollection:R}=Lg({reason:a});pRt({reason:a});const[O,I]=f.useState([]),[B,D]=f.useState([]),z=f.useMemo(()=>m?.filter(X=>!O.includes(X))??[],[m,O]),V=f.useMemo(()=>i?.filter(X=>!B.includes(X))??[],[i,B]),U=f.useCallback(X=>{const ce=v;n(),S("unbookmark item from sidebar",{collectionUUID:ce}),I(se=>[...se,X]),R({entryUUID:X.uuid,oldCollectionUUID:ce,callback:()=>{u()}})},[R,u,n,v,S]),H=f.useCallback(X=>{n(),S("delete thread from sidebar",{entryUUID:X.uuid}),D(ce=>[...ce,X]),I(ce=>[...ce,{uuid:X.uuid,mode:X.variant==="article"?"article":"thread",title:X.title,slug:X.link}]),C({entryUUID:X.uuid,callback:()=>{X.link===N&&j.push("/")}})},[N,j,C,n,S]),q=f.useCallback(X=>{n(),I(ce=>[...ce,X]),D(ce=>[...ce,{uuid:X.uuid,link:X.slug,variant:X.mode==="article"?"article":"thread",title:X.title}]),S("delete bookmark from sidebar",{entryUUID:X.uuid}),C({entryUUID:X.uuid,callback:()=>{X.slug===N?.replace("/search/","").replace("/page/","")&&j.push("/")}})},[n,S,N,j,C]),$=f.useCallback(X=>{h(X)},[h]),G=f.useMemo(()=>({text:k({defaultMessage:"Hide from sidebar",id:"bt2xOtkULy"}),icon:yn,type:"default",size:tn.small,show:!0}),[k]),K=f.useMemo(()=>[{...G,onClick:X=>{X.stopPropagation(),$("SIDEBAR_FINANCE")}}],[$,G]),ee=f.useMemo(()=>[{...G,onClick:X=>{X.stopPropagation(),$("SIDEBAR_TRAVEL")}}],[$,G]),oe=f.useMemo(()=>[{...G,onClick:X=>{X.stopPropagation(),$("SIDEBAR_SHOPPING")}}],[$,G]),ne=f.useMemo(()=>[{...G,onClick:X=>{X.stopPropagation(),$("SIDEBAR_ACADEMIC")}}],[$,G]),te=f.useMemo(()=>b?rO:rO.filter(X=>X!=="SIDEBAR_SHOPPING"),[b]),re=f.useMemo(()=>E?te.filter(X=>!d.includes(X)):te,[d,E,te]);return o.jsxs("div",{className:"flex flex-col gap-[12px]",children:[re.length>0&&o.jsxs(o.Fragment,{children:[o.jsxs(P1,{children:[re.includes("SIDEBAR_FINANCE")&&o.jsx(fa,{href:"/finance",text:k({defaultMessage:"Finance",id:"Fm3M+yFIbr"}),icon:Ix,selected:e5(N)==="finance",menuItems:E?K:void 0,sidebarOpen:e}),re.includes("SIDEBAR_TRAVEL")&&o.jsx(fa,{href:"/travel",text:k({defaultMessage:"Travel",id:"z1QN2qSnI/"}),icon:S_e,selected:e5(N)==="travel",menuItems:E?ee:void 0,sidebarOpen:e}),re.includes("SIDEBAR_SHOPPING")&&o.jsx(fa,{href:"/shopping",text:k({defaultMessage:"Shopping",id:"my1MLnIMoS"}),icon:C_e,selected:e5(N)==="shopping",menuItems:E?oe:void 0,sidebarOpen:e}),re.includes("SIDEBAR_ACADEMIC")&&o.jsx(fa,{href:"/academic",text:k({defaultMessage:"Academic",id:"mbxIJyT8C5"}),icon:__e,selected:e5(N)==="academic",menuItems:E?ne:void 0,sidebarOpen:e})]}),o.jsx(I1,{})]}),o.jsx(D1,{href:"/library",onClick:X=>{E||(X.preventDefault(),T({title:k({defaultMessage:"Organize your search history by signing up",id:"PMTP+jTgx8"}),origin:gt.LIBRARY_PAGE}))},onMouseOver:w,text:k({defaultMessage:"Library",id:"StcK672jB9"}),className:"-mb-xs",testId:"library-button",accessory:i&&e&&V.length>0?o.jsx(m_e,{defaultHidden:!1,buttonClassName:"text-text-200 hover:text-text duration-150"}):o.jsx("div",{className:"size-[24px]"})}),l?null:V.length===0?o.jsx(fa,{icon:$r,href:"/",text:k({defaultMessage:"Create a Thread",id:"6naN9kZFw2"}),deemphasized:!0,onClick:()=>{const X=document.getElementById("ask-input");X&&(X.focus(),t())},sidebarOpen:e}):o.jsx(xy,{show:!0,data:V,type:"thread",HistoryComponent:({item:X,position:ce})=>o.jsx(M_e,{item:X,position:ce,onDeleteClick:H,sidebarOpen:e}),wrapperClassName:"!m-0 !px-0 !border-0 flex flex-col gap-1.5 space-y-0 !-mt-[2px]",id:"recent-threads"}),V?.length>=Fre&&o.jsx(hR,{href:"/library",text:k({defaultMessage:"View All",id:"wbcwKddwLa"}),onMouseOver:w}),E&&c!==null&&o.jsx(o.Fragment,{children:z.length>0&&o.jsxs(o.Fragment,{children:[o.jsx(I1,{}),o.jsx(D1,{href:g?`/spaces/${g}`:void 0,text:k({defaultMessage:"Bookmarks",id:"nGBrvwYczX"}),className:"-mb-xs",testId:"bookmarks-button"}),o.jsx(xy,{show:!0,data:z,type:"thread",HistoryComponent:({item:X})=>o.jsx(bRt,{item:X,onRemoveClick:U,onDeleteClick:q,sidebarOpen:e}),wrapperClassName:"!m-0 !px-0 !border-0 flex flex-col gap-1.5 space-y-0 !-mt-[2px]",id:"recent-bookmarks"}),z.length>=Fre&&g&&o.jsx(hR,{href:`/spaces/${g}`,text:k({defaultMessage:"View All",id:"wbcwKddwLa"})})]})}),o.jsx(gRt,{isOpen:r,onClose:()=>s(!1),availableHubs:te})]})},xRt=()=>{const{$t:e}=ae();return[{id:"SIDEBAR_FINANCE",name:e({defaultMessage:"Finance",id:"Fm3M+yFIbr"}),icon:Ix},{id:"SIDEBAR_TRAVEL",name:e({defaultMessage:"Travel",id:"z1QN2qSnI/"}),icon:S_e},{id:"SIDEBAR_SHOPPING",name:e({defaultMessage:"Shopping",id:"my1MLnIMoS"}),icon:C_e},{id:"SIDEBAR_ACADEMIC",name:e({defaultMessage:"Academic",id:"mbxIJyT8C5"}),icon:__e}]},bRt=({item:e,onRemoveClick:t,onDeleteClick:n,sidebarOpen:r})=>{const s=e.mode==="article",i=`/${s?"page":"search"}/${e.slug}`,l=ln(),{$t:c}=ae();return o.jsx(fa,{href:i,text:e.title||e.slug,fadeOut:!0,selected:i===l,sidebarOpen:r,testId:`thread-title-${e.title||e.slug}`,menuItems:[{text:c({defaultMessage:"Remove Bookmark",id:"RokVj/Gv4U"}),icon:pHe,onClick:u=>{u.stopPropagation(),t(e)},type:"default"},{text:c({defaultMessage:"Delete {item}",id:"rdK9AWns19"},{item:s?"Page":"Thread"}),icon:Id,onClick:u=>{u.stopPropagation(),n(e)},type:"default"}]})},mEe=f.memo(({isOpen:e,children:t,title:n,onPin:r,pinned:s,canPin:a,onMouseEnter:i,onMouseLeave:l,accessory:c,actions:u,appContentWrapperRef:d})=>{const{$t:h}=ae(),m=f.useRef(null),g=f.useMemo(()=>B_(v=>{d.current?.contains(v.target)&&(window.removeEventListener("mousemove",g),e&&l())},100,{leading:!0,trailing:!0}),[l,d,e]);return f.useEffect(()=>{e&&!s?window.addEventListener("mousemove",g):window.removeEventListener("mousemove",g)},[e,s,g]),FC(()=>{window.removeEventListener("mousemove",g)}),o.jsx("div",{ref:m,className:"group/sidebar-menu pointer-events-none absolute inset-y-0 left-0 -translate-x-px overflow-hidden",style:{width:yy+(s?0:16)+t1},children:o.jsxs(Q,{className:W("right-md inset-y-0 left-0 border-r border-transparent pr-[20px] duration-100 dark:border-transparent","absolute flex flex-col",{"erp-tab:pt-two pt-[10px]":s,"ease-inCubic pointer-events-none -translate-x-[10%] opacity-0":!e&&!s,"!border-borderMain/50 ease-outCubic shadow-xl":e&&!s,"pointer-events-auto":e||s}),variant:"offset",onMouseEnter:i,onMouseLeave:l,style:{paddingLeft:t1+12,width:yy+t1},children:[!s&&e&&o.jsx("div",{className:"absolute inset-y-0 -right-[24px] left-0"}),o.jsxs(Q,{className:"group/sidebar-menu-header relative mb-[12px] flex min-h-0 items-center justify-between border-b py-[12px]",children:[u&&e?o.jsx(Rn,{items:u,isMobileStyle:!1,placement:"bottom-start",children:o.jsxs(F,{variant:"smallBold",className:"group relative cursor-pointer select-none",children:[o.jsx("span",{className:"bg-background-300 -inset-x-sm -inset-y-xs absolute rounded-md opacity-0 duration-100 group-hover:opacity-100"}),o.jsxs("span",{className:"gap-xs relative flex items-center",children:[n,o.jsx(Ia,{className:"text-textMain/35 group-hover:text-text-200 size-4 opacity-0 duration-100 group-hover/sidebar-menu-header:opacity-100"})]})]})}):o.jsx(F,{variant:"smallBold",children:n}),o.jsxs("div",{className:"flex min-h-[24px] items-center",children:[o.jsx(kt,{initial:!1,children:c&&o.jsx(je.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},className:"inline-flex",children:c})}),a&&o.jsx(it,{size:"tiny",icon:s?f$e:DWe,onClick:r,extraCSS:"!-mr-sm",toolTip:h(s?{defaultMessage:"Unpin Sidebar",id:"0ms2vDE7D8"}:{defaultMessage:"Pin Sidebar",id:"rPlnyNxMsY"}),tooltipLayout:"bottom",testId:"sidebar-pin-sidebar"})]})]}),o.jsx(kt,{initial:!1,mode:"popLayout",children:o.jsx(je.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0},transition:{duration:.1,ease:Ar},className:"relative flex min-h-0 flex-1 flex-col",children:o.jsx("div",{className:"scrollbar-thin scrollbar-thumb-idle dark:scrollbar-thumb-idleDark scrollbar-track-transparent -mx-[12px] -mt-[12px] flex min-h-0 flex-1 overflow-y-auto overflow-x-hidden p-[12px]",children:o.jsx("div",{className:"w-full",children:t})})},n)})]})})});mEe.displayName="SidebarMenu";function wRt(){const{value:e,loading:t}=vs({flag:"app-notifications",subjectType:"user_nextauth_id",defaultValue:!1});return f.useMemo(()=>({isAppNotificationsEnabled:e,isAppNotificationsEnabledLoading:t}),[e,t])}const _Rt=({enabled:e=!0,reason:t})=>{const{data:n,isLoading:r,isFetching:s,hasNextPage:a,fetchNextPage:i,isFetchingNextPage:l}=Zd({enabled:e,queryKey:Ip(),queryFn:async({pageParam:u})=>(await me.GET("/rest/notifications/in-app",t,{params:{query:{cursor:u}}})).data,getNextPageParam:u=>!u||u.notifications.length===0?null:u.next_cursor,initialPageParam:""}),c=f.useMemo(()=>n?.pages.flatMap(u=>u?.notifications??[])??[],[n]);return f.useMemo(()=>({isLoading:r,isFetching:s,fetchNextPage:i,isFetchingNextPage:l,hasNextPage:a,notifications:c}),[c,a,i,l,r,s])},rV=({reason:e})=>{const t=Vt(),n=Kt({mutationFn:i=>me.POST("/rest/notifications/in-app/bulk-read",e,{body:{notification_ids:i?.notificationIds}}),onSuccess:()=>{t.invalidateQueries({queryKey:Ip()})}}),r=Kt({mutationFn:i=>me.POST("/rest/notifications/in-app/{notification_id}/read",e,{params:{path:{notification_id:i.notificationId}}}),onSuccess:()=>{t.invalidateQueries({queryKey:Ip()})}}),s=Kt({mutationFn:i=>me.DELETE("/rest/notifications/in-app/bulk-delete",e,{body:{notification_ids:[i.notificationId]}}),onSuccess:()=>{t.invalidateQueries({queryKey:Ip()})}}),a=Kt({mutationFn:()=>me.DELETE("/rest/notifications/in-app/read",e),onSuccess:()=>{t.invalidateQueries({queryKey:Ip()})}});return f.useMemo(()=>({markAllAsRead:n,markAsRead:r,markAsDeleted:s,markAllReadAsDeleted:a}),[n,r,s,a])},vb=({primaryIcon:e,secondaryIcon:t})=>o.jsxs("div",{className:"relative flex h-9 w-9 shrink-0 items-center",children:[o.jsx("div",{className:"bg-offsetPlus dark:bg-backgroundDark flex h-8 w-8 items-center justify-center rounded-full",children:o.jsx(Ne,{icon:e,size:"md"})}),o.jsx("div",{className:"bg-offset absolute bottom-0 right-0 flex h-4 w-4 items-center justify-center rounded-full",children:o.jsx(Ne,{icon:t,size:"2xs"})})]});vb.displayName="SidebarNotificationsListItemIcon";const t8=({items:e})=>{const t=o.jsx("span",{className:"h-0.5 w-0.5 bg-current"});return o.jsx("div",{className:"line-clamp-1 flex items-center gap-1",children:e.map((n,r)=>o.jsxs(o.Fragment,{children:[r>0&&t,n]}))})};t8.displayName="SidebarNotificationsListItemMeta";const CRt=({notification:e})=>{const{$t:t}=ae(),{openModal:n}=Gt(),{openToast:r}=Sr(),s=f.useCallback(a=>{const i={type:"default",text:t({defaultMessage:"Edit alert",id:"84mzvWHJ9O"}),icon:am,onClick:async()=>{const l=await KB({taskId:e.metadata.task_id,reason:"SidebarNotificationsListItemFinanceAlert"});if(!l){r(t({defaultMessage:"Alert not found",id:"QpInvMOaBv"}),"error");return}n("financeAlertModal",{task:l})}};return[a.markAsRead,i,a.deleteNotification]},[t,e.metadata.task_id,n,r]);return o.jsxs(n8,{notification:e,getMenuItems:s,children:[o.jsx(vb,{primaryIcon:Ix,secondaryIcon:fx}),o.jsxs("div",{className:"flex flex-1 flex-col",children:[o.jsx(F,{variant:"small",className:"line-clamp-1",children:e.body}),o.jsx(F,{variant:"tiny",color:"light",className:"line-clamp-1",children:o.jsx(t8,{items:[t({defaultMessage:"Finance",id:"Fm3M+yFIbr"}),t({defaultMessage:"Task Ran",id:"fDv8DRTZH3"})]})})]})]})},SRt=e=>[e.markAsRead,e.deleteNotification],pEe=({notification:e,focused:t,onOpen:n,onClose:r,getMenuItems:s=SRt})=>{const{$t:a}=ae(),i=fo(),{markAsRead:l,markAsDeleted:c}=rV({reason:"SidebarNotificationsListItemMenu"}),u=f.useMemo(()=>({type:"default",text:a({defaultMessage:"Mark as read",id:"64Hq/+q+KI"}),icon:Pa,onClick:()=>{l.mutate({notificationId:e.notification_id})}}),[l,a,e.notification_id]),d=f.useMemo(()=>({type:"default",text:a({defaultMessage:"Delete notification",id:"+Nk8iq3V1o"}),icon:Id,onClick:()=>{c.mutate({notificationId:e.notification_id})}}),[c,a,e.notification_id]),h=f.useMemo(()=>s({markAsRead:u,deleteNotification:d}),[s,u,d]);return o.jsx("div",{className:W("col-start-1 row-start-1 self-center justify-self-end opacity-0 transition-opacity group-hover/notification-list-item:opacity-100",{"opacity-100":t}),children:o.jsx(Rn,{items:h,isMobileStyle:i,onOpen:n,onClose:r,children:o.jsx(it,{size:"tiny",icon:tf})})})};pEe.displayName="SidebarNotificationsListItemMenu";const MRt=({notification:e})=>{const{$t:t}=ae(),{openModal:n}=Gt(),{openToast:r}=Sr(),s=f.useMemo(()=>Hhe(e.metadata.model_preference)??Re.DEFAULT,[e.metadata.model_preference]),a=f.useMemo(()=>ZD(s),[s]),i=Vhe(s),l=f.useCallback(async()=>{const h=await KB({taskId:e.metadata.task_id,reason:"SidebarNotificationsListItemFinanceAlert"});return h||(r(t({defaultMessage:"Task not found",id:"tTgHFYa2PN"}),"error"),null)},[e.metadata.task_id,r,t]),c=f.useCallback(async()=>{const h=await l();h&&n("scheduledTaskModal",{initial:h,source:"notifications_panel"})},[l,n]),u=f.useCallback(async()=>{const h=await l();if(h)try{await zke({taskId:h.id,payload:{status:"PAUSED"},reason:"SidebarNotificationsListItemScheduledTaskComplete"})}catch(m){le.error(m),r(t({defaultMessage:"Failed to turn off task",id:"0sPa5XFHCj"}),"error")}},[l,r,t]),d=f.useCallback(h=>{const m={type:"default",text:t({defaultMessage:"Turn off task",id:"+H7RughJHn"}),icon:a$e,onClick:u},g={type:"default",text:t({defaultMessage:"Edit task",id:"dsTLW1Kx6B"}),icon:am,onClick:c};return[h.markAsRead,m,g,h.deleteNotification]},[t,u,c]);return o.jsxs(n8,{notification:e,getMenuItems:d,children:[o.jsx(vb,{primaryIcon:i,secondaryIcon:Th}),o.jsxs("div",{className:"flex flex-1 flex-col",children:[o.jsx(F,{variant:"small",className:"line-clamp-1",children:e.body}),o.jsx(F,{variant:"tiny",color:"light",className:"line-clamp-1",children:o.jsx(t8,{items:[t(us[a].name),t({defaultMessage:"Task Ran",id:"fDv8DRTZH3"})]})})]})]})},kRt=({notification:e})=>{const{$t:t}=ae(),n=f.useMemo(()=>Hhe(e.metadata.model_preference)??Re.DEFAULT,[e.metadata.model_preference]),r=f.useMemo(()=>ZD(n),[n]),s=Vhe(n);return o.jsxs(n8,{notification:e,children:[o.jsx(vb,{primaryIcon:s,secondaryIcon:Pa}),o.jsxs("div",{className:"flex flex-1 flex-col",children:[o.jsx(F,{variant:"small",className:"line-clamp-1",children:e.body}),o.jsx(F,{variant:"tiny",color:"light",className:"line-clamp-1",children:o.jsx(t8,{items:[t(us[r].name),t({defaultMessage:"Completed",id:"95stPqCnfu"})]})})]})]})},ERt=e=>{const n=Date.now()-e,r=Math.floor(n/(1e3*60)),s=Math.floor(n/(1e3*60*60)),a=Math.floor(s/24);return r<1?"1m":r<60?`${r}m`:s<24?`${s}h`:`${a}d`},gEe=({notification:e})=>{switch(e.type){case"SCHEDULED_TASK_COMPLETE":return o.jsx(MRt,{notification:e});case"THREAD_COMPLETE":return o.jsx(kRt,{notification:e});case"FINANCE_ALERT":return o.jsx(CRt,{notification:e});default:return o.jsx(TRt,{notification:e})}},TRt=({notification:e})=>o.jsxs(n8,{notification:e,children:[o.jsx(vb,{primaryIcon:fx,secondaryIcon:Pa}),o.jsxs("div",{className:"flex flex-1 flex-col",children:[o.jsx(F,{variant:"small",className:"line-clamp-1",children:e.title}),o.jsx(F,{variant:"tiny",color:"light",className:"line-clamp-1",children:e.body})]})]});gEe.displayName="SidebarNotificationsListItem";const n8=({notification:e,getMenuItems:t,children:n})=>{const[r,s]=f.useState(!1),{markAsRead:a}=rV({reason:"SidebarNotificationsListItemContainer"}),i=f.useMemo(()=>W("hover:bg-offsetPlus group/notification-list-item flex gap-2 rounded p-1 pr-2 text-left",{"bg-offsetPlus":r}),[r]),l=f.useCallback(c=>{e.deeplink_path||c.preventDefault(),!e.is_read&&a.mutate({notificationId:e.notification_id})},[a,e.deeplink_path,e.is_read,e.notification_id]);return o.jsxs(Nt,{className:i,onClick:l,href:e.deeplink_path??"#",children:[n,o.jsxs("div",{className:"mt-0.5 grid grid-cols-1 grid-rows-1",children:[o.jsx(NRt,{notification:e,focused:r}),o.jsx(pEe,{notification:e,focused:r,getMenuItems:t,onOpen:()=>s(!0),onClose:()=>s(!1)})]})]})},NRt=({notification:e,focused:t})=>{const n=f.useMemo(()=>ERt(e.created_at_ms),[e.created_at_ms]);return o.jsxs("div",{className:W("col-start-1 row-start-1 flex items-center gap-1 self-start justify-self-end transition-opacity group-hover/notification-list-item:opacity-0",{"opacity-0":t}),children:[o.jsx(F,{variant:"tiny",color:"light",children:n}),o.jsx(jRt,{isRead:e.is_read})]})},jRt=({isRead:e})=>o.jsx("div",{className:W("bg-super h-1 w-1 rounded-full",{"opacity-0":e})}),vEe=({enabled:e})=>{const{notifications:t,isLoading:n,hasNextPage:r,fetchNextPage:s,isFetchingNextPage:a}=_Rt({enabled:e,reason:"SidebarNotificationsList"}),{ref:i,isIntersecting:l}=Hpe({threshold:.5});return f.useEffect(()=>{l&&r&&!a&&s()},[l,r,a,s]),o.jsxs("div",{className:"flex flex-col gap-2",children:[n&&o.jsx(Ure,{count:5}),t.map(c=>o.jsx(gEe,{notification:c},c.notification_id)),a&&o.jsx(Ure,{count:1}),o.jsx("div",{ref:i})]})};vEe.displayName="SidebarNotificationsList";const Ure=({count:e})=>o.jsx(Kn,{children:o.jsx("div",{className:"flex flex-col gap-2",children:Array.from({length:e}).map((t,n)=>o.jsx("div",{className:"bg-offsetPlus h-4 w-full rounded"},n))})});function sV(){const{value:e}=vs({flag:"shortcut-tasks",subjectType:"user_nextauth_id",defaultValue:!1});return e&&Md()}const yEe=({source:e,children:t})=>{const{$t:n}=ae(),r=fo(),s=sV(),{openModal:a}=Gt(),i=[{type:"default",text:n({defaultMessage:"Scheduled",id:"cXAlMRerxW"}),icon:Th,onClick:()=>{a("scheduledTaskModal",{source:e})}},{type:"default",text:n({defaultMessage:"Price alert",id:"XMapyUiPpV"}),icon:fx,onClick:()=>{a("financeAlertModal",{})}},{type:"default",text:n({defaultMessage:"Shortcut",id:"tceWOrncgz"}),icon:ZWe,show:s,onClick:()=>{a("taskShortcutModal",{source:e})}}];return o.jsx(Rn,{items:i,isMobileStyle:r,boxProps:{className:"shrink-0"},children:t??o.jsx(Le,{variant:"border",size:"small",icon:$r})})};yEe.displayName="CreateTaskDropdown";const xEe=()=>{const{$t:e}=ae(),t=fo(),{markAllAsRead:n,markAllReadAsDeleted:r}=rV({reason:"SidebarNotificationsPanelHeader"}),s=[{type:"default",text:e({defaultMessage:"Mark all as read",id:"/af+jQ8xvW"}),icon:Pa,onClick:()=>{n.mutate()}},{type:"default",text:e({defaultMessage:"Delete all read",id:"CpNQrgahgD"}),icon:Id,onClick:()=>{r.mutate()}}];return o.jsxs("div",{className:"flex items-center justify-between gap-2 pl-2",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(F,{variant:"smallBold",children:e({defaultMessage:"Inbox",id:"VCMKbtL+3b"})}),o.jsx(Rn,{items:s,isMobileStyle:t,boxProps:{className:"shrink-0"},children:o.jsx(it,{size:"tiny",icon:tf})})]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Nt,{href:ml.Notifications.href,className:"ml-auto",children:o.jsx(it,{size:"tiny",icon:dI,toolTip:e({defaultMessage:"Notifications settings",id:"Iq9hlz9gf/"})})}),o.jsx(yEe,{source:"notifications_panel",children:o.jsx(it,{size:"tiny",icon:Th,toolTip:e({defaultMessage:"Create an automation",id:"YhX3c1rLvb"})})})]})]})};xEe.displayName="SidebarNotificationsPanelHeader";const Bre=352,bEe=({ref:e,isOpen:t,onMouseEnter:n,onMouseLeave:r})=>o.jsx("div",{ref:e,className:W("group/sidebar-notifications ease-inCubic pointer-events-none absolute inset-y-0 left-0 shadow-xl duration-100",{"-translate-x-[10%] opacity-0":!t}),style:{width:Bre+t1},onMouseEnter:n,onMouseLeave:r,children:o.jsx(Q,{variant:"offset",className:W("border-borderMain/50 absolute bottom-0 right-0 top-0 border-r p-2",{"pointer-events-auto":t}),style:{width:Bre},children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsx(xEe,{}),o.jsx(vEe,{enabled:t})]})})});bEe.displayName="SidebarNotifications";const ARt=({reason:e})=>{const t=Ft({queryKey:Kat(),queryFn:async()=>(await me.GET("/rest/notifications/in-app/unread-count",e)).data.unread_count,staleTime:3e5});return f.useMemo(()=>{const{data:n,...r}=t;return{count:n??0,...r}},[t])},aV=f.memo(({icon:e,selected:t,hovered:n,iconSize:r=24})=>o.jsxs(Q,{className:"grid size-[40px] place-items-center",children:[o.jsx(Q,{variant:"offsetPlus",className:W("size-[90%] rounded-md duration-100 [grid-area:1/-1] group-hover:opacity-100",{"opacity-0":!t&&!n})}),o.jsx(Ne,{icon:e,size:r,className:W("relative duration-100 [grid-area:1/-1] group-hover:scale-110",{"text-text":t,"text-text-200":!t,"scale-110":t||n})})]}));aV.displayName="SidebarTabButton";const wEe=({ref:e,hovered:t,onClick:n,onMouseEnter:r,onMouseLeave:s})=>o.jsx("button",{className:"flex flex-col items-center justify-center",onMouseEnter:r,onMouseLeave:s,onClick:n,ref:e,children:o.jsxs("div",{className:"relative flex !size-[40px] flex-col items-center justify-center",children:[o.jsx(_Ee,{hovered:t}),o.jsx(aV,{selected:!1,icon:gWe,iconSize:28,hovered:t})]})});wEe.displayName="SidebarNotificationsButton";const _Ee=({hovered:e})=>{const{$t:t,formatNumber:n}=ae(),{count:r,refetch:s}=ARt({reason:"SidebarNotificationsButtonCounter"});f.useEffect(()=>{e&&s()},[e,s]);const a=f.useMemo(()=>r===0?null:r>99?t({defaultMessage:"99+",id:"Y8BuajLBAX"}):n(r),[r,n,t]);return o.jsx("div",{className:W("bg-super absolute right-0 top-0 z-10 h-4 min-w-4 rounded-full px-1 text-center transition-opacity",{"opacity-100":r>0,"opacity-0":r===0}),children:o.jsx(F,{variant:"micro",color:"defaultInverted",className:"!font-bold",children:a})})};_Ee.displayName="SidebarNotificationsButtonCounter";const CEe=({onOpen:e})=>{const{isAppNotificationsEnabled:t}=wRt(),n=Ct(),[r,s]=f.useState(!1),[a,i]=f.useState(!1),l=f.useRef(null),c=f.useRef(null),u=f.useRef(null),d=f.useCallback(v=>{i(v),e?.(v)},[e]),h=f.useCallback(()=>{s(!0),d(!0),l.current&&clearTimeout(l.current)},[d]),m=f.useCallback(()=>{l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{s(!1),d(!1)},100)},[d]),g=f.useCallback(v=>{c.current?.contains(v.target)||u.current?.contains(v.target)||d(!1)},[d]);return f.useEffect(()=>(document.addEventListener("click",g),()=>{document.removeEventListener("click",g)}),[g]),!t||!n?null:o.jsxs(o.Fragment,{children:[o.jsx(bEe,{ref:u,isOpen:a,onMouseEnter:h,onMouseLeave:m}),o.jsx(wEe,{ref:c,hovered:r,onMouseEnter:h,onMouseLeave:m})]})};CEe.displayName="SidebarNotifications";const SEe=f.memo(({icon:e,title:t,selected:n,hovered:r,href:s,onHover:a,onLeave:i,onClick:l})=>o.jsxs(Nt,{href:s,"data-testid":`sidebar-${t.toLowerCase()}`,className:"p-sm group flex w-full flex-col items-center justify-center gap-0.5",onMouseEnter:a,onMouseLeave:i,onClick:l,children:[o.jsx(aV,{icon:e,selected:n,hovered:r}),o.jsx(F,{variant:"micro",color:n?"default":"light",className:W("line-clamp-2 w-full text-ellipsis text-center leading-[1.1]",{"font-medium":n}),children:t})]}));SEe.displayName="SidebarTab";const MEe=({showBottomLabels:e})=>{const t="sidebar-v2-account-menu",{$t:n}=ae(),r=Fa({reason:t}),s=on(),{isPro:a,isMax:i,hasAccessToProFeatures:l}=cn(),c=t_e({reason:t}),u=lD().sidebar,d=c&&!u&&Ude(),h=f.useCallback(m=>o.jsx(Mn,{showTooltip:!!s?.user?.username&&!e,tooltipText:n({defaultMessage:"Account & Settings",id:"zWaEuojd3m"}),tooltipLayout:"right",asChild:!0,children:o.jsxs("div",{className:"gap-xs group flex w-full cursor-pointer flex-col items-center",children:[o.jsxs("div",{className:"relative select-none duration-100 group-hover:opacity-80",children:[r?o.jsx(mf,{inverse:!0}):o.jsx(sr,{size:"medium",showProBadge:a,showMaxBadge:i,badgeProps:{show:d,className:"bg-super border-offset dark:border-offsetDark"},user:s?.user?.image}),o.jsx(Ia,{className:W("text-textMain/35 group-hover:text-text-200 absolute right-0 top-1/2 size-3 -translate-y-1/2 translate-x-[calc(100%+2px)] duration-100",{"!text-text-200 -translate-y-[calc(50%-2px)]":m})})]}),e&&o.jsx(F,{variant:"micro",color:"light",className:W("px-xs w-full truncate text-center",{"mt-two":l}),children:n({defaultMessage:"Account",id:"TwyMauNL3r"})})]})}),[e,s?.user?.username,n,r,a,i,s?.user?.image,d,l]);return o.jsx(r_e,{trigger:h})};MEe.displayName="SidebarV2AccountMenu";const RRt=()=>{const{$t:e}=ae();return o.jsx(Mn,{tooltipText:e({defaultMessage:"Download",id:"5q3qC0sC3r"}),className:"inline-flex",tooltipLayout:"right",asChild:!0,children:o.jsxs("div",{className:"gap-xs flex flex-col items-center",children:[o.jsx(KF,{variant:"iconOnly"}),o.jsx(F,{variant:"micro",color:"light",className:"px-xs w-full truncate text-center",children:e({defaultMessage:"Install",id:"ubmFc8rrea"})})]})})},kEe=()=>{const e="sidebar-v2-enterprise-menu",{$t:t}=ae(),{organization:n}=Bn({reason:e}),r=Vg();return o.jsx(Mn,{tooltipText:n?.display_name,tooltipLayout:"right",asChild:!0,children:o.jsx(Nt,{href:`${r}/org`,className:"flex justify-center",children:n?.logo?o.jsx(sr,{size:"medium",user:n?.logo,altText:"Logo"}):o.jsx(Le,{ariaLabel:t({defaultMessage:"Organization settings",id:"8JjaslSBQx"}),pill:!0,size:"small",variant:"inverted"})})})};kEe.displayName="SidebarV2EnterpriseMenu";const EEe=()=>{const{$t:e}=ae(),{trackEvent:t}=Ye(),{openModal:n}=Gt(),r=f.useCallback(()=>{t("sidebar pro upsell clicked"),n("pricingModal",{origin:gt.SIDEBAR_PRO_UPSELL})},[t,n]);return o.jsxs("button",{className:"gap-xs group inline-flex appearance-none flex-col items-center",onClick:r,"data-testid":"sidebar-upgrade-button",children:[o.jsx(Q,{variant:"offsetPlus",className:"flex size-8 items-center justify-center rounded-full duration-100 group-hover:opacity-80",children:o.jsx(F,{color:"default",children:o.jsx(_l,{className:"size-4"})})}),o.jsx(F,{variant:"micro",color:"light",className:"px-xs w-full truncate text-center",children:e({defaultMessage:"Upgrade",id:"0h/lPMeYkq"})})]})};EEe.displayName="SidebarV2UpgradeButton";const TEe=L.memo(({item:{title:e,slug:t,emoji:n,user_permission:r},sidebarOpen:s})=>{const{setMobileSidebarOpen:a}=Eu(),i=`/spaces/${t}`,l=f.useCallback(()=>{a(!1)},[a]),c=R1(r),u=ln();return o.jsx(fa,{href:i,text:e,fadeOut:!0,selected:u===i,sidebarOpen:s,onClick:l,icon:c?o.jsx("div",{className:"flex size-[12px] items-center justify-center",children:o.jsx(Ne,{icon:rI,className:"text-text-200 size-4 shrink-0"})}):n?o.jsx("div",{className:"flex size-[12px] items-center justify-center",children:o.jsx(hf,{unified:n,size:"tiny"})}):o.jsx("div",{className:"flex size-[12px] items-center justify-center",children:o.jsx(Ne,{icon:Ja,className:"text-text-200 size-4 shrink-0"})})})});TEe.displayName="CollectionHistoryItemV2";const iV=()=>{const{$t:e}=ae(),t=Qt(),{createCollection:n,createCollectionForThread:r}=Lg({reason:"create-new-space"}),s=f.useCallback(()=>{const i=e({defaultMessage:"New Space",id:"t5xj3BH/Ni"});n({title:i,description:"",emoji:"",instructions:"",accessLevel:mw,enableWebByDefault:!0,callback:l=>{t.push(`/spaces/${l.slug}`)}})},[n,e,t]),a=f.useCallback((i,l)=>{const c=e({defaultMessage:"New Space",id:"t5xj3BH/Ni"});r({title:c,description:"",emoji:"",instructions:"",accessLevel:mw,enableWebByDefault:!0,entryUUID:i,frontendContextUUID:l,callback:u=>{t.push(`/spaces/${u.slug}`)}})},[r,e,t]);return f.useMemo(()=>({handleCreateNewSpace:s,handleCreateNewSpaceForThread:a}),[s,a])};function oV(){const{value:e}=vs({flag:"spaces-creation-redesign",subjectType:"user_nextauth_id",defaultValue:!1});return e}const NEe=L.memo(({item:{title:e,slug:t,emoji:n},sidebarOpen:r})=>{const{setMobileSidebarOpen:s}=Eu(),a=ln(),i=`/spaces/${t}`,l=f.useCallback(()=>{s(!1)},[s]);return o.jsx(fa,{href:i,text:e,fadeOut:!0,selected:a===i,sidebarOpen:r,onClick:l,icon:n?o.jsx("div",{className:"flex size-[12px] items-center justify-center",children:o.jsx(hf,{unified:n,size:"tiny"})}):o.jsx("div",{className:"flex size-[12px] items-center justify-center",children:o.jsx(Ne,{icon:Ja,className:"text-text-200 size-4 shrink-0"})})})});NEe.displayName="SpaceHistoryItem";const LRt=({category:e})=>{const{$t:t}=ae();let n="/spaces";return e==="invited"?n="/spaces#invites":e==="organization"?n="/spaces#organization":(e==="private"||e==="saved"||e==="shared")&&(n="/spaces#my-spaces"),o.jsx(Nt,{href:n,className:"m-0 w-full border-none bg-transparent p-0 text-left no-underline",children:o.jsx(F,{variant:"tinyRegular",color:"light",className:"duration-200 hover:opacity-60",children:t({defaultMessage:"View All",id:"wbcwKddwLa"})})})},Vre={organization:{defaultMessage:"Organization",id:"K56Dims7Up"},private:{defaultMessage:"Private",id:"viXE3205/2"},shared:{defaultMessage:"Shared",id:"kWI6zXRaHY"},saved:{defaultMessage:"Saved",id:"fsB/4pdUqN"},invited:{defaultMessage:"Invites",id:"Wy+IdbkBFc"}},ORt={organization:"/spaces#organization",private:"/spaces#my-spaces",shared:"/spaces#my-spaces",saved:"/spaces#my-spaces",invited:"/spaces#invites"};function PRt({category:e,accessory:t,sidebarOpen:n,isLastCategory:r}){const s="spaces-sidebar-section",{$t:a}=ae(),{data:i,isLoading:l}=Jct({category:e,reason:s}),c=f.useMemo(()=>i?.pages.flatMap(u=>u).filter(u=>u!==void 0)??Fe,[i?.pages]);return l||c.length===0?null:o.jsxs(o.Fragment,{children:[o.jsx(D1,{href:ORt[e]||"/spaces",text:a(Vre[e]||Vre.private),accessory:t}),o.jsx(xy,{show:!0,data:c,type:"space_navbar_item",HistoryComponent:({item:u,position:d})=>o.jsx(NEe,{item:u,position:d,sidebarOpen:n}),wrapperClassName:"!m-0 !px-0 !border-0 flex flex-col gap-1.5"}),c[c.length-1]?.has_next_page&&o.jsx(LRt,{category:e}),!r&&o.jsx(I1,{})]})}const jEe=f.memo(({sidebarOpen:e})=>{const t="spaces-sidebar",{data:n,isLoading:r}=Zct({reason:t}),s=Ct(),{$t:a}=ae(),i=nc(),{openModal:l}=Gt(),c=oV(),u=Array.isArray(i?.slug)?i.slug[0]:i?.slug,{collection:d}=uf({collectionSlug:u,reason:t}),{handleCreateNewSpace:h}=iV(),{templateSpace:m}=Dme({collectionSlug:u??"",reason:t}),g=f.useCallback(()=>{l("spaceCreate",{existingCollection:null,onCreate:null})},[l]),v=f.useCallback(()=>{c?h():g()},[c,h,g]),{openVisitorLoginUpsell:x}=Br({enabled:!s}),b=n!==void 0&&n?.private_spaces?.length===0,w=(n?.shared_spaces?.length??0)===0,C=n!==void 0&&((n.organization_spaces?.length??0)>0||(n.saved_spaces?.length??0)>0||(n.private_spaces?.length??0)>0||(n.invited_spaces?.length??0)>0||(n.shared_spaces?.length??0)>0),S=!C,k=OX.filter(E=>{const T=(()=>{switch(E){case"private":return n?.private_spaces;case"shared":return n?.shared_spaces;case"saved":return n?.saved_spaces;case"organization":return n?.organization_spaces;case"invited":return n?.invited_spaces;default:return[]}})();return T&&T.length>0});return o.jsxs("div",{className:"pb-lg flex flex-col gap-[12px]",children:[S&&!r&&o.jsx(P1,{children:o.jsx(fa,{href:"/spaces/templates",text:a({defaultMessage:"Welcome",id:"PwaN2oE2pC"}),icon:o.jsx(Ne,{icon:Ja,size:"sm"}),sidebarOpen:e})}),!S&&o.jsxs(o.Fragment,{children:[o.jsxs(P1,{children:[o.jsx(fa,{href:"/spaces/templates",text:a({defaultMessage:"Templates",id:"A3ptulOTB3"}),icon:o.jsx(Ne,{icon:CWe}),sidebarOpen:e}),!!m&&d&&o.jsx(TEe,{item:d,position:0,sidebarOpen:e}),o.jsx(fa,{onClick:v,text:a({defaultMessage:"Create new Space",id:"ZyNYnZRkPz"}),icon:$r,sidebarOpen:e})]}),o.jsx(I1,{})]}),r?o.jsx(eU,{}):C?o.jsxs(o.Fragment,{children:[b&&w&&o.jsxs(o.Fragment,{children:[o.jsx(fa,{icon:$r,onClick:E=>{s?(E.preventDefault(),v()):(E.preventDefault(),x({title:a({defaultMessage:"Focus your Perplexity experience in Spaces",id:"spZP/TobF9"}),origin:gt.SPACES_PAGE}))},text:a({defaultMessage:"Create a Space",id:"SqVNRzqwJz"}),deemphasized:!0,testId:"create-space-button",sidebarOpen:e}),o.jsx(I1,{})]}),OX.map(E=>o.jsx(PRt,{category:E,sidebarOpen:e,accessory:E==="private"?o.jsx(it,{toolTip:a({defaultMessage:"Create new Space",id:"ZyNYnZRkPz"}),icon:$r,size:"tiny",extraCSS:"-mr-sm",onClick:v,testId:"create-space-plus-btn"}):void 0,isLastCategory:E===k[k.length-1]},E))]}):o.jsx(fa,{icon:$r,onClick:E=>{s?(E.preventDefault(),v()):(E.preventDefault(),x({title:a({defaultMessage:"Focus your Perplexity experience in Spaces",id:"spZP/TobF9"}),origin:gt.SPACES_PAGE}))},text:a({defaultMessage:"Create a Space",id:"SqVNRzqwJz"}),deemphasized:!0,testId:"create-space-empty-state-button",sidebarOpen:e})]})});jEe.displayName="SpacesSidebar";const IRt=()=>{const{isMax:e}=cn(),{isEnterprise:t,isFetching:n}=Rhe({reason:"sidebar-v2"}),s=Ct()&&!n&&!t;return f.useMemo(()=>s&&!e,[e,s])},DRt=e=>{switch(e?.split("/").slice(1)?.[0]??""){case"":case"search":case"page":return"home";case"spaces":case"collections":return"spaces";case"discover":return"discover";default:return"home"}},e5=e=>{const t=e?.split("/").slice(1);return t?["finance"].includes(t[0])?"finance":["travel"].includes(t[0])?"travel":["shopping"].includes(t[0])?"shopping":["academic"].includes(t[0])?"academic":null:null},AEe=f.memo(({appContentWrapperRef:e,minimalMode:t})=>{const n="sidebar-v2",[r,s]=f.useState(null),a=ln(),i=f.useRef(null),l=f.useRef(null),c=f.useRef(null),u=f.useRef(null),d=f.useRef(null),h=f.useRef(null),{isSidebarPinned:m,actions:g}=On(),v=Fa({reason:n}),x=f.useRef(null),[b,w]=f.useState(null),[C,S]=f.useState(!1),k=Qt(),E=Ct(),{openVisitorLoginUpsell:T}=Br({enabled:!E}),j=L0t({reason:n}),[N,R]=f.useState(!1),[O,I]=f.useState(!1),B=m&&!t,{setBrandDropdownOpen:D,handleBrandCopy:z,handleDownload:V,handleLogoCopy:U,isBrandDropdownOpen:H,handlePopoverClose:q,toastCopy:$,toastVisible:G}=s_e(),K=Ln(),{isWindowsApp:ee}=sn(),{handleShowPanel:oe}=Bg(),{shouldShowLossAversionModal:ne,handleOpenLossAversion:te}=Ug(),{isEnterprise:re}=Rhe({reason:"sidebar-v2"}),X=Qe=>{Qe.button===2&&(Qe.preventDefault(),D(!0))},ce=Qe=>{l.current=setTimeout(()=>{s(Qe)},100),i.current&&clearTimeout(i.current),d.current&&clearTimeout(d.current),c.current&&clearTimeout(c.current),h.current&&clearTimeout(h.current)},se=b||DRt(a),{$t:J}=ae(),de=()=>{l.current&&clearTimeout(l.current),i.current=setTimeout(()=>{s(null)},500)},ie=()=>{g.setIsSidebarPinned(!m)},he=f.useCallback(()=>{s(null),S(!1)},[s,S]),pe=()=>{i.current&&clearTimeout(i.current),d.current&&clearTimeout(d.current),c.current&&clearTimeout(c.current),h.current&&clearTimeout(h.current)},ge=()=>{l.current&&clearTimeout(l.current),c.current=setTimeout(()=>{s(null)},150),d.current=setTimeout(()=>{S(!1)},150)},Ce=f.useMemo(()=>{if(r||C){const Qe=r??se;return x.current=Qe,Qe}return x.current&&!B?(setTimeout(()=>{x.current=null},500),x.current):B||C?se:"home"},[r,se,B,C]),we=f.useCallback(()=>{if(he(),ee)oe();else if(ne)te({args:{callback:()=>{k.push("/")},origin:gt.NEW_THREAD_BUTTON}});else{k.push("/");const Qe=document.getElementById("ask-input");Qe&&Qe.focus()}},[ne,te,k,ee,oe,he]);f.useEffect(()=>{w(null)},[a]);const Pe=r!==null||B||C,ot=f.useCallback(()=>{h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{he()},1e3)},[he]),Be=f.useMemo(()=>[{id:"home",title:J({defaultMessage:"Home",id:"ejEGdxSUGs"}),icon:l_e,menuComponent:o.jsx(yRt,{isOpen:Pe,onCreateClick:he,onDeleteThreadOrBookmark:ot,isConfiguring:O,setIsConfiguring:I}),href:"/",actions:[{text:J({defaultMessage:"Customize Sidebar",id:"/4kt7TXcZf"}),onClick:()=>{I(!0)},show:!0,type:"default",size:tn.small,icon:Bj}]},{id:"discover",title:J({defaultMessage:"Discover",id:"cE4HfwyEyr"}),icon:o_e,accessoryIcon:Bj,accessoryClick:Qe=>{E?R(!0):(Qe.preventDefault(),T({title:J({defaultMessage:"Sign in to customize your Discover Feed",id:"tlclIdp++4"}),origin:gt.DISCOVER_TOPICS}))},accessoryTooltip:J({defaultMessage:"Personalize Discover",id:"d0oRgWBA8Q"}),href:"/discover/",menuComponent:o.jsx(w_e,{isConfiguring:N,setConfiguring:R,sidebarOpen:Pe})},{id:"spaces",title:J({defaultMessage:"Spaces",id:"ZMoczsYew9"}),icon:Ja,menuComponent:o.jsx(jEe,{sidebarOpen:Pe}),href:j,requireLogin:!0}],[N,R,J,E,T,Pe,he,ot,O,I,j]),Ee=f.useMemo(()=>Be.find(Qe=>Qe.id===Ce),[Ce,Be]),st=()=>{d.current&&clearTimeout(d.current),u.current=setTimeout(()=>{S(!0)},100),h.current&&clearTimeout(h.current)},et=()=>{u.current&&clearTimeout(u.current),d.current=setTimeout(()=>{S(!1)},100)},$e=f.useCallback(Qe=>{(Qe.metaKey||Qe.ctrlKey)&&Qe.key===";"&&(Qe.preventDefault(),g.setIsIncognito(!v))},[g,v]);f.useEffect(()=>(document.addEventListener("keydown",$e),()=>{document.removeEventListener("keydown",$e)}),[$e]);const tt=IRt(),at=!t&&!ee&&!K&&E,[xe,Oe]=f.useState(!1);return o.jsxs(Q,{variant:"transparent",className:W("group/sidebar relative z-10 hidden min-h-0 flex-none flex-row-reverse md:flex",{"duration-100":t}),children:[t&&o.jsx(Q,{variant:"background",className:"absolute inset-y-0 -right-px left-0"}),o.jsx(mEe,{isOpen:Pe&&!xe,title:Ee?.title??"closed",onPin:ie,pinned:B,onMouseEnter:pe,onMouseLeave:ge,appContentWrapperRef:e,actions:Ee?.actions,canPin:!t,accessory:Ee?.accessoryIcon&&o.jsx(it,{icon:Ee.accessoryIcon,onClick:Ee.accessoryClick,size:"tiny",toolTip:Ee.accessoryTooltip,tooltipLayout:"bottom"}),children:Ee?.menuComponent}),o.jsxs(Q,{variant:"transparent",style:{width:t1},className:"py-md relative flex h-full flex-col items-center",onMouseEnter:st,onMouseLeave:et,children:[o.jsx(ZF,{onLogoCopy:U,onBrandmarkCopy:z,onDownload:V,onClose:q,isOpen:H,children:o.jsx(Nt,{href:"/",className:W("mt-xs active:ease-outExpo block duration-100 ease-out active:scale-[0.97]",{"opacity-50 duration-100":t,"!opacity-100":t&&Pe}),onContextMenu:X,children:o.jsx(Ei,{variant:"mark",size:"small",includeEffects:!0})})}),o.jsxs("div",{className:W("pt-sm relative flex w-full flex-col items-center",{"opacity-0 transition-opacity duration-100":t,"opacity-100":t&&Pe}),children:[o.jsx(Le,{icon:$r,onClick:we,pill:!0,extraCSS:"my-lg hover:scale-105",toolTip:J({defaultMessage:"New Thread",id:"76XSxT3hV8"}),tooltipLayout:"right",testId:"sidebar-new-thread"}),Be.map(Qe=>o.jsx(SEe,{icon:Qe.icon,title:Qe.title,selected:se===Qe.id,hovered:r===Qe.id,href:Qe.href,onHover:()=>ce(Qe.id),onLeave:de,onClick:Ge=>{Qe.requireLogin&&!E?(Ge.preventDefault(),T({title:J({defaultMessage:"Focus your Perplexity experience in Spaces",id:"spZP/TobF9"}),origin:gt.SPACES_PAGE})):w(Qe.id)}},Qe.id))]}),o.jsxs("div",{className:"pb-sm gap-md mt-auto flex w-full min-w-0 flex-col items-center justify-center [&>*]:w-full",children:[o.jsx(CEe,{onOpen:Oe}),o.jsx(MEe,{showBottomLabels:tt}),re&&o.jsx(kEe,{}),tt&&o.jsx(EEe,{}),tt&&at&&o.jsx(RRt,{})]})]}),o.jsx(Uh,{message:$,variant:"success",isVisible:G,timeout:2})]})});AEe.displayName="SidebarV2";const FRt=({appContentWrapperRef:e,minimalMode:t})=>{const{isMobileStyle:n}=qe({evaluateOnInit:!0});return n?o.jsx(p_e,{}):o.jsx(AEe,{minimalMode:t,appContentWrapperRef:e})};function URt({children:e}){const t=f.useRef(null),{setContainer:n}=f.useContext($P),r=ln(),s=f.useMemo(()=>r?.startsWith("/b/"),[r]),a=f.useMemo(()=>r?.startsWith("/b/zen"),[r]);return o.jsx(Hgt,{ref:n,children:o.jsx(ZIe,{children:o.jsxs(rm,{children:[!a&&o.jsx(Wgt,{children:o.jsx(FRt,{minimalMode:s,appContentWrapperRef:t})}),o.jsx($gt,{hasSidebar:!a,ref:t,children:e})]})})})}const BRt=["Europe/Vienna","Europe/Brussels","Europe/Sofia","Europe/Zagreb","Asia/Famagusta","Asia/Nicosia","Europe/Prague","Europe/Copenhagen","Europe/Tallinn","Europe/Helsinki","Europe/Paris","Europe/Berlin","Europe/Busingen","Europe/Athens","Europe/Budapest","Europe/Dublin","Europe/Rome","Europe/Riga","Europe/Vilnius","Europe/Luxembourg","Europe/Malta","Europe/Amsterdam","Europe/Warsaw","Atlantic/Azores","Atlantic/Madeira","Europe/Lisbon","Europe/Bucharest","Europe/Bratislava","Europe/Ljubljana","Africa/Ceuta","Atlantic/Canary","Europe/Madrid","Europe/Stockholm"];function zre(){try{const e=Intl.DateTimeFormat().resolvedOptions().timeZone;return BRt.includes(e)||e.includes("Europe")}catch(e){return le.warn("Error detecting user timezone:",e),!0}}function REe(){const[e,t]=f.useState(!1),[n,r]=f.useState(!1),[s,a]=f.useState(!1);f.useEffect(()=>{const l=c=>{c?.detail?.consent==="ALLOW"?t(!0):t(!1)};return window.addEventListener("consentChange",l),()=>{window.removeEventListener("consentChange",l)}},[]),f.useEffect(()=>{if(!zre()){t(!0),r(!0);return}Wn($2)==="true"&&t(!0),r(!0)},[]),f.useEffect(()=>{!Wn($2)&&zre()&&a(!0)},[]);const i=()=>{a(!1)};return f.useMemo(()=>({hasConsent:e,checkedConsent:n,showCookieConsentPopup:s,closeCookieConsentPopup:i}),[n,e,s])}const VRt=L.memo(({closeCookieConsentPopup:e})=>{const{$t:t}=ae(),{locale:n}=ae(),r=f.useCallback(()=>{fn($2,"true",{expires:365}),window.dispatchEvent(new CustomEvent("consentChange",{detail:{consent:"ALLOW"}})),e()},[e]),s=f.useCallback(()=>{fn($2,"false",{expires:365}),e()},[e]);return o.jsx(ED,{modal:!1,open:!0,children:o.jsxs(TD,{children:[o.jsxs(qI,{children:[o.jsx(uC,{children:t({defaultMessage:"Cookie Policy",id:"cA0kQYQQMJ"})}),o.jsx(ND,{children:o.jsx(Ve,{defaultMessage:'We use cookies to enhance your experience. By clicking "Accept All Cookies" or selecting "Necessary Cookies", you agree to our privacy policy.',id:"VCSjJ9FhMu"})})]}),o.jsx(cC,{children:o.jsxs(Q,{id:"cookie-consent",variant:"background",className:"bottom-sm left-sm right-sm p-md fixed max-w-md rounded-lg border shadow-sm md:left-auto",children:[o.jsxs(F,{variant:"baseSemi",className:"gap-x-sm flex items-center",children:[o.jsx(Ne,{icon:VHe,size:"md"}),o.jsx("span",{children:t({defaultMessage:"Cookie Policy",id:"cA0kQYQQMJ"})})]}),o.jsx(F,{variant:"small",color:"light",className:"mb-4 text-sm",children:o.jsx(Ve,{defaultMessage:'We use cookies to enhance your experience. By clicking "Accept All Cookies" or selecting "Necessary Cookies", you agree to our <link>privacy policy</link>.',id:"ADl1M4/ost",values:{link:a=>o.jsx(Nt,{href:c2[n]?.privacyPolicy||c2.default.privacyPolicy,className:"underline hover:no-underline",target:"_blank",children:a})}})}),o.jsxs(Q,{className:"gap-x-sm flex items-center",children:[o.jsx(Le,{size:"small",variant:"primary",onClick:s,text:t({defaultMessage:"Necessary Cookies",id:"Wzr9ADvGqD"})}),o.jsx(Le,{size:"small",onClick:r,text:t({defaultMessage:"Accept All Cookies",id:"JyT5uF/dGC"})})]})]})})]})})}),LEe=br({path:"M21.23 7.134h-2.307V2.775a.772.772 0 0 0-.441-.697.795.795 0 0 0-.82.102l-4.893 4.072V1.775c0-.42-.348-.77-.769-.77-.42 0-.77.35-.77.77v4.487L6.339 2.18a.751.751 0 0 0-.82-.102.772.772 0 0 0-.441.697v4.36H2.769A.774.774 0 0 0 2 7.903v8.205c0 .42.349.77.77.77h2.307v4.359c0 .297.174.574.44.697a.73.73 0 0 0 .33.072.802.802 0 0 0 .491-.175l4.893-4.071v4.487c0 .42.348.77.769.77.42 0 .77-.35.77-.77V17.76l4.892 4.071a.802.802 0 0 0 .492.175.73.73 0 0 0 .328-.072.772.772 0 0 0 .441-.697v-4.36h2.308c.42 0 .769-.348.769-.769V7.903a.775.775 0 0 0-.77-.769Zm-3.845-2.718v2.718h-3.262l3.262-2.718Zm-10.77 0 3.262 2.718H6.615V4.416ZM3.538 15.34V8.673h6.606l-4.841 4.84a.768.768 0 0 0-.226.544v1.282H3.538Zm3.077.77v-1.734l4.616-4.615v5.99l-4.616 3.846v-3.488Zm10.77 3.487-4.616-3.847V9.76l4.616 4.616v5.22Zm3.076-4.257h-1.538v-1.282c0-.205-.082-.4-.226-.543l-4.84-4.841h6.605v6.666Z",name:"IconPerplexityMark",variant:"filled"}),OEe=({userIntercomHash:e,appId:t,data:n,reason:r})=>{const s=Ln(),a=Ct(),i=on(),{isPro:l,isMax:c}=cn(),{orgUser:u,isEnterprise:d}=Bn({reason:r}),h=f.useMemo(()=>{const v=s?{comet:!0}:{};return{l2wyozh0:{api_base:"https://api-iam.intercom.io",app_id:"l2wyozh0",name:i?.user?.name,email:i?.user?.email,user_hash:e??void 0,is_signed_in:a,is_pro_user:l,is_max_user:c,is_enterprise_user:d,account_type:u?.role,hide_default_launcher:!0,...n,...v},fl4pfvft:{api_base:"https://api-iam.intercom.io",app_id:"fl4pfvft",name:i?.user?.name,email:i?.user?.email,user_hash:e??void 0,is_signed_in:a,is_pro_user:l,is_max_user:c,is_enterprise_user:d,account_type:u?.role,hide_default_launcher:!0,...n,...v},cajnwzjn:{api_base:"https://api-iam.intercom.io",app_id:"cajnwzjn",name:i?.user?.name,email:i?.user?.email,user_hash:e??void 0,is_signed_in:a,is_pro_user:l,is_max_user:c,is_enterprise_user:d,account_type:u?.role,hide_default_launcher:!0,...n,...v}}},[i,e,n,s,l,c,d,u?.role,a]),m=f.useRef(void 0),g=f.useCallback(async()=>{m.current||(m.current=Me(async()=>{const{show:v,Intercom:x,shutdown:b,update:w}=await import("./index-5FFPV-FM.js").then(C=>C.i);return{show:v,Intercom:x,shutdown:b,update:w}},[]).then(({show:v,Intercom:x,shutdown:b,update:w})=>(x(h[t]),{show:v,update:w,shutdown:b}))),m.current.then(({show:v,update:x})=>{x(h[t]),v()})},[t,h]);return FC(()=>{m.current?.then(({shutdown:v})=>{v()})}),f.useMemo(()=>({show:g}),[g])};OEe.displayName="useIntercom";async function PEe(){const e=await fetch("/api/version",{method:"GET",headers:{"Content-Type":"application/json"}}),{version:t}=await e.json();return t}function IEe(){const{trackEvent:e}=Ye(),{locale:t}=ae(),[n,r]=f.useState(M5.includes(t)?t:Fd),s=bet();return s?M5.includes(s)?n!==s&&r(s):wet():n!==t&&M5.includes(t)&&r(t),f.useMemo(()=>({locale:n,saveLocale(a){r(a),xet(a),e("set locale cookie",{locale:a})}}),[n,e])}const zRt=e=>{};function HRt(e){const{onLanguageChange:t=zRt}=e,n=Qt(),{locale:r,saveLocale:s}=IEe(),{isMobileStyle:a}=qe(),i=f.useCallback(async u=>{s(u),t(u),await jF(),n.refresh("Interface language select")},[s,t,n]),l=f.useMemo(()=>qZe.map(u=>({text:u.label,value:u.locale,type:"default",onClick:()=>i(u.locale)})),[i]),c=f.useMemo(()=>l.find(u=>u.value===r)?.text,[l,r]);return o.jsx(Rn,{isMobileStyle:a,items:l,children:o.jsx("div",{className:"w-full md:w-[200px]",children:o.jsx(Le,{size:"small",chevron:!0,chevronIcon:Ia,text:c,layout:"split",fullWidth:!0,variant:"border",testId:"interface-language-select"})})})}const WRt=({hideOnNarrowScreens:e=!1,userIntercomHash:t})=>{const{$t:n}=ae(),{show:r}=OEe({appId:"l2wyozh0",userIntercomHash:t,reason:"helper-contact-support"}),{isMobileStyle:s}=qe(),{isWindowsApp:a}=sn(),{openModal:i}=Gt(),{locale:l}=ae(),{trackEvent:c}=Ye(),u=Bs(),d=n_e(),h=Su(),m=Ahe(),[g,v]=f.useState(),[x,b]=f.useState(!1);f.useEffect(()=>{m&&async function(){try{v(await PEe()??"")}catch{}}()},[m]);const w=l in c2?c2[l]:c2.default,C=f.useMemo(()=>m?[{type:"nested",text:"",label:"Internal (PPLX only)",isSubmenuOpen:x,onSubmenuOpen:()=>b(!0),onSubmenuClose:()=>b(!1),submenu:[{type:"default",text:"",label:g===void 0?"Loading current commit...":"Current commit: "+g,show:!0,href:g&&"https://github.com/ppl-ai/agi/commit/"+g,target:"_blank"},{type:"default",text:"",label:h?`Browser: ${h.browser_version}
Extension: ${h.extension_version}
Agent Extension: ${h.agent_extension_version}`:"Browser info is not defined",show:!!h}]}]:[],[m,g,x,h]),S=d?"https://www.perplexity.ai/comet/gettingstarted":"https://www.perplexity.ai/hub/getting-started#what-is-perplexity",k=f.useCallback(()=>{u.showFeedbackForm()},[u]),E=f.useMemo(()=>[{icon:d?dm:LEe,text:n({defaultMessage:"Get started",id:"/aBLH2Kytu"}),show:!0,href:S,target:"_blank",onClick(){c("help menu item clicked",{href:S,isCometHome:d})}},{icon:gw,text:n({defaultMessage:"FAQ",id:"W8nHSdskn0"}),show:d,href:"http://comet-help.perplexity.ai/en",target:"_blank",onClick(){c("help menu item clicked",{href:"http://comet-help.perplexity.ai/en",isCometHome:d})}},{icon:hY,text:n({defaultMessage:"Report an Issue",id:"C8l3hRgoLu"}),show:d,onClick:k},{icon:gw,text:n({defaultMessage:"Help center",id:"BYkLO/XERT"}),show:!d,href:"https://www.perplexity.ai/hub/helpcenter",target:"_blank",onClick(){c("help menu item clicked",{href:"https://www.perplexity.ai/hub/helpcenter",isCometHome:d})}},{icon:aWe,text:n({defaultMessage:"Changelog",id:"MQcAqlXZ5R"}),show:!d,href:"https://www.perplexity.ai/changelog",target:"_blank",onClick(){c("help menu item clicked",{href:"https://www.perplexity.ai/changelog",isCometHome:d})}},{icon:uI,text:n({defaultMessage:"Blog",id:"tv5FG3fVPd"}),show:!d,href:"/blog",target:"_blank",onClick(){c("help menu item clicked",{href:"/blog",isCometHome:d})}},{icon:_5,text:n({defaultMessage:"Keyboard shortcuts",id:"vzYPVXl4by"}),show:!a,onClick(){i("keyboardShortcutHelperModal",null),c("help menu item clicked",{action:"shortcut modal",isCometHome:d})}},{icon:_5,text:n({defaultMessage:"Keyboard shortcuts",id:"vzYPVXl4by"}),show:a,onClick(){i("keyboardShortcutEditorModal",null),c("help menu item clicked",{action:"shortcut modal",isCometHome:d})}},{icon:EF,text:n({defaultMessage:"{pplx} {pro}",id:"QDSn6QIReR"},{pplx:"Perplexity",pro:"Pro"}),show:!0,href:"/pro",target:"_blank",onClick(){c("help menu item clicked",{href:"/pro",isCometHome:d})}},{icon:pg,text:n({defaultMessage:"Enterprise",id:"CDLJ0Wjq0x"}),show:!0,href:"/enterprise",target:"_blank",onClick(){c("help menu item clicked",{href:"/enterprise",isCometHome:d})}},{icon:vw,text:n({defaultMessage:"Sonar API",id:"m21oy6OJo7"}),show:!0,href:"https://sonar.perplexity.ai/",target:"_blank",onClick(){c("help menu item clicked",{href:"https://sonar.perplexity.ai/",isCometHome:d})}},{icon:jWe,text:n({defaultMessage:"Contact Support",id:"YdQxfwJ5wQ"}),show:!0,onClick(){r()}},{type:"separator",show:!0},{text:"",label:n({defaultMessage:"Careers",id:"yJ1ORHjbX8"}),show:!0,href:"https://www.perplexity.ai/careers",target:"_blank",onClick(){c("help menu item clicked",{href:"https://www.perplexity.ai/careers",isCometHome:d})}},{text:"",label:n({defaultMessage:"Terms of service",id:"FqgDIVw4jF"}),show:!0,href:w.termsOfService,target:"_blank",onClick(){c("help menu item clicked",{href:w.termsOfService,isCometHome:d})}},{text:"",label:n({defaultMessage:"Privacy policy",id:"cPwv2cbzf2"}),show:!0,href:w.privacyPolicy,target:"_blank",onClick(){c("help menu item clicked",{href:w.privacyPolicy,isCometHome:d})}},...C],[n,w,c,i,a,C,d,S,r,k]),T=f.useCallback(()=>{i("keyboardShortcutEditorModal",null),c("help menu item clicked",{action:"shortcut modal"})},[i,c]),j=f.useCallback(()=>{m&&i("bugReportModal",null)},[i,m]),N=f.useMemo(()=>E.map(R=>({type:"default",...R})),[E]);return o.jsx("div",{className:W("bottom-md right-md m-sm fixed hidden",!e&&"md:block",e&&"lg:block"),children:o.jsxs("div",{className:"gap-sm flex items-center",children:[m&&o.jsx(Le,{toolTip:"Report a bug",ariaLabel:n({defaultMessage:"Internal: Report a bug",id:"mD23B8Qy5J"}),size:"small",pill:!0,variant:"rejecter",icon:hY,onClick:j}),o.jsxs("div",{className:"relative",children:[o.jsx(Le,{toolTip:"Change language",icon:bWe,ariaLabel:n({defaultMessage:"Language",id:"y1Z3orIe9Z"}),size:"small",pill:!0,variant:"border",extraCSS:"shadow-subtle "}),o.jsx("div",{className:"absolute left-0 top-0 opacity-0",children:o.jsx(HRt,{})})]}),a&&o.jsx("div",{className:"hidden lg:block",children:o.jsx(Le,{toolTip:"Keyboard shortcuts",ariaLabel:n({defaultMessage:"Keyboard shortcuts",id:"vzYPVXl4by"}),size:"small",pill:!0,variant:"border",extraCSS:"shadow-subtle ",icon:_5,onClick:T})}),o.jsx(Rn,{popoverProps:{childrenClassName:"block"},placement:"top-end",isMobileStyle:s,onOpen:()=>c("help menu opened",{}),items:N,children:o.jsx(Le,{toolTip:"Learn more",ariaLabel:n({defaultMessage:"Help menu",id:"HzUkaMxHjy"}),variant:"border",extraCSS:"shadow-subtle ",size:"small",pill:!0,icon:VWe})})]})})};var pN={},gN={},Hre;function $Rt(){return Hre||(Hre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="mobile-screen-button",r=384,s=512,a=["mobile-alt"],i="f3cd",l="M64 448c0 8.8 7.2 16 16 16l224 0c8.8 0 16-7.2 16-16l0-80L64 368l0 80zm0-128l256 0 0-256c0-8.8-7.2-16-16-16L80 48c-8.8 0-16 7.2-16 16l0 256zM16 64C16 28.7 44.7 0 80 0L304 0c35.3 0 64 28.7 64 64l0 384c0 35.3-28.7 64-64 64L80 512c-35.3 0-64-28.7-64-64L16 64zM192 392a24 24 0 1 1 0 48 24 24 0 1 1 0-48z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faMobileScreenButton=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(gN)),gN}var Wre;function qRt(){return Wre||(Wre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=$Rt();e.definition={prefix:t.prefix,iconName:t.iconName,icon:[t.width,t.height,t.aliases,t.unicode,t.svgPathData]},e.faMobileAlt=e.definition,e.prefix=t.prefix,e.iconName=t.iconName,e.width=t.width,e.height=t.height,e.ligatures=t.aliases,e.unicode=t.unicode,e.svgPathData=t.svgPathData,e.aliases=t.aliases}(pN)),pN}var GRt=qRt();const DEe=({extraCss:e="",variant:t="offset"})=>o.jsx(Q,{variant:t,className:W("shimmer aspect-square w-[144px] rounded-lg",e)}),YRt=()=>Ds.getItem("mobilePopupDismissed")!=="true",KRt=()=>Ds.setItem("mobilePopupDismissed","true"),QRt=De(()=>Me(()=>import("./AppDownloadQR-Cu5CYv8J.js"),__vite__mapDeps([87,1,3])),{loading:()=>o.jsx(DEe,{})}),XRt=L.memo(({})=>{const{$t:e}=ae(),[t,n]=f.useState(!1),r=ln(),{trackEvent:s}=Ye(),{keysRequiringRerender:a,removeKeyRequiringRerender:i}=of(),l=XF(r);if(f.useEffect(()=>{a.includes("floating-mobile-download")&&n(YRt()&&!l),i("floating-mobile-download")},[a,l,i]),f.useEffect(()=>{t&&s("floating mobile download shown",{})},[t,s]),!t)return null;const c=()=>{n(!1),KRt(),s("floating mobile download dismissed",{})};return o.jsx(Q,{variant:"background",className:"bottom-md right-md p-md animate-in fade-in fixed z-30 hidden w-[350px] rounded-lg border shadow-sm duration-300 ease-out md:block",children:o.jsxs("div",{className:"",children:[o.jsx("div",{className:"absolute right-0 top-0",children:o.jsx(it,{pill:!0,size:"small",icon:yn,onClick:c})}),o.jsx("div",{className:"pb-md flex justify-center",children:o.jsx(F,{variant:"section-title",className:"text-center",color:"super",children:o.jsx(jt,{icon:GRt.faMobileAlt,size:"2x"})})}),o.jsx(F,{variant:"section-title",className:"text-center",children:e({defaultMessage:"Open on the Perplexity mobile app",id:"QENIXgASKx"})}),o.jsx(F,{className:"text-center",children:e({defaultMessage:"Scan now to install",id:"niKvT5U+3I"})}),o.jsx("div",{className:"mt-sm flex items-center justify-center",children:o.jsx(Q,{className:"p-xs rounded-md shadow-md",children:o.jsx(QRt,{})})})]})})});function ZRt({reason:e}){const{organization:t}=Bn({reason:e}),n=t?.uuid??"",r=ln(),{value:s}=vs({flag:"helper-disabled",subjectType:"user_nextauth_id",defaultValue:!1,extraAttributes:{orgUuid:n}}),a=r?.startsWith("/apps/"),i=r?.startsWith("/b/zen");return s||a||i}function JRt({useCase:e}){return Ft({queryKey:["userIntercomHash",e],queryFn:()=>{const t=new URLSearchParams;return t.set("useCase",e),fetch(`/api/intercom?${t.toString()}`).then(n=>n.json())}})}function FEe({}){const t=ln(),n=XF(t),{isMobileUserAgent:r}=qe();return!r&&!n&&!1}const Jf=e=>`milestone-progress-dismissed-${e}`,$re="milestone-success-modal-dismissed",eLt=({reason:e})=>{const[t,n]=f.useState(!1),r=Vt(),{keysRequiringRerender:s,removeKeyRequiringRerender:a}=of(),i=FEe({}),{trackEvent:l,trackEventOnce:c}=Ye(),{locale:u,$t:d}=ae(),{hasAccessToProFeatures:h}=cn(),{update:m}=Jo.useSession(),{openModal:g}=Gt(),{data:v}=Ft({queryKey:["milestone-progress"],queryFn:()=>lpt({locale:u,reason:e}),enabled:i});f.useEffect(()=>{if(v?.progress_display?.length&&v.progress_display.every(Boolean)&&!h){if(_t.getItem($re))return;g("proMessageModal",{origin:gt.MILESTONE_ACHIEVED,title:v?.promotion_display.success_modal,buttonText:d({defaultMessage:"Get Started",id:"9QXm1EW9qz"})}),_t.setItem($re,"true"),setTimeout(()=>{m()},1e3)}},[v?.progress_display,v?.promotion_display.success_modal,h,g,m,d]),f.useEffect(()=>{},[s,r,a,i]),f.useEffect(()=>{Ds.getItem(Jf("session"))||_t.getItem(Jf("lifetime"))||v&&!v.is_eligible&&v.has_incentive},[v,i,c]),f.useEffect(()=>{const b=v?.progress_display.filter(w=>w).length;b&&b>1&&!v.has_incentive&&(Ds.removeItem(Jf("session")),_t.removeItem(Jf("lifetime")))},[v]);const x=f.useCallback(()=>{if(!v)return;l("milestone progress widget dismissed",{progressCount:v?.progress_display.filter(Boolean).length,requiredCount:v?.progress_display.length,hasIncentive:v?.has_incentive}),n(!1),Ds.setItem(Jf("session"),"true");const b=v?.progress_display.filter(w=>w).length;b&&b<=1&&_t.setItem(Jf("lifetime"),"true"),v?.has_incentive&&_t.setItem(Jf("lifetime"),"true")},[v,l]);return f.useMemo(()=>({show:t,handleClose:x,data:v}),[v,x,t])},tLt=L.memo(()=>{const e="floating-milestone-progress",{show:t,handleClose:n,data:r}=eLt({reason:e}),{title:s,description:a}=f.useMemo(()=>r?r.has_incentive?{title:r.promotion_display.title_complete,description:r.promotion_display.description_complete}:r.progress_display.includes(!0)?{title:r.promotion_display.title_progress,description:r.promotion_display.description_progress}:{title:r.promotion_display.title_start,description:r.promotion_display.description_start}:{title:"",description:""},[r]);return!t||!r||!r?.is_eligible?null:o.jsxs(Q,{variant:"offset",className:"p-sm animate-in fade-in border-background-300 fixed bottom-[20px] right-[20px] w-[216px] rounded-lg border duration-300 ease-out",children:[o.jsx("img",{src:"/static/images/student-referral-banner-floating.jpg",alt:"Student Referral Banner",className:"bg-background-300 h-full w-full rounded-lg object-cover",style:{aspectRatio:"600/350"}}),o.jsx("div",{className:"right-sm top-sm absolute",children:o.jsx(it,{pill:!0,variant:"noBackground",size:"small",icon:yn,extraCSS:"text-textMainDark md:hover:text-textOff ",onClick:n})}),o.jsxs("div",{className:"p-xs mt-sm",children:[o.jsx(F,{variant:"baseSemi",children:s}),o.jsx(F,{variant:"small",color:"light",className:"mt-xs",children:a}),o.jsx("div",{className:"mt-xs flex flex-row justify-between",children:r.progress_display.map((i,l)=>o.jsx("div",{className:"gap-xs py-xs flex flex-col items-center",children:i?o.jsx(F,{color:"super",children:o.jsx(Ne,{size:"lg",icon:Lce})}):o.jsxs(F,{className:"relative",children:[o.jsx(Ne,{size:"lg",className:"fill-background-300",icon:Oce}),o.jsx(F,{variant:"tinyRegular",color:"light",className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 transform",children:l+1})]})},l))})]})]})});tLt.displayName="FloatingMilestoneProgress";const nLt=()=>{const{value:e}=Fs({flag:"student-referral-prizes",defaultValue:!1});return e};var rLt=(e=>(e.GIVE_10_GET_10="GIVE_10_GET_10",e.SPRING_2025="SPRING_2025",e.GIVE_1_MONTH_FREE="GIVE_1MO_GET_1MO",e))(rLt||{});const sLt={EMAIL_ALREADY_REGISTERED:"Promo not valid for existing users",INVALID_REFERRAL_CODE:"Invalid referral code",UNKNOWN:"An unknown error occurred",INVALID_EMAIL:"Please enter a valid student email",INVALID_EMAIL_GIVE_10:"Please enter a valid non-edu email address",EMAIL_RATE_LIMIT_EXCEEDED:"Too many emails sent to this address"},aLt=async({email:e,reason:t})=>{try{const{data:n,error:r}=await me.GET("/rest/referrals/validate-email",t,{params:{query:{email:e}},timeoutMs:ut()});if(r)throw new Error("Failed to validate referral email");return{valid:n.is_valid,error:!1}}catch(n){return le.error("Failed to validate referral email",n),{valid:!1,error:!0}}},YXt=async({toEmail:e,referralType:t,reason:n})=>{try{const{error:r}=await me.POST("/rest/referrals/send-referral-email",n,{body:{to_email:e,referral_type:t},timeoutMs:8e4});return r?{success:!1,error:r.detail?.[0]?.msg||r.detail}:{success:!0,error:null}}catch(r){return le.error("Failed to send referral email",r),{success:!1,error:sLt.UNKNOWN}}},iLt=async({headers:e,email:t,reason:n})=>{const{data:r,error:s}=await me.GET("/rest/referrals/",n,{headers:e,params:{query:{email:t}}});if(s)throw new Error("Failed to get user referral status");return r},B6=e=>`https://plex.it/referrals/${e}`,KXt=({userEmail:e,reason:t})=>{const[n,r]=f.useState(!1),[s,a]=f.useState(null),{trackEvent:i}=Ye(),l=f.useCallback(async()=>{if(s){const c=B6(s);await navigator.clipboard.writeText(c),i("referral link copied",{referralLink:c}),r(!0),setTimeout(()=>{r(!1)},2e3)}else try{const c=await iLt({email:e,reason:t});a(c.code);const u=B6(c.code);await navigator.clipboard.writeText(u),i("referral link copied",{referralLink:u}),r(!0),setTimeout(()=>{r(!1)},2e3)}catch(c){le.error("Error fetching referral code:",c)}},[s,e,i,t]);return f.useMemo(()=>({isCopied:n,handleCopyLink:l,copyButtonProps:{text:n?"Copied":"Copy link",icon:n?Pa:hx,onClick:l}}),[n,l])},QXt="/static/images/referrals-landing-wide.jpeg",oLt=(e,t)=>{const n=t?"Get rewards like hoodies, laptops, and more.":"";return e.formatMessage({defaultMessage:"Earn 1 month of Pro for each friend you refer. {prizeText}",id:"vWjWyq4Feg"},{prizeText:n})},lLt=({email:e,reason:t})=>{const{data:n}=Ft({queryKey:["user_student"],queryFn:()=>aLt({email:e,reason:t}),enabled:!!e});return f.useMemo(()=>({isStudent:n?.valid}),[n?.valid])},cLt=({reason:e})=>{const n=on()?.user?.email??"",{isStudent:r}=lLt({email:n??"",reason:e}),{value:s,loading:a}=Fs({flag:"spring-2025-referrals-promo",defaultValue:!0});return{isSpringReferralPromoEnabled:!a&&s,isStudent:r}},UEe=({reason:e})=>{const t=On(),n=ii(),r=ln(),{isSpringReferralPromoEnabled:s,isStudent:a}=cLt({reason:e});return!t.isStudentReferralBannerDismissed&&n&&r==="/"&&s&&a},uLt=L.memo(({})=>{const e="floating-referral-invite",t=On(),n=ae(),[r,s]=f.useState(!1),{referralCode:a}=Ua({reason:e}),i=UEe({reason:e}),{trackEvent:l,trackEventOnce:c}=Ye(),u=nLt();f.useEffect(()=>{c("referral widget shown",{})},[c]),f.useEffect(()=>{let m;return r&&(l("referral link copied",{referralLink:B6(a)}),m=setTimeout(()=>{s(!1)},2e3)),()=>{clearTimeout(m)}},[r,a,l]);const d=f.useCallback(()=>{t.actions.setIsStudentReferralBannerDismissed(!0),l("referral widget dismissed",{})},[t.actions,l]),h=f.useCallback(()=>{navigator.clipboard.writeText(B6(a)),s(!0)},[a]);return i?o.jsx(oi,{fallback:null,children:o.jsxs(je.div,{className:"p-md m-lg bg-background-200 gap-md fixed bottom-0 right-0 hidden max-w-[300px] grid-cols-1 rounded-xl shadow-md md:grid",initial:{opacity:0,y:0},animate:{opacity:1,y:0},transition:{duration:.5},children:[o.jsx("img",{src:"/static/images/student-referral-banner-floating.jpg",alt:"Student Referral Banner",className:"bg-background-300 h-full w-full rounded-lg object-cover",style:{aspectRatio:"528/240"}}),o.jsx("div",{className:"right-sm top-sm absolute",children:o.jsx(it,{pill:!0,variant:"offset",size:"small",icon:yn,extraCSS:"md:hover:text-textOff ",onClick:d})}),o.jsxs("div",{children:[o.jsx(F,{variant:"baseSemi",className:"text-center",children:n.formatMessage({id:"N+fXKkoM0w",defaultMessage:"Get up to 24 months of Pro"})}),o.jsx(F,{className:"text-200 text-center text-xs",color:"light",children:oLt(n,u)})]}),o.jsxs("div",{className:"gap-xs flex flex-col",children:[a&&o.jsx(Le,{variant:"primaryGhost",fullWidth:!0,size:"small",icon:r?oce:hx,onClick:h,text:r?n.formatMessage({id:"p556q3uvbn",defaultMessage:"Copied"}):n.formatMessage({id:"TDGT3/Z5vf",defaultMessage:"Copy your link"})}),o.jsx(it,{variant:"common",fullWidth:!0,size:"small",href:"/referrals",text:n.formatMessage({id:"TdTXXf940t",defaultMessage:"Learn more"})})]})]})}):null}),dLt=()=>{const e="floating-components",t=Ct(),n=FEe({});Br({enabled:!t});const{showCookieConsentPopup:r,closeCookieConsentPopup:s}=REe(),a=ZRt({reason:e}),i=f.useRef(null),{inApp:l}=US(),c=UEe({reason:e}),u=ln(),{data:d}=JRt({useCase:"default"});if(l)return null;if(!r&&c)return o.jsx(uLt,{});const h=d?.userIntercomHash??null;return o.jsxs(o.Fragment,{children:[!a&&h&&o.jsx(WRt,{hideOnNarrowScreens:u?.includes("/search"),userIntercomHash:h}),!t&&!r&&o.jsx("div",{ref:i,children:o.jsx(Ud,{isCometSidecar:!0,isWindowsApp:!0,children:o.jsx(_0t,{portalTarget:i.current??void 0},"floating-signup")})}),t&&o.jsx(Ud,{isCometSidecar:!0,isWindowsApp:!0,children:o.jsx(XRt,{})}),r&&o.jsx(VRt,{closeCookieConsentPopup:s}),t&&n]})},fLt=["49a618ae-2fee-4bac-9150-81c466a49187"];let qre=!1;const hLt=performance.now();function BEe(e,t){if(qre)return;const n="4705c1a2-db1e-42f0-8a66-cd6208ae9e65",r="pub4ecf63e3fd1ad28de1a9027c01181601",s=e.version,a=e.env??"local",i=Su(),l=t?.email?.endsWith("@perplexity.ai"),c=a==="local",u=a==="testing"||c||i||l?100:2,d=c||l?100:2;if(!fLt.includes(t?.org_uuid??"")){YPe({ddApplicationId:n,ddClientToken:r,version:s,env:a,debug:c,sessionSampleRate:100,sessionReplaySampleRate:d}),KPe({ddClientToken:r,version:s,env:a,debug:c,sessionSampleRate:u});const m=typeof navigator<"u"&&"serviceWorker"in navigator&&!!navigator.serviceWorker.controller;if(sq({useServiceWorker:m}),aq({useServiceWorker:m}),i){const g={cometAgentExtensionVersion:i?.agent_extension_version,cometDeviceId:i.device_id,cometMainExtensionVersion:i.extension_version,cometVersion:i?.browser_version};sq(g),aq(g)}$c("web.frontend.module_exec_start",{startTime:performance.timeOrigin,duration:hLt})}qre=!0}function mLt(){const{data:e,status:t}=Jo.useSession();f.useLayoutEffect(()=>{t!=="loading"&&BEe(ga(),e?.user)},[e?.user,t])}const pLt=["/library","^\\/search(?:\\/(?<new>new))?(?:\\/(?<uuid>.+))?$","/b/home","/b/speak","/b/zen","/spaces","/spaces/templates","/spaces/:slug","/page/:slug","/discover","/discover/:topic","/discover/:topic/:slug","/academic","/shopping","/hotels/:slug","/crypto","/perplexify_me","/sports/f1/events/:eventId","/sports/f1","/sports/nba/events/:eventId","/sports/nba/teams/:teamId","/sports/nba/players/:playerId","/sports/nba","/sports/nfl/events/:eventId","/sports/nfl/teams/:teamId","/sports/nfl/players/:playerId","/sports/nfl","/sports/championsleague/events/:eventId","/sports/championsleague","/sports/mlb/events/:eventId","/sports/mlb","/sports/ipl","/sports/cricket/events/:eventId","/sports/pga/events/:eventId","/sports/pga","/sports/wnba/events/:eventId","/sports/wnba","/sports/ncaam/events/:eventId","/sports/ncaam","/sports/ncaaw/events/:eventId","/sports/ncaaw","/sports/wta/events/:eventId","/sports/atp/events/:eventId","/travel","/finance/all-tickers/:page","/finance/:symbol/financials","/finance/:symbol/history","/finance/:symbol/research","/finance/:symbol/earnings","/finance/:symbol","/finance","/"],VEe=L.memo(function(){const t="stripe-wrapper",n=wn(),r=n?.get("stripe_checkout"),s=n?.get("referral_status");return f.useLayoutEffect(()=>{(r||s)&&xF({reason:t})},[r,s]),null});VEe.displayName="StripeStatusRefresher";const zEe=L.memo(function({children:t}){const{trackEvent:n}=Ye(),r=ln(),s=wn(),[a,i]=f.useState(null),{colorScheme:l}=ba(),c=f.useCallback(d=>d==="/search"&&s?.get("newFrontendContextUUID")||d.startsWith("/page/new")&&s?.get("newFrontendContextUUID")||d==="/search/new",[s]),u=f.useCallback(d=>{if((d?.split("?")[0]??"")===(a?.split("?")[0]??"")||c(d))return;const m=a;i(d),n("pageview",{internalReferrer:m??void 0,colorScheme:l})},[l,c,a,n]);return f.useEffect(()=>{r&&u(r)},[u,r]),o.jsx(o.Fragment,{children:t})});zEe.displayName="PageviewTemplate";const lV=L.memo(()=>o.jsxs(o.Fragment,{children:[o.jsx("script",{id:"reddit-pixel-script",src:"/pixel/reddit.js",async:!0}),o.jsx("script",{id:"facebook-pixel-script",src:"/pixel/meta.js",async:!0}),o.jsx("script",{id:"podscribe-pixel-script",src:"/pixel/podscribe.js",async:!0}),o.jsx("script",{id:"amazon-twitch-pixel-script",src:"/pixel/amazon.js",async:!0})]}));lV.displayName="AfterInteractivePixels";const HEe=async({cometBrowser:e,type:t,locale:n})=>{const r=await e.getPersonalSuggestions({source:"ntp",type:t,locale:n},"get-personal-suggestions");return r.is_success?r.suggestions:[]},gLt=async(e,t)=>{const n=await HEe(e);return n.length<=t?n:aue(n).slice(0,t)},vLt=({cometBrowser:e,type:t,locale:n})=>{const{data:r=[]}=Ft({queryKey:["comet-personal-suggests-async",t,n],queryFn:async()=>aue(await HEe({cometBrowser:e,type:t,locale:n})),staleTime:3e5,gcTime:3e5});return r},WEe=L.memo(e=>{const{$t:t}=ae(),n=Qt(),r=f.useCallback(()=>{n.push("/browser/invite")},[n]);return o.jsx(Le,{...e,icon:lI,text:t({defaultMessage:"Invites",id:"Wy+IdbkBFc"}),onClick:r})});WEe.displayName="NTPInviteButton";const yLt=({entropyBrowser:e,isSidecar:t,focusInput:n})=>{f.useEffect(()=>{if(!e||!t)return;const r=()=>{document.visibilityState==="visible"&&n()},s=e.subscribeQuickActionButtonFired(()=>{n()});return document.addEventListener("visibilitychange",r),()=>{s(),window.removeEventListener("visibilitychange",r)}},[e,n,t])},$Ee=L.memo(function(t){const{children:n,condition:r,Wrapper:s,...a}=t;return r?o.jsx(s,{...a,children:n}):n});$Ee.displayName="ConditionalWrapper";var vN={},Gre;function xLt(){return Gre||(Gre=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="box-open",r=640,s=512,a=[],i="f49e",l="M17.2 125.5c-9 17.9 .6 39.6 19.8 45.1l163.3 46.7c13.9 4 28.8-1.9 36.2-14.3L320 64 75.2 33.4c-6.7-.8-13.3 2.7-16.3 8.7L17.2 125.5zM320 64l83.4 139c7.4 12.4 22.3 18.3 36.2 14.3l163.3-46.7c19.3-5.5 28.8-27.2 19.8-45.1L581.1 42.1c-3-6.1-9.6-9.6-16.3-8.7L320 64zm-1.1 64l2.2 0s0 0 0 0l-2.2 0s0 0 0 0zM528 225.3l0 153.2-184 46L344 184c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 240.5-184-46 0-153.2L64 211.6l0 167c0 22 15 41.2 36.4 46.6l204.1 51c10.2 2.5 20.9 2.5 31 0l204.1-51c21.4-5.3 36.4-24.5 36.4-46.6l0-167-48 13.7z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faBoxOpen=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(vN)),vN}var bLt=xLt();let Pv=0;function wLt(e,t,n=!1){const[r,s]=f.useState(!1),[a,i]=f.useState(!1),l=f.useCallback(v=>{v.preventDefault()},[]),c=f.useCallback(v=>{v?.dataTransfer?.types.includes("Files")&&(v.preventDefault(),s(!0),Pv++)},[]),u=f.useCallback(v=>{v.preventDefault(),Pv=Math.max(0,Pv-1),Pv===0&&s(!1)},[]),d=f.useCallback(v=>{v.preventDefault(),s(!1),i(!1),Pv=0,!t&&n&&v.dataTransfer?.items.length&&e(v.dataTransfer.items)},[t,e,n]),h=f.useCallback(v=>{v?.dataTransfer?.types.includes("Files")&&(v.preventDefault(),i(!0))},[]),m=f.useCallback(v=>{v.preventDefault(),i(!1)},[]),g=f.useCallback(v=>{v.preventDefault(),s(!1),i(!1),!t&&!n&&v?.dataTransfer?.items.length>0&&e(v.dataTransfer.items)},[t,e,n]);return f.useEffect(()=>(document.addEventListener("dragover",l),document.addEventListener("dragenter",c),document.addEventListener("dragleave",u),document.addEventListener("drop",d),()=>{document.removeEventListener("dragover",l),document.removeEventListener("dragenter",c),document.removeEventListener("dragleave",u),document.removeEventListener("drop",d)}),[l,c,u,d]),f.useMemo(()=>({isDraggingFile:r,isFileOver:a,rootProps:{onDragOver:h,onDragLeave:m,onDrop:g}}),[m,h,g,r,a])}const _Lt=L.memo(({onDrop:e,disabled:t=!1,children:n,dropZoneClassName:r,dropLabel:s,dropIcon:a=bLt.faBoxOpen,allowDropAnywhere:i=!1,...l})=>{const{$t:c}=ae(),{isDraggingFile:u,isFileOver:d,rootProps:h}=wLt(e,t,i),m=s??c(i?{defaultMessage:"Dropped files appear here.",id:"9WR4elgZix"}:{defaultMessage:"Drop your files here.",id:"llIM82nPs+"});return o.jsxs("div",{className:"relative",...h,...l,children:[u&&t?o.jsx(Q,{className:W("absolute inset-0 z-20 flex items-center justify-center rounded border-2 border-dashed border-gray-300 bg-gray-100",{"!border-caution":d},r?.(u,d)),children:o.jsxs(F,{color:"red",children:[o.jsx(jt,{icon:a,className:"mr-2"}),"Drop zone disabled"]})}):u?o.jsxs(o.Fragment,{children:[o.jsx(Q,{variant:"background",className:"absolute inset-0 z-20 rounded opacity-80"}),o.jsx(Q,{className:W("gap-x-sm animate-in fade-in absolute inset-0 z-20 flex items-center justify-center rounded-2xl border-2 border-dashed transition-all duration-200",{"!border-super":d},r?.(u,d)),children:o.jsxs(F,{color:"super",children:[o.jsx(jt,{icon:a,className:"mr-2"}),m]})})]}):null,n]})});function CLt(){const{value:e}=mD({flag:"enable-audio-video-uploads-attachments",subjectType:"user_nextauth_id",defaultValue:"False"});return f.useMemo(()=>({isAudioVideoFilesEnabled:e==="True"}),[e])}function SLt(){const{value:e}=vs({flag:"async-file-attachments-v2",defaultValue:!1,subjectType:"user_nextauth_id"});return e}const MLt=1e4,V6=["autosuggest"],kLt=()=>{const{isMobile:e}=sn(),t=Vt();return f.useCallback(n=>{const r=t.getQueryData(V6),s=t.getQueryData([...V6,n]);if(s?.length&&s.length===e1(e))return s;if(r){const a=n.replace(/\s+/g,"").toLocaleLowerCase(),i=[];for(const d of r){if(e&&d.url)continue;const[h,m]=Jpe(a,d);if(h&&(i.push([m,d]),i.length===e1(e)))break}const l=i.sort(([d],[h])=>d-h).map(([d,h])=>h),[c,u]=iR(l,e,n);if(s?.length){const d=[...s];for(const h of c)if(!d.find(m=>m.query===h.query)&&(d.push(h),d.length===e1(e)))break;return iR(d,e,n)[1]}return u}return Fe},[e,t])},ELt=()=>{const{suggestions:e}=La(),{setSuggestions:t}=Ho(),n=f.useRef(e);n.current=e;const r=Vt(),s=kLt(),a=f.useRef(!1),{isMobile:i}=sn(),l=f.useRef(null),c=f.useRef(null),u=f.useRef([]),d=f.useRef({lastMessageID:0}),h=f.useCallback((x,b=!1)=>{const w=s(x);!b&&!w.length||(n.current.length!==w.length||MQe(n.current,w,"query").length!==w.length)&&(n.current=w,t(w))},[s,t]),m=f.useCallback(x=>{try{const b=new WebSocket("wss://suggest.perplexity.ai/suggest/ws");b.onopen=()=>{x?.()},b.onmessage=w=>{let C;try{if(C=JSON.parse(w.data),C.length!==4){le.error("Invalid autosuggest message",C);return}}catch(I){le.error("Error parsing autosuggest message",I);return}const[S,k,E,T]=C,j=parseInt(E),N=pmt(T),[R,O]=iR(N,i);if(r.setQueryData(V6,(I=Fe)=>R.length?iue([...R,...I],"query").sort((B,D)=>B.query.localeCompare(D.query)):I),r.setQueryData([...V6,S],O),j===d.current.lastMessageID&&a.current&&h(S,!0),d.current[j]){const I=performance.now()-d.current[j];u.current.push(I)}},l.current=b}catch(b){le.error("Error connecting to autosuggest socket",b)}},[i,h,r]),g=f.useCallback(()=>{c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{l.current&&(l.current.close(),l.current=null)},MLt)},[]);f.useEffect(()=>(m(),g(),()=>{l.current&&l.current.close(),c.current&&clearTimeout(c.current)}),[m,g]);const v=f.useCallback((x,b=!0)=>{if(a.current=!!x,!a.current)return;h(x);const w=[WebSocket.OPEN,WebSocket.CONNECTING];if(!l.current||!w.includes(l.current.readyState)){b&&m(()=>{v(x,!1)});return}else g();const C=d.current.lastMessageID+1,S=C.toString();d.current.lastMessageID=C;try{const k=JSON.stringify({q:x,uuid:S,full_completion:!0});if(l.current.readyState===WebSocket.CONNECTING)return;l.current.send(k),d.current[C]=performance.now()}catch(k){le.error("Error sending query for autosuggest",k)}},[m,g,h]);return f.useEffect(()=>{const x=setInterval(()=>{u.current.length!==0&&(cet({latencies:u.current,isMobile:i}),u.current=[])},umt);return()=>clearInterval(x)},[i]),f.useMemo(()=>({handleUpdateAutosuggestions:v}),[v])},TLt=({fileUploadRef:e,showFileUpload:t,attachments:n,setAttachments:r,handleChange:s,setIsUploadingFile:a,focusInput:i})=>{const{inputRef:l}=La(),c=jU(),[u,d]=f.useState(null),h=f.useCallback(w=>{const C=n===void 0?"paste.txt":`paste-${n.length+1}.txt`,S=new File([w],C,{type:"text/plain"}),k=new DataTransfer;k.items.add(S),d({content:w,fileName:C}),s(""),e.current?.uploadFiles(k.files)},[n,s,e]),m=f.useCallback(()=>{d(null)},[]),g=f.useCallback(w=>{const C=w.clipboardData;if(C&&C.items.length>0){const k=new DataTransfer;for(let E=0;E<C.items.length;E++){const T=C.items[E];if(T.kind==="file"){w.preventDefault();const j=T.getAsFile();j&&k.items.add(j)}if(T.type==="text/plain"){const j=w.clipboardData.getData("Text");j.length>dh&&(w.preventDefault(),s(j),h(j))}}e.current?.uploadFiles(k.files)}const S=!!w.currentTarget;requestAnimationFrame(()=>{l.current&&(l.current.trim(),s(l.current.value,l.current.json),S&&(l.current.focusAtEnd(),l.current.scrollToEnd()))})},[e,s,l,h]),v=f.useCallback(w=>{s(w),l.current?.focus()},[s,l]),x=f.useCallback(w=>{a(!1),w.length>0?(r(w),i()):r(void 0)},[a,r,i]),b=f.useCallback(async w=>{const C=new DataTransfer;for(let S=0;S<w.length;S++){const k=w[S];if(k.kind==="file"){const E=k.webkitGetAsEntry();if(!E)continue;if(Fme(E)){const T=k.getAsFile();T&&C.items.add(T)}else if(Ume(E)){const T=await cut(E);for(const j of T)C.items.add(j)}}if(k.type==="text/plain"&&k.getAsString(E=>{E.length>dh?(s(E),h(E)):l.current&&(l.current.append(E),s(l.current.value,l.current.json))}),C.items.length>c)break}e.current?.uploadFiles(C.files)},[e,l,s,c,h]);return f.useEffect(()=>{t||(r(void 0),d(null))},[t,r]),f.useMemo(()=>({handlePaste:g,handlePasteQuery:v,handleCompleteFileUpload:x,handleFileSelect:b,autoCreatedTextFile:u,dismissNotification:m,setAutoCreatedTextFile:d}),[x,b,g,v,u,m])},cV=[".txt",".pdf",".docx",".pptx",".xlsx",".md",".csv"],uV=[".txt",".pdf",".jpg",".jpeg",".png",".docx",".pptx",".xlsx",".md",".csv"],dV=[".mp3",".wav",".aiff",".ogg",".flac",".mp4",".mpeg",".mov",".avi",".flv",".mpg",".webm",".wmv",".3gp"],Yre=27,NLt=2e4;let yN=!1,Ac=null;const jLt=()=>{const e=f.useRef(null),t=f.useRef(null);let n="";typeof window<"u"&&(window.location.hostname==="localhost"?n=`${window.location.protocol}//${window.location.hostname}:${window.location.port}/account/connectors`:n=`${window.location.protocol}//${window.location.hostname}/account/connectors`);const r=(c,u)=>u?c==="sharepoint"?u:u+"-my":null,s=f.useCallback(async(c,u)=>{u.success=!1;const d=r(c.connector,c.tenantName);u.tenant=d,Ac||(Ac=await(await Me(()=>import("./index-BD2Jf2r2.js"),__vite__mapDeps([88,1]))).PublicClientApplication.createPublicClientApplication({auth:{authority:d?"https://login.microsoftonline.com/common":"https://login.microsoftonline.com/consumers",clientId:c.clientId,redirectUri:n},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!0}}));const h=d?[`https://${d}.sharepoint.com/.default`]:["OneDrive.ReadWrite"];u.scopes=h;const m={scopes:h,login_hint:c.loginHint,prompt:"select_account"};let g=null,v=Ac.getActiveAccount();if(v||(v=Ac.getAllAccounts().find(b=>b.username===c.loginHint)??null),u.hasActiveAccount=!!v?.username,v)try{Ac.setActiveAccount(v),g=(await Ac.acquireTokenSilent(m)).accessToken}catch(x){u.silentAcquisitionError=x instanceof Error?x.toString():x}if(!g&&!yN)try{yN=!0;const x=await Ac.loginPopup(m);Ac.setActiveAccount(x.account),g=(await Ac.acquireTokenSilent(m)).accessToken}catch(x){u.interactiveAcquisitionError=x instanceof Error?x.toString():x}finally{yN=!1}else g||(u.interactiveAuthenticationSkipped=!0);if(g)return u.success=!0,u.accessTokenLength=g.length,g;throw Error("Access token not acquired")},[n]),a=f.useCallback(c=>{const u=r(c.connector,c.tenantName);let d=c.mode==="source"?cV:uV;d=c.isAudioVideoFilesEnabled?d.concat(dV):d;const h={sdk:"8.0",messaging:{origin:n,channelId:Yre},authentication:{},entry:c.connector==="sharepoint"?{sharePoint:{}}:{oneDrive:{}},typesAndSources:{mode:c.mode==="attachment"?"files":"all",filters:d,pivots:{recent:!1,oneDrive:!1,sharedLibraries:!1}},selection:{mode:"multiple"}},m=new URLSearchParams({filePicker:JSON.stringify(h)});return c.webUrl?`${c.webUrl}/_layouts/15/FilePicker.aspx?${m}`:u?`https://${u}.sharepoint.com/_layouts/15/FilePicker.aspx?${m}`:`https://onedrive.live.com/picker?${m}`},[n]),i=f.useCallback(async c=>{const u=C=>{window.removeEventListener("message",m),t.current?.removeEventListener("message",h),t.current?.close(),e.current?.close(),C?c.onError?.(C):c.onCancel?.()},d=async(C,S)=>await new Promise((k,E)=>{const T=setTimeout(()=>{E(new Error("Request timed out"))},NLt);s(C,S).then(j=>{clearTimeout(T),k(j)}).catch(j=>{clearTimeout(T),E(j)})}),h=async C=>{const S={};switch(C.data.type){case"command":t.current?.postMessage({type:"acknowledge",id:C.data.id});const k=C.data.data;switch(k.command){case"authenticate":try{const E=await d(c,S);t.current?.postMessage({type:"result",id:C.data.id,data:{result:"token",token:E}})}catch(E){S.errorStep="authenticateCommand",S.error=E instanceof Error?E.toString():E,u(E)}finally{c.log?.(c.connector.toUpperCase(),S)}break;case"pick":t.current?.postMessage({type:"result",id:C.data.id,data:{result:"success"}}),c.onPicked?.(k.items),u();break;case"close":u();break;default:u();break}break}},m=async C=>{if(C.source&&C.source===e.current){const S=C.data;S.type==="initialize"&&S.channelId===Yre&&(t.current=C.ports[0],t.current.addEventListener("message",h),t.current.start(),t.current.postMessage({type:"activate"}))}};let g;const v={};try{g=await s(c,v)}catch(C){v.errorStep="initialization",v.error=C instanceof Error?C.toString():C,u(C);return}finally{c.log?.(c.connector.toUpperCase(),v)}const x=document.getElementById("microsoft-file-picker");if(!x){u();return}if(e.current=x.contentWindow,!e?.current){u();return}const b=e.current.document.createElement("form");b.setAttribute("action",a(c)),b.setAttribute("method","POST"),e.current.document.body.append(b);const w=e.current.document.createElement("input");w.setAttribute("type","hidden"),w.setAttribute("name","access_token"),w.setAttribute("value",g),b.appendChild(w),e.current.document.body.appendChild(b),b.submit(),window.addEventListener("message",m)},[s,a]),l=f.useCallback((c,u)=>{let d;if(c.parentReference.sharepointIds?.siteId&&u==="sharepoint"){const m={item_id:c.id,drive_id:c.parentReference.driveId,site_id:c.parentReference.sharepointIds.siteId};d=JSON.stringify(m)}else d=c.id;const h=RC(c.name);return h?{id:d,name:c.name,sizeBytes:c.size,mimeType:rR[h]}:null},[]);return f.useMemo(()=>({openPicker:i,toPickerDocument:l}),[i,l])},aO="box-file-picker",ALt="0";let t5=null,Kre=!1;const RLt=()=>t5||(t5=new Promise((e,t)=>{const n=document.createElement("link");n.rel="stylesheet",n.href="https://cdn01.boxcdn.net/platform/elements/17.1.0/en-US/picker.css";const r=document.createElement("script");r.src="https://cdn01.boxcdn.net/platform/elements/17.1.0/en-US/picker.js",r.onload=()=>{if(!Kre){const s=document.createElement("style");s.textContent=`
                .be .be-header input[type="search"] {
                    background: white;
                }

                .btn-content {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                }
            `,document.head.appendChild(s),Kre=!0}e()},r.onerror=t,n.onload=()=>document.body.appendChild(r),document.head.appendChild(n)}),t5),LLt=({apiKey:e,mode:t,isAudioVideoFilesEnabled:n,onPicked:r,onCancel:s,onError:a})=>{const i=f.useRef(null),l=f.useCallback(async(u="file")=>{try{if(await RLt(),!document.getElementById(aO)){a?.("Attempted to open picker when container isn't ready");return}let h=t==="source"?cV:uV;h=n?h.concat(dV):h;const m=[...h,".gdocs",".gsheets",".gslides"];i.current&&(i.current.removeListener("choose",r),i.current.removeListener("cancel",s),i.current.hide(),i.current=null);let g;u==="folder"?g=new window.Box.FolderPicker:g=new window.Box.FilePicker,i.current=g,g.addListener("choose",r),g.addListener("cancel",s),g.show(ALt,e,{container:`#${aO}`,logoUrl:j_,extensions:m.join(","),canUpload:!1,canSetShareAccess:!1,canCreateNewFolder:!1,chooseButtonLabel:"Select",cancelButtonLabel:"Cancel"})}catch(d){a?.(d);return}},[e,a,t,s,r,n]),c=f.useCallback(()=>{i.current&&(i.current.removeListener("choose",r),i.current.removeListener("cancel",s),i.current.hide(),i.current=null)},[r,s]);return f.useMemo(()=>({openPicker:l,cleanupPicker:c}),[l,c])},OLt=({clientId:e})=>{const[t,n]=f.useState(!1);f.useEffect(()=>{if(!e)return;const s=document.createElement("script");return s.src="https://www.dropbox.com/static/api/2/dropins.js",s.id="dropboxjs",s.setAttribute("data-app-key",e),s.onload=()=>n(!0),s.onerror=()=>n(!1),document.body.appendChild(s),()=>{const a=document.getElementById("dropboxjs");a&&document.body.removeChild(a)}},[e]);const r=f.useCallback(s=>{if(!t)return;let a=s.mode==="source"?cV:uV;a=s.isAudioVideoFilesEnabled?a.concat(dV):a,window.Dropbox.choose({success:s.onPicked,error:i=>s.onError?.(i),multiselect:!0,extensions:a,folderselect:s.mode==="source"})},[t]);return f.useMemo(()=>({isReady:t,openPicker:r}),[t,r])};function PLt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function ILt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var DLt=typeof window<"u";function iO(e){if(e){if(e.tagName==="BODY")return e;if(e.tagName==="IFRAME"){var t=e.contentDocument;return t?t.body:null}else if(!e.offsetParent)return null}else return null;return iO(e.offsetParent)}function Qre(e){var t=e||window.event;return t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}var Xre=DLt&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),pp=new Map,Zre=typeof document=="object"?document:void 0,n5=!1;const FLt=Zre?function(t,n){t===void 0&&(t=!0);var r=f.useRef(Zre.body);n=n||r;var s=function(i){var l=pp.get(i);l?pp.set(i,{counter:l.counter+1,initialOverflow:l.initialOverflow}):(pp.set(i,{counter:1,initialOverflow:i.style.overflow}),Xre?n5||(PLt(document,"touchmove",Qre,{passive:!1}),n5=!0):i.style.overflow="hidden")},a=function(i){var l=pp.get(i);l&&(l.counter===1?(pp.delete(i),Xre?(i.ontouchmove=null,n5&&(ILt(document,"touchmove",Qre),n5=!1)):i.style.overflow=l.initialOverflow):pp.set(i,{counter:l.counter-1,initialOverflow:l.initialOverflow}))};f.useEffect(function(){var i=iO(n.current);i&&(t?s(i):a(i))},[t,n.current]),f.useEffect(function(){var i=iO(n.current);if(i)return function(){a(i)}},[])}:function(t,n){},ULt=["https://www.googleapis.com/auth/userinfo.profile","https://www.googleapis.com/auth/userinfo.email","https://www.googleapis.com/auth/drive.readonly","https://www.googleapis.com/auth/drive.metadata.readonly"].join(" "),BLt=["application/vnd.google-apps.file","application/vnd.google-apps.folder","application/vnd.google-apps.document","application/vnd.google-apps.presentation","application/vnd.google-apps.spreadsheet","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain","application/pdf","text/csv","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/markdown"],VLt=["text/plain","application/pdf","text/csv","text/markdown","image/png","image/jpeg","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.google-apps.document","application/vnd.google-apps.presentation","application/vnd.google-apps.spreadsheet"],zLt=["audio/mpeg","audio/wav","audio/aiff","audio/ogg","audio/flac","audio/mp3","video/mp4","video/mpeg","video/mov","video/avi","video/x-flv","video/mpg","video/webm","video/wmv","video/3gpp","video/quicktime"],HLt=({clientId:e,apiKey:t,loginHint:n,isAudioVideoFilesEnabled:r,onError:s})=>{const[a,i]=f.useState(!1),[l,c]=f.useState(!1);FLt(l);const u=f.useCallback(()=>{s?.()},[s]);f.useEffect(()=>{const m=document.createElement("script");m.src="https://apis.google.com/js/api.js",m.id="google-drive-picker-gapi-script",m.onload=()=>{const g=document.createElement("script");g.src="https://accounts.google.com/gsi/client",g.id="google-drive-picker-gis-script",g.onload=()=>{window.gapi.load("picker",{callback:()=>i(!0),onerror:()=>{i(!1),u()}})},g.onerror=()=>{i(!1),u()},document.body.appendChild(g)},m.onerror=()=>{i(!1),u()},document.body.appendChild(m)},[u]);const d=f.useCallback((m,g)=>{const v=window.google?.picker,x=b=>{b.action===v.Action.PICKED?g.onPicked&&g.onPicked(b.docs??Fe):(b.action===v.Action.CANCEL||b.action===v.Action.ERROR)&&(b.action===v.Action.CANCEL&&g.onCancel&&g.onCancel(),c(!1))};if(a&&v)try{const b=new v.DocsView().setIncludeFolders(!0).setSelectFolderEnabled(!0).setMode(v.DocsViewMode.LIST),w=new v.ViewGroup(b);let C=g.mode==="source"?BLt:VLt;C=r?C.concat(zLt):C,new v.PickerBuilder().setSize(1051,650).addViewGroup(w).setSelectableMimeTypes(C.join(",")).enableFeature(v.Feature.MULTISELECT_ENABLED).setOAuthToken(m).setDeveloperKey(t).setCallback(x).build().setVisible(!0),c(!0)}catch{u()}},[a,t,u,r]),h=f.useCallback(m=>{window.google.accounts.oauth2.initTokenClient({client_id:e,login_hint:n,scope:ULt,prompt:"none",callback:v=>{if(v.error!==void 0)throw new Error(v.error);try{d(v.access_token,m)}catch(x){console.log(x)}}}).requestAccessToken()},[d,e,n]);return f.useMemo(()=>({openPicker:h,isReady:a}),[h,a])};function WLt(e){return e.every(t=>t instanceof File)}const $Lt=({fileInputRef:e,isSignedIn:t,uploadRateLimit:n,maxFilesUpload:r,maxImageFilesUpload:s,attachmentTokenEstimationParams:a,forwardedRef:i,existingAttachments:l,showPrivacyWarning:c,connectorsMap:u,onFilePickerOpen:d,onStart:h,onComplete:m,openLoginModal:g,openPricingModal:v,openCompanyDataPrivacyModal:x,closeModal:b,openVisitorLoginUpsell:w,openMicrosoftPicker:C,closeMicrosoftPicker:S,errorMicrosoftPicker:k,toPickerDocument:E,setUploadRateLimit:T,isFollowUp:j,isClearAttachmentsEnabled:N=!1,forceImage:R,refreshBoxCredentials:O,logMicrosoft:I,asyncAttachmentsEnabled:B=!1,setUploadsReady:D,getImageUrl:z,isAudioVideoFilesEnabled:V=!1,reason:U,incompleteParsingEnabled:H=!1,isImageAttachmentResizingEnabled:q=!1,maxAttachmentFileSize:$=Mze})=>{const{$t:G}=ae(),[K,ee]=f.useState(null),[oe,ne]=f.useState(null),[te,re]=f.useState([]),[X,ce]=f.useState(te&&te.length>0?"success":"idle"),[se,J]=f.useState(null),de=`${Math.round($/1024/1024)}MB`,ie=f.useCallback(async(Se,ht,ct)=>{if(!Si(Se))return null;const mt=ct?{type:ct}:void 0,vt=J_(Se)?Se:await z?.(Se)??Se;if(!vt)return new File([],ht,mt);try{const Lt=await(await fetch(vt)).blob();return new File([Lt],ht,mt)}catch{return new File([],ht,mt)}},[z]);f.useEffect(()=>{N?re([]):(async()=>{const ht=await Promise.all((l??Fe).map(async ct=>{const mt=_K(ct.split("/").pop()||"file"),vt=L5(ct);let Bt=new File([],mt,{type:vt}),Lt;if(Si(Bt)){const kn=await ie(ct,mt,vt);Bt=kn??Bt,Lt=kn?URL.createObjectURL(kn):void 0}return{id:qr(),file:Bt,nextURL:ct,status:"success",thumbnailSource:Lt}}));re(ht)})()},[N,l,ie]),f.useEffect(()=>{if(!D)return;if(!B||!te.length){D(!0);return}const Se=ct=>H?ct.status==="parsing"||ct.status==="success"||ct.status==="failed":ct.status==="success"||ct.status==="failed",ht=te.every(Se);D(ht)},[te,B,D,H]),f.useImperativeHandle(i,()=>({uploadFiles:Se=>tt(Array.from(Se)),clearFiles:he}));const he=f.useCallback(()=>{re([]),ce("idle"),m?.([]),e.current?.value&&(e.current.value=""),J(null)},[e,m]),pe=f.useCallback((Se,ht)=>{re(ct=>{let mt=ct;return Se?mt=ct.filter(vt=>vt.nextURL!==Se):ht&&(mt=ct.filter(vt=>!vt.nextURL?.includes(ht))),mt.length===0&&ce("idle"),m?.(mt.filter(vt=>!!vt.nextURL).map(vt=>({url:vt.nextURL??"",file:vt.file,resizedFile:vt.resizedFile}))??[]),mt}),e.current?.value&&(e.current.value="")},[e,m]),ge=f.useCallback(Se=>{ne(null),ee(Se??G(To[w2.generic_upload_error])),te?.length&&ce("success")},[G,te?.length]),Ce=f.useCallback(()=>{if(!g)return;const Se=G({defaultMessage:"Sign in to upload files and photos",id:"gEOi1eLJ7C"}),ht=G({defaultMessage:"Analyze files and photos for free",id:"nu4bK5/Y5T"});w?w({title:Se,description:ht,origin:gt.FILE_UPLOAD,sheetModalVariant:j?"bottom-sheet-gradient":"full-sheet"}):g({origin:gt.FILE_UPLOAD,pitchMessage:{title:Se,description:ht}})},[G,j,g,w]),we=f.useCallback(()=>{if(!v)return;const Se=G({defaultMessage:"Want more uploads?",id:"iInvIJ0Dv/"}),ht=G({defaultMessage:"Upgrade access for paid subscribers",id:"bBawtPaete"});v({pitchMessage:{title:Se,description:ht},origin:gt.FILE_UPLOAD})},[G,v]),Pe=f.useCallback(async(Se,ht)=>{let ct;B?ct=await H2t({request:{file_uuids:[Se]},reason:U}):ct={file_uuid:Se,success:!0,error_code:null};const mt=ct.success?"success":"failed";mt==="failed"?(ge(G(To[ct.error_code??eR.parsing_error],{filename:ht})),re(vt=>vt.filter(Bt=>Bt.file_uuid!==Se))):re(vt=>[...(vt??[]).map(Bt=>Bt.file_uuid===Se?{...Bt,status:mt}:Bt)])},[ge,B,G,U]),ot=f.useCallback(Se=>Se instanceof File&&QG.includes(Se.type)||!(Se instanceof File)&&Se.mimeType&&QG.includes(Se.mimeType)?G(To[w2.unsupported_type]):Se instanceof File&&Se.size>$||!(Se instanceof File)&&Se.sizeBytes&&Se.sizeBytes>$?G(To[w2.too_large],{max:de}):Se instanceof File&&Se.size<KG||!(Se instanceof File)&&Se.sizeBytes&&Se.sizeBytes<KG?G(To.too_small):Se.name?null:G(To.no_name),[G,de,$]),Be=f.useCallback(async(Se,ht,ct,mt,vt,Bt)=>{if(!Se.ok){ge(),le.warn(`[localAttachmentUpload] upload failed for ${Bt}, response=${Se}`);return}let Lt=null;try{const hn=await Se.json();if(hn?.moderation?.[0]?.status==="rejected"){ge(G(To.failed_moderation)),le.warn(`[localAttachmentUpload] upload failed moderation for ${Bt}, response=${Se}`);return}Lt=lA(hn?.eager?.[0]?.secure_url??hn?.secure_url)}catch{Lt=`${ct}${mt}`.replace("${filename}",`${ht.name}`)}if(!Lt){ge();return}const kn=f2(Lt)?"success":"parsing";re(hn=>hn.map(_r=>_r.id===vt?{..._r,nextURL:Lt,file_uuid:Bt,status:kn}:_r)),ce("success"),J("local"),Bt&&kn=="parsing"&&await Pe(Bt,ht.name)},[ge,G,Pe]),Ee=f.useCallback(async(Se,ht,ct)=>{if(!Se?.success){ge();return}if(Se.rate_limited){we(),ge(G(To.rate_limited));return}if(!Se.filename||!Se.url){ge();return}const mt=Se.url&&f2(Se.url)?lA(Se.url):_K(Se.url),vt=L5(mt);console.log(Se.url,Se.filename,vt);const Bt=await ie(Se.url,Se.filename,vt),Lt=f2(Se.url)?"success":"parsing";re(kn=>kn.map(hn=>hn.id===ct?{...hn,file:Bt??hn.file,nextURL:mt,file_uuid:Se.file_uuid??void 0,status:Lt,thumbnailSource:Bt?URL.createObjectURL(Bt):void 0}:hn)),ce("success"),J(ht),Se.file_uuid&&Lt=="parsing"&&await Pe(Se.file_uuid,Se.filename)},[ie,ge,we,G,Pe]),st=f.useCallback(async(Se,ht)=>{if(Se?.rate_limited){we(),ge(G(To.rate_limited));return}if(!Se||!Se.fields||!Se.s3_bucket_url){ge();return}bpe(ht)&&re(mt=>mt.map(vt=>vt.id===ht.id?{...vt,thumbnailSource:URL.createObjectURL(ht.file)}:vt));const ct=new FormData;Object.entries(Se.fields).forEach(([mt,vt])=>{ct.append(mt,vt)}),ct.append("file",ht.file);try{const mt=await fetch(Se.s3_bucket_url,{method:"POST",body:ct});await Be(mt,ht.file,Se.s3_bucket_url,Se.fields.key,ht.id,Se.file_uuid??void 0)}catch(mt){le.warn(`[localAttachmentUpload] upload failed for ${Se.file_uuid} with error=${mt}`),ge()}},[we,ge,G,Be]),et=f.useCallback(Se=>{const ht=Se.filter(mt=>mt.status==="success").reduce((mt,vt)=>{const Bt=vt.file.type,Lt=Bt.split("/")[0],kn=a?.type_subtype_bytes_per_token?.[Bt],hn=a?.type_bytes_per_token?.[Lt],_r=a?.default_bytes_per_token,Gr=kn??hn??_r,os=vt.file.size,wa=Gr?os/Gr:0;return mt+wa},0),ct=a?.max_total_tokens;return ct&&ht>ct},[a]);f.useEffect(()=>{if(!te.length)return;te.every(ht=>ht.status==="success"||ht.status==="failed")&&et(te)&&ne(G({defaultMessage:"Performance may be degraded for larger files.",id:"xwKpaJzWgU"}))},[te,et,G,K]);const $e=f.useCallback((Se,ht,ct)=>{if(WLt(Se)){let mt=0;Promise.all(Se.map(async vt=>{const Bt=ot(vt);if(Bt){ge(Bt);return}let Lt=vt;if(Si(vt))try{q&&(Lt=await Kdt(vt))}catch{le.warn(`Unable to resize image file: ${vt.name}`)}const kn={id:qr(),file:Lt,status:"uploading"};re(_r=>[..._r??[],kn]);const hn=await bU({file:Lt,fileSource:ct,forceImage:R,reason:U});st(hn,kn),mt++})).then(()=>{n&&n>0&&T&&T(mt)})}else ht&&Se.forEach(mt=>{const vt=ot(mt);if(vt)ge(vt);else{const Bt=L5(mt.name??""),Lt=new File([""],mt.name??"",{type:Bt}),kn={id:mt.id,file:Lt,status:"uploading"};re(hn=>[...hn??[],kn]),z2t({remote_file_id:mt.id,connection_type:ht.toUpperCase(),reason:U}).then(hn=>{Ee(hn,ht,kn.id)})}})},[n,T,ot,R,U,ge,q,st,Ee]),tt=f.useCallback((Se,ht,ct)=>{if(!(!Se||Se.length===0)){if(ct!==qP){if(!t){Ce();return}if(n&&n<=0){we();return}if(Se.length+(te?.length??0)>r){ee(G(To.over_file_count,{maxNumFiles:r}));return}{let mt=(te??[]).filter(vt=>vt.file.type.indexOf("image")>=0).length;for(const vt of Se)("type"in vt&&vt.type.indexOf("image")>=0||vt?.mimeType?.includes("image"))&&(mt+=1);if(mt>s){ee(G(To.over_image_count,{maxNumImages:s}));return}}}h?.(),ce("loading"),$e(Se,ht,ct)}},[t,n,te,r,$e,h,Ce,we,s,G]),{openPicker:at,isReady:xe}=HLt({clientId:u?.google_drive?.picker_credentials?.client_id??"",apiKey:u?.google_drive?.picker_credentials?.api_key??"",loginHint:u?.google_drive?.connection_display_name??"",isAudioVideoFilesEnabled:V}),[Oe,Qe]=f.useState(!1),[Ge,ze]=f.useState(""),Ze=f.useCallback(()=>Qe(!1),[]),St=f.useCallback(Se=>{const ht=Se.map(ct=>({id:ct.id,name:ct.name,sizeBytes:ct.size,mimeType:rR[ct.extension]}));tt(ht,"box"),Ze()},[tt,Ze]),{openPicker:It,cleanupPicker:Jt}=LLt({apiKey:(Ge||u?.box?.picker_credentials?.api_key)??"",mode:"attachment",isAudioVideoFilesEnabled:V,onPicked:St,onCancel:Ze}),dt=f.useCallback(async()=>{const Se=u?.box?.picker_credentials?.expires_at??"";if(Se&&O){const ht=new Date(Se);if(isNaN(ht.getTime())){Qe(!0);return}if(ht<new Date){const mt=await O();ze(mt?.api_key??"")}}Qe(!0)},[u?.box?.picker_credentials?.expires_at,O]);f.useEffect(()=>{Oe&&It()},[Oe,It]);const ft=f.useCallback((Se,ht)=>{if(!E||ht!=="onedrive"&&ht!=="sharepoint")return;const ct=Se.map(mt=>E(mt,ht)).filter(mt=>mt!==null);tt(ct,ht),S?.()},[E,tt,S]),{openPicker:Et}=OLt({clientId:u?.dropbox?.picker_credentials?.client_id??""}),an=f.useCallback(Se=>{const ht=Se.map(ct=>{const mt=RC(ct.name);return mt?{id:ct.id,name:ct.name,sizeBytes:ct.bytes,mimeType:rR[mt]}:null}).filter(ct=>ct!==null);tt(ht,"dropbox")},[tt]),zn=f.useCallback(()=>ge(G({defaultMessage:"Unable to retrieve files from connector.",id:"4seKuUP1Wo"})),[ge,G]),er=f.useCallback((Se,ht)=>{if(Se=="google_drive"&&xe)at({mode:"attachment",onPicked:ct=>tt(ct,Se)});else if(Se==="onedrive"||Se==="sharepoint"){const ct=u?.[Se];C?.({connector:Se,clientId:ct?.picker_credentials?.client_id??"",tenantName:ct?.picker_credentials?.tenant_name??"",loginHint:ct?.connection_display_name??"",webUrl:ht,mode:"attachment",isAudioVideoFilesEnabled:V,onPicked:mt=>ft(mt,Se),onError:k,onCancel:S,log:I})}else Se==="dropbox"?Et({mode:"attachment",isAudioVideoFilesEnabled:V,onPicked:an,onError:zn}):Se=="box"&&dt()},[xe,u,at,tt,C,ft,S,k,Et,an,zn,dt,I,V]),Rt=f.useCallback(Se=>{x&&x(()=>{b?.(),!Se||Se==="local"?(e.current?.click(),d?.()):er(Se)})},[e,b,x,er,d]),Xt=f.useCallback(Se=>{if(!t){Ce();return}if(n&&n<=0){we();return}if(c&&!Wn(Fj)){Rt(Se),fn(Fj,"true",{expires:30});return}!Se||Se==="local"?(e.current?.click(),d?.()):er(Se)},[t,n,c,e,Ce,we,Rt,er,d]);return f.useEffect(()=>{let Se=null;return oe&&(Se=setTimeout(()=>{ne(null)},Sze)),()=>{Se&&clearTimeout(Se)}},[oe]),f.useEffect(()=>{te&&m?.(te.filter(Se=>!!Se.nextURL).map(Se=>({url:Se.nextURL??"",file:Se.file,resizedFile:Se.resizedFile})))},[te,m]),f.useMemo(()=>({errorMessage:K,warningMessage:oe,uploadedFiles:te,uploadSource:se,status:X,fileInputRef:e,handleClearFiles:he,handleRemoveFile:pe,handleStartUpload:Xt,handleFileInput:tt,handleOpenLoginModal:Ce,handleOpenPricingModal:we,isBoxOpen:Oe,onCloseBox:Ze,cleanupBoxPicker:Jt,setErrorMessage:ee}),[K,oe,te,se,X,e,he,pe,Xt,tt,Ce,we,Oe,Ze,Jt])};function qLt(){const{value:e}=Sg({flag:"attachment-token-estimation-params",defaultValue:{max_total_tokens:5e5,type_bytes_per_token:{text:4,image:500},type_subtype_bytes_per_token:{"application/pdf":200,"application/msword":500,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":500,"application/vnd.openxmlformats-officedocument.presentationml.presentation":500},default_bytes_per_token:100},subjectType:"user_nextauth_id"});return e}function GLt({reason:e}){const t=Vt();return Kt({mutationFn:()=>yct({reason:e}),onSuccess:()=>{t.invalidateQueries({queryKey:["get_user_settings"]})}})}function YLt({reason:e}){return Kt({mutationFn:async({connectionType:t,content:n})=>{await xct({connectionType:t,content:n,reason:e})}})}const KLt=({reason:e})=>{const t=ae(),[n,r]=f.useState(!1),[s,a]=f.useState(null),{openToast:i}=Sr(),{openPicker:l,toPickerDocument:c}=jLt(),{mutateAsync:u}=YLt({reason:e}),d=f.useCallback(x=>{r(!0),a(x),x.connector=="onedrive"&&l(x)},[r,a,l]),h=f.useCallback(()=>{r(!1),a(null)},[r,a]),m=f.useCallback(x=>{le.error("A Microsoft file picker error occured:",x),h(),i(t.formatMessage({defaultMessage:"{formattedName} is not responding. Please try again later.",id:"oF/tZmXBik"},{formattedName:Gze}),"error",5)},[h,i,t]),g=f.useCallback((x,b)=>{u({connectionType:x,content:b})},[u]),v=f.useCallback(x=>{s&&(a({...s,webUrl:x}),l({...s,webUrl:x}))},[s,l]);return f.useMemo(()=>({onOpen:d,onClose:h,onError:m,onSelectSite:v,toPickerDocument:c,log:g,isOpen:n,options:s}),[n,g,h,m,d,v,s,c])};function QLt(){const{value:e}=vs({flag:"resize-image-attachments",defaultValue:!1,subjectType:"user_nextauth_id"});return e}const XLt=({fileUploadRef:e,disablePrivacyWarning:t,isAudioVideoFilesEnabled:n,isClearAttachmentsEnabled:r,isFollowUp:s,existingAttachments:a,organization:i,lastResult:l,onStartFileUpload:c,onCompleteFileUpload:u,setUploadsReady:d,reason:h,incompleteParsingEnabled:m=!1})=>{const g=f.useRef(null),{openModal:v,closeModal:x}=Gt(),b=jU(),w=qLt(),{value:C}=vs({flag:"async-attachment-processing",defaultValue:!1,subjectType:"user_nextauth_id"}),S=QLt(),k=Ct(),{openVisitorLoginUpsell:E}=Br({enabled:!k}),{hasDataRetentionWarning:T,connectorLimits:j}=Ua({reason:h}),{connectorsMap:N}=QS({reason:h}),{uploadRateLimit:R,setUploadRateLimit:O}=Mr(),I=f.useCallback(X=>v("loginModal",X),[v]),B=f.useCallback(X=>v("pricingModal",X),[v]),D=f.useCallback(X=>v("companyDataPrivacyModal",{organizationName:i?.display_name??"",onContinue:X}),[v,i]),{onOpen:z,onClose:V,onError:U,toPickerDocument:H,options:q,onSelectSite:$,isOpen:G,log:K}=KLt({reason:h}),{mutateAsync:ee}=GLt({reason:h}),{getCachedImageDownloadUrl:oe,getImageDownloadUrl:ne}=KC({reason:h}),te=f.useCallback(async X=>l?.backend_uuid?await ne({url:X,thread_id:l.backend_uuid}):oe(X),[oe,ne,l?.backend_uuid]),re=$Lt({fileInputRef:g,isSignedIn:k,uploadRateLimit:R,maxFilesUpload:b,maxImageFilesUpload:Cze,attachmentTokenEstimationParams:w,forwardedRef:e,showPrivacyWarning:T&&!t,existingAttachments:a,connectorsMap:N,onStart:c,onComplete:u,openLoginModal:I,openPricingModal:B,openCompanyDataPrivacyModal:D,closeModal:x,openVisitorLoginUpsell:E,openMicrosoftPicker:z,closeMicrosoftPicker:V,errorMicrosoftPicker:U,toPickerDocument:H,setUploadRateLimit:O,isFollowUp:s,isClearAttachmentsEnabled:r,refreshBoxCredentials:ee,logMicrosoft:K,asyncAttachmentsEnabled:C,setUploadsReady:d,getImageUrl:te,isAudioVideoFilesEnabled:n,reason:h,incompleteParsingEnabled:m,isImageAttachmentResizingEnabled:S,maxAttachmentFileSize:j?.max_attachment_file_size});return f.useMemo(()=>({...re,fileInputRef:g,microsoftFilePickerOptions:q,handleSelectSharepointSite:$,isMicrosoftFilePickerOpen:G,onCloseMicrosoft:V}),[re,$,G,q,V])},ZLt=({setInput:e,isSidecar:t})=>{const n=wn();f.useEffect(()=>{if(!n||!t)return;const r=n.get("p_q");r&&e(r)},[n,t,e])};function JLt(){return Intl.DateTimeFormat().resolvedOptions().timeZone}async function XXt({body:e,reason:t}){try{const n=await me.POST("/rest/realtime/session",t,{timeoutMs:ut({productionMs:5e3}),numRetries:1,body:e,headers:{"content-type":"application/json"}});return n.response.ok?{data:n.data,status:n.response.status,error:null}:{status:n.response.status,error:`Failed to get realtime session: ${n.response.statusText}`}}catch(n){return le.error("Failed to get realtime session",n),{data:null,status:500,error:`Failed to get realtime session: ${n}`}}}async function eOt({body:e,reason:t}){try{const n=await me.POST("/rest/realtime/transcription-session",t,{timeoutMs:ut({productionMs:5e3}),numRetries:1,body:e,headers:{"content-type":"application/json"}});return n.response.ok?{data:n.data,status:n.response.status,error:null}:{status:n.response.status,error:`Failed to get realtime transcription session: ${n.response.statusText}`}}catch(n){return le.error("Failed to get realtime transcription session",n),{data:null,status:500,error:`Failed to get realtime transcription session: ${n}`}}}async function ZXt({body:e,reason:t}){try{const n=await me.POST("/rest/realtime/execute-tools",t,{timeoutMs:ut({productionMs:5e3}),numRetries:1,body:e,headers:{"content-type":"application/json"}});if(!n.response.ok){const s=await n.response.text();throw new Error(`Failed to execute tools: ${s}`)}return n.data}catch(n){le.error("Failed to execute tools",n);return}}async function JXt({entry:e,analyticsParams:t,reason:n}){try{const r=await me.POST("/rest/realtime/create-entry",n,{timeoutMs:ut({productionMs:5e3}),numRetries:1,body:{...e,analytics_params:{...t,timezone:JLt(),visitor_id:lm()}},headers:{"content-type":"application/json"}});if(!r.response.ok){const a=await r.response.text();throw new Error(`Failed to create entry: ${a}`)}return r.data}catch(r){le.error("Failed to create entry",r);return}}const tOt=.7,nOt=({callbacks:e,config:t,reason:n})=>{const[r,s]=f.useState(!1),[a,i]=f.useState(""),[l,c]=f.useState(!1),[u,d]=f.useState(null),[h,m]=f.useState(()=>{const se=_t.getItem(q7);return se?se==="true":null}),{isWindowsApp:g}=sn(),{trackEvent:v}=Ye(),x=t.silenceThreshold??30,b=t.silenceDuration??5e3,w=f.useRef(null),C=f.useRef(null),S=f.useRef(""),k=f.useRef(null),E=f.useRef(!1),T=f.useRef(null),j=f.useRef(null),N=f.useRef(null),R=f.useRef(null),O=f.useRef(null),I=f.useRef(new Map),B=f.useRef(null),D=f.useRef(null),z=f.useRef(null),V=f.useRef([]),U=f.useRef(null),H=f.useCallback(async()=>{try{return(await navigator.mediaDevices.getUserMedia({audio:!0})).getTracks().forEach(J=>J.stop()),m(!0),_t.setItem(q7,"true"),!0}catch(se){return d(`Microphone permission denied. ${se}`),m(!1),_t.setItem(q7,"false"),!1}},[]),q=f.useRef(!1),$=f.useCallback(()=>{k.current&&(k.current.getTracks().forEach(se=>se.stop()),k.current=null)},[]),G=f.useCallback(()=>{if(E.current=!1,N.current&&(clearTimeout(N.current),N.current=null),T.current&&(T.current.close(),T.current=null,j.current=null),w.current&&r&&w.current.stop(),U.current&&(clearInterval(U.current),U.current=null),z.current&&(z.current.port.onmessage=null,z.current.disconnect(),z.current=null),C.current&&C.current.stop(),$(),S.current="",i(""),I.current.clear(),s(!1),O.current&&(O.current.close(),O.current=null),R.current){const se=Date.now()-R.current;v("stop transcription",{durationMs:se})}R.current=null,e?.onStop?.()},[e,$,v,r]),K=f.useCallback(se=>{if(!se||!E.current)return;const J=se.frequencyBinCount,de=new Uint8Array(J);se.getByteFrequencyData(de),de.reduce((he,pe)=>he+pe)/J<x?N.current||(N.current=setTimeout(()=>{E.current&&e?.onSilence?.()},b)):N.current&&(clearTimeout(N.current),N.current=null),E.current&&requestAnimationFrame(()=>K(se))},[e,x,b]),ee=f.useCallback(()=>Array.from(I.current.values()).map(J=>J.finalTranscript||J.partialTranscript||"").join(" ").trim(),[I]),oe=f.useCallback(se=>{const{type:J,item_id:de}=se;if(!de)return;I.current.has(de)||I.current.set(de,{itemId:de,partialTranscript:"",finalTranscript:""});const ie=I.current.get(de),he=D.current||"";switch(J){case"conversation.item.input_audio_transcription.delta":{const{delta:pe}=se;he==="whisper-1"?ie.partialTranscript=pe:ie.partialTranscript+=pe;break}case"conversation.item.input_audio_transcription.completed":{const{transcript:pe}=se;typeof pe=="string"&&(ie.finalTranscript=pe);break}case"input_audio_buffer.committed":{se.previous_item_id&&(ie.previousItemId=se.previous_item_id);break}}I.current.set(de,ie),i(ee())},[ee]),ne=f.useCallback(async()=>{const se=await eOt({body:{source:g?Wp:Vle,timezone:tD,turn_detection_threshold:tOt,response_language:"en"},reason:n});if(!se.data?.client_secret)throw le.error("No ephemeral key from server"),new Error("Unable to start OAI session");B.current=se.data.session_id,D.current=se.data.model_name;const de=["realtime",`openai-insecure-api-key.${se.data.client_secret}`,"openai-beta.realtime-v1"],ie=new WebSocket("wss://api.openai.com/v1/realtime?intent=transcription",de);O.current=ie,ie.onopen=()=>le.info("OpenAI WS connected (base64 PCM approach)"),ie.onerror=he=>{le.error("OAI WS error:",he),d("OpenAI WS error")},ie.onclose=he=>{le.info("OAI WS closed:",he.code)},ie.onmessage=he=>{try{const pe=JSON.parse(he.data);oe(pe)}catch(pe){le.error("Invalid OAI WS message:",he.data,pe)}}},[oe,g,n]),te=f.useCallback(se=>{let J=0;for(const he of se)J+=he.length;const de=new Int16Array(J);let ie=0;for(const he of se)de.set(he,ie),ie+=he.length;return de},[]),re=f.useCallback(se=>{const J=se.buffer;let de="";const ie=new Uint8Array(J);for(let he=0;he<ie.byteLength;he++)de+=String.fromCharCode(ie[he]);return btoa(de)},[]),X=f.useCallback(async se=>{const J=new AudioContext;T.current=J,await J.audioWorklet.addModule("/audio-worklet.js");const de=new AudioWorkletNode(J,"pcm-worklet-processor");z.current=de,de.port.onmessage=he=>{if(!E.current)return;const pe=he.data;V.current.push(pe)},U.current||(U.current=setInterval(()=>{if(!E.current||!O.current||O.current.readyState!==WebSocket.OPEN||V.current.length===0)return;const he=te(V.current);V.current=[];const pe=re(he),ge={event_id:`evt-${Date.now()}`,type:"input_audio_buffer.append",audio:pe};O.current.send(JSON.stringify(ge))},500));const ie=J.createMediaStreamSource(se);ie.connect(de),de.connect(J.destination),j.current=J.createAnalyser(),j.current.fftSize=256,ie.connect(j.current),requestAnimationFrame(()=>K(j.current))},[K,te,re]),ce=f.useCallback(async()=>{if(d(null),R.current=Date.now(),v("start transcription"),E.current=!0,(h===null||h===!1)&&(c(!0),!await H())){c(!1),d("Microphone permission is required for voice input"),e?.onStop?.(),E.current=!1;return}try{await ne();const se=await navigator.mediaDevices.getUserMedia({audio:!0}).catch(async J=>{if(m(!1),!await H())throw J;return navigator.mediaDevices.getUserMedia({audio:!0})});k.current=se,await X(se),q.current&&C.current&&(S.current="",i(""),C.current.start(),C.current.onspeechend=()=>G()),s(!0),c(!1),e?.onStart?.()}catch(se){d(`Failed to start recording. ${se}`),E.current=!1}},[e,h,H,v,G,ne,X]);return f.useMemo(()=>({isTranscribing:r,isInitializing:l,transcription:a,error:u,startTranscription:ce,stopTranscription:G}),[u,l,r,ce,G,a])};class xN{static cancelOneTap(t=!1){if(typeof window>"u"||!window)return!0;const n=window.location.pathname;return!![{match:"/",condition:()=>t},{match:"/welcome",condition:()=>t},{match:"/search/new"},{match:"/join/",startsWith:!0},{match:"/onboarding",startsWith:!0},{match:"/search/render",startsWith:!0},{match:"/auth/windows-app",startsWith:!0},{match:"/auth/sso",startsWith:!0},{match:"/auth/error",startsWith:!0}].some(({match:s,startsWith:a,condition:i})=>(a?n.startsWith(s):n===s)&&(!i||i()))}static getLoginSource(){if(!window)return gt.GOOGLE_ONETAP_UNKNOWN;const t=window.location.pathname;return t?t==="/"?gt.GOOGLE_ONETAP_HOME:t.startsWith("/search/")?gt.GOOGLE_ONETAP_THREAD:t.startsWith("/page/")?gt.GOOGLE_ONETAP_PAGE:t.startsWith("/discover")?gt.GOOGLE_ONETAP_DISCOVER:gt.GOOGLE_ONETAP_UNKNOWN:gt.GOOGLE_ONETAP_UNKNOWN}}const Jre=500,rOt=4,qEe=f.createContext({promptSkipped:!1});function sOt(e){const{children:t}=e,n=f.useRef(0),r=f.useRef(!1),[s,a]=f.useState(!1),i=Ct(),l=GB(),{isMobileUserAgent:c}=qe(),d=ga().erp,h=f.useCallback(async m=>{if(!m||xN.cancelOneTap(l))return;const g=xN.getLoginSource(),v=typeof window<"u"?new URL(window.location.href):new URL("/","https://www.perplexity.ai"),x=new URLSearchParams({[sm]:g});v.search=x.toString();const b={credential:m.credential,callbackUrl:v.toString()};await Gv("googleonetap",b)},[l]);return f.useEffect(()=>{if(typeof window>"u"||i||c||["new_tab","sidecar"].includes(d??""))return;function m(){if(!r.current&&(n.current+=1,!(n.current>rOt))){if(!window.google?.accounts?.id){setTimeout(m,Jre);return}r.current=!0,!xN.cancelOneTap(l)&&(window.google.accounts.id.initialize({client_id:"60244564555-30175ip7vg79fobh0rk1sur3pdutj9l1.apps.googleusercontent.com",callback:h,auto_select:!0,use_fedcm_for_prompt:!0}),Ln()?a(!0):window.google.accounts.id.prompt(v=>{a(v.isSkippedMoment())}))}}const g=setTimeout(m,Jre);return()=>{clearTimeout(g)}},[h,l,c,i,d]),o.jsx(qEe.Provider,{value:{promptSkipped:s},children:t})}function aOt(){return f.useContext(qEe)}function iOt(){const{value:e}=vs({flag:"clear-attachment-on-submission",subjectType:"user_nextauth_id",defaultValue:!1});return e}function Xe(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const s of t)r.append("v",s);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const rl=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,oOt=rl&&"documentMode"in document?document.documentMode:null,wl=rl&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Ad=rl&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),z6=!(!rl||!("InputEvent"in window)||oOt)&&"getTargetRanges"in new window.InputEvent("input"),$y=rl&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),J1=rl&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,lOt=rl&&/Android/.test(navigator.userAgent),GEe=rl&&/^(?=.*Chrome).*/i.test(navigator.userAgent),ese=rl&&lOt&&GEe,H6=rl&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!GEe;function W6(...e){const t=[];for(const n of e)if(n&&typeof n=="string")for(const[r]of n.matchAll(/\S+/g))t.push(r);return t}const cOt=1,uOt=3,dOt=9,fOt=11,Yh=0,YEe=1,eg=2,hOt=0,mOt=1,pOt=2,$6=4,q6=8,fV=128,gOt=1792|(112|(3|$6|q6)|fV),hV=1,mV=2,pV=3,gV=4,vV=5,yV=6,r8=$y||J1||H6?" ":"​",vu=`

`,vOt=Ad?" ":r8,KEe="֑-߿יִ-﷽ﹰ-ﻼ",QEe="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",yOt=new RegExp("^[^"+QEe+"]*["+KEe+"]"),xOt=new RegExp("^[^"+KEe+"]*["+QEe+"]"),Kh={bold:1,capitalize:1024,code:16,highlight:fV,italic:2,lowercase:256,strikethrough:$6,subscript:32,superscript:64,underline:q6,uppercase:512},bOt={directionless:1,unmergeable:2},tse={center:mV,end:yV,justify:gV,left:hV,right:pV,start:vV},wOt={[mV]:"center",[yV]:"end",[gV]:"justify",[hV]:"left",[pV]:"right",[vV]:"start"},_Ot={normal:0,segmented:2,token:1},COt={[hOt]:"normal",[pOt]:"segmented",[mOt]:"token"},SOt="$";function XEe(e,t,n,r,s,a){let i=e.getFirstChild();for(;i!==null;){const l=i.__key;i.__parent===t&&(He(i)&&XEe(i,l,n,r,s,a),n.has(l)||a.delete(l),s.push(l)),i=i.getNextSibling()}}const MOt=100;let oO=!1,xV=0;function kOt(e){xV=e.timeStamp}function bN(e,t,n){const r=e.nodeName==="BR",s=t.__lexicalLineBreak;return s&&(e===s||r&&e.previousSibling===s)||r&&h8(e,n)!==void 0}function EOt(e,t,n){const r=Zl(co(n));let s=null,a=null;r!==null&&r.anchorNode===e&&(s=r.anchorOffset,a=r.focusOffset);const i=e.nodeValue;i!==null&&PV(t,i,s,a,!1)}function TOt(e,t,n){if(rt(e)){const r=e.anchor.getNode();if(r.is(n)&&e.format!==r.getFormat())return!1}return Nu(t)&&n.isAttached()}function NOt(e,t,n,r){for(let s=e;s&&!kPt(s);s=Cb(s)){const a=h8(s,t);if(a!==void 0){const i=Rs(a,n);if(i)return Hn(i)||!Oa(s)?void 0:[s,i]}else if(s===r)return[r,$Te(n)]}}function ZEe(e,t,n){oO=!0;const r=performance.now()-xV>MOt;try{gi(e,()=>{const s=xt()||function(m){return m.getEditorState().read(()=>{const g=xt();return g!==null?g.clone():null})}(e),a=new Map,i=e.getRootElement(),l=e._editorState,c=e._blockCursorElement;let u=!1,d="";for(let m=0;m<t.length;m++){const g=t[m],v=g.type,x=g.target,b=NOt(x,e,l,i);if(!b)continue;const[w,C]=b;if(v==="characterData")r&&bt(C)&&Nu(x)&&TOt(s,x,C)&&EOt(x,C,e);else if(v==="childList"){u=!0;const S=g.addedNodes;for(let T=0;T<S.length;T++){const j=S[T],N=HTe(j),R=j.parentNode;if(R!=null&&j!==c&&N===null&&!bN(j,R,e)){if(Ad){const O=(Oa(j)?j.innerText:null)||j.nodeValue;O&&(d+=O)}R.removeChild(j)}}const k=g.removedNodes,E=k.length;if(E>0){let T=0;for(let j=0;j<E;j++){const N=k[j];(bN(N,x,e)||c===N)&&(x.appendChild(N),T++)}E!==T&&a.set(w,C)}}}if(a.size>0)for(const[m,g]of a)g.reconcileObservedMutation(m,e);const h=n.takeRecords();if(h.length>0){for(let m=0;m<h.length;m++){const g=h[m],v=g.addedNodes,x=g.target;for(let b=0;b<v.length;b++){const w=v[b],C=w.parentNode;C==null||w.nodeName!=="BR"||bN(w,x,e)||C.removeChild(w)}}n.takeRecords()}s!==null&&(u&&ai(s),Ad&&KTe(e)&&s.insertRawText(d))})}finally{oO=!1}}function JEe(e){const t=e._observer;t!==null&&ZEe(e,t.takeRecords(),t)}function eTe(e){(function(t){xV===0&&co(t).addEventListener("textInput",kOt,!0)})(e),e._observer=new MutationObserver((t,n)=>{ZEe(e,t,n)})}class bV{constructor(t,n=new Map,r=void 0,s=new Map,a=void 0){this.node=t,this.sharedConfigMap=n,this.unknownState=r,this.knownState=s;const i=a!==void 0?a:function(l,c,u){let d=u.size;if(c)for(const h in c){const m=l.get(h);m&&u.has(m)||d++}return d}(n,r,s);this.size=i}getValue(t){const n=this.knownState.get(t);if(n!==void 0)return n;this.sharedConfigMap.set(t.key,t);let r=t.defaultValue;if(this.unknownState&&t.key in this.unknownState){const s=this.unknownState[t.key];s!==void 0&&(r=t.parse(s)),this.updateFromKnown(t,r)}return r}getInternalState(){return[this.unknownState,this.knownState]}toJSON(){const t={...this.unknownState};for(const[n,r]of this.knownState)n.isEqual(r,n.defaultValue)?delete t[n.key]:t[n.key]=n.unparse(r);return r5(t)?{[SOt]:t}:{}}getWritable(t){if(this.node===t)return this;const n=new Map(this.knownState),r=r5(s=this.unknownState)&&{...s};var s;if(r)for(const a of n.keys())delete r[a.key];return new bV(t,this.sharedConfigMap,r5(r),n,this.size)}updateFromKnown(t,n){const r=t.key;this.sharedConfigMap.set(r,t);const{knownState:s,unknownState:a}=this;s.has(t)||a&&r in a||this.size++,s.set(t,n)}updateFromUnknown(t,n){const r=this.sharedConfigMap.get(t);r?this.updateFromKnown(r,r.parse(n)):(this.unknownState=this.unknownState||{},t in this.unknownState||this.size++,this.unknownState[t]=n)}updateFromJSON(t){const{knownState:n}=this;for(const r of n.keys())n.set(r,r.defaultValue);if(this.size=n.size,this.unknownState={},t)for(const[r,s]of Object.entries(t))this.updateFromUnknown(r,s);this.unknownState=r5(this.unknownState)}}function r5(e){if(e)for(const t in e)return e}function jOt(e){const t=e.getWritable(),n=t.__state?t.__state.getWritable(t):new bV(t);return t.__state=n,n}function nse(e,t){const n=e.__mode,r=e.__format,s=e.__style,a=t.__mode,i=t.__format,l=t.__style,c=e.__state,u=t.__state;return(n===null||n===a)&&(r===null||r===i)&&(s===null||s===l)&&(e.__state===null||c===u||function(d,h){if(d===h)return!0;if(d&&h&&d.size!==h.size)return!1;const m=new Set,g=(x,b)=>{for(const[w,C]of x.knownState){if(m.has(w.key))continue;m.add(w.key);const S=b?b.getValue(w):w.defaultValue;if(S!==C&&!w.isEqual(S,C))return!0}return!1},v=(x,b)=>{const{unknownState:w}=x,C=b?b.unknownState:void 0;if(w){for(const[S,k]of Object.entries(w))if(!m.has(S)&&(m.add(S),k!==(C?C[S]:void 0)))return!0}return!1};return!(d&&g(d,h)||h&&g(h,d)||d&&v(d,h)||h&&v(h,d))}(c,u))}function rse(e,t){const n=e.mergeWithSibling(t),r=Rr()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function sse(e){let t,n,r=e;if(r.__text!==""||!r.isSimpleText()||r.isUnmergeable()){for(;(t=r.getPreviousSibling())!==null&&bt(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(t.__text!==""){if(nse(t,r)){r=rse(t,r);break}break}t.remove()}for(;(n=r.getNextSibling())!==null&&bt(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(n.__text!==""){if(nse(r,n)){r=rse(r,n);break}break}n.remove()}}else r.remove()}function qy(e){return ase(e.anchor),ase(e.focus),e}function ase(e){for(;e.type==="element";){const t=e.getNode(),n=e.offset;let r,s;if(n===t.getChildrenSize()?(r=t.getChildAtIndex(n-1),s=!0):(r=t.getChildAtIndex(n),s=!1),bt(r)){e.set(r.__key,s?r.getTextContentSize():0,"text",!0);break}if(!He(r))break;e.set(r.__key,s?r.getChildrenSize():0,"element",!0)}}let Gd,Ra,Gy,s8,lO,cO,Qh,Bo,uO,Yy,hs="",Aa="",gl=null,vl="",Bc="",tTe=!1,Ky=!1,G5=null;function G6(e,t){const n=Qh.get(e);if(t!==null){const r=hO(e);r.parentNode===t&&t.removeChild(r)}if(Bo.has(e)||Ra._keyToDOMMap.delete(e),He(n)){const r=K6(n,Qh);dO(r,0,r.length-1,null)}n!==void 0&&IV(Yy,Gy,s8,n,"destroyed")}function dO(e,t,n,r){let s=t;for(;s<=n;++s){const a=e[s];a!==void 0&&G6(a,r)}}function eh(e,t){e.setProperty("text-align",t)}const AOt="40px";function nTe(e,t){const n=Gd.theme.indent;if(typeof n=="string"){const s=e.classList.contains(n);t>0&&!s?e.classList.add(n):t<1&&s&&e.classList.remove(n)}const r=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||AOt;e.style.setProperty("padding-inline-start",t===0?"":`calc(${t} * ${r})`)}function rTe(e,t){const n=e.style;t===0?eh(n,""):t===hV?eh(n,"left"):t===mV?eh(n,"center"):t===pV?eh(n,"right"):t===gV?eh(n,"justify"):t===vV?eh(n,"start"):t===yV&&eh(n,"end")}function Y6(e,t){const n=Bo.get(e);n===void 0&&Xe(60);const r=n.createDOM(Gd,Ra);if(function(s,a,i){const l=i._keyToDOMMap;(function(c,u,d){const h=`__lexicalKey_${u._key}`;c[h]=d})(a,i,s),l.set(s,a)}(e,r,Ra),bt(n)?r.setAttribute("data-lexical-text","true"):Hn(n)&&r.setAttribute("data-lexical-decorator","true"),He(n)){const s=n.__indent,a=n.__size;if(s!==0&&nTe(r,s),a!==0){const l=a-1;(function(c,u,d,h){const m=Aa;Aa="",fO(c,d,0,u,d.getDOMSlot(h)),aTe(d,h),Aa=m})(K6(n,Bo),l,n,r)}const i=n.__format;i!==0&&rTe(r,i),n.isInline()||sTe(null,n,r),m8(n)&&(hs+=vu,Bc+=vu)}else{const s=n.getTextContent();if(Hn(n)){const a=n.decorate(Ra,Gd);a!==null&&iTe(e,a),r.contentEditable="false"}else bt(n)&&(n.isDirectionless()||(Aa+=s));hs+=s,Bc+=s}return t!==null&&t.insertChild(r),IV(Yy,Gy,s8,n,"created"),r}function fO(e,t,n,r,s){const a=hs;hs="";let i=n;for(;i<=r;++i){Y6(e[i],s);const l=Bo.get(e[i]);l!==null&&bt(l)&&(gl===null&&(gl=l.getFormat()),vl===""&&(vl=l.getStyle()))}m8(t)&&(hs+=vu),s.element.__lexicalTextContent=hs,hs=a+hs}function ise(e,t){if(e){const n=e.__last;if(n){const r=t.get(n);if(r)return f1(r)?"line-break":Hn(r)&&r.isInline()?"decorator":null}return"empty"}return null}function sTe(e,t,n){const r=ise(e,Qh),s=ise(t,Bo);r!==s&&t.getDOMSlot(n).setManagedLineBreak(s)}function aTe(e,t){const n=t.__lexicalDirTextContent||"",r=t.__lexicalDir||"";if(n!==Aa||r!==G5){const s=Aa==="",a=s?G5:function(i){return yOt.test(i)?"rtl":xOt.test(i)?"ltr":null}(Aa);if(a!==r){const i=t.classList,l=Gd.theme;let c=r!==null?l[r]:void 0,u=a!==null?l[a]:void 0;if(c!==void 0){if(typeof c=="string"){const d=W6(c);c=l[r]=d}i.remove(...c)}if(a===null||s&&a==="ltr")t.removeAttribute("dir");else{if(u!==void 0){if(typeof u=="string"){const d=W6(u);u=l[a]=d}u!==void 0&&i.add(...u)}t.dir=a}Ky||(e.getWritable().__dir=a)}G5=a,t.__lexicalDirTextContent=Aa,t.__lexicalDir=a}}function ROt(e,t,n){const r=Aa;var s;Aa="",gl=null,vl="",function(a,i,l){const c=hs,u=a.__size,d=i.__size;hs="";const h=l.element;if(u===1&&d===1){const m=a.__first,g=i.__first;if(m===g)t2(m,h);else{const x=hO(m),b=Y6(g,null);try{h.replaceChild(b,x)}catch(w){if(typeof w=="object"&&w!=null){const C=`${w.toString()} Parent: ${h.tagName}, new child: {tag: ${b.tagName} key: ${g}}, old child: {tag: ${x.tagName}, key: ${m}}.`;throw new Error(C)}throw w}G6(m,null)}const v=Bo.get(g);bt(v)&&(gl===null&&(gl=v.getFormat()),vl===""&&(vl=v.getStyle()))}else{const m=K6(a,Qh),g=K6(i,Bo);if(m.length!==u&&Xe(227),g.length!==d&&Xe(228),u===0)d!==0&&fO(g,i,0,d-1,l);else if(d===0){if(u!==0){const v=l.after==null&&l.before==null&&l.element.__lexicalLineBreak==null;dO(m,0,u-1,v?null:h),v&&(h.textContent="")}}else(function(v,x,b,w,C,S){const k=w-1,E=C-1;let T,j,N=S.getFirstChild(),R=0,O=0;for(;R<=k&&O<=E;){const D=x[R],z=b[O];if(D===z)N=wN(t2(z,S.element)),R++,O++;else{T===void 0&&(T=new Set(x)),j===void 0&&(j=new Set(b));const U=j.has(D),H=T.has(z);if(U)if(H){const q=ig(Ra,z);q===N?N=wN(t2(z,S.element)):(S.withBefore(N).insertChild(q),t2(z,S.element)),R++,O++}else Y6(z,S.withBefore(N)),O++;else N=wN(hO(D)),G6(D,S.element),R++}const V=Bo.get(z);V!==null&&bt(V)&&(gl===null&&(gl=V.getFormat()),vl===""&&(vl=V.getStyle()))}const I=R>k,B=O>E;if(I&&!B){const D=b[E+1],z=D===void 0?null:Ra.getElementByKey(D);fO(b,v,O,E,S.withBefore(z))}else B&&!I&&dO(x,R,k,S.element)})(i,m,g,u,d,l)}m8(i)&&(hs+=vu),h.__lexicalTextContent=hs,hs=c+hs}(e,t,t.getDOMSlot(n)),aTe(t,n),s=t,gl==null||gl===s.__textFormat||Ky||s.setTextFormat(gl),function(a){vl===""||vl===a.__textStyle||Ky||a.setTextStyle(vl)}(t),Aa=r}function K6(e,t){const n=[];let r=e.__first;for(;r!==null;){const s=t.get(r);s===void 0&&Xe(101),n.push(r),r=s.__next}return n}function t2(e,t){const n=Qh.get(e);let r=Bo.get(e);n!==void 0&&r!==void 0||Xe(61);const s=tTe||cO.has(e)||lO.has(e),a=ig(Ra,e);if(n===r&&!s){if(He(n)){const i=a.__lexicalTextContent;i!==void 0&&(hs+=i,Bc+=i);const l=a.__lexicalDirTextContent;l!==void 0&&(Aa+=l)}else{const i=n.getTextContent();bt(n)&&!n.isDirectionless()&&(Aa+=i),Bc+=i,hs+=i}return a}if(n!==r&&s&&IV(Yy,Gy,s8,r,"updated"),r.updateDOM(n,a,Gd)){const i=Y6(e,null);return t===null&&Xe(62),t.replaceChild(i,a),G6(e,null),i}if(He(n)&&He(r)){const i=r.__indent;i!==n.__indent&&nTe(a,i);const l=r.__format;l!==n.__format&&rTe(a,l),s&&(ROt(n,r,a),pa(r)||r.isInline()||sTe(n,r,a)),m8(r)&&(hs+=vu,Bc+=vu)}else{const i=r.getTextContent();if(Hn(r)){const l=r.decorate(Ra,Gd);l!==null&&iTe(e,l)}else bt(r)&&!r.isDirectionless()&&(Aa+=i);hs+=i,Bc+=i}if(!Ky&&pa(r)&&r.__cachedText!==Bc){const i=r.getWritable();i.__cachedText=Bc,r=i}return a}function iTe(e,t){let n=Ra._pendingDecorators;const r=Ra._decorators;if(n===null){if(r[e]===t)return;n=WTe(Ra)}n[e]=t}function wN(e){let t=e.nextSibling;return t!==null&&t===Ra._blockCursorElement&&(t=t.nextSibling),t}function LOt(e,t,n,r,s,a){hs="",Bc="",Aa="",tTe=r===eg,G5=null,Ra=n,Gd=n._config,Gy=n._nodes,s8=Ra._listeners.mutation,lO=s,cO=a,Qh=e._nodeMap,Bo=t._nodeMap,Ky=t._readOnly,uO=new Map(n._keyToDOMMap);const i=new Map;return Yy=i,t2("root",null),Ra=void 0,Gy=void 0,lO=void 0,cO=void 0,Qh=void 0,Bo=void 0,Gd=void 0,uO=void 0,Yy=void 0,i}function hO(e){const t=uO.get(e);return t===void 0&&Xe(75,e),t}function nn(e){return{type:e}}const oTe=nn("SELECTION_CHANGE_COMMAND"),OOt=nn("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),POt=nn("CLICK_COMMAND"),Vl=nn("DELETE_CHARACTER_COMMAND"),u1=nn("INSERT_LINE_BREAK_COMMAND"),mO=nn("INSERT_PARAGRAPH_COMMAND"),Ch=nn("CONTROLLED_TEXT_INSERTION_COMMAND"),a8=nn("PASTE_COMMAND"),Q6=nn("REMOVE_TEXT_COMMAND"),tg=nn("DELETE_WORD_COMMAND"),ng=nn("DELETE_LINE_COMMAND"),gh=nn("FORMAT_TEXT_COMMAND"),lTe=nn("UNDO_COMMAND"),cTe=nn("REDO_COMMAND"),IOt=nn("KEYDOWN_COMMAND"),uTe=nn("KEY_ARROW_RIGHT_COMMAND"),DOt=nn("MOVE_TO_END"),dTe=nn("KEY_ARROW_LEFT_COMMAND"),FOt=nn("MOVE_TO_START"),fTe=nn("KEY_ARROW_UP_COMMAND"),hTe=nn("KEY_ARROW_DOWN_COMMAND"),rg=nn("KEY_ENTER_COMMAND"),UOt=nn("KEY_SPACE_COMMAND"),wV=nn("KEY_BACKSPACE_COMMAND"),mTe=nn("KEY_ESCAPE_COMMAND"),_V=nn("KEY_DELETE_COMMAND"),pTe=nn("KEY_TAB_COMMAND"),BOt=nn("OUTDENT_CONTENT_COMMAND"),gTe=nn("DROP_COMMAND"),vTe=nn("DRAGSTART_COMMAND"),VOt=nn("DRAGOVER_COMMAND"),zOt=nn("DRAGEND_COMMAND"),CV=nn("COPY_COMMAND"),SV=nn("CUT_COMMAND"),pO=nn("SELECT_ALL_COMMAND"),eZt=nn("CLEAR_EDITOR_COMMAND"),tZt=nn("CLEAR_HISTORY_COMMAND"),nZt=nn("CAN_REDO_COMMAND"),rZt=nn("CAN_UNDO_COMMAND"),HOt=nn("FOCUS_COMMAND"),WOt=nn("BLUR_COMMAND"),$Ot=nn("KEY_MODIFIER_COMMAND"),Rc=Object.freeze({}),gO=30,vO=[["keydown",function(e,t){if(P2=e.timeStamp,yTe=e.key,!t.isComposing()&&!wt(t,IOt,e)&&e.key!=null){if(_N&&Ose(e))return gi(t,()=>{s5(t,CN)}),_N=!1,void(CN="");if(function(n){return $n(n,"ArrowRight",{shiftKey:"any"})}(e))wt(t,uTe,e);else if(function(n){return $n(n,"ArrowRight",Pc)}(e))wt(t,DOt,e);else if(function(n){return $n(n,"ArrowLeft",{shiftKey:"any"})}(e))wt(t,dTe,e);else if(function(n){return $n(n,"ArrowLeft",Pc)}(e))wt(t,FOt,e);else if(function(n){return $n(n,"ArrowUp",{altKey:"any",shiftKey:"any"})}(e))wt(t,fTe,e);else if(function(n){return $n(n,"ArrowDown",{altKey:"any",shiftKey:"any"})}(e))wt(t,hTe,e);else if(function(n){return $n(n,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0})}(e))I2=!0,wt(t,rg,e);else if(function(n){return n.key===" "}(e))wt(t,UOt,e);else if(function(n){return wl&&$n(n,"o",{ctrlKey:!0})}(e))e.preventDefault(),I2=!0,wt(t,u1,!0);else if(function(n){return $n(n,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"})}(e))I2=!1,wt(t,rg,e);else if(function(n){return $n(n,"Backspace",{shiftKey:"any"})||wl&&$n(n,"h",{ctrlKey:!0})}(e))Ose(e)?wt(t,wV,e):(e.preventDefault(),wt(t,Vl,!0));else if(function(n){return n.key==="Escape"}(e))wt(t,mTe,e);else if(function(n){return $n(n,"Delete",{})||wl&&$n(n,"d",{ctrlKey:!0})}(e))(function(n){return n.key==="Delete"})(e)?wt(t,_V,e):(e.preventDefault(),wt(t,Vl,!1));else if(function(n){return $n(n,"Backspace",Lse)}(e))e.preventDefault(),wt(t,tg,!0);else if(function(n){return $n(n,"Delete",Lse)}(e))e.preventDefault(),wt(t,tg,!1);else if(function(n){return wl&&$n(n,"Backspace",{metaKey:!0})}(e))e.preventDefault(),wt(t,ng,!0);else if(function(n){return wl&&($n(n,"Delete",{metaKey:!0})||$n(n,"k",{ctrlKey:!0}))}(e))e.preventDefault(),wt(t,ng,!1);else if(function(n){return $n(n,"b",Pc)}(e))e.preventDefault(),wt(t,gh,"bold");else if(function(n){return $n(n,"u",Pc)}(e))e.preventDefault(),wt(t,gh,"underline");else if(function(n){return $n(n,"i",Pc)}(e))e.preventDefault(),wt(t,gh,"italic");else if(function(n){return $n(n,"Tab",{shiftKey:"any"})}(e))wt(t,pTe,e);else if(function(n){return $n(n,"z",Pc)}(e))e.preventDefault(),wt(t,lTe,void 0);else if(function(n){return wl?$n(n,"z",{metaKey:!0,shiftKey:!0}):$n(n,"y",{ctrlKey:!0})||$n(n,"z",{ctrlKey:!0,shiftKey:!0})}(e))e.preventDefault(),wt(t,cTe,void 0);else{const n=t._editorState._selection;n===null||rt(n)?!Ad&&Pse(e)&&(e.preventDefault(),wt(t,pO,e)):function(r){return $n(r,"c",Pc)}(e)?(e.preventDefault(),wt(t,CV,e)):function(r){return $n(r,"x",Pc)}(e)?(e.preventDefault(),wt(t,SV,e)):Pse(e)&&(e.preventDefault(),wt(t,pO,e))}(function(n){return n.ctrlKey||n.shiftKey||n.altKey||n.metaKey})(e)&&wt(t,$Ot,e)}}],["pointerdown",function(e,t){const n=e.target,r=e.pointerType;r0(n)&&r!=="touch"&&e.button===0&&gi(t,()=>{jse(n)||(xO=!0)})}],["compositionstart",function(e,t){gi(t,()=>{const n=xt();if(rt(n)&&!t.isComposing()){const r=n.anchor,s=n.anchor.getNode();Ks(r.key),(e.timeStamp<P2+gO||r.type==="element"||!n.isCollapsed()||s.getFormat()!==n.format||bt(s)&&s.getStyle()!==n.style)&&wt(t,Ch,vOt)}})}],["compositionend",function(e,t){Ad?Iv=!0:J1||!$y&&!H6?gi(t,()=>{s5(t,e.data)}):(_N=!0,CN=e.data)}],["input",function(e,t){e.stopPropagation(),gi(t,()=>{if(Oa(e.target)&&jse(e.target))return;const n=xt(),r=e.data,s=CTe(e);if(r!=null&&rt(n)&&wTe(n,s,r,e.timeStamp,!1)){Iv&&(s5(t,r),Iv=!1);const a=n.anchor.getNode(),i=Zl(co(t));if(i===null)return;const l=n.isBackward(),c=l?n.anchor.offset:n.focus.offset,u=l?n.focus.offset:n.anchor.offset;z6&&!n.isCollapsed()&&bt(a)&&i.anchorNode!==null&&a.getTextContent().slice(0,c)+r+a.getTextContent().slice(c+u)===YTe(i.anchorNode)||wt(t,Ch,r);const d=r.length;Ad&&d>1&&e.inputType==="insertCompositionText"&&!t.isComposing()&&(n.anchor.offset-=d),$y||J1||H6||!t.isComposing()||(P2=0,Ks(null))}else OV(!1,t,r!==null?r:void 0),Iv&&(s5(t,r||void 0),Iv=!1);(function(){ua();const a=Rr();JEe(a)})()},{event:e}),Mp=null}],["click",function(e,t){gi(t,()=>{const n=xt(),r=Zl(co(t)),s=bb();if(r){if(rt(n)){const a=n.anchor,i=a.getNode();if(a.type==="element"&&a.offset===0&&n.isCollapsed()&&!pa(i)&&ir().getChildrenSize()===1&&i.getTopLevelElementOrThrow().isEmpty()&&s!==null&&n.is(s))r.removeAllRanges(),n.dirty=!0;else if(e.detail===3&&!n.isCollapsed()&&i!==n.focus.getNode()){const l=function(c,u){let d=c;for(;d!==ir()&&d!=null;){if(u(d))return d;d=d.getParent()}return null}(i,c=>He(c)&&!c.isInline());He(l)&&l.select(0)}}else if(e.pointerType==="touch"){const a=r.anchorNode;(Oa(a)||Nu(a))&&ai(kV(s,r,t,e))}}wt(t,POt,e)})}],["cut",Rc],["copy",Rc],["dragstart",Rc],["dragover",Rc],["dragend",Rc],["paste",Rc],["focus",Rc],["blur",Rc],["drop",Rc]];z6&&vO.push(["beforeinput",(e,t)=>function(n,r){const s=n.inputType,a=CTe(n);s==="deleteCompositionText"||Ad&&KTe(r)||s!=="insertCompositionText"&&gi(r,()=>{const i=xt();if(s==="deleteContentBackward"){if(i===null){const g=bb();if(!rt(g))return;ai(g.clone())}if(rt(i)){const g=i.anchor.key===i.focus.key;if(l=n.timeStamp,yTe==="MediaLast"&&l<P2+gO&&r.isComposing()&&g){if(Ks(null),P2=0,setTimeout(()=>{gi(r,()=>{Ks(null)})},gO),rt(i)){const v=i.anchor.getNode();v.markDirty(),bt(v)||Xe(142),_Te(i,v)}}else{Ks(null),n.preventDefault();const v=i.anchor.getNode(),x=v.getTextContent(),b=v.canInsertTextAfter(),w=i.anchor.offset===0&&i.focus.offset===x.length;let C=ese&&g&&!w&&b;if(C&&i.isCollapsed()&&(C=!Hn(yPt(i.anchor,!0))),!C){wt(r,Vl,!0);const S=xt();ese&&rt(S)&&S.isCollapsed()&&(lh=S,setTimeout(()=>lh=null))}}return}}var l;if(!rt(i))return;const c=n.data;Mp!==null&&OV(!1,r,Mp),i.dirty&&Mp===null||!i.isCollapsed()||pa(i.anchor.getNode())||a===null||i.applyDOMRange(a),Mp=null;const u=i.anchor,d=i.focus,h=u.getNode(),m=d.getNode();if(s!=="insertText"&&s!=="insertTranspose")switch(n.preventDefault(),s){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":wt(r,Ch,n);break;case"insertFromComposition":Ks(null),wt(r,Ch,n);break;case"insertLineBreak":Ks(null),wt(r,u1,!1);break;case"insertParagraph":Ks(null),I2&&!J1?(I2=!1,wt(r,u1,!1)):wt(r,mO,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":wt(r,a8,n);break;case"deleteByComposition":(function(g,v){return g!==v||He(g)||He(v)||!g.isToken()||!v.isToken()})(h,m)&&wt(r,Q6,n);break;case"deleteByDrag":case"deleteByCut":wt(r,Q6,n);break;case"deleteContent":wt(r,Vl,!1);break;case"deleteWordBackward":wt(r,tg,!0);break;case"deleteWordForward":wt(r,tg,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":wt(r,ng,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":wt(r,ng,!1);break;case"formatStrikeThrough":wt(r,gh,"strikethrough");break;case"formatBold":wt(r,gh,"bold");break;case"formatItalic":wt(r,gh,"italic");break;case"formatUnderline":wt(r,gh,"underline");break;case"historyUndo":wt(r,lTe,void 0);break;case"historyRedo":wt(r,cTe,void 0)}else{if(c===`
`)n.preventDefault(),wt(r,u1,!1);else if(c===vu)n.preventDefault(),wt(r,mO,void 0);else if(c==null&&n.dataTransfer){const g=n.dataTransfer.getData("text/plain");n.preventDefault(),i.insertRawText(g)}else c!=null&&wTe(i,a,c,n.timeStamp,!0)?(n.preventDefault(),wt(r,Ch,c)):Mp=c;xTe=n.timeStamp}})}(e,t)]);let P2=0,yTe=null,xTe=0,Mp=null;const X6=new WeakMap;let yO=!1,xO=!1,I2=!1,Iv=!1,_N=!1,CN="",lh=null,bTe=[0,"",0,"root",0];function wTe(e,t,n,r,s){const a=e.anchor,i=e.focus,l=a.getNode(),c=Rr(),u=Zl(co(c)),d=u!==null?u.anchorNode:null,h=a.key,m=c.getElementByKey(h),g=n.length;return h!==i.key||!bt(l)||(!s&&(!z6||xTe<r+50)||l.isDirty()&&g<2||qTe(n))&&a.offset!==i.offset&&!l.isComposing()||kp(l)||l.isDirty()&&g>1||(s||!z6)&&m!==null&&!l.isComposing()&&d!==sg(m)||u!==null&&t!==null&&(!t.collapsed||t.startContainer!==u.anchorNode||t.startOffset!==u.anchorOffset)||l.getFormat()!==e.format||l.getStyle()!==e.style||function(v,x){if(x.isSegmented())return!0;if(!v.isCollapsed())return!1;const b=v.anchor.offset,w=x.getParentOrThrow(),C=x.isToken();return b===0?!x.canInsertTextBefore()||!w.canInsertTextBefore()&&!x.isComposing()||C||function(S){const k=S.getPreviousSibling();return(bt(k)||He(k)&&k.isInline())&&!k.canInsertTextAfter()}(x):b===x.getTextContentSize()&&(!x.canInsertTextAfter()||!w.canInsertTextAfter()&&!x.isComposing()||C)}(e,l)}function ose(e,t){return Nu(e)&&e.nodeValue!==null&&t!==0&&t!==e.nodeValue.length}function lse(e,t,n){const{anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:i}=e;yO&&(yO=!1,ose(r,s)&&ose(a,i)&&!lh)||gi(t,()=>{if(!n)return void ai(null);if(!d8(t,r,a))return;let l=xt();if(lh&&rt(l)&&l.isCollapsed()){const c=l.anchor,u=lh.anchor;(c.key===u.key&&c.offset===u.offset+1||c.offset===1&&u.getNode().is(c.getNode().getPreviousSibling()))&&(l=lh.clone(),ai(l))}if(lh=null,rt(l)){const c=l.anchor,u=c.getNode();if(l.isCollapsed()){e.type==="Range"&&e.anchorNode===e.focusNode&&(l.dirty=!0);const d=co(t).event,h=d?d.timeStamp:performance.now(),[m,g,v,x,b]=bTe,w=ir(),C=t.isComposing()===!1&&w.getTextContent()==="";if(h<b+200&&c.offset===v&&c.key===x)Y5(l,m,g);else if(c.type==="text")bt(u)||Xe(141),_Te(l,u);else if(c.type==="element"&&!C){He(u)||Xe(259);const S=c.getNode();S.isEmpty()?function(k,E){const T=E.getTextFormat(),j=E.getTextStyle();Y5(k,T,j)}(l,S):Y5(l,0,"")}}else{const d=c.key,h=l.focus.key,m=l.getNodes(),g=m.length,v=l.isBackward(),x=v?i:s,b=v?s:i,w=v?h:d,C=v?d:h;let S=gOt,k=!1;for(let E=0;E<g;E++){const T=m[E],j=T.getTextContentSize();if(bt(T)&&j!==0&&!(E===0&&T.__key===w&&x===j||E===g-1&&T.__key===C&&b===0)&&(k=!0,S&=T.getFormat(),S===0))break}l.format=k?S:0}}wt(t,oTe,void 0)})}function Y5(e,t,n){e.format===t&&e.style===n||(e.format=t,e.style=n,e.dirty=!0)}function _Te(e,t){Y5(e,t.getFormat(),t.getStyle())}function CTe(e){if(!e.getTargetRanges)return null;const t=e.getTargetRanges();return t.length===0?null:t[0]}function s5(e,t){const n=e._compositionKey;if(Ks(null),n!==null&&t!=null){if(t===""){const r=Rs(n),s=sg(e.getElementByKey(n));return void(s!==null&&s.nodeValue!==null&&bt(r)&&PV(r,s.nodeValue,null,null,!0))}if(t[t.length-1]===`
`){const r=xt();if(rt(r)){const s=r.focus;return r.anchor.set(s.key,s.offset,s.type),void wt(e,rg,null)}}}OV(!0,e,t)}function STe(e){let t=e.__lexicalEventHandles;return t===void 0&&(t=[],e.__lexicalEventHandles=t),t}const d1=new Map;function MTe(e){const t=_Pt(e.target);if(t===null)return;const n=RV(t.anchorNode);if(n===null)return;xO&&(xO=!1,gi(n,()=>{const c=bb(),u=t.anchorNode;(Oa(u)||Nu(u))&&ai(kV(c,t,n,e))}));const r=LV(n),s=r[r.length-1],a=s._key,i=d1.get(a),l=i||s;l!==n&&lse(t,l,!1),lse(t,n,!0),n!==s?d1.set(a,n):i&&d1.delete(a)}function cse(e){e._lexicalHandled=!0}function use(e){return e._lexicalHandled===!0}function qOt(e){const t=e.ownerDocument,n=X6.get(t);if(n===void 0)return;const r=n-1;r>=0||Xe(164),X6.set(t,r),r===0&&t.removeEventListener("selectionchange",MTe);const s=f8(e);AV(s)?(function(i){if(i._parentEditor!==null){const l=LV(i),c=l[l.length-1]._key;d1.get(c)===i&&d1.delete(c)}else d1.delete(i._key)}(s),e.__lexicalEditor=null):s&&Xe(198);const a=STe(e);for(let i=0;i<a.length;i++)a[i]();e.__lexicalEventHandles=[]}function bO(e,t,n){ua();const r=e.__key,s=e.getParent();if(s===null)return;const a=function(l){const c=xt();if(!rt(c)||!He(l))return c;const{anchor:u,focus:d}=c,h=u.getNode(),m=d.getNode();return MO(h,l)&&u.set(l.__key,0,"element"),MO(m,l)&&d.set(l.__key,0,"element"),c}(e);let i=!1;if(rt(a)&&t){const l=a.anchor,c=a.focus;l.key===r&&(J6(l,e,s,e.getPreviousSibling(),e.getNextSibling()),i=!0),c.key===r&&(J6(c,e,s,e.getPreviousSibling(),e.getNextSibling()),i=!0)}else Rd(a)&&t&&e.isSelected()&&e.selectPrevious();if(rt(a)&&t&&!i){const l=e.getIndexWithinParent();Sh(e),Z6(a,s,l,-1)}else Sh(e);n||ju(s)||s.canBeEmpty()||!s.isEmpty()||bO(s,t),t&&a&&pa(s)&&s.isEmpty()&&s.selectEnd()}class i8{static getType(){Xe(64,this.name)}static clone(t){Xe(65,this.name)}afterCloneFrom(t){this.__parent=t.__parent,this.__next=t.__next,this.__prev=t.__prev,this.__state=t.__state}constructor(t){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),pPt(this,t)}getType(){return this.__type}isInline(){Xe(137,this.constructor.name)}isAttached(){let t=this.__key;for(;t!==null;){if(t==="root")return!0;const n=Rs(t);if(n===null)break;t=n.__parent}return!1}isSelected(t){const n=t||xt();if(n==null)return!1;const r=n.getNodes().some(s=>s.__key===this.__key);if(bt(this))return r;if(rt(n)&&n.anchor.type==="element"&&n.focus.type==="element"){if(n.isCollapsed())return!1;const s=this.getParent();if(Hn(this)&&this.isInline()&&s){const a=n.isBackward()?n.focus:n.anchor;if(s.is(a.getNode())&&a.offset===s.getChildrenSize()&&this.is(s.getLastChild()))return!1}}return r}getKey(){return this.__key}getIndexWithinParent(){const t=this.getParent();if(t===null)return-1;let n=t.getFirstChild(),r=0;for(;n!==null;){if(this.is(n))return r;r++,n=n.getNextSibling()}return-1}getParent(){const t=this.getLatest().__parent;return t===null?null:Rs(t)}getParentOrThrow(){const t=this.getParent();return t===null&&Xe(66,this.__key),t}getTopLevelElement(){let t=this;for(;t!==null;){const n=t.getParent();if(ju(n))return He(t)||t===this&&Hn(t)||Xe(194),t;t=n}return null}getTopLevelElementOrThrow(){const t=this.getTopLevelElement();return t===null&&Xe(67,this.__key),t}getParents(){const t=[];let n=this.getParent();for(;n!==null;)t.push(n),n=n.getParent();return t}getParentKeys(){const t=[];let n=this.getParent();for(;n!==null;)t.push(n.__key),n=n.getParent();return t}getPreviousSibling(){const t=this.getLatest().__prev;return t===null?null:Rs(t)}getPreviousSiblings(){const t=[],n=this.getParent();if(n===null)return t;let r=n.getFirstChild();for(;r!==null&&!r.is(this);)t.push(r),r=r.getNextSibling();return t}getNextSibling(){const t=this.getLatest().__next;return t===null?null:Rs(t)}getNextSiblings(){const t=[];let n=this.getNextSibling();for(;n!==null;)t.push(n),n=n.getNextSibling();return t}getCommonAncestor(t){const n=He(this)?this:this.getParent(),r=He(t)?t:t.getParent(),s=n&&r?X5(n,r):null;return s?s.commonAncestor:null}is(t){return t!=null&&this.__key===t.__key}isBefore(t){const n=X5(this,t);return n!==null&&(n.type==="descendant"||(n.type==="branch"?eNe(n)===-1:(n.type!=="same"&&n.type!=="ancestor"&&Xe(279),!1)))}isParentOf(t){const n=X5(this,t);return n!==null&&n.type==="ancestor"}getNodesBetween(t){const n=this.isBefore(t),r=[],s=new Set;let a=this;for(;a!==null;){const i=a.__key;if(s.has(i)||(s.add(i),r.push(a)),a===t)break;const l=He(a)?n?a.getFirstChild():a.getLastChild():null;if(l!==null){a=l;continue}const c=n?a.getNextSibling():a.getPreviousSibling();if(c!==null){a=c;continue}const u=a.getParentOrThrow();if(s.has(u.__key)||r.push(u),u===t)break;let d=null,h=u;do{if(h===null&&Xe(68),d=n?h.getNextSibling():h.getPreviousSibling(),h=h.getParent(),h===null)break;d!==null||s.has(h.__key)||r.push(h)}while(d===null);a=d}return n||r.reverse(),r}isDirty(){const t=Rr()._dirtyLeaves;return t!==null&&t.has(this.__key)}getLatest(){const t=Rs(this.__key);return t===null&&Xe(113),t}getWritable(){ua();const t=xf(),n=Rr(),r=t._nodeMap,s=this.__key,a=this.getLatest(),i=n._cloneNotNeeded,l=xt();if(l!==null&&l.setCachedNodes(null),i.has(s))return t_(a),a;const c=XTe(a);return i.add(s),t_(c),r.set(s,c),c}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(t,n){Xe(70)}updateDOM(t,n,r){Xe(71)}exportDOM(t){return{element:this.createDOM(t._config,t)}}exportJSON(){const t=this.__state?this.__state.toJSON():void 0;return{type:this.__type,version:1,...t}}static importJSON(t){Xe(18,this.name)}updateFromJSON(t){return function(n,r){const s=n.getWritable();return(r||s.__state)&&jOt(n).updateFromJSON(r),s}(this,t.$)}static transform(){return null}remove(t){bO(this,!0,t)}replace(t,n){ua();let r=xt();r!==null&&(r=r.clone()),NN(this,t);const s=this.getLatest(),a=this.__key,i=t.__key,l=t.getWritable(),c=this.getParentOrThrow().getWritable(),u=c.__size;Sh(l);const d=s.getPreviousSibling(),h=s.getNextSibling(),m=s.__prev,g=s.__next,v=s.__parent;if(bO(s,!1,!0),d===null?c.__first=i:d.getWritable().__next=i,l.__prev=m,h===null?c.__last=i:h.getWritable().__prev=i,l.__next=g,l.__parent=v,c.__size=u,n&&(He(this)&&He(l)||Xe(139),this.getChildren().forEach(x=>{l.append(x)})),rt(r)){ai(r);const x=r.anchor,b=r.focus;x.key===a&&mse(x,l),b.key===a&&mse(b,l)}return Cd()===a&&Ks(i),l}insertAfter(t,n=!0){ua(),NN(this,t);const r=this.getWritable(),s=t.getWritable(),a=s.getParent(),i=xt();let l=!1,c=!1;if(a!==null){const g=t.getIndexWithinParent();if(Sh(s),rt(i)){const v=a.__key,x=i.anchor,b=i.focus;l=x.type==="element"&&x.key===v&&x.offset===g+1,c=b.type==="element"&&b.key===v&&b.offset===g+1}}const u=this.getNextSibling(),d=this.getParentOrThrow().getWritable(),h=s.__key,m=r.__next;if(u===null?d.__last=h:u.getWritable().__prev=h,d.__size++,r.__next=h,s.__next=m,s.__prev=r.__key,s.__parent=r.__parent,n&&rt(i)){const g=this.getIndexWithinParent();Z6(i,d,g+1);const v=d.__key;l&&i.anchor.set(v,g+2,"element"),c&&i.focus.set(v,g+2,"element")}return t}insertBefore(t,n=!0){ua(),NN(this,t);const r=this.getWritable(),s=t.getWritable(),a=s.__key;Sh(s);const i=this.getPreviousSibling(),l=this.getParentOrThrow().getWritable(),c=r.__prev,u=this.getIndexWithinParent();i===null?l.__first=a:i.getWritable().__next=a,l.__size++,r.__prev=a,s.__prev=c,s.__next=r.__key,s.__parent=r.__parent;const d=xt();return n&&rt(d)&&Z6(d,this.getParentOrThrow(),u),t}isParentRequired(){return!1}createParentElementNode(){return ro()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(t,n){ua();const r=this.getPreviousSibling(),s=this.getParentOrThrow();if(r===null)return s.select(0,0);if(He(r))return r.select();if(!bt(r)){const a=r.getIndexWithinParent()+1;return s.select(a,a)}return r.select(t,n)}selectNext(t,n){ua();const r=this.getNextSibling(),s=this.getParentOrThrow();if(r===null)return s.select();if(He(r))return r.select(0,0);if(!bt(r)){const a=r.getIndexWithinParent();return s.select(a,a)}return r.select(t,n)}markDirty(){this.getWritable()}reconcileObservedMutation(t,n){this.markDirty()}}class yb extends i8{static getType(){return"linebreak"}static clone(t){return new yb(t.__key)}constructor(t){super(t)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}isInline(){return!0}static importDOM(){return{br:t=>function(n){const r=n.parentElement;if(r!==null&&n_(r)){const s=r.firstChild;if(s===n||s.nextSibling===n&&a5(s)){const a=r.lastChild;if(a===n||a.previousSibling===n&&a5(a))return!0}}return!1}(t)||function(n){const r=n.parentElement;if(r!==null&&n_(r)){const s=r.firstChild;if(s===n||s.nextSibling===n&&a5(s))return!1;const a=r.lastChild;if(a===n||a.previousSibling===n&&a5(a))return!0}return!1}(t)?null:{conversion:GOt,priority:0}}}static importJSON(t){return Yd().updateFromJSON(t)}}function GOt(e){return{node:Yd()}}function Yd(){return ym(new yb)}function f1(e){return e instanceof yb}function a5(e){return Nu(e)&&/^( |\t|\r?\n)+$/.test(e.textContent||"")}function SN(e,t){return 16&t?"code":t&fV?"mark":32&t?"sub":64&t?"sup":null}function MN(e,t){return 1&t?"strong":2&t?"em":"span"}function kTe(e,t,n,r,s){const a=r.classList;let i=h1(s,"base");i!==void 0&&a.add(...i),i=h1(s,"underlineStrikethrough");let l=!1;const c=t&q6&&t&$6;i!==void 0&&(n&q6&&n&$6?(l=!0,c||a.add(...i)):c&&a.remove(...i));for(const u in Kh){const d=Kh[u];if(i=h1(s,u),i!==void 0)if(n&d){if(l&&(u==="underline"||u==="strikethrough")){t&d&&a.remove(...i);continue}t&d&&(!c||u!=="underline")&&u!=="strikethrough"||a.add(...i)}else t&d&&a.remove(...i)}}function ETe(e,t,n){const r=t.firstChild,s=n.isComposing(),a=e+(s?r8:"");if(r==null)t.textContent=a;else{const i=r.nodeValue;if(i!==a)if(s||Ad){const[l,c,u]=function(d,h){const m=d.length,g=h.length;let v=0,x=0;for(;v<m&&v<g&&d[v]===h[v];)v++;for(;x+v<m&&x+v<g&&d[m-x-1]===h[g-x-1];)x++;return[v,m-v-x,h.slice(v,g-x)]}(i,a);c!==0&&r.deleteData(l,c),r.insertData(l,u)}else r.nodeValue=a}}function dse(e,t,n,r,s,a){ETe(s,e,t);const i=a.theme.text;i!==void 0&&kTe(0,0,r,e,i)}function i5(e,t){const n=document.createElement(t);return n.appendChild(e),n}class gm extends i8{static getType(){return"text"}static clone(t){return new gm(t.__text,t.__key)}afterCloneFrom(t){super.afterCloneFrom(t),this.__text=t.__text,this.__format=t.__format,this.__style=t.__style,this.__mode=t.__mode,this.__detail=t.__detail}constructor(t="",n){super(n),this.__text=t,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const t=this.getLatest();return COt[t.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===Cd()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(t){const n=Kh[t];return!!(this.getFormat()&n)}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(t,n){return e_(this.getLatest().__format,t,n)}canHaveFormat(){return!0}isInline(){return!0}createDOM(t,n){const r=this.__format,s=SN(0,r),a=MN(0,r),i=s===null?a:s,l=document.createElement(i);let c=l;this.hasFormat("code")&&l.setAttribute("spellcheck","false"),s!==null&&(c=document.createElement(a),l.appendChild(c)),dse(c,this,0,r,this.__text,t);const u=this.__style;return u!==""&&(l.style.cssText=u),l}updateDOM(t,n,r){const s=this.__text,a=t.__format,i=this.__format,l=SN(0,a),c=SN(0,i),u=MN(0,a),d=MN(0,i);if((l===null?u:l)!==(c===null?d:c))return!0;if(l===c&&u!==d){const x=n.firstChild;x==null&&Xe(48);const b=document.createElement(d);return dse(b,this,0,i,s,r),n.replaceChild(b,x),!1}let h=n;c!==null&&l!==null&&(h=n.firstChild,h==null&&Xe(49)),ETe(s,h,this);const m=r.theme.text;m!==void 0&&a!==i&&kTe(0,a,i,h,m);const g=t.__style,v=this.__style;return g!==v&&(n.style.cssText=v),!1}static importDOM(){return{"#text":()=>({conversion:XOt,priority:0}),b:()=>({conversion:KOt,priority:0}),code:()=>({conversion:Lc,priority:0}),em:()=>({conversion:Lc,priority:0}),i:()=>({conversion:Lc,priority:0}),mark:()=>({conversion:Lc,priority:0}),s:()=>({conversion:Lc,priority:0}),span:()=>({conversion:YOt,priority:0}),strong:()=>({conversion:Lc,priority:0}),sub:()=>({conversion:Lc,priority:0}),sup:()=>({conversion:Lc,priority:0}),u:()=>({conversion:Lc,priority:0})}}static importJSON(t){return rs().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setTextContent(t.text).setFormat(t.format).setDetail(t.detail).setMode(t.mode).setStyle(t.style)}exportDOM(t){let{element:n}=super.exportDOM(t);return Oa(n)||Xe(132),n.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?n.style.textTransform="lowercase":this.hasFormat("uppercase")?n.style.textTransform="uppercase":this.hasFormat("capitalize")&&(n.style.textTransform="capitalize"),this.hasFormat("bold")&&(n=i5(n,"b")),this.hasFormat("italic")&&(n=i5(n,"i")),this.hasFormat("strikethrough")&&(n=i5(n,"s")),this.hasFormat("underline")&&(n=i5(n,"u")),{element:n}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),...super.exportJSON()}}selectionTransform(t,n){}setFormat(t){const n=this.getWritable();return n.__format=typeof t=="string"?Kh[t]:t,n}setDetail(t){const n=this.getWritable();return n.__detail=typeof t=="string"?bOt[t]:t,n}setStyle(t){const n=this.getWritable();return n.__style=t,n}toggleFormat(t){const n=e_(this.getFormat(),t,null);return this.setFormat(n)}toggleDirectionless(){const t=this.getWritable();return t.__detail^=1,t}toggleUnmergeable(){const t=this.getWritable();return t.__detail^=2,t}setMode(t){const n=_Ot[t];if(this.__mode===n)return this;const r=this.getWritable();return r.__mode=n,r}setTextContent(t){if(this.__text===t)return this;const n=this.getWritable();return n.__text=t,n}select(t,n){ua();let r=t,s=n;const a=xt(),i=this.getTextContent(),l=this.__key;if(typeof i=="string"){const c=i.length;r===void 0&&(r=c),s===void 0&&(s=c)}else r=0,s=0;if(!rt(a))return jTe(l,r,l,s,"text","text");{const c=Cd();c!==a.anchor.key&&c!==a.focus.key||Ks(l),a.setTextNodeRange(this,r,this,s)}return a}selectStart(){return this.select(0,0)}selectEnd(){const t=this.getTextContentSize();return this.select(t,t)}spliceText(t,n,r,s){const a=this.getWritable(),i=a.__text,l=r.length;let c=t;c<0&&(c=l+c,c<0&&(c=0));const u=xt();if(s&&rt(u)){const h=t+l;u.setTextNodeRange(a,h,a,h)}const d=i.slice(0,c)+r+i.slice(c+n);return a.__text=d,a}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...t){ua();const n=this.getLatest(),r=n.getTextContent();if(r==="")return[];const s=n.__key,a=Cd(),i=r.length;t.sort((N,R)=>N-R),t.push(i);const l=[],c=t.length;for(let N=0,R=0;N<i&&R<=c;R++){const O=t[R];O>N&&(l.push(r.slice(N,O)),N=O)}const u=l.length;if(u===1)return[n];const d=l[0],h=n.getParent();let m;const g=n.getFormat(),v=n.getStyle(),x=n.__detail;let b=!1,w=null,C=null;const S=xt();if(rt(S)){const[N,R]=S.isBackward()?[S.focus,S.anchor]:[S.anchor,S.focus];N.type==="text"&&N.key===s&&(w=N),R.type==="text"&&R.key===s&&(C=R)}n.isSegmented()?(m=rs(d),m.__format=g,m.__style=v,m.__detail=x,b=!0):(m=n.getWritable(),m.__text=d);const k=[m];for(let N=1;N<u;N++){const R=rs(l[N]);R.__format=g,R.__style=v,R.__detail=x;const O=R.__key;a===s&&Ks(O),k.push(R)}const E=w?w.offset:null,T=C?C.offset:null;let j=0;for(const N of k){if(!w&&!C)break;const R=j+N.getTextContentSize();if(w!==null&&E!==null&&E<=R&&E>=j&&(w.set(N.getKey(),E-j,"text"),E<R&&(w=null)),C!==null&&T!==null&&T<=R&&T>=j){C.set(N.getKey(),T-j,"text");break}j=R}if(h!==null){(function(O){const I=O.getPreviousSibling(),B=O.getNextSibling();I!==null&&t_(I),B!==null&&t_(B)})(this);const N=h.getWritable(),R=this.getIndexWithinParent();b?(N.splice(R,0,k),this.remove()):N.splice(R,1,k),rt(S)&&Z6(S,h,R,u-1)}return k}mergeWithSibling(t){const n=t===this.getPreviousSibling();n||t===this.getNextSibling()||Xe(50);const r=this.__key,s=t.__key,a=this.__text,i=a.length;Cd()===s&&Ks(r);const l=xt();if(rt(l)){const h=l.anchor,m=l.focus;h!==null&&h.key===s&&wse(h,n,r,t,i),m!==null&&m.key===s&&wse(m,n,r,t,i)}const c=t.__text,u=n?c+a:a+c;this.setTextContent(u);const d=this.getWritable();return t.remove(),d}isTextEntity(){return!1}}function YOt(e){return{forChild:MV(e.style),node:null}}function KOt(e){const t=e,n=t.style.fontWeight==="normal";return{forChild:MV(t.style,n?void 0:"bold"),node:null}}const fse=new WeakMap;function QOt(e){if(!Oa(e))return!1;if(e.nodeName==="PRE")return!0;const t=e.style.whiteSpace;return typeof t=="string"&&t.startsWith("pre")}function XOt(e){const t=e;e.parentElement===null&&Xe(129);let n=t.textContent||"";if(function(r){let s,a=r.parentNode;const i=[r];for(;a!==null&&(s=fse.get(a))===void 0&&!QOt(a);)i.push(a),a=a.parentNode;const l=s===void 0?a:s;for(let c=0;c<i.length;c++)fse.set(i[c],l);return l}(t)!==null){const r=n.split(/(\r?\n|\t)/),s=[],a=r.length;for(let i=0;i<a;i++){const l=r[i];l===`
`||l===`\r
`?s.push(Yd()):l==="	"?s.push(o8()):l!==""&&s.push(rs(l))}return{node:s}}if(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," "),n==="")return{node:null};if(n[0]===" "){let r=t,s=!0;for(;r!==null&&(r=hse(r,!1))!==null;){const a=r.textContent||"";if(a.length>0){/[ \t\n]$/.test(a)&&(n=n.slice(1)),s=!1;break}}s&&(n=n.slice(1))}if(n[n.length-1]===" "){let r=t,s=!0;for(;r!==null&&(r=hse(r,!0))!==null;)if((r.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){s=!1;break}s&&(n=n.slice(0,n.length-1))}return n===""?{node:null}:{node:rs(n)}}function hse(e,t){let n=e;for(;;){let r;for(;(r=t?n.nextSibling:n.previousSibling)===null;){const a=n.parentElement;if(a===null)return null;n=a}if(n=r,Oa(n)){const a=n.style.display;if(a===""&&!TO(n)||a!==""&&!a.startsWith("inline"))return null}let s=n;for(;(s=t?n.firstChild:n.lastChild)!==null;)n=s;if(Nu(n))return n;if(n.nodeName==="BR")return null}}const ZOt={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Lc(e){const t=ZOt[e.nodeName.toLowerCase()];return t===void 0?{node:null}:{forChild:MV(e.style,t),node:null}}function rs(e=""){return ym(new gm(e))}function bt(e){return e instanceof gm}function MV(e,t){const n=e.fontWeight,r=e.textDecoration.split(" "),s=n==="700"||n==="bold",a=r.includes("line-through"),i=e.fontStyle==="italic",l=r.includes("underline"),c=e.verticalAlign;return u=>(bt(u)&&(s&&!u.hasFormat("bold")&&u.toggleFormat("bold"),a&&!u.hasFormat("strikethrough")&&u.toggleFormat("strikethrough"),i&&!u.hasFormat("italic")&&u.toggleFormat("italic"),l&&!u.hasFormat("underline")&&u.toggleFormat("underline"),c!=="sub"||u.hasFormat("subscript")||u.toggleFormat("subscript"),c!=="super"||u.hasFormat("superscript")||u.toggleFormat("superscript"),t&&!u.hasFormat(t)&&u.toggleFormat(t)),u)}class xb extends gm{static getType(){return"tab"}static clone(t){return new xb(t.__key)}constructor(t){super("	",t),this.__detail=2}static importDOM(){return null}createDOM(t){const n=super.createDOM(t),r=h1(t.theme,"tab");return r!==void 0&&n.classList.add(...r),n}static importJSON(t){return o8().updateFromJSON(t)}setTextContent(t){return t!=="	"&&t!==""&&Xe(126),super.setTextContent(t)}setDetail(t){return t!==2&&Xe(127),this}setMode(t){return t!=="normal"&&Xe(128),this}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function o8(){return ym(new xb)}function JOt(e){return e instanceof xb}class ePt{constructor(t,n,r){this._selection=null,this.key=t,this.offset=n,this.type=r}is(t){return this.key===t.key&&this.offset===t.offset&&this.type===t.type}isBefore(t){return this.key===t.key?this.offset<t.offset:JTe(Al(Qd(this,"next")),Al(Qd(t,"next")))<0}getNode(){const t=Rs(this.key);return t===null&&Xe(20),t}set(t,n,r,s){const a=this._selection,i=this.key;s&&this.key===t&&this.offset===n&&this.type===r||(this.key=t,this.offset=n,this.type=r,wb()||(Cd()===i&&Ks(t),a!==null&&(a.setCachedNodes(null),a.dirty=!0)))}}function Xl(e,t,n){return new ePt(e,t,n)}function kN(e,t){let n=t.__key,r=e.offset,s="element";if(bt(t)){s="text";const a=t.getTextContentSize();r>a&&(r=a)}else if(!He(t)){const a=t.getNextSibling();if(bt(a))n=a.__key,r=0,s="text";else{const i=t.getParent();i&&(n=i.__key,r=t.getIndexWithinParent()+1)}}e.set(n,r,s)}function mse(e,t){if(He(t)){const n=t.getLastDescendant();He(n)||bt(n)?kN(e,n):kN(e,t)}else kN(e,t)}class l8{constructor(t){this._cachedNodes=null,this._nodes=t,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){if(!Rd(t))return!1;const n=this._nodes,r=t._nodes;return n.size===r.size&&Array.from(n).every(s=>r.has(s))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(t){this.dirty=!0,this._nodes.add(t),this._cachedNodes=null}delete(t){this.dirty=!0,this._nodes.delete(t),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(t){return this._nodes.has(t)}clone(){return new l8(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(t){}insertText(){}insertNodes(t){const n=this.getNodes(),r=n.length,s=n[r-1];let a;if(bt(s))a=s.select();else{const i=s.getIndexWithinParent()+1;a=s.getParentOrThrow().select(i,i)}a.insertNodes(t);for(let i=0;i<r;i++)n[i].remove()}getNodes(){const t=this._cachedNodes;if(t!==null)return t;const n=this._nodes,r=[];for(const s of n){const a=Rs(s);a!==null&&r.push(a)}return wb()||(this._cachedNodes=r),r}getTextContent(){const t=this.getNodes();let n="";for(let r=0;r<t.length;r++)n+=t[r].getTextContent();return n}deleteNodes(){const t=this.getNodes();if((xt()||bb())===this&&t[0]){const n=va(t[0],"next");PPt(em(n,n))}for(const n of t)n.remove()}}function rt(e){return e instanceof vm}class vm{constructor(t,n,r,s){this.anchor=t,this.focus=n,t._selection=this,n._selection=this,this._cachedNodes=null,this.format=r,this.style=s,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){return!!rt(t)&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)&&this.format===t.format&&this.style===t.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const t=this._cachedNodes;if(t!==null)return t;const n=function(r){const s=[],[a,i]=r.getTextSlices();a&&s.push(a.caret.origin);const l=new Set,c=new Set;for(const u of r)if(zl(u)){const{origin:d}=u;s.length===0?l.add(d):(c.add(d),s.push(d))}else{const{origin:d}=u;He(d)&&c.has(d)||s.push(d)}if(i&&s.push(i.caret.origin),og(r.focus)&&He(r.focus.origin)&&r.focus.getNodeAtCaret()===null)for(let u=Kd(r.focus.origin,"previous");zl(u)&&l.has(u.origin)&&!u.origin.isEmpty()&&u.origin.is(s[s.length-1]);u=VV(u))l.delete(u.origin),s.pop();for(;s.length>1;){const u=s[s.length-1];if(!He(u)||c.has(u)||u.isEmpty()||l.has(u))break;s.pop()}if(s.length===0&&r.isCollapsed()){const u=Al(r.anchor),d=Al(r.anchor.getFlipped()),h=g=>Mh(g)?g.origin:g.getNodeAtCaret(),m=h(u)||h(d)||(r.anchor.getNodeAtCaret()?u.origin:d.origin);s.push(m)}return s}(nNe(Vse(this),"next"));return wb()||(this._cachedNodes=n),n}setTextNodeRange(t,n,r,s){this.anchor.set(t.__key,n,"text"),this.focus.set(r.__key,s,"text")}getTextContent(){const t=this.getNodes();if(t.length===0)return"";const n=t[0],r=t[t.length-1],s=this.anchor,a=this.focus,i=s.isBefore(a),[l,c]=wO(this);let u="",d=!0;for(let h=0;h<t.length;h++){const m=t[h];if(He(m)&&!m.isInline())d||(u+=`
`),d=!m.isEmpty();else if(d=!1,bt(m)){let g=m.getTextContent();m===n?m===r?s.type==="element"&&a.type==="element"&&a.offset!==s.offset||(g=l<c?g.slice(l,c):g.slice(c,l)):g=i?g.slice(l):g.slice(c):m===r&&(g=i?g.slice(0,c):g.slice(0,l)),u+=g}else!Hn(m)&&!f1(m)||m===r&&this.isCollapsed()||(u+=m.getTextContent())}return u}applyDOMRange(t){const n=Rr(),r=n.getEditorState()._selection,s=NTe(t.startContainer,t.startOffset,t.endContainer,t.endOffset,n,r);if(s===null)return;const[a,i]=s;this.anchor.set(a.key,a.offset,a.type,!0),this.focus.set(i.key,i.offset,i.type,!0),qy(this)}clone(){const t=this.anchor,n=this.focus;return new vm(Xl(t.key,t.offset,t.type),Xl(n.key,n.offset,n.type),this.format,this.style)}toggleFormat(t){this.format=e_(this.format,t,null),this.dirty=!0}setStyle(t){this.style=t,this.dirty=!0}hasFormat(t){const n=Kh[t];return!!(this.format&n)}insertRawText(t){const n=t.split(/(\r?\n|\t)/),r=[],s=n.length;for(let a=0;a<s;a++){const i=n[a];i===`
`||i===`\r
`?r.push(Yd()):i==="	"?r.push(o8()):r.push(rs(i))}this.insertNodes(r)}insertText(t){const n=this.anchor,r=this.focus,s=this.format,a=this.style;let i=n,l=r;!this.isCollapsed()&&r.isBefore(n)&&(i=r,l=n),i.type==="element"&&function(b,w,C,S){const k=b.getNode(),E=k.getChildAtIndex(b.offset),T=rs(),j=pa(k)?ro().append(T):T;T.setFormat(C),T.setStyle(S),E===null?k.append(j):E.insertBefore(j),b.is(w)&&w.set(T.__key,0,"text"),b.set(T.__key,0,"text")}(i,l,s,a),l.type==="element"&&Xy(l,Al(Qd(l,"next")));const c=i.offset;let u=l.offset;const d=this.getNodes(),h=d.length;let m=d[0];bt(m)||Xe(26);const g=m.getTextContent().length,v=m.getParentOrThrow();let x=d[h-1];if(h===1&&l.type==="element"&&(u=g,l.set(i.key,u,"text")),this.isCollapsed()&&c===g&&(m.isSegmented()||m.isToken()||!m.canInsertTextAfter()||!v.canInsertTextAfter()&&m.getNextSibling()===null)){let b=m.getNextSibling();if(bt(b)&&b.canInsertTextBefore()&&!kp(b)||(b=rs(),b.setFormat(s),b.setStyle(a),v.canInsertTextAfter()?m.insertAfter(b):v.insertAfter(b)),b.select(0,0),m=b,t!=="")return void this.insertText(t)}else if(this.isCollapsed()&&c===0&&(m.isSegmented()||m.isToken()||!m.canInsertTextBefore()||!v.canInsertTextBefore()&&m.getPreviousSibling()===null)){let b=m.getPreviousSibling();if(bt(b)&&!kp(b)||(b=rs(),b.setFormat(s),v.canInsertTextBefore()?m.insertBefore(b):v.insertBefore(b)),b.select(),m=b,t!=="")return void this.insertText(t)}else if(m.isSegmented()&&c!==g){const b=rs(m.getTextContent());b.setFormat(s),m.replace(b),m=b}else if(!this.isCollapsed()&&t!==""){const b=x.getParent();if(!v.canInsertTextBefore()||!v.canInsertTextAfter()||He(b)&&(!b.canInsertTextBefore()||!b.canInsertTextAfter()))return this.insertText(""),TTe(this.anchor,this.focus,null),void this.insertText(t)}if(h===1){if(m.isToken()){const S=rs(t);return S.select(),void m.replace(S)}const b=m.getFormat(),w=m.getStyle();if(c!==u||b===s&&w===a){if(JOt(m)){const S=rs(t);return S.setFormat(s),S.setStyle(a),S.select(),void m.replace(S)}}else{if(m.getTextContent()!==""){const S=rs(t);if(S.setFormat(s),S.setStyle(a),S.select(),c===0)m.insertBefore(S,!1);else{const[k]=m.splitText(c);k.insertAfter(S,!1)}return void(S.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=t.length))}m.setFormat(s),m.setStyle(a)}const C=u-c;m=m.spliceText(c,C,t,!0),m.getTextContent()===""?m.remove():this.anchor.type==="text"&&(m.isComposing()?this.anchor.offset-=t.length:(this.format=b,this.style=w))}else{const b=new Set([...m.getParentKeys(),...x.getParentKeys()]),w=He(m)?m:m.getParentOrThrow();let C=He(x)?x:x.getParentOrThrow(),S=x;if(!w.is(C)&&C.isInline())do S=C,C=C.getParentOrThrow();while(C.isInline());if(l.type==="text"&&(u!==0||x.getTextContent()==="")||l.type==="element"&&x.getIndexWithinParent()<u)if(bt(x)&&!x.isToken()&&u!==x.getTextContentSize()){if(x.isSegmented()){const N=rs(x.getTextContent());x.replace(N),x=N}pa(l.getNode())||l.type!=="text"||(x=x.spliceText(0,u,"")),b.add(x.__key)}else{const N=x.getParentOrThrow();N.canBeEmpty()||N.getChildrenSize()!==1?x.remove():N.remove()}else b.add(x.__key);const k=C.getChildren(),E=new Set(d),T=w.is(C),j=w.isInline()&&m.getNextSibling()===null?w:m;for(let N=k.length-1;N>=0;N--){const R=k[N];if(R.is(m)||He(R)&&R.isParentOf(m))break;R.isAttached()&&(!E.has(R)||R.is(S)?T||j.insertAfter(R,!1):R.remove())}if(!T){let N=C,R=null;for(;N!==null;){const O=N.getChildren(),I=O.length;(I===0||O[I-1].is(R))&&(b.delete(N.__key),R=N),N=N.getParent()}}if(m.isToken())if(c===g)m.select();else{const N=rs(t);N.select(),m.replace(N)}else m=m.spliceText(c,g-c,t,!0),m.getTextContent()===""?m.remove():m.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=t.length);for(let N=1;N<h;N++){const R=d[N],O=R.__key;b.has(O)||R.remove()}}}removeText(){const t=xt()===this;Z5(this,IPt(Vse(this))),t&&xt()!==this&&ai(this)}formatText(t,n=null){if(this.isCollapsed())return this.toggleFormat(t),void Ks(null);const r=this.getNodes(),s=[];for(const k of r)bt(k)&&s.push(k);const a=k=>{r.forEach(E=>{if(He(E)){const T=E.getFormatFlags(t,k);E.setTextFormat(T)}})},i=s.length;if(i===0)return this.toggleFormat(t),Ks(null),void a(n);const l=this.anchor,c=this.focus,u=this.isBackward(),d=u?c:l,h=u?l:c;let m=0,g=s[0],v=d.type==="element"?0:d.offset;if(d.type==="text"&&v===g.getTextContentSize()&&(m=1,g=s[1],v=0),g==null)return;const x=g.getFormatFlags(t,n);a(x);const b=i-1;let w=s[b];const C=h.type==="text"?h.offset:w.getTextContentSize();if(g.is(w)){if(v===C)return;if(kp(g)||v===0&&C===g.getTextContentSize())g.setFormat(x);else{const k=g.splitText(v,C),E=v===0?k[0]:k[1];E.setFormat(x),d.type==="text"&&d.set(E.__key,0,"text"),h.type==="text"&&h.set(E.__key,C-v,"text")}return void(this.format=x)}v===0||kp(g)||([,g]=g.splitText(v),v=0),g.setFormat(x);const S=w.getFormatFlags(t,x);C>0&&(C===w.getTextContentSize()||kp(w)||([w]=w.splitText(C)),w.setFormat(S));for(let k=m+1;k<b;k++){const E=s[k],T=E.getFormatFlags(t,S);E.setFormat(T)}d.type==="text"&&d.set(g.__key,v,"text"),h.type==="text"&&h.set(w.__key,C,"text"),this.format=x|S}insertNodes(t){if(t.length===0)return;if(this.isCollapsed()||this.removeText(),this.anchor.key==="root"){this.insertParagraph();const v=xt();return rt(v)||Xe(134),v.insertNodes(t)}const n=(this.isBackward()?this.focus:this.anchor).getNode(),r=AN(n,gd),s=t[t.length-1];if(He(r)&&"__language"in r){if("__language"in t[0])this.insertText(t[0].getTextContent());else{const v=EN(this);r.splice(v,0,t),s.selectEnd()}return}if(!t.some(v=>(He(v)||Hn(v))&&!v.isInline())){He(r)||Xe(211,n.constructor.name,n.getType());const v=EN(this);return r.splice(v,0,t),void s.selectEnd()}const a=function(v){const x=ro();let b=null;for(let w=0;w<v.length;w++){const C=v[w],S=f1(C);if(S||Hn(C)&&C.isInline()||He(C)&&C.isInline()||bt(C)||C.isParentRequired()){if(b===null&&(b=C.createParentElementNode(),x.append(b),S))continue;b!==null&&b.append(C)}else x.append(C),b=null}return x}(t),i=a.getLastDescendant(),l=a.getChildren(),c=!He(r)||!r.isEmpty()?this.insertParagraph():null,u=l[l.length-1];let d=l[0];var h;He(h=d)&&gd(h)&&!h.isEmpty()&&He(r)&&(!r.isEmpty()||r.canMergeWhenEmpty())&&(He(r)||Xe(211,n.constructor.name,n.getType()),r.append(...d.getChildren()),d=l[1]),d&&(r===null&&Xe(212,n.constructor.name,n.getType()),function(v,x,b){const w=x.getParentOrThrow().getLastChild();let C=x;const S=[x];for(;C!==w;)C.getNextSibling()||Xe(140),C=C.getNextSibling(),S.push(C);let k=v;for(const E of S)k=k.insertAfter(E)}(r,d));const m=AN(i,gd);c&&He(m)&&(c.canMergeWhenEmpty()||gd(u))&&(m.append(...c.getChildren()),c.remove()),He(r)&&r.isEmpty()&&r.remove(),i.selectEnd();const g=He(r)?r.getLastChild():null;f1(g)&&m!==r&&g.remove()}insertParagraph(){if(this.anchor.key==="root"){const i=ro();return ir().splice(this.anchor.offset,0,[i]),i.select(),i}const t=EN(this),n=AN(this.anchor.getNode(),gd);He(n)||Xe(213);const r=n.getChildAtIndex(t),s=r?[r,...r.getNextSiblings()]:[],a=n.insertNewAfter(this,!1);return a?(a.append(...s),a.selectStart(),a):null}insertLineBreak(t){const n=Yd();if(this.insertNodes([n]),t){const r=n.getParentOrThrow(),s=n.getIndexWithinParent();r.select(s,s)}}extract(){const t=this.getNodes(),n=t.length,r=n-1,s=this.anchor,a=this.focus;let i=t[0],l=t[r];const[c,u]=wO(this);if(n===0)return[];if(n===1){if(bt(i)&&!this.isCollapsed()){const h=c>u?u:c,m=c>u?c:u,g=i.splitText(h,m),v=h===0?g[0]:g[1];return v!=null?[v]:[]}return[i]}const d=s.isBefore(a);if(bt(i)){const h=d?c:u;h===i.getTextContentSize()?t.shift():h!==0&&([,i]=i.splitText(h),t[0]=i)}if(bt(l)){const h=l.getTextContent().length,m=d?u:c;m===0?t.pop():m!==h&&([l]=l.splitText(m),t[r]=l)}return t}modify(t,n,r){if(_se(this,t,n,r))return;const s=t==="move",a=Rr(),i=Zl(co(a));if(!i)return;const l=a._blockCursorElement,c=a._rootElement,u=this.focus.getNode();if(c===null||l===null||!He(u)||u.isInline()||u.canBeEmpty()||kO(l,a,c),this.dirty){let d=ig(a,this.anchor.key),h=ig(a,this.focus.key);this.anchor.type==="text"&&(d=sg(d)),this.focus.type==="text"&&(h=sg(h)),d&&h&&RTe(i,d,this.anchor.offset,h,this.focus.offset)}if(function(d,h,m,g){d.modify(h,m,g)}(i,t,n?"backward":"forward",r),i.rangeCount>0){const d=i.getRangeAt(0),h=this.anchor.getNode(),m=pa(h)?h:bPt(h);if(this.applyDOMRange(d),this.dirty=!0,!s){const g=this.getNodes(),v=[];let x=!1;for(let b=0;b<g.length;b++){const w=g[b];MO(w,m)?v.push(w):x=!0}if(x&&v.length>0)if(n){const b=v[0];He(b)?b.selectStart():b.getParentOrThrow().selectStart()}else{const b=v[v.length-1];He(b)?b.selectEnd():b.getParentOrThrow().selectEnd()}i.anchorNode===d.startContainer&&i.anchorOffset===d.startOffset||function(b){const w=b.focus,C=b.anchor,S=C.key,k=C.offset,E=C.type;C.set(w.key,w.offset,w.type,!0),w.set(S,k,E,!0)}(this)}}r==="lineboundary"&&_se(this,t,n,r,"decorators")}forwardDeletion(t,n,r){if(!r&&(t.type==="element"&&He(n)&&t.offset===n.getChildrenSize()||t.type==="text"&&t.offset===n.getTextContentSize())){const s=n.getParent(),a=n.getNextSibling()||(s===null?null:s.getNextSibling());if(He(a)&&a.isShadowRoot())return!0}return!1}deleteCharacter(t){const n=this.isCollapsed();if(this.isCollapsed()){const r=this.anchor;let s=r.getNode();if(this.forwardDeletion(r,s,t))return;const a=HV(Qd(r,t?"previous":"next"));if(a.getTextSlices().every(l=>l===null||l.distance===0)){let l={type:"initial"};for(const c of a.iterNodeCarets("shadowRoot"))if(zl(c)){if(!c.origin.isInline()){if(c.origin.isShadowRoot()){if(l.type==="merge-block")break;if(He(a.anchor.origin)&&a.anchor.origin.isEmpty()){const u=Al(c);Z5(this,em(u,u)),a.anchor.origin.remove()}return}l.type!=="merge-next-block"&&l.type!=="merge-block"||(l={block:l.block,caret:c,type:"merge-block"})}}else{if(l.type==="merge-block")break;if(og(c)){if(He(c.origin)){if(c.origin.isInline()){if(!c.origin.isParentOf(a.anchor.origin))break}else l={block:c.origin,type:"merge-next-block"};continue}if(Hn(c.origin)){if(!c.origin.isIsolated())if(l.type==="merge-next-block"&&(c.origin.isKeyboardSelectable()||!c.origin.isInline())&&He(a.anchor.origin)&&a.anchor.origin.isEmpty()){a.anchor.origin.remove();const u=ATe();u.add(c.origin.getKey()),ai(u)}else c.origin.remove();return}break}}if(l.type==="merge-block"){const{caret:c,block:u}=l;return Z5(this,em(!c.origin.isEmpty()&&u.isEmpty()?WV(va(u,c.direction)):a.anchor,c)),this.removeText()}}const i=this.focus;if(this.modify("extend",t,"character"),this.isCollapsed()){if(t&&r.offset===0&&gse(this,r.getNode()))return}else{const l=i.type==="text"?i.getNode():null;if(s=r.type==="text"?r.getNode():null,l!==null&&l.isSegmented()){const c=i.offset,u=l.getTextContentSize();if(l.is(s)||t&&c!==u||!t&&c!==0)return void vse(l,t,c)}else if(s!==null&&s.isSegmented()){const c=r.offset,u=s.getTextContentSize();if(s.is(l)||t&&c!==0||!t&&c!==u)return void vse(s,t,c)}(function(c,u){const d=c.anchor,h=c.focus,m=d.getNode(),g=h.getNode();if(m===g&&d.type==="text"&&h.type==="text"){const v=d.offset,x=h.offset,b=v<x,w=b?v:x,C=b?x:v,S=C-1;w!==S&&function(k){return!(qTe(k)||tPt(k))}(m.getTextContent().slice(w,C))&&(u?h.set(h.key,S,h.type):d.set(d.key,S,d.type))}})(this,t)}}if(this.removeText(),t&&!n&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const r=this.anchor.getNode();r.isEmpty()&&pa(r.getParent())&&r.getPreviousSibling()===null&&gse(this,r)}}deleteLine(t){this.isCollapsed()&&this.modify("extend",t,"lineboundary"),this.isCollapsed()?this.deleteCharacter(t):this.removeText()}deleteWord(t){if(this.isCollapsed()){const n=this.anchor,r=n.getNode();if(this.forwardDeletion(n,r,t))return;this.modify("extend",t,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function Rd(e){return e instanceof l8}function pse(e){const t=e.offset;if(e.type==="text")return t;const n=e.getNode();return t===n.getChildrenSize()?n.getTextContent().length:0}function wO(e){const t=e.getStartEndPoints();if(t===null)return[0,0];const[n,r]=t;return n.type==="element"&&r.type==="element"&&n.key===r.key&&n.offset===r.offset?[0,0]:[pse(n),pse(r)]}function gse(e,t){for(let n=t;n;n=n.getParent()){if(He(n)){if(n.collapseAtStart(e))return!0;if(ju(n))break}if(n.getPreviousSibling())break}return!1}const tPt=(()=>{try{const e=new RegExp("\\p{Emoji}","u"),t=e.test.bind(e);if(t("❤️")&&t("#️⃣")&&t("👍"))return t}catch{}return()=>!1})();function vse(e,t,n){const r=e,s=r.getTextContent().split(/(?=\s)/g),a=s.length;let i=0,l=0;for(let u=0;u<a;u++){const d=u===a-1;if(l=i,i+=s[u].length,t&&i===n||i>n||d){s.splice(u,1),d&&(l=void 0);break}}const c=s.join("").trim();c===""?r.remove():(r.setTextContent(c),r.select(l,l))}function yse(e,t,n,r){let s,a=t;if(Oa(e)){let i=!1;const l=e.childNodes,c=l.length,u=r._blockCursorElement;a===c&&(i=!0,a=c-1);let d=l[a],h=!1;if(d===u)d=l[a+1],h=!0;else if(u!==null){const m=u.parentNode;e===m&&t>Array.prototype.indexOf.call(m.children,u)&&a--}if(s=zp(d),bt(s))a=Rse(s,i);else{let m=zp(e);if(m===null)return null;if(He(m)){const g=r.getElementByKey(m.getKey());g===null&&Xe(214),[m,a]=m.getDOMSlot(g).resolveChildIndex(m,g,e,t),He(m)||Xe(215),i&&a>=m.getChildrenSize()&&(a=Math.max(0,m.getChildrenSize()-1));let x=m.getChildAtIndex(a);if(He(x)&&function(b,w,C){const S=b.getParent();return C===null||S===null||!S.canBeEmpty()||S!==C.getNode()}(x,0,n)){const b=i?x.getLastDescendant():x.getFirstDescendant();b===null?m=x:(x=b,m=He(x)?x:x.getParentOrThrow()),a=0}bt(x)?(s=x,m=null,a=Rse(x,i)):x!==m&&i&&!h&&(He(m)||Xe(216),a=Math.min(m.getChildrenSize(),a+1))}else{const g=m.getIndexWithinParent();a=t===0&&Hn(m)&&zp(e)===m?g:g+1,m=m.getParentOrThrow()}if(He(m))return Xl(m.__key,a,"element")}}else s=zp(e);return bt(s)?Xl(s.__key,a,"text"):null}function xse(e,t,n){const r=e.offset,s=e.getNode();if(r===0){const a=s.getPreviousSibling(),i=s.getParent();if(t){if((n||!t)&&a===null&&He(i)&&i.isInline()){const l=i.getPreviousSibling();bt(l)&&e.set(l.__key,l.getTextContent().length,"text")}}else He(a)&&!n&&a.isInline()?e.set(a.__key,a.getChildrenSize(),"element"):bt(a)&&e.set(a.__key,a.getTextContent().length,"text")}else if(r===s.getTextContent().length){const a=s.getNextSibling(),i=s.getParent();if(t&&He(a)&&a.isInline())e.set(a.__key,0,"element");else if((n||t)&&a===null&&He(i)&&i.isInline()&&!i.canInsertTextAfter()){const l=i.getNextSibling();bt(l)&&e.set(l.__key,0,"text")}}}function TTe(e,t,n){if(e.type==="text"&&t.type==="text"){const r=e.isBefore(t),s=e.is(t);xse(e,r,s),xse(t,!r,s),s&&t.set(e.key,e.offset,e.type);const a=Rr();if(a.isComposing()&&a._compositionKey!==e.key&&rt(n)){const i=n.anchor,l=n.focus;e.set(i.key,i.offset,i.type,!0),t.set(l.key,l.offset,l.type,!0)}}}function NTe(e,t,n,r,s,a){if(e===null||n===null||!d8(s,e,n))return null;const i=yse(e,t,rt(a)?a.anchor:null,s);if(i===null)return null;const l=yse(n,r,rt(a)?a.focus:null,s);if(l===null)return null;if(i.type==="element"&&l.type==="element"){const c=zp(e),u=zp(n);if(Hn(c)&&Hn(u))return null}return TTe(i,l,a),[i,l]}function _O(e){return He(e)&&!e.isInline()}function jTe(e,t,n,r,s,a){const i=xf(),l=new vm(Xl(e,t,s),Xl(n,r,a),0,"");return l.dirty=!0,i._selection=l,l}function nPt(){const e=Xl("root",0,"element"),t=Xl("root",0,"element");return new vm(e,t,0,"")}function ATe(){return new l8(new Set)}function kV(e,t,n,r){const s=n._window;if(s===null)return null;const a=r||s.event,i=a?a.type:void 0,l=i==="selectionchange",c=!oO&&(l||i==="beforeinput"||i==="compositionstart"||i==="compositionend"||i==="click"&&a&&a.detail===3||i==="drop"||i===void 0);let u,d,h,m;if(rt(e)&&!c)return e.clone();if(t===null)return null;if(u=t.anchorNode,d=t.focusNode,h=t.anchorOffset,m=t.focusOffset,l&&rt(e)&&!d8(n,u,d))return e.clone();const g=NTe(u,h,d,m,n,e);if(g===null)return null;const[v,x]=g;return new vm(v,x,rt(e)?e.format:0,rt(e)?e.style:"")}function xt(){return xf()._selection}function bb(){return Rr()._editorState._selection}function Z6(e,t,n,r=1){const s=e.anchor,a=e.focus,i=s.getNode(),l=a.getNode();if(!t.is(i)&&!t.is(l))return;const c=t.__key;if(e.isCollapsed()){const u=s.offset;if(n<=u&&r>0||n<u&&r<0){const d=Math.max(0,u+r);s.set(c,d,"element"),a.set(c,d,"element"),bse(e)}}else{const u=e.isBackward(),d=u?a:s,h=d.getNode(),m=u?s:a,g=m.getNode();if(t.is(h)){const v=d.offset;(n<=v&&r>0||n<v&&r<0)&&d.set(c,Math.max(0,v+r),"element")}if(t.is(g)){const v=m.offset;(n<=v&&r>0||n<v&&r<0)&&m.set(c,Math.max(0,v+r),"element")}}bse(e)}function bse(e){const t=e.anchor,n=t.offset,r=e.focus,s=r.offset,a=t.getNode(),i=r.getNode();if(e.isCollapsed()){if(!He(a))return;const l=a.getChildrenSize(),c=n>=l,u=c?a.getChildAtIndex(l-1):a.getChildAtIndex(n);if(bt(u)){let d=0;c&&(d=u.getTextContentSize()),t.set(u.__key,d,"text"),r.set(u.__key,d,"text")}}else{if(He(a)){const l=a.getChildrenSize(),c=n>=l,u=c?a.getChildAtIndex(l-1):a.getChildAtIndex(n);if(bt(u)){let d=0;c&&(d=u.getTextContentSize()),t.set(u.__key,d,"text")}}if(He(i)){const l=i.getChildrenSize(),c=s>=l,u=c?i.getChildAtIndex(l-1):i.getChildAtIndex(s);if(bt(u)){let d=0;c&&(d=u.getTextContentSize()),r.set(u.__key,d,"text")}}}}function J6(e,t,n,r,s){let a=null,i=0,l=null;r!==null?(a=r.__key,bt(r)?(i=r.getTextContentSize(),l="text"):He(r)&&(i=r.getChildrenSize(),l="element")):s!==null&&(a=s.__key,bt(s)?l="text":He(s)&&(l="element")),a!==null&&l!==null?e.set(a,i,l):(i=t.getIndexWithinParent(),i===-1&&(i=n.getChildrenSize()),e.set(n.__key,i,"element"))}function wse(e,t,n,r,s){e.type==="text"?e.set(n,e.offset+(t?0:s),"text"):e.offset>r.getIndexWithinParent()&&e.set(e.key,e.offset-1,"element")}function RTe(e,t,n,r,s){try{e.setBaseAndExtent(t,n,r,s)}catch{}}function rPt(e,t,n,r,s,a,i){const l=r.anchorNode,c=r.focusNode,u=r.anchorOffset,d=r.focusOffset,h=document.activeElement;if(s.has(oPt)&&h!==a||h!==null&&zTe(h))return;if(!rt(t))return void(e!==null&&d8(n,l,c)&&r.removeAllRanges());const m=t.anchor,g=t.focus,v=m.key,x=g.key,b=ig(n,v),w=ig(n,x),C=m.offset,S=g.offset,k=t.format,E=t.style,T=t.isCollapsed();let j=b,N=w,R=!1;if(m.type==="text"){j=sg(b);const V=m.getNode();R=V.getFormat()!==k||V.getStyle()!==E}else rt(e)&&e.anchor.type==="text"&&(R=!0);var O,I,B,D,z;if(g.type==="text"&&(N=sg(w)),j!==null&&N!==null&&(T&&(e===null||R||rt(e)&&(e.format!==k||e.style!==E))&&(O=k,I=E,B=C,D=v,z=performance.now(),bTe=[O,I,B,D,z]),u!==C||d!==S||l!==j||c!==N||r.type==="Range"&&T||(h!==null&&a.contains(h)||a.focus({preventScroll:!0}),m.type==="element"))){if(RTe(r,j,C,N,S),!s.has(lPt)&&t.isCollapsed()&&a!==null&&a===document.activeElement){const V=rt(t)&&t.anchor.type==="element"?j.childNodes[C]||null:r.rangeCount>0?r.getRangeAt(0):null;if(V!==null){let U;if(V instanceof Text){const H=document.createRange();H.selectNode(V),U=H.getBoundingClientRect()}else U=V.getBoundingClientRect();(function(H,q,$){const G=QTe($),K=DV(G);if(G===null||K===null)return;let{top:ee,bottom:oe}=q,ne=0,te=0,re=$;for(;re!==null;){const X=re===G.body;if(X)ne=0,te=co(H).innerHeight;else{const se=re.getBoundingClientRect();ne=se.top,te=se.bottom}let ce=0;if(ee<ne?ce=-(ne-ee):oe>te&&(ce=oe-te),ce!==0)if(X)K.scrollBy(0,ce);else{const se=re.scrollTop;re.scrollTop+=ce;const J=re.scrollTop-se;ee-=J,oe-=J}if(X)break;re=Cb(re)}})(n,U,a)}}yO=!0}}function EN(e){let t=e;e.isCollapsed()||t.removeText();const n=xt();rt(n)&&(t=n),rt(t)||Xe(161);const r=t.anchor;let s=r.getNode(),a=r.offset;for(;!gd(s);){const i=s;if([s,a]=sPt(s,a),i.is(s))break}return a}function sPt(e,t){const n=e.getParent();if(!n){const s=ro();return ir().append(s),s.select(),[ir(),0]}if(bt(e)){const s=e.splitText(t);if(s.length===0)return[n,e.getIndexWithinParent()];const a=t===0?0:1;return[n,s[0].getIndexWithinParent()+a]}if(!He(e)||t===0)return[n,e.getIndexWithinParent()];const r=e.getChildAtIndex(t);if(r){const s=new vm(Xl(e.__key,t,"element"),Xl(e.__key,t,"element"),0,""),a=e.insertNewAfter(s);a&&a.append(r,...r.getNextSiblings())}return[n,e.getIndexWithinParent()+1]}function _se(e,t,n,r,s="decorators-and-blocks"){if(t==="move"&&r==="character"&&!e.isCollapsed()){const[d,h]=n===e.isBackward()?[e.focus,e.anchor]:[e.anchor,e.focus];return h.set(d.key,d.offset,d.type),!0}const a=Qd(e.focus,n?"previous":"next"),i=r==="lineboundary",l=t==="move";let c=a,u=s==="decorators-and-blocks";if(!tNe(c)){for(const d of c){u=!1;const{origin:h}=d;if(!Hn(h)||h.isIsolated()||(c=d,!i||!h.isInline()))break}if(u)for(const d of HV(a).iterNodeCarets(t==="extend"?"shadowRoot":"root")){if(zl(d))d.origin.isInline()||(c=d);else{if(He(d.origin))continue;Hn(d.origin)&&!d.origin.isInline()&&(c=d)}break}}if(c===a)return!1;if(l&&!i&&Hn(c.origin)&&c.origin.isKeyboardSelectable()){const d=ATe();return d.add(c.origin.getKey()),ai(d),!0}return c=Al(c),l&&Xy(e.anchor,c),Xy(e.focus,c),u||!i}let js=null,As=null,ni=!1,TN=!1,K5=0;const Cse={characterData:!0,childList:!0,subtree:!0};function wb(){return ni||js!==null&&js._readOnly}function ua(){ni&&Xe(13)}function LTe(){K5>99&&Xe(14)}function xf(){return js===null&&Xe(195,OTe()),js}function Rr(){return As===null&&Xe(196,OTe()),As}function OTe(){let e=0;const t=new Set,n=u8.version;if(typeof window<"u")for(const s of document.querySelectorAll("[contenteditable]")){const a=f8(s);if(AV(a))e++;else if(a){let i=String(a.constructor.version||"<0.17.1");i===n&&(i+=" (separately built, likely a bundler configuration issue)"),t.add(i)}}let r=` Detected on the page: ${e} compatible editor(s) with version ${n}`;return t.size&&(r+=` and incompatible editors with versions ${Array.from(t).join(", ")}`),r}function aPt(){return As}function Sse(e,t,n){const r=t.__type,s=function(l,c){const u=l._nodes.get(c);return u===void 0&&Xe(30,c),u}(e,r);let a=n.get(r);a===void 0&&(a=Array.from(s.transforms),n.set(r,a));const i=a.length;for(let l=0;l<i&&(a[l](t),t.isAttached());l++);}function Mse(e,t){return e!==void 0&&e.__key!==t&&e.isAttached()}function PTe(e,t){if(!t)return;const n=e._updateTags;let r=t;Array.isArray(t)||(r=[t]);for(const s of r)n.add(s)}function iPt(e){return EV(e,Rr()._nodes)}function EV(e,t){const n=e.type,r=t.get(n);r===void 0&&Xe(17,n);const s=r.klass;e.type!==s.getType()&&Xe(18,s.name);const a=s.importJSON(e),i=e.children;if(He(a)&&Array.isArray(i))for(let l=0;l<i.length;l++){const c=EV(i[l],t);a.append(c)}return a}function kse(e,t,n){const r=js,s=ni,a=As;js=t,ni=!0,As=e;try{return n()}finally{js=r,ni=s,As=a}}function Hc(e,t){const n=e._pendingEditorState,r=e._rootElement,s=e._headless||r===null;if(n===null)return;const a=e._editorState,i=a._selection,l=n._selection,c=e._dirtyType!==Yh,u=js,d=ni,h=As,m=e._updating,g=e._observer;let v=null;if(e._pendingEditorState=null,e._editorState=n,!s&&c&&g!==null){As=e,js=n,ni=!1,e._updating=!0;try{const T=e._dirtyType,j=e._dirtyElements,N=e._dirtyLeaves;g.disconnect(),v=LOt(a,n,e,T,j,N)}catch(T){if(T instanceof Error&&e._onError(T),TN)throw T;return VTe(e,null,r,n),eTe(e),e._dirtyType=eg,TN=!0,Hc(e,a),void(TN=!1)}finally{g.observe(r,Cse),e._updating=m,js=u,ni=d,As=h}}n._readOnly||(n._readOnly=!0);const x=e._dirtyLeaves,b=e._dirtyElements,w=e._normalizedNodes,C=e._updateTags,S=e._deferred;c&&(e._dirtyType=Yh,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set),function(T,j){const N=T._decorators;let R=T._pendingDecorators||N;const O=j._nodeMap;let I;for(I in R)O.has(I)||(R===N&&(R=WTe(T)),delete R[I])}(e,n);const k=s?null:Zl(co(e));if(e._editable&&k!==null&&(c||l===null||l.dirty)&&r!==null&&!C.has(cPt)){As=e,js=n;try{if(g!==null&&g.disconnect(),c||l===null||l.dirty){const T=e._blockCursorElement;T!==null&&kO(T,e,r),rPt(i,l,e,k,C,r)}(function(T,j,N){let R=T._blockCursorElement;if(rt(N)&&N.isCollapsed()&&N.anchor.type==="element"&&j.contains(document.activeElement)){const O=N.anchor,I=O.getNode(),B=O.offset;let D=!1,z=null;if(B===I.getChildrenSize())jN(I.getChildAtIndex(B-1))&&(D=!0);else{const V=I.getChildAtIndex(B);if(V!==null&&jN(V)){const U=V.getPreviousSibling();(U===null||jN(U))&&(D=!0,z=T.getElementByKey(V.__key))}}if(D){const V=T.getElementByKey(I.__key);return R===null&&(T._blockCursorElement=R=function(U){const H=U.theme,q=document.createElement("div");q.contentEditable="false",q.setAttribute("data-lexical-cursor","true");let $=H.blockCursor;if($!==void 0){if(typeof $=="string"){const G=W6($);$=H.blockCursor=G}$!==void 0&&q.classList.add(...$)}return q}(T._config)),j.style.caretColor="transparent",void(z===null?V.appendChild(R):V.insertBefore(R,z))}}R!==null&&kO(R,T,j)})(e,r,l)}finally{g!==null&&g.observe(r,Cse),As=h,js=u}}v!==null&&function(T,j,N,R,O){const I=Array.from(T._listeners.mutation),B=I.length;for(let D=0;D<B;D++){const[z,V]=I[D],U=j.get(V);U!==void 0&&z(U,{dirtyLeaves:R,prevEditorState:O,updateTags:N})}}(e,v,C,x,a),rt(l)||l===null||i!==null&&i.is(l)||e.dispatchCommand(oTe,void 0);const E=e._pendingDecorators;E!==null&&(e._decorators=E,e._pendingDecorators=null,D2("decorator",e,!0,E)),function(T,j,N){const R=Ase(j),O=Ase(N);R!==O&&D2("textcontent",T,!0,O)}(e,t||a,n),D2("update",e,!0,{dirtyElements:b,dirtyLeaves:x,editorState:n,mutatedNodes:v,normalizedNodes:w,prevEditorState:t||a,tags:C}),function(T,j){if(T._deferred=[],j.length!==0){const N=T._updating;T._updating=!0;try{for(let R=0;R<j.length;R++)j[R]()}finally{T._updating=N}}}(e,S),function(T){const j=T._updates;if(j.length!==0){const N=j.shift();if(N){const[R,O]=N;TV(T,R,O)}}}(e)}function D2(e,t,n,...r){const s=t._updating;t._updating=n;try{const a=Array.from(t._listeners[e]);for(let i=0;i<a.length;i++)a[i].apply(null,r)}finally{t._updating=s}}function Ese(e,t){const n=e._updates;let r=t||!1;for(;n.length!==0;){const s=n.shift();if(s){const[a,i]=s;let l;if(i!==void 0){if(l=i.onUpdate,i.skipTransforms&&(r=!0),i.discrete){const c=e._pendingEditorState;c===null&&Xe(191),c._flushSync=!0}l&&e._deferred.push(l),PTe(e,i.tag)}a()}}return r}function TV(e,t,n){const r=e._updateTags;let s,a=!1,i=!1;n!==void 0&&(s=n.onUpdate,PTe(e,n.tag),a=n.skipTransforms||!1,i=n.discrete||!1),s&&e._deferred.push(s);const l=e._editorState;let c=e._pendingEditorState,u=!1;(c===null||c._readOnly)&&(c=e._pendingEditorState=DTe(c||l),u=!0),c._flushSync=i;const d=js,h=ni,m=As,g=e._updating;js=c,ni=!1,e._updating=!0,As=e;const v=e._headless||e.getRootElement()===null;try{u&&(v?l._selection!==null&&(c._selection=l._selection.clone()):c._selection=function(C,S){const k=C.getEditorState()._selection,E=Zl(co(C));return rt(k)||k==null?kV(k,E,C,S):k.clone()}(e,n&&n.event||null));const b=e._compositionKey;t(),a=Ese(e,a),function(C,S){const k=S.getEditorState()._selection,E=C._selection;if(rt(E)){const T=E.anchor,j=E.focus;let N;if(T.type==="text"&&(N=T.getNode(),N.selectionTransform(k,E)),j.type==="text"){const R=j.getNode();N!==R&&R.selectionTransform(k,E)}}}(c,e),e._dirtyType!==Yh&&(a?function(C,S){const k=S._dirtyLeaves,E=C._nodeMap;for(const T of k){const j=E.get(T);bt(j)&&j.isAttached()&&j.isSimpleText()&&!j.isUnmergeable()&&sse(j)}}(c,e):function(C,S){const k=S._dirtyLeaves,E=S._dirtyElements,T=C._nodeMap,j=Cd(),N=new Map;let R=k,O=R.size,I=E,B=I.size;for(;O>0||B>0;){if(O>0){S._dirtyLeaves=new Set;for(const D of R){const z=T.get(D);bt(z)&&z.isAttached()&&z.isSimpleText()&&!z.isUnmergeable()&&sse(z),z!==void 0&&Mse(z,j)&&Sse(S,z,N),k.add(D)}if(R=S._dirtyLeaves,O=R.size,O>0){K5++;continue}}S._dirtyLeaves=new Set,S._dirtyElements=new Map,I.delete("root")&&I.set("root",!0);for(const D of I){const z=D[0],V=D[1];if(E.set(z,V),!V)continue;const U=T.get(z);U!==void 0&&Mse(U,j)&&Sse(S,U,N)}R=S._dirtyLeaves,O=R.size,I=S._dirtyElements,B=I.size,K5++}S._dirtyLeaves=k,S._dirtyElements=E}(c,e),Ese(e),function(C,S,k,E){const T=C._nodeMap,j=S._nodeMap,N=[];for(const[R]of E){const O=j.get(R);O!==void 0&&(O.isAttached()||(He(O)&&XEe(O,R,T,j,N,E),T.has(R)||E.delete(R),N.push(R)))}for(const R of N)j.delete(R);for(const R of k){const O=j.get(R);O===void 0||O.isAttached()||(T.has(R)||k.delete(R),j.delete(R))}}(l,c,e._dirtyLeaves,e._dirtyElements)),b!==e._compositionKey&&(c._flushSync=!0);const w=c._selection;if(rt(w)){const C=c._nodeMap,S=w.anchor.key,k=w.focus.key;C.get(S)!==void 0&&C.get(k)!==void 0||Xe(19)}else Rd(w)&&w._nodes.size===0&&(c._selection=null)}catch(b){return b instanceof Error&&e._onError(b),e._pendingEditorState=l,e._dirtyType=eg,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void Hc(e)}finally{js=d,ni=h,As=m,e._updating=g,K5=0}e._dirtyType!==Yh||e._deferred.length>0||function(b,w){const C=w.getEditorState()._selection,S=b._selection;if(S!==null){if(S.dirty||!S.is(C))return!0}else if(C!==null)return!0;return!1}(c,e)?c._flushSync?(c._flushSync=!1,Hc(e)):u&&hPt(()=>{Hc(e)}):(c._flushSync=!1,u&&(r.clear(),e._deferred=[],e._pendingEditorState=null))}function gi(e,t,n){As===e&&n===void 0?t():TV(e,t,n)}class F2{constructor(t,n,r){this.element=t,this.before=n||null,this.after=r||null}withBefore(t){return new F2(this.element,t,this.after)}withAfter(t){return new F2(this.element,this.before,t)}withElement(t){return this.element===t?this:new F2(t,this.before,this.after)}insertChild(t){const n=this.before||this.getManagedLineBreak();return n!==null&&n.parentElement!==this.element&&Xe(222),this.element.insertBefore(t,n),this}removeChild(t){return t.parentElement!==this.element&&Xe(223),this.element.removeChild(t),this}replaceChild(t,n){return n.parentElement!==this.element&&Xe(224),this.element.replaceChild(t,n),this}getFirstChild(){const t=this.after?this.after.nextSibling:this.element.firstChild;return t===this.before||t===this.getManagedLineBreak()?null:t}getManagedLineBreak(){return this.element.__lexicalLineBreak||null}setManagedLineBreak(t){if(t===null)this.removeManagedLineBreak();else{const n=t==="decorator"&&(J1||$y);this.insertManagedLineBreak(n)}}removeManagedLineBreak(){const t=this.getManagedLineBreak();if(t){const n=this.element,r=t.nodeName==="IMG"?t.nextSibling:null;r&&n.removeChild(r),n.removeChild(t),n.__lexicalLineBreak=void 0}}insertManagedLineBreak(t){const n=this.getManagedLineBreak();if(n){if(t===(n.nodeName==="IMG"))return;this.removeManagedLineBreak()}const r=this.element,s=this.before,a=document.createElement("br");if(r.insertBefore(a,s),t){const i=document.createElement("img");i.setAttribute("data-lexical-linebreak","true"),i.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",i.alt="",r.insertBefore(i,a),r.__lexicalLineBreak=i}else r.__lexicalLineBreak=a}getFirstChildOffset(){let t=0;for(let n=this.after;n!==null;n=n.previousSibling)t++;return t}resolveChildIndex(t,n,r,s){if(r===this.element){const c=this.getFirstChildOffset();return[t,Math.min(c+t.getChildrenSize(),Math.max(c,s))]}const a=Tse(n,r);a.push(s);const i=Tse(n,this.element);let l=t.getIndexWithinParent();for(let c=0;c<i.length;c++){const u=a[c],d=i[c];if(u===void 0||u<d)break;if(u>d){l+=1;break}}return[t.getParentOrThrow(),l]}}function Tse(e,t){const n=[];let r=t;for(;r!==e&&r!==null;r=t.parentNode){let s=0;for(let a=r.previousSibling;a!==null;a=a.previousSibling)s++;n.push(s)}return r!==e&&Xe(225),n.reverse()}class _b extends i8{constructor(t){super(t),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null,this.__textFormat=0,this.__textStyle=""}afterCloneFrom(t){super.afterCloneFrom(t),this.__first=t.__first,this.__last=t.__last,this.__size=t.__size,this.__indent=t.__indent,this.__format=t.__format,this.__style=t.__style,this.__dir=t.__dir,this.__textFormat=t.__textFormat,this.__textStyle=t.__textStyle}getFormat(){return this.getLatest().__format}getFormatType(){const t=this.getFormat();return wOt[t]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const t=[];let n=this.getFirstChild();for(;n!==null;)t.push(n),n=n.getNextSibling();return t}getChildrenKeys(){const t=[];let n=this.getFirstChild();for(;n!==null;)t.push(n.__key),n=n.getNextSibling();return t}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const t=Rr()._dirtyElements;return t!==null&&t.has(this.__key)}isLastChild(){const t=this.getLatest(),n=this.getParentOrThrow().getLastChild();return n!==null&&n.is(t)}getAllTextNodes(){const t=[];let n=this.getFirstChild();for(;n!==null;){if(bt(n)&&t.push(n),He(n)){const r=n.getAllTextNodes();t.push(...r)}n=n.getNextSibling()}return t}getFirstDescendant(){let t=this.getFirstChild();for(;He(t);){const n=t.getFirstChild();if(n===null)break;t=n}return t}getLastDescendant(){let t=this.getLastChild();for(;He(t);){const n=t.getLastChild();if(n===null)break;t=n}return t}getDescendantByIndex(t){const n=this.getChildren(),r=n.length;if(t>=r){const a=n[r-1];return He(a)&&a.getLastDescendant()||a||null}const s=n[t];return He(s)&&s.getFirstDescendant()||s||null}getFirstChild(){const t=this.getLatest().__first;return t===null?null:Rs(t)}getFirstChildOrThrow(){const t=this.getFirstChild();return t===null&&Xe(45,this.__key),t}getLastChild(){const t=this.getLatest().__last;return t===null?null:Rs(t)}getLastChildOrThrow(){const t=this.getLastChild();return t===null&&Xe(96,this.__key),t}getChildAtIndex(t){const n=this.getChildrenSize();let r,s;if(t<n/2){for(r=this.getFirstChild(),s=0;r!==null&&s<=t;){if(s===t)return r;r=r.getNextSibling(),s++}return null}for(r=this.getLastChild(),s=n-1;r!==null&&s>=t;){if(s===t)return r;r=r.getPreviousSibling(),s--}return null}getTextContent(){let t="";const n=this.getChildren(),r=n.length;for(let s=0;s<r;s++){const a=n[s];t+=a.getTextContent(),He(a)&&s!==r-1&&!a.isInline()&&(t+=vu)}return t}getTextContentSize(){let t=0;const n=this.getChildren(),r=n.length;for(let s=0;s<r;s++){const a=n[s];t+=a.getTextContentSize(),He(a)&&s!==r-1&&!a.isInline()&&(t+=vu.length)}return t}getDirection(){return this.getLatest().__dir}getTextFormat(){return this.getLatest().__textFormat}hasFormat(t){if(t!==""){const n=tse[t];return!!(this.getFormat()&n)}return!1}hasTextFormat(t){const n=Kh[t];return!!(this.getTextFormat()&n)}getFormatFlags(t,n){return e_(this.getLatest().__textFormat,t,n)}getTextStyle(){return this.getLatest().__textStyle}select(t,n){ua();const r=xt();let s=t,a=n;const i=this.getChildrenSize();if(!this.canBeEmpty()){if(t===0&&n===0){const c=this.getFirstChild();if(bt(c)||He(c))return c.select(0,0)}else if(!(t!==void 0&&t!==i||n!==void 0&&n!==i)){const c=this.getLastChild();if(bt(c)||He(c))return c.select()}}s===void 0&&(s=i),a===void 0&&(a=i);const l=this.__key;return rt(r)?(r.anchor.set(l,s,"element"),r.focus.set(l,a,"element"),r.dirty=!0,r):jTe(l,s,l,a,"element","element")}selectStart(){const t=this.getFirstDescendant();return t?t.selectStart():this.select()}selectEnd(){const t=this.getLastDescendant();return t?t.selectEnd():this.select()}clear(){const t=this.getWritable();return this.getChildren().forEach(n=>n.remove()),t}append(...t){return this.splice(this.getChildrenSize(),0,t)}setDirection(t){const n=this.getWritable();return n.__dir=t,n}setFormat(t){return this.getWritable().__format=t!==""?tse[t]:0,this}setStyle(t){return this.getWritable().__style=t||"",this}setTextFormat(t){const n=this.getWritable();return n.__textFormat=t,n}setTextStyle(t){const n=this.getWritable();return n.__textStyle=t,n}setIndent(t){return this.getWritable().__indent=t,this}splice(t,n,r){const s=r.length,a=this.getChildrenSize(),i=this.getWritable();t+n<=a||Xe(226,String(t),String(n),String(a));const l=i.__key,c=[],u=[],d=this.getChildAtIndex(t+n);let h=null,m=a-n+s;if(t!==0)if(t===a)h=this.getLastChild();else{const v=this.getChildAtIndex(t);v!==null&&(h=v.getPreviousSibling())}if(n>0){let v=h===null?this.getFirstChild():h.getNextSibling();for(let x=0;x<n;x++){v===null&&Xe(100);const b=v.getNextSibling(),w=v.__key;Sh(v.getWritable()),u.push(w),v=b}}let g=h;for(let v=0;v<s;v++){const x=r[v];g!==null&&x.is(g)&&(h=g=g.getPreviousSibling());const b=x.getWritable();b.__parent===l&&m--,Sh(b);const w=x.__key;if(g===null)i.__first=w,b.__prev=null;else{const C=g.getWritable();C.__next=w,b.__prev=C.__key}x.__key===l&&Xe(76),b.__parent=l,c.push(w),g=x}if(t+n===a)g!==null&&(g.getWritable().__next=null,i.__last=g.__key);else if(d!==null){const v=d.getWritable();if(g!==null){const x=g.getWritable();v.__prev=g.__key,x.__next=d.__key}else v.__prev=null}if(i.__size=m,u.length){const v=xt();if(rt(v)){const x=new Set(u),b=new Set(c),{anchor:w,focus:C}=v;Nse(w,x,b)&&J6(w,w.getNode(),this,h,d),Nse(C,x,b)&&J6(C,C.getNode(),this,h,d),m!==0||this.canBeEmpty()||ju(this)||this.remove()}}return i}getDOMSlot(t){return new F2(t)}exportDOM(t){const{element:n}=super.exportDOM(t);if(Oa(n)){const r=this.getIndent();r>0&&(n.style.paddingInlineStart=40*r+"px");const s=this.getDirection();s&&(n.dir=s)}return{element:n}}exportJSON(){const t={children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),...super.exportJSON()},n=this.getTextFormat(),r=this.getTextStyle();return n!==0&&(t.textFormat=n),r!==""&&(t.textStyle=r),t}updateFromJSON(t){return super.updateFromJSON(t).setFormat(t.format).setIndent(t.indent).setDirection(t.direction).setTextFormat(t.textFormat||0).setTextStyle(t.textStyle||"")}insertNewAfter(t,n){return null}canIndent(){return!0}collapseAtStart(t){return!1}excludeFromCopy(t){return!1}canReplaceWith(t){return!0}canInsertAfter(t){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(t){return!1}extractWithChild(t,n,r){return!1}canMergeWhenEmpty(){return!1}reconcileObservedMutation(t,n){const r=this.getDOMSlot(t);let s=r.getFirstChild();for(let a=this.getFirstChild();a;a=a.getNextSibling()){const i=n.getElementByKey(a.getKey());i!==null&&(s==null?(r.insertChild(i),s=i):s!==i&&r.replaceChild(i,s),s=s.nextSibling)}}}function He(e){return e instanceof _b}function Nse(e,t,n){let r=e.getNode();for(;r;){const s=r.__key;if(t.has(s)&&!n.has(s))return!0;r=r.getParent()}return!1}class ITe extends i8{decorate(t,n){Xe(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Hn(e){return e instanceof ITe}class t0 extends _b{static getType(){return"root"}static clone(){return new t0}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){Xe(51)}getTextContent(){const t=this.__cachedText;return!wb()&&Rr()._dirtyType!==Yh||t===null?super.getTextContent():t}remove(){Xe(52)}replace(t){Xe(53)}insertBefore(t){Xe(54)}insertAfter(t){Xe(55)}updateDOM(t,n){return!1}splice(t,n,r){for(const s of r)He(s)||Hn(s)||Xe(282);return super.splice(t,n,r)}static importJSON(t){return ir().updateFromJSON(t)}collapseAtStart(){return!0}}function pa(e){return e instanceof t0}function DTe(e){return new c8(new Map(e._nodeMap))}function NV(){return new c8(new Map([["root",new t0]]))}function FTe(e){const t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&Xe(130,n.name),He(e)){const r=t.children;Array.isArray(r)||Xe(59,n.name);const s=e.getChildren();for(let a=0;a<s.length;a++){const i=FTe(s[a]);r.push(i)}}return t}class c8{constructor(t,n){this._nodeMap=t,this._selection=n||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(t,n){return kse(n&&n.editor||null,this,t)}clone(t){const n=new c8(this._nodeMap,t===void 0?this._selection:t);return n._readOnly=!0,n}toJSON(){return kse(null,this,()=>({root:FTe(ir())}))}}const sZt="historic",aZt="history-push",Q5="history-merge",UTe="paste",oPt="collaboration",lPt="skip-scroll-into-view",cPt="skip-dom-selection";class jV extends _b{static getType(){return"artificial"}createDOM(t){return document.createElement("div")}}class n0 extends _b{static getType(){return"paragraph"}static clone(t){return new n0(t.__key)}createDOM(t){const n=document.createElement("p"),r=h1(t.theme,"paragraph");return r!==void 0&&n.classList.add(...r),n}updateDOM(t,n,r){return!1}static importDOM(){return{p:t=>({conversion:uPt,priority:0})}}exportDOM(t){const{element:n}=super.exportDOM(t);if(Oa(n)){this.isEmpty()&&n.append(document.createElement("br"));const r=this.getFormatType();n.style.textAlign=r}return{element:n}}static importJSON(t){return ro().updateFromJSON(t)}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle()}}insertNewAfter(t,n){const r=ro();r.setTextFormat(t.format),r.setTextStyle(t.style);const s=this.getDirection();return r.setDirection(s),r.setFormat(this.getFormatType()),r.setStyle(this.getStyle()),this.insertAfter(r,n),r}collapseAtStart(){const t=this.getChildren();if(t.length===0||bt(t[0])&&t[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function uPt(e){const t=ro();return e.style&&(t.setFormat(e.style.textAlign),MPt(e,t)),{node:t}}function ro(){return ym(new n0)}function CO(e){return e instanceof n0}const Ms=0,BTe=1,Oc=2;function VTe(e,t,n,r){const s=e._keyToDOMMap;s.clear(),e._editorState=NV(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=Yh,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null;const a=e._observer;a!==null&&(a.disconnect(),e._observer=null),t!==null&&(t.textContent=""),n!==null&&(n.textContent="",s.set("root",n))}function dPt(e){const t=e||{},n=aPt(),r=t.theme||{},s=e===void 0?n:t.parentEditor||null,a=t.disableEvents||!1,i=NV(),l=t.namespace||(s!==null?s._config.namespace:GTe()),c=t.editorState,u=[t0,gm,yb,xb,n0,jV,...t.nodes||[]],{onError:d,html:h}=t,m=t.editable===void 0||t.editable;let g;if(e===void 0&&n!==null)g=n._nodes;else{g=new Map;for(let x=0;x<u.length;x++){let b=u[x],w=null,C=null;if(typeof b!="function"){const T=b;b=T.replace,w=T.with,C=T.withKlass||null}const S=b.getType(),k=b.transform(),E=new Set;k!==null&&E.add(k),g.set(S,{exportDOM:h&&h.export?h.export.get(b):void 0,klass:b,replace:w,replaceWithKlass:C,transforms:E})}}const v=new u8(i,s,g,{disableEvents:a,namespace:l,theme:r},d||console.error,function(x,b){const w=new Map,C=new Set,S=k=>{Object.keys(k).forEach(E=>{let T=w.get(E);T===void 0&&(T=[],w.set(E,T)),T.push(k[E])})};return x.forEach(k=>{const E=k.klass.importDOM;if(E==null||C.has(E))return;C.add(E);const T=E.call(k.klass);T!==null&&S(T)}),b&&S(b),w}(g,h?h.import:void 0),m,e);return c!==void 0&&(v._pendingEditorState=c,v._dirtyType=eg),v}class u8{constructor(t,n,r,s,a,i,l,c){this._createEditorArgs=c,this._parentEditor=n,this._rootElement=null,this._editorState=t,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=s,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=Yh,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=GTe(),this._onError=a,this._htmlConversions=i,this._editable=l,this._headless=n!==null&&n._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(t){const n=this._listeners.update;return n.add(t),()=>{n.delete(t)}}registerEditableListener(t){const n=this._listeners.editable;return n.add(t),()=>{n.delete(t)}}registerDecoratorListener(t){const n=this._listeners.decorator;return n.add(t),()=>{n.delete(t)}}registerTextContentListener(t){const n=this._listeners.textcontent;return n.add(t),()=>{n.delete(t)}}registerRootListener(t){const n=this._listeners.root;return t(this._rootElement,null),n.add(t),()=>{t(null,this._rootElement),n.delete(t)}}registerCommand(t,n,r){r===void 0&&Xe(35);const s=this._commands;s.has(t)||s.set(t,[new Set,new Set,new Set,new Set,new Set]);const a=s.get(t);a===void 0&&Xe(36,String(t));const i=a[r];return i.add(n),()=>{i.delete(n),a.every(l=>l.size===0)&&s.delete(t)}}registerMutationListener(t,n,r){const s=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(t)).klass,a=this._listeners.mutation;a.set(n,s);const i=r&&r.skipInitialization;return i!==void 0&&i||this.initializeMutationListener(n,s),()=>{a.delete(n)}}getRegisteredNode(t){const n=this._nodes.get(t.getType());return n===void 0&&Xe(37,t.name),n}resolveRegisteredNodeAfterReplacements(t){for(;t.replaceWithKlass;)t=this.getRegisteredNode(t.replaceWithKlass);return t}initializeMutationListener(t,n){const r=this._editorState,s=Fse(r).get(n.getType());if(!s)return;const a=new Map;for(const i of s.keys())a.set(i,"created");a.size>0&&t(a,{dirtyLeaves:new Set,prevEditorState:r,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(t,n){const r=this.getRegisteredNode(t);return r.transforms.add(n),r}registerNodeTransform(t,n){const r=this.registerNodeTransformToKlass(t,n),s=[r],a=r.replaceWithKlass;if(a!=null){const i=this.registerNodeTransformToKlass(a,n);s.push(i)}return function(i,l){const c=Fse(i.getEditorState()),u=[];for(const d of l){const h=c.get(d);h&&u.push(h)}u.length!==0&&i.update(()=>{for(const d of u)for(const h of d.keys()){const m=Rs(h);m&&m.markDirty()}},i._pendingEditorState===null?{tag:Q5}:void 0)}(this,s.map(i=>i.klass.getType())),()=>{s.forEach(i=>i.transforms.delete(n))}}hasNode(t){return this._nodes.has(t.getType())}hasNodes(t){return t.every(this.hasNode.bind(this))}dispatchCommand(t,n){return wt(this,t,n)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(t){const n=this._rootElement;if(t!==n){const r=h1(this._config.theme,"root"),s=this._pendingEditorState||this._editorState;if(this._rootElement=t,VTe(this,n,t,s),n!==null&&(this._config.disableEvents||qOt(n),r!=null&&n.classList.remove(...r)),t!==null){const a=DV(t),i=t.style;i.userSelect="text",i.whiteSpace="pre-wrap",i.wordBreak="break-word",t.setAttribute("data-lexical-editor","true"),this._window=a,this._dirtyType=eg,eTe(this),this._updateTags.add(Q5),Hc(this),this._config.disableEvents||function(l,c){const u=l.ownerDocument,d=X6.get(u);(d===void 0||d<1)&&u.addEventListener("selectionchange",MTe),X6.set(u,(d||0)+1),l.__lexicalEditor=c;const h=STe(l);for(let m=0;m<vO.length;m++){const[g,v]=vO[m],x=typeof v=="function"?b=>{use(b)||(cse(b),(c.isEditable()||g==="click")&&v(b,c))}:b=>{if(use(b))return;cse(b);const w=c.isEditable();switch(g){case"cut":return w&&wt(c,SV,b);case"copy":return wt(c,CV,b);case"paste":return w&&wt(c,a8,b);case"dragstart":return w&&wt(c,vTe,b);case"dragover":return w&&wt(c,VOt,b);case"dragend":return w&&wt(c,zOt,b);case"focus":return w&&wt(c,HOt,b);case"blur":return w&&wt(c,WOt,b);case"drop":return w&&wt(c,gTe,b)}};l.addEventListener(g,x),h.push(()=>{l.removeEventListener(g,x)})}}(t,this),r!=null&&t.classList.add(...r)}else this._window=null,this._updateTags.add(Q5),Hc(this);D2("root",this,!1,t,n)}}getElementByKey(t){return this._keyToDOMMap.get(t)||null}getEditorState(){return this._editorState}setEditorState(t,n){t.isEmpty()&&Xe(38);let r=t;r._readOnly&&(r=DTe(t),r._selection=t._selection?t._selection.clone():null),JEe(this);const s=this._pendingEditorState,a=this._updateTags,i=n!==void 0?n.tag:null;s===null||s.isEmpty()||(i!=null&&a.add(i),Hc(this)),this._pendingEditorState=r,this._dirtyType=eg,this._dirtyElements.set("root",!1),this._compositionKey=null,i!=null&&a.add(i),this._updating||Hc(this)}parseEditorState(t,n){return function(r,s,a){const i=NV(),l=js,c=ni,u=As,d=s._dirtyElements,h=s._dirtyLeaves,m=s._cloneNotNeeded,g=s._dirtyType;s._dirtyElements=new Map,s._dirtyLeaves=new Set,s._cloneNotNeeded=new Set,s._dirtyType=0,js=i,ni=!1,As=s;try{const v=s._nodes;EV(r.root,v),a&&a(),i._readOnly=!0}catch(v){v instanceof Error&&s._onError(v)}finally{s._dirtyElements=d,s._dirtyLeaves=h,s._cloneNotNeeded=m,s._dirtyType=g,js=l,ni=c,As=u}return i}(typeof t=="string"?JSON.parse(t):t,this,n)}read(t){return Hc(this),this.getEditorState().read(t,{editor:this})}update(t,n){(function(r,s,a){r._updating?r._updates.push([s,a]):TV(r,s,a)})(this,t,n)}focus(t,n={}){const r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),gi(this,()=>{const s=xt(),a=ir();s!==null?s.dirty||ai(s.clone()):a.getChildrenSize()!==0&&(n.defaultSelection==="rootStart"?a.selectStart():a.selectEnd()),SO("focus"),xPt(()=>{r.removeAttribute("autocapitalize"),t&&t()})}),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){const t=this._rootElement;t!==null&&t.blur();const n=Zl(this._window);n!==null&&n.removeAllRanges()}isEditable(){return this._editable}setEditable(t){this._editable!==t&&(this._editable=t,D2("editable",this,!0,t))}toJSON(){return{editorState:this._editorState.toJSON()}}}u8.version="0.31.0+prod.esm";let fPt=1;const hPt=typeof queueMicrotask=="function"?queueMicrotask:e=>{Promise.resolve().then(e)};function jse(e){return Hn(ag(e))}function zTe(e){const t=document.activeElement;if(!Oa(t))return!1;const n=t.nodeName;return Hn(ag(e))&&(n==="INPUT"||n==="TEXTAREA"||t.contentEditable==="true"&&f8(t)==null)}function d8(e,t,n){const r=e.getRootElement();try{return r!==null&&r.contains(t)&&r.contains(n)&&t!==null&&!zTe(t)&&RV(t)===e}catch{return!1}}function AV(e){return e instanceof u8}function RV(e){let t=e;for(;t!=null;){const n=f8(t);if(AV(n))return n;t=Cb(t)}return null}function f8(e){return e?e.__lexicalEditor:null}function kp(e){return e.isToken()||e.isSegmented()}function Nu(e){return r0(e)&&e.nodeType===uOt}function mPt(e){return r0(e)&&e.nodeType===dOt}function sg(e){let t=e;for(;t!=null;){if(Nu(t))return t;t=t.firstChild}return null}function e_(e,t,n){const r=Kh[t];if(n!==null&&(e&r)==(n&r))return e;let s=e^r;return t==="subscript"?s&=-65:t==="superscript"?s&=-33:t==="lowercase"?(s&=-513,s&=-1025):t==="uppercase"?(s&=-257,s&=-1025):t==="capitalize"&&(s&=-257,s&=-513),s}function pPt(e,t){if(t!=null)return void(e.__key=t);ua(),LTe();const n=Rr(),r=xf(),s=""+fPt++;r._nodeMap.set(s,e),He(e)?n._dirtyElements.set(s,!0):n._dirtyLeaves.add(s),n._cloneNotNeeded.add(s),n._dirtyType=YEe,e.__key=s}function Sh(e){const t=e.getParent();if(t!==null){const n=e.getWritable(),r=t.getWritable(),s=e.getPreviousSibling(),a=e.getNextSibling(),i=a!==null?a.__key:null,l=s!==null?s.__key:null,c=s!==null?s.getWritable():null,u=a!==null?a.getWritable():null;s===null&&(r.__first=i),a===null&&(r.__last=l),c!==null&&(c.__next=i),u!==null&&(u.__prev=l),n.__prev=null,n.__next=null,n.__parent=null,r.__size--}}function t_(e){LTe();const t=e.getLatest(),n=t.__parent,r=xf(),s=Rr(),a=r._nodeMap,i=s._dirtyElements;n!==null&&function(c,u,d){let h=c;for(;h!==null;){if(d.has(h))return;const m=u.get(h);if(m===void 0)break;d.set(h,!1),h=m.__parent}}(n,a,i);const l=t.__key;s._dirtyType=YEe,He(e)?i.set(l,!0):s._dirtyLeaves.add(l)}function Ks(e){ua();const t=Rr(),n=t._compositionKey;if(e!==n){if(t._compositionKey=e,n!==null){const r=Rs(n);r!==null&&r.getWritable()}if(e!==null){const r=Rs(e);r!==null&&r.getWritable()}}}function Cd(){return wb()?null:Rr()._compositionKey}function Rs(e,t){const n=(t||xf())._nodeMap.get(e);return n===void 0?null:n}function HTe(e,t){const n=h8(e,Rr());return n!==void 0?Rs(n,t):null}function h8(e,t){return e[`__lexicalKey_${t._key}`]}function ag(e,t){let n=e;for(;n!=null;){const r=HTe(n,t);if(r!==null)return r;n=Cb(n)}return null}function WTe(e){const t=e._decorators,n=Object.assign({},t);return e._pendingDecorators=n,n}function Ase(e){return e.read(()=>ir().getTextContent())}function ir(){return $Te(xf())}function $Te(e){return e._nodeMap.get("root")}function ai(e){ua();const t=xf();e!==null&&(e.dirty=!0,e.setCachedNodes(null)),t._selection=e}function zp(e){const t=Rr(),n=function(r,s){let a=r;for(;a!=null;){const i=h8(a,s);if(i!==void 0)return i;a=Cb(a)}return null}(e,t);return n===null?e===t.getRootElement()?Rs("root"):null:Rs(n)}function Rse(e,t){return t?e.getTextContentSize():0}function qTe(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function LV(e){const t=[];let n=e;for(;n!==null;)t.push(n),n=n._parentEditor;return t}function GTe(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}function YTe(e){return Nu(e)?e.nodeValue:null}function OV(e,t,n){const r=Zl(co(t));if(r===null)return;const s=r.anchorNode;let{anchorOffset:a,focusOffset:i}=r;if(s!==null){let l=YTe(s);const c=ag(s);if(l!==null&&bt(c)){if(l===r8&&n){const u=n.length;l=n,a=u,i=u}l!==null&&PV(c,l,a,i,e)}}}function PV(e,t,n,r,s){let a=e;if(a.isAttached()&&(s||!a.isDirty())){const i=a.isComposing();let l=t;(i||s)&&t[t.length-1]===r8&&(l=t.slice(0,-1));const c=a.getTextContent();if(s||l!==c){if(l===""){if(Ks(null),$y||J1||H6)a.remove();else{const x=Rr();setTimeout(()=>{x.update(()=>{a.isAttached()&&a.remove()})},20)}return}const u=a.getParent(),d=bb(),h=a.getTextContentSize(),m=Cd(),g=a.getKey();if(a.isToken()||m!==null&&g===m&&!i||rt(d)&&(u!==null&&!u.canInsertTextBefore()&&d.anchor.offset===0||d.anchor.key===e.__key&&d.anchor.offset===0&&!a.canInsertTextBefore()&&!i||d.focus.key===e.__key&&d.focus.offset===h&&!a.canInsertTextAfter()&&!i))return void a.markDirty();const v=xt();if(!rt(v)||n===null||r===null)return void a.setTextContent(l);if(v.setTextNodeRange(a,n,a,r),a.isSegmented()){const x=rs(a.getTextContent());a.replace(x),a=x}a.setTextContent(l)}}}function o5(e,t,n){const r=t[n]||!1;return r==="any"||r===e[n]}function gPt(e,t){return o5(e,t,"altKey")&&o5(e,t,"ctrlKey")&&o5(e,t,"shiftKey")&&o5(e,t,"metaKey")}function $n(e,t,n){return gPt(e,n)&&e.key.toLowerCase()===t.toLowerCase()}const Pc={ctrlKey:!wl,metaKey:wl},Lse={altKey:wl,ctrlKey:!wl};function Ose(e){return e.key==="Backspace"}function Pse(e){return $n(e,"a",Pc)}function vPt(e){const t=ir();if(rt(e)){const n=e.anchor,r=e.focus,s=n.getNode().getTopLevelElementOrThrow().getParentOrThrow();return n.set(s.getKey(),0,"element"),r.set(s.getKey(),s.getChildrenSize(),"element"),qy(e),e}{const n=t.select(0,t.getChildrenSize());return ai(qy(n)),n}}function h1(e,t){e.__lexicalClassNameCache===void 0&&(e.__lexicalClassNameCache={});const n=e.__lexicalClassNameCache,r=n[t];if(r!==void 0)return r;const s=e[t];if(typeof s=="string"){const a=W6(s);return n[t]=a,a}return s}function IV(e,t,n,r,s){if(n.size===0)return;const a=r.__type,i=r.__key,l=t.get(a);l===void 0&&Xe(33,a);const c=l.klass;let u=e.get(c);u===void 0&&(u=new Map,e.set(c,u));const d=u.get(i),h=d==="destroyed"&&s==="created";(d===void 0||h)&&u.set(i,h?"updated":s)}function Ise(e,t,n){const r=e.getParent();let s=n,a=e;return r!==null&&(n===0&&(s=a.getIndexWithinParent(),a=r)),a.getChildAtIndex(s-1)}function yPt(e,t){const n=e.offset;if(e.type==="element")return Ise(e.getNode(),t,n);{const r=e.getNode();if(n===0){const s=r.getPreviousSibling();return s===null?Ise(r.getParentOrThrow(),t,r.getIndexWithinParent()+0):s}}return null}function KTe(e){const t=co(e).event,n=t&&t.inputType;return n==="insertFromPaste"||n==="insertFromPasteAsQuotation"}function wt(e,t,n){return function(r,s,a){const i=LV(r);for(let l=4;l>=0;l--)for(let c=0;c<i.length;c++){const u=i[c],d=u._commands.get(s);if(d!==void 0){const h=d[l];if(h!==void 0){const m=Array.from(h),g=m.length;let v=!1;if(gi(u,()=>{for(let x=0;x<g;x++)if(m[x](a,r))return void(v=!0)}),v)return v}}}return!1}(e,t,n)}function m8(e){return!pa(e)&&!e.isLastChild()&&!e.isInline()}function ig(e,t){const n=e._keyToDOMMap.get(t);return n===void 0&&Xe(75,t),n}function Cb(e){const t=e.assignedSlot||e.parentElement;return EO(t)?t.host:t}function QTe(e){return mPt(e)?e:Oa(e)?e.ownerDocument:null}function SO(e){ua(),Rr()._updateTags.add(e)}function xPt(e){ua(),Rr()._deferred.push(e)}function MO(e,t){let n=e.getParent();for(;n!==null;){if(n.is(t))return!0;n=n.getParent()}return!1}function DV(e){const t=QTe(e);return t?t.defaultView:null}function co(e){const t=e._window;return t===null&&Xe(78),t}function bPt(e){let t=e.getParentOrThrow();for(;t!==null;){if(ju(t))return t;t=t.getParentOrThrow()}return t}function ju(e){return pa(e)||He(e)&&e.isShadowRoot()}function ym(e){const t=Rr(),n=e.constructor.getType(),r=t._nodes.get(n);r===void 0&&Xe(200,e.constructor.name,n);const{replace:s,replaceWithKlass:a}=r;if(s!==null){const i=s(e),l=i.constructor;return a!==null?i instanceof a||Xe(201,a.name,a.getType(),l.name,l.getType(),e.constructor.name,n):i instanceof e.constructor&&l!==e.constructor||Xe(202,l.name,l.getType(),e.constructor.name,n),i.__key===e.__key&&Xe(203,e.constructor.name,n,l.name,l.getType()),i}return e}function NN(e,t){!pa(e.getParent())||He(t)||Hn(t)||Xe(99)}function wPt(e){const t=Rs(e);return t===null&&Xe(63,e),t}function jN(e){return(Hn(e)||He(e)&&!e.canBeEmpty())&&!e.isInline()}function kO(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null;const r=e.parentElement;r!==null&&r.removeChild(e)}function Zl(e){return rl?(e||window).getSelection():null}function _Pt(e){const t=DV(e);return t?t.getSelection():null}function FV(e){return Oa(e)&&e.tagName==="A"}function Oa(e){return r0(e)&&e.nodeType===cOt}function r0(e){return typeof e=="object"&&e!==null&&"nodeType"in e&&typeof e.nodeType=="number"}function EO(e){return r0(e)&&e.nodeType===fOt}function TO(e){const t=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return e.nodeName.match(t)!==null}function n_(e){const t=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return e.nodeName.match(t)!==null}function gd(e){if(Hn(e)&&!e.isInline())return!0;if(!He(e)||ju(e))return!1;const t=e.getFirstChild(),n=t===null||f1(t)||bt(t)||t.isInline();return!e.isInline()&&e.canBeEmpty()!==!1&&n}function AN(e,t){let n=e;for(;n!==null&&n.getParent()!==null&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}function CPt(){return Rr()}const Dse=new WeakMap,SPt=new Map;function Fse(e){if(!e._readOnly&&e.isEmpty())return SPt;e._readOnly||Xe(192);let t=Dse.get(e);return t||(t=function(n){const r=new Map;for(const[s,a]of n._nodeMap){const i=a.__type;let l=r.get(i);l||(l=new Map,r.set(i,l)),l.set(s,a)}return r}(e),Dse.set(e,t)),t}function XTe(e){const t=e.constructor.clone(e);return t.afterCloneFrom(e),t}function MPt(e,t){const n=parseInt(e.style.paddingInlineStart,10)||0,r=Math.round(n/40);t.setIndent(r)}function kPt(e){return e.__lexicalUnmanaged===!0}const EPt={next:"previous",previous:"next"};class UV{constructor(t){this.origin=t}[Symbol.iterator](){return ZTe({hasNext:og,initial:this.getAdjacentCaret(),map:t=>t,step:t=>t.getAdjacentCaret()})}getAdjacentCaret(){return va(this.getNodeAtCaret(),this.direction)}getSiblingCaret(){return va(this.origin,this.direction)}remove(){const t=this.getNodeAtCaret();return t&&t.remove(),this}replaceOrInsert(t,n){const r=this.getNodeAtCaret();return t.is(this.origin)||t.is(r)||(r===null?this.insert(t):r.replace(t,n)),this}splice(t,n,r="next"){const s=r===this.direction?n:Array.from(n).reverse();let a=this;const i=this.getParentAtCaret(),l=new Map;for(let c=a.getAdjacentCaret();c!==null&&l.size<t;c=c.getAdjacentCaret()){const u=c.origin.getWritable();l.set(u.getKey(),u)}for(const c of s){if(l.size>0){const u=a.getNodeAtCaret();if(u){if(l.delete(u.getKey()),l.delete(c.getKey()),!(u.is(c)||a.origin.is(c))){const d=c.getParent();d&&d.is(i)&&c.remove(),u.replace(c)}}else u===null&&Xe(263,Array.from(l).join(" "))}else a.insert(c);a=va(c,this.direction)}for(const c of l.values())c.remove();return this}}class Qy extends UV{type="child";getLatest(){const t=this.origin.getLatest();return t===this.origin?this:Kd(t,this.direction)}getParentCaret(t="root"){return va(BV(this.getParentAtCaret(),t),this.direction)}getFlipped(){const t=s0(this.direction);return va(this.getNodeAtCaret(),t)||Kd(this.origin,t)}getParentAtCaret(){return this.origin}getChildCaret(){return this}isSameNodeCaret(t){return t instanceof Qy&&this.direction===t.direction&&this.origin.is(t.origin)}isSamePointCaret(t){return this.isSameNodeCaret(t)}}const TPt={root:pa,shadowRoot:ju};function s0(e){return EPt[e]}function BV(e,t="root"){return TPt[t](e)?null:e}class Xh extends UV{type="sibling";getLatest(){const t=this.origin.getLatest();return t===this.origin?this:va(t,this.direction)}getSiblingCaret(){return this}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return He(this.origin)?Kd(this.origin,this.direction):null}getParentCaret(t="root"){return va(BV(this.getParentAtCaret(),t),this.direction)}getFlipped(){const t=s0(this.direction);return va(this.getNodeAtCaret(),t)||Kd(this.origin.getParentOrThrow(),t)}isSamePointCaret(t){return t instanceof Xh&&this.direction===t.direction&&this.origin.is(t.origin)}isSameNodeCaret(t){return(t instanceof Xh||t instanceof Zh)&&this.direction===t.direction&&this.origin.is(t.origin)}}class Zh extends UV{type="text";constructor(t,n){super(t),this.offset=n}getLatest(){const t=this.origin.getLatest();return t===this.origin?this:Jh(t,this.direction,this.offset)}getParentAtCaret(){return this.origin.getParent()}getChildCaret(){return null}getParentCaret(t="root"){return va(BV(this.getParentAtCaret(),t),this.direction)}getFlipped(){return Jh(this.origin,s0(this.direction),this.offset)}isSamePointCaret(t){return t instanceof Zh&&this.direction===t.direction&&this.origin.is(t.origin)&&this.offset===t.offset}isSameNodeCaret(t){return(t instanceof Xh||t instanceof Zh)&&this.direction===t.direction&&this.origin.is(t.origin)}getSiblingCaret(){return va(this.origin,this.direction)}}function Mh(e){return e instanceof Zh}function og(e){return e instanceof Xh}function zl(e){return e instanceof Qy}const NPt={next:class extends Zh{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends Zh{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},jPt={next:class extends Xh{direction="next";getNodeAtCaret(){return this.origin.getNextSibling()}insert(e){return this.origin.insertAfter(e),this}},previous:class extends Xh{direction="previous";getNodeAtCaret(){return this.origin.getPreviousSibling()}insert(e){return this.origin.insertBefore(e),this}}},APt={next:class extends Qy{direction="next";getNodeAtCaret(){return this.origin.getFirstChild()}insert(e){return this.origin.splice(0,0,[e]),this}},previous:class extends Qy{direction="previous";getNodeAtCaret(){return this.origin.getLastChild()}insert(e){return this.origin.splice(this.origin.getChildrenSize(),0,[e]),this}}};function va(e,t){return e?new jPt[t](e):null}function Jh(e,t,n){return e?new NPt[t](e,p8(e,n)):null}function p8(e,t){const n=e.getTextContentSize();let r=t==="next"?n:t==="previous"?0:t;return(r<0||r>n)&&(function(s,...a){const i=new URL("https://lexical.dev/docs/error"),l=new URLSearchParams;l.append("code",s);for(const c of a)l.append("v",c);i.search=l.toString(),console.warn(`Minified Lexical warning #${s}; visit ${i.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(284,String(t),String(n),e.getKey()),r=r<0?0:n),r}function Use(e,t){return new LPt(e,t)}function Kd(e,t){return He(e)?new APt[t](e):null}function RPt(e){return e&&e.getChildCaret()||e}function VV(e){return e&&RPt(e.getAdjacentCaret())}class zV{type="node-caret-range";constructor(t,n,r){this.anchor=t,this.focus=n,this.direction=r}getLatest(){const t=this.anchor.getLatest(),n=this.focus.getLatest();return t===this.anchor&&n===this.focus?this:new zV(t,n,this.direction)}isCollapsed(){return this.anchor.isSamePointCaret(this.focus)}getTextSlices(){const t=s=>{const a=this[s].getLatest();return Mh(a)?function(i,l){const{direction:c,origin:u}=i,d=p8(u,l==="focus"?s0(c):c);return Use(i,d-i.offset)}(a,s):null},n=t("anchor"),r=t("focus");if(n&&r){const{caret:s}=n,{caret:a}=r;if(s.isSameNodeCaret(a))return[Use(s,a.offset-s.offset),null]}return[n,r]}iterNodeCarets(t="root"){const n=Mh(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),r=this.focus.getLatest(),s=Mh(r),a=i=>i.isSameNodeCaret(r)?null:VV(i)||i.getParentCaret(t);return ZTe({hasNext:i=>i!==null&&!(s&&r.isSameNodeCaret(i)),initial:n.isSameNodeCaret(r)?null:a(n),map:i=>i,step:a})}[Symbol.iterator](){return this.iterNodeCarets("root")}}class LPt{type="slice";constructor(t,n){this.caret=t,this.distance=n}getSliceIndices(){const{distance:t,caret:{offset:n}}=this,r=n+t;return r<n?[r,n]:[n,r]}getTextContent(){const[t,n]=this.getSliceIndices();return this.caret.origin.getTextContent().slice(t,n)}getTextContentSize(){return Math.abs(this.distance)}removeTextSlice(){const{caret:{origin:t,direction:n}}=this,[r,s]=this.getSliceIndices(),a=t.getTextContent();return Jh(t.setTextContent(a.slice(0,r)+a.slice(s)),n,r)}}function HV(e){return em(e,va(ir(),e.direction))}function OPt(e){return em(e,e)}function em(e,t){return e.direction!==t.direction&&Xe(265),new zV(e,t,e.direction)}function ZTe(e){const{initial:t,hasNext:n,step:r,map:s}=e;let a=t;return{[Symbol.iterator](){return this},next(){if(!n(a))return{done:!0,value:void 0};const i={done:!1,value:s(a)};return a=r(a),i}}}function JTe(e,t){const n=X5(e.origin,t.origin);switch(n===null&&Xe(275,e.origin.getKey(),t.origin.getKey()),n.type){case"same":{const r=e.type==="text",s=t.type==="text";return r&&s?function(a,i){return Math.sign(a-i)}(e.offset,t.offset):e.type===t.type?0:r?-1:s?1:e.type==="child"?-1:1}case"ancestor":return e.type==="child"?-1:1;case"descendant":return t.type==="child"?1:-1;case"branch":return eNe(n)}}function eNe(e){const{a:t,b:n}=e,r=t.__key,s=n.__key;let a=t,i=n;for(;a&&i;a=a.getNextSibling(),i=i.getNextSibling()){if(a.__key===s)return-1;if(i.__key===r)return 1}return a===null?1:-1}function l5(e,t){return t.is(e)}function Bse(e){return He(e)?[e.getLatest(),null]:[e.getParent(),e.getLatest()]}function X5(e,t){if(e.is(t))return{commonAncestor:e,type:"same"};const n=new Map;for(let[r,s]=Bse(e);r;s=r,r=r.getParent())n.set(r,s);for(let[r,s]=Bse(t);r;s=r,r=r.getParent()){const a=n.get(r);if(a!==void 0)return a===null?(l5(e,r)||Xe(276),{commonAncestor:r,type:"ancestor"}):s===null?(l5(t,r)||Xe(277),{commonAncestor:r,type:"descendant"}):((He(a)||l5(e,a))&&(He(s)||l5(t,s))&&r.is(a.getParent())&&r.is(s.getParent())||Xe(278),{a,b:s,commonAncestor:r,type:"branch"})}return null}function Qd(e,t){const{type:n,key:r,offset:s}=e,a=wPt(e.key);return n==="text"?(bt(a)||Xe(266,a.getType(),r),Jh(a,t,s)):(He(a)||Xe(267,a.getType(),r),DPt(a,e.offset,t))}function Xy(e,t){const{origin:n,direction:r}=t,s=r==="next";Mh(t)?e.set(n.getKey(),t.offset,"text"):og(t)?bt(n)?e.set(n.getKey(),p8(n,r),"text"):e.set(n.getParentOrThrow().getKey(),n.getIndexWithinParent()+(s?1:0),"element"):(zl(t)&&He(n)||Xe(268),e.set(n.getKey(),s?0:n.getChildrenSize(),"element"))}function PPt(e){const t=xt(),n=rt(t)?t:nPt();return Z5(n,e),ai(n),n}function Z5(e,t){Xy(e.anchor,t.anchor),Xy(e.focus,t.focus)}function Vse(e){const{anchor:t,focus:n}=e,r=Qd(t,"next"),s=Qd(n,"next"),a=JTe(r,s)<=0?"next":"previous";return em(lg(r,a),lg(s,a))}function WV(e){const{direction:t,origin:n}=e,r=va(n,s0(t)).getNodeAtCaret();return r?va(r,t):Kd(n.getParentOrThrow(),t)}function zse(e,t="root"){const n=[e];for(let r=zl(e)?e.getParentCaret(t):e.getSiblingCaret();r!==null;r=r.getParentCaret(t))n.push(WV(r));return n}function RN(e){return!!e&&e.origin.isAttached()}function IPt(e,t="removeEmptySlices"){if(e.isCollapsed())return e;const n="root",r="next";let s=t;const a=nNe(e,r),i=zse(a.anchor,n),l=zse(a.focus.getFlipped(),n),c=new Set,u=[];for(const v of a.iterNodeCarets(n))if(zl(v))c.add(v.origin.getKey());else if(og(v)){const{origin:x}=v;He(x)&&!c.has(x.getKey())||u.push(x)}for(const v of u)v.remove();for(const v of a.getTextSlices()){if(!v)continue;const{origin:x}=v.caret,b=x.getTextContentSize(),w=WV(va(x,r)),C=x.getMode();if(Math.abs(v.distance)===b&&s==="removeEmptySlices"||C==="token"&&v.distance!==0)w.remove();else if(v.distance!==0){s="removeEmptySlices";let S=v.removeTextSlice();const k=v.caret.origin;if(C==="segmented"){const E=S.origin,T=rs(E.getTextContent()).setStyle(E.getStyle()).setFormat(E.getFormat());w.replaceOrInsert(T),S=Jh(T,r,S.offset)}k.is(i[0].origin)&&(i[0]=S),k.is(l[0].origin)&&(l[0]=S.getFlipped())}}let d,h;for(const v of i)if(RN(v)){d=Al(v);break}for(const v of l)if(RN(v)){h=Al(v);break}const m=function(v,x,b){if(!v||!x)return null;const w=v.getParentAtCaret(),C=x.getParentAtCaret();if(!w||!C)return null;const S=w.getParents().reverse();S.push(w);const k=C.getParents().reverse();k.push(C);const E=Math.min(S.length,k.length);let T;for(T=0;T<E&&S[T]===k[T];T++);const j=(O,I)=>{let B;for(let D=T;D<O.length;D++){const z=O[D];if(ju(z))return;!B&&I(z)&&(B=z)}return B},N=j(S,gd),R=N&&j(k,O=>b.has(O.getKey())&&gd(O));return N&&R?[N,R]:null}(d,h,c);if(m){const[v,x]=m;Kd(v,"previous").splice(0,x.getChildren()),x.remove()}const g=[d,h,...i,...l].find(RN);if(g)return OPt(lg(Al(g),e.direction));Xe(269,JSON.stringify(i.map(v=>v.origin.__key)))}function Al(e){const t=function(s){let a=s;for(;zl(a);){const i=VV(a);if(!zl(i))break;a=i}return a}(e.getLatest()),{direction:n}=t;if(bt(t.origin))return Mh(t)?t:Jh(t.origin,n,n);const r=t.getAdjacentCaret();return og(r)&&bt(r.origin)?Jh(r.origin,n,s0(n)):t}function tNe(e){return Mh(e)&&e.offset!==p8(e.origin,e.direction)}function lg(e,t){return e.direction===t?e:e.getFlipped()}function nNe(e,t){return e.direction===t?e:em(lg(e.focus,t),lg(e.anchor,t))}function DPt(e,t,n){let r=Kd(e,"next");for(let s=0;s<t;s++){const a=r.getAdjacentCaret();if(a===null)break;r=a}return lg(r,n)}const FPt=new Map;function UPt(e){const t={};if(!e)return t;const n=e.split(";");for(const r of n)if(r!==""){const[s,a]=r.split(/:([^]+)/);s&&a&&(t[s.trim()]=a.trim())}return t}function BPt(e,t){const n=e.getStartEndPoints();if(t.isSelected(e)&&!t.isSegmented()&&!t.isToken()&&n!==null){const[r,s]=n,a=e.isBackward(),i=r.getNode(),l=s.getNode(),c=t.is(i),u=t.is(l);if(c||u){const[d,h]=wO(e),m=i.is(l),g=t.is(a?l:i),v=t.is(a?i:l);let x,b=0;return m?(b=d>h?h:d,x=d>h?d:h):g?(b=a?h:d,x=void 0):v&&(b=0,x=a?d:h),t.__text=t.__text.slice(b,x),t}}return t}function VPt(e){const t=e.getStyle(),n=UPt(t);FPt.set(t,n)}function rNe(e){const t=e.anchor.getNode(),n=pa(t)?t:t.getParentOrThrow(),r=CPt().getElementByKey(n.getKey());if(r===null)return!1;const s=r.ownerDocument.defaultView;return s===null?!1:s.getComputedStyle(r).writingMode==="vertical-rl"}function Hse(e,t){const n=rNe(e)?!t:t,r=Qd(e.focus,n?"previous":"next");if(tNe(r))return!1;for(const s of HV(r)){if(zl(s))return!s.origin.isInline();if(!He(s.origin)){if(Hn(s.origin))return!0;break}}return!1}function zPt(e,t,n,r){e.modify(t?"extend":"move",n,r)}function HPt(e){const t=e.anchor.getNode();return(pa(t)?t:t.getParentOrThrow()).getDirection()==="rtl"}function Wse(e,t,n){const r=HPt(e);let s;s=rNe(e)||r?!n:n,zPt(e,t,s,"character")}function WPt(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const s of t)r.append("v",s);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}const $V=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,$Pt=$V&&"documentMode"in document?document.documentMode:null;!(!$V||!("InputEvent"in window)||$Pt)&&"getTargetRanges"in new window.InputEvent("input");const qPt=$V&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;function GPt(...e){const t=[];for(const n of e)if(n&&typeof n=="string")for(const[r]of n.matchAll(/\S+/g))t.push(r);return t}function cg(...e){return()=>{for(let t=e.length-1;t>=0;t--)e[t]();e.length=0}}const YPt=qPt;function KPt(e,...t){const n=GPt(...t);n.length>0&&e.classList.add(...n)}function QPt(e){const t=U2(e,n=>He(n)&&!n.isInline());return He(t)||WPt(4,e.__key),t}const U2=(e,t)=>{let n=e;for(;n!==ir()&&n!=null;){if(t(n))return n;n=n.getParent()}return null};function r_(e,t){return e!==null&&Object.getPrototypeOf(e).constructor.name===t.name}function XPt(e,t){const n=t.body?t.body.childNodes:[];let r=[];const s=[];for(let a=0;a<n.length;a++){const i=n[a];if(!aNe.has(i.nodeName)){const l=iNe(i,e,s,!1);l!==null&&(r=r.concat(l))}}return function(a){for(const i of a)i.getNextSibling()instanceof jV&&i.insertAfter(Yd());for(const i of a){const l=i.getChildren();for(const c of l)i.insertBefore(c);i.remove()}}(s),r}function ZPt(e,t){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const n=document.createElement("div"),r=ir().getChildren();for(let s=0;s<r.length;s++)sNe(e,r[s],n,t);return n.innerHTML}function sNe(e,t,n,r=null){let s=r===null||t.isSelected(r);const a=He(t)&&t.excludeFromCopy("html");let i=t;if(r!==null){let g=XTe(t);g=bt(g)&&r!==null?BPt(r,g):g,i=g}const l=He(i)?i.getChildren():[],c=e._nodes.get(i.getType());let u;u=c&&c.exportDOM!==void 0?c.exportDOM(e,i):i.exportDOM(e);const{element:d,after:h}=u;if(!d)return!1;const m=document.createDocumentFragment();for(let g=0;g<l.length;g++){const v=l[g],x=sNe(e,v,m,r);!s&&He(t)&&x&&t.extractWithChild(v,r,"html")&&(s=!0)}if(s&&!a){if((Oa(d)||EO(d))&&d.append(m),n.append(d),h){const g=h.call(i,d);g&&(EO(d)?d.replaceChildren(g):d.replaceWith(g))}}else n.append(m);return s}const aNe=new Set(["STYLE","SCRIPT"]);function iNe(e,t,n,r,s=new Map,a){let i=[];if(aNe.has(e.nodeName))return i;let l=null;const c=function(v,x){const{nodeName:b}=v,w=x._htmlConversions.get(b.toLowerCase());let C=null;if(w!==void 0)for(const S of w){const k=S(v);k!==null&&(C===null||(C.priority||0)<=(k.priority||0))&&(C=k)}return C!==null?C.conversion:null}(e,t),u=c?c(e):null;let d=null;if(u!==null){d=u.after;const v=u.node;if(l=Array.isArray(v)?v[v.length-1]:v,l!==null){for(const[,x]of s)if(l=x(l,a),!l)break;l&&i.push(...Array.isArray(v)?v:[l])}u.forChild!=null&&s.set(e.nodeName,u.forChild)}const h=e.childNodes;let m=[];const g=(l==null||!ju(l))&&(l!=null&&_O(l)||r);for(let v=0;v<h.length;v++)m.push(...iNe(h[v],t,n,g,new Map(s),l));return d!=null&&(m=d(m)),n_(e)&&(m=JPt(e,m,g?()=>{const v=new jV;return n.push(v),v}:ro)),l==null?m.length>0?i=i.concat(m):n_(e)&&function(v){return v.nextSibling==null||v.previousSibling==null?!1:TO(v.nextSibling)&&TO(v.previousSibling)}(e)&&(i=i.concat(Yd())):He(l)&&l.append(...m),i}function JPt(e,t,n){const r=e.style.textAlign,s=[];let a=[];for(let i=0;i<t.length;i++){const l=t[i];if(_O(l))r&&!l.getFormat()&&l.setFormat(r),s.push(l);else if(a.push(l),i===t.length-1||i<t.length-1&&_O(t[i+1])){const c=n();c.setFormat(r),c.append(...a),s.push(c),a=[]}}return s}function eIt(e,...t){const n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams;r.append("code",e);for(const s of t)r.append("v",s);throw n.search=r.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function tIt(e,t=xt()){return t==null&&eIt(166),rt(t)&&t.isCollapsed()||t.getNodes().length===0?"":ZPt(e,t)}function $se(e,t){const n=e.getData("text/plain")||e.getData("text/uri-list");n!=null&&t.insertRawText(n)}function qse(e,t,n){const r=e.getData("application/x-lexical-editor");if(r)try{const l=JSON.parse(r);if(l.namespace===n._config.namespace&&Array.isArray(l.nodes))return Gse(n,nIt(l.nodes),t)}catch{}const s=e.getData("text/html"),a=e.getData("text/plain");if(s&&a!==s)try{const l=new DOMParser().parseFromString(function(c){return window.trustedTypes&&window.trustedTypes.createPolicy?window.trustedTypes.createPolicy("lexical",{createHTML:u=>u}).createHTML(c):c}(s),"text/html");return Gse(n,XPt(n,l),t)}catch{}const i=a||e.getData("text/uri-list");if(i!=null)if(rt(t)){const l=i.split(/(\r?\n|\t)/);l[l.length-1]===""&&l.pop();for(let c=0;c<l.length;c++){const u=xt();if(rt(u)){const d=l[c];d===`
`||d===`\r
`?u.insertParagraph():d==="	"?u.insertNodes([o8()]):u.insertText(d)}}}else t.insertRawText(i)}function Gse(e,t,n){e.dispatchCommand(OOt,{nodes:t,selection:n})||n.insertNodes(t)}function nIt(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n],s=iPt(r);bt(s)&&VPt(s),t.push(s)}return t}const rIt=new Set(["http:","https:","mailto:","sms:","tel:"]);let Zy=class oNe extends _b{static getType(){return"link"}static clone(t){return new oNe(t.__url,{rel:t.__rel,target:t.__target,title:t.__title},t.__key)}constructor(t="",n={},r){super(r);const{target:s=null,rel:a=null,title:i=null}=n;this.__url=t,this.__target=s,this.__rel=a,this.__title=i}createDOM(t){const n=document.createElement("a");return n.href=this.sanitizeUrl(this.__url),this.__target!==null&&(n.target=this.__target),this.__rel!==null&&(n.rel=this.__rel),this.__title!==null&&(n.title=this.__title),KPt(n,t.theme.link),n}updateDOM(t,n,r){if(FV(n)){const s=this.__url,a=this.__target,i=this.__rel,l=this.__title;s!==t.__url&&(n.href=s),a!==t.__target&&(a?n.target=a:n.removeAttribute("target")),i!==t.__rel&&(i?n.rel=i:n.removeAttribute("rel")),l!==t.__title&&(l?n.title=l:n.removeAttribute("title"))}return!1}static importDOM(){return{a:t=>({conversion:sIt,priority:1})}}static importJSON(t){return Jy().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setURL(t.url).setRel(t.rel||null).setTarget(t.target||null).setTitle(t.title||null)}sanitizeUrl(t){try{const n=new URL(t);if(!rIt.has(n.protocol))return"about:blank"}catch{return t}return t}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()}}getURL(){return this.getLatest().__url}setURL(t){const n=this.getWritable();return n.__url=t,n}getTarget(){return this.getLatest().__target}setTarget(t){const n=this.getWritable();return n.__target=t,n}getRel(){return this.getLatest().__rel}setRel(t){const n=this.getWritable();return n.__rel=t,n}getTitle(){return this.getLatest().__title}setTitle(t){const n=this.getWritable();return n.__title=t,n}insertNewAfter(t,n=!0){const r=Jy(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(r,n),r}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(t,n,r){if(!rt(n))return!1;const s=n.anchor.getNode(),a=n.focus.getNode();return this.isParentOf(s)&&this.isParentOf(a)&&n.getTextContent().length>0}isEmailURI(){return this.__url.startsWith("mailto:")}isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://")}};function sIt(e){let t=null;if(FV(e)){const n=e.textContent;(n!==null&&n!==""||e.children.length>0)&&(t=Jy(e.getAttribute("href")||"",{rel:e.getAttribute("rel"),target:e.getAttribute("target"),title:e.getAttribute("title")}))}return{node:t}}function Jy(e="",t){return ym(new Zy(e,t))}function Uc(e){return e instanceof Zy}let qV=class lNe extends Zy{constructor(t="",n={},r){super(t,n,r),this.__isUnlinked=n.isUnlinked!==void 0&&n.isUnlinked!==null&&n.isUnlinked}static getType(){return"autolink"}static clone(t){return new lNe(t.__url,{isUnlinked:t.__isUnlinked,rel:t.__rel,target:t.__target,title:t.__title},t.__key)}getIsUnlinked(){return this.__isUnlinked}setIsUnlinked(t){const n=this.getWritable();return n.__isUnlinked=t,n}createDOM(t){return this.__isUnlinked?document.createElement("span"):super.createDOM(t)}updateDOM(t,n,r){return super.updateDOM(t,n,r)||t.__isUnlinked!==this.__isUnlinked}static importJSON(t){return Yse().updateFromJSON(t)}updateFromJSON(t){return super.updateFromJSON(t).setIsUnlinked(t.isUnlinked||!1)}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),isUnlinked:this.__isUnlinked}}insertNewAfter(t,n=!0){const r=this.getParentOrThrow().insertNewAfter(t,n);if(He(r)){const s=Yse(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return r.append(s),s}return null}};function Yse(e="",t){return ym(new qV(e,t))}function c5(e){return e instanceof qV}const iZt=nn("TOGGLE_LINK_COMMAND");function Kse(e,t){if(e.type==="element"){const n=e.getNode();return He(n)||function(r,...s){const a=new URL("https://lexical.dev/docs/error"),i=new URLSearchParams;i.append("code",r);for(const l of s)i.append("v",l);throw a.search=i.toString(),Error(`Minified Lexical error #${r}; visit ${a.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(252),n.getChildren()[e.offset+t]||null}return null}function oZt(e,t={}){const{target:n,title:r}=t,s=t.rel===void 0?"noreferrer":t.rel,a=xt();if(a===null||!rt(a)&&!Rd(a))return;if(Rd(a)){const u=a.getNodes();return u.length===0?void 0:void u.forEach(d=>{if(e===null){const h=U2(d,m=>!c5(m)&&Uc(m));h&&(h.insertBefore(d),h.getChildren().length===0&&h.remove())}else{const h=U2(d,m=>!c5(m)&&Uc(m));if(h)h.setURL(e),n!==void 0&&h.setTarget(n),s!==void 0&&h.setRel(s);else{const m=Jy(e,{rel:s,target:n});d.insertBefore(m),m.append(d)}}})}const i=a.extract();if(e===null)return void i.forEach(u=>{const d=U2(u,h=>!c5(h)&&Uc(h));if(d){const h=d.getChildren();for(let m=0;m<h.length;m++)d.insertBefore(h[m]);d.remove()}});const l=new Set,c=u=>{l.has(u.getKey())||(l.add(u.getKey()),u.setURL(e),n!==void 0&&u.setTarget(n),s!==void 0&&u.setRel(s),r!==void 0&&u.setTitle(r))};if(i.length===1){const u=Qse(i[0],Uc);if(u!==null)return c(u)}(function(u){const d=xt();if(!rt(d))return u();const h=qy(d),m=h.isBackward(),g=Kse(h.anchor,m?-1:0),v=Kse(h.focus,m?0:-1);if(u(),g||v){const x=xt();if(rt(x)){const b=x.clone();if(g){const w=g.getParent();w&&b.anchor.set(w.getKey(),g.getIndexWithinParent()+(m?1:0),"element")}if(v){const w=v.getParent();w&&b.focus.set(w.getKey(),v.getIndexWithinParent()+(m?0:1),"element")}ai(qy(b))}}})(()=>{let u=null;for(const d of i){if(!d.isAttached())continue;const h=Qse(d,Uc);if(h){c(h);continue}if(He(d)){if(!d.isInline())continue;if(Uc(d)){if(!(c5(d)||u!==null&&u.getParentOrThrow().isParentOf(d))){c(d),u=d;continue}for(const g of d.getChildren())d.insertBefore(g);d.remove();continue}}const m=d.getPreviousSibling();Uc(m)&&m.is(u)?m.append(d):(u=Jy(e,{rel:s,target:n,title:r}),d.insertAfter(u),u.append(d))}})}function Qse(e,t){let n=e;for(;n!==null&&n.getParent()!==null&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}const cNe=f.createContext(null);function aIt(e,t){return{getTheme:function(){return t??null}}}function yu(){const e=f.useContext(cNe);return e==null&&function(t,...n){const r=new URL("https://lexical.dev/docs/error"),s=new URLSearchParams;s.append("code",t);for(const a of n)s.append("v",a);throw r.search=s.toString(),Error(`Minified Lexical error #${t}; visit ${r.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(8),e}function iIt({newTab:e=!0,disabled:t=!1}){const[n]=yu();return f.useEffect(()=>{const r=a=>{const i=a.target;if(!r0(i))return;const l=RV(i);if(l===null)return;let c=null,u=null;if(l.update(()=>{const m=ag(i);if(m!==null){const g=U2(m,He);if(!t)if(Uc(g))c=g.sanitizeUrl(g.getURL()),u=g.getTarget();else{const v=function(x,b){let w=x;for(;w!=null;){if(b(w))return w;w=w.parentNode}return null}(i,FV);v!==null&&(c=v.href,u=v.target)}}}),c===null||c==="")return;const d=n.getEditorState().read(xt);if(rt(d)&&!d.isCollapsed())return void a.preventDefault();const h=a.type==="auxclick"&&a.button===1;window.open(c,e||h||a.metaKey||a.ctrlKey||u==="_blank"?"_blank":"_self"),a.preventDefault()},s=a=>{a.button===1&&r(a)};return n.registerRootListener((a,i)=>{i!==null&&(i.removeEventListener("click",r),i.removeEventListener("mouseup",s)),a!==null&&(a.addEventListener("click",r),a.addEventListener("mouseup",s))})},[n,e,t]),null}const uNe=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,oIt=uNe?f.useLayoutEffect:f.useEffect,u5={tag:Q5};function lIt({initialConfig:e,children:t}){const n=f.useMemo(()=>{const{theme:r,namespace:s,nodes:a,onError:i,editorState:l,html:c}=e,u=aIt(null,r),d=dPt({editable:e.editable,html:c,namespace:s,nodes:a,onError:h=>i(h,d),theme:r});return function(h,m){if(m!==null){if(m===void 0)h.update(()=>{const g=ir();if(g.isEmpty()){const v=ro();g.append(v);const x=uNe?document.activeElement:null;(xt()!==null||x!==null&&x===h.getRootElement())&&v.select()}},u5);else if(m!==null)switch(typeof m){case"string":{const g=h.parseEditorState(m);h.setEditorState(g,u5);break}case"object":h.setEditorState(m,u5);break;case"function":h.update(()=>{ir().isEmpty()&&m(h)},u5)}}}(d,l),[d,u]},[]);return oIt(()=>{const r=e.editable,[s]=n;s.setEditable(r===void 0||r)},[]),o.jsx(cNe.Provider,{value:n,children:t})}function cIt(){return ir().getTextContent()}function uIt(e,t=!0){if(e)return!1;let n=cIt();return t&&(n=n.trim()),n===""}function dIt(e){if(!uIt(e,!1))return!1;const t=ir().getChildren(),n=t.length;if(n>1)return!1;for(let r=0;r<n;r++){const s=t[r];if(Hn(s))return!1;if(He(s)){if(!CO(s)||s.__indent!==0)return!1;const a=s.getChildren(),i=a.length;for(let l=0;l<i;l++){const c=a[r];if(!bt(c))return!1}}}return!0}function dNe(e){return()=>dIt(e)}const fNe=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?f.useLayoutEffect:f.useEffect;function fIt({editor:e,ariaActiveDescendant:t,ariaAutoComplete:n,ariaControls:r,ariaDescribedBy:s,ariaErrorMessage:a,ariaExpanded:i,ariaInvalid:l,ariaLabel:c,ariaLabelledBy:u,ariaMultiline:d,ariaOwns:h,ariaRequired:m,autoCapitalize:g,className:v,id:x,role:b="textbox",spellCheck:w=!0,style:C,tabIndex:S,"data-testid":k,...E},T){const[j,N]=f.useState(e.isEditable()),R=f.useCallback(I=>{I&&I.ownerDocument&&I.ownerDocument.defaultView?e.setRootElement(I):e.setRootElement(null)},[e]),O=f.useMemo(()=>function(...I){return B=>{I.forEach(D=>{typeof D=="function"?D(B):D!=null&&(D.current=B)})}}(T,R),[R,T]);return fNe(()=>(N(e.isEditable()),e.registerEditableListener(I=>{N(I)})),[e]),o.jsx("div",{"aria-activedescendant":j?t:void 0,"aria-autocomplete":j?n:"none","aria-controls":j?r:void 0,"aria-describedby":s,...a!=null?{"aria-errormessage":a}:{},"aria-expanded":j&&b==="combobox"?!!i:void 0,...l!=null?{"aria-invalid":l}:{},"aria-label":c,"aria-labelledby":u,"aria-multiline":d,"aria-owns":j?h:void 0,"aria-readonly":!j||void 0,"aria-required":m,autoCapitalize:g,className:v,contentEditable:j,"data-testid":k,id:x,ref:O,role:j?b:void 0,spellCheck:w,style:C,tabIndex:S,...E})}const hIt=f.forwardRef(fIt);function Xse(e){return e.getEditorState().read(dNe(e.isComposing()))}const mIt=f.forwardRef(pIt);function pIt(e,t){const{placeholder:n,...r}=e,[s]=yu();return o.jsxs(o.Fragment,{children:[o.jsx(hIt,{editor:s,...r,ref:t}),n!=null&&o.jsx(gIt,{editor:s,content:n})]})}function gIt({content:e,editor:t}){const n=function(i){const[l,c]=f.useState(()=>Xse(i));return fNe(()=>{function u(){const d=Xse(i);c(d)}return u(),cg(i.registerUpdateListener(()=>{u()}),i.registerEditableListener(()=>{u()}))},[i]),l}(t),[r,s]=f.useState(t.isEditable());if(f.useLayoutEffect(()=>(s(t.isEditable()),t.registerEditableListener(i=>{s(i)})),[t]),!n)return null;let a=null;return typeof e=="function"?a=e(r):e!==null&&(a=e),a===null?null:o.jsx("div",{"aria-hidden":!0,children:a})}const vIt=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?f.useLayoutEffect:f.useEffect;function yIt(e){return{initialValueFn:()=>e.isEditable(),subscribe:t=>e.registerEditableListener(t)}}function xIt(){return function(e){const[t]=yu(),n=f.useMemo(()=>e(t),[t,e]),[r,s]=f.useState(()=>n.initialValueFn()),a=f.useRef(r);return vIt(()=>{const{initialValueFn:i,subscribe:l}=n,c=i();return a.current!==c&&(a.current=c,s(c)),l(u=>{a.current=u,s(u)})},[n,e]),r}(yIt)}function bIt(e){const t=window.location.origin,n=r=>{if(r.origin!==t)return;const s=e.getRootElement();if(document.activeElement!==s)return;const a=r.data;if(typeof a=="string"){let i;try{i=JSON.parse(a)}catch{return}if(i&&i.protocol==="nuanria_messaging"&&i.type==="request"){const l=i.payload;if(l&&l.functionId==="makeChanges"){const c=l.args;if(c){const[u,d,h,m,g,v]=c;e.update(()=>{const x=xt();if(rt(x)){const b=x.anchor;let w=b.getNode(),C=0,S=0;if(bt(w)&&u>=0&&d>=0&&(C=u,S=u+d,x.setTextNodeRange(w,C,w,S)),C===S&&h===""||(x.insertRawText(h),w=b.getNode()),bt(w)){C=m,S=m+g;const k=w.getTextContentSize();C=C>k?k:C,S=S>k?k:S,x.setTextNodeRange(w,C,w,S)}r.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}}const a0=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,wIt=a0&&"documentMode"in document?document.documentMode:null,_It=!(!a0||!("InputEvent"in window)||wIt)&&"getTargetRanges"in new window.InputEvent("input"),CIt=a0&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Zse=a0&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,SIt=a0&&/^(?=.*Chrome).*/i.test(navigator.userAgent),MIt=a0&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!SIt;function Jse(e,t){t.update(()=>{if(e!==null){const n=r_(e,KeyboardEvent)?null:e.clipboardData,r=xt();if(r!==null&&n!=null){e.preventDefault();const s=tIt(t);s!==null&&n.setData("text/html",s),n.setData("text/plain",r.getTextContent())}}})}function kIt(e){return cg(e.registerCommand(Vl,t=>{const n=xt();return!!rt(n)&&(n.deleteCharacter(t),!0)},Ms),e.registerCommand(tg,t=>{const n=xt();return!!rt(n)&&(n.deleteWord(t),!0)},Ms),e.registerCommand(ng,t=>{const n=xt();return!!rt(n)&&(n.deleteLine(t),!0)},Ms),e.registerCommand(Ch,t=>{const n=xt();if(!rt(n))return!1;if(typeof t=="string")n.insertText(t);else{const r=t.dataTransfer;if(r!=null)$se(r,n);else{const s=t.data;s&&n.insertText(s)}}return!0},Ms),e.registerCommand(Q6,()=>{const t=xt();return!!rt(t)&&(t.removeText(),!0)},Ms),e.registerCommand(u1,t=>{const n=xt();return!!rt(n)&&(n.insertLineBreak(t),!0)},Ms),e.registerCommand(mO,()=>{const t=xt();return!!rt(t)&&(t.insertLineBreak(),!0)},Ms),e.registerCommand(dTe,t=>{const n=xt();if(!rt(n))return!1;const r=t,s=r.shiftKey;return!!Hse(n,!0)&&(r.preventDefault(),Wse(n,s,!0),!0)},Ms),e.registerCommand(uTe,t=>{const n=xt();if(!rt(n))return!1;const r=t,s=r.shiftKey;return!!Hse(n,!1)&&(r.preventDefault(),Wse(n,s,!1),!0)},Ms),e.registerCommand(wV,t=>{const n=xt();return!!rt(n)&&(!Zse||navigator.language!=="ko-KR")&&(t.preventDefault(),e.dispatchCommand(Vl,!0))},Ms),e.registerCommand(_V,t=>{const n=xt();return!!rt(n)&&(t.preventDefault(),e.dispatchCommand(Vl,!1))},Ms),e.registerCommand(rg,t=>{const n=xt();if(!rt(n))return!1;if(t!==null){if((Zse||CIt||MIt)&&_It)return!1;t.preventDefault()}return e.dispatchCommand(u1,!1)},Ms),e.registerCommand(pO,()=>(vPt(),!0),Ms),e.registerCommand(CV,t=>{const n=xt();return!!rt(n)&&(Jse(t,e),!0)},Ms),e.registerCommand(SV,t=>{const n=xt();return!!rt(n)&&(function(r,s){Jse(r,s),s.update(()=>{const a=xt();rt(a)&&a.removeText()})}(t,e),!0)},Ms),e.registerCommand(a8,t=>{const n=xt();return!!rt(n)&&(function(r,s){r.preventDefault(),s.update(()=>{const a=xt(),i=r_(r,ClipboardEvent)?r.clipboardData:null;i!=null&&rt(a)&&$se(i,a)},{tag:UTe})}(t,e),!0)},Ms),e.registerCommand(gTe,t=>{const n=xt();return!!rt(n)&&(t.preventDefault(),!0)},Ms),e.registerCommand(vTe,t=>{const n=xt();return!!rt(n)&&(t.preventDefault(),!0)},Ms))}const NO=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?f.useLayoutEffect:f.useEffect;function eae(e){return e.getEditorState().read(dNe(e.isComposing()))}function EIt({contentEditable:e,placeholder:t=null,ErrorBoundary:n}){const[r]=yu(),s=function(a,i){const[l,c]=f.useState(()=>a.getDecorators());return NO(()=>a.registerDecoratorListener(u=>{Xs.flushSync(()=>{c(u)})}),[a]),f.useEffect(()=>{c(a.getDecorators())},[a]),f.useMemo(()=>{const u=[],d=Object.keys(l);for(let h=0;h<d.length;h++){const m=d[h],g=o.jsx(i,{onError:x=>a._onError(x),children:o.jsx(f.Suspense,{fallback:null,children:l[m]})}),v=a.getElementByKey(m);v!==null&&u.push(Xs.createPortal(g,v,m))}return u},[i,l,a])}(r,n);return function(a){NO(()=>cg(kIt(a),bIt(a)),[a])}(r),o.jsxs(o.Fragment,{children:[e,o.jsx(TIt,{content:t}),s]})}function TIt({content:e}){const[t]=yu(),n=function(s){const[a,i]=f.useState(()=>eae(s));return NO(()=>{function l(){const c=eae(s);i(c)}return l(),cg(s.registerUpdateListener(()=>{l()}),s.registerEditableListener(()=>{l()}))},[s]),a}(t),r=xIt();return n?typeof e=="function"?e(r):e:null}const hNe=L.memo(({quote:e,onClear:t})=>e?o.jsx("div",{className:"py-sm bg-offsetPlus/50 dark:bg-backgroundDark animate-slideDownAndFadeIn z-[49] mx-3 rounded-lg pl-3 pr-3",children:o.jsxs("div",{className:"gap-sm flex items-start",children:[o.jsx(F,{color:"light",className:"mt-px flex items-center pt-1",variant:"tinyRegular",children:o.jsx(Ne,{icon:h$e,size:"xs",className:"rotate-180"})}),o.jsx(F,{className:"py-xs line-clamp-3 flex-1 overflow-hidden text-ellipsis",variant:"tinyRegular",color:"light",children:e}),o.jsx("div",{className:"shrink-0",children:o.jsx(it,{icon:yn,onClick:t,size:"tiny",pill:!0,toolTip:"Clear quote"})})]})}):null);hNe.displayName="QuotePreview";const tae="startTransition",jO=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,NIt=jO?f.useLayoutEffect:f.useEffect;class jIt{constructor(t){this.key=t,this.ref={current:null},this.setRefElement=this.setRefElement.bind(this)}setRefElement(t){this.ref={current:t}}}const nae=e=>{const t=document.getElementById("typeahead-menu");if(!t)return;const n=t.getBoundingClientRect();n.top+n.height>window.innerHeight&&t.scrollIntoView({block:"center"}),n.top<0&&t.scrollIntoView({block:"center"}),e.scrollIntoView({block:"nearest"})};function rae(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return n.top>r.top&&n.top<r.bottom}function AIt(e,t,n,r){const[s]=yu();f.useEffect(()=>{if(t!=null&&e!=null){const a=s.getRootElement(),i=a!=null?function(h,m){let g=getComputedStyle(h);const v=g.position==="absolute",x=/(auto|scroll)/;if(g.position==="fixed")return document.body;for(let b=h;b=b.parentElement;)if(g=getComputedStyle(b),(!v||g.position!=="static")&&x.test(g.overflow+g.overflowY+g.overflowX))return b;return document.body}(a):document.body;let l=!1,c=rae(t,i);const u=function(){l||(window.requestAnimationFrame(function(){n(),l=!1}),l=!0);const h=rae(t,i);h!==c&&(c=h,r?.(h))},d=new ResizeObserver(n);return window.addEventListener("resize",n),document.addEventListener("scroll",u,{capture:!0,passive:!0}),d.observe(t),()=>{d.unobserve(t),window.removeEventListener("resize",n),document.removeEventListener("scroll",u,!0)}}},[t,s,r,n,e])}const sae=nn("SCROLL_TYPEAHEAD_OPTION_INTO_VIEW_COMMAND");function RIt({close:e,editor:t,anchorElementRef:n,resolution:r,options:s,menuRenderFn:a,onSelectOption:i,shouldSplitNodeWithQuery:l=!1,commandPriority:c=BTe,preselectFirstItem:u=!0}){const[d,h]=f.useState(null),m=r.match&&r.match.matchingString;f.useEffect(()=>{u&&h(0)},[m,u]);const g=f.useCallback(x=>{t.update(()=>{const b=r.match!=null&&l?function(w){const C=xt();if(!rt(C)||!C.isCollapsed())return null;const S=C.anchor;if(S.type!=="text")return null;const k=S.getNode();if(!k.isSimpleText())return null;const E=S.offset,T=k.getTextContent().slice(0,E),j=w.replaceableString.length,N=E-function(O,I,B){let D=B;for(let z=D;z<=I.length;z++)O.slice(-z)===I.substring(0,z)&&(D=z);return D}(T,w.matchingString,j);if(N<0)return null;let R;return N===0?[R]=k.splitText(E):[,R]=k.splitText(N,E),R}(r.match):null;i(x,b,e,r.match?r.match.matchingString:"")})},[t,l,r.match,i,e]),v=f.useCallback(x=>{const b=t.getRootElement();b!==null&&(b.setAttribute("aria-activedescendant","typeahead-item-"+x),h(x))},[t]);return f.useEffect(()=>()=>{const x=t.getRootElement();x!==null&&x.removeAttribute("aria-activedescendant")},[t]),NIt(()=>{s===null?h(null):d===null&&u&&v(0)},[s,d,v,u]),f.useEffect(()=>cg(t.registerCommand(sae,({option:x})=>!(!x.ref||x.ref.current==null)&&(nae(x.ref.current),!0),c)),[t,v,c]),f.useEffect(()=>cg(t.registerCommand(hTe,x=>{const b=x;if(s!==null&&s.length){const w=d===null?0:d!==s.length-1?d+1:0;v(w);const C=s[w];C.ref!=null&&C.ref.current&&t.dispatchCommand(sae,{index:w,option:C}),b.preventDefault(),b.stopImmediatePropagation()}return!0},c),t.registerCommand(fTe,x=>{const b=x;if(s!==null&&s.length){const w=d===null?s.length-1:d!==0?d-1:s.length-1;v(w);const C=s[w];C.ref!=null&&C.ref.current&&nae(C.ref.current),b.preventDefault(),b.stopImmediatePropagation()}return!0},c),t.registerCommand(mTe,x=>{const b=x;return b.preventDefault(),b.stopImmediatePropagation(),e(),!0},c),t.registerCommand(pTe,x=>{const b=x;return s!==null&&d!==null&&s[d]!=null&&(b.preventDefault(),b.stopImmediatePropagation(),g(s[d]),!0)},c),t.registerCommand(rg,x=>s!==null&&d!==null&&s[d]!=null&&(x!==null&&(x.preventDefault(),x.stopImmediatePropagation()),g(s[d]),!0),c)),[g,e,t,s,d,v,c]),a(n,f.useMemo(()=>({options:s,selectOptionAndCleanUp:g,selectedIndex:d,setHighlightedIndex:h}),[g,d,s]),r.match?r.match.matchingString:"")}function aae(e,t){t!=null&&(e.className=t),e.setAttribute("aria-label","Typeahead menu"),e.setAttribute("role","listbox"),e.style.display="block",e.style.position="absolute"}function LIt({options:e,onQueryChange:t,onSelectOption:n,onOpen:r,onClose:s,menuRenderFn:a,triggerFn:i,anchorClassName:l,commandPriority:c=BTe,parent:u,preselectFirstItem:d=!0,ignoreEntityBoundary:h=!1}){const[m]=yu(),[g,v]=f.useState(null),x=function(C,S,k,E=jO?document.body:void 0,T=!0){const[j]=yu(),N=f.useRef(jO?document.createElement("div"):null),R=f.useCallback(()=>{if(N.current===null||E===void 0)return;N.current.style.top=N.current.style.bottom;const B=j.getRootElement(),D=N.current,z=D.firstChild;if(B!==null&&C!==null){const{left:V,top:U,width:H,height:q}=C.getRect(),$=N.current.offsetHeight;if(D.style.top=`${U+$+3+(T?window.pageYOffset:0)}px`,D.style.left=`${V+window.pageXOffset}px`,D.style.height=`${q}px`,D.style.width=`${H}px`,z!==null){z.style.top=`${U}`;const G=z.getBoundingClientRect(),K=G.height,ee=G.width,oe=B.getBoundingClientRect();V+ee>oe.right&&(D.style.left=`${oe.right-ee+window.pageXOffset}px`),(U+K>window.innerHeight||U+K>oe.bottom)&&U-oe.top>K+q&&(D.style.top=`${U-K-q+(T?window.pageYOffset:0)}px`)}D.isConnected||(aae(D,k),E.append(D)),D.setAttribute("id","typeahead-menu"),N.current=D,B.setAttribute("aria-controls","typeahead-menu")}},[j,C,T,k,E]);f.useEffect(()=>{const B=j.getRootElement();return C!==null&&R(),()=>{B!==null&&B.removeAttribute("aria-controls");const D=N.current;D!==null&&D.isConnected&&(D.remove(),D.removeAttribute("id"))}},[j,R,C]);const O=f.useCallback(B=>{C!==null&&(B||S(null))},[C,S]);AIt(C,N.current,R,O);const I=N.current;return I!=null&&(aae(I,k),E?.append(I)),N}(g,v,l,u),b=f.useCallback(()=>{v(null),s!=null&&g!==null&&s()},[s,g]),w=f.useCallback(C=>{v(C),r!=null&&g===null&&r(C)},[r,g]);return f.useEffect(()=>{const C=m.registerUpdateListener(()=>{m.getEditorState().read(()=>{if(!m.isEditable())return void b();const S=m._window||window,k=S.document.createRange(),E=xt(),T=function(R){let O=null;return R.getEditorState().read(()=>{const I=xt();rt(I)&&(O=function(B){const D=B.anchor;if(D.type!=="text")return null;const z=D.getNode();if(!z.isSimpleText())return null;const V=D.offset;return z.getTextContent().slice(0,V)}(I))}),O}(m);if(!rt(E)||!E.isCollapsed()||T===null||k===null)return void b();const j=i(T,m);if(t(j?j.matchingString:null),j!==null&&(h||!function(R,O){return O===0&&R.getEditorState().read(()=>{const I=xt();if(rt(I)){const B=I.anchor.getNode().getPreviousSibling();return bt(B)&&B.isTextEntity()}return!1})}(m,j.leadOffset))&&function(O,I,B){const D=Zl(B);if(D===null||!D.isCollapsed)return!1;const z=D.anchorNode,V=O,U=D.anchorOffset;if(z==null||U==null)return!1;try{I.setStart(z,V),I.setEnd(z,U)}catch{return!1}return!0}(j.leadOffset,k,S)!==null)return N=()=>w({getRect:()=>k.getBoundingClientRect(),match:j}),void(tae in L?L[tae](N):N());var N;b()})});return()=>{C()}},[m,i,t,g,b,w,h]),f.useEffect(()=>m.registerEditableListener(C=>{C||b()}),[m,b]),g===null||m===null||x.current===null?null:o.jsx(RIt,{close:b,resolution:g,editor:m,anchorElementRef:x,options:e,menuRenderFn:a,shouldSplitNodeWithQuery:!0,onSelectOption:n,commandPriority:c,preselectFirstItem:d})}const LN=245,ON=240,GV=100,YV=["@","/"].join(""),mNe=`\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'"~=<>_:;`,pNe="[^"+YV+mNe+"\\s]",OIt="(?:\\.[ |$]| |["+mNe+"]|)",gNe=new RegExp("(^|\\s|\\()(["+YV+"]((?:"+pNe+OIt+"){0,"+GV+"}))$"),vNe=new RegExp("(^|\\s|\\()(["+YV+"]((?:"+pNe+"){0,"+GV+"}))$"),PIt=10,IIt={shortcut:5},KV=250,iae={tab:0,file:1,space:2,shortcuts:3};function DIt(e,t){let n=gNe.exec(e);if(n===null&&(n=vNe.exec(e)),n!==null){const r=n[1],s=n[3];if(s.length>=t)return{leadOffset:n.index+r.length,matchingString:s,replaceableString:n[2]}}return null}class FIt extends jIt{uuid;variant;label;url;src;emoji;queryText;action;convertToNode;isAlwaysVisible;constructor(t,n,r,s,a,i,l,c,u,d,h){super(t),this.uuid=n,this.variant=r,this.label=s,this.url=a,this.src=i,this.emoji=l,this.queryText=c,this.action=u,this.convertToNode=d,this.isAlwaysVisible=h}}const yNe=L.memo(({options:e,onOpen:t=Yn,onClose:n=Yn,onTrigger:r=Yn})=>{const{$t:s}=ae(),[a]=yu(),[i,l]=f.useState(null),[c,u]=f.useState(!1),d=f.useCallback(()=>u(!0),[]),h=f.useCallback(()=>u(!1),[]),m=f.useCallback(S=>{switch(S){case"tab":return s({defaultMessage:"Tabs",id:"M56d6aRPai"});case"file":return s({defaultMessage:"Files",id:"m4vqJl0/FT"});case"space":return s({defaultMessage:"Spaces",id:"ZMoczsYew9"});case"shortcut":return s({defaultMessage:"Shortcuts",id:"7FAwwkYilD"});default:return S.toLocaleUpperCase()}},[s]);f.useEffect(()=>a.registerRootListener((S,k)=>{S&&(S.addEventListener("focus",d),S.addEventListener("blur",h)),k&&(k.removeEventListener("focus",d),k.removeEventListener("blur",h))}),[a,h,d]);const g=f.useMemo(()=>{const S=i?.toLocaleLowerCase().trim(),k=e.filter(N=>S?N.label.toLowerCase().includes(S)||N.url?.includes(S)||N.isAlwaysVisible:!0).sort((N,R)=>(iae[N.variant]??Number.MAX_SAFE_INTEGER)-(iae[R.variant]??Number.MAX_SAFE_INTEGER));let E="",T=0;const j=[];return k.forEach(N=>{N.variant!==E&&(E=N.variant,T=0);const R=IIt[E]??PIt;T>=R&&!N.isAlwaysVisible||(j.push(N),T+=1)}),j.map(N=>new FIt(N.uuid,N.uuid,N.variant,N.label,N.url,N.src,N.emoji,N.queryText,N.action,N.convertToNode,N.isAlwaysVisible))},[i,e]),v=f.useCallback(S=>{l(S)},[]),x=f.useCallback(S=>{const k=DIt(S,0);return k?.replaceableString&&r(k.replaceableString[0]),k},[r]),b=f.useCallback((S,k,E,T)=>{let j="";const N=[];return S.forEach((R,O)=>{R.variant!==j&&(j=R.variant,N.push({type:"separator",show:!0,text:m(j)})),N.push({type:"default",text:R.label,focused:O===k,customTextNode:o.jsx(F,{variant:"small",children:o.jsx(QV,{text:R.label,src:R.src,emoji:R.emoji,mentionVariant:R.variant,truncate:"small",variant:"extraSmall",iconClassName:"mx-1 relative top-[-1.25px] h-4 w-4",emojiClassName:"mx-1 pl-[2px] align-middle shrink-0"})}),tooltipText:$w(R.queryText??"",KV),onMouseMove:()=>{T(O)},onMouseDown:I=>{I.preventDefault(),T(O),E(R)},rightElement:""})}),N},[m]),w=f.useCallback((S,k,E)=>{if(S.action&&(setTimeout(()=>{S.action?.()},0),S.convertToNode===!1)){E();return}a.update(()=>{const T=XV({uuid:S.uuid,variant:S.variant,text:S.label,url:S.url,src:S.src,emoji:S.emoji,queryText:S.queryText});k&&k.replace(T);const j=rs(" ");T.insertAfter(j),j.selectEnd(),E()})},[a]),C=f.useCallback((S,{selectedIndex:k,selectOptionAndCleanUp:E,setHighlightedIndex:T})=>{const j=()=>{if(!S.current)return{isTop:!1,leftOffset:0};const O=S.current.getBoundingClientRect(),B=window.innerHeight-O.bottom<LN&&O.top>LN;let D=0;const z=O.left+ON;return z>window.innerWidth&&(D=window.innerWidth-z-16),O.left+D<16&&(D=16-O.left),{isTop:B,leftOffset:D}},{isTop:N,leftOffset:R}=j();return S.current&&g.length?Xs.createPortal(o.jsx(KD,{removeScrollBar:!1,enabled:!0,children:o.jsx(Q,{variant:Ile.background,className:"shadow-overlay dark:shadow-overlayDark p-xs scrollable-container scrollbar overflow-y-auto overflow-x-hidden rounded-xl [scrollbar-gutter:stable]",style:{width:ON,minWidth:ON,maxHeight:LN,...N&&{bottom:"48px",position:"absolute"},...R!==0&&{left:`${R}px`,position:"absolute"}},children:o.jsx(hy,{items:b(g,k??-1,E,T),disableScrollArea:!0,disableHoverStyles:!0})})}),S.current):null},[g,b]);return c?o.jsx(LIt,{onQueryChange:v,onSelectOption:w,triggerFn:x,preselectFirstItem:!0,onOpen:t,onClose:n,options:g,menuRenderFn:C}):null});yNe.displayName="MentionsPlugin";const UIt=Object.freeze(Object.defineProperty({__proto__:null,AtSignMentionsRegex:gNe,AtSignMentionsRegexAliasRegex:vNe,LENGTH_LIMIT:GV,TOOLTIP_MAX_NUM_CHARACTERS:KV,default:yNe},Symbol.toStringTag,{value:"Module"})),QV=L.memo(({className:e,textClassName:t,iconClassName:n,emojiClassName:r,text:s,src:a,color:i,truncate:l,variant:c,emoji:u,mentionVariant:d,tooltipText:h})=>{const m=f.useMemo(()=>{let g;try{g=u?String.fromCodePoint(parseInt(u,16)):null}catch{g=null}return d==="space"?g?o.jsx("span",{className:W("inline-block select-none",r),children:g}):o.jsx(Ne,{icon:Ja,className:W("text-text-200 inline-block shrink-0 rounded-sm",n)}):a?o.jsx("i",{className:W("inline-block shrink-0 select-none rounded-sm bg-cover bg-center bg-no-repeat",n),style:{backgroundImage:`url(${a})`,fontSize:"0.78rem"}}):null},[n,r,d,a,u]);return o.jsx(Mn,{tooltipText:h,showTooltip:!!h,children:o.jsxs("span",{className:W("inline-flex min-w-0 items-center align-top",{"max-w-[208px]":l==="small","max-w-[250px]":l==="large"},e),spellCheck:!1,children:[m,o.jsx(F,{className:W("inline-block min-w-0 truncate",t),color:i,as:"span",variant:c,children:s})]})})});QV.displayName="MentionNodeTextContent";const xNe=L.memo(e=>o.jsx(QV,{...e,className:"px-sm border-offsetPlus bg-offset dark:bg-background rounded-md border-[0.2px]",textClassName:"leading-[1.3]",iconClassName:"mr-1 h-[0.88rem] w-[0.88rem]",emojiClassName:"mr-1 text-[0.80rem]",truncate:"large"}));xNe.displayName="MentionNodeDecorator";function BIt(e){const t=e.textContent,n=e.getAttribute("data-mention-uuid"),r=e.getAttribute("data-mention-variant"),s=e.getAttribute("data-mention-url")??void 0,a=e.getAttribute("data-mention-src")??void 0,i=e.getAttribute("data-mention-emoji")??void 0,l=e.getAttribute("data-mention-query-text")??void 0;return t!==null&&n!==null&&r!==null?{node:XV({uuid:n,variant:r,text:t,url:s,src:a,emoji:i,queryText:l})}:null}class g8 extends ITe{__props;static getType(){return"mention"}static clone(t){return new g8(t.__props,t.__key)}static importJSON(t){return XV(t.props).updateFromJSON(t)}constructor(t,n){super(n),this.__props=t}exportJSON(){return{...super.exportJSON(),props:this.__props}}createDOM(){return document.createElement("span")}isIsolated(){return!0}updateDOM(){return!1}decorate(){return o.jsx(xNe,{text:this.__props.text,src:this.__props.src,emoji:this.__props.emoji,mentionVariant:this.__props.variant,tooltipText:$w(this.__props.queryText??"",KV)})}getTextContent(){switch(this.__props.variant){case"space":return"";default:return this.__props.url??this.__props.text}}exportDOM(){const t=document.createElement("span");return t.setAttribute("data-mention-uuid",this.__props.uuid),t.setAttribute("data-mention-variant",this.__props.variant),t.setAttribute("data-mention-url",this.__props.url??""),t.setAttribute("data-mention-src",this.__props.src??""),t.setAttribute("data-mention-emoji",this.__props.emoji??""),t.textContent=this.__props.text,{element:t}}static importDOM(){return{span:t=>!t.hasAttribute("data-mention-uuid")||!t.hasAttribute("data-mention-variant")?null:{conversion:BIt,priority:4}}}}function XV(e){return ym(new g8(e))}const ss={input:["overflow-auto","max-h-[45vh]","lg:max-h-[40vh]","sm:max-h-[25vh]","outline-none","font-sans","resize-none","caret-super","selection:bg-super/30","selection:text-textMain","dark:selection:bg-super/10","dark:selection:text-super","dark:bg-offsetDark","dark:text-textMainDark","bg-background-50","text-textMain","dark:placeholder-textOff","placeholder-textOff","placeholder:select-none","scrollbar-thumb-idle","dark:scrollbar-thumb-idleDark","scrollbar-thin","scrollbar-track-transparent"],wrapper:{base:["bg-background-50","w-full","outline-none","focus:outline-none","focus:ring-borderMain","flex","items-center","placeholder-textOff","border","focus:ring-1","rounded-2xl"],expanded:["col-start-1","col-end-4","pb-3"],compact:["flex-grow","flex-shrink","p-sm","order-1"],disabled:"opacity-50 pointer-events-none cursor-not-allowed",darkMode:"dark:bg-offsetDark dark:text-textMainDark dark:placeholder-textOff",transition:"duration-75 transition-all"},container:{base:"overflow-hidden relative flex h-full w-full"},attribution:{left:{base:["bg-background-50","dark:bg-offsetDark","gap-sm","flex","rounded-l-lg"],expanded:"col-start-1 row-start-2 -ml-two",compact:"order-0 ml-px"},right:{base:["bg-background-50","dark:bg-offsetDark","flex","items-center","justify-self-end","rounded-full"],expanded:"col-start-3 row-start-2",compact:"order-2 mr-px"}},placeholder:{base:["absolute","inset-0","pointer-events-none","dark:text-textOff","select-none","text-textOff"],compact:"p-sm"}},VIt=({isActive:e,shouldAcceptClarification:t})=>e?t?"border-super dark:border-super/85":"border-borderMainDark/30 dark:border-textMain/15":t?"border-super dark:border-super/85":"border-borderMain dark:border-textMain/10",zIt=({hasShadow:e,hasQuote:t})=>e&&!t?"shadow-sm dark:shadow-md shadow-textMain/5 dark:shadow-black/10":"",HIt=De(async()=>({default:(await Me(()=>import("./LexicalClearEditorPlugin.prod-BgqPlNGe.js"),__vite__mapDeps([89,1,3]))).ClearEditorPlugin})),WIt=De(async()=>({default:(await Me(()=>import("./LexicalHistoryPlugin.prod-CujMyxOc.js"),__vite__mapDeps([90,1,3]))).HistoryPlugin})),$It=De(async()=>({default:(await Me(()=>import("./LexicalOnChangePlugin.prod-BFfo0NRf.js"),__vite__mapDeps([91,1,3]))).OnChangePlugin})),qIt=De(async()=>({default:(await Me(()=>import("./LexicalEditorRefPlugin.prod-Bl9QtSRd.js"),__vite__mapDeps([92,1,3]))).EditorRefPlugin})),GIt=De(async()=>({default:(await Me(()=>Promise.resolve().then(()=>UIt),void 0)).default})),YIt=De(async()=>({default:(await Me(()=>import("./AutoLinkPlugin-Byaw7U_Z.js"),__vite__mapDeps([93,1,3]))).default})),KIt=De(async()=>({default:(await Me(()=>import("./LinkPlugin-BGxeA0dR.js"),__vite__mapDeps([94,1,3]))).default}));function QIt(e,t){switch(t.type){case"SET_EXPANDED":return{...e,isExpanded:t.payload};case"SET_ACTIVE":return{...e,isActive:t.payload};case"SET_COMPOSING":return{...e,isComposing:t.payload};default:return e}}const Sb=f.createContext({state:{isExpanded:!0,isActive:!1,isComposing:!1},dispatch:()=>{}}),bNe=(e,t,n,r,s)=>{f.useEffect(()=>{const a=n?15:40;e&&e.length>a||e?.includes(`
`)?s(!0):r!==(t==="expanded")&&s(t==="expanded")},[e,t,n,r,s])},ZV=L.memo(({initialLayout:e="expanded",wrapperClass:t,size:n,hasShadow:r,shouldAcceptClarification:s,quote:a,setQuote:i,attachmentsList:l,inputWarnings:c,children:u,inputRef:d})=>{const[h,m]=f.useReducer(QIt,{isExpanded:e==="expanded",isActive:!1,isComposing:!1}),{isActive:g,isExpanded:v}=h,x=f.useMemo(()=>{const S=VIt({isActive:g,shouldAcceptClarification:s}),k=zIt({hasShadow:r,hasQuote:!!a});return W(...ss.wrapper.base,ss.wrapper.darkMode,ss.wrapper.transition,t,S,k,{"px-0 pt-3 pb-3":n==="large"&&v,"py-sm px-0":n==="large"&&!v})},[g,s,t,r,a,n,v]),b=f.useCallback(()=>d?.current?.focus(),[d]),w=f.useCallback(S=>{const k=S.target,E=d?.current?.element();E&&k!==E&&!E.contains(k)&&S.preventDefault()},[d]),C=f.useCallback(()=>i?.(null),[i]);return o.jsx(Sb.Provider,{value:{state:h,dispatch:m},children:o.jsx("div",{className:"rounded-2xl",onClick:b,onMouseDownCapture:w,children:o.jsxs("div",{className:W(x,"gap-y-md grid items-center"),children:[(c||a||l)&&o.jsxs("div",{className:W({"pt-xs":!v},"gap-y-sm grid items-center"),children:[c,a&&o.jsx(hNe,{quote:a,onClear:C}),l]}),o.jsx("div",{className:W({"px-3":n==="large"&&!v,"px-3.5":n==="large"&&v,flex:!v,"grid-rows-1fr-auto grid grid-cols-3":v}),children:u})]})})})});ZV.displayName="ResizeableInputWrapper";const XIt=L.forwardRef(({autoFocus:e=!1,placeholder:t="",disabled:n=!1,disabledInput:r=!1,value:s,initialLayout:a="expanded",minRows:i,onChange:l,onClick:c,onBlur:u,onFocus:d,onKeyDown:h,onPaste:m,isMobileStyle:g,isMobileUserAgent:v,testId:x,id:b},w)=>{const{state:C,dispatch:S}=f.useContext(Sb),{isActive:k,isComposing:E,isExpanded:T}=C,j=f.useRef(k);j.current=k;const N=Rg(n),R=f.useRef(null),O=f.useMemo(()=>W(ss.container.base,{[ss.wrapper.expanded.join(" ")]:T,[ss.wrapper.compact.join(" ")]:!T,[ss.wrapper.disabled]:r}),[r,T]),I=f.useMemo(()=>W(...ss.input,"w-full"),[]),B=f.useCallback(ne=>{S({type:"SET_EXPANDED",payload:ne})},[S]),D=f.useCallback(ne=>{S({type:"SET_ACTIVE",payload:ne})},[S]),z=f.useCallback(ne=>{S({type:"SET_COMPOSING",payload:ne})},[S]),V=f.useCallback(ne=>{d?.(ne.nativeEvent),D(!0)},[d,D]),U=f.useCallback(ne=>{u?.(ne.nativeEvent)!==!1&&D(!1)},[u,D]),H=f.useCallback(()=>{if(R.current){const ne=R.current.value.length;R.current.focus(),R.current.setSelectionRange(ne,ne),R.current.scrollTop=R.current.scrollHeight}},[]),q=f.useCallback(ne=>{c?.(ne.nativeEvent)},[c]),$=f.useCallback(ne=>{uy(ne.nativeEvent,{isMobileUserAgent:v,isComposing:E,onKeyDown:h})},[h,E,v]),G=f.useCallback(()=>eF(z),[z]),K=f.useCallback(()=>tF(z),[z]),ee=f.useCallback(ne=>{m?.(ne.nativeEvent)},[m]),oe=f.useCallback(ne=>{l?.(ne.target.value)},[l]);return f.useImperativeHandle(w,()=>{const ne=R.current;return ne.focusAtEnd=H,ne.isFocused=()=>j.current,ne.append=te=>{R.current&&(R.current.value+=te)},ne.scrollToEnd=()=>{R.current&&(R.current.scrollTop=R.current.scrollHeight)},ne.trim=()=>{R.current&&(R.current.value=R.current.value.trim())},ne.element=()=>R.current,ne},[H]),f.useEffect(()=>{!v&&R.current&&e&&(H(),D(!0))},[v,R,e,D,H]),f.useEffect(()=>{N!==n&&!n&&!v&&e&&setTimeout(()=>{R.current?.focus()},200)}),bNe(s,a,g,T,B),o.jsx("div",{className:O,children:o.jsx(Yhe,{ref:R,placeholder:t,minRows:i,value:s,onClick:q,onChange:oe,onKeyDown:$,onBlur:U,onCompositionStart:G,onCompositionEnd:K,onFocus:V,onPaste:ee,className:I,autoComplete:"off","data-test-id":x,rows:i,id:b,disabled:r,"data-1p-ignore":!0})})}),AO="external-update",RO="focus",ZIt="blur",JIt=new Set([AO,RO,ZIt]),eDt=L.forwardRef(({autoFocus:e=!1,placeholder:t="",disabled:n=!1,value:r,initialLayout:s="expanded",json:a,minRows:i,onChange:l,onClick:c,onBlur:u,onFocus:d,onKeyDown:h,onPaste:m,isMobileStyle:g,isMobileUserAgent:v,testId:x,id:b,namespace:w="ResizableLexicalInput",mentionTypeaheadOptions:C=Fe,onMentionMenuOpen:S,onMentionMenuClose:k,onTriggerTypeahead:E},T)=>{const j=f.useRef(null),[N,R]=f.useState(null),{state:O,dispatch:I}=f.useContext(Sb),{isActive:B,isComposing:D,isExpanded:z}=O,V=f.useRef(D),U=f.useRef(B),H=f.useRef(""),q=f.useRef(null),$=f.useRef(!1),G=f.useRef(e);V.current=D,U.current=B,G.current=e;const K=Rg(n),ee=f.useMemo(()=>W(ss.container.base,{[ss.wrapper.expanded.join(" ")]:z,[ss.wrapper.compact.join(" ")]:!z}),[z]),oe=f.useMemo(()=>W(...ss.input,"size-full"),[]),ne=f.useMemo(()=>W(...ss.placeholder.base,{[ss.placeholder.compact]:!z}),[z]),te=f.useCallback(Oe=>I({type:"SET_EXPANDED",payload:Oe}),[I]),re=f.useCallback(Oe=>I({type:"SET_ACTIVE",payload:Oe}),[I]),X=f.useCallback(Oe=>I({type:"SET_COMPOSING",payload:Oe}),[I]),ce=f.useCallback(Oe=>{le.error(Oe)},[]),se=f.useCallback(Oe=>{d?.(Oe),re(!0)},[d,re]),J=f.useCallback(Oe=>{u?.(Oe)!==!1&&re(!1)},[u,re]),de=f.useCallback(Oe=>{m?.(Oe)},[m]),ie=f.useCallback(Oe=>{c?.(Oe)},[c]),he=f.useCallback((Oe,Qe,Ge)=>{const ze=[...Ge];let Ze;if(ze.length>0&&ze.every(St=>JIt.has(St)))if(ze.includes(RO)){if(Ze=Oe.read(()=>ir().getTextContent()),Ze===H.current)return}else return;Ze===void 0&&(Ze=Oe.read(()=>ir().getTextContent())),H.current=Ze,q.current=Oe.toJSON(),l?.(H.current,q.current)},[l]),pe=f.useCallback(()=>X(!0),[X]),ge=f.useCallback(()=>X(!1),[X]),Ce=f.useCallback(Oe=>{uy(Oe,{isMobileUserAgent:v,isComposing:V.current,onKeyDown:h})},[h,v]),we=f.useCallback(()=>N?.update(()=>{SO(RO),ir().selectEnd()}),[N]),Pe=f.useCallback(Oe=>N?.update(()=>{const Qe=ir(),Ge=rs(Oe),ze=Qe.getLastChild();if(CO(ze))ze.append(Ge);else throw new Error("Last child is not a paragraph node");Qe.selectEnd()}),[N]),ot=f.useCallback(()=>N?.update(()=>{const Oe=ir(),Qe=Oe.getLastChild();if(CO(Qe)){const Ge=Qe.getLastChild();bt(Ge)&&(Ge.getTextContent().trimEnd()===""?Ge.remove():Ge.setTextContent(Ge.getTextContent().trimEnd()));const ze=Qe.getFirstChild();bt(ze)&&(ze.getTextContent().trimStart()===""?ze.remove():ze.setTextContent(ze.getTextContent().trimStart()))}else throw new Error("Last child is not a paragraph node");Oe.selectEnd()}),[N]),Be=f.useCallback(()=>N?.read(()=>ir().getTextContent())??"",[N]),Ee=f.useCallback(()=>{$.current=!0,S?.()},[S]),st=f.useCallback(()=>{$.current=!1,k?.()},[k]),et=f.useCallback(Oe=>{N||ie(Oe.nativeEvent)},[N,ie]);f.useImperativeHandle(T,()=>({append:Pe,trim:ot,focusAtEnd:we,isFocused:()=>U.current,focus:()=>N?.focus(),blur:()=>N?.blur(),scrollIntoView:Oe=>N?.getRootElement()?.scrollIntoView(Oe),scrollToEnd:()=>N?.getRootElement()?.scrollIntoView({block:"end",behavior:"auto"}),element:()=>j?.current,get scrollHeight(){return N?.getRootElement()?.scrollHeight??0},get value(){return Be()},set value(Oe){throw new Error("setValue is not supported in Lexical")},get json(){return N?.getEditorState().toJSON()}}),[Pe,we,Be,ot,N]),bNe(r,s,g,z,te),f.useEffect(()=>{!v&&N&&e&&(we(),re(!0))},[v,e,re,N,we]),f.useEffect(()=>{K!==n&&!n&&!v&&e&&setTimeout(()=>{we()},200)}),f.useEffect(()=>N?.registerRootListener((Oe,Qe)=>{Oe&&(Oe.addEventListener("focus",se),Oe.addEventListener("blur",J),Oe.addEventListener("compositionstart",pe),Oe.addEventListener("compositionend",ge),Oe.addEventListener("keydown",Ce),Oe.addEventListener("paste",de),Oe.addEventListener("click",ie)),Qe&&(Qe.removeEventListener("focus",se),Qe.removeEventListener("blur",J),Qe.removeEventListener("compositionstart",pe),Qe.removeEventListener("compositionend",ge),Qe.removeEventListener("keydown",Ce),Qe.removeEventListener("paste",de),Qe.removeEventListener("click",ie))}),[J,ie,ge,se,Ce,de,pe,N]),f.useEffect(()=>{N&&(r&&a&&!Ya(a,q.current)?Promise.resolve().then(()=>{N.setEditorState(N.parseEditorState(a),{tag:AO}),G.current&&we(),H.current=N.read(()=>ir().getTextContent()),q.current=N.getEditorState().toJSON()}):H.current!==r&&(N.update(()=>{SO(AO);const Oe=ir(),Qe=rs(r),Ge=ro();Ge.append(Qe),Oe.clear().append(Ge),G.current&&Oe.selectEnd()},{discrete:!0}),H.current=N.read(()=>ir().getTextContent()),q.current=N.getEditorState().toJSON()))},[r,a,Be,N,we]),f.useEffect(()=>{const Oe=N?.registerCommand(Vl,dt=>{const ft=xt(),Et=ft?.getNodes();return Et?.length===1&&Hn(Et[0])?(Et[0].remove(),!0):rt(ft)?(ft.deleteCharacter(dt),!0):Rd(ft)?(ft.deleteNodes(),!0):!1},Oc),Qe=N?.registerCommand(tg,dt=>{const ft=xt();return rt(ft)?(ft.deleteWord(dt),!0):!1},Oc),Ge=N?.registerCommand(ng,dt=>{const ft=xt();return rt(ft)?(ft.deleteLine(dt),!0):!1},Oc),ze=N?.registerCommand(Q6,()=>{const dt=xt();return rt(dt)?(dt.removeText(),!0):!1},Oc),Ze=N?.registerCommand(Ch,dt=>{const ft=xt();if(typeof dt=="string")ft!==null&&ft.insertText(dt);else{if(ft===null)return!1;const Et=dt.dataTransfer;if(Et!=null)qse(Et,ft,N);else if(rt(ft)){const an=dt.data;return an&&ft.insertText(an),!0}}return!0},Oc),St=N?.registerCommand(a8,dt=>{if("clipboardData"in dt){const Et=dt.clipboardData?.getData("text/plain");if(Et&&Et.length>dh)return dt.preventDefault(),de(dt),!0}const ft=xt();return rt(ft)?(dt.preventDefault(),N.update(()=>{const Et=xt(),an=r_(dt,InputEvent)||r_(dt,KeyboardEvent)?null:"clipboardData"in dt?dt.clipboardData:null;an!=null&&Et!==null&&qse(an,Et,N)},{tag:UTe}),!0):!1},Oc),It=N?.registerCommand(wV,dt=>{const ft=ag(dt.target);if(Hn(ft))return!1;const Et=xt();if(rt(Et)){const{anchor:an}=Et,zn=an.getNode();if(Et.isCollapsed()&&an.offset===0&&!pa(zn)&&QPt(zn).getIndent()>0)return dt.preventDefault(),N.dispatchCommand(BOt,void 0);if(YPt&&navigator.language==="ko-KR")return!1}else if(!Rd(Et))return!1;return dt.preventDefault(),N.dispatchCommand(Vl,!0)},Oc),Jt=N?.registerCommand(_V,dt=>{const ft=ag(dt.target);if(Hn(ft))return!1;const Et=xt();return rt(Et)||Rd(Et)?(dt.preventDefault(),N.dispatchCommand(Vl,!1)):!1},Oc);return N?.registerNodeTransform(gm,dt=>{dt.getFormat()!==0&&dt.setFormat(0)}),N?.registerNodeTransform(t0,dt=>{if(dt.getChildrenSize()>1){const ft=dt.getChildren(),Et=ro();ft.forEach(an=>{He(an)&&(Et.getChildren().length&&Et.append(Yd()),an.getChildren().forEach(zn=>{(bt(zn)||Hn(zn)||f1(zn)||Uc(zn))&&Et.append(zn)}))}),dt.clear().append(Et).selectEnd()}}),N?.registerNodeTransform(n0,dt=>{const ft=dt.getParent();ft instanceof Zy&&(dt.getChildren().forEach(an=>{ft.append(an)}),dt.remove())}),()=>{Oe?.(),Qe?.(),Ge?.(),ze?.(),Ze?.(),St?.(),It?.(),Jt?.()}},[N,de]),f.useEffect(()=>{const Oe=N?.registerCommand(rg,Qe=>$.current||!Qe?!1:(uy(Qe,{isMobileUserAgent:v,isComposing:V.current,onKeyDown:h}),Qe.defaultPrevented),Oc);return()=>{Oe?.()}},[N,v,h]);const $e=f.useMemo(()=>({namespace:w,onError:ce,nodes:[g8,qV,Zy],theme:{link:"text-super hover:underline"}}),[w,ce]),tt=f.useMemo(()=>({minHeight:`${(i??1)*1.5}em`}),[i]),at=f.useMemo(()=>o.jsx("div",{className:ne,children:t}),[t,ne]),xe=f.useMemo(()=>o.jsx(mIt,{className:oe,"aria-placeholder":t,placeholder:at,"data-test-id":x,id:b}),[b,t,at,oe,x]);return f.useMemo(()=>o.jsx("div",{className:ee,children:o.jsx("div",{className:"w-full",style:tt,ref:j,onClick:et,children:o.jsxs(lIt,{initialConfig:$e,children:[o.jsx(EIt,{contentEditable:xe,ErrorBoundary:oi}),o.jsx(WIt,{}),o.jsx(HIt,{}),o.jsx($It,{onChange:he,ignoreSelectionChange:!0}),o.jsx(qIt,{editorRef:R}),o.jsx(GIt,{onClose:st,onOpen:Ee,options:C,onTrigger:E}),o.jsx(YIt,{}),o.jsx(KIt,{}),o.jsx(iIt,{})]})})}),[tt,et,$e,xe,he,st,Ee,C,E,ee])}),JV=L.forwardRef((e,t)=>{const n=e.useLexical?eDt:XIt;return o.jsx(n,{...e,ref:t})}),wNe=L.memo(({children:e})=>{const{state:t}=f.useContext(Sb),{isExpanded:n}=t;return e!=null?o.jsx("div",{className:W(...ss.attribution.left.base,{[ss.attribution.left.expanded]:n,[ss.attribution.left.compact]:!n}),children:e}):null});wNe.displayName="LeftAttribution";const _Ne=L.memo(({isLoading:e,children:t})=>{const{state:n}=f.useContext(Sb),{isExpanded:r}=n;return o.jsxs("div",{className:W(...ss.attribution.right.base,{[ss.attribution.right.expanded]:r,[ss.attribution.right.compact]:!r}),children:[e?o.jsx(F,{color:"light",className:"mr-3",children:o.jsx(Ne,{icon:pce,size:"xs",className:"animate-spin"})}):null,t]})});_Ne.displayName="RightAttribution";const CNe=L.memo(({value:e,suggestDropdownProps:t,ResizeableInputWrapperProps:n,ResizeableInputProps:r,leftAttributionComponents:s,rightAttributionComponents:a})=>{const i=r.onChange,l=r.ref,c=f.useRef(null),u=f.useRef(e);u.current=e;const d=f.useCallback(h=>{c.current=h,l instanceof Function?l(h):l&&(l.current=h)},[l]);return f.useEffect(()=>{c.current?.value&&c.current?.value!==u.current&&i?.(c.current?.value)},[i]),eS("ask-input"),o.jsx(Dx,{...t,value:e,children:o.jsxs(ZV,{...n,children:[o.jsx(JV,{...r,ref:d}),s,a]})})});CNe.displayName="AskInputBase";const tDt=({showIncognitoHint:e,showSearchModeSelector:t=!0,isFollowUp:n,layoutKey:r})=>{const s="ask-input-left-attributions",{$t:a}=ae(),{isMacOS:i}=sn(),l=Fa({reason:s});return o.jsx(wNe,{children:o.jsx(rm,{children:o.jsx("div",{className:W("gap-xs flex items-center"),children:o.jsxs(kt,{initial:!1,mode:"popLayout",children:[l&&e&&o.jsx(je.div,{className:"mr-xs flex shrink-0 items-center",initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},children:o.jsx(Mn,{className:"max-w-[280px]",tooltipText:a({defaultMessage:"Create anonymous threads that don't appear in your library and expire after 24 hours.",id:"BBjMWPmxC0"}),keyboardShortcut:i?["⌘",";"]:["ctrl",";"],asChild:!0,children:o.jsx("span",{children:o.jsx(mf,{size:"small",inverse:!0})})})}),t&&o.jsx(YB,{isFollowUp:n,layoutKey:r})]})})})})},SNe=L.memo(tDt);SNe.displayName="AskInputLeftAttribution";const MNe=L.memo(({toolTip:e,icon:t,isDisabled:n,value:r,querySource:s,size:a=tn.small,handleSubmit:i,...l})=>o.jsx(Le,{...l,ariaLabel:"Submit",toolTip:e,icon:t,variant:"primary",size:a,onClick:n?void 0:()=>i({query:r,querySource:s}),disabled:n,extraCSS:"!duration-100"}));MNe.displayName="SubmitButton";const nDt=({selectedModel:e,onModelChange:t}={})=>{const n="search-model-selector",{isMobileStyle:r}=qe(),{$t:s}=ae(),{onActiveMenuChange:a}=Ho(),{activeMenu:i}=La(),l=Ai(),{configuredModel:c}=Mr(),u=WS(),d=e||c,{isMax:h}=cn(),m=l===_e.SEARCH,g=[Re.DEFAULT,Re.PRO,Re.ALPHA,Re.BETA].includes(d),x=!!wn()?.get("openSearchModeSelector");f.useEffect(()=>{x&&a(Ns.SEARCH_MODEL_SELECTOR)},[x,a]);const b=f.useCallback(E=>{u(E,l)},[u,l]),{menuItems:w}=Wke({reason:n,selectedSearchMode:l,currentModel:d,onModelSelect:t||b}),C=f.useCallback(()=>{a(Ns.SEARCH_MODEL_SELECTOR)},[a]),S=f.useCallback(()=>{a(null)},[a]),k=f.useMemo(()=>({className:W("max-h-[40vh]",{"max-super-override":h})}),[h]);return o.jsx(kt,{initial:!1,mode:"popLayout",children:m&&o.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15,ease:"linear"},children:o.jsx(Rn,{placement:"bottom-end",boxProps:k,items:w,isMobileStyle:r,isOpen:i===Ns.SEARCH_MODEL_SELECTOR,onOpen:C,onClose:S,children:o.jsx(it,{extraCSS:"max-w-24 sm:max-w-none",icon:uce,size:"small",textClassName:"text-[0.8125rem]",toolTip:s(g?{defaultMessage:"Choose a model",id:"fXlc3idTcy"}:$i[d].name),variant:g?"common":"super"})})},"search-model-selector")})},kNe=L.memo(nDt);kNe.displayName="SearchModelSelector";const ENe=L.memo(({isTranscribing:e,isInitializing:t,startTranscription:n,stopTranscription:r,variant:s="primary"})=>{const{$t:a}=ae(),[i,l]=f.useState(t),c=()=>{l(!0),n?.()},u=()=>{l(!1),r?.()};return f.useEffect(()=>{e&&l(!1)},[e]),o.jsx(o.Fragment,{children:s==="primary"?o.jsxs("div",{className:"relative ml-2",children:[e&&o.jsx("div",{className:"bg-super/20 absolute inset-[10%] animate-[ping_1.5s_cubic-bezier(0,0,0.2,1)_infinite] rounded-full"}),o.jsx(Le,{toolTip:a(e?{defaultMessage:"Stop Dictation",id:"RR4fO5+xkb"}:{defaultMessage:"Dictation",id:"0eNg7Kdki1"}),ariaLabel:"Dictation",isLoading:t||i,icon:e?Yj:_Y,variant:"primary",onClick:e?u:c,disabled:!1,size:tn.small})]}):o.jsxs("div",{className:"relative",children:[e&&o.jsx("div",{className:"bg-super/20 absolute inset-[10%] animate-[ping_1.5s_cubic-bezier(0,0,0.2,1)_infinite] rounded-full"}),o.jsx(it,{toolTip:a(e?{defaultMessage:"Stop Dictation",id:"RR4fO5+xkb"}:{defaultMessage:"Dictation",id:"0eNg7Kdki1"}),ariaLabel:"Dictation",isLoading:t||i,icon:e?Yj:_Y,variant:"common",onClick:e?u:c,disabled:!1,size:tn.small})]})})});ENe.displayName="DictationButton";const rDt={hidden(){return{opacity:0,scale:.2}},visible(){return{opacity:1,scale:1}}},TNe=L.memo(({onStopButtonClick:e,variant:t="inverted"})=>{const{$t:n}=ae();return o.jsx(je.div,{animate:"visible",exit:"hidden",initial:"hidden",variants:rDt,children:o.jsx(Le,{testId:"stop-generating-response-button",toolTip:n({defaultMessage:"Stop generating response",id:"wXXKXUJh1s"}),variant:t,icon:Yj,onClick:e,size:"small",extraCSS:"text-caution hover:!bg-caution hover:!text-white ml-2"})},"stop-button")});TNe.displayName="StopButton";function sDt(){const{value:e,loading:t}=vs({flag:"comet-sidecar-v2v-enabled",subjectType:"visitor_id",defaultValue:!1});return f.useMemo(()=>({value:e,loading:t}),[e,t])}function NNe(){const{value:e}=vs({flag:"enable-clarifying-questions",subjectType:"user_nextauth_id",defaultValue:!1});return e}const aDt=br({path:"M0 12.6663C0 13.4018 0.59792 13.9997 1.33333 13.9997C2.06875 13.9997 2.66667 13.4018 2.66667 12.6663V11.333C2.66667 10.5975 2.06875 9.99967 1.33333 9.99967C0.59792 9.99967 0 10.5975 0 11.333V12.6663ZM6.66667 5.33301C7.40213 5.33301 8 5.93087 8 6.66634V17.333C8 18.0685 7.40213 18.6663 6.66667 18.6663C5.9312 18.6663 5.33333 18.0685 5.33333 17.333V6.66634C5.33333 5.93087 5.9312 5.33301 6.66667 5.33301ZM10.6667 21.333C10.6667 22.0685 11.2645 22.6663 12 22.6663C12.7355 22.6663 13.3333 22.0685 13.3333 21.333V2.66634C13.3333 1.93093 12.7355 1.33301 12 1.33301C11.2645 1.33301 10.6667 1.93093 10.6667 2.66634V21.333ZM17.3333 5.33301C18.0688 5.33301 18.6667 5.93087 18.6667 6.66634V17.333C18.6667 18.0685 18.0688 18.6663 17.3333 18.6663C16.5979 18.6663 16 18.0685 16 17.333V6.66634C16 5.93087 16.5979 5.33301 17.3333 5.33301ZM24 11.333C24 10.5975 23.4021 9.99967 22.6667 9.99967C21.9312 9.99967 21.3333 10.5975 21.3333 11.333V12.6663C21.3333 13.4018 21.9312 13.9997 22.6667 13.9997C23.4021 13.9997 24 13.4018 24 12.6663V11.333Z",name:"IconPerplexityV2V",variant:"filled"}),jNe=L.memo(()=>{const{openModal:e}=Gt(),t=Ct(),n=f.useCallback(()=>{t?e("voiceToVoiceModal",null):e("loginModal",{origin:gt.VOICE_TO_VOICE_BUTTON,pitchMessage:{title:"Sign in to unlock voice mode"}})},[t,e]);return o.jsx("div",{className:"ml-2",children:o.jsx(Le,{onClick:n,size:tn.small,icon:aDt,variant:"primary",disabled:!1,toolTip:"Voice mode"})})});jNe.displayName="VoiceToVoiceButton";const ANe=({reason:e})=>{const{connectors:t}=Ua({reason:e}),{connectorsMap:n}=QS({reason:e}),r=f.useMemo(()=>(t?.connectors??[]).filter(a=>(a.name==="google_drive"||a.name==="onedrive"||a.name==="sharepoint"||a.name==="dropbox"||a.name==="box")&&n[a.name]&&!n[a.name].connected),[n,t]),s=f.useMemo(()=>(t?.connectors??[]).filter(a=>n[a.name]&&!n[a.name].connected),[n,t]);return f.useMemo(()=>({disabledFileConnectors:r,disabledConnectors:s}),[s,r])},RNe=({reason:e})=>{const t=wn(),n=t?.get("referrer"),r=t?.get("referrerId"),{$t:s}=ae(),{openToast:a}=Sr(),i=f.useCallback(async({connectorName:l,redirectPath:c,customReferrer:u,customReferrerId:d,unauthedRedirectPath:h})=>{const m=await mct({name:l,referrer:u??n??void 0,referrerId:d??r??void 0,redirectPath:c??void 0,unauthedRedirectPath:h??void 0,reason:e});if(!m){a(s({defaultMessage:"Unable to start connection.",id:"SPIzcd/Xa2"}),"error",3);return}Oh(m,"File connector")},[e,n,r,s,a]);return f.useMemo(()=>({handleConnect:i}),[i])},iDt=({mode:e})=>{const t=ln(),n=nc(),{currentOpenedModal:r}=Gt(),s=f.useMemo(()=>t?.startsWith("/collections")?r==="uploadFilesModal"?"space_sources":"space":t?.startsWith("/search")?"thread":t?.startsWith("/settings")?null:"ask",[t,r]),a=f.useMemo(()=>n===null?null:t?.startsWith("/collections")?n.slug?typeof n.slug=="string"?n.slug:n.slug[0]:null:t?.startsWith("/search")?t.split("/").pop()??null:t?.startsWith("/settings")?null:e??null,[t,n,e]),i=Vg(),l=f.useMemo(()=>{const c=`${i}/connectors`,u=new URLSearchParams;if(s){const d=Array.isArray(a)?a[0]:a;u.append("referrer",s),d&&u.append("referrerId",d)}return c+"?"+u.toString()},[s,a,i]);return f.useMemo(()=>({referrer:s,referrerId:a,redirectPath:l}),[l,s,a])},LNe=L.memo(({isOpen:e,onClose:t,cleanupPicker:n})=>(f.useEffect(()=>()=>{n()},[n]),o.jsx(Sn,{variant:"wide",isOpen:e,onClose:t,renderCloseButton:!0,children:o.jsx("div",{id:aO,style:{height:"800px"}})})));LNe.displayName="BoxFilePickerModal";const oDt=({skip:e,filters:t,reason:n})=>{const r=Zd({enabled:!0,initialPageParam:null,queryKey:$at(t),queryFn:({pageParam:a})=>Hct({filters:t,skipToken:a,reason:n}),getNextPageParam:a=>a&&a.sites.length?a.skipToken:void 0}),s=r.data?.pages.map(a=>a?.sites??[]).flat()??Fe;return f.useMemo(()=>({...r,sites:s}),[r,s])},lDt=11,ONe=L.memo(({onNext:e,onCancel:t})=>{const n="sharepoint-site-selector",r=f.useRef(null),{$t:s}=ae(),a=s({defaultMessage:"Select a site",id:"NLmDBthOaZ"}),i=s({defaultMessage:"Next",id:"9+DdtuCqLw"}),l=s({defaultMessage:"Cancel",id:"47FYwba+bI"}),[c,u]=f.useState(null),d=f.useCallback(B=>u(B.name!==c?.name?B:null),[c]),{isMobileUserAgent:h}=qe(),[m,g]=f.useState(!1),[v,x]=f.useState(""),[b,w]=f.useState(v),C=f.useCallback(B=>{u(null),x(B)},[x]),{fetchNextPage:S,hasNextPage:k,isFetchingNextPage:E,sites:T,isLoading:j}=oDt({skip:!1,filters:{search_term:b},reason:n}),N=f.useMemo(()=>Ni(()=>{k&&!E&&S()},500),[k,E,S]);_F(r,N,{threshold:.5}),f.useEffect(()=>{!j&&b===""&&g(T.length>lDt)},[j,b,T]),f.useEffect(()=>{const B=setTimeout(()=>w(v),250);return()=>clearTimeout(B)},[v]);const R=f.useCallback(()=>e(c?.webUrl??""),[e,c?.webUrl]),O=f.useMemo(()=>o.jsx(jt,{color:"#20808D",icon:HC.faCheck}),[]),I=f.useMemo(()=>L.memo(({site:B,index:D})=>{const z=f.useCallback(()=>d(B),[B]);return o.jsx(it,{ref:D===T.length-1?r:null,variant:"common",layout:"split",text:B.name,onClick:z,trailingComponent:c?.name===B.name?O:null,textClassName:"text-left w-5/6 font-display text-textMain text-md font-[500]",fullWidth:!0})}),[d,c?.name,T.length,O]);return o.jsxs(Q,{variant:"transparent",className:"px-md md:-mt-lg grid gap-y-[24px] sm:w-full md:w-[515px]",children:[o.jsxs("div",{className:"grid gap-y-[24px]",children:[o.jsx(F,{variant:"entry-title-200",children:a}),m&&o.jsx(lf,{type:"search",isMobileUserAgent:h,placeholder:s({defaultMessage:"Search sites",id:"Nxbc+cXNbW"}),value:v,className:"bg-offsetPlus rounded-b-md rounded-t-md border-none",onChange:C})]}),o.jsxs(Q,{className:"gap-y-sm scrollbar-none h-56 flex-col overflow-y-scroll",children:[j&&o.jsx(Dl,{className:"gap-y-sm grid",blockCount:5,size:"small",noLines:!0}),T.length>0&&T.map((B,D)=>o.jsx(I,{site:B,index:D},D)),!j&&!E&&T.length===0&&o.jsx(F,{variant:"small",color:"light",textCenter:!0,children:s({defaultMessage:"No results",id:"jHJmjfxD4s"})}),E&&o.jsx(Dl,{blockCount:1,size:"small"})]}),o.jsxs(Q,{className:"gap-x-md flex justify-end",children:[o.jsx(Le,{variant:"common",pill:!0,text:l,onClick:t}),o.jsx(Le,{variant:"primary",pill:!0,text:i,textClassName:"",disabled:c===null,onClick:R})]})]})});ONe.displayName="SharepointSiteSelector";const PNe=L.memo(({isOpen:e,options:t,onClose:n,onSelectSite:r})=>{const s=f.useMemo(()=>t?.connector==="sharepoint"&&!t.webUrl,[t?.connector,t?.webUrl]);return o.jsxs(Sn,{variant:s?"medium":"wide",isOpen:e,onClose:n,renderCloseButton:!s,children:[s&&o.jsx(ONe,{onNext:r,onCancel:n}),!s&&o.jsx("iframe",{id:"microsoft-file-picker",height:"800px"})]})});PNe.displayName="MicrosoftFilePickerModal";const cDt=L.memo(({children:e,placement:t,isOpen:n,onOpen:r,onClose:s,connectorMenuItems:a,width:i="250px"})=>{const{isMobileStyle:l}=qe(),c=f.useMemo(()=>({style:{width:i}}),[i]);return o.jsx(kt,{initial:!1,mode:"popLayout",children:o.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15,ease:Hy},children:o.jsx(Rn,{placement:t,items:a,isMobileStyle:l,isOpen:n,onOpen:r,onClose:s,boxProps:c,children:e})},"attachment-selector")})}),INe=L.memo(({isOpen:e,fileType:t,size:n,tooltip:r,onOpen:s,onClose:a,onFilePickerOpen:i,onFilePickerClose:l,areFileAttachmentsAllowed:c,fileUploadErrorMessage:u,fileUploadWarningMessage:d,activeConnector:h=null,uploadedFiles:m=Fe,handleStartUpload:g,handleFileInput:v,isBoxFilePickerOpen:x=!1,handleCloseBoxFilePicker:b,cleanupBoxFilePicker:w,microsoftFilePickerOptions:C=null,handleCloseMicrosoftFilePicker:S,handleSelectSharepointSite:k,isMicrosoftFilePickerOpen:E=!1,fileInputRef:T,isAudioVideoFilesEnabled:j=!1,setAttachmentErrorMessage:N})=>{const R="file-upload-button",{$t:O}=ae(),I=f.useRef(!1),{fileUploadUpsellTooltipOpen:B}=La(),{setFileUploadUpsellTooltipOpen:D}=Ho(),z=fo(),V=Ct(),{uploadRateLimit:U}=Mr(),H=f.useCallback(Ee=>Ee.preventDefault(),[]),{trackEvent:q}=Ye(),{referrer:$,referrerId:G}=iDt({mode:"file"}),{connectorsMap:K}=QS({reason:R}),{enabledFileConnectors:ee}=QB({reason:R}),{disabledFileConnectors:oe}=ANe({reason:R}),ne=f.useMemo(()=>K?.onedrive?.connected||K?.sharepoint?.connected,[K?.onedrive?.connected,K?.sharepoint?.connected]),te=f.useCallback(()=>{switch(t){case"image":return O({defaultMessage:"images",id:"HVUWg4/ofn"});case"all":return O({defaultMessage:"files",id:"l17U7PEF+6"});default:return O({defaultMessage:"text or PDF files",id:"XFh9ob267W"})}},[O,t]),re=f.useCallback(()=>{switch(t){case"image":return Eze;case"all":return j?Rze:Tze;default:return j?jze:kze}},[t,j]),X=f.useCallback(Ee=>{Ee?q("attempt connector file attachment",{connectorName:Ee}):q("opened file selector",{}),g?.(Ee)},[g,q]),{handleConnect:ce}=RNe({reason:R}),[se,J]=f.useState(!1),de=f.useMemo(()=>{const Ee={type:"default",text:O({defaultMessage:"Local files",id:"xMmQ4F7z3A"}),size:"small",icon:rWe,onMouseDown:H,onClick:()=>X("local")},st=ee.map(et=>{const $e=et.name;return{type:"default",text:f4($e)??"",avatar:o.jsx("img",{src:Hw($e)??"",alt:f4($e),width:20,height:20}),onMouseDown:H,onClick:()=>X($e),show:Xze.includes(et.name)}});return oe.length>0&&!z&&st.push({type:"nested",submenu:oe.map(et=>({type:"default",size:"small",text:f4(et.name),avatar:o.jsx("img",{src:Hw(et.name)??"",alt:f4(et.name),width:20,height:20}),rightElement:o.jsx("div",{className:"flex items-center justify-center",children:o.jsx(Ne,{icon:_l,size:"sm"})}),onClick:()=>ce({connectorName:et.name,customReferrer:$??void 0,customReferrerId:G??void 0})})),isSubmenuOpen:se,onSubmenuOpen:()=>J(!0),onSubmenuClose:()=>J(!1),text:O({defaultMessage:"Connect files",id:"geEGjFxpOA"}),icon:Mce,onMouseDown:H}),[Ee,...st]},[O,ee,oe,H,X,se,ce,$,G,z]),ie=f.useCallback(()=>{de.length<=1||m.length>0?X(h??void 0):s?.()},[de,m,h,X,s]),he=f.useCallback(()=>{a?.()},[a]),pe=f.useMemo(()=>{if(r)return r;let Ee=`${O({defaultMessage:"Attach",id:"Ye0Clmvfec"})} ${te()}`;return V?c?U!=null&&U<=100?Ee+=`. ${O({defaultMessage:"{remaining} left today",id:"V9HtlcGCOC"},{remaining:U})}`:Wn(Fj)&&(Ee=O({defaultMessage:"Files attached to threads are retained for 7 days",id:"hTclTOMwb7"})):Ee=O({defaultMessage:"File attachments are disabled by your organization",id:"HmmaBNCmcH"}):Ee+=`. ${O({defaultMessage:"Sign in to attach files",id:"Ei6nUBg77Q"})}`,Ee},[r,U,V,O,te,c]);f.useEffect(()=>{const Ee=()=>{I.current&&(l?.(),I.current=!1)};return window.addEventListener("focus",Ee),()=>window.removeEventListener("focus",Ee)},[l]);const ge=f.useCallback(()=>{D(!1)},[D]),Ce=f.useCallback(()=>S?.(),[S]),we=f.useCallback(()=>b?.(),[b]),Pe=f.useCallback(Ee=>k?.(Ee),[k]),ot=f.useCallback(()=>w?.(),[w]),Be=f.useCallback(()=>{N?.("")},[N]);return o.jsx("div",{className:"flex items-center",children:o.jsx(Mn,{tooltipText:O({defaultMessage:"Attach files",id:"8d3exg7mte"}),open:B,offset:3,bodyClassName:"!bg-textMain",bodyTextClassName:"!text-borderMain",arrowClassName:"!fill-textMain",closeOnClick:!0,onClickOutsideTooltip:ge,asChild:!0,children:o.jsxs("div",{children:[o.jsx(cDt,{placement:"bottom-start",connectorMenuItems:de,isOpen:e,onOpen:ie,onClose:he,children:o.jsx(it,{size:n,icon:cI,disabled:!c,toolTip:pe})}),o.jsx("input",{type:"file",multiple:!0,onClick:()=>{I.current=!0,i?.()},ref:T,onChange:Ee=>{I.current=!1,v?.(Ee.target.files?Array.from(Ee.target.files):Fe)},accept:re(),style:{display:"none"}}),ne&&o.jsx(PNe,{options:C,isOpen:E,onClose:Ce,onSelectSite:Pe}),K?.box?.connected&&o.jsx(LNe,{isOpen:x,onClose:we,cleanupPicker:ot}),o.jsx(Uh,{isVisible:!!u,variant:"error",message:u??"",handleClose:Be}),o.jsx(Uh,{isVisible:!!d&&!u,variant:"warning",message:d??"",timeout:4})]})})})});INe.displayName="FileUploadButton";const DNe=L.memo(({isOpen:e,onOpen:t,onClose:n})=>{const r="recency-switcher",{$t:s}=ae(),a=ae(),{isMobileStyle:i}=qe(),l=nc(),{trackEvent:c}=Ye(),{sources:u,recency:d,setRecency:h}=Mr(),m=Array.isArray(l?.slug)?l.slug[0]:l?.slug,{collection:g}=uf({collectionSlug:m,reason:r}),v=g?.focused_web_config?.link_configs??Fe,x=u&&u.includes("web"),b=u&&v.length>0,w=!x&&!b,S=u&&u.includes("crunchbase")?!0:w,k=f.useCallback(j=>{h(j),c("search recency click",{recency:j}),n()},[c,h,n]),E=f.useMemo(()=>[{value:null,label:s({defaultMessage:"All Time",id:"52UMW3b1Z0"})},{value:"DAY",label:s({defaultMessage:"Today",id:"zWgbGgjUUg"})},{value:"WEEK",label:s({defaultMessage:"Last Week",id:"P3YB9A5Yho"})},{value:"MONTH",label:s({defaultMessage:"Last Month",id:"cfMkrE1iIn"})},{value:"YEAR",label:s({defaultMessage:"Last Year",id:"7PhUtcTRXC"})}],[s]),T=f.useMemo(()=>E.map(j=>({type:"default",text:j.label,active:d===j.value,onClick:()=>k(j.value)})),[E,d,k]);return o.jsx(Gke,{focusItems:T,placement:"bottom-start",width:"200px",isMobileStyle:i,isOpen:e,onOpen:t,onClose:n,menuType:Ns.RECENCY,children:o.jsx(it,{toolTip:a.formatMessage({defaultMessage:"Set recency for web search",id:"3/OG+oV8gT"}),size:"small",icon:cce,disabled:S})})});DNe.displayName="RecencySwitcher";const FNe=L.memo(({handleFileInput:e})=>{const{$t:t}=ae(),{sourceTabUrl:n}=sc(),r=Bs();f.useEffect(()=>r.subscribeScreenshotCaptured(a=>{e?.([a],"local",qP)}),[r,e]);const s=f.useCallback(async()=>{r.captureSourceTabScreenshotV2({sourceTabUrl:n})},[r,n]);return o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(it,{onClick:s,size:tn.small,variant:"common",toolTip:t({defaultMessage:"Screenshot",id:"9a+SKtXKhe"}),icon:$We})})});FNe.displayName="SidecarScreenshotButton";const PN=({className:e,...t})=>o.jsx("div",{className:e,children:o.jsx(MNe,{...t,value:""})}),uDt=({value:e,json:t,submitWillFork:n,isFollowUp:r,isDisabled:s,querySource:a,errorMessage:i,handleSubmit:l,fileUploadRef:c,showFileUpload:u,fileUploadTooltip:d,showStopButton:h,showModelSelector:m,onStopButtonClick:g,onFilePickerOpen:v,onFilePickerClose:x,showSources:b,showRecency:w,disableActionButtons:C,startTranscription:S,stopTranscription:k,isTranscribing:E,isTranscriptionInitializing:T,isTranscriptionAvailable:j,fileUploadErrorMessage:N,fileUploadWarningMessage:R,activeConnector:O=null,uploadedFiles:I,handleStartUpload:B,handleFileInput:D,isBoxFilePickerOpen:z=!1,handleCloseBoxFilePicker:V,cleanupBoxFilePicker:U,microsoftFilePickerOptions:H=null,handleCloseMicrosoftFilePicker:q,handleSelectSharepointSite:$,isMicrosoftFilePickerOpen:G=!1,fileInputRef:K,hasQuery:ee,isAudioVideoFilesEnabled:oe=!1,setAttachmentErrorMessage:ne,isCometHome:te})=>{const re="ask-input-right-attributions",{isMobileStyle:X,isMobileUserAgent:ce}=qe(),{screenshotToolEnabled:se}=sc(),{openModal:J}=Gt(),{organization:de}=Bn({reason:re}),{$t:ie}=ae(),he=NNe(),{activeMenu:pe}=La(),{onActiveMenuChange:ge}=Ho(),{isWindowsApp:Ce}=sn(),we=pr(),{value:Pe}=sDt(),ot=wn(),{fileRepoInfo:Be}=df({reason:re}),Ee=Be.file_repository_type==="COLLECTION",st=b&&!r,et=w&&Ee&&!r,$e=f.useRef(e),tt=f.useRef(t);$e.current=e,tt.current=t;const at=f.useCallback(({querySource:ft})=>{l({query:$e.current,json:tt.current,querySource:ft})},[l]),xe=Ilt(Vlt),Oe=Us(xe?.display_model)==_e.RESEARCH||Us(xe?.display_model)==_e.STUDIO;f.useEffect(()=>{if(!Ce)return;const ft=new URLSearchParams(window.location.search);ft.get("voice-mode")?(gy({"voice-mode":void 0}),S?.()):ft.get("v2v")&&(gy({v2v:void 0}),J("voiceToVoiceModal",null))},[ot,Ce,S,J]),f.useEffect(()=>{const ft=()=>{j&&(E?k?.():S?.())},Et=()=>{J("voiceToVoiceModal",null)};return document.addEventListener("toggleVoiceToVoice",Et),document.addEventListener("toggleDictation",ft),()=>{document.removeEventListener("toggleDictation",ft),document.removeEventListener("toggleVoiceToVoice",Et)}},[E,j,S,k,J]);const Qe=!r&&!te&&(!ce&&!X||we&&Pe),Ge=n?L_:we||r?ece:cY,ze=h&&he&&Oe,Ze=()=>{if(C)return o.jsx(PN,{className:"ml-2",isDisabled:!0,icon:cY,querySource:a??"home",handleSubmit:Yn});if(h){const an=ze?"common":"inverted";return o.jsx(TNe,{onStopButtonClick:g,variant:an})}const ft=a&&o.jsx(PN,{className:"ml-2",toolTip:i||(n?ie({defaultMessage:"Start your own thread",id:"TAA16rUT4G"}):""),icon:Ge,isDisabled:s||!e,querySource:a,handleSubmit:at,"data-testid":"submit-button"},"submit-button"),Et=[];if(j&&Et.push(o.jsx(ENe,{isTranscribing:E,isInitializing:T,stopTranscription:k,startTranscription:S,variant:E?"primary":"common"},"dictation-button")),Qe){const an=(I?.length||ee)&&a&&!E;an?Et.push(ft):!E&&!an&&Et.push(o.jsx(jNe,{},"voice-to-voice-button"))}else E||Et.push(ft);return j||Qe?Et:ft},St=f.useCallback(()=>ge(null),[ge]),It=f.useCallback(()=>ge(Ns.SOURCES),[ge]),Jt=f.useCallback(()=>ge(Ns.RECENCY),[ge]),dt=f.useCallback(()=>ge(Ns.ATTACHMENTS),[ge]);return o.jsxs(_Ne,{children:[m&&o.jsx(kNe,{}),st&&o.jsx(Yke,{isOpen:pe===Ns.SOURCES,onOpen:It,onClose:St}),et&&o.jsx(DNe,{isOpen:pe===Ns.RECENCY,onOpen:Jt,onClose:St}),u&&o.jsx(INe,{isOpen:pe===Ns.ATTACHMENTS,onOpen:dt,onClose:St,size:"small",forwardedRef:c,fileType:"all",tooltip:d,onFilePickerOpen:v,onFilePickerClose:x,areFileAttachmentsAllowed:de?.settings?.file_attachments_allowed!==!1,fileUploadErrorMessage:N??null,fileUploadWarningMessage:R??null,activeConnector:O,uploadedFiles:I??Fe,handleStartUpload:B,handleFileInput:D,isBoxFilePickerOpen:z,handleCloseBoxFilePicker:V,cleanupBoxFilePicker:U,microsoftFilePickerOptions:H,handleCloseMicrosoftFilePicker:q,handleSelectSharepointSite:$,isMicrosoftFilePickerOpen:G,fileInputRef:K,isAudioVideoFilesEnabled:oe,setAttachmentErrorMessage:ne}),we&&se&&o.jsx(FNe,{handleFileInput:D}),a&&o.jsxs(o.Fragment,{children:[Ze(),ze&&o.jsx("div",{className:s?"pointer-events-none opacity-50":"",children:o.jsx(PN,{className:"ml-3",toolTip:i||ie({defaultMessage:"Anything else to consider?",id:"DDAw7Ictpp"}),icon:Ge,querySource:a,isDisabled:!1,handleSubmit:at})})]})]})},UNe=L.memo(uDt);UNe.displayName="AskInputRightAttribution";const dDt=({fileRepoInfo:e,reason:t})=>{const{$t:n}=ae(),r=Vt(),s=["list_file_directory",e.file_repository_type,e.owner_id],{openToast:a}=Sr(),l=on()?.user?.email??"",c=Kt({mutationFn:async u=>{if(!u.nextURL)throw new Error("File must have a url");const d=await me.POST("/rest/file-repository/move-attachment-to-persistent-file-path",t,{body:{file_repository_info:e,file_url:u.nextURL},timeoutMs:Ur.MEDIUM,retries:2}),h=d.data;if(h&&await pF({request:{file_repository_info:e,file_index_params:[{file_s3_url:h.file_url_params.s3_object_url,file_size:u.file.size,filename:u.file.name,file_uuid:h.file_url_params.file_uuid,replace_existing:!1}]},reason:t}),!d.response.ok||!d.data)throw new Error("Failed to save file persistently");return d.data},onSuccess:(u,d)=>{const h={name:d.file.name,file_s3_url:u.file_url_params.s3_object_url,file_uuid:u.file_url_params.file_uuid,file_title:d.file.name,file_description:null,uploadedBy:l,date:new Date().toLocaleString(),state:"COMPLETE",size:d.file.size,isOptimistic:!0};r.setQueriesData({queryKey:s},g=>{if(!g)return g;const v=g.completedFiles||[];return{...g,completedFiles:[...v,h]}});const m=GD(e.owner_id,d.file.name);r.invalidateQueries({queryKey:m}),a(n({defaultMessage:"Saved file",id:"2HZW5WnkV3"}),"success",3)},onError:(u,d)=>{a(n({defaultMessage:"Failed to upload file",id:"x2gE8tKhMn"}),"error",3),le.error("Error saving file with name",d.file.name,u)},onSettled:async()=>{await r.invalidateQueries({queryKey:s})}});return f.useMemo(()=>({saveFile:c.mutate,isLoading:c.isPending}),[c.isPending,c.mutate])},ez=({fileRepoInfo:e,fileName:t,reason:n})=>{const r=on();return Ft({queryKey:GD(e.owner_id,t),refetchOnMount:!0,queryFn:async()=>((await GA({request:{fileRepositoryInfo:e,limit:Xi,offset:0,searchTerm:t,fileStates:["COMPLETE"],email:r?.user?.email??""},reason:n}))?.files.length??0)>0,enabled:e.file_repository_type==="COLLECTION"&&!!e.owner_id&&t.length>0})},BNe=L.memo(({uploadedFiles:e,onRemoveFile:t,incompleteParsingEnabled:n,forwardRef:r})=>o.jsxs("div",{ref:r,className:"gap-x-sm scrollbar-none flex snap-x snap-mandatory overflow-x-auto",children:[o.jsx("div",{className:"w-xs flex-shrink-0"}),e.map((s,a)=>o.jsx(VNe,{uploadedFile:s,onRemoveFile:t,incompleteParsingEnabled:n},a)),o.jsx("div",{className:"w-xs flex-shrink-0"})]}));BNe.displayName="UploadedFilesList";const VNe=L.memo(({uploadedFile:e,onRemoveFile:t,incompleteParsingEnabled:n})=>{const r="uploaded-files-list",{trackEvent:s}=Ye(),a=n?e.status==="uploading":e.status==="uploading"||e.status==="parsing",{$t:i}=ae(),{fileRepoInfo:l}=df({reason:r}),{saveFile:c,isLoading:u}=dDt({fileRepoInfo:l,reason:r}),{data:d}=ez({fileRepoInfo:l,fileName:e.file.name,reason:r}),h=Object.values(jo),m=RC(e.file.name),v=m&&!Si(e.file.name)&&h.includes(m)&&qdt(e.nextURL),x=l.file_repository_type==="COLLECTION"&&!a&&v,b=f.useMemo(()=>i(d?{defaultMessage:"File exists in Space",id:"pD1m2AH9FU"}:{defaultMessage:"Save attachment to Space",id:"/Pbth8CiTs"}),[d,i]),w=f.useMemo(()=>bpe(e)?mx:jft(e)?OWe:Aft(e)?fce:Rft(e)?fh:nf,[e]),C=f.useCallback(()=>{s("remove attachment clicked"),e.nextURL&&t?.(e.nextURL)},[s,e,t]),S=f.useCallback(()=>c(e),[c,e]);return o.jsxs("div",{className:W("scroll-mx-md px-sm py-xs bg-offset dark:bg-background gap-x-md flex h-[48px] w-fit snap-start items-center justify-between rounded-lg",{"opacity-70":a}),children:[o.jsxs("div",{className:"gap-x-md flex items-center",children:[e.thumbnailSource&&!a?o.jsx(ps,{alt:e.file.name,src:e.thumbnailSource,containerClassName:"size-8 shrink-0",imageClassName:"w-full h-full object-cover object-center",rounded:"md",includeLightBoxModal:!1}):o.jsx("div",{className:"p-sm bg-offsetPlus dark:bg-offsetDark rounded-lg","data-testid":a?"file-loading-icon":"file-type-icon",children:o.jsx(Ne,{icon:a?pce:w,size:"sm",color:"#64645F",className:a?"animate-spin":void 0})}),o.jsxs("div",{className:"flex-col",children:[o.jsx(F,{variant:"tiny",color:"light",className:"text-nowrap",children:Nft(e.file.name,30)}),e.file.size>0&&o.jsx(F,{variant:"tinyRegular",color:"light",className:"text-nowrap",children:Lft(e.file.size)})]})]}),o.jsxs("div",{className:"gap-x-sm flex items-center",children:[x&&o.jsx(it,{icon:qHe,size:"tiny",onClick:S,disabled:d||u,variant:"common",toolTip:b,isLoading:u,pill:!0,noPadding:!0}),e.nextURL&&o.jsx(it,{icon:yn,size:"tiny",testId:"remove-uploaded-file",onClick:C,variant:"common",pill:!0,noPadding:!0})]})]})});VNe.displayName="UploadedFilePreview";var IN={},oae;function fDt(){return oae||(oae=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="clock",r=512,s=512,a=[128339,"clock-four"],i="f017",l="M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faClock=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(IN)),IN}var hDt=fDt();const LO=br({path:"M11.9759 1.99999L11.9879 2.00001C10.5169 2.00565 9.21337 3.04861 8.26794 4.74799C7.90794 5.39599 7.59594 6.13999 7.35594 6.95599C7.15194 7.62799 6.99594 8.35999 6.88794 9.13999C6.79194 9.84799 6.73194 10.604 6.71994 11.372V11.828C7.13994 12.092 7.79994 12.392 8.66394 12.62C8.63994 12.284 8.62794 11.948 8.62794 11.6C8.62794 11.252 8.63994 10.916 8.66394 10.58C8.71194 9.84799 8.79594 9.16399 8.92794 8.53999C9.08394 7.78399 9.28794 7.09999 9.52794 6.49999C9.89994 5.57599 10.3679 4.87999 10.8599 4.43599C11.2319 4.09999 11.6159 3.91999 11.9879 3.91999C12.3599 3.91999 12.7559 4.09999 13.1159 4.43599C14.0279 4.48399 14.8919 4.59199 15.7079 4.74799C14.7625 3.04861 13.459 2.00565 11.9879 2.00001L11.9999 1.99999H11.9759Z M17.268 11.372C16.848 11.108 16.188 10.808 15.324 10.58C15.348 10.916 15.36 11.252 15.36 11.6C15.36 11.948 15.348 12.284 15.324 12.62C15.276 13.352 15.192 14.036 15.06 14.66C14.904 15.416 14.7 16.1 14.46 16.7C14.088 17.624 13.62 18.32 13.128 18.764C12.756 19.1 12.372 19.28 12 19.28C11.628 19.28 11.232 19.1 10.872 18.764C9.96 18.716 9.096 18.608 8.28 18.452C9.228 20.156 10.536 21.2 12.012 21.2C13.488 21.2 14.796 20.156 15.744 18.452C16.104 17.804 16.416 17.06 16.656 16.244C16.86 15.572 17.016 14.84 17.124 14.06C17.22 13.352 17.28 12.596 17.292 11.828V11.372H17.268Z M13.368 10.232H13.344C12.996 9.89601 12.528 9.68001 12 9.68001C11.472 9.68001 11.004 9.89601 10.656 10.232H10.632V10.268C10.296 10.616 10.092 11.084 10.092 11.6C10.092 12.116 10.296 12.596 10.632 12.932V12.968H10.656C11.004 13.304 11.472 13.52 12 13.52C12.528 13.52 12.996 13.304 13.344 12.968H13.368V12.932C13.704 12.584 13.908 12.116 13.908 11.6C13.908 11.084 13.704 10.604 13.368 10.268V10.232Z M10.968 14.924C10.248 14.876 9.56397 14.792 8.92797 14.66C8.17197 14.504 7.48797 14.3 6.88797 14.06C5.96397 13.688 5.26797 13.22 4.82397 12.728C4.48797 12.356 4.30797 11.972 4.30797 11.6C4.30797 11.228 4.48797 10.832 4.82397 10.472C4.87197 9.55999 4.97997 8.69599 5.13597 7.87999C3.43197 8.82799 2.38797 10.136 2.38797 11.612C2.38797 13.088 3.43197 14.396 5.13597 15.344C5.78397 15.704 6.52797 16.016 7.34397 16.256C8.01597 16.46 8.74797 16.616 9.52797 16.724C10.236 16.82 10.992 16.88 11.76 16.892H12.216C12.48 16.472 12.78 15.812 13.008 14.948C12.672 14.972 12.336 14.984 11.976 14.984C11.616 14.984 11.28 14.972 10.944 14.948L10.968 14.924Z M18.852 7.86793C18.204 7.50793 17.46 7.19594 16.644 6.95594C15.972 6.75194 15.24 6.59593 14.46 6.48794C13.752 6.39193 12.996 6.33193 12.228 6.31993H11.772C11.508 6.73993 11.208 7.39993 10.968 8.26393C11.304 8.23993 11.64 8.22793 12 8.22793C12.36 8.22793 12.696 8.23993 13.032 8.26393C13.752 8.31193 14.436 8.39594 15.072 8.52794C15.828 8.68393 16.512 8.88793 17.112 9.12793C18.036 9.49993 18.732 9.96794 19.176 10.4599C19.512 10.8319 19.692 11.2159 19.692 11.5879C19.692 11.9599 19.512 12.3559 19.176 12.7159C19.128 13.6279 19.02 14.4919 18.864 15.3079C20.568 14.3599 21.612 13.0519 21.612 11.5759C21.612 10.0999 20.568 8.79193 18.864 7.84393L18.852 7.86793Z",name:"IconPerplexityCopilot",variant:"filled"}),zNe=f.memo(function(t){const{className:n,children:r,disableAnimation:s=!1,ref:a,...i}=t;return o.jsx(Q,{variant:"background",className:W("p-xs relative rounded border shadow-sm",{"data-closed:animate-out data-closed:ease-out data-closed:fade-out data-closed:zoom-out-95":!s,"data-open:ease-in data-open:animate-in data-open:fade-in data-open:zoom-in-95":!s,"duration-150":!s},n),ref:a,...i,children:r})});zNe.displayName="HoverCardContentContainer";const HNe=f.memo(e=>{const{children:t,content:n,contentProps:r,disableAnimation:s=!1}=e;return o.jsxs(OCe,{openDelay:150,closeDelay:150,children:[o.jsx(PCe,{asChild:!0,children:t}),o.jsx(ICe,{children:o.jsx(DCe,{align:"end",asChild:!0,side:"bottom",sideOffset:5,...r,children:o.jsx(zNe,{disableAnimation:s,children:n})})})]})});HNe.displayName="RadixHoverCard";var tz="Progress",nz=100,[mDt,lZt]=Lue(tz),[pDt,gDt]=mDt(tz),WNe=f.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:a=vDt,...i}=e;(s||s===0)&&!lae(s)&&console.error(yDt(`${s}`,"Progress"));const l=lae(s)?s:nz;r!==null&&!cae(r,l)&&console.error(xDt(`${r}`,"Progress"));const c=cae(r,l)?r:null,u=s_(c)?a(c,l):void 0;return o.jsx(pDt,{scope:n,value:c,max:l,children:o.jsx(Jn.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":s_(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":GNe(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});WNe.displayName=tz;var $Ne="ProgressIndicator",qNe=f.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=gDt($Ne,n);return o.jsx(Jn.div,{"data-state":GNe(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});qNe.displayName=$Ne;function vDt(e,t){return`${Math.round(e/t*100)}%`}function GNe(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function s_(e){return typeof e=="number"}function lae(e){return s_(e)&&!isNaN(e)&&e>0}function cae(e,t){return s_(e)&&!isNaN(e)&&e<=t&&e>=0}function yDt(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${nz}\`.`}function xDt(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${nz} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var bDt=WNe,wDt=qNe;const uae=(...e)=>e.filter(Boolean).join(" "),_Dt={default:"default"},YNe=L.forwardRef((e,t)=>{const{indicatorClassName:n,indeterminate:r,className:s,value:a=0,max:i=100,variant:l=_Dt.default,...c}=e,u=L.useMemo(()=>{const d={default:"bg-textMain",super:"bg-super"};return uae("h-full w-full transition-transform duration-300 ease-in-out",d[l]||d.default,r&&"animate-indeterminate",n)},[l,r,n]);return o.jsx(bDt,{ref:t,className:uae("bg-background-300 relative h-1 w-full overflow-hidden rounded-[1px]",s),...c,children:o.jsx(wDt,{className:u,style:{transform:`translateX(-${100-(a??0)/i*100}%)`}})})});YNe.displayName="Progress";const KNe=L.memo(({reasoningModelPreference:e,onClickReasoningModelPreference:t=Yn,reasoningOptions:n,proRemainingText:r})=>o.jsxs("div",{className:"m-sm flex flex-col",children:[n.map((s,a)=>o.jsxs(L.Fragment,{children:[a===1&&o.jsx("div",{className:"mx-sm my-sm border-offsetPlus border-b"}),o.jsxs("div",{className:W("px-sm py-sm gap-sm gap-sm ease-outExpo flex items-start rounded-md transition-colors duration-300",s.disabled?"opacity-50":"hover:bg-offset cursor-pointer"),onClick:()=>{s.disabled||t(s)},children:[o.jsxs("div",{className:"flex grow flex-col",children:[o.jsxs("div",{className:"flex grow",children:[o.jsx(F,{className:"pr-1.5",variant:"smallBold",children:s.labelPrimary}),(s.value==="r1"||s.value==="o3mini")&&a>0&&o.jsx(Q,{variant:"super",className:"dark:text-backgroundDark mt-px h-[1rem] rounded-[0.3125rem] px-[0.3rem] py-0 text-center align-middle font-mono text-[0.65rem] tabular-nums leading-[1rem] text-white",children:"New"})]}),o.jsx(F,{color:"light",className:"mt-1 whitespace-pre text-xs",children:s.description})]}),o.jsx(F,{className:"flex w-6 justify-end",color:"super",children:s.value===e&&o.jsx(Ne,{icon:Pa,size:"sm",stroke:3})})]})]},s.value??"default")),r&&o.jsx(F,{color:"light",variant:"tinyRegular",className:"m-sm text-sm italic",children:r})]}));KNe.displayName="CopilotReasoningSelector";const OO="copilot-toggle",CDt=e=>!!(e.relatedTarget&&"id"in e.relatedTarget&&e.relatedTarget?.id===OO),SDt=L.memo(({isLoading:e=!1,hideSwitch:t,isSignedIn:n,isPlus:r,gpt4Limit:s,gpt4Total:a,isCopilot:i,onChange:l,isMacOS:c,modalDescription:u,searchesLeftText:d,getMoreText:h="Get more Pro Searches",enableProSearchText:m="Enable Pro Search",disableProSearchText:g="Disable Pro Search",tryOutText:v="Try Pro Search with Deepseek R1",showTryOutTooltip:x,onClickGetMore:b,boxProps:w,useNewModal:C=!1,proRemainingText:S,reasoningOptions:k=Fe,reasoningModeEnabled:E,reasoningModelPreference:T,onClickReasoningModelPreference:j,setReasoningModelPreference:N,isPreferenceSelectorOpen:R,onPreferenceSelectorChange:O,avoidPopoverCollisions:I,onClickOutsideTooltip:B})=>{const D=!r&&!i,[z,V]=f.useState(!!i),U=k.length>0;f.useEffect(()=>{V(!!i)},[i]);const H=f.useCallback(()=>{l?.(!0),U&&O?.(!0)},[l,U,O]),q=f.useCallback(X=>{l?.(X),X&&U?O?.(!0):X||N?.(null)},[l,O,U,N]),$=f.useMemo(()=>I?{strategy:"absolute",middleware:[JA.offsetMiddleware,JA.shiftMiddleware]}:{},[I]),G=f.useMemo(()=>o.jsxs("div",{className:"flex flex-row items-center overflow-hidden",children:[o.jsx(F,{className:"transition-all duration-150",color:i?"super":"light",variant:"smallBold",children:"Pro"}),o.jsx(kt,{mode:"wait",initial:!1,children:T?o.jsxs(je.div,{initial:{width:0,opacity:0},animate:{width:"auto",opacity:1},exit:{width:0,opacity:0},transition:{duration:.3,ease:[.25,.1,.25,1],opacity:{duration:.2}},className:"flex flex-row items-center",children:[o.jsx(F,{className:"pl-xs",color:i?"super":"light",variant:"small",children:"· "}),k.map(X=>o.jsx(je.div,{initial:{width:0,opacity:0},animate:{width:X.value===T?"auto":0,opacity:X.value===T?1:0},transition:{duration:.3,ease:[.25,.1,.25,1],opacity:{duration:.2}},children:o.jsx(F,{color:i?"super":"light",variant:"small",children:X.modelDisplayName})},X.value))]},E?"true":"false"):null})]}),[i,E,T,k]),K=f.useMemo(()=>({"aria-label":z?g:m}),[z,g,m]),ee=f.useMemo(()=>o.jsx(KNe,{proRemainingText:S,reasoningModeEnabled:E??!1,reasoningModelPreference:T??null,onClickReasoningModelPreference:j,reasoningOptions:k}),[j,S,E,T,k]),oe=f.useCallback(()=>O?.(!1),[O]),ne=o.jsxs("div",{className:"gap-sm mr-xs flex flex-row",children:[o.jsx(cf,{active:z,disabled:t||e,testId:OO,onChange:q,id:OO,switchProps:K}),o.jsx(lo,{content:ee,hasInteractiveContent:!0,isOpen:R,onClose:oe,customFloatingUIOptions:$,children:o.jsx(it,{disabled:t||e,size:"small",onClick:H,noXPadding:!0,variant:i?"super":"common",leadingComponent:G,trailingComponent:U?o.jsx(Ne,{icon:Ia,size:"xs",className:"mr-xs mb-[1px] opacity-50"}):void 0})})]}),te=t&&!e?o.jsx("div",{onClick:H,children:o.jsxs(F,{className:"mr-sm gap-sm hover:text-textMain hover:dark:text-textMainDark flex cursor-pointer items-center whitespace-nowrap duration-150",variant:"smallBold",as:"label",color:"light",children:[o.jsx(jt,{icon:hDt.faClock}),"Pro"]})}):!D||x?o.jsx(Mn,{asChild:!0,tooltipText:x?v:typeof s=="number"&&s<100&&d?`${d?.(s)??""}`:"",keyboardShortcut:!D&&!x?c?["⌘","."]:["Ctrl","."]:void 0,showTooltip:!R,open:x===!0?!0:void 0,arrowClassName:x?"translate-x-[4px]":void 0,onClickOutsideTooltip:B,offset:x?2:void 0,children:ne}):ne,re=o.jsxs(Q,{className:"p-md -m-[4px] max-w-[270px]",...w,children:[o.jsxs("div",{className:"mb-xs gap-x-xs flex items-center",children:[o.jsx(Ne,{icon:LO}),o.jsx(F,{variant:"baseSemi",className:"mb-0leading-none",children:"Pro Search"})]}),o.jsx(F,{variant:"small",color:"light",className:"mb-md font-normal leading-[1.3]",children:u}),n&&o.jsxs(o.Fragment,{children:[o.jsx(YNe,{value:s,max:a,className:"mb-sm h-1"}),typeof s=="number"&&o.jsx(F,{variant:"small",color:"light",className:"mb-0 font-normal leading-none",children:d?.(s)})]}),o.jsx(Le,{size:"tiny",variant:s??!0?"primary":"common",extraCSS:"mt-md py-md",text:h,fullWidth:!0,onClick:b})]});return D?C?o.jsx(HNe,{content:re,children:te}):o.jsx(lo,{hoverOpen:!0,childrenClassName:"inline-flex",content:re,children:te}):te});SDt.displayName="CopilotToggle";function MDt({handleSubmit:e,inputQuery:t}){const{trackEvent:n}=Ye(),r=f.useRef(t);r.current=t;const s=Ai();return f.useCallback((i,l)=>{const c=ri();if(n("auto suggestion accepted",{mode:"dropdown-complete",query:r.current,completion:i.query,completion_uuid:i.query_uuid,completion_position:l,url:i.url,isNavigational:!!i.url,frontendContextUUID:c,searchMode:s}),i.url){window.open(i.url,"_self");return}e({query:i.submission_query??i.query,promptSource:"autosuggest",querySource:"autosuggest",newFrontendContextUUID:c})},[e,s,n])}function kDt({inputQuery:e}){const{trackEventBatch:t}=Ye(),n=f.useRef(e);n.current=e;const r=Ai();return f.useCallback(a=>{if(n.current.length!==0)return;const i=a.map((l,c)=>({name:"auto suggestion blank state viewed",data:{mode:"dropdown-complete",query:n.current,completion:l.query,completion_uuid:l.query_uuid,completion_position:c,url:l.url,isNavigational:!!l.url,searchMode:r}}));t(i)},[r,t])}const EDt=async({query:e,reason:t})=>{try{const{data:n,error:r}=await me.GET("/rest/autosuggest/finance/list-autosuggest",t,{params:{query:{query:e}}});if(r)throw new pt("API_CLIENTS_ERROR",{message:"Failed to get finance suggestions",cause:r});return n.results??Fe}catch(n){return le.error(n),[]}};async function cZt(e){const{error:t,data:n}=await me.GET("/rest/finance/all-tickers","finance-all-tickers-client-page",{params:{query:{page:e,page_size:500}},timeoutMs:15e3});if(t)throw new pt("API_CLIENTS_ERROR",{cause:t,details:{page:e}});return n??null}const uZt=async({query:e,locale:t,reason:n})=>{try{const{data:r,error:s}=await me.GET("/rest/autosuggest/finance/tasks-autosuggest",n,{params:{query:{query:e}},headers:{"accept-language":t}});if(s)throw new pt("API_CLIENTS_ERROR",{message:"Failed to get finance tasks suggestions",cause:s});return"results"in r?r.results:[]}catch(r){return le.error(r),[]}},TDt=async({sources:e,attachments:t,searchMode:n,sourceTabUrl:r,entropyRenderingPlace:s,reason:a})=>{try{const{error:i,data:l}=await me.POST("/rest/autosuggest/list-autosuggest",a,{body:{query:"",sources:e,attachments:t,search_mode:n,source_tab_url:r,entropy_rendering_place:s}});if(i)throw new pt("API_CLIENTS_ERROR",{cause:i});return l.results??Fe}catch(i){return le.error(i),Fe}},NDt=async({reason:e,onCreateShortcut:t})=>{try{const i=[...[...(await Hke({reason:e}))?.tasks??[]].sort(()=>Math.random()-.5).slice(0,2).map(l=>({query:l.prompt,title:l.task_name,shouldShowTitle:!0,category:"shortcuts"}))];return t&&i.push({query:"",query_uuid:"create-shortcut-button",title:"Create a shortcut",description:"",category:"shortcuts",icon:"plus",shouldShowTitle:!0,actionHandler:t}),i}catch(n){return le.error("Failed to fetch shortcuts suggestions",n),Fe}},DN=({sources:e,attachments:t,searchMode:n,focus:r,isCometHome:s,reason:a,enabled:i})=>{const{sourceTabUrl:l}=sc(),u=ga().erp,{isMobileUserAgent:d}=qe(),h=Bs(),m=sV(),{openModal:g}=Gt(),v=f.useCallback(()=>{g("taskShortcutModal",{source:"suggestions_dropdown"})},[g]),x=f.useMemo(()=>s&&n===_e.SEARCH?["comet-blank-state-suggest",n,m]:r==="finance"?["finance-blank-state-suggest"]:["blank-state-suggest",e,t,n,u==="sidecar"?l:""],[e,t,n,r,s,l,u,m]);return Ft({queryKey:x,enabled:i,queryFn:async()=>{if(s&&n===_e.SEARCH){const[C,S]=await Promise.all([gLt({cometBrowser:h,type:"input-blank-state"},e1(d,m)),m?NDt({reason:a,onCreateShortcut:v}):Promise.resolve([])]);return[...(C??Fe).map(k=>({...k,is_comet_assistant:!0})),...S]}if(r==="finance")return(await EDt({query:"",reason:a})).map((k,E)=>({query:k.query||`suggestion-${E}`,title:k.title??void 0,image:k.image??void 0,description:k.description??void 0,category:k.category??void 0,query_uuid:k.query_uuid??void 0,url:k.url??void 0,metadata:k.metadata??void 0}));const[b,w]=await Promise.all([TDt({sources:e,attachments:t,searchMode:n,sourceTabUrl:u==="sidecar"?l:"",entropyRenderingPlace:u,reason:a}),u==="sidecar"?EJe({entropyBrowser:h,url:l}):Promise.resolve([])]);return[...w,...b].slice(0,e1(d))}})},jDt=e=>{const{setSuggestions:t,setBlankStateSuggestions:n}=Ho(),{sourceTabUrl:r}=sc(),a=ga().erp,i=f.useRef(void 0),l=f.useRef(e.selectedSearchMode),{blankStateSuggestions:c}=La(),u=c[e.selectedSearchMode],d=r?no(r):void 0,h=e.suggestionsDisabled||a==="sidecar"&&d&&d===i.current;!h&&i.current!==d&&(i.current=d);const{data:m}=DN({...e,searchMode:_e.SEARCH,enabled:!h}),{data:g}=DN({...e,searchMode:_e.RESEARCH,enabled:!h}),{data:v}=DN({...e,searchMode:_e.STUDIO,enabled:!h});return f.useEffect(()=>{m&&n(m,_e.SEARCH),g&&n(g,_e.RESEARCH),v&&n(v,_e.STUDIO)},[m,g,v,n]),f.useEffect(()=>{(e.query?.length??0)>0||u&&((a==="sidecar"||l.current!==e.selectedSearchMode)&&t(u),l.current=e.selectedSearchMode)},[e.query,e.selectedSearchMode,u,t,a]),null},ADt=()=>{const{base:e}=Qt(),t=ln();return t===(e||"/")||t?.startsWith("/welcome")||t?.startsWith("/finance")};function RDt({userInputQuery:e,userInputJson:t,suggestionsDisabled:n,suggestions:r,focusedIndex:s,setFocusedIndex:a,onChange:i,handleSuggestionSubmission:l}){const c=f.useRef(e),u=f.useRef(t),d=f.useRef(r),h=f.useRef(s);c.current=e,u.current=t,d.current=r,h.current=s;const m=f.useCallback((x,b)=>{if(b>0){const w=(h.current+1)%b,C=d.current[w];if(C?.query){const S=C.query;i(S)}return x.preventDefault(),w}return null},[i]),g=f.useCallback(x=>{let b=h.current-1;if(b<0)b=-1,h.current===0&&(x.preventDefault(),i(c.current,u.current));else{x.preventDefault();const w=d.current[b];if(w?.query){const C=w.query;i(C)}}return b},[i]);return f.useCallback(x=>{if(n)return!1;if(yi.isArrowDown(x)){const b=m(x,d.current.length);if(b!==null)return a(b),!0}else if(yi.isArrowUp(x)){const b=g(x);if(b!==null)return a(b),!0}else if(yi.isEnterKeyWithoutShift(x)&&h.current>=0&&h.current<d.current.length)return l(d.current[h.current],h.current),!0;return!1},[l,n,m,g,a])}const LDt=e=>e==="travel"||e==="shopping"||e==="academic",ODt=({autosuggestionsEnabled:e=!0,inputQuery:t,inputJson:n,isInputActive:r,onChange:s,handleSuggestionSubmission:a,handleSuggestionView:i,querySource:l,hasThreadContent:c,isMentionMenuOpened:u})=>{const{isWindowsAppPanelView:d}=Bg(),[h,m]=f.useState(-1),[g,v]=f.useState(t),[x,b]=f.useState(),w=ln(),{isSuggestionsDisabled:C}=On(),S=ADt(),k=jfe(w),E=Qnt(w),{activeMenu:T,suggestions:j}=La(),{currentOpenedModal:N}=Gt(),R=pr(),{setSuggestions:O,setShowSuggestDropdown:I}=Ho(),B=f.useMemo(()=>C||!e||!S&&!k&&!d&&!E&&!LDt(l)&&!R||l!=="finance"&&t.length>cmt&&!j.some(({query:z})=>z===t)||R&&c,[C,e,S,k,E,d,l,t,R,c,j]),D=RDt({userInputQuery:g,userInputJson:x,suggestionsDisabled:B,suggestions:j,focusedIndex:h,setFocusedIndex:m,onChange:s,handleSuggestionSubmission:a});return f.useEffect(()=>{h===-1&&(v(t),b(n))},[t,h,v,b,n]),f.useEffect(()=>{B&&(O(Fe),m(-1))},[B,O,m]),f.useEffect(()=>{const z=!B&&r&&!T&&!N&&j.length>0&&!u;I(z),z&&i(j)},[B,r,T,N,j,u,I,i]),f.useMemo(()=>({focusedIndex:h,setFocusedIndex:m,suggestionsDisabled:B,userInputQuery:g,handleSuggestDropdownNavigation:D}),[h,D,B,g])};class PDt{static isAnyInputElementFocused(){const t=document.activeElement;return!!(t&&(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.getAttribute("contenteditable")==="true"||t.getAttribute("role")==="textbox"))}}function IDt({value:e,json:t,isDisabled:n,handleSubmit:r,handleSuggestDropdownNavigation:s,querySource:a,focusInput:i,isInputActive:l}){const{isMobileUserAgent:c}=qe(),u=f.useRef(e),d=f.useRef(t);u.current=e,d.current=t;const h=f.useCallback(b=>n&&yi.isEnterKeyWithoutShift(b)?(b.preventDefault(),!0):!1,[n]),m=f.useCallback(b=>b.isComposing?(b.preventDefault(),!0):!1,[]),g=f.useCallback(b=>{yi.isEnterKeyWithoutShift(b)&&!c&&(b.preventDefault(),r({query:u.current,json:d.current,querySource:a}))},[r,a,c]),v=f.useCallback(b=>{const w=yi.isCtrlOrCmdJ(b),C=yi.isOnlySlashKey(b);if(w||C){if(l||PDt.isAnyInputElementFocused())return;b.preventDefault(),i()}},[i,l]);return f.useEffect(()=>(document.addEventListener("keydown",v),()=>{document.removeEventListener("keydown",v)}),[v]),f.useCallback(b=>{h(b)||m(b)||s(b)||g(b)},[h,m,s,g])}const QNe=(e,t)=>{const n=[];if(!t)return{displayQuery:e,dslQuery:void 0,mentions:n};let r=0;const s=l=>{const c={displayQuery:"",dslQuery:""};if(l.type==="text"&&"text"in l)c.displayQuery=l.text,c.dslQuery=l.text;else if(l.type==="linebreak")c.displayQuery=`
`,c.dslQuery=`
`;else if(l.type==="link"&&"url"in l){const u="children"in l&&Array.isArray(l.children)&&l.children.map(s).reduce((d,{displayQuery:h,dslQuery:m})=>(d.displayQuery+=h,d.dslQuery+=m,d),{displayQuery:"",dslQuery:""})||{displayQuery:l.url,dslQuery:l.url};return c.displayQuery=`[${u.displayQuery}](${l.url})`,c.dslQuery=`[${u.dslQuery}](${l.url})`,c}else if(l.type==="mention"){const d=l.props;if(d.variant==="tab"){n.push({id:d.uuid,url:d.url??"",type:d.variant}),r++;const h=d.text||"";return c.displayQuery=`"${h}"`,c.dslQuery=`<attachment citation_id="${r}" />`,c}else{if(d.variant==="space")return n.push({id:d.uuid,url:"",type:d.variant}),c.displayQuery="",c.dslQuery="",c;if(d.variant==="shortcut")return n.push({id:d.uuid,url:"",type:d.variant}),c.displayQuery=d.queryText??"",c.dslQuery=d.queryText??"",c}}return"children"in l&&Array.isArray(l.children)?l.children.map(s).reduce((u,{displayQuery:d,dslQuery:h})=>(u.displayQuery+=d,u.dslQuery+=h,u),c):c},{displayQuery:a,dslQuery:i}=s(t);return{displayQuery:a||e,dslQuery:i||void 0,mentions:n}};function DDt({value:e,json:t,querySource:n,disabled:r=!1,autofocus:s=!0,isUploadingFile:a=!1,onChange:i,onFocus:l,handleSubmit:c,handleUpdateAutosuggestions:u,autosuggestionsEnabled:d=!0,errorMessage:h,sources:m,attachments:g,selectedSearchMode:v,isInputActive:x,setIsInputActive:b,updateOnFocus:w=!1,inFlight:C=!1,resultsLength:S=0,quote:k,isMentionMenuOpened:E,isCometHome:T=!1,reason:j}){const{activeMenu:N,inputRef:R}=La(),O=Njt(),{setShouldTriggerFocus:I}=pb(),{blankStateSuggestions:B}=La(),{setSuggestions:D}=Ho(),{onActiveMenuChange:z}=Ho(),{isAndroid:V}=sn(),U=f.useMemo(()=>!!k||e.trim().length>0||!!g&&g.length>0,[k,e,g]),H=r||!!h||a||!U,q=f.useCallback(de=>{const{mentions:ie}=QNe(e,t?.root);c({...de,mentions:ie.length>0?ie:void 0})},[e,t,c]),$=MDt({handleSubmit:q,inputQuery:e}),G=kDt({inputQuery:e}),{focusedIndex:K,setFocusedIndex:ee,suggestionsDisabled:oe,userInputQuery:ne,handleSuggestDropdownNavigation:te}=ODt({autosuggestionsEnabled:d,inputQuery:e,inputJson:t,isInputActive:x&&d,onChange:i,handleSuggestionView:G,handleSuggestionSubmission:$,querySource:n,hasThreadContent:C||S>0,isMentionMenuOpened:E});jDt({sources:m,attachments:g,selectedSearchMode:v,suggestionsDisabled:oe,focus:n==="finance"?"finance":void 0,query:e,isCometHome:T,reason:j});const re=f.useCallback(()=>{R.current?.focus(),b(!0)},[R,b]),X=f.useCallback(de=>{l?.(de),b(!0),z(null),w&&u(R.current?.value??""),V&&setTimeout(()=>{R.current?.scrollIntoView({behavior:"smooth",block:"center"})},300)},[l,z,u,b,w,R,V]);f.useEffect(()=>{O&&s&&(re(),I(!1))},[O,re,I,s]);const ce=f.useCallback(de=>CDt(de)?!1:(b(!1),ee(-1),!0),[ee,b]),se=f.useCallback((de,ie)=>{i(de,ie),!oe&&(de.trim().length===0&&B[v]?(D(B[v]),u(de)):mmt(de)&&u(de))},[i,oe,u,B,D,v]),J=IDt({value:e,json:t,isDisabled:H,handleSubmit:q,handleSuggestDropdownNavigation:te,querySource:n,focusInput:re,isInputActive:x});return f.useEffect(()=>{N!==null?R.current?.blur():s&&re()},[N,R,re,s]),f.useMemo(()=>({isDisabled:H,focusedIndex:K,setFocusedIndex:ee,userInputQuery:ne,handleSuggestionSubmission:$,handleFocus:X,handleBlur:ce,handleChange:se,handleKeyDown:J,focusInput:re,hasQuery:U}),[re,K,ce,se,X,J,$,U,H,ee,ne])}const FDt=({value:e,json:t,querySource:n,placeholder:r,disabled:s=!1,disabledInput:a=!1,initialLayout:i="expanded",minRows:l=1,isFollowUp:c=!1,submitWillFork:u=!1,showSources:d=!1,showRecency:h=!1,showModelSelector:m=!0,showSearchModeSelector:g=!0,showFileUpload:v=!1,disableActionButtons:x=!1,showIncognitoHint:b,hasShadow:w=!1,autofocus:C=!0,disablePrivacyWarning:S=!1,fileUploadTooltip:k,className:E,headerComponent:T,initializeAttachmentsFromLastResult:j=!1,showStopButton:N=!1,forceHideSuggestions:R=!1,shouldAcceptClarification:O=!1,headerColorVariant:I,onChange:B,onFocus:D,onClick:z,onSubmit:V,onStopButtonClick:U=Yn,onFilePickerOpen:H,onFilePickerClose:q,autoSuggestPortalTarget:$,autosuggestionsEnabled:G=!0,dropdownPlacement:K="bottom",dropdownClassName:ee,disableModeSelector:oe=!1,useLexical:ne=!1,mentionTypeaheadOptions:te,isCometHome:re=!1,onTriggerTypeahead:X,layoutKey:ce})=>{const se=`ask-input-inner-${n}`,[J,de]=f.useState(!1),[ie,he]=f.useState(!1),[pe,ge]=f.useState(C),{suggestions:Ce,blankStateSuggestions:we,showSuggestDropdown:Pe}=La(),{setSuggestions:ot}=Ho(),{isMobileStyle:Be,isMobileUserAgent:Ee}=qe(),{promptSkipped:st}=aOt(),{inputRef:et}=La(),[$e,tt]=f.useState(!0),at=f.useRef(null),{currentOpenedModal:xe}=Gt(),Oe=!!xe,Qe=Ct(),{quote:Ge,setQuote:ze}=go(),Ze=iOt(),St=Ai(),{sources:It}=Mr(),{lastResult:Jt,inFlight:dt,resultsLength:ft}=un(),Et=pr(),an=Bs(),zn=ae(),er=f.useRef(null),[Rt,Xt]=f.useState(!1),Se=f.useCallback(()=>Xt(!0),[]),ht=f.useCallback(()=>Xt(!1),[]),{cacheImageDownloadUrl:ct}=KC({reason:se}),mt=j?Jt?.attachments:void 0,[vt,Bt]=f.useState(void 0),Lt=f.useMemo(()=>vt?.map(Er=>Er.url),[vt]),{value:kn,loading:hn}=oC({flag:"windows-app-dictation-config",defaultValue:iY}),_r=f.useMemo(()=>hn?iY:{eppoTranscriptionConfig:kn,runImmediately:!0},[kn,hn]),Gr=f.useMemo(()=>{if(e.length>dh)return zn.formatMessage({defaultMessage:"Query is { numCharacters } characters too long",id:"yw04s2k4La"},{numCharacters:e.length-dh})},[e,zn]),os=f.useCallback(Er=>{J||!$e||(de(!0),!Er.query&&Lt&&Lt.length>0&&(Er.query=Lt[0].match(/[^/]+$/)?.[0]??"File Attached"),Gr?de(!1):(V?.({query:Er.query,json:Er.json,attachments:Lt,promptSource:Er.promptSource,querySource:Er.querySource,mentions:Er.mentions}),vt?.forEach(ta=>{ta.file&&ta.file.size>0&&Si(ta.url)&&ct(ta.url,ta.resizedFile??ta.file)}),Ze&&er.current?.clearFiles(),setTimeout(()=>de(!1),1e3)))},[J,Gr,Lt,V,Ze,ct,vt,$e]);f.useEffect(()=>an.subscribeForceSubmitQuery(Er=>{os(Er)}),[an,os]);const{handleUpdateAutosuggestions:wa}=ELt(),{isDisabled:Yr,focusedIndex:tr,setFocusedIndex:Kr,userInputQuery:li,handleSuggestionSubmission:wf,handleFocus:_f,handleBlur:Au,handleChange:za,handleKeyDown:sl,focusInput:Qr,hasQuery:Ha}=DDt({value:e,json:t,querySource:n,disabled:s,autofocus:C,isUploadingFile:ie,onChange:B,onFocus:D,handleSubmit:os,handleUpdateAutosuggestions:wa,autosuggestionsEnabled:G,errorMessage:Gr,sources:It,attachments:Lt,selectedSearchMode:St,setIsInputActive:ge,isInputActive:pe,inFlight:dt,resultsLength:ft,quote:Ge,isMentionMenuOpened:Rt,isCometHome:re,reason:se});ZLt({setInput:za,isSidecar:Et}),yLt({entropyBrowser:an,isSidecar:Et,focusInput:Qr}),f.useEffect(()=>{st&&et.current?.focus()},[et,st]),f.useEffect(()=>{Ge&&Qr()},[Ge,Qr]);const{openToast:_a}=Sr(),oc=f.useMemo(()=>({onStart:()=>{Qr()},onStop:()=>{Qr()},onSilence:()=>{_a("No audio detected. Make sure your microphone is connected and unmuted","error",4)}}),[Qr,_a]),{startTranscription:_o,stopTranscription:kr,error:lc,isTranscribing:al,isInitializing:Co,transcription:bs}=nOt({callbacks:oc,config:_r,reason:se});f.useEffect(()=>{lc&&_a(`Audio Error: ${lc}`,"error",4)},[lc,_a]),f.useEffect(()=>{if(bs&&al&&bs!==e){const Er=(()=>{const ta=Math.min(e.length,bs.length);for(let fc=ta;fc>0;fc--)if(e.slice(-fc)===bs.slice(0,fc))return bs.slice(fc);return e?` ${bs}`:bs})();et.current?.trim(),et.current?.append(Er),za(et.current?.value??"",et.current?.json)}},[bs,za,al,e,et]);const{isAudioVideoFilesEnabled:ws}=CLt(),Cf=SLt(),{organization:bm}=Bn({reason:se}),Ru=f.useCallback(()=>he(!0),[]),{handlePaste:wm,handlePasteQuery:cc,handleCompleteFileUpload:Lu,handleFileSelect:Qn,autoCreatedTextFile:Xr,dismissNotification:c0,setAutoCreatedTextFile:Rb}=TLt({fileUploadRef:er,showFileUpload:v,attachments:Lt,setAttachments:Bt,handleChange:za,setIsUploadingFile:he,focusInput:Qr}),{fileInputRef:Sf,errorMessage:u0,warningMessage:Mf,uploadSource:Lb,uploadedFiles:Zr,handleRemoveFile:Ou,handleStartUpload:d0,handleFileInput:_m,isBoxOpen:uc,onCloseBox:f0,cleanupBoxPicker:h0,microsoftFilePickerOptions:dc,isMicrosoftFilePickerOpen:Ob,handleSelectSharepointSite:m0,onCloseMicrosoft:p0,setErrorMessage:Cm}=XLt({fileUploadRef:er,disablePrivacyWarning:S,isAudioVideoFilesEnabled:ws,isClearAttachmentsEnabled:Ze,isFollowUp:c,existingAttachments:mt,organization:bm,lastResult:Jt,onStartFileUpload:Ru,onCompleteFileUpload:Lu,setUploadsReady:tt,reason:se,incompleteParsingEnabled:Cf}),Pb=f.useCallback(()=>{if(Xr){if(et.current?.append(Xr.content),za(et.current?.value??"",et.current?.json),Lt){const Er=Lt.find(ta=>ta.includes(Xr.fileName));Er&&Ou(Er)}Rb(null)}},[Xr,et,za,Lt,Ou,Rb]),Ib=f.useRef(e);Ib.current=e;const kf=f.useCallback(Er=>{ge(!0),Ib.current.length===0&&we[St]&&ot(we[St]),z?.(Er)},[ge,ot,we,St,z]),Sm=f.useCallback(Er=>{et.current=Er},[et]),g0=f.useMemo(()=>({isOpen:(Pe&&!R)??!1,suggestedQueries:Ce,focusedIndex:tr,setFocusedIndex:Kr,handlePasteQuery:cc,handleSubmit:wf,userInputQuery:li,portalTarget:$??void 0,placement:K,dropdownClassName:ee,allowNonSequentialMatch:Ce!==we[St],isCometHome:re,scrollableShards:Zr.length>0?[at]:[]}),[$,we,ee,K,tr,R,cc,wf,re,St,Kr,Pe,Ce,Zr,at,li]),Pu=f.useMemo(()=>({initialLayout:i,wrapperClass:W({"transition-none p-lg":Pe,"border-b-none rounded-b-none":Pe&&!R&&K==="bottom","border-t-none rounded-t-none rounded-b-[20px]":Pe&&!R&&K==="top","bg-background-100":Ge}),size:"large",hasShadow:w,showStopButton:N,shouldAcceptClarification:O,quote:Ge??void 0,inputWarnings:Xr&&o.jsxs(Q,{variant:"offset",className:"mx-sm mb-xs px-sm py-xs dark:bg-background flex items-center justify-between rounded-lg",children:[o.jsx("div",{className:"gap-x-sm flex items-center",children:o.jsxs(F,{variant:"tiny",color:"light",children:["Text is"," ",Math.max(1,Math.round((Xr.content.length-dh)/dh*100)),"% over the limit and is attached as a file."," ",o.jsx(it,{variant:"super",size:"tiny",onClick:Pb,text:"Paste as text"})]})}),o.jsx(it,{icon:yn,size:"tiny",onClick:c0,variant:"common",pill:!0,noPadding:!0})]}),attachmentsList:Zr.length>0&&o.jsx(BNe,{uploadedFiles:Zr,onRemoveFile:Ou,incompleteParsingEnabled:Cf,forwardRef:at}),setQuote:ze,inputRef:et}),[Xr,c0,K,R,Ou,w,i,et,Cf,Pb,Ge,ze,O,N,Pe,Zr]),Iu=f.useMemo(()=>({ref:Sm,id:"ask-input",value:e,json:t,initialLayout:i,minRows:l,placeholder:r,disabled:s,disabledInput:a,autoFocus:C,onClick:kf,onChange:za,onKeyDown:sl,onBlur:Au,onFocus:_f,onPaste:wm,onMentionMenuOpen:Se,onMentionMenuClose:ht,isMobileStyle:Be,isMobileUserAgent:Ee,useLexical:ne,mentionTypeaheadOptions:ne?te:void 0,onTriggerTypeahead:ne?X:void 0}),[C,s,a,Au,za,kf,_f,sl,wm,i,Be,Ee,t,te,l,ht,Se,X,r,Sm,ne,e]),Db=f.useMemo(()=>o.jsx(UNe,{value:e,json:t,showSources:d,showRecency:h,submitWillFork:u,isFollowUp:c,isDisabled:Yr||!$e,querySource:n,errorMessage:Gr,handleSubmit:os,fileUploadRef:er,showFileUpload:v&&!Et,showModelSelector:m,disableActionButtons:x,fileUploadTooltip:k,disablePrivacyWarning:S,showStopButton:N,onStopButtonClick:U,onFilePickerOpen:H,onFilePickerClose:q,startTranscription:_o,stopTranscription:kr,isTranscribing:al,isTranscriptionInitializing:Co,isTranscriptionAvailable:!N,fileUploadErrorMessage:u0,fileUploadWarningMessage:Mf,activeConnector:Lb,uploadedFiles:Zr,handleStartUpload:d0,handleFileInput:_m,isBoxFilePickerOpen:uc,handleCloseBoxFilePicker:f0,cleanupBoxFilePicker:h0,microsoftFilePickerOptions:dc,handleCloseMicrosoftFilePicker:p0,handleSelectSharepointSite:m0,isMicrosoftFilePickerOpen:Ob,fileInputRef:Sf,hasQuery:Ha,isAudioVideoFilesEnabled:ws,setAttachmentErrorMessage:Cm,isCometHome:re}),[Lb,h0,x,S,Gr,Sf,u0,k,Mf,f0,_m,m0,d0,os,Ha,ws,uc,Yr,c,Co,Ob,Et,al,t,dc,p0,q,H,U,n,Cm,v,m,h,d,N,_o,kr,u,Zr,$e,e,re]),{isMax:v0}=cn();return o.jsx($Ee,{condition:Qe&&v&&!Et,Wrapper:_Lt,onDrop:Qn,disabled:Oe,allowDropAnywhere:!0,children:o.jsxs(Q,{variant:I??(O?"super":"offset"),className:W(E,"rounded-2xl",{"bg-super/95 dark:bg-super/85 backdrop-blur-sm":O,"max-super-override":v0}),children:[T,o.jsx(CNe,{value:e,suggestDropdownProps:g0,ResizeableInputWrapperProps:Pu,ResizeableInputProps:Iu,leftAttributionComponents:oe?null:o.jsx(AD,{inRenderingPlace:"sidecar",children:o.jsx(SNe,{showIncognitoHint:b,showSearchModeSelector:g,isFollowUp:c,layoutKey:ce})}),rightAttributionComponents:Db})]})})},v8=L.memo(FDt);v8.displayName="AskInput";const UDt=()=>{const{value:e}=Fs({flag:"comet-invite-system",defaultValue:!0});return e},BDt=()=>{const{trackEvent:e}=Ye(),t=Qt(),n="clicked spaces ad",r=f.useCallback(async a=>{a.preventDefault(),e(n,{source:"createSpaceSidebar"}),t.push("/spaces/templates")},[e,t]),s=f.useCallback(async()=>{e("space mentioned in query"),Fet()},[e]);return f.useMemo(()=>({handleCreateSpaceSidebarAdClick:r,handleSubmitQueryWithMention:s}),[r,s])};function XNe({onSubmit:e,immediate:t=!0}){const n=qB(),r=Ejt(),s=GB(),a=Tjt(),{setUserInput:i,setHasStartedTyping:l,setStartTypingTime:c,markInputAsSubmitted:u}=pb(),d=f.useRef(!1);f.useEffect(()=>()=>{d.current&&(u(),d.current=!1)},[u,t]);const h=f.useCallback(g=>{le.info("ask input submitted");const v=a?performance.now()-a:void 0,{displayQuery:x,dslQuery:b,mentions:w}=QNe(g.query,g.json?.root);e?.({timeFromFirstType:v,...g,dslQuery:b,query:x||g.query,mentions:g.mentions??w}),t?u():d.current=!0},[t,u,e,a]),m=f.useCallback((g,v)=>{!s&&g&&l(!0),a||c(performance.now()),i(g,v)},[s,i,l,a,c]);return[n,r,f.useMemo(()=>({onChange:m,onSubmit:h,setUserInput:i}),[m,h,i])]}const VDt="side-by-side-experiments";function zDt(e,t={}){const{value:n,loading:r,error:s}=Btt({flag:VDt,defaultValue:{side_by_side_config:{}},subjectType:"context_uuid",extraAttributes:t},e);return f.useMemo(()=>({sideBySideOverrides:n,loading:r,error:s}),[n,r,s])}const a_=-1,HDt="sbs_analytics_",WDt=e=>{const t=e?.experiment_override;return t?JSON.stringify(t):""},$Dt=(e,t)=>{const n=e.side_by_side_metadata;return{displayPosition:t,experimentRole:n?.experiment_role||`entry_${t}`,entryUUID:e.backend_uuid,experimentOverride:WDt(n)}},ZNe=(e,t)=>`${HDt}${e}_${t}`,FN=(e,t)=>{try{const n=ZNe(e,t);return _t.getItem(n)==="true"}catch(n){return le.error("Error checking localStorage for SBS event:",n),!1}},UN=(e,t)=>{try{const n=ZNe(e,t);_t.setItem(n,"true")}catch(n){le.error("Error setting localStorage for SBS event:",n)}},dZt=({results:e,session:t,trackEvent:n})=>{const r=f.useCallback(()=>{if(!e[0])return null;const c=e[0].side_by_side_metadata;if(!c?.sibling_uuid)return null;const u=c.experiment_override,d=u&&Object.keys(u)[0]||"";return{evaluationUUID:c.sibling_uuid,experimentVariationKey:d,evaluatorID:t?.user?.id||t?.user?.email||"anonymous"}},[e,t?.user?.id,t?.user?.email]),s=f.useCallback(c=>{try{const u=r();if(!u)return null;let d,h;if(c===a_)d=a_,h=void 0;else if(d=c,d>=0&&d<e.length)h=e[d].backend_uuid;else return le.warn(`Invalid SBS selection index: ${c}, results length: ${e.length}`),null;return{eventType:"sbs judgment",timestampMs:Date.now(),eventData:{evaluationUUID:u.evaluationUUID,evaluatorID:u.evaluatorID,preferredPosition:d,entryUUID:h}}}catch(u){return le.error("Failed to build SBS judgment payload:",u),null}},[r,e]),a=f.useCallback(c=>{try{const u=r();if(!u||FN(u.evaluationUUID,"sbs judgment"))return;const d=s(c);d&&(n("sbs judgment",d),UN(u.evaluationUUID,"sbs judgment"))}catch(u){le.error("Failed to track SBS judgment:",u)}},[r,s,n]),i=f.useCallback(()=>{try{const c=r();if(!c||FN(c.evaluationUUID,"sbs banner"))return;const u={eventType:"sbs banner",timestampMs:Date.now(),eventData:{evaluationUUID:c.evaluationUUID,evaluatorID:c.evaluatorID,experimentVariationKey:c.experimentVariationKey,experimentRoles:e.map(d=>d.side_by_side_metadata?.experiment_role||`entry_${e.indexOf(d)}`)}};n("sbs banner",u),UN(c.evaluationUUID,"sbs banner")}catch(c){le.error("Failed to track SBS banner exposure:",c)}},[r,e,n]),l=f.useCallback(()=>{try{const c=r();if(!c||FN(c.evaluationUUID,"sbs exposure"))return;const u={eventType:"sbs exposure",timestampMs:Date.now(),eventData:{evaluationUUID:c.evaluationUUID,evaluatorID:c.evaluatorID,experimentVariationKey:c.experimentVariationKey,entries:e.map($Dt)}};n("sbs exposure",u),UN(c.evaluationUUID,"sbs exposure")}catch(c){le.error("Failed to track SBS exposure:",c)}},[r,e,n]);return f.useMemo(()=>({trackJudgment:a,trackBannerExposure:i,trackSBSExposure:l}),[a,i,l])},JNe="sbs_trigger_count",i_="[control]",qDt=[],GDt={isEnabled:!1,sbsVariations:qDt,isLoading:!1,error:null,incrementTriggerCount:()=>{},triggerCount:0},YDt="sbsMaxTriggerCntPerThread";function KDt(e,t,n,r,s,a,i,l){const{isPro:c,isMax:u,hasAccessToProFeatures:d}=e,{isEnterprise:h=!1}=t,m=c||u||h||d,g=c||u||d,v=a?.localeObj?.language||r?.language||null,x=r?.country||n?.country||null,b=s?.toLowerCase()||null,w=h?"ENTERPRISE":"INDIVIDUAL",C=typeof window<"u"&&window.navigator.userAgent.includes("Mobile");return{isPriority:m,isSubscribed:g,language:v,country:x,searchFocus:b,userCategory:w,isFollowUp:!!l,isMobile:C,appApiClient:"web",[YDt]:i}}const QDt=e=>{const t=n=>n.side_by_side_metadata?.experiment_role?.startsWith(i_)??!1;for(let n=0;n<e.length;n++){const r=e[n];if(t(r))return[r,...e.slice(0,n),...e.slice(n+1)]}return[...e]},XDt=e=>{try{if(!e||!e.side_by_side_config)return!1;const t=e.side_by_side_config;if(!t||typeof t!="object")return!1;const n=!!(t.experiment_flag&&typeof t.experiment_flag=="string"&&t.experiment_flag.length>0),r=!!(t.variations&&Array.isArray(t.variations)&&t.variations.length>0);return n||r}catch{return!1}},ZDt=e=>{if(!e||!e.side_by_side_config)return[];const t=e.side_by_side_config;if(!t.experiment_flag||!t.variations||!Array.isArray(t.variations))return[];if(t.variations.length===0)return[];const n=[],r=ri(),s=t.experiment_flag;let a=!1;return t.variations.forEach(i=>{if(!i||!i.identifier)return;const l=i.is_control===!0;l&&(a=!0);const c=l?`${i_}${s}:${i.identifier}`:`${s}:${i.identifier}`,u={[s]:i.attributes_override??{}};n.push({sibling_uuid:r,experiment_role:c,experiment_override:u})}),!a&&n.length>0&&(n[0].experiment_role=`${i_}${s}:${t.variations[0].identifier}`),n},dae=e=>{try{const t=Ds.getItem(`${JNe}_${e}`);return t?parseInt(t,10):0}catch{return 0}},JDt=(e,t)=>{try{Ds.setItem(`${JNe}_${e}`,t.toString())}catch{}};function eFt({frontendContextUUID:e,disableSideBySide:t=!1}){const n=Ai(),r=cn(),s=Bn({reason:"sbs-experiment-attributes"}),a=on(),i=g0t({reason:"sbs-experiment-attributes"}),l=IEe(),c=Ln()||pr()||eC();t=t||n===_e.STUDIO||n===_e.RESEARCH||c;const[u,d]=f.useState(()=>e?dae(e):0),h=e?KDt(r,s,a,i,n,l,u,e):{},{sideBySideOverrides:m,loading:g,error:v}=zDt(e||"",h),x=v?String(v):null,b=XDt(m);f.useEffect(()=>{if(e){const C=dae(e);d(Math.max(0,C))}else d(0)},[e]),f.useEffect(()=>{b&&e&&u>0&&JDt(e,u)},[e,u,b]);const w=f.useCallback(()=>{b&&d(C=>Math.max(0,C+1))},[b]);return f.useMemo(()=>{if(t||!b||x)return GDt;const C=ZDt(m);return{isEnabled:b,sbsVariations:C,isLoading:g,error:x,incrementTriggerCount:w,triggerCount:u}},[t,x,w,b,g,m,u])}const eje=e=>{if(!e.length)return[];const t=new Map;return e.forEach(n=>{if(n.side_by_side_metadata?.sibling_uuid&&n.side_by_side_metadata?.selection_status===Vc.UNSELECTED)return;const r=n.side_by_side_metadata?.sibling_uuid??n.backend_uuid;t.has(r)||t.set(r,[]),t.get(r).push(n)}),[...t.values()].map(n=>{const r=QDt(n);return r[0].side_by_side_metadata?.selection_status===Vc.TIE?[r[0]]:r})},fZt=async(e,t,n,r)=>{const s=(a,i)=>{r(l=>l.filter(c=>t.some(u=>u.backend_uuid===c.backend_uuid)?c.backend_uuid===a.backend_uuid:!0).map(c=>c.backend_uuid===a.backend_uuid?{...c,side_by_side_metadata:c.side_by_side_metadata?{...c.side_by_side_metadata,selection_status:i}:void 0}:c))};try{const a=t.map((c,u)=>{let d;return e===a_?d=Vc.TIE:d=u===e?Vc.SELECTED:Vc.UNSELECTED,$it({entryUUID:c.backend_uuid,params:d,siblingUUID:n,reason:"user-sbs-selection"}).catch(h=>{throw le.error(`Failed to update selection for entry ${c.backend_uuid}:`,h),h})});await Promise.all(a);let i,l;e===a_?(i=t.find(u=>u.side_by_side_metadata?.experiment_role?.startsWith(i_))||t[0],l=Vc.TIE):(i=t[e],l=Vc.SELECTED),s(i,l)}catch(a){throw le.error("Failed to update entry selection:",a),a}};function tje({handleSubmitQuery:e,isHomepage:t,contextUuid:n,disableSideBySide:r=!1}){const{isEnabled:s,sbsVariations:a,incrementTriggerCount:i}=eFt({frontendContextUUID:n,disableSideBySide:r});return f.useCallback(c=>{s?(i(),a.forEach(u=>{const{experiment_override:d,sibling_uuid:h,experiment_role:m}=u,g={experiment_role:m,sibling_uuid:h,experiment_override:d,selection_status:Vc.SELECTION_STATUS_UNSPECIFIED},v={...c,...t?{newFrontendContextUUID:n}:{existingFrontendContextUUID:n},side_by_side_metadata:g};e(v)})):e(c)},[e,s,a,i,t,n])}const tFt=3e3;function nje({collection:e,onSubmit:t,redirectToNewThread:n=!0,csrRedirect:r=!1}){const{$t:s}=ae(),{isCopilot:a}=Mr(),{submitQuery:i}=go(),{actions:{clearCurrentStreamId:l,clearCurrentThreadId:c}}=un(),u=Qt(),d=Ai(),{handleSubmitQueryWithMention:h}=BDt(),m=f.useMemo(()=>ri(),[]),g=f.useCallback(async k=>{if(k.query.trim()==="")return;t?.(k),k.mentions&&k.mentions.some(T=>T.type==="space")&&h();const E=k.newFrontendContextUUID??ri();n&&(c(),l(),i({rawQuery:k.query,dslQuery:k.dslQuery,mentions:k.mentions,copilotOverride:a?!0:void 0,attachments:k.attachments,collection:e||null,newFrontendContextUUID:E,promptSource:k.promptSource||"user",querySource:k.querySource,timeFromFirstType:k.timeFromFirstType,shouldRedirectToBackendUUID:!r,...k.side_by_side_metadata&&{side_by_side_metadata:k.side_by_side_metadata},onThreadSlugReceived:T=>{if(!r)return;const j=window.location.pathname;j.startsWith(`${u.base}/search/`)&&Nie(j.split("/").pop())&&u.replace(`/search/${T}`,"Home ask input")}}),r&&setTimeout(()=>{u.push(`/search/new/${E}`,void 0,"Home ask input")}))},[t,n,c,l,i,a,e,r,u,h]),v=tje({handleSubmitQuery:g,isHomepage:!0,contextUuid:m}),x=f.useMemo(()=>Ni(v,tFt,{leading:!0}),[v]),[b,w,C]=XNe({onSubmit:x,immediate:!r}),S=s(us[d].askInputPlaceholder);return[b,w,f.useMemo(()=>({...C,placeholder:S}),[C,S])]}function nFt(){const{value:e}=vs({flag:"at-mention-spaces",subjectType:"user_nextauth_id",defaultValue:!0});return e}function rFt({reason:e,collectionName:t,isLazy:n=!0,enabled:r=!0}){const{$t:s}=ae(),[a,i]=f.useState(()=>!n),{isMobileStyle:l}=qe(),c=Ct(),u=nFt()&&r,{data:d,isStale:h,refetch:m}=Ft({queryKey:Wv(),queryFn:()=>Gct({reason:e}),enabled:u&&a,staleTime:10*60*1e3}),g=f.useCallback(()=>{a?h&&m():i(!0)},[a,h,m]),v=f.useMemo(()=>(d?.spaces??[]).map(w=>({uuid:w.uuid,variant:"space",label:w.title,emoji:w.emoji||void 0})),[d]),x=f.useMemo(()=>{const b=Det();if(!(!u||l||!c||b))return t?s({defaultMessage:"Ask anything about { space } or @ mention a Space",id:"NpwyMmamjs"},{space:t}):s({defaultMessage:"Ask anything or @mention a Space",id:"5FEHAEZOKs"})},[s,t,u,l,c]);return f.useMemo(()=>({isAtMentionSpacesEnabled:u,mentionSpacesOptions:v,inputPlaceholder:x,onTrigger:g}),[x,u,v,g])}function sFt({reason:e,enabled:t=!0}){const{$t:n}=ae(),[r,s]=f.useState(!1),a=sV()&&t,{openModal:i}=Gt(),l=WS(),{overwriteSources:c}=XS({reason:e}),{data:u,isStale:d,refetch:h}=Ft({queryKey:Yat(),queryFn:()=>Hke({reason:e}),enabled:a&&r,staleTime:10*60*1e3}),m=f.useCallback(()=>{r?d&&h():s(!0)},[r,d,h]),g=f.useCallback(()=>{i("taskShortcutModal",{source:"typeahead_create"})},[i]),v=f.useCallback((b,w)=>{let C=_e.SEARCH;b===Re.ALPHA?C=_e.RESEARCH:b===Re.BETA&&(C=_e.STUDIO),l(b,C),c(w)},[l,c]),x=f.useMemo(()=>{const w=(u?.tasks??[]).map(C=>({uuid:C.task_id,variant:"shortcut",label:`/${C.task_name}`,queryText:C.prompt,action:()=>v(C.model_preference,C.sources),convertToNode:!0}));return a&&w.push({uuid:"create-a-shortcut",variant:"shortcut",label:n({defaultMessage:"+ Create a shortcut",id:"P9a8R5IRCb"}),action:g,convertToNode:!1,isAlwaysVisible:!0}),w},[u?.tasks,a,v,n,g]);return f.useMemo(()=>({isShortcutTasksEnabled:a,shortcutsTypeaheadOptions:x,onTrigger:m}),[a,x,m])}const aFt=(e,t)=>{const[n,r]=f.useState(e),s=B_(r,t);return f.useEffect(()=>{s(e)},[e,s]),n},iFt=5e3,oFt=3e3,lFt=(e,t,n=!0)=>{const{$t:r}=ae(),s=Ln()||!!t,a=pr(),i=n&&s,{sourceTabUrl:l}=sc(),c=aFt(l,oFt),u=f.useMemo(()=>a?["get_tabs_for_sidecar",c]:["get_tabs_for_ntp"],[a,c]),{data:d=Fe}=Ft({queryKey:u,queryFn:async()=>(await e.fetchOpenedTabs()).map(g=>({uuid:String(g.tabId),variant:"tab",label:g.title,url:g.url,src:oy(g.url)})),staleTime:iFt,enabled:i}),h=f.useMemo(()=>i?r({defaultMessage:"Ask anything or @mention a tab",id:"37eMdtX5Pe"}):void 0,[r,i]);return f.useMemo(()=>({tabs:d,tabAttachmentsEnabled:i,inputPlaceholder:h}),[h,i,d])},rz=({reason:e,isCometServer:t,isLazy:n=!0,variants:r,collectionName:s})=>{const[a,i]=f.useState(""),l=Bs(),c=r===void 0||r.includes("tab"),u=r===void 0||r.includes("space"),d=r===void 0||r.includes("shortcut"),{tabs:h,tabAttachmentsEnabled:m,inputPlaceholder:g}=lFt(l,t,c),{isAtMentionSpacesEnabled:v,mentionSpacesOptions:x,onTrigger:b,inputPlaceholder:w}=rFt({reason:e,collectionName:s,isLazy:n,enabled:u}),{isShortcutTasksEnabled:C,shortcutsTypeaheadOptions:S,onTrigger:k}=sFt({reason:e,enabled:d}),E=m||v||C,T=f.useMemo(()=>[...m&&a==="@"?h:[],...v&&a==="@"?x:[],...C&&a==="/"?S:[]],[m,a,h,v,x,C,S]),j=f.useCallback(N=>{i(N),N==="@"?b():N==="/"&&k()},[k,b]);return f.useMemo(()=>({useLexical:E,mentionTypeaheadOptions:T,inputPlaceholder:g??w,onTriggerTypeahead:j}),[E,T,g,w,j])},hZt=["ask-input","mini-graphs","watchlist","market-summary"],mZt=["header","ask-input","mini-graphs","financial-profile"],pZt=["header","schedule","standings"],gZt=["header","bracket"],rje=["ask-input"],cFt=["thread-title"],vZt=["ask-input","article-list"],yZt=["topic-list"];function uFt(){const{value:e}=Sg({flag:"comet-ntp-welcome-suggestions",subjectType:"visitor_id",defaultValue:{groups:[]}});return e}const fae="comet-welcome-videos-cached",dFt=()=>{const{value:e}=Fs({flag:"comet-welcome-videos",defaultValue:!1}),[t,n]=f.useState(()=>{const r=_t.getItem(fae);return r?JSON.parse(r):!1});return f.useEffect(()=>{e!==t&&(n(e),_t.setItem(fae,JSON.stringify(e)))},[e,t]),t},fFt="https://r2cdn.perplexity.ai/comet/cmp_grocery_cart.mp4",hFt="https://r2cdn.perplexity.ai/comet/cmp_reddit_ama.mp4",mFt="https://r2cdn.perplexity.ai/comet/cmp_find_emails.mp4",pFt="https://r2cdn.perplexity.ai/comet/cmp_find_creatine.mp4",gFt="https://r2cdn.perplexity.ai/comet/cmp_bikes_shipping.mp4",vFt="https://r2cdn.perplexity.ai/comet/cmp_summarize_webpage.mp4",yFt="https://r2cdn.perplexity.ai/comet/cmp_walking_route.mp4",xFt="https://r2cdn.perplexity.ai/comet/cmp_v2v_browsing.mp4",bFt="https://r2cdn.perplexity.ai/comet/grocery_cart-min.png",wFt="https://r2cdn.perplexity.ai/comet/reddit_ama-min.png",_Ft="https://r2cdn.perplexity.ai/comet/find_emails-min.png",CFt="https://r2cdn.perplexity.ai/comet/find_creatine-min.png",SFt="https://r2cdn.perplexity.ai/comet/bikes_shipping-min.png",MFt="https://r2cdn.perplexity.ai/comet/summarize_webpage-min.png",kFt="https://r2cdn.perplexity.ai/comet/tour_plan-min.png",EFt="https://r2cdn.perplexity.ai/comet/v2v_browsing-min.png",TFt="https://r2cdn.perplexity.ai/comet/cmp_grocery_cart_v2.mp4",NFt="https://r2cdn.perplexity.ai/comet/cmp_reddit_ama_v3.mp4",jFt="https://r2cdn.perplexity.ai/comet/cmp_find_emails_v2.mp4",AFt="https://r2cdn.perplexity.ai/comet/cmp_find_creatine_v2.mp4",RFt="https://r2cdn.perplexity.ai/comet/cmp_bikes_shipping_v3.mp4",LFt="https://r2cdn.perplexity.ai/comet/cmp_summarize_webpage_v2.mp4",OFt="https://r2cdn.perplexity.ai/comet/cmp_walking_route_v2.mp4",PFt="https://r2cdn.perplexity.ai/comet/cmp_v2v_browsing_v2.mp4",IFt=()=>{const{$t:e}=ae();return f.useMemo(()=>[{videoSrc:mFt,fullVideoSrc:jFt,previewSrc:_Ft,label:e({id:"U51r44Fr7z",defaultMessage:"Master Your Inbox and Calendar"})},{videoSrc:fFt,fullVideoSrc:TFt,previewSrc:bFt,label:e({id:"7rWLu0GI8D",defaultMessage:"Delegate the Basics"})},{videoSrc:vFt,fullVideoSrc:LFt,previewSrc:MFt,label:e({id:"0MeQ1Iywio",defaultMessage:"Get the Gist in Seconds"})},{videoSrc:yFt,fullVideoSrc:OFt,previewSrc:kFt,label:e({id:"zX2SKiQpSn",defaultMessage:"Automate the Clicks"})},{videoSrc:xFt,fullVideoSrc:PFt,previewSrc:EFt,label:e({id:"k3OgfsBfr6",defaultMessage:"Browse with Your Voice"})},{videoSrc:pFt,fullVideoSrc:AFt,previewSrc:CFt,label:e({id:"Fi5Bt5+lYj",defaultMessage:"Quickly Find Answers in Your History"})},{videoSrc:hFt,fullVideoSrc:NFt,previewSrc:wFt,label:e({id:"HHOfPSzTkI",defaultMessage:"Get Insights in One Click"})},{videoSrc:gFt,fullVideoSrc:RFt,previewSrc:SFt,label:e({id:"ytn1Ld8ocW",defaultMessage:"Reference Any Tab for Precise Answers"})}],[e])};function DFt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.useMemo(()=>r=>{t.forEach(s=>s(r))},t)}const y8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function i0(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function sz(e){return"nodeType"in e}function Va(e){var t,n;return e?i0(e)?e:sz(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function az(e){const{Document:t}=Va(e);return e instanceof t}function Mb(e){return i0(e)?!1:e instanceof Va(e).HTMLElement}function sje(e){return e instanceof Va(e).SVGElement}function o0(e){return e?i0(e)?e.document:sz(e)?az(e)?e:Mb(e)||sje(e)?e.ownerDocument:document:document:document}const Ko=y8?f.useLayoutEffect:f.useEffect;function x8(e){const t=f.useRef(e);return Ko(()=>{t.current=e}),f.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t.current==null?void 0:t.current(...r)},[])}function FFt(){const e=f.useRef(null),t=f.useCallback((r,s)=>{e.current=setInterval(r,s)},[]),n=f.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function ex(e,t){t===void 0&&(t=[e]);const n=f.useRef(e);return Ko(()=>{n.current!==e&&(n.current=e)},t),n}function kb(e,t){const n=f.useRef();return f.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function o_(e){const t=x8(e),n=f.useRef(null),r=f.useCallback(s=>{s!==n.current&&t?.(s,n.current),n.current=s},[]);return[n,r]}function l_(e){const t=f.useRef();return f.useEffect(()=>{t.current=e},[e]),t.current}let BN={};function Eb(e,t){return f.useMemo(()=>{if(t)return t;const n=BN[e]==null?0:BN[e]+1;return BN[e]=n,e+"-"+n},[e,t])}function aje(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((a,i)=>{const l=Object.entries(i);for(const[c,u]of l){const d=a[c];d!=null&&(a[c]=d+e*u)}return a},{...t})}}const m1=aje(1),tx=aje(-1);function UFt(e){return"clientX"in e&&"clientY"in e}function b8(e){if(!e)return!1;const{KeyboardEvent:t}=Va(e.target);return t&&e instanceof t}function BFt(e){if(!e)return!1;const{TouchEvent:t}=Va(e.target);return t&&e instanceof t}function c_(e){if(BFt(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return UFt(e)?{x:e.clientX,y:e.clientY}:null}const tm=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[tm.Translate.toString(e),tm.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),hae="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function VFt(e){return e.matches(hae)?e:e.querySelector(hae)}const zFt={display:"none"};function HFt(e){let{id:t,value:n}=e;return L.createElement("div",{id:t,style:zFt},n)}function WFt(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return L.createElement("div",{id:t,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function $Ft(){const[e,t]=f.useState("");return{announce:f.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const ije=f.createContext(null);function qFt(e){const t=f.useContext(ije);f.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function GFt(){const[e]=f.useState(()=>new Set),t=f.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[f.useCallback(r=>{let{type:s,event:a}=r;e.forEach(i=>{var l;return(l=i[s])==null?void 0:l.call(i,a)})},[e]),t]}const YFt={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},KFt={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function QFt(e){let{announcements:t=KFt,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=YFt}=e;const{announce:a,announcement:i}=$Ft(),l=Eb("DndLiveRegion"),[c,u]=f.useState(!1);if(f.useEffect(()=>{u(!0)},[]),qFt(f.useMemo(()=>({onDragStart(h){let{active:m}=h;a(t.onDragStart({active:m}))},onDragMove(h){let{active:m,over:g}=h;t.onDragMove&&a(t.onDragMove({active:m,over:g}))},onDragOver(h){let{active:m,over:g}=h;a(t.onDragOver({active:m,over:g}))},onDragEnd(h){let{active:m,over:g}=h;a(t.onDragEnd({active:m,over:g}))},onDragCancel(h){let{active:m,over:g}=h;a(t.onDragCancel({active:m,over:g}))}}),[a,t])),!c)return null;const d=L.createElement(L.Fragment,null,L.createElement(HFt,{id:r,value:s.draggable}),L.createElement(WFt,{id:l,announcement:i}));return n?Xs.createPortal(d,n):d}var ds;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ds||(ds={}));function u_(){}function XFt(e,t){return f.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function ZFt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Qo=Object.freeze({x:0,y:0});function iz(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function JFt(e,t){const n=c_(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function oz(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function eUt(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function PO(e){let{left:t,top:n,height:r,width:s}=e;return[{x:t,y:n},{x:t+s,y:n},{x:t,y:n+r},{x:t+s,y:n+r}]}function oje(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function mae(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const xZt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=mae(t,t.left,t.top),a=[];for(const i of r){const{id:l}=i,c=n.get(l);if(c){const u=iz(mae(c),s);a.push({id:l,data:{droppableContainer:i,value:u}})}}return a.sort(oz)},tUt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=PO(t),a=[];for(const i of r){const{id:l}=i,c=n.get(l);if(c){const u=PO(c),d=s.reduce((m,g,v)=>m+iz(u[v],g),0),h=Number((d/4).toFixed(4));a.push({id:l,data:{droppableContainer:i,value:h}})}}return a.sort(oz)};function nUt(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),i=s-r,l=a-n;if(r<s&&n<a){const c=t.width*t.height,u=e.width*e.height,d=i*l,h=d/(c+u-d);return Number(h.toFixed(4))}return 0}const rUt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const s=[];for(const a of r){const{id:i}=a,l=n.get(i);if(l){const c=nUt(l,t);c>0&&s.push({id:i,data:{droppableContainer:a,value:c}})}}return s.sort(eUt)};function sUt(e,t){const{top:n,left:r,bottom:s,right:a}=t;return n<=e.y&&e.y<=s&&r<=e.x&&e.x<=a}const aUt=e=>{let{droppableContainers:t,droppableRects:n,pointerCoordinates:r}=e;if(!r)return[];const s=[];for(const a of t){const{id:i}=a,l=n.get(i);if(l&&sUt(r,l)){const u=PO(l).reduce((h,m)=>h+iz(r,m),0),d=Number((u/4).toFixed(4));s.push({id:i,data:{droppableContainer:a,value:d}})}}return s.sort(oz)};function iUt(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function lje(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Qo}function oUt(e){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return s.reduce((i,l)=>({...i,top:i.top+e*l.y,bottom:i.bottom+e*l.y,left:i.left+e*l.x,right:i.right+e*l.x}),{...n})}}const lUt=oUt(1);function cje(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function cUt(e,t,n){const r=cje(t);if(!r)return e;const{scaleX:s,scaleY:a,x:i,y:l}=r,c=e.left-i-(1-s)*parseFloat(n),u=e.top-l-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),d=s?e.width/s:e.width,h=a?e.height/a:e.height;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c}}const uUt={ignoreTransform:!1};function l0(e,t){t===void 0&&(t=uUt);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Va(e).getComputedStyle(e);u&&(n=cUt(n,u,d))}const{top:r,left:s,width:a,height:i,bottom:l,right:c}=n;return{top:r,left:s,width:a,height:i,bottom:l,right:c}}function pae(e){return l0(e,{ignoreTransform:!0})}function dUt(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function fUt(e,t){return t===void 0&&(t=Va(e).getComputedStyle(e)),t.position==="fixed"}function hUt(e,t){t===void 0&&(t=Va(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const a=t[s];return typeof a=="string"?n.test(a):!1})}function w8(e,t){const n=[];function r(s){if(t!=null&&n.length>=t||!s)return n;if(az(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Mb(s)||sje(s)||n.includes(s))return n;const a=Va(e).getComputedStyle(s);return s!==e&&hUt(s,a)&&n.push(s),fUt(s,a)?n:r(s.parentNode)}return e?r(e):n}function uje(e){const[t]=w8(e,1);return t??null}function VN(e){return!y8||!e?null:i0(e)?e:sz(e)?az(e)||e===o0(e).scrollingElement?window:Mb(e)?e:null:null}function dje(e){return i0(e)?e.scrollX:e.scrollLeft}function fje(e){return i0(e)?e.scrollY:e.scrollTop}function IO(e){return{x:dje(e),y:fje(e)}}var Es;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Es||(Es={}));function hje(e){return!y8||!e?!1:e===document.scrollingElement}function mje(e){const t={x:0,y:0},n=hje(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},s=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,i=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:s,isLeft:a,isBottom:i,isRight:l,maxScroll:r,minScroll:t}}const mUt={x:.2,y:.2};function pUt(e,t,n,r,s){let{top:a,left:i,right:l,bottom:c}=n;r===void 0&&(r=10),s===void 0&&(s=mUt);const{isTop:u,isBottom:d,isLeft:h,isRight:m}=mje(e),g={x:0,y:0},v={x:0,y:0},x={height:t.height*s.y,width:t.width*s.x};return!u&&a<=t.top+x.height?(g.y=Es.Backward,v.y=r*Math.abs((t.top+x.height-a)/x.height)):!d&&c>=t.bottom-x.height&&(g.y=Es.Forward,v.y=r*Math.abs((t.bottom-x.height-c)/x.height)),!m&&l>=t.right-x.width?(g.x=Es.Forward,v.x=r*Math.abs((t.right-x.width-l)/x.width)):!h&&i<=t.left+x.width&&(g.x=Es.Backward,v.x=r*Math.abs((t.left+x.width-i)/x.width)),{direction:g,speed:v}}function gUt(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:i}=window;return{top:0,left:0,right:a,bottom:i,width:a,height:i}}const{top:t,left:n,right:r,bottom:s}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:s,width:e.clientWidth,height:e.clientHeight}}function pje(e){return e.reduce((t,n)=>m1(t,IO(n)),Qo)}function vUt(e){return e.reduce((t,n)=>t+dje(n),0)}function yUt(e){return e.reduce((t,n)=>t+fje(n),0)}function gje(e,t){if(t===void 0&&(t=l0),!e)return;const{top:n,left:r,bottom:s,right:a}=t(e);uje(e)&&(s<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const xUt=[["x",["left","right"],vUt],["y",["top","bottom"],yUt]];class lz{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=w8(n),s=pje(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,i,l]of xUt)for(const c of i)Object.defineProperty(this,c,{get:()=>{const u=l(r),d=s[a]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class B2{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var s;(s=this.target)==null||s.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function bUt(e){const{EventTarget:t}=Va(e);return e instanceof t?e:o0(e)}function zN(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Ki;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Ki||(Ki={}));function gae(e){e.preventDefault()}function wUt(e){e.stopPropagation()}var bn;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(bn||(bn={}));const vje={start:[bn.Space,bn.Enter],cancel:[bn.Esc],end:[bn.Space,bn.Enter,bn.Tab]},_Ut=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case bn.Right:return{...n,x:n.x+25};case bn.Left:return{...n,x:n.x-25};case bn.Down:return{...n,y:n.y+25};case bn.Up:return{...n,y:n.y-25}}};class yje{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new B2(o0(n)),this.windowListeners=new B2(Va(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ki.Resize,this.handleCancel),this.windowListeners.add(Ki.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ki.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&gje(r),n(Qo)}handleKeyDown(t){if(b8(t)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:a=vje,coordinateGetter:i=_Ut,scrollBehavior:l="smooth"}=s,{code:c}=t;if(a.end.includes(c)){this.handleEnd(t);return}if(a.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:Qo;this.referenceCoordinates||(this.referenceCoordinates=d);const h=i(t,{active:n,context:r.current,currentCoordinates:d});if(h){const m=tx(h,d),g={x:0,y:0},{scrollableAncestors:v}=r.current;for(const x of v){const b=t.code,{isTop:w,isRight:C,isLeft:S,isBottom:k,maxScroll:E,minScroll:T}=mje(x),j=gUt(x),N={x:Math.min(b===bn.Right?j.right-j.width/2:j.right,Math.max(b===bn.Right?j.left:j.left+j.width/2,h.x)),y:Math.min(b===bn.Down?j.bottom-j.height/2:j.bottom,Math.max(b===bn.Down?j.top:j.top+j.height/2,h.y))},R=b===bn.Right&&!C||b===bn.Left&&!S,O=b===bn.Down&&!k||b===bn.Up&&!w;if(R&&N.x!==h.x){const I=x.scrollLeft+m.x,B=b===bn.Right&&I<=E.x||b===bn.Left&&I>=T.x;if(B&&!m.y){x.scrollTo({left:I,behavior:l});return}B?g.x=x.scrollLeft-I:g.x=b===bn.Right?x.scrollLeft-E.x:x.scrollLeft-T.x,g.x&&x.scrollBy({left:-g.x,behavior:l});break}else if(O&&N.y!==h.y){const I=x.scrollTop+m.y,B=b===bn.Down&&I<=E.y||b===bn.Up&&I>=T.y;if(B&&!m.x){x.scrollTo({top:I,behavior:l});return}B?g.y=x.scrollTop-I:g.y=b===bn.Down?x.scrollTop-E.y:x.scrollTop-T.y,g.y&&x.scrollBy({top:-g.y,behavior:l});break}}this.handleMove(t,m1(tx(h,this.referenceCoordinates),g))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}yje.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=vje,onActivation:s}=t,{active:a}=n;const{code:i}=e.nativeEvent;if(r.start.includes(i)){const l=a.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),s?.({event:e.nativeEvent}),!0)}return!1}}];function vae(e){return!!(e&&"distance"in e)}function yae(e){return!!(e&&"delay"in e)}class cz{constructor(t,n,r){var s;r===void 0&&(r=bUt(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:i}=a;this.props=t,this.events=n,this.document=o0(i),this.documentListeners=new B2(this.document),this.listeners=new B2(r),this.windowListeners=new B2(Va(i)),this.initialCoordinates=(s=c_(a))!=null?s:Qo,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Ki.Resize,this.handleCancel),this.windowListeners.add(Ki.DragStart,gae),this.windowListeners.add(Ki.VisibilityChange,this.handleCancel),this.windowListeners.add(Ki.ContextMenu,gae),this.documentListeners.add(Ki.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(yae(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(vae(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:s}=this.props;s(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Ki.Click,wUt,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ki.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:s,props:a}=this,{onMove:i,options:{activationConstraint:l}}=a;if(!s)return;const c=(n=c_(t))!=null?n:Qo,u=tx(s,c);if(!r&&l){if(vae(l)){if(l.tolerance!=null&&zN(u,l.tolerance))return this.handleCancel();if(zN(u,l.distance))return this.handleStart()}if(yae(l)&&zN(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),i(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===bn.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const CUt={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class uz extends cz{constructor(t){const{event:n}=t,r=o0(n.target);super(t,CUt,r)}}uz.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const SUt={move:{name:"mousemove"},end:{name:"mouseup"}};var DO;(function(e){e[e.RightClick=2]="RightClick"})(DO||(DO={}));class MUt extends cz{constructor(t){super(t,SUt,o0(t.event.target))}}MUt.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===DO.RightClick?!1:(r?.({event:n}),!0)}}];const HN={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class kUt extends cz{constructor(t){super(t,HN)}static setup(){return window.addEventListener(HN.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(HN.move.name,t)};function t(){}}}kUt.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:s}=n;return s.length>1?!1:(r?.({event:n}),!0)}}];var V2;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(V2||(V2={}));var d_;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(d_||(d_={}));function EUt(e){let{acceleration:t,activator:n=V2.Pointer,canScroll:r,draggingRect:s,enabled:a,interval:i=5,order:l=d_.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:h,threshold:m}=e;const g=NUt({delta:h,disabled:!a}),[v,x]=FFt(),b=f.useRef({x:0,y:0}),w=f.useRef({x:0,y:0}),C=f.useMemo(()=>{switch(n){case V2.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case V2.DraggableRect:return s}},[n,s,c]),S=f.useRef(null),k=f.useCallback(()=>{const T=S.current;if(!T)return;const j=b.current.x*w.current.x,N=b.current.y*w.current.y;T.scrollBy(j,N)},[]),E=f.useMemo(()=>l===d_.TreeOrder?[...u].reverse():u,[l,u]);f.useEffect(()=>{if(!a||!u.length||!C){x();return}for(const T of E){if(r?.(T)===!1)continue;const j=u.indexOf(T),N=d[j];if(!N)continue;const{direction:R,speed:O}=pUt(T,N,C,t,m);for(const I of["x","y"])g[I][R[I]]||(O[I]=0,R[I]=0);if(O.x>0||O.y>0){x(),S.current=T,v(k,i),b.current=O,w.current=R;return}}b.current={x:0,y:0},w.current={x:0,y:0},x()},[t,k,r,x,a,i,JSON.stringify(C),JSON.stringify(g),v,u,E,d,JSON.stringify(m)])}const TUt={x:{[Es.Backward]:!1,[Es.Forward]:!1},y:{[Es.Backward]:!1,[Es.Forward]:!1}};function NUt(e){let{delta:t,disabled:n}=e;const r=l_(t);return kb(s=>{if(n||!r||!s)return TUt;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Es.Backward]:s.x[Es.Backward]||a.x===-1,[Es.Forward]:s.x[Es.Forward]||a.x===1},y:{[Es.Backward]:s.y[Es.Backward]||a.y===-1,[Es.Forward]:s.y[Es.Forward]||a.y===1}}},[n,t,r])}function jUt(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return kb(s=>{var a;return t==null?null:(a=r??s)!=null?a:null},[r,t])}function AUt(e,t){return f.useMemo(()=>e.reduce((n,r)=>{const{sensor:s}=r,a=s.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,r)}));return[...n,...a]},[]),[e,t])}var nx;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(nx||(nx={}));var FO;(function(e){e.Optimized="optimized"})(FO||(FO={}));const xae=new Map;function RUt(e,t){let{dragging:n,dependencies:r,config:s}=t;const[a,i]=f.useState(null),{frequency:l,measure:c,strategy:u}=s,d=f.useRef(e),h=b(),m=ex(h),g=f.useCallback(function(w){w===void 0&&(w=[]),!m.current&&i(C=>C===null?w:C.concat(w.filter(S=>!C.includes(S))))},[m]),v=f.useRef(null),x=kb(w=>{if(h&&!n)return xae;if(!w||w===xae||d.current!==e||a!=null){const C=new Map;for(let S of e){if(!S)continue;if(a&&a.length>0&&!a.includes(S.id)&&S.rect.current){C.set(S.id,S.rect.current);continue}const k=S.node.current,E=k?new lz(c(k),k):null;S.rect.current=E,E&&C.set(S.id,E)}return C}return w},[e,a,n,h,c]);return f.useEffect(()=>{d.current=e},[e]),f.useEffect(()=>{h||g()},[n,h]),f.useEffect(()=>{a&&a.length>0&&i(null)},[JSON.stringify(a)]),f.useEffect(()=>{h||typeof l!="number"||v.current!==null||(v.current=setTimeout(()=>{g(),v.current=null},l))},[l,h,g,...r]),{droppableRects:x,measureDroppableContainers:g,measuringScheduled:a!=null};function b(){switch(u){case nx.Always:return!1;case nx.BeforeDragging:return n;default:return!n}}}function dz(e,t){return kb(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function LUt(e,t){return dz(e,t)}function OUt(e){let{callback:t,disabled:n}=e;const r=x8(t),s=f.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return f.useEffect(()=>()=>s?.disconnect(),[s]),s}function _8(e){let{callback:t,disabled:n}=e;const r=x8(t),s=f.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return f.useEffect(()=>()=>s?.disconnect(),[s]),s}function PUt(e){return new lz(l0(e),e)}function bae(e,t,n){t===void 0&&(t=PUt);const[r,s]=f.useState(null);function a(){s(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const i=OUt({callback(c){if(e)for(const u of c){const{type:d,target:h}=u;if(d==="childList"&&h instanceof HTMLElement&&h.contains(e)){a();break}}}}),l=_8({callback:a});return Ko(()=>{a(),e?(l?.observe(e),i?.observe(document.body,{childList:!0,subtree:!0})):(l?.disconnect(),i?.disconnect())},[e]),r}function IUt(e){const t=dz(e);return lje(e,t)}const wae=[];function DUt(e){const t=f.useRef(e),n=kb(r=>e?r&&r!==wae&&e&&t.current&&e.parentNode===t.current.parentNode?r:w8(e):wae,[e]);return f.useEffect(()=>{t.current=e},[e]),n}function FUt(e){const[t,n]=f.useState(null),r=f.useRef(e),s=f.useCallback(a=>{const i=VN(a.target);i&&n(l=>l?(l.set(i,IO(i)),new Map(l)):null)},[]);return f.useEffect(()=>{const a=r.current;if(e!==a){i(a);const l=e.map(c=>{const u=VN(c);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,IO(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=e}return()=>{i(e),i(a)};function i(l){l.forEach(c=>{const u=VN(c);u?.removeEventListener("scroll",s)})}},[s,e]),f.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,i)=>m1(a,i),Qo):pje(e):Qo,[e,t])}function _ae(e,t){t===void 0&&(t=[]);const n=f.useRef(null);return f.useEffect(()=>{n.current=null},t),f.useEffect(()=>{const r=e!==Qo;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?tx(e,n.current):Qo}function UUt(e){f.useEffect(()=>{if(!y8)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function BUt(e,t){return f.useMemo(()=>e.reduce((n,r)=>{let{eventName:s,handler:a}=r;return n[s]=i=>{a(i,t)},n},{}),[e,t])}function xje(e){return f.useMemo(()=>e?dUt(e):null,[e])}const Cae=[];function VUt(e,t){t===void 0&&(t=l0);const[n]=e,r=xje(n?Va(n):null),[s,a]=f.useState(Cae);function i(){a(()=>e.length?e.map(c=>hje(c)?r:new lz(t(c),c)):Cae)}const l=_8({callback:i});return Ko(()=>{l?.disconnect(),i(),e.forEach(c=>l?.observe(c))},[e]),s}function bje(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Mb(t)?t:e}function zUt(e){let{measure:t}=e;const[n,r]=f.useState(null),s=f.useCallback(u=>{for(const{target:d}of u)if(Mb(d)){r(h=>{const m=t(d);return h?{...h,width:m.width,height:m.height}:m});break}},[t]),a=_8({callback:s}),i=f.useCallback(u=>{const d=bje(u);a?.disconnect(),d&&a?.observe(d),r(d?t(d):null)},[t,a]),[l,c]=o_(i);return f.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const HUt=[{sensor:uz,options:{}},{sensor:yje,options:{}}],WUt={current:{}},J5={draggable:{measure:pae},droppable:{measure:pae,strategy:nx.WhileDragging,frequency:FO.Optimized},dragOverlay:{measure:l0}};class z2 extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const $Ut={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new z2,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:u_},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:J5,measureDroppableContainers:u_,windowRect:null,measuringScheduled:!1},wje={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:u_,draggableNodes:new Map,over:null,measureDroppableContainers:u_},Tb=f.createContext(wje),_je=f.createContext($Ut);function qUt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new z2}}}function GUt(e,t){switch(t.type){case ds.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ds.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ds.DragEnd:case ds.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ds.RegisterDroppable:{const{element:n}=t,{id:r}=n,s=new z2(e.droppable.containers);return s.set(r,n),{...e,droppable:{...e.droppable,containers:s}}}case ds.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const i=new z2(e.droppable.containers);return i.set(n,{...a,disabled:s}),{...e,droppable:{...e.droppable,containers:i}}}case ds.UnregisterDroppable:{const{id:n,key:r}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const a=new z2(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function YUt(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:s}=f.useContext(Tb),a=l_(r),i=l_(n?.id);return f.useEffect(()=>{if(!t&&!r&&a&&i!=null){if(!b8(a)||document.activeElement===a.target)return;const l=s.get(i);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const h=VFt(d);if(h){h.focus();break}}})}},[r,t,s,i,a]),null}function Cje(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((s,a)=>a({transform:s,...r}),n):n}function KUt(e){return f.useMemo(()=>({draggable:{...J5.draggable,...e?.draggable},droppable:{...J5.droppable,...e?.droppable},dragOverlay:{...J5.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function QUt(e){let{activeNode:t,measure:n,initialRect:r,config:s=!0}=e;const a=f.useRef(!1),{x:i,y:l}=typeof s=="boolean"?{x:s,y:s}:s;Ko(()=>{if(!i&&!l||!t){a.current=!1;return}if(a.current||!r)return;const u=t?.node.current;if(!u||u.isConnected===!1)return;const d=n(u),h=lje(d,r);if(i||(h.x=0),l||(h.y=0),a.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=uje(u);m&&m.scrollBy({top:h.y,left:h.x})}},[t,i,l,r,n])}const C8=f.createContext({...Qo,scaleX:1,scaleY:1});var pd;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(pd||(pd={}));const XUt=f.memo(function(t){var n,r,s,a;let{id:i,accessibility:l,autoScroll:c=!0,children:u,sensors:d=HUt,collisionDetection:h=rUt,measuring:m,modifiers:g,...v}=t;const x=f.useReducer(GUt,void 0,qUt),[b,w]=x,[C,S]=GFt(),[k,E]=f.useState(pd.Uninitialized),T=k===pd.Initialized,{draggable:{active:j,nodes:N,translate:R},droppable:{containers:O}}=b,I=j!=null?N.get(j):null,B=f.useRef({initial:null,translated:null}),D=f.useMemo(()=>{var Rt;return j!=null?{id:j,data:(Rt=I?.data)!=null?Rt:WUt,rect:B}:null},[j,I]),z=f.useRef(null),[V,U]=f.useState(null),[H,q]=f.useState(null),$=ex(v,Object.values(v)),G=Eb("DndDescribedBy",i),K=f.useMemo(()=>O.getEnabled(),[O]),ee=KUt(m),{droppableRects:oe,measureDroppableContainers:ne,measuringScheduled:te}=RUt(K,{dragging:T,dependencies:[R.x,R.y],config:ee.droppable}),re=jUt(N,j),X=f.useMemo(()=>H?c_(H):null,[H]),ce=er(),se=LUt(re,ee.draggable.measure);QUt({activeNode:j!=null?N.get(j):null,config:ce.layoutShiftCompensation,initialRect:se,measure:ee.draggable.measure});const J=bae(re,ee.draggable.measure,se),de=bae(re?re.parentElement:null),ie=f.useRef({activatorEvent:null,active:null,activeNode:re,collisionRect:null,collisions:null,droppableRects:oe,draggableNodes:N,draggingNode:null,draggingNodeRect:null,droppableContainers:O,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),he=O.getNodeFor((n=ie.current.over)==null?void 0:n.id),pe=zUt({measure:ee.dragOverlay.measure}),ge=(r=pe.nodeRef.current)!=null?r:re,Ce=T?(s=pe.rect)!=null?s:J:null,we=!!(pe.nodeRef.current&&pe.rect),Pe=IUt(we?null:J),ot=xje(ge?Va(ge):null),Be=DUt(T?he??re:null),Ee=VUt(Be),st=Cje(g,{transform:{x:R.x-Pe.x,y:R.y-Pe.y,scaleX:1,scaleY:1},activatorEvent:H,active:D,activeNodeRect:J,containerNodeRect:de,draggingNodeRect:Ce,over:ie.current.over,overlayNodeRect:pe.rect,scrollableAncestors:Be,scrollableAncestorRects:Ee,windowRect:ot}),et=X?m1(X,R):null,$e=FUt(Be),tt=_ae($e),at=_ae($e,[J]),xe=m1(st,tt),Oe=Ce?lUt(Ce,st):null,Qe=D&&Oe?h({active:D,collisionRect:Oe,droppableRects:oe,droppableContainers:K,pointerCoordinates:et}):null,Ge=oje(Qe,"id"),[ze,Ze]=f.useState(null),St=we?st:m1(st,at),It=iUt(St,(a=ze?.rect)!=null?a:null,J),Jt=f.useRef(null),dt=f.useCallback((Rt,Xt)=>{let{sensor:Se,options:ht}=Xt;if(z.current==null)return;const ct=N.get(z.current);if(!ct)return;const mt=Rt.nativeEvent,vt=new Se({active:z.current,activeNode:ct,event:mt,options:ht,context:ie,onAbort(Lt){if(!N.get(Lt))return;const{onDragAbort:hn}=$.current,_r={id:Lt};hn?.(_r),C({type:"onDragAbort",event:_r})},onPending(Lt,kn,hn,_r){if(!N.get(Lt))return;const{onDragPending:os}=$.current,wa={id:Lt,constraint:kn,initialCoordinates:hn,offset:_r};os?.(wa),C({type:"onDragPending",event:wa})},onStart(Lt){const kn=z.current;if(kn==null)return;const hn=N.get(kn);if(!hn)return;const{onDragStart:_r}=$.current,Gr={activatorEvent:mt,active:{id:kn,data:hn.data,rect:B}};Xs.unstable_batchedUpdates(()=>{_r?.(Gr),E(pd.Initializing),w({type:ds.DragStart,initialCoordinates:Lt,active:kn}),C({type:"onDragStart",event:Gr}),U(Jt.current),q(mt)})},onMove(Lt){w({type:ds.DragMove,coordinates:Lt})},onEnd:Bt(ds.DragEnd),onCancel:Bt(ds.DragCancel)});Jt.current=vt;function Bt(Lt){return async function(){const{active:hn,collisions:_r,over:Gr,scrollAdjustedTranslate:os}=ie.current;let wa=null;if(hn&&os){const{cancelDrop:Yr}=$.current;wa={activatorEvent:mt,active:hn,collisions:_r,delta:os,over:Gr},Lt===ds.DragEnd&&typeof Yr=="function"&&await Promise.resolve(Yr(wa))&&(Lt=ds.DragCancel)}z.current=null,Xs.unstable_batchedUpdates(()=>{w({type:Lt}),E(pd.Uninitialized),Ze(null),U(null),q(null),Jt.current=null;const Yr=Lt===ds.DragEnd?"onDragEnd":"onDragCancel";if(wa){const tr=$.current[Yr];tr?.(wa),C({type:Yr,event:wa})}})}}},[N]),ft=f.useCallback((Rt,Xt)=>(Se,ht)=>{const ct=Se.nativeEvent,mt=N.get(ht);if(z.current!==null||!mt||ct.dndKit||ct.defaultPrevented)return;const vt={active:mt};Rt(Se,Xt.options,vt)===!0&&(ct.dndKit={capturedBy:Xt.sensor},z.current=ht,dt(Se,Xt))},[N,dt]),Et=AUt(d,ft);UUt(d),Ko(()=>{J&&k===pd.Initializing&&E(pd.Initialized)},[J,k]),f.useEffect(()=>{const{onDragMove:Rt}=$.current,{active:Xt,activatorEvent:Se,collisions:ht,over:ct}=ie.current;if(!Xt||!Se)return;const mt={active:Xt,activatorEvent:Se,collisions:ht,delta:{x:xe.x,y:xe.y},over:ct};Xs.unstable_batchedUpdates(()=>{Rt?.(mt),C({type:"onDragMove",event:mt})})},[xe.x,xe.y]),f.useEffect(()=>{const{active:Rt,activatorEvent:Xt,collisions:Se,droppableContainers:ht,scrollAdjustedTranslate:ct}=ie.current;if(!Rt||z.current==null||!Xt||!ct)return;const{onDragOver:mt}=$.current,vt=ht.get(Ge),Bt=vt&&vt.rect.current?{id:vt.id,rect:vt.rect.current,data:vt.data,disabled:vt.disabled}:null,Lt={active:Rt,activatorEvent:Xt,collisions:Se,delta:{x:ct.x,y:ct.y},over:Bt};Xs.unstable_batchedUpdates(()=>{Ze(Bt),mt?.(Lt),C({type:"onDragOver",event:Lt})})},[Ge]),Ko(()=>{ie.current={activatorEvent:H,active:D,activeNode:re,collisionRect:Oe,collisions:Qe,droppableRects:oe,draggableNodes:N,draggingNode:ge,draggingNodeRect:Ce,droppableContainers:O,over:ze,scrollableAncestors:Be,scrollAdjustedTranslate:xe},B.current={initial:Ce,translated:Oe}},[D,re,Qe,Oe,N,ge,Ce,oe,O,ze,Be,xe]),EUt({...ce,delta:R,draggingRect:Oe,pointerCoordinates:et,scrollableAncestors:Be,scrollableAncestorRects:Ee});const an=f.useMemo(()=>({active:D,activeNode:re,activeNodeRect:J,activatorEvent:H,collisions:Qe,containerNodeRect:de,dragOverlay:pe,draggableNodes:N,droppableContainers:O,droppableRects:oe,over:ze,measureDroppableContainers:ne,scrollableAncestors:Be,scrollableAncestorRects:Ee,measuringConfiguration:ee,measuringScheduled:te,windowRect:ot}),[D,re,J,H,Qe,de,pe,N,O,oe,ze,ne,Be,Ee,ee,te,ot]),zn=f.useMemo(()=>({activatorEvent:H,activators:Et,active:D,activeNodeRect:J,ariaDescribedById:{draggable:G},dispatch:w,draggableNodes:N,over:ze,measureDroppableContainers:ne}),[H,Et,D,J,w,G,N,ze,ne]);return L.createElement(ije.Provider,{value:S},L.createElement(Tb.Provider,{value:zn},L.createElement(_je.Provider,{value:an},L.createElement(C8.Provider,{value:It},u)),L.createElement(YUt,{disabled:l?.restoreFocus===!1})),L.createElement(QFt,{...l,hiddenTextDescribedById:G}));function er(){const Rt=V?.autoScrollEnabled===!1,Xt=typeof c=="object"?c.enabled===!1:c===!1,Se=T&&!Rt&&!Xt;return typeof c=="object"?{...c,enabled:Se}:{enabled:Se}}}),ZUt=f.createContext(null),Sae="button",JUt="Draggable";function eBt(e){let{id:t,data:n,disabled:r=!1,attributes:s}=e;const a=Eb(JUt),{activators:i,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:h,over:m}=f.useContext(Tb),{role:g=Sae,roleDescription:v="draggable",tabIndex:x=0}=s??{},b=c?.id===t,w=f.useContext(b?C8:ZUt),[C,S]=o_(),[k,E]=o_(),T=BUt(i,t),j=ex(n);Ko(()=>(h.set(t,{id:t,key:a,node:C,activatorNode:k,data:j}),()=>{const R=h.get(t);R&&R.key===a&&h.delete(t)}),[h,t]);const N=f.useMemo(()=>({role:g,tabIndex:x,"aria-disabled":r,"aria-pressed":b&&g===Sae?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[r,g,x,b,v,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:N,isDragging:b,listeners:r?void 0:T,node:C,over:m,setNodeRef:S,setActivatorNodeRef:E,transform:w}}function Sje(){return f.useContext(_je)}const tBt="Droppable",nBt={timeout:25};function rBt(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:s}=e;const a=Eb(tBt),{active:i,dispatch:l,over:c,measureDroppableContainers:u}=f.useContext(Tb),d=f.useRef({disabled:n}),h=f.useRef(!1),m=f.useRef(null),g=f.useRef(null),{disabled:v,updateMeasurementsFor:x,timeout:b}={...nBt,...s},w=ex(x??r),C=f.useCallback(()=>{if(!h.current){h.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{u(Array.isArray(w.current)?w.current:[w.current]),g.current=null},b)},[b]),S=_8({callback:C,disabled:v||!i}),k=f.useCallback((N,R)=>{S&&(R&&(S.unobserve(R),h.current=!1),N&&S.observe(N))},[S]),[E,T]=o_(k),j=ex(t);return f.useEffect(()=>{!S||!E.current||(S.disconnect(),h.current=!1,S.observe(E.current))},[E,S]),f.useEffect(()=>(l({type:ds.RegisterDroppable,element:{id:r,key:a,disabled:n,node:E,rect:m,data:j}}),()=>l({type:ds.UnregisterDroppable,key:a,id:r})),[r]),f.useEffect(()=>{n!==d.current.disabled&&(l({type:ds.SetDroppableDisabled,id:r,key:a,disabled:n}),d.current.disabled=n)},[r,a,n,l]),{active:i,rect:m,isOver:c?.id===r,node:E,over:c,setNodeRef:T}}function sBt(e){let{animation:t,children:n}=e;const[r,s]=f.useState(null),[a,i]=f.useState(null),l=l_(n);return!n&&!r&&l&&s(l),Ko(()=>{if(!a)return;const c=r?.key,u=r?.props.id;if(c==null||u==null){s(null);return}Promise.resolve(t(u,a)).then(()=>{s(null)})},[t,r,a]),L.createElement(L.Fragment,null,n,r?f.cloneElement(r,{ref:i}):null)}const aBt={x:0,y:0,scaleX:1,scaleY:1};function iBt(e){let{children:t}=e;return L.createElement(Tb.Provider,{value:wje},L.createElement(C8.Provider,{value:aBt},t))}const oBt={position:"fixed",touchAction:"none"},lBt=e=>b8(e)?"transform 250ms ease":void 0,cBt=f.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:s,children:a,className:i,rect:l,style:c,transform:u,transition:d=lBt}=e;if(!l)return null;const h=s?u:{...u,scaleX:1,scaleY:1},m={...oBt,width:l.width,height:l.height,top:l.top,left:l.left,transform:tm.Transform.toString(h),transformOrigin:s&&r?JFt(r,l):void 0,transition:typeof d=="function"?d(r):d,...c};return L.createElement(n,{className:i,style:m,ref:t},a)}),uBt=e=>t=>{let{active:n,dragOverlay:r}=t;const s={},{styles:a,className:i}=e;if(a!=null&&a.active)for(const[l,c]of Object.entries(a.active))c!==void 0&&(s[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,c));if(a!=null&&a.dragOverlay)for(const[l,c]of Object.entries(a.dragOverlay))c!==void 0&&r.node.style.setProperty(l,c);return i!=null&&i.active&&n.node.classList.add(i.active),i!=null&&i.dragOverlay&&r.node.classList.add(i.dragOverlay),function(){for(const[c,u]of Object.entries(s))n.node.style.setProperty(c,u);i!=null&&i.active&&n.node.classList.remove(i.active)}},dBt=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:tm.Transform.toString(t)},{transform:tm.Transform.toString(n)}]},fBt={duration:250,easing:"ease",keyframes:dBt,sideEffects:uBt({styles:{active:{opacity:"0"}}})};function hBt(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:s}=e;return x8((a,i)=>{if(t===null)return;const l=n.get(a);if(!l)return;const c=l.node.current;if(!c)return;const u=bje(i);if(!u)return;const{transform:d}=Va(i).getComputedStyle(i),h=cje(d);if(!h)return;const m=typeof t=="function"?t:mBt(t);return gje(c,s.draggable.measure),m({active:{id:a,data:l.data,node:c,rect:s.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:i,rect:s.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:s,transform:h})})}function mBt(e){const{duration:t,easing:n,sideEffects:r,keyframes:s}={...fBt,...e};return a=>{let{active:i,dragOverlay:l,transform:c,...u}=a;if(!t)return;const d={x:l.rect.left-i.rect.left,y:l.rect.top-i.rect.top},h={scaleX:c.scaleX!==1?i.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?i.rect.height*c.scaleY/l.rect.height:1},m={x:c.x-d.x,y:c.y-d.y,...h},g=s({...u,active:i,dragOverlay:l,transform:{initial:c,final:m}}),[v]=g,x=g[g.length-1];if(JSON.stringify(v)===JSON.stringify(x))return;const b=r?.({active:i,dragOverlay:l,...u}),w=l.node.animate(g,{duration:t,easing:n,fill:"forwards"});return new Promise(C=>{w.onfinish=()=>{b?.(),C()}})}}let Mae=0;function pBt(e){return f.useMemo(()=>{if(e!=null)return Mae++,Mae},[e])}const bZt=L.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:s,transition:a,modifiers:i,wrapperElement:l="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:h,activeNodeRect:m,containerNodeRect:g,draggableNodes:v,droppableContainers:x,dragOverlay:b,over:w,measuringConfiguration:C,scrollableAncestors:S,scrollableAncestorRects:k,windowRect:E}=Sje(),T=f.useContext(C8),j=pBt(h?.id),N=Cje(i,{activatorEvent:d,active:h,activeNodeRect:m,containerNodeRect:g,draggingNodeRect:b.rect,over:w,overlayNodeRect:b.rect,scrollableAncestors:S,scrollableAncestorRects:k,transform:T,windowRect:E}),R=dz(m),O=hBt({config:r,draggableNodes:v,droppableContainers:x,measuringConfiguration:C}),I=R?b.setRef:void 0;return L.createElement(iBt,null,L.createElement(sBt,{animation:O},h&&j?L.createElement(cBt,{key:j,id:h.id,ref:I,as:l,activatorEvent:d,adjustScale:t,className:c,transition:a,rect:R,style:{zIndex:u,...s},transform:N},n):null))});function fz(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function gBt(e,t){return e.reduce((n,r,s)=>{const a=t.get(r);return a&&(n[s]=a),n},Array(e.length))}function d5(e){return e!==null&&e>=0}function vBt(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function yBt(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Mje=e=>{let{rects:t,activeIndex:n,overIndex:r,index:s}=e;const a=fz(t,r,n),i=t[s],l=a[s];return!l||!i?null:{x:l.left-i.left,y:l.top-i.top,scaleX:l.width/i.width,scaleY:l.height/i.height}},f5={scaleX:1,scaleY:1},wZt=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:s,rects:a,overIndex:i}=e;const l=(t=a[n])!=null?t:r;if(!l)return null;if(s===n){const u=a[i];return u?{x:0,y:n<i?u.top+u.height-(l.top+l.height):u.top-l.top,...f5}:null}const c=xBt(a,s,n);return s>n&&s<=i?{x:0,y:-l.height-c,...f5}:s<n&&s>=i?{x:0,y:l.height+c,...f5}:{x:0,y:0,...f5}};function xBt(e,t,n){const r=e[t],s=e[t-1],a=e[t+1];return r?n<t?s?r.top-(s.top+s.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const kje="Sortable",Eje=L.createContext({activeIndex:-1,containerId:kje,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Mje,disabled:{draggable:!1,droppable:!1}});function bBt(e){let{children:t,id:n,items:r,strategy:s=Mje,disabled:a=!1}=e;const{active:i,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=Sje(),h=Eb(kje,n),m=l.rect!==null,g=f.useMemo(()=>r.map(T=>typeof T=="object"&&"id"in T?T.id:T),[r]),v=i!=null,x=i?g.indexOf(i.id):-1,b=u?g.indexOf(u.id):-1,w=f.useRef(g),C=!vBt(g,w.current),S=b!==-1&&x===-1||C,k=yBt(a);Ko(()=>{C&&v&&d(g)},[C,g,v,d]),f.useEffect(()=>{w.current=g},[g]);const E=f.useMemo(()=>({activeIndex:x,containerId:h,disabled:k,disableTransforms:S,items:g,overIndex:b,useDragOverlay:m,sortedRects:gBt(g,c),strategy:s}),[x,h,k.draggable,k.droppable,S,g,b,c,m,s]);return L.createElement(Eje.Provider,{value:E},t)}const wBt=e=>{let{id:t,items:n,activeIndex:r,overIndex:s}=e;return fz(n,r,s).indexOf(t)},_Bt=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:s,items:a,newIndex:i,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!r||l!==a&&s===i?!1:n?!0:i!==s&&t===c},CBt={duration:200,easing:"ease"},Tje="transform",SBt=tm.Transition.toString({property:Tje,duration:0,easing:"linear"}),MBt={roleDescription:"sortable"};function kBt(e){let{disabled:t,index:n,node:r,rect:s}=e;const[a,i]=f.useState(null),l=f.useRef(n);return Ko(()=>{if(!t&&n!==l.current&&r.current){const c=s.current;if(c){const u=l0(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&i(d)}}n!==l.current&&(l.current=n)},[t,n,r,s]),f.useEffect(()=>{a&&i(null)},[a]),a}function EBt(e){let{animateLayoutChanges:t=_Bt,attributes:n,disabled:r,data:s,getNewIndex:a=wBt,id:i,strategy:l,resizeObserverConfig:c,transition:u=CBt}=e;const{items:d,containerId:h,activeIndex:m,disabled:g,disableTransforms:v,sortedRects:x,overIndex:b,useDragOverlay:w,strategy:C}=f.useContext(Eje),S=TBt(r,g),k=d.indexOf(i),E=f.useMemo(()=>({sortable:{containerId:h,index:k,items:d},...s}),[h,s,k,d]),T=f.useMemo(()=>d.slice(d.indexOf(i)),[d,i]),{rect:j,node:N,isOver:R,setNodeRef:O}=rBt({id:i,data:E,disabled:S.droppable,resizeObserverConfig:{updateMeasurementsFor:T,...c}}),{active:I,activatorEvent:B,activeNodeRect:D,attributes:z,setNodeRef:V,listeners:U,isDragging:H,over:q,setActivatorNodeRef:$,transform:G}=eBt({id:i,data:E,attributes:{...MBt,...n},disabled:S.draggable}),K=DFt(O,V),ee=!!I,oe=ee&&!v&&d5(m)&&d5(b),ne=!w&&H,te=ne&&oe?G:null,X=oe?te??(l??C)({rects:x,activeNodeRect:D,activeIndex:m,overIndex:b,index:k}):null,ce=d5(m)&&d5(b)?a({id:i,items:d,activeIndex:m,overIndex:b}):k,se=I?.id,J=f.useRef({activeId:se,items:d,newIndex:ce,containerId:h}),de=d!==J.current.items,ie=t({active:I,containerId:h,isDragging:H,isSorting:ee,id:i,index:k,items:d,newIndex:J.current.newIndex,previousItems:J.current.items,previousContainerId:J.current.containerId,transition:u,wasDragging:J.current.activeId!=null}),he=kBt({disabled:!ie,index:k,node:N,rect:j});return f.useEffect(()=>{ee&&J.current.newIndex!==ce&&(J.current.newIndex=ce),h!==J.current.containerId&&(J.current.containerId=h),d!==J.current.items&&(J.current.items=d)},[ee,ce,h,d]),f.useEffect(()=>{if(se===J.current.activeId)return;if(se!=null&&J.current.activeId==null){J.current.activeId=se;return}const ge=setTimeout(()=>{J.current.activeId=se},50);return()=>clearTimeout(ge)},[se]),{active:I,activeIndex:m,attributes:z,data:E,rect:j,index:k,newIndex:ce,items:d,isOver:R,isSorting:ee,isDragging:H,listeners:U,node:N,overIndex:b,over:q,setNodeRef:K,setActivatorNodeRef:$,setDroppableNodeRef:O,setDraggableNodeRef:V,transform:he??X,transition:pe()};function pe(){if(he||de&&J.current.newIndex===k)return SBt;if(!(ne&&!b8(B)||!u)&&(ee||ie))return tm.Transition.toString({...u,property:Tje})}}function TBt(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}function f_(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const NBt=[bn.Down,bn.Right,bn.Up,bn.Left],_Zt=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:s,droppableContainers:a,over:i,scrollableAncestors:l}}=t;if(NBt.includes(e.code)){if(e.preventDefault(),!n||!r)return;const c=[];a.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const m=s.get(h.id);if(m)switch(e.code){case bn.Down:r.top<m.top&&c.push(h);break;case bn.Up:r.top>m.top&&c.push(h);break;case bn.Left:r.left>m.left&&c.push(h);break;case bn.Right:r.left<m.left&&c.push(h);break}});const u=tUt({collisionRect:r,droppableRects:s,droppableContainers:c});let d=oje(u,"id");if(d===i?.id&&u.length>1&&(d=u[1].id),d!=null){const h=a.get(n.id),m=a.get(d),g=m?s.get(m.id):null,v=m?.node.current;if(v&&g&&h&&m){const b=w8(v).some((T,j)=>l[j]!==T),w=Nje(h,m),C=jBt(h,m),S=b||!w?{x:0,y:0}:{x:C?r.width-g.width:0,y:C?r.height-g.height:0},k={x:g.left,y:g.top};return S.x&&S.y?k:tx(k,S)}}}};function Nje(e,t){return!f_(e)||!f_(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function jBt(e,t){return!f_(e)||!f_(t)||!Nje(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function ABt(){const{value:e}=Fs({flag:"wormhole-widget",defaultValue:!1});return e}const jje=L.memo(({context:e="widget"})=>{const t=o.jsx(F,{variant:"tiny",color:"ultraLight",className:"flex size-full items-center justify-center text-center",children:"Wormhole Widget"});return e==="thumbnail"?t:o.jsx(Vr,{shadow:!0,className:"active:!bg-offset dark:active:!bg-offsetPlusDark aspect-[1/1] w-full overflow-hidden !rounded-2xl",children:t})}),Aje="pplx-top-sites-cache",RBt=()=>{try{const e=_t.getItem(Aje);return e?JSON.parse(e):[]}catch{return[]}},LBt=e=>{_t.setItem(Aje,JSON.stringify(e))},Rje=({maxUrls:e=15}={})=>{const t=Bs(),n=RBt();return Ft({queryKey:["topMostUrls"],queryFn:async()=>{const s=(await _Je({cometBrowser:t,maxUrls:e}))?.reduce((i,l)=>{const u=new URL(l.url).hostname;return(!i[u]||i[u].visitCount<l.visitCount)&&(i[u]=l),i},{})??{},a=Object.values(s);return LBt(a),a},placeholderData:n,staleTime:5*60*1e3})},Lje=[{type:"TOP_URLS",name:"Top Sites",singleton:!0,width:4},{type:"ANALOG_CLOCK",name:"Clock",settings:!0,width:1},{type:"STICKY",name:"Sticky",settings:!0,width:1},{type:"WEATHER",name:"Weather",settings:!0,singleton:!0,width:1},{type:"STOCK",name:"Stock",settings:!0,width:1},{type:"DISCOVER",name:"Discover",singleton:!0,width:1},{type:"ASSISTANT",name:"Assistant",settings:!0,width:1},{type:"WORMHOLE",name:"Wormhole",singleton:!0,width:1},{type:"ZEN",name:"Zen",singleton:!0,width:1}],h_="comet-widgets",ug="comet-widgets-content",Dv=[{id:"default-analog-clock",type:"ANALOG_CLOCK"},{id:"default-assistant",type:"ASSISTANT"},{id:"default-stock",type:"STOCK"},{id:"default-weather",type:"WEATHER"},{id:"top-most-urls",type:"TOP_URLS"}];function OBt(e){return Lje.find(t=>t.type===e)}function PBt(){if(_t.getItem(ug))return;const t=_t.getItem(h_);if(t)try{const n=JSON.parse(t),r={},s=n.map(a=>{if(a.content){const{content:i,...l}=a;return r[a.id]=i,l}return{id:a.id,type:a.type}});_t.setItem(h_,JSON.stringify(s)),_t.setItem(ug,JSON.stringify(r))}catch{}}function IBt(){PBt();const e=_t.getItem(h_);if(!e)return Dv;try{const t=JSON.parse(e);return!t||!Array.isArray(t)?Dv:t.every(r=>r.id&&r.type&&typeof r.type=="string")?t:(Oje(Dv),Dv)}catch{return Dv}}function Oje(e){_t.setItem(h_,JSON.stringify(e))}function DBt(e){const t=_t.getItem(ug);if(!t)return!1;try{return!!JSON.parse(t)[e]}catch{return!1}}function Nb(e,t){const n=_t.getItem(ug);if(!n)return null;let r=null;try{r=JSON.parse(n)[t]}catch{return null}return typeof r!="object"||r===null?null:{version:1,...r}}function jb(e,t,n){const r=_t.getItem(ug);let s={};if(r)try{s=JSON.parse(r)}catch{s={}}s[t]=n,_t.setItem(ug,JSON.stringify(s))}const kae="widget-analytics-last-sent",FBt=6*60*60*1e3,UBt=e=>{const{trackEvent:t}=Ye();f.useEffect(()=>{const n=Date.now(),r=_t.getItem(kae),s=r?parseInt(r,10):0;if(n-s<FBt)return;const a={},i=[];e.forEach(l=>{a[l.type]=(a[l.type]||0)+1,DBt(l.id)&&i.push(l.type)}),t("comet home widgets viewed",{enabledWidgets:a,widgetsWithSettings:i}),_t.setItem(kae,n.toString())},[e,t])},Eae="set-default-browser-promo-settings-cache",BBt=()=>{const{value:e}=oC({flag:"set-default-browser-banner-promo",defaultValue:{}}),[t,n]=f.useState(()=>{const r=_t.getItem(Eae);return r?JSON.parse(r):!1});return f.useEffect(()=>{e!==t&&(n(e),_t.setItem(Eae,JSON.stringify(e)))},[e,t]),t},h5="comet_default_browser_banner_data",VBt=4,zBt=24,HBt=60*60*1e3,WBt=({source:e})=>{const t=Bs(),[n,r]=f.useState(null),[s,a]=f.useState(!1),i=BBt(),{trackEvent:l}=Ye(),c=typeof i.promoCooldownPeriodHours<"u"&&typeof i.promoMaxCloseCount<"u",u=f.useCallback(g=>{if(g===0)return!1;const v=Date.now()-g,x=HBt*(i?.promoCooldownPeriodHours??zBt);return v<x},[i?.promoCooldownPeriodHours]);f.useEffect(()=>{(async()=>{try{const v=await t.getIsCometDefaultBrowser("check_default_browser");r(v)}catch{r(null)}})()},[t]),f.useEffect(()=>{(()=>{const v=_t.getItem(h5);if(!v){a(!1);return}try{const x=JSON.parse(v);if(x.count>=(i?.promoMaxCloseCount??VBt)){a(!0);return}if(u(x.lastClosedTime)){a(!0);return}a(!1)}catch{_t.removeItem(h5),a(!1)}})()},[i?.promoMaxCloseCount,u]);const d=f.useCallback(()=>{const g=_t.getItem(h5);let v;try{v=g?JSON.parse(g):{count:0,lastClosedTime:0}}catch{v={count:0,lastClosedTime:0}}if(u(v.lastClosedTime)){a(!0);return}const x={count:v.count+1,lastClosedTime:Date.now()};l("default browser upsell closed",{closedCount:v.count,cometSurface:e}),_t.setItem(h5,JSON.stringify(x)),a(!0)},[e,l,u]),h=f.useCallback(async()=>{try{await t.setCometAsDefaultBrowser("set_default_browser"),r(!0),l("default browser upsell selected",{cometSurface:e})}catch{}},[t,e,l]),m=c&&n===!1&&!s;return f.useMemo(()=>({shouldShowBanner:m,handleBannerClose:d,setDefaultBrowser:h}),[m,d,h])},xm=L.memo(({onClose:e,children:t})=>o.jsx(Ng,{portalTarget:document.body,children:o.jsxs("div",{className:"fixed inset-0 flex size-full flex-col items-center justify-center",children:[o.jsx(je.div,{onClick:e,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:Wo,className:"bg-backdrop/70 absolute inset-0"}),o.jsx(je.div,{initial:{y:6,opacity:0},animate:{y:0,opacity:1},exit:{y:6,opacity:0},transition:Wo,className:"w-full max-w-[360px]",children:o.jsx(Vr,{className:"shadow-overlay dark:shadow-overlayDark border-none",children:t})})]})}));xm.displayName="WidgetModal";function $Bt(e="widget",t,n){if(e==="widget"){const r=Nb("ASSISTANT",t);if(r)return{version:1,query:r.query??n??""}}return{version:1,query:n??""}}function Tae(e,t="widget",n){t==="widget"&&jb("ASSISTANT",n,e)}const Pje=L.memo(({context:e="widget",defaultQuery:t,widgetId:n,showSettings:r,setShowSettings:s})=>{const a=$Bt(e,n,t),{$t:i}=ae(),l=Qt(),[c,u]=f.useState(a.query||""),d=f.useRef(Ni(S=>{Tae({query:S.query,version:1},e,n)},1e3));f.useEffect(()=>{const S=d.current.flush;return()=>{S()}},[d]);const h=S=>{const k=S.target.value;u(k),d.current({query:k})},m=o.jsxs("div",{className:W("flex size-full flex-col p-3",{"p-3":e==="thumbnail"}),style:{zoom:e==="thumbnail"?.75:1},children:[o.jsx(F,{color:"super",children:o.jsx(Ne,{icon:dm,size:"lg"})}),o.jsx(F,{variant:"smallBold",color:"default",className:"mt-auto line-clamp-5 text-balance",children:c||""})]}),g=f.useCallback(()=>l.push(`/search/new?q=${encodeURIComponent(c||"")}`),[l,c]),v=f.useCallback(()=>s?.(!1),[s]),x=f.useCallback(()=>{Tae({query:c||"",version:1},e,n),s?.(!1)},[s,c,e,n]),b=f.useCallback(()=>u(i({defaultMessage:"what is my schedule for today",id:"5xGy4y8knY"})),[i]),w=f.useCallback(()=>u(i({defaultMessage:"group my tabs by topic",id:"uDBqWc5SFP"})),[i]),C=f.useCallback(()=>u(i({defaultMessage:"search for trending news",id:"E4T4sT/ZCb"})),[i]);return e==="thumbnail"?m:o.jsxs(o.Fragment,{children:[o.jsx(Vr,{shadow:!0,className:"aspect-[1/1] w-full cursor-pointer select-none overflow-hidden !rounded-2xl",onClick:g,children:o.jsx(Kn,{hoverOnly:!0,className:"size-full",children:o.jsx(Q,{variant:"raised",className:"hover:bg-offset dark:hover:bg-offsetPlusDark size-full transition duration-300",children:m})})}),o.jsx(kt,{children:r&&o.jsx(xm,{onClose:v,children:o.jsxs("div",{className:"flex flex-col gap-3 px-5 py-4",children:[o.jsxs("div",{children:[o.jsx(F,{variant:"entry-title-300",children:i({defaultMessage:"Assistant query",id:"FyiOOCgH1j"})}),o.jsx(F,{variant:"small",color:"light",children:i({defaultMessage:"Save assistant queries that you use often.",id:"p2agK1deUX"})})]}),o.jsx("div",{children:o.jsxs("div",{className:"text-textMain scrollbar-hidden relative whitespace-pre-wrap break-words px-3 py-2 text-sm after:content-['\\200B']",children:[o.jsx("span",{className:"invisible",children:c||""}),o.jsx("textarea",{className:"bg-background text-textMain border-borderMain placeholder-textOff focus:ring-borderMain absolute inset-[-1px] size-full resize-none overflow-hidden rounded-md border px-3 py-2 text-sm outline-none focus:outline-none focus:ring-1",value:c||"",onChange:h})]})}),o.jsx("div",{children:o.jsxs(F,{variant:"tinyRegular",color:"light",children:[i({defaultMessage:"For example",id:"qbXH6UvD6V"}),":"," ",o.jsx(F,{as:"a",role:"button",variant:"tinyRegular",color:"super",onClick:b,children:i({defaultMessage:"what is my schedule for today",id:"5xGy4y8knY"})}),","," ",o.jsx(F,{as:"a",role:"button",variant:"tinyRegular",color:"super",onClick:w,children:i({defaultMessage:"group my tabs by topic",id:"uDBqWc5SFP"})}),","," ",o.jsx(F,{as:"a",role:"button",variant:"tinyRegular",color:"super",onClick:C,children:i({defaultMessage:"search for trending news",id:"E4T4sT/ZCb"})}),"."]})}),o.jsx("div",{className:"flex flex-row justify-end",children:o.jsx(Le,{variant:"primary",size:"small",onClick:x,text:i({defaultMessage:"Done",id:"JXdbo8Vnlw"})})})]})})})]})}),qBt=e=>({"x-loc-latitude":e.latitude.toString(),"x-loc-longitude":e.longitude.toString()}),GBt=async e=>{let t;e&&(t=qBt(e));const{data:n,error:r}=await me.GET("/rest/homepage-widgets/clock/current-location","clock-widget-current-location",{headers:t});if(r)throw new pt("API_CLIENTS_ERROR",{message:"Failed to fetch clock current location",cause:r});return n},Ije="clock-current-location-cache",UO={geonameid:5391959,name:"San Francisco",latitude:37.77493,longitude:-122.41942,countrycode:"US",population:864816,timezone:"America/Los_Angeles",timezone_offset:-25200};function YBt(){try{const e=_t.getItem(Ije);if(e)return JSON.parse(e)}catch{}return null}function KBt(e){try{_t.setItem(Ije,JSON.stringify(e))}catch{}}function QBt(e="widget",t){if(e==="widget"){const n=Nb("ANALOG_CLOCK",t);if(n)return n.version===1?{version:2,city:n.city,useCurrentLocation:!n.city}:n}return{version:2,city:UO,useCurrentLocation:!0}}function Nae(e,t="widget",n){t==="widget"&&jb("ANALOG_CLOCK",n,e)}const XBt=()=>{const{location:e}=qg(),t=YBt();return Ft({queryKey:["clock-current-location",e?.latitude,e?.longitude],queryFn:async()=>{const n=await GBt(e);return n&&KBt(n),n},staleTime:5*60*1e3,gcTime:10*60*1e3,retry:1,refetchOnWindowFocus:!1,refetchOnReconnect:!1,placeholderData:t})},ZBt=(e,t="widget")=>{const n=QBt(t,e),[r,s]=f.useState(n),{data:a,isLoading:i}=XBt(),l=f.useMemo(()=>r.useCurrentLocation&&a?{name:a.name||"Your Location",timezone:a.timezone,country:a.country}:r.city||UO,[r.useCurrentLocation,a,r.city]),c=f.useCallback(d=>{const h={...r,...d};s(h),Nae(h,t,e)},[r,t,e]),u=f.useCallback((d,h)=>{const m={...r,city:d,useCurrentLocation:d?!1:h??!0};s(m),Nae(m,t,e)},[r,t,e]);return f.useMemo(()=>({selectedCity:l,settings:r,currentLocationData:a??null,isLoading:i,updateSettings:c,saveCity:u}),[l,r,a,i,c,u])},JBt=async({query:e="",limit:t=10,reason:n})=>{try{const{error:r,data:s}=await me.GET("/rest/homepage-widgets/cities-autosuggests",n,{params:{query:{query:e,limit:t}},timeoutMs:2e3});if(r)throw new pt("API_CLIENTS_ERROR",{message:"Failed to get cities autosuggestions",cause:r});return s.data??[]}catch(r){return le.error(r),[]}},eVt=({query:e="",limit:t=5,reason:n})=>Ft({queryKey:["cities",e,t],queryFn:()=>JBt({query:e,limit:t,reason:n}),enabled:e?.trim().length>0,staleTime:5*60*1e3,gcTime:30*60*1e3}),tVt=100,nVt=()=>o.jsx("div",{className:"flex h-full flex-col items-center justify-center",children:o.jsx(it,{icon:$r,size:"small",pill:!0})}),rVt=()=>o.jsx("div",{className:"w-sm"}),sVt=({onClear:e})=>o.jsx(it,{icon:yn,size:"tiny",pill:!0,onClick:e}),hz=L.memo(({widgetId:e,showCity:t=!1,showSettings:n,setShowSettings:r,context:s="widget"})=>{const{$t:a}=ae(),{colorScheme:i}=ba(),l=i==="dark",c=f.useRef(!0),{isMobileUserAgent:u}=qe(),d="clock-widget-settings",{selectedCity:h,settings:m,updateSettings:g,saveCity:v}=ZBt(e,s),x=f.useRef(null),[b,w]=f.useState(h.name??""),[C,S]=f.useState(-1),[k,E]=f.useState(!1);f.useEffect(()=>{w(h.name??"")},[h.name]);const{data:T=[]}=eVt({query:b,limit:tVt,reason:d}),j=f.useMemo(()=>T.map(J=>({query:J.name,title:J.name,description:`${J.countrycode} · ${J.timezone}`,identifier:J.geonameid.toString()})),[T]),[N,R]=f.useState(new Date);f.useEffect(()=>{const J=setInterval(()=>{R(new Date)},1e3);return()=>clearInterval(J)},[]);const O=J=>J*6,I=J=>J*6,B=J=>J*30,D=TR(N,h.timezone),z=O(D.getSeconds()),V=I(D.getMinutes()),U=B(D.getHours()+D.getMinutes()/60),H=f.useCallback(()=>{E(!0)},[]),q=f.useCallback(()=>{E(!1)},[]),$=f.useCallback(J=>{w(J)},[]),G=()=>{w("")},K=f.useCallback(J=>T.find(de=>de.geonameid.toString()===J),[T]),ee=f.useCallback(J=>{if(!J.identifier)return;const de=K(J.identifier);de&&(g({city:de,useCurrentLocation:!1}),w(de.name),v(de,!1))},[K,g,v]),oe=f.useCallback((J,de)=>{ee(J)},[ee]);f.useEffect(()=>{if(c.current){c.current=!1;return}},[h,s,e]);const ne=o.jsxs("div",{className:W("relative size-full p-2",{"pb-7 pt-2":t}),children:[o.jsxs("div",{className:"relative mx-auto aspect-square max-h-full max-w-full",children:[s==="widget"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"absolute right-[calc(25%+4px)] top-1/2 -translate-y-1/2 translate-x-1/2",children:o.jsx(F,{variant:"tinyMono",className:"scale-[70%]",children:o.jsx(VPe,{value:N,hour:"numeric",minute:"2-digit",timeZone:h.timezone})})}),o.jsx("div",{className:"absolute left-[calc(25%+4px)] top-1/2 -translate-x-1/2 -translate-y-1/2",children:o.jsx(F,{variant:"tinyMono",className:"scale-[70%] uppercase",children:o.jsx(zPe,{value:N,weekday:"short",timeZone:h.timezone})})})]}),o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",viewBox:"0 0 142 142",fill:"none",children:[o.jsx("path",{fill:l?"#fff":"#000",d:"M71 130a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-1 0v-11a.5.5 0 0 1 .5-.5M40.817 122.278a.5.5 0 1 1 .867.5l-5.5 9.527a.5.5 0 0 1-.867-.5zM100.501 122.094a.5.5 0 0 1 .683.183l5.5 9.527a.5.5 0 0 1-.867.5l-5.5-9.527a.5.5 0 0 1 .184-.683M19.222 100.316a.5.5 0 0 1 .5.867l-9.527 5.5a.5.5 0 0 1-.5-.867zM122.096 100.499a.5.5 0 0 1 .683-.183l9.527 5.5a.501.501 0 0 1-.5.867l-9.527-5.5a.5.5 0 0 1-.183-.684M11.5 70.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1zM141.5 70.5a.5.5 0 0 1 0 1h-11a.5.5 0 0 1 0-1zM9.513 35.499a.5.5 0 0 1 .682-.183l9.527 5.5a.5.5 0 1 1-.5.867l-9.527-5.5a.5.5 0 0 1-.182-.684M131.806 35.316a.5.5 0 1 1 .5.867l-9.527 5.5a.5.5 0 0 1-.5-.867zM105.817 9.694a.5.5 0 0 1 .867.5l-5.5 9.527a.501.501 0 0 1-.867-.5zM35.501 9.51a.5.5 0 0 1 .683.183l5.5 9.527a.5.5 0 0 1-.867.5l-5.5-9.527a.5.5 0 0 1 .184-.682M71 0a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-1 0V.5A.5.5 0 0 1 71 0"}),o.jsx("path",{fill:l?"#444":"#CCC",d:"M63.997 137.633a.5.5 0 0 1 .445.549l-.314 2.984a.5.5 0 1 1-.994-.105l.313-2.983a.5.5 0 0 1 .55-.445M78.004 137.632a.5.5 0 0 1 .55.444l.313 2.984a.5.5 0 1 1-.994.105l-.314-2.984a.5.5 0 0 1 .445-.549M84.932 136.538a.5.5 0 0 1 .593.385l.623 2.934a.5.5 0 1 1-.977.208l-.624-2.934a.5.5 0 0 1 .385-.593M57.07 136.532a.5.5 0 0 1 .385.593l-.624 2.934a.5.5 0 1 1-.979-.208l.624-2.933a.5.5 0 0 1 .593-.386M91.706 134.722a.5.5 0 0 1 .63.321l.927 2.853a.5.5 0 0 1-.95.309l-.928-2.853a.5.5 0 0 1 .32-.63M49.666 135.04a.5.5 0 0 1 .951.309l-.928 2.853a.499.499 0 1 1-.95-.309zM98.25 132.208a.5.5 0 0 1 .661.254l1.221 2.74a.5.5 0 0 1-.914.407l-1.22-2.741a.5.5 0 0 1 .253-.66M43.089 132.46a.5.5 0 0 1 .913.407l-1.22 2.74a.5.5 0 0 1-.914-.406zM30.92 125.315a.5.5 0 0 1 .81.588l-1.763 2.427a.5.5 0 0 1-.81-.588zM110.383 125.203a.5.5 0 0 1 .698.11l1.764 2.428a.5.5 0 0 1-.81.587l-1.763-2.427a.5.5 0 0 1 .111-.698M115.835 120.79a.5.5 0 0 1 .706.037l2.007 2.229a.5.5 0 1 1-.743.669l-2.007-2.228a.5.5 0 0 1 .037-.707M25.464 120.825a.5.5 0 1 1 .743.669l-2.008 2.229a.5.5 0 0 1-.743-.668zM120.794 115.833a.5.5 0 0 1 .706-.037l2.229 2.007a.499.499 0 1 1-.669.743l-2.229-2.007a.5.5 0 0 1-.037-.706M20.504 115.793a.5.5 0 1 1 .669.743l-2.23 2.007a.5.5 0 0 1-.669-.743zM125.204 110.382a.5.5 0 0 1 .698-.111l2.428 1.764a.5.5 0 0 1-.588.809l-2.428-1.763a.5.5 0 0 1-.11-.699M16.098 110.27a.5.5 0 0 1 .587.809l-2.427 1.764a.5.5 0 1 1-.587-.809zM9.133 97.998a.5.5 0 0 1 .407.913l-2.741 1.221a.5.5 0 0 1-.407-.914zM132.209 98.25a.5.5 0 0 1 .66-.253l2.74 1.22a.5.5 0 0 1-.406.914l-2.741-1.22a.5.5 0 0 1-.253-.66M134.723 91.703a.5.5 0 0 1 .63-.321l2.854.927a.5.5 0 0 1-.31.95l-2.852-.926a.5.5 0 0 1-.322-.63M6.652 91.382a.5.5 0 0 1 .31.95l-2.854.928a.5.5 0 1 1-.308-.952zM137.133 84.545l2.934.623a.501.501 0 0 1-.208.978l-2.934-.624a.5.5 0 1 1 .208-.977M4.873 84.543a.5.5 0 1 1 .208.977l-2.935.624a.5.5 0 0 1-.208-.978zM141.167 77.872a.5.5 0 0 1-.105.995l-2.984-.313a.5.5 0 0 1 .104-.996zM3.818 77.558a.5.5 0 0 1 .105.995l-2.984.313a.5.5 0 0 1-.104-.994zM3.923 63.447a.5.5 0 0 1-.105.995l-2.983-.314a.5.5 0 1 1 .104-.994zM141.062 63.133a.5.5 0 0 1 .105.995l-2.985.313a.5.5 0 0 1-.104-.995zM2.148 55.852l2.935.624a.5.5 0 1 1-.208.979L1.94 56.83a.5.5 0 0 1 .208-.979M139.857 55.85a.5.5 0 0 1 .208.979l-2.934.624a.5.5 0 0 1-.208-.979zM3.477 49.058a.5.5 0 0 1 .631-.32l2.853.927a.5.5 0 1 1-.309.951L3.8 49.688a.5.5 0 0 1-.322-.63M137.898 48.737a.5.5 0 1 1 .309.951l-2.853.927a.5.5 0 0 1-.309-.951zM6.14 42.12a.5.5 0 0 1 .66-.253l2.74 1.22a.5.5 0 1 1-.406.914l-2.742-1.22a.5.5 0 0 1-.253-.66M135.202 41.868a.5.5 0 0 1 .407.914l-2.741 1.22a.5.5 0 1 1-.406-.913zM13.56 29.267a.5.5 0 0 1 .699-.11l2.426 1.764a.5.5 0 0 1-.587.808l-2.427-1.763a.5.5 0 0 1-.112-.699M127.742 29.156a.5.5 0 0 1 .588.809l-2.428 1.763a.5.5 0 0 1-.588-.81zM18.24 23.492a.5.5 0 0 1 .706-.037l2.23 2.008a.5.5 0 0 1-.67.743l-2.229-2.008a.5.5 0 0 1-.037-.706M123.057 23.452a.5.5 0 0 1 .67.743l-2.229 2.008a.5.5 0 0 1-.67-.743zM23.494 18.236a.5.5 0 0 1 .707.037l2.007 2.23a.5.5 0 1 1-.743.669l-2.007-2.23a.5.5 0 0 1 .036-.706M117.804 18.27a.5.5 0 0 1 .743.67l-2.007 2.229a.5.5 0 1 1-.743-.67zM112.035 13.67a.5.5 0 0 1 .809.589l-1.763 2.426a.5.5 0 0 1-.81-.587zM29.268 13.558a.5.5 0 0 1 .699.11l1.763 2.428a.5.5 0 0 1-.81.588l-1.762-2.427a.5.5 0 0 1 .11-.699M42.12 6.139a.5.5 0 0 1 .661.253l1.22 2.74a.5.5 0 0 1-.913.408l-1.22-2.741a.5.5 0 0 1 .253-.66M99.219 6.391a.5.5 0 1 1 .913.407l-1.22 2.74a.5.5 0 0 1-.914-.406zM49.061 3.476a.5.5 0 0 1 .631.32l.927 2.854a.5.5 0 0 1-.951.31l-.927-2.854a.5.5 0 0 1 .32-.63M92.31 3.795a.5.5 0 1 1 .951.308l-.927 2.854a.5.5 0 1 1-.951-.31zM56.24 1.554a.5.5 0 0 1 .593.384l.624 2.935a.5.5 0 0 1-.979.208l-.623-2.935a.5.5 0 0 1 .385-.592M85.762 1.548a.5.5 0 0 1 .384.593l-.624 2.934a.5.5 0 1 1-.977-.208l.623-2.934a.5.5 0 0 1 .593-.385M78.422.389a.5.5 0 0 1 .445.55l-.314 2.983a.5.5 0 0 1-.995-.105l.314-2.983a.5.5 0 0 1 .55-.445M63.579.388a.5.5 0 0 1 .55.445l.313 2.983a.5.5 0 0 1-.994.105L63.135.937a.5.5 0 0 1 .444-.55"})]}),o.jsx(je.div,{initial:{rotate:V},animate:{rotate:[V,V+360]},transition:{duration:3600,repeat:1/0,repeatType:"loop",direction:"forward",ease:"linear"},className:"absolute inset-0",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",viewBox:"0 0 142 142",fill:"none",children:o.jsx("path",{fill:l?"#fff":"#000",fillRule:"evenodd",d:"M71 2a2 2 0 0 1 2 2v60c0 .74-.403 1.383-1 1.73v2.444A2.998 2.998 0 0 1 71 74a3 3 0 0 1-1-5.826v-2.445c-.597-.346-1-.99-1-1.729V4a2 2 0 0 1 2-2m0 68a1 1 0 1 0 0 2 1 1 0 0 0 0-2",clipRule:"evenodd"})})}),o.jsx(je.div,{initial:{rotate:U},animate:{rotate:[U,U+360]},transition:{duration:43200,repeat:1/0,repeatType:"loop",direction:"forward",ease:"linear"},className:"absolute inset-0",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",viewBox:"0 0 142 142",fill:"none",children:o.jsx("path",{fill:l?"#fff":"#000",fillRule:"evenodd",d:"M71 24a2 2 0 0 1 2 2v38c0 .74-.403 1.383-1 1.73v2.444A2.998 2.998 0 0 1 71 74a3 3 0 0 1-1-5.826v-2.445c-.597-.346-1-.99-1-1.729V26a2 2 0 0 1 2-2m0 46a1 1 0 1 0 0 2 1 1 0 0 0 0-2",clipRule:"evenodd"})})}),o.jsx(je.div,{initial:{rotate:z},animate:{rotate:[z,z+360]},transition:{duration:60,repeat:1/0,repeatType:"loop",direction:"forward",ease:"linear"},className:"absolute inset-0",children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",viewBox:"0 0 142 142",fill:"none",children:[o.jsx("path",{fill:"#FF7323",d:"M71 2a.75.75 0 0 1 .75.75v66.397a2 2 0 0 1 0 3.706v3.397a.75.75 0 0 1-1.5 0v-3.397a1.999 1.999 0 0 1 0-3.706V2.75A.75.75 0 0 1 71 2"}),o.jsx("circle",{cx:71,cy:71,r:1,fill:"#fff"})]})})]}),t&&o.jsx(F,{variant:"tiny",color:"default",className:"pointer-events-none flex h-7 select-none items-center justify-center",children:o.jsx("div",{className:"overflow-hidden text-ellipsis whitespace-nowrap px-2",children:h.name})})]}),te=W("h-10 rounded-md p-4 dark:[&:focus]:ring-0",{"rounded-t-md rounded-b-none":k&&j.length>0,"opacity-50":!!m.useCurrentLocation}),re=f.useMemo(()=>({LeftIconComponent:rVt,RightIconComponent:nVt}),[]),X=f.useCallback(()=>r?.(!1),[r]),ce=f.useCallback(J=>{g({useCurrentLocation:J})},[g]),se=f.useCallback(()=>{r?.(!1)},[r]);return s==="thumbnail"?ne:o.jsxs(o.Fragment,{children:[o.jsx(Vr,{shadow:!0,className:"active:!bg-offset dark:active:!bg-offsetPlusDark aspect-[1/1] w-full overflow-hidden !rounded-2xl",children:o.jsx(Nt,{draggable:!1,href:`/search/new?q=${a({defaultMessage:"what time is it in {location}",id:"NbMaPyS+lK"},{location:h.name})}`,className:"relative block size-full",children:ne})}),o.jsx(kt,{children:n&&o.jsx(xm,{onClose:X,children:o.jsxs("div",{className:"flex flex-col gap-3 px-5 py-4",children:[o.jsx(F,{variant:"entry-title-300",children:a({defaultMessage:"Select city",id:"twZBdKGll7"})}),o.jsx(Dx,{isOpen:k&&j.length>0,suggestedQueries:j,focusedIndex:C,setFocusedIndex:S,handlePasteQuery:Yn,handleSubmit:oe,value:b??"",components:re,dropdownClassName:"dark:border-none dark:ml-0 dark:mr-0 dark:w-full max-h-[250px] overflow-y-auto",dropdownType:"select",popoverClassName:"dark:!border-none",children:o.jsx(lf,{disable1pass:!0,disabled:m.useCurrentLocation,onFocus:H,onBlur:q,className:te,pill:!1,ref:x,isMobileUserAgent:u,placeholder:a({defaultMessage:"New York, London, Tokyo...",id:"iJ+co77mIp"}),value:b,onChange:$,ClearIcon:sVt,...b.length>0?{onClear:G}:{}})}),o.jsxs("label",{htmlFor:"use-current-location",className:"gap-sm flex w-fit flex-row items-center",children:[o.jsx(VF,{id:"use-current-location",checked:!!m.useCurrentLocation,toggleChecked:ce}),o.jsx(F,{variant:"small",color:"light",children:a({defaultMessage:"Use current location",id:"Z2NE7X6xxg"})})]}),o.jsx("div",{className:"mt-sm flex flex-row justify-end",children:o.jsx(Le,{variant:"primary",size:"small",onClick:se,text:a({defaultMessage:"Done",id:"JXdbo8Vnlw"})})})]})})})]})});hz.displayName="ClockWidget";const BO=L.memo(({variant:e,className:t,colorVariant:n,text:r,lines:s=1})=>{const i=f.useMemo(()=>({height:"50%"}),[.5]);return o.jsxs("div",{className:`relative grid items-center ${t}`,children:[o.jsx("div",{className:"col-start-1 row-start-1 flex h-full w-full flex-col",children:Array.from({length:s}).map((l,c)=>o.jsx("div",{className:"flex h-full items-center",children:o.jsx(Q,{className:W("rounded-full",{"w-full":c!==s-1||s===1,"w-1/2":c===s-1&&s>1}),variant:n??"offsetPlus",style:i})},c))}),o.jsx(F,{variant:e,color:"light",className:"pointer-events-none col-start-1 row-start-1 opacity-0",children:Array.from({length:s}).map((l,c)=>o.jsxs(L.Fragment,{children:[r??o.jsx(o.Fragment,{children:" "}),c<s-1&&o.jsx("br",{})]},c))})]})});BO.displayName="TextBlockSkeleton";const mz=L.memo(({showSettings:e,setShowSettings:t,context:n="widget"})=>{const{$t:r}=ae(),{locale:s}=ae(),a=ae(),i=s?{"accept-language":s}:{},[l,c]=f.useState(!1),{data:u}=Ft({queryKey:Ic("top",s),queryFn:()=>F0t({headers:i,options:{topic:"top",limit:20},reason:"Discover widget"}),refetchInterval:n==="thumbnail"?void 0:1e3*60*5}),d=u?.threads[0]?.updated_datetime.endsWith("Z")?u?.threads[0]?.updated_datetime:`${u?.threads[0]?.updated_datetime}Z`,h=u?.threads[0]?.featured_images?.[0]?.thumbnail;f.useEffect(()=>{c(!1)},[h]);const m=u?.threads[0]?o.jsx("div",{className:W("h-full w-full transform-gpu rounded-2xl"),children:o.jsxs("div",{className:"gap-sm flex h-full flex-1 flex-col justify-between p-2.5 pb-0",style:{zoom:n==="thumbnail"?.75:1},children:[h&&!l&&o.jsxs(o.Fragment,{children:[o.jsx("img",{src:h,alt:"Discover",className:"absolute inset-0 size-full object-cover",onError:()=>{c(!0)}},h),o.jsx("div",{className:"absolute inset-0 bg-black/50"}),o.jsx("div",{className:"absolute inset-0 bg-black",style:{maskImage:"linear-gradient(to bottom, transparent 50%, black)"}})]}),o.jsxs("div",{className:W("absolute inset-0 flex flex-col items-start justify-end gap-1 p-2",{"drop-shadow-md":!l}),children:[o.jsx(F,{variant:"micro",color:l?"default":"white",className:"opacity-60",children:PC(a,new Date(d))}),o.jsx(F,{variant:"smallBold",color:l?"default":"white",className:"w-full break-words",children:u?.threads[0].title})]})]})}):o.jsx("div",{className:"bg-offset size-full",children:o.jsxs("div",{className:"absolute inset-0 flex w-full flex-col items-start justify-end gap-1 p-2",children:[o.jsx(BO,{variant:"micro",colorVariant:"offsetPlus",className:"w-10 opacity-75 dark:opacity-60"}),o.jsx(BO,{variant:"smallBold",colorVariant:"offsetPlus",lines:3,className:"w-full"})]})}),g=f.useCallback(()=>t?.(!1),[t]);return n==="thumbnail"?m:o.jsxs(o.Fragment,{children:[o.jsx(Vr,{shadow:!0,fullBleed:!0,className:"aspect-[1/1] w-full overflow-hidden !rounded-2xl",children:o.jsx(Nt,{href:`/page/${u?.threads[0]?.slug}`,className:"block",children:o.jsx("div",{className:"absolute inset-0 select-none",children:m})})}),o.jsx(kt,{children:e&&o.jsx(xm,{onClose:g,children:o.jsx("div",{className:"flex flex-col gap-3 px-5 py-4",children:o.jsx(F,{variant:"entry-title-300",children:r({defaultMessage:"Discover settings",id:"Kf1JUdlcaI"})})})})})]})});mz.displayName="DiscoverWidget";const pz=f.memo(({context:e="widget"})=>{const t=o.jsx("div",{className:W("relative h-full w-full cursor-pointer",{"active:!bg-offset dark:active:!bg-offsetPlusDark p-3":e==="widget","p-2":e==="thumbnail"}),children:o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",fill:"none",viewBox:"0 0 142 142",children:[o.jsx("rect",{width:16,height:16,fill:"#EFF0F5",rx:2}),o.jsx("rect",{width:16,height:16,y:21,fill:"#356D34",rx:2}),o.jsx("rect",{width:16,height:16,y:42,fill:"#9DE5A4",rx:2}),o.jsx("rect",{width:16,height:16,y:63,fill:"#53A451",rx:2}),o.jsx("rect",{width:16,height:16,y:84,fill:"#EFF0F5",rx:2}),o.jsx("rect",{width:16,height:16,y:105,fill:"#EFF0F5",rx:2}),o.jsx("rect",{width:16,height:16,y:126,fill:"#EFF0F5",rx:2}),o.jsx("rect",{width:16,height:16,x:21,fill:"#EFF0F5",rx:2}),o.jsx("rect",{width:16,height:16,x:21,y:21,fill:"#53A451",rx:2}),o.jsx("rect",{width:16,height:16,x:21,y:42,fill:"#9DE5A4",rx:2}),o.jsx("rect",{width:16,height:16,x:21,y:63,fill:"#53A451",rx:2}),o.jsx("rect",{width:16,height:16,x:21,y:84,fill:"#53A451",rx:2}),o.jsx("rect",{width:16,height:16,x:21,y:105,fill:"#53A451",rx:2}),o.jsx("rect",{width:16,height:16,x:21,y:126,fill:"#9DE5A4",rx:2}),o.jsx("rect",{width:16,height:16,x:42,fill:"#9DE5A4",rx:2}),o.jsx("rect",{width:16,height:16,x:42,y:21,fill:"#69CD67",rx:2}),o.jsx("rect",{width:16,height:16,x:42,y:42,fill:"#9DE5A4",rx:2}),o.jsx("rect",{width:16,height:16,x:42,y:63,fill:"#9DE5A4",rx:2}),o.jsx("rect",{width:16,height:16,x:42,y:84,fill:"#9DE5A4",rx:2}),o.jsx("rect",{width:16,height:16,x:42,y:105,fill:"#9DE5A4",rx:2}),o.jsx("rect",{width:16,height:16,x:42,y:126,fill:"#EFF0F5",rx:2}),o.jsx("rect",{width:16,height:16,x:63,fill:"#EFF0F5",rx:2}),o.jsx("rect",{width:16,height:16,x:63,y:21,fill:"#69CD67",rx:2}),o.jsx("rect",{width:16,height:16,x:63,y:42,fill:"#53A451",rx:2}),o.jsx("rect",{width:16,height:16,x:63,y:63,fill:"#53A451",rx:2}),o.jsx("rect",{width:16,height:16,x:63,y:84,fill:"#69CD67",rx:2}),o.jsx("rect",{width:16,height:16,x:63,y:105,fill:"#69CD67",rx:2}),o.jsx("rect",{width:16,height:16,x:63,y:126,fill:"#EFF0F5",rx:2}),o.jsx("rect",{width:16,height:16,x:84,fill:"#EFF0F5",rx:2}),o.jsx("rect",{width:16,height:16,x:84,y:21,fill:"#53A451",rx:2}),o.jsx("rect",{width:16,height:16,x:84,y:42,fill:"#9DE5A4",rx:2}),o.jsx("rect",{width:16,height:16,x:84,y:63,fill:"#69CD67",rx:2}),o.jsx("rect",{width:16,height:16,x:84,y:84,fill:"#53A451",rx:2}),o.jsx("rect",{width:16,height:16,x:84,y:105,fill:"#53A451",rx:2}),o.jsx("rect",{width:16,height:16,x:84,y:126,fill:"#EFF0F5",rx:2}),o.jsx("rect",{width:16,height:16,x:105,fill:"#9DE5A4",rx:2}),o.jsx("rect",{width:16,height:16,x:105,y:21,fill:"#69CD67",rx:2}),o.jsx("rect",{width:16,height:16,x:105,y:42,fill:"#356D34",rx:2}),o.jsx("rect",{width:16,height:16,x:105,y:63,fill:"#53A451",rx:2}),o.jsx("rect",{width:16,height:16,x:105,y:84,fill:"#356D34",rx:2}),o.jsx("rect",{width:16,height:16,x:105,y:105,fill:"#53A451",rx:2}),o.jsx("rect",{width:16,height:16,x:105,y:126,fill:"#9DE5A4",rx:2}),o.jsx("rect",{width:16,height:16,x:126,fill:"#9DE5A4",rx:2}),o.jsx("rect",{width:16,height:16,x:126,y:21,fill:"#69CD67",rx:2}),o.jsx("rect",{width:16,height:16,x:126,y:42,fill:"#9DE5A4",rx:2}),o.jsx("rect",{width:16,height:16,x:126,y:63,fill:"#EFF0F5",rx:2}),o.jsx("rect",{width:16,height:16,x:126,y:84,fill:"#9DE5A4",rx:2}),o.jsx("rect",{width:16,height:16,x:126,y:105,fill:"#EFF0F5",rx:2}),o.jsx("rect",{width:16,height:16,x:126,y:126,fill:"#EFF0F5",rx:2})]})});return e==="thumbnail"?t:o.jsx(Vr,{shadow:!0,className:"aspect-[1/1] w-full overflow-hidden !rounded-2xl",children:o.jsx(Nt,{href:"https://github.com/",className:"cursor-pointer",children:t})})});pz.displayName="GitHubWidget";const Dje=e=>{switch(e){case"YELLOW":return"bg-yellow-100 dark:bg-yellow-950";case"BLUE":return"bg-blue-100 dark:bg-blue-950";case"RED":return"bg-red-100 dark:bg-red-950";case"GREEN":return"bg-green-100 dark:bg-green-950";default:return"bg-yellow-100 dark:bg-yellow-950"}},aVt=e=>{switch(e){case"YELLOW":return"placeholder-yellow-500 dark:placeholder-yellow-700";case"BLUE":return"placeholder-blue-500 dark:placeholder-blue-700";case"RED":return"placeholder-red-500 dark:placeholder-red-700";case"GREEN":return"placeholder-green-500 dark:placeholder-green-700";default:return"placeholder-yellow-500 dark:placeholder-yellow-700"}},jae=e=>{switch(e){case"YELLOW":return"text-yellow-700 dark:text-yellow-200";case"BLUE":return"text-blue-700 dark:text-blue-200";case"RED":return"text-red-700 dark:text-red-200";case"GREEN":return"text-green-700 dark:text-green-200";default:return"text-yellow-700 dark:text-yellow-200"}};function iVt(e="widget",t,n){if(e==="widget"){const r=Nb("STICKY",t);if(r)return{text:r.text??n??"",color:r.color??"YELLOW"}}return{text:n??"",color:"YELLOW"}}function oVt(e,t="widget",n){t==="widget"&&jb("STICKY",n,{version:1,text:e.text,color:e.color})}const gz=L.memo(({context:e="widget",defaultText:t,widgetId:n,showSettings:r,setShowSettings:s})=>{const{$t:a}=ae(),i=iVt(e,n,t),[l,c]=f.useState(()=>i.text),[u,d]=f.useState(()=>i.color),h=f.useRef(B_(E=>{oVt({...E},e,n)},200));f.useEffect(()=>{const E=h.current.flush;return()=>{E()}},[h]);const m=E=>{const T=E.target.value;c(T),h.current({text:T,color:u})},g=["YELLOW","BLUE","RED","GREEN"],v=a({defaultMessage:"Milk",id:"2ohof39xN+"}),x=a({defaultMessage:"Eggs",id:"rMvDs1YU+D"}),b=a({defaultMessage:"Bread",id:"0n2Uqvcq4W"}),w=o.jsxs("div",{className:"relative flex size-full cursor-pointer flex-col",style:{zoom:e==="thumbnail"?.75:1},children:[o.jsx("div",{className:W("absolute inset-0",Dje(u))}),e==="widget"?o.jsx("textarea",{className:W("z-1 scrollbar-none absolute inset-0 resize-none bg-transparent p-4 font-sans text-sm focus:outline-none",aVt(u),jae(u)),autoCorrect:"false",placeholder:a({defaultMessage:"New note...",id:"i+imRH5ndN"}),value:l,onChange:m,style:{maskImage:"linear-gradient(to top, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 16px, rgba(0,0,0,1) calc(100% - 16px), rgba(0,0,0,0) 100%)"}}):o.jsx("div",{className:"z-1 absolute inset-0 p-4",children:o.jsxs(F,{variant:"baseSemi",className:jae(u),children:["- ",v,o.jsx("br",{}),"- ",x,o.jsx("br",{}),"- ",b,o.jsx("br",{})]})})]}),C=f.useCallback(()=>s?.(!1),[s]),S=f.useMemo(()=>L.memo(({value:E})=>{const T=f.useCallback(()=>{d(E),h.current({text:l,color:E})},[E]);return o.jsx(lVt,{color:E,onClick:T,selected:E===u})}),[u,l]),k=f.useCallback(()=>s?.(!1),[s]);return e==="thumbnail"?w:o.jsxs(o.Fragment,{children:[o.jsx(Vr,{shadow:!0,fullBleed:!0,className:"aspect-[1/1] w-full overflow-hidden !rounded-2xl",children:w}),o.jsx(kt,{children:r&&o.jsx(xm,{onClose:k,children:o.jsxs("div",{className:"flex flex-col gap-3 px-5 py-4",children:[o.jsx(F,{variant:"entry-title-300",children:a({defaultMessage:"Sticky color",id:"d1DnFHvFSU"})}),o.jsx("div",{className:"gap-sm grid w-full grid-cols-4",children:g.map((E,T)=>o.jsx(S,{value:E},T))}),o.jsx("div",{className:"mt-sm flex flex-row justify-end",children:o.jsx(Le,{variant:"primary",size:"small",onClick:C,text:a({defaultMessage:"Done",id:"JXdbo8Vnlw"})})})]})})})]})});gz.displayName="Sticky";const lVt=({color:e,onClick:t,selected:n})=>o.jsxs(je.div,{whileTap:{scale:.95},onClick:t,className:W("relative aspect-square size-full cursor-pointer rounded-full",Dje(e)),children:[n&&o.jsx("div",{className:"border-background absolute inset-1 rounded-full border-4"}),o.jsx("div",{className:"rounded-inherit pointer-events-none absolute inset-0 z-[1] border border-[black]/5 dark:border-[white]/5"})]}),Fje=({value:e,format:t,suffix:n,animated:r=!0})=>{const{locale:s}=ae();return o.jsx("span",{children:Intl.NumberFormat(s,t).format(e)})},cVt=(e,t,n)=>{const r=()=>{t.removeEventListener("scrollend",r),n?.()};n&&t.addEventListener("scrollend",r),t.scrollTo({top:e,behavior:"smooth"})},uVt=60;function VO(e){const t=e.scrollHeight,n=e.clientHeight,r=e.scrollTop;return Math.abs(t-n-r)<=1}const dVt=()=>{const{scrollContainerRef:e}=Mu(),t=f.useCallback(()=>{if(!e?.current)return;const n=e.current,r=n.querySelector("#coin50-section");if(!r)return;const s=r.getBoundingClientRect().top,a=n.scrollTop,i=s+a-uVt;cVt(i,n)},[e]);return f.useMemo(()=>({scrollToCoin50Section:t}),[t])},Vn=0,In=1,Dn="finance",CZt=e=>["finance/topMovers",e];async function SZt({marketType:e,headers:t}){const n=await me.GET("/rest/finance/top-movers/{market_type}",Dn,{params:{path:{market_type:e}},headers:t,timeoutMs:Vn,numRetries:In});if(n.error)throw new Error("Failed to fetch top movers.",{cause:n.error});return n.data}const MZt=async({symbol:e,category:t,period:n})=>{const r=await me.POST("/rest/finance/financials/{market_identifier}/analysis",Dn,{params:{path:{market_identifier:e}},body:{category:t,period:n},timeoutMs:1e4,numRetries:In});if(r.error)throw new Error(`Failed to fetch financial insights for ${e}`,{cause:r.error});return r.data},kZt=async({symbol:e,period:t,startDate:n,endDate:r,headers:s})=>{const a=await me.GET("/rest/finance/history/{market_identifier}",Dn,{params:{query:{period:t,start_date:n,end_date:r},path:{market_identifier:e}},headers:s,timeoutMs:Vn,numRetries:In});if(a.error)throw new Error(`Failed to fetch price history for ${e}`,{cause:a.error});return a.data},EZt=e=>["finance/quote",e],fVt=async({symbol:e,headers:t})=>{const n=await me.GET("/rest/finance/quote/{market_identifier}",Dn,{params:{path:{market_identifier:e}},headers:t,timeoutMs:Vn,numRetries:In});if(n.response.status===404)return null;if(n.error)throw new Error(`Failed to fetch quote for ${e}`,{cause:n.error});return n.data},TZt=e=>["finance/profile",e],NZt=async({symbol:e,headers:t})=>{const n=await me.GET("/rest/finance/profile/{market_identifier}",Dn,{params:{path:{market_identifier:e}},headers:t,timeoutMs:Vn,numRetries:In});if(n.response.status===404)return null;if(n.error)throw new Error(`Failed to fetch profile for ${e}`,{cause:n.error});return n.data},jZt=(e,t,n="",r="")=>["finance/history",t,e,n,r],AZt=async(e,t)=>{const n=await me.GET("/rest/finance/financials/{market_identifier}",Dn,{params:{path:{market_identifier:e}},headers:t,timeoutMs:Vn,numRetries:In});if(n.error)throw new Error(`Failed to fetch financials for ${e}`,{cause:n.error});return n.data};function RZt(e){return["finance/peers",e]}async function LZt({symbol:e,headers:t}){const n=await me.GET("/rest/finance/peers/{market_identifier}",Dn,{params:{path:{market_identifier:e}},headers:t,timeoutMs:Vn,numRetries:In});if(n.error)throw new Error(`Failed to fetch peers for ${e}`,{cause:n.error});return n.data}async function OZt({symbol:e,headers:t}){const n=await me.GET("/rest/finance/bulls-vs-bears-summary/{market_identifier}",Dn,{params:{path:{market_identifier:e}},headers:t,timeoutMs:Vn,numRetries:In});if(n.error)throw new Error(`Failed to fetch bulls vs bears analysis for ${e}`,{cause:n.error});return n.data}async function PZt({symbol:e,headers:t}){const n=await me.GET("/rest/finance/timeline/{market_identifier}",Dn,{params:{path:{market_identifier:e}},headers:t,timeoutMs:0});if(n.error)throw new Error(`Failed to fetch timeline for ${e}`,{cause:n.error});return n.data}const IZt=(e,t)=>["finance/transcript",e,t];async function DZt({eventId:e,symbol:t,headers:n}){const r=await me.GET("/rest/finance/earnings/{market_identifier}/transcript/{event_id}",Dn,{headers:n,params:{path:{market_identifier:t,event_id:e}},timeoutMs:Vn,numRetries:In});if(r.response.status===404)return null;if(r.error)throw new Error(`Failed to fetch earnings transcript for ${t}`,{cause:r.error});return r.data}const FZt=(e,t)=>["finance/analysis",e,t];async function UZt({eventId:e,symbol:t,headers:n}){const r=await me.GET("/rest/finance/earnings/{market_identifier}/analysis/{event_id}",Dn,{params:{path:{market_identifier:t,event_id:e}},headers:n,timeoutMs:Vn,numRetries:In});if(r.error)throw new Error(`Failed to fetch earnings analysis for ${t}`,{cause:r.error});return r.data}const BZt=(e,t)=>["finance/documents",e,t];async function VZt({eventId:e,symbol:t,headers:n}){const r=await me.GET("/rest/finance/earnings/{market_identifier}/documents/{event_id}",Dn,{params:{path:{market_identifier:t,event_id:e}},headers:n,timeoutMs:Vn,numRetries:In});if(r.error)throw new Error(`Failed to fetch earnings documents for ${t}`,{cause:r.error});return r.data}const zZt=e=>["finance/documents",e];async function HZt({symbol:e,headers:t}){const n=await me.GET("/rest/finance/documents/{market_identifier}",Dn,{params:{path:{market_identifier:e}},headers:t,timeoutMs:Vn,numRetries:In});if(n.error)throw new Error(`Failed to fetch documents for ${e}`,{cause:n.error});return n.data}const WZt=async(e,t)=>{const n=await me.GET("/rest/finance/documents/download/{document_id}",Dn,{params:{path:{document_id:e}},headers:t,timeoutMs:Vn,numRetries:In});if(n.error)throw new Error(`Failed to fetch document download url for ${e}`,{cause:n.error});return{errorCode:n.data?.error_code??null,presignedUrl:n.data?.presigned_url??null}},$Zt=e=>["finance/earnings",e];async function qZt({symbol:e,headers:t}){const n=await me.GET("/rest/finance/earnings/{market_identifier}",Dn,{params:{path:{market_identifier:e}},headers:t,timeoutMs:Vn,numRetries:In});if(n.response.status===404)return[];if(n.error)throw new Error(`Failed to fetch earnings for ${e}`,{cause:n.error});return n.data}async function GZt({marketType:e,headers:t}){const n=await me.GET("/rest/finance/{market_type}",Dn,{headers:t,params:{path:{market_type:e}},timeoutMs:Vn,numRetries:In});if(n.error)throw new Error(`Failed to fetch finance page shared data for ${e}`,{cause:n.error});return n.data}const hVt=(e,t)=>["finance/top-indices",e,t];async function mVt({groupId:e,headers:t,includeHistory:n}){const r=await me.GET("/rest/finance/top-indices/{group_id}",Dn,{headers:t,params:{path:{group_id:e},query:{include_history:n}},timeoutMs:Vn,numRetries:In});if(r.error)throw new Error("Failed to fetch top indices",{cause:r.error});return r.data}const YZt=e=>["finance/watchlist-quotes",e??""];async function KZt({headers:e}={}){const t=await me.GET("/rest/finance/watchlist-quotes",Dn,{headers:e,timeoutMs:Vn,numRetries:In});if(t.error)throw new Error("Failed to fetch watchlist quotes",{cause:t.error});return t.data}async function QZt(){const e=await me.GET("/rest/finance/equity-sectors",Dn,{timeoutMs:Vn,numRetries:In});if(e.error)throw new Error("Failed to fetch equity sectors",{cause:e.error});return e.data}async function XZt(){const e=await me.GET("/rest/finance/fixed-income",Dn,{timeoutMs:Vn,numRetries:In});if(e.error)throw new Error("Failed to fetch fixed income",{cause:e.error});return e.data}async function ZZt({marketType:e}){const t=await me.GET("/rest/finance/market-sentiment/{market_type}",Dn,{params:{path:{market_type:e}},timeoutMs:Vn,numRetries:In});if(t.error)throw new Error("Failed to fetch market sentiment",{cause:t.error});return t.data}async function JZt({marketType:e,headers:t}){const n=await me.GET("/rest/finance/top-z-scores/{market_type}",Dn,{params:{path:{market_type:e}},headers:t,timeoutMs:Vn,numRetries:In});if(n.error)throw new Error("Failed to fetch top z scores",{cause:n.error});return n.data}async function eJt({symbol:e}){const t=await me.GET("/rest/finance/mover-details/{market_identifier}",Dn,{params:{path:{market_identifier:e}},timeoutMs:Vn,numRetries:In});if(t.error)throw new Error("Failed to fetch ticker details",{cause:t.error});const n=t.data;return{symbol:n.symbol,z_score:n.z_score,name:n.name,price:n.price,change:n.change,pe_ratio:n.pe_ratio,dividend_yield:n.dividend_yield,changesPercentage:n.changesPercentage,marketCap:n.marketCap,volume:n.volume,historical_prices:n.historical_prices,image:n.image}}async function tJt({marketIdentifier:e,locale:t}){const n=await me.GET("/rest/finance/significant-movement-summary/{market_identifier}",Dn,{params:{path:{market_identifier:e}},headers:{"Accept-Language":t},timeoutMs:Vn,numRetries:In});if(n.error)throw new Error("Failed to fetch significant movement summary",{cause:n.error});return n.data}const nJt=e=>["finance/news",e];async function rJt({symbol:e,headers:t}){const n=await me.GET("/rest/finance/news/{market_identifier}",Dn,{params:{path:{market_identifier:e}},headers:t,timeoutMs:Vn,numRetries:In});if(n.error)throw new Error("Failed to fetch news",{cause:n.error});return n.data}async function sJt({marketType:e,headers:t}){const n=await me.GET("/rest/finance/market-summary/{market_type}",Dn,{params:{path:{market_type:e}},headers:t,timeoutMs:Vn,numRetries:In});if(n.error)throw new Error("Failed to fetch market summary",{cause:n.error});return n.data}async function aJt({marketType:e,headers:t}){const n=await me.GET("/rest/finance/general-news/{market_type}",Dn,{params:{path:{market_type:e}},headers:t,timeoutMs:Vn,numRetries:In});if(n.error)throw new Error("Failed to fetch general news",{cause:n.error});return n.data}const iJt=(e,t,n)=>["finance/crypto-leaderboard",e,t,n];async function oJt({sortBy:e="dollarVolume24h",orderBy:t="desc",provider:n="coinbase",headers:r}){const s=await me.GET("/rest/finance/leaderboard/crypto",Dn,{params:{query:{sort_by:e,order_by:t,provider:n}},timeoutMs:Vn,numRetries:In,headers:r});if(s.error)throw new Error("Failed to fetch crypto leaderboard",{cause:s.error});return s.data}const lJt=(e,t,n)=>["finance/earnings/schedule",e,t,n];async function cJt(e,t,n){const r=await me.GET("/rest/finance/earnings/schedule",Dn,{params:{query:{start_date:e,end_date:t,timezone:n}},timeoutMs:Vn,numRetries:In});if(r.error)throw new Error("Failed to fetch earnings schedule",{cause:r.error});return r.data}const uJt=(e,t)=>["finance/earnings",e,t];async function dJt(e,t){const n=await me.GET("/rest/finance/earnings",Dn,{params:{query:{date:e,timezone:t}},timeoutMs:Vn,numRetries:In});if(n.error)throw new Error("Failed to fetch earnings schedule",{cause:n.error});return n.data}async function fJt(){const{data:e,error:t}=await me.GET("/rest/autosuggest/finance/list-autosuggest",Dn,{params:{query:{query:""}},timeoutMs:Vn,numRetries:In});if(t)throw new Error("Failed to fetch trending companies",{cause:t});return e.results.filter(n=>n.category==="ticker")}const hJt=e=>["finance/screener",e];async function mJt({query:e,headers:t}){const n=await me.GET("/rest/finance/screener",Dn,{params:{query:{query:e}},headers:t,timeoutMs:Vn,numRetries:In});if(n.error)throw new Error("Failed to fetch screener data.",{cause:n.error});return n.data}const zO=({change:e,variant:t="small",includeIcon:n=!1,className:r,animated:s=!0,background:a=!0,mono:i=!0,format:l={style:"percent",minimumFractionDigits:0,maximumFractionDigits:e/100>1?0:2}})=>o.jsxs(F,{variant:t,color:e>0?"positive":"negative",className:W("flex shrink-0 grow-0 items-center justify-center gap-[0.1em] rounded text-center font-mono",{"bg-positive/10":e>0&&a,"bg-negative/10":e<0&&a,"px-[0.6em] py-[0.15em]":a,"!pl-[0.3em]":a&&n},r),children:[n?o.jsx(Ne,{icon:e>0?_l:oHe,className:W("inline-flex size-[1.2em]",{"!mt-px":i})}):o.jsx("span",{className:i?"font-mono":"",children:e>0?"+":"-"}),o.jsx("span",{className:i?"font-mono":"",children:o.jsx(Fje,{value:Math.abs(e)/100,format:l,animated:s})})]}),Uje=e=>{const{trackEvent:t}=Ye();return{onClick:f.useCallback((r,s)=>{switch(e){case"discover":t("discover home widget clicked",{widgetType:r,destinationUrl:s});break;case"market":case"crypto":t("finance homepage widget clicked",{pageType:e,widgetType:r,destinationUrl:s});break}},[t,e])}},pJt=({enter:e,exit:t})=>{const{trackEvent:n}=Ye(),r=f.useRef(performance.now()),s=f.useRef(!0);f.useEffect(()=>{n(e,{});const a=()=>{s.current&&n(t,{timeOnPageMs:Math.ceil(performance.now()-r.current)})},i=()=>{document.hidden?(a(),s.current=!1):(r.current=performance.now(),s.current=!0)};return document.addEventListener("visibilitychange",i),window.addEventListener("beforeunload",a),()=>{document.removeEventListener("visibilitychange",i),window.removeEventListener("beforeunload",a),a()}},[n,e,t])},H2=e=>new Date(e.date),ew=e=>e.close,pVt={blue:I7e,red:D7e},gVt={blue:F7e,red:U7e},Bje=({history:e,symbol:t,valence:n,width:r=150,height:s=25,strokeWidth:a=1.2,className:i})=>{const{colorScheme:l}=ba(),c=f.useMemo(()=>[...e],[e]),u=f.useMemo(()=>{const v=l==="dark"?pVt:gVt;return n==="positive"?v.blue:v.red},[l,n]),d=f.useMemo(()=>tb({domain:Kc(c,H2),range:[0,r]}),[c,r]),h=f.useMemo(()=>$1({domain:Kc(c,ew),range:[s,0]}),[c,s]),m=f.useMemo(()=>pm().x(v=>d(H2(v))??0).y(v=>h(ew(v))??0).curve(mSt),[d,h]),g=f.useMemo(()=>m(c),[m,c]);return o.jsxs("svg",{height:s,width:r,viewBox:`0 0 ${r} ${s}`,className:W("overflow-visible",i),children:[o.jsx("path",{d:g,stroke:u,strokeWidth:a,fill:"none",shapeRendering:"geometricPrecision"}),o.jsx(DS,{from:`${u}22`,to:`${u}00`,id:`ticker-line-${t}`}),o.jsx(Y1,{data:c,x:v=>d(H2(v))??0,y:v=>h(ew(v))??0,yScale:h,fill:`url(#ticker-line-${t})`})]})},vVt=({ticker:e})=>{const{onClick:t}=Uje("crypto"),{scrollToCoin50Section:n}=dVt(),r=()=>{t("top_indices","scroll"),n()};return o.jsx("div",{className:"min-w-0 shrink-0 cursor-pointer",onClick:r,children:o.jsx(vz,{symbol:e.symbol,name:e.name,price:e.price,change:e.change,history:e.historical_prices})})},yVt=({ticker:e,marketType:t})=>{const{onClick:n}=Uje(t),r=()=>{n("top_indices",`/finance/${e.symbol}`)};return o.jsx(BS,{href:`/finance/${e.symbol}`,className:"min-w-0 shrink-0",onClick:r,children:o.jsx(vz,{symbol:e.symbol,name:e.name,price:e.price,change:e.change,history:e.historical_prices})})},xVt=e=>Ft({queryKey:hVt(e,!0),queryFn:()=>mVt({groupId:e,includeHistory:!0}),refetchInterval:1e3*30}),gJt=({groupId:e,className:t})=>{const{data:n,isLoading:r}=xVt(e);return o.jsx(bVt,{groupId:e,data:n,isLoading:r,className:t})},bVt=({groupId:e,className:t,data:n,isLoading:r})=>(eS("mini-graphs",{skip:!n}),o.jsxs("div",{className:t,children:[n?.map(s=>o.jsx(Q,{children:s.symbol==="COIN50USD"?o.jsx(vVt,{ticker:s}):o.jsx(yVt,{ticker:s,marketType:e})},`markets-${s.symbol}`)),r&&[1,2,3,4].map(s=>o.jsx(wVt,{},s))]})),vz=({symbol:e,name:t,price:n,change:r,history:s})=>{const a=r/(n-r)*100,i=e.replace("%5E",""),l=t,{isXLargeScreen:c}=Vx(),u=n>1e6?n/1e6:n,d=n>1e6?"M":"",h=f.useMemo(()=>s?.toSorted((x,b)=>H2(x).getTime()-H2(b).getTime()),[s]),m=n-r,g=h?.[h.length-1],v=g&&ew(g)>m?"positive":"negative";return o.jsxs(Vr,{className:"py-sm gap-xs hover:shadow-subtle flex select-none flex-col transition-all duration-200 hover:scale-[1.02]",children:[o.jsxs("div",{className:"px-sm min-w-0",children:[o.jsxs("div",{className:"gap-xs flex min-w-0 items-center justify-between",children:[o.jsx(F,{variant:"smallBold",className:"min-w-0 truncate",children:l}),o.jsx(zO,{className:"translate-x-xs",change:a,variant:"tiny",includeIcon:!0})]}),o.jsxs("div",{className:"gap-sm flex items-center justify-between",children:[o.jsx(F,{variant:"micro",color:"light",className:"whitespace-nowrap",children:i}),o.jsx(zO,{className:"-translate-x-two mt-px",change:r*100,background:!1,variant:"micro",format:{style:"currency",currency:"USD",trailingZeroDisplay:"stripIfInteger"}})]})]}),h&&h.length>0&&o.jsx("div",{className:"my-sm flex w-full",children:o.jsx("div",{className:"px-sm flex flex-1",children:o.jsx(Bje,{history:h,symbol:e,valence:v,className:"h-auto w-0 flex-1",strokeWidth:c?1.6:1})})}),o.jsx(F,{variant:"baseSemi",className:"px-sm -mb-xs -mt-xs",children:o.jsx(Fje,{value:u,format:{style:"currency",currency:"USD",trailingZeroDisplay:"stripIfInteger"},suffix:d})})]})},wVt=L.memo(()=>o.jsxs(Kn,{className:"relative","aria-hidden":"true",children:[o.jsx("div",{className:"invisible",children:o.jsx(vz,{symbol:"XXX",name:"XXX",price:100,change:100,history:[{date:"2025-01-01",close:100},{date:"2025-01-02",close:100}]})}),o.jsx("div",{className:"absolute inset-0",children:o.jsxs(Vr,{className:"py-sm gap-xs flex h-full flex-col",children:[o.jsxs("div",{className:"px-sm",children:[o.jsxs("div",{className:"gap-sm flex items-center justify-between",children:[o.jsx(Q,{variant:"offset",className:"shimmer dark:bg-offsetPlusDark h-4 w-3/5 max-w-24 rounded"}),o.jsx(Q,{variant:"offset",className:"shimmer dark:bg-offsetPlusDark h-5 w-1/4 max-w-12 rounded-full"})]}),o.jsxs("div",{className:"gap-sm mt-xs flex items-center justify-between",children:[o.jsx(Q,{variant:"offset",className:"shimmer dark:bg-offsetPlusDark h-3 w-1/4 max-w-10 rounded"}),o.jsx(Q,{variant:"offset",className:"shimmer dark:bg-offsetPlusDark h-3 w-1/3 max-w-14 rounded"})]})]}),o.jsx("div",{className:"mx-sm my-xs flex-1",children:o.jsx(Q,{variant:"offset",className:"shimmer dark:bg-offsetPlusDark h-full w-full rounded"})}),o.jsx("div",{className:"px-sm",children:o.jsx(Q,{variant:"offset",className:"shimmer dark:bg-offsetPlusDark h-5 w-2/5 max-w-20 rounded"})})]})})]})),WN=["1d","5d","1m","6m","ytd","1y","5y","max"],m5=new Set;async function _Vt({period:e,symbols:t,headers:n,existingFailedPeriods:r=[],reason:s}){const a=WN.indexOf(e),i=[...r].filter(l=>!m5.has(l));for(let l=a;l<WN.length;l++){const c=WN[l];if(i.includes(c)&&!m5.has(c))continue;const u=await me.GET("/rest/finance/prices/{period}/{market_identifiers}",s,{params:{path:{period:c,market_identifiers:t.join(",")}},headers:n,timeoutMs:Vn,numRetries:In});if(u.error){m5.has(c)||i.push(c),le.error("Failed to fetch FMP prices",{url:`/rest/finance/prices/${c}/${t.join(",")}`,error:u.error,status:u.response.status,statusText:u.response.statusText});continue}return m5.add(c),{...u.data.data,failedPeriods:i}}return null}const Vje="stock-widget-quote-cache",zje="stock-widget-prices-cache",tw="NVDA",CVt=60*1e3,SVt=5*60*1e3,MVt=60*1e3,kVt=30*1e3,EVt=5*60*1e3,TVt=60*1e3,NVt=150,Aae=50,jVt=24*60*60*1e3,AVt=.1,RVt=10,LVt=5;function OVt(e){try{const t=_t.getItem(`${Vje}-${e}`);if(t){const n=JSON.parse(t);if(Date.now()-n.timestamp<CVt)return n.data}}catch{}return null}function PVt(e,t){try{const n={symbol:e,data:t,timestamp:Date.now()};_t.setItem(`${Vje}-${e}`,JSON.stringify(n))}catch{}}function IVt(e,t){try{const n=_t.getItem(`${zje}-${e}-${t}`);if(n){const r=JSON.parse(n);if(Date.now()-r.timestamp<SVt)return r.data}}catch{}return null}function DVt(e,t,n){try{const r={symbol:e,period:t,data:n,timestamp:Date.now()};_t.setItem(`${zje}-${e}-${t}`,JSON.stringify(r))}catch{}}function FVt(e="widget",t="default"){if(e!=="widget")return{version:1,symbol:tw};const n=Nb("STOCK",t);return n?{version:1,symbol:n.symbol??tw}:{version:1,symbol:tw}}function UVt(e,t="widget",n="default"){t==="widget"&&jb("STOCK",n,{version:1,symbol:e.symbol})}const BVt=(e="default",t="widget")=>{const n=FVt(t,e),[r,s]=f.useState(n),a="stock-widget",{data:i}=o1e({watchlistType:"FINANCE",reason:a}),l=r.symbol||i?.[0]?.identifier||tw,c=OVt(l),u=IVt(l,"1d"),{data:d,isLoading:h}=Ft({queryKey:["finance/quote",l],queryFn:async()=>{const j=await fVt({symbol:l});return j&&PVt(l,j),j},refetchInterval:MVt,staleTime:kVt,refetchOnMount:!0,refetchOnWindowFocus:!0,refetchOnReconnect:!0,enabled:!0,placeholderData:c}),{data:m,isLoading:g}=Ft({queryKey:["finance/prices",l,"1d"],queryFn:async()=>{const j=await _Vt({period:"1d",symbols:[l],reason:"stock-widget"});return j&&DVt(l,"1d",j),j},refetchInterval:EVt,staleTime:TVt,refetchOnMount:!0,refetchOnWindowFocus:!0,refetchOnReconnect:!0,enabled:!0,placeholderData:u}),v=d||c,x=m||u,b=!!(d&&m),w={symbol:l,price:"---.--",changesPercentage:"--%",change:"--$",exchange:"--",currency:"USD"},C={history:{prices:[{symbol:l,entries:Array.from({length:Aae},(j,N)=>({date:new Date(Date.now()-(Aae-1-N)*jVt).toISOString(),price:NVt+Math.sin(N*AVt)*RVt+Math.random()*LVt})),exchange:"--",currency:"USD"}]}},S=v||w,k=x||C,E=f.useMemo(()=>k?.history?.prices?k.history.prices.map(j=>({symbol:j.symbol,entries:j.entries.map(N=>({date:N.date,price:N.price})).toSorted((N,R)=>new Date(N.date).getTime()-new Date(R.date).getTime()),exchange:j.exchange||S?.exchange||"",currency:j.currency||S?.currency||"USD"})):[],[k,S]),T=f.useCallback(j=>{s(j),UVt(j,t,e)},[s,t,e]);return f.useMemo(()=>({symbol:l,quote:S,prices:E,isLoading:h||g,hasError:!1,hasRealData:b,stockSettings:r,updateStockSettings:T}),[l,S,E,h,g,b,r,T])},VVt=({symbol:e,src:t,srcDark:n,className:r})=>{n=n??t;const[s,a]=f.useState(!1),i=f.useRef(null),{colorScheme:l}=ba(),c=()=>{i.current&&i.current.naturalHeight>0&&a(!1)};f.useEffect(()=>{i.current&&(i.current.complete&&i.current.naturalHeight===0?a(!0):a(!1))},[i]);const u=l==="dark"?n:t;return o.jsx("div",{className:W("size-lg p-xs flex shrink-0 items-center justify-center",r),children:s||!u?o.jsx(zVt,{symbol:e}):o.jsx("img",{ref:i,src:u,alt:e,className:"rounded-[4px] object-contain",onError:()=>{a(!0)},onLoad:c})})},zVt=({symbol:e})=>o.jsx("div",{className:"size-lg flex shrink-0 items-center justify-center",children:o.jsx(Q,{variant:"offsetPlus",className:"flex size-[28px] items-center justify-center rounded-full",children:o.jsx(F,{color:"light",children:o.jsx("span",{className:"font-mono opacity-70",children:e.slice(0,1)})})})}),HVt=10,WVt=e=>{const{isSelected:t}=e;return o.jsx("div",{className:"flex h-full flex-col items-center justify-center",children:o.jsx(it,{icon:t?Pa:$r,size:"small",pill:!0})})},$Vt=({onClear:e})=>o.jsx(it,{icon:yn,size:"tiny",pill:!0,onClick:e}),Hje=L.memo(({onClose:e,onSelectStock:t,currentSymbol:n})=>{const{isMobileUserAgent:r}=qe(),s="stock-settings-modal",{$t:a}=ae(),i=Vt(),l=f.useRef(null),[c,u]=f.useState(n),[d,h]=f.useState(Fe),[m,g]=f.useState(-1),[v,x]=f.useState(!1),b=f.useCallback(()=>{e(),h(Fe)},[e]),w=f.useCallback(async D=>{if(D.trim().length===0){h(Fe);return}const V=ga().erp;try{const H=(await i.fetchQuery({queryKey:["watchlist","FINANCE",D],queryFn:()=>i1e({query:D,watchlistType:"FINANCE",limit:HVt,cometRenderPlace:V,reason:s}),staleTime:3600})).map(q=>({query:q.title,title:q.title,image:q.image_url??void 0,imageDark:q.image_url_dark??void 0,description:q.description,identifier:q.identifier,category:q.category??void 0,subscribed:q.subscribed}));h(H)}catch{h(Fe)}},[i,s]),C=Ni(w,250,{leading:!0,trailing:!0}),S=f.useCallback(D=>{C(D)},[C]),k=f.useCallback(()=>{x(!0),S(c)},[c,S]),E=f.useCallback(()=>{x(!1)},[]),T=f.useCallback(D=>{u(D),S(D)},[S]),j=()=>{u(""),h([])},N=f.useCallback(D=>{t(D.identifier??"AAPL"),h(Fe),u(D.identifier??"AAPL")},[t]),R=f.useCallback((D,z)=>{N(D)},[N]),O=W("h-10 rounded-md p-4 dark:[&:focus]:ring-0",{"rounded-t-md rounded-b-none":v&&d.length>0}),I=f.useMemo(()=>({image:D,alt:z})=>o.jsx("div",{className:"mr-3 flex size-6 items-center justify-center overflow-hidden rounded",children:o.jsx(VVt,{src:D??"",symbol:z??""})}),[]);f.useEffect(()=>{c||S("")},[c,S]);const B=f.useMemo(()=>({RightIconComponent:WVt,LeftIconComponent:I}),[I]);return o.jsx(xm,{onClose:b,children:o.jsxs("div",{className:"flex flex-col gap-3 px-5 py-4",children:[o.jsx(F,{variant:"entry-title-300",children:a({defaultMessage:"Select Stock",id:"0MrUZjeA/m"})}),o.jsx(Dx,{isOpen:v&&d.length>0,suggestedQueries:d,focusedIndex:m,setFocusedIndex:g,handlePasteQuery:Yn,handleSubmit:R,value:c,components:B,dropdownClassName:"dark:border-none dark:ml-0 dark:mr-0 dark:w-full max-h-[250px] overflow-y-auto",dropdownType:"select",popoverClassName:"dark:!border-none",children:o.jsx(lf,{onFocus:k,onBlur:E,className:O,pill:!1,ref:l,isMobileUserAgent:r,placeholder:a({defaultMessage:"Search stocks (e.g., AAPL, TSLA, MSFT)...",id:"TMRxNvCkDS"}),value:c,onChange:T,ClearIcon:$Vt,...c.length>0?{onClear:j}:{}})}),o.jsx("div",{className:"mt-sm flex flex-row justify-end",children:o.jsx(Le,{variant:"primary",size:"small",onClick:b,text:a({defaultMessage:"Done",id:"JXdbo8Vnlw"})})})]})})});Hje.displayName="StockSettingsModal";const yz=L.memo(({widgetId:e,showSettings:t,setShowSettings:n,context:r="widget"})=>{const{$t:s}=ae(),{symbol:a,quote:i,prices:l,isLoading:c,updateStockSettings:u}=BVt(e,r),d=f.useCallback(C=>{u({symbol:C,version:1})},[u]),h=f.useMemo(()=>({style:"currency",currency:i.currency??"USD",minimumFractionDigits:i.price<1e3?2:0,maximumFractionDigits:2}),[i]),m=l[0].entries,g=m[0].price,x=m[m.length-1].price>(i?.previousClose??g)?"positive":"negative",b=o.jsx("div",{className:W("h-full transform-gpu rounded-2xl"),children:o.jsxs("div",{className:"gap-xs flex h-full flex-1 flex-col justify-between p-2.5 pb-0 drop-shadow-sm",style:{zoom:r==="thumbnail"?.75:1},children:[o.jsxs("div",{className:"flex flex-col gap-px",children:[o.jsxs("div",{className:"gap-sm flex items-center justify-between",children:[o.jsx(F,{variant:"smallBold",children:a}),i&&!c&&typeof i.changesPercentage=="number"&&o.jsx(zO,{change:i.changesPercentage,variant:"micro",includeIcon:!0,className:"-translate-y-0.5 translate-x-0.5 rounded-md"})]}),o.jsx(F,{variant:"tinyRegular",color:"light",className:"min-w-0 truncate whitespace-nowrap",children:c?s({defaultMessage:"Loading...",id:"gjBiyjshwX"}):i?.name||a})]}),l.length>0&&l[0]?.entries?.length>0&&i?.price&&typeof i.price=="number"&&o.jsx("div",{className:"pointer-events-none",children:o.jsx(Bje,{history:m.map(C=>({date:C.date,close:C.price})),symbol:a,valence:x,width:140,height:60,strokeWidth:1.6,className:"h-auto w-full"})}),i?.price&&typeof i.price=="number"?o.jsx(F,{variant:"section-title",className:"-translate-x-two -translate-y-px",children:o.jsx("span",{className:"font-mono",children:o.jsx(c1,{value:i.price,format:h,animated:!0})})}):i?.price?o.jsx(F,{variant:"page-title",className:"-translate-x-two -translate-y-px",children:o.jsx("span",{className:"font-mono text-xl",children:i.price})}):null]})}),w=f.useCallback(()=>n?.(!1),[n]);return r==="thumbnail"?b:o.jsxs(o.Fragment,{children:[o.jsx(Vr,{shadow:!0,className:"active:!bg-offset dark:active:!bg-offsetPlusDark aspect-[1/1] w-full overflow-hidden !rounded-2xl",children:o.jsx(Nt,{draggable:!1,href:`/finance/${a}`,className:"relative block size-full",children:o.jsx("div",{className:"absolute inset-0 select-none",children:b})})}),o.jsx(kt,{children:t&&o.jsx(Hje,{onClose:w,onSelectStock:d,currentSymbol:a})})]})});yz.displayName="StockWidget";const HO=L.memo(({hostname:e,title:t,context:n})=>{const r=["teal","maroon","purple","orange","blue"],s=e.split("").reduce((d,h)=>h.charCodeAt(0)+((d<<5)-d),0),a=Math.abs(s)%r.length,i=r[a],l=(t||e)[0].toUpperCase(),c={teal:"bg-[#21808D] dark:bg-[#32B8C6]",maroon:"bg-[#944454] dark:bg-[#FFB3C9]",purple:"bg-[#865D95] dark:bg-[#C48ED8]",orange:"bg-[#DB7100] dark:bg-[#FFAB44]",blue:"bg-[#19789E] dark:bg-[#54B4E3]"},u={teal:"text-[#B1EFF7] dark:text-[#082125]",maroon:"text-[#FFDFE9] dark:text-[#2D171B]",purple:"text-[#FFE4FF] dark:text-[#2E1836]",orange:"text-[#FFE6C8] dark:text-[#3B0F00]",blue:"text-[#CEF4FF] dark:text-[#071F2B]"};return o.jsx("span",{className:`pt-two flex select-none items-center justify-center rounded-full font-sans text-xs font-medium ${c[i]} ${u[i]} ${n==="thumbnail"?"size-4":"size-6"}`,children:l})});HO.displayName="FaviconFallback";const Rae=4,S8=L.memo(({context:e,disabled:t})=>{const[n,r]=f.useState({}),{data:s=[]}=Rje();if(e==="thumbnail")return o.jsx("div",{className:"gap-sm grid size-full grid-rows-3",children:s.length>=3?s.slice(0,3).map(i=>{const c=new URL(i.url).host;return o.jsx(n2,{width:"w-16",disabled:t,thumbnail:n[i.url]?o.jsx(HO,{hostname:c,title:i.title,context:"thumbnail"}):o.jsx("img",{src:oy(i.url),alt:"Favicon",className:"size-full",onError:()=>{r(u=>({...u,[i.url]:!0}))}})},i.url)}):o.jsxs(o.Fragment,{children:[o.jsx(n2,{width:"w-16",disabled:t}),o.jsx(n2,{width:"w-12",disabled:t}),o.jsx(n2,{width:"w-14",disabled:t})]})});const a=Math.max(Rae-s.length,0);return o.jsxs("div",{className:W("flex w-full flex-wrap items-center justify-center gap-3",{"grid grid-cols-[repeat(auto-fill,minmax(160px,1fr))]":e==="sortable-widgets"}),children:[s.slice(0,Rae).map(i=>{const c=new URL(i.url).host,u=dde(c);return o.jsx(Mn,{tooltipText:i.title||i.url,tooltipLayout:"bottom",asChild:!0,children:o.jsx(Nt,{href:i.url,children:o.jsxs(Vr,{shadow:!0,className:W("p-sm gap-sm flex w-full select-none items-center rounded-lg border"),bgHover:"offset",children:[n[i.url]?o.jsx(HO,{hostname:c,title:i.title}):o.jsx("img",{src:oy(i.url),alt:"Favicon",className:"size-6 rounded-md",onError:()=>{r(d=>({...d,[i.url]:!0}))}}),o.jsx(F,{variant:"tiny",className:"line-clamp-1 text-left capitalize",color:"light",children:u.replace(/\./g," ")})]})})},i.url)}),new Array(a).fill("").map((i,l)=>o.jsx("div",{className:"h-[42px]"},l))]})});S8.displayName="TopMostUrls";const n2=L.memo(({width:e,thumbnail:t,disabled:n})=>o.jsxs(Vr,{shadow:!0,fullBleed:!0,className:"gap-sm px-sm flex flex-row items-center !rounded-lg",children:[o.jsx("div",{className:W("empty:bg-offsetPlus size-4 overflow-hidden rounded-[4px]",{"opacity-50":n}),children:t}),o.jsx("div",{className:W("bg-offsetPlus h-1.5 rounded-full",e,{"opacity-50":n})})]}));n2.displayName="TopMostUrlsThumbnailItem";const Wje="weather-widget-cache";function qVt(){try{const e=_t.getItem(Wje);if(e)return JSON.parse(e)}catch{}return null}function GVt(e){try{_t.setItem(Wje,JSON.stringify(e))}catch{}}function Lae(e="widget",t="default",n=!1){if(e!=="widget")return{version:1,prefersMetric:n};const r=Nb("WEATHER",t);return r?{version:1,prefersMetric:r.prefersMetric??n}:{version:1,prefersMetric:n}}function YVt(e,t="widget",n="default"){t==="widget"&&jb("WEATHER",n,{version:1,prefersMetric:e.prefersMetric})}const KVt=(e="default",t="widget")=>{const{locale:n}=ae(),{location:r}=qg(),s=r?.latitude??null,a=r?.longitude??null,i=qVt(),l=Lae(t,e,i?.is_metric_preferred),[c,u]=f.useState(l),{data:d,isLoading:h}=Ft({queryKey:[$F,s,a].map(String),queryFn:async()=>{const R=await a1e({location:r,locale:n,reason:"weather-comet-home-widget"});return R&&GVt(R),u(O=>{const I=Lae(t,e,R?.is_metric_preferred);return{...O,prefersMetric:I.prefersMetric}}),R},refetchInterval:1e3*60*5,staleTime:1e3*60,refetchOnMount:!0,refetchOnWindowFocus:!0,refetchOnReconnect:!0,placeholderData:i}),m="patchy-rain-possible-day",g=c.prefersMetric?16:62,v="Rainy",x="San Francisco, CA",b=d||i,w=b&&b.current&&b.location,C=!!d,S=!!r,k=w?b.current.condition?.icon:m,E=w?c.prefersMetric?b.current.temp_c??g:b.current.temp_f??g:g,T=w?b.current.condition?.text??v:v,j=w?`${b.location.name}${b.location.is_usa&&b.location.region?`, ${b.location.region}`:b.location.country?`, ${b.location.country}`:""}`:x,N=f.useCallback(R=>{u(R),YVt(R,t,e)},[u,t,e]);return f.useMemo(()=>({icon:k,temperature:E,condition:T,locationName:j,isLoading:h,hasError:!1,hasRealData:C,hasLocation:S,weatherSettings:c,updateWeatherSettings:N}),[k,E,T,j,h,C,S,c,N])},$je=L.memo(({widgetId:e="default",showSettings:t,setShowSettings:n,context:r="widget"})=>{const{$t:s}=ae(),a=KVt(e,r),[i,l]=f.useState(!1),c=f.useCallback(()=>n?.(!1),[n]),{permissionStatus:u}=qg(),{openModal:d}=Gt();f.useEffect(()=>{u==="granted"&&l(!0)},[u]);const h=f.useCallback(()=>{d("locationPermissionModal",{onPermissionGranted:()=>{l(!0)},origin:"weather_widget"})},[d]);if(!a.hasRealData&&!a.hasLocation&&a.isLoading)return o.jsxs("div",{className:W("h-full transform-gpu rounded-2xl"),children:[o.jsx(U6,{variant:"clear-day",className:"rounded-2xl",context:"ntp"}),o.jsx("div",{className:"gap-sm flex h-full flex-1 flex-col items-center justify-center p-2.5 drop-shadow-sm",style:{zoom:r==="thumbnail"?.75:1},children:o.jsx(F,{variant:"tiny",color:"white",className:"opacity-75",children:s({defaultMessage:"Loading weather...",id:"kTpqlc9m9M"})})})]});const m=ZS(JS,a.icon)?Wy[a.icon]:gb.faSun,g=o.jsxs("div",{className:W("h-full transform-gpu overflow-hidden rounded-2xl"),children:[o.jsx(U6,{variant:a.icon,className:"!rounded-2xl",context:"ntp"}),o.jsxs("div",{className:"gap-sm flex h-full flex-1 flex-col justify-between p-2.5 pb-0 pt-1 drop-shadow-sm",style:{zoom:r==="thumbnail"?.75:1},children:[o.jsxs("div",{className:"flex flex-row items-start justify-between",children:[o.jsxs("div",{children:[o.jsx(F,{variant:"page-title",color:"white",children:o.jsxs("span",{className:"font-mono",children:[a.temperature,"°",a.weatherSettings.prefersMetric?"C":"F"]})}),o.jsx(F,{variant:"tinyRegular",color:"white",className:"-mt-xs opacity-60",children:a.condition})]}),o.jsx(F,{variant:"page-title",color:"white",className:"mr-0.5 mt-2",children:o.jsx(jt,{icon:m,className:"text-3xl"})})]}),o.jsx(F,{variant:"tiny",color:"white",className:"mb-1.5 line-clamp-2 flex items-center",children:a.locationName})]})]});return r==="thumbnail"?g:o.jsxs(o.Fragment,{children:[o.jsx(Vr,{shadow:!0,fullBleed:!0,className:"aspect-[1/1] w-full overflow-hidden !rounded-2xl",children:o.jsx(Nt,{href:`/search/new?q=${s({defaultMessage:"weather near {location}",id:"vi8HXN1mDE"},{location:a.locationName})}
          `,draggable:!1,className:"relative block size-full",children:o.jsx("div",{className:"absolute inset-0 select-none",children:g})})}),o.jsx(kt,{children:t&&o.jsx(xm,{onClose:c,children:o.jsxs("div",{className:"flex flex-col gap-3 px-5 py-4",children:[o.jsx(F,{variant:"entry-title-300",children:s({defaultMessage:"Weather settings",id:"RMurwlcxbd"})}),o.jsx("div",{className:"flex flex-col gap-3",children:o.jsx("div",{className:"flex w-full flex-col",children:o.jsxs("div",{className:"border-offsetPlus flex w-full gap-2 rounded-lg border p-1",children:[o.jsxs("label",{className:W("flex w-full cursor-pointer items-center justify-center rounded-md py-2",{"bg-offset dark:bg-offsetPlusDark":a.weatherSettings.prefersMetric}),children:[o.jsx("input",{type:"radio",name:"tempUnit",checked:a.weatherSettings.prefersMetric,onChange:()=>{const v={version:1,prefersMetric:!0};a.updateWeatherSettings(v)},className:"hidden"}),o.jsx(F,{variant:"smallBold",color:a.weatherSettings.prefersMetric?"default":"light",children:s({defaultMessage:"Celsius",id:"y/PhoM9SbF"})})]}),o.jsxs("label",{className:W("flex w-full cursor-pointer items-center justify-center rounded-md py-2",{"bg-offset dark:bg-offsetPlusDark":!a.weatherSettings.prefersMetric}),children:[o.jsx("input",{type:"radio",name:"tempUnit",checked:!a.weatherSettings.prefersMetric,onChange:()=>{const v={version:1,prefersMetric:!1};a.updateWeatherSettings(v)},className:"hidden"}),o.jsx(F,{variant:"smallBold",color:a.weatherSettings.prefersMetric?"light":"default",children:s({defaultMessage:"Fahrenheit",id:"K2DDr1Ji/l"})})]})]})})}),o.jsx(Q,{className:"border-t"}),o.jsxs("div",{className:"flex flex-row items-center justify-between",children:[o.jsxs("div",{className:"gap-xs flex flex-col",children:[o.jsx(F,{variant:"smallBold",children:s({defaultMessage:"Precise Location",id:"WP8KG0QkTf"})}),o.jsx(F,{variant:"small",className:"leading-tight",color:"light",children:s({defaultMessage:"Use your device location to get the most accurate weather information.",id:"Dsn2unk3pR"})})]}),o.jsx(QVt,{permissionStatus:u,children:o.jsx("div",{onClick:i?void 0:h,children:o.jsx(cf,{active:i,disabled:i})})})]}),o.jsx(Q,{className:"border-t"}),o.jsx("div",{className:"mt-sm flex flex-row justify-end",children:o.jsx(Le,{variant:"primary",size:"small",onClick:c,text:s({defaultMessage:"Done",id:"JXdbo8Vnlw"})})})]})})})]})}),QVt=({children:e,permissionStatus:t})=>{const{$t:n}=ae(),r=n({defaultMessage:"Currently using precise location. This can be disabled from Comet Settings.",id:"5Z0PWou5EU"});return t==="granted"?o.jsx(Mn,{asChild:!0,tooltipText:r,delayDuration:0,arrowClassName:" ",bodyTextClassName:"text-center",children:e}):e},xz=f.memo(({context:e="widget"})=>{const t=o.jsx("div",{className:W("relative h-full w-full cursor-pointer select-none",{"active:!bg-offset dark:active:!bg-offsetPlusDark":e==="widget"}),children:o.jsx("div",{className:"group relative size-full",children:o.jsx("img",{src:"/static/images/zen/thumbnail.png",alt:"Zen",className:"pointer-events-none absolute inset-0 object-cover"})})});return e==="thumbnail"?t:o.jsx(Vr,{shadow:!0,className:"aspect-[1/1] w-full overflow-hidden !rounded-2xl",fullBleed:!0,children:o.jsx(Nt,{href:"/b/zen",className:"cursor-pointer",draggable:!1,children:t})})});xz.displayName="ZenWidget";const $N=25,XVt=()=>null,qje=L.memo(function({editMode:t,setEditMode:n,containerRef:r,askInput:s}){const[a,i]=f.useState(IBt),l=ZFt(XFt(uz)),c=f.useRef(!1);UBt(a);const{$t:u}=ae(),{shouldShowBanner:d,handleBannerClose:h,setDefaultBrowser:m}=WBt({source:"comet-home"}),{data:g=[]}=Rje();f.useEffect(()=>{if(!c.current){c.current=!0;return}Oje(a)},[a]);const v=f.useCallback(j=>{const{active:N,over:R}=j;R&&N.id!==R.id&&i(O=>{const I=O.findIndex(D=>D.id===N.id),B=O.findIndex(D=>D.id===R.id);return fz(O,I,B)})},[]),x=f.useCallback(j=>{a.length>=$N||i(N=>[...N,{id:qr(),type:j.type}])},[a]),b=f.useCallback(j=>{i(N=>N.filter(R=>R.id!==j))},[]),w=f.useMemo(()=>L.memo(({widget:j})=>{const N=f.useCallback(()=>b(j.id),[j.id]),R=OBt(j.type);return R?j.shouldHide?o.jsx("div",{className:`col-span-${R.width===4?"full":R.width} h-[1px]`,style:{opacity:0}},j.id):o.jsx(Gje,{id:j.id,editMode:t,onDelete:N,widget:R},j.id):null}),[t,b]),C=f.useCallback(()=>{navigator.geolocation.getCurrentPosition(le.info)},[]),S=f.useMemo(()=>L.memo(({widget:j})=>{const N=f.useMemo(()=>j.type==="TOP_URLS"&&g.length===0||a.length>=$N,[j]),R=f.useCallback(()=>{x(j),C()},[j]);if(!j||j.cannotBeDeleted)return null;const O=a.some(I=>I.type===j.type);return o.jsx(oi,{fallback:null,children:o.jsx(Kje,{aspectRatio:1/1,widget:j,widgetIsAdded:O,hideIconOutline:j.type==="TOP_URLS",onClick:R,manuallyDisabled:N})})}),[x,a,C,g]),k=ABt(),E=f.useMemo(()=>a.map(j=>({...j,shouldHide:j.type==="TOP_URLS"&&g.length===0})),[a,g]),T=f.useMemo(()=>Lje.filter(j=>j.type==="WORMHOLE"?k:!0),[k]);return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"p-lg flex min-h-full w-full items-center justify-center",children:o.jsxs("div",{style:{width:800},className:"grid grid-cols-[repeat(auto-fill,minmax(160px,1fr))] gap-3",children:[d&&o.jsxs(je.div,{layout:!0,transition:Wo,className:"mt-md col-span-full flex flex-wrap items-center justify-center gap-x-3 gap-y-2",children:[o.jsxs("div",{className:"gap-xs group flex items-center",children:[o.jsx(it,{icon:yn,onClick:h,size:"small",pill:!0,extraCSS:"opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsx(F,{variant:"small",color:"super",className:"whitespace-nowrap",children:u({defaultMessage:"{brand} works best as your default browser",id:"uTC0rExpLQ"},{brand:"Comet"})})]}),o.jsx(Le,{variant:"primaryGhost",size:"tiny",pill:!0,text:u({defaultMessage:"Set {brand} as default",id:"VssH9YxzlZ"},{brand:"Comet"}),onClick:m,icon:dm,extraCSS:"border-none"})]}),o.jsx(XUt,{sensors:l,collisionDetection:aUt,onDragOver:v,children:o.jsxs(bBt,{items:E,strategy:XVt,children:[o.jsx(je.div,{layout:!0,transition:Wo,className:"-mb-md col-span-full",children:s}),o.jsx(kt,{children:E.map(j=>o.jsx(w,{widget:j},j.id))})]})})]})}),o.jsx(kt,{children:t&&o.jsx(Yje,{containerRef:r,setEditMode:n,maxWidgetsReached:a.length>=$N,children:o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"grid w-full grid-cols-[repeat(auto-fill,minmax(120px,1fr))] flex-row gap-6 p-6",children:T.map((j,N)=>o.jsx(S,{widget:j},N))})})})})]})});qje.displayName="SortableWidgets";const ZVt=500,Gje=L.memo(function({id:t,editMode:n,onDelete:r,widget:s}){const[a,i]=f.useState(!1),{isMobileStyle:l}=qe(),{$t:c}=ae(),[u,d]=f.useState(!1),[h,m]=f.useState(!1),[g,v]=f.useState(!1),x=f.useRef(null);f.useEffect(()=>{a&&(d(!1),v(!1))},[a]),f.useEffect(()=>()=>{x.current&&clearTimeout(x.current)},[]);const b=f.useCallback(()=>{x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{v(!0)},ZVt)},[]),w=f.useCallback(()=>{x.current&&clearTimeout(x.current),u||v(!1)},[u]);f.useEffect(()=>{v(!1)},[h]);const{attributes:C,isDragging:S,listeners:k,setNodeRef:E}=EBt({id:t,disabled:!n}),T=O=>{switch(O){case"ANALOG_CLOCK":return o.jsx(hz,{widgetId:t,context:"widget",showSettings:h,setShowSettings:m,showCity:!0});case"GITHUB":return o.jsx(pz,{context:"widget"});case"STICKY":return o.jsx(gz,{widgetId:t,showSettings:h,setShowSettings:m,context:"widget",defaultText:""});case"TOP_URLS":return o.jsx(S8,{context:"sortable-widgets"});case"WEATHER":return o.jsx($je,{widgetId:t,context:"widget",showSettings:h,setShowSettings:m});case"STOCK":return o.jsx(yz,{widgetId:t,context:"widget",showSettings:h,setShowSettings:m});case"DISCOVER":return o.jsx(mz,{context:"widget",showSettings:h,setShowSettings:m});case"ASSISTANT":return o.jsx(Pje,{widgetId:t,context:"widget",defaultQuery:c({defaultMessage:"Find important unanswered emails",id:"D8O0cB/SKH"}),showSettings:h,setShowSettings:m});case"WORMHOLE":return o.jsx(jje,{widgetId:t,context:"widget"});case"ZEN":return o.jsx(xz,{context:"widget"});default:return o.jsx("div",{})}},j=f.useMemo(()=>{const O={type:"default",text:c({defaultMessage:"Remove",id:"G/yZLul6P1"}),destructive:!0,onClick:r},I={type:"default",text:c({defaultMessage:"Settings",id:"D3idYvSLF9"}),onClick:()=>m(!h)};return[...s?.settings?[I]:[],...s?.cannotBeDeleted?[]:[O]]},[c,r,h,s?.cannotBeDeleted,s?.settings]),N=f.useCallback(()=>d(!0),[d]),R=f.useCallback(()=>{d(!1),v(!1)},[]);return s?o.jsxs(je.div,{layout:!0,ref:E,className:W("relative",`col-span-${s.width===4?"full":s.width}`,{"z-[100]":S||a}),drag:n,dragSnapToOrigin:!0,onMouseEnter:b,onMouseLeave:w,onDragStart:()=>{i(!0)},onDragTransitionEnd:()=>{i(!1)},exit:{opacity:0},transition:Wo,children:[o.jsx(kt,{children:(n||g)&&o.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:Wo,className:"absolute -left-2 -top-2 z-[10]",children:o.jsx(Rn,{isMobileStyle:l,items:j,placement:"bottom-start",onOpen:N,onClose:R,children:o.jsx(Q,{as:"button",onClick:N,variant:"raised",className:"active:!bg-offset dark:active:!bg-offsetPlusDark shadow-overlay dark:shadow-overlayDark flex size-6 !cursor-pointer items-center justify-center rounded-full",children:o.jsx(Ne,{icon:tf,size:"sm"})})})})}),n&&o.jsx("div",{className:W("absolute inset-0 z-[9] cursor-grab",{"cursor-grabbing":S}),onMouseDown:()=>d(!1),...C,...k}),T(s.type)]}):null});Gje.displayName="SortableItem";const Yje=L.memo(({children:e,setEditMode:t,containerRef:n,maxWidgetsReached:r})=>{const{$t:s}=ae(),a=f.useCallback(()=>t(!1),[t]);return o.jsx(Ng,{portalTarget:n.current??document.body,children:o.jsx(je.div,{initial:{y:"100%",x:"-50%"},animate:{y:0,x:"-50%"},exit:{y:"100%",x:"-50%"},transition:Wo,className:"md:px-xl fixed bottom-0 left-1/2 z-[100] w-full pb-3",children:o.jsx("div",{className:"px-xl mx-auto max-w-[800px]",children:o.jsxs(Q,{variant:"raised",className:"dark:!bg-backgroundDark shadow-overlay dark:shadow-overlayDark size-full rounded-2xl pb-3",children:[o.jsx("div",{className:"scrollbar-none max-h-[250px] w-full overflow-scroll",children:e}),o.jsxs("div",{className:"pl-md border-offset/75 dark:border-offset sticky left-0 flex w-full flex-row items-center border-t pr-3 pt-3",children:[r&&o.jsx(F,{variant:"small",color:"ultraLight",children:s({defaultMessage:"You have reached the maximum number of widgets",id:"fRBSTWO49U"})}),o.jsx(Le,{variant:"primary",size:"small",extraCSS:"ml-auto",text:"Done",onClick:a})]})]})})})})});Yje.displayName="WidgetTray";const Kje=L.memo(({aspectRatio:e,onClick:t,widget:n,widgetIsAdded:r,hideIconOutline:s,manuallyDisabled:a=!1})=>{const i=n.singleton&&r||a,l=u=>{switch(u){case"ANALOG_CLOCK":return o.jsx(hz,{widgetId:n.type,context:"thumbnail"});case"GITHUB":return o.jsx(pz,{context:"thumbnail"});case"STICKY":return o.jsx(gz,{widgetId:n.type,context:"thumbnail",defaultText:"My great sticky..."});case"WEATHER":return o.jsx($je,{widgetId:n.type,context:"thumbnail"});case"TOP_URLS":return o.jsx(S8,{context:"thumbnail",disabled:i});case"STOCK":return o.jsx(yz,{widgetId:n.type,context:"thumbnail"});case"DISCOVER":return o.jsx(mz,{context:"thumbnail"});case"ASSISTANT":return o.jsx(Pje,{widgetId:n.type,context:"thumbnail",defaultQuery:"Find important unanswered emails"});case"WORMHOLE":return o.jsx(jje,{widgetId:n.type,context:"thumbnail"});case"ZEN":return o.jsx(xz,{context:"thumbnail"});default:return o.jsx("div",{})}},c=f.useMemo(()=>({aspectRatio:e}),[e]);return o.jsxs("div",{className:"gap-sm relative flex flex-col items-center justify-center",children:[!i&&o.jsx("div",{className:"absolute -top-2 left-1/2 z-[10] translate-x-[-68px]",children:o.jsx(Q,{as:"button",variant:"raised",onClick:i?void 0:t,className:"active:!bg-offset dark:active:!bg-offsetPlusDark shadow-overlay dark:shadow-overlayDark flex size-6 !cursor-pointer items-center justify-center rounded-full",children:o.jsx(Ne,{icon:$r,size:"sm"})})}),o.jsx(Vr,{shadow:!0,fullBleed:!s,onClick:i?void 0:t,style:c,className:W("h-[120px] cursor-pointer overflow-hidden",{"pointer-events-none":i,"!overflow-visible !rounded-none border-none !bg-transparent shadow-none":s}),children:o.jsx("div",{className:"absolute inset-0",children:l(n.type)})}),o.jsx(F,{variant:"small",color:i?"ultraLight":"default",children:n.name})]})});Kje.displayName="AdditionalWidget";const JVt=De(async()=>({default:(await Me(()=>import("./WelcomeOverlay-BkvhHdDi.js"),__vite__mapDeps([95,1,54,3]))).WelcomeOverlay})),ezt=e=>e.reduce((t,n)=>n.condition==="ALWAYS"?[...t,...n.suggests.map(r=>({query:r,icon:n.icon,image:n.image}))]:t,[]),Qje=L.memo(()=>{const e=f.useRef(null),{$t:t,locale:n}=ae(),{trackEvent:r}=Ye(),[s,a]=f.useState(!1),[i,l]=f.useState(!0),[c,u]=f.useState(!1),d=f.useRef(null),h=Bs(),m=f.useRef(null),{isMobileStyle:g}=qe(),v=UDt(),x=IFt(),b=dFt();f.useEffect(()=>{if(b){const N=x[0];Xs.preload(N.videoSrc,{as:"video"}),Xs.preload(N.previewSrc,{as:"image"})}},[b,x]);const w=vLt({cometBrowser:h,type:"welcome-modal",locale:n}),C=uFt(),S=f.useMemo(()=>ezt(C.groups),[C]);f.useEffect(()=>{_t.getItem("hasClosedWelcomeModal")?l(!1):a(!0)},[]);const k=f.useCallback(()=>{i||l(!0),a(!0),r("ntp education selected")},[r,i]),E=f.useCallback(()=>{a(!1)},[]),T=()=>{navigator.geolocation.getCurrentPosition(le.info)},j=f.useCallback(()=>{T(),u(!0)},[]);return o.jsx(AU,{modules:rje,children:o.jsxs("div",{ref:e,className:"mx-auto flex size-full flex-col",style:g?void 0:{marginLeft:t1*-.5+"px"},children:[o.jsx(je.div,{initial:{paddingBottom:80},animate:{paddingBottom:c?320:80},exit:{paddingBottom:80},transition:Wo,className:"px-md relative isolate mx-auto flex w-full max-w-[800px] grow flex-col items-center justify-center pb-[80px]",children:o.jsx(Xje,{editMode:c,setEditMode:u,containerRef:e})}),o.jsxs("div",{className:"gap-sm fixed bottom-0 left-1/2 mt-auto flex w-full max-w-[800px] -translate-x-1/2 justify-center py-6 pt-12",children:[o.jsx("div",{ref:d,children:o.jsx(Le,{pill:!0,size:"small",variant:"border",icon:dm,text:t({defaultMessage:"Try Assistant",id:"E4vPUv5Uqt"}),extraCSS:"!bg-background z-[2] relative",onClick:k})}),o.jsx(Le,{pill:!0,size:"small",variant:"border",icon:dWe,text:"Edit widgets",extraCSS:"!bg-background z-[2] relative",onClick:j}),v&&o.jsx(WEe,{pill:!0,size:"small",variant:"border",extraCSS:"!bg-background z-[2] relative"}),o.jsx("div",{style:{maskImage:"linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 75%)"},className:"bg-background z-1 absolute inset-0"})]}),i&&Xs.createPortal(o.jsx(JVt,{isOpen:s,onClose:E,suggestions:w.length?w:S,suggestionsScrollContainerRef:m,buttonRef:d}),document.body)]})})});Qje.displayName="CometHomePage";const bz=L.memo(()=>o.jsx(Ag,{children:o.jsx(nzt,{})}));bz.displayName="Input";const tzt=L.memo(()=>o.jsxs(o.Fragment,{children:[o.jsx(bz,{}),o.jsx("div",{className:"pt-md h-[96px] w-full",children:o.jsx(S8,{context:"sortable-widgets"})})]}));tzt.displayName="InputWrapper";const Xje=L.memo(({editMode:e,setEditMode:t,containerRef:n})=>{const r=f.useMemo(()=>o.jsx(bz,{}),[]);return o.jsx(qje,{containerRef:n,editMode:e,setEditMode:t,askInput:r})});Xje.displayName="MaybeWidgetsWrapper";const nzt=()=>{const e="comet-ask-input",{mentionTypeaheadOptions:t,inputPlaceholder:n,onTriggerTypeahead:r}=rz({reason:e,isCometServer:!0,isLazy:!0}),[s,a,i]=nje({csrRedirect:!0});return o.jsx(Q,{className:W("static flex w-full flex-col items-center justify-center md:mt-0","z-10"),children:o.jsx("div",{className:"mb-md w-full",children:o.jsx(v8,{...i,value:s,json:a,querySource:"home",autofocus:!0,minRows:2,hasShadow:!0,showFileUpload:!0,showIncognitoHint:!0,showSources:!1,dropdownPlacement:"bottom",useLexical:!0,mentionTypeaheadOptions:t,placeholder:n??i.placeholder,isCometHome:!0,onTriggerTypeahead:r})})})},th=(e,t)=>`milestone-progress-dismissed-${t}-${e}`,rzt=({platform:e,reason:t})=>{const[n,r]=f.useState(!1),{trackEvent:s,trackEventOnce:a}=Ye(),i=Vt(),{keysRequiringRerender:l,removeKeyRequiringRerender:c}=of(),{data:u}=Ft({queryKey:[`milestone-progress-${e}`],queryFn:()=>p1e({platform:e,reason:t})});f.useEffect(()=>{l.includes("floating-milestone-refetch")&&(i.invalidateQueries({queryKey:[`milestone-progress-${e}`]}),c("floating-milestone-refetch"))},[l,i,e,c]),f.useEffect(()=>{Ds.getItem(th(e,"session"))||_t.getItem(th(e,"lifetime"))||u&&(!u.is_eligible&&!u.has_incentive||(r(!0),a("milestone progress viewed",{platform:e,streakLength:u.usage_count,requiredCount:u.required_count,hasIncentive:u.has_incentive,isLegacy:!0})))},[e,u,s,a]),f.useEffect(()=>{u?.usage_count&&u.usage_count>1&&!u.has_incentive&&(Ds.removeItem(th(e,"session")),_t.removeItem(th(e,"lifetime")))},[u,e]);const d=f.useCallback(()=>{r(!1),s("milestone progress dismissed",{platform:e,streakLength:u.usage_count,requiredCount:u.required_count,hasIncentive:u.has_incentive,isLegacy:!0}),Ds.setItem(th(e,"session"),"true"),u?.usage_count&&u.usage_count<=1&&_t.setItem(th(e,"lifetime"),"true"),u?.has_incentive&&_t.setItem(th(e,"lifetime"),"true")},[u,e,s]);return f.useMemo(()=>({show:n,handleClose:d,data:u}),[u,d,n])},Zje=L.memo(({platform:e})=>{const t="floating-milestone-progress-legacy",{locale:n}=ae(),{$t:r}=ae(),{show:s,handleClose:a,data:i}=rzt({platform:e,reason:t}),{title:l,description:c}=f.useMemo(()=>{const u=i?.has_incentive,d=i?.required_count??0,h=i?.usage_count??0,m=h+d;return u?{title:r({defaultMessage:"You've earned Pro!",id:"7+xawxeq+I"}),description:r({defaultMessage:"You got 1 month of Perplexity Pro applied for free",id:"iYsCnfs/iq"})}:h>0?{title:r({defaultMessage:"{streakLength} day streak",id:"f2ItkP1IHu"},{streakLength:h}),description:r({defaultMessage:"Ask a question for {remainingDays} more days and get a month of Pro free",id:"mxOXJkTUhm"},{remainingDays:d})}:{title:r({defaultMessage:"Get 1 month of Pro",id:"P4r7bPLEnw"}),description:r({defaultMessage:"Ask a question every day for {milestoneLength} days and get a month of Pro free",id:"U46/HtRODS"},{milestoneLength:m})}},[i,r]);return!s||!i?.usage_display_days?null:o.jsxs(Q,{variant:"offset",className:"mb-xl p-md animate-in fade-in fixed bottom-[20px] right-[20px] z-30 w-[220px] rounded-lg shadow-lg duration-300 ease-out",children:[o.jsxs("div",{className:"gap-xs flex flex-row items-center",children:[o.jsx(F,{color:"super",children:o.jsx(Ne,{icon:iWe,size:"sm"})}),o.jsx(F,{variant:"small",children:l}),o.jsx(F,{color:"ultraLight",className:"hover:!text-textMain ml-auto cursor-pointer",onClick:a,children:o.jsx(Ne,{size:"sm",icon:yn})})]}),o.jsx(F,{color:"light",variant:"tinyRegular",className:"mt-sm",children:c}),o.jsx("div",{className:"mt-md flex flex-row justify-between",children:i.usage_display_days.map(u=>o.jsxs("div",{className:"gap-xs flex flex-col items-center",children:[o.jsx(F,{color:"light",variant:"tinyRegular",children:kC(u.day,n,"narrow")}),u.check?o.jsx(F,{color:"super",children:o.jsx(Ne,{size:"sm",icon:Lce})}):o.jsx(F,{color:"ultraLight",children:o.jsx(Ne,{size:"sm",icon:Oce})})]},u.day))})]})});Zje.displayName="FloatingMilestoneProgressLegacy";const{Provider:szt,useSelector:azt,useTrackedState:izt}=Mg("HomepageComponentsProvider",e=>uo(t=>({homepageTitle:e?.homepageTitle||"",actions:{onHomepageTitleChange:n=>{t({homepageTitle:n})}}}))),ozt=()=>azt(e=>e.actions),lzt=izt,czt={hidden:{},visible:{transition:{staggerChildren:.025}}},uzt={hidden:{opacity:0},visible:{opacity:1,transition:{type:"tween",duration:.3}},exit:{opacity:0,transition:{duration:.05}}},Jje=L.memo(()=>{const{homepageTitle:e}=lzt(),t=f.useRef(!0),[n,r]=f.useState(!0),{hasAccessToProFeatures:s,isMax:a}=cn(),{isMobileStyle:i}=qe(),l=f.useMemo(()=>{const c=e.split(" ");return c.map((u,d)=>d===c.length-1?u:`${u} `)},[e]);return f.useEffect(()=>{if(t.current){t.current=!1;return}r(!1)},[e]),o.jsx("div",{className:"mb-lg bottom-0 flex w-full items-center justify-center pb-3 text-center md:absolute",children:o.jsx(kt,{mode:"wait",children:n&&!i?o.jsx(je.div,{initial:{opacity:1},exit:{opacity:0,transition:{duration:.2}},children:o.jsx(Ei,{variant:a?"max-text":"text",isPro:s,size:s?"xl":"large"})}):o.jsx(je.span,{variants:czt,initial:n?!1:"hidden",animate:"visible",exit:"hidden","aria-hidden":"true",className:"inline-block",children:o.jsx(F,{children:o.jsx("span",{className:"font-regular font-display inline-block text-3xl md:text-4xl","aria-label":e,children:l.map((c,u)=>o.jsx(je.span,{variants:uzt,className:"inline-block",style:{whiteSpace:"pre"},children:c},`${c}-${u}`))})})},e)})})});Jje.displayName="HomepageTitle";let Oae=1234567;function dzt(e){e!==void 0&&(Oae=e);let t=Oae+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}const fzt=e=>e.some(t=>t.type==="QUERY"&&t.educational_type==="comet"),hzt=e=>e.some(t=>t.type==="QUERY"&&t.educational_type==="project"),WO=e=>e.type==="QUERY"&&e.educational_type==="primer",eAe={Ask:cu,"Email & Communication Management":lI,"Finance & Budgeting":IWe,"Work & Research":Sce,"Shopping & Deals":Hj,"Social & Personal Life":Nce,"Time Management & Productivity":aI,"Travel & Events":O_,Research:cu,"Current Events":gx,Recommend:$j,Travel:FWe,Shopping:Hj,Finance:BHe,Sports:w5,Local:gce,"Make a plan":MWe,Analyze:IHe,Summarize:uHe,"Fact Check":Ece,Learn:RHe,Health:zj,"What is Perplexity":LEe,Troubleshoot:fI,Compare:pY,Parenting:mWe,Create:mx,Study:gw,"Get a job":kHe,Flashcards:gHe,"Practice test":uI,Law:pY,Technology:GHe,Science:s$e,Humanities:EWe},tAe=je.create(Nt),Pae=e=>Ls(e).with({type:"ANNOUNCEMENT"},()=>"announcement").with({type:"DISCOVER"},()=>"discover_single_page").with({type:"QUERY"},t=>t.prompt.toLowerCase()).with({type:"WEATHER"},()=>"weather_current").with({type:"FINANCE"},()=>"finance_ticker").with({type:"SPORTS"},()=>"sports_game").with({type:"WATCHLIST"},()=>"watchlist").with({type:"MULTIQUERY"},t=>(t.prompt??"Ask").toLowerCase()).with({type:"SPACE"},t=>t.title.toLowerCase()).exhaustive(),mzt=(e,t,n,r="home")=>{const{trackEvent:s}=Ye(),[a,i]=f.useState(!1),l=f.useMemo(()=>{const b=Ls(e).with({type:"ANNOUNCEMENT"},C=>({title:C.title,text:C.text,variant:C.variant})).with({type:"DISCOVER"},C=>({title:C.title})).with({type:"QUERY"},C=>({prompt:C.prompt,query:C.query,uuid:C.uuid,educational_type:C.educational_type})).with({type:"WEATHER"},C=>({location:C.location.name})).with({type:"FINANCE"},C=>({ticker:C.quotes[0].symbol,is_implicit:C.is_implicit??!1})).with({type:"WATCHLIST"},C=>({type:C.watchlist_type})).with({type:"SPACE"},C=>({title:C.title})).otherwise(()=>({})),w=e.action.type==="MULTIQUERY"?e.action.actions.map(C=>({...C,type:C.type.toLowerCase()})):{...e.action,type:e.action.type.toLowerCase()};return{widgetType:e.type.toLowerCase(),widgetName:Pae(e),widgetCTA:w,widgetLocation:r,widgetSize:`grid_${(e.size??"MEDIUM").toLowerCase()}`,position:t,frontendUUID:n,metadata:b,uuid:e.uuid}},[e,t,n,r]),c=f.useCallback(()=>{a||(s("widget viewed",l),i(!0))},[l,s,a]),u=f.useCallback(()=>{s("widget selected",l)},[l,s]),d=f.useCallback(()=>{s("widget dismissed",l)},[l,s]),h=f.useCallback(()=>{s("widget hovered",l)},[l,s]),m=f.useCallback(b=>{if(e.type!=="MULTIQUERY")return;const w=e.action.actions.find(C=>C.query===b);if(w)return{widgetType:e.type.toLowerCase(),widgetName:Pae(e),widgetLocation:r,widgetSize:`grid_${(e.size??"MEDIUM").toLowerCase()}`,position:t,frontentUUID:n,metadata:{prompt:e.prompt,query:w.query,uuid:w.uuid??null}}},[e,t,n,r]),g=f.useCallback(b=>{const w=m(b);w&&s("widget selected",w)},[m,s]),v=f.useCallback(b=>{const w=m(b);w&&s("widget hovered",w)},[m,s]),x=f.useCallback(b=>{const w=m(b);w&&s("widget viewed",w)},[m,s]);return f.useMemo(()=>({trackView:c,trackClick:u,trackDismiss:d,trackHover:h,trackMultiQueryClick:g,trackMultiQueryHover:v,trackMultiQueryView:x}),[u,d,h,g,v,x,c])};var qN={},Iae;function pzt(){return Iae||(Iae=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="location-crosshairs",r=512,s=512,a=["location"],i="f601",l="M256 0c13.3 0 24 10.7 24 24l0 41.5C366.8 76.3 435.7 145.2 446.5 232l41.5 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-41.5 0C435.7 366.8 366.8 435.7 280 446.5l0 41.5c0 13.3-10.7 24-24 24s-24-10.7-24-24l0-41.5C145.2 435.7 76.3 366.8 65.5 280L24 280c-13.3 0-24-10.7-24-24s10.7-24 24-24l41.5 0C76.3 145.2 145.2 76.3 232 65.5L232 24c0-13.3 10.7-24 24-24zM112 256a144 144 0 1 0 288 0 144 144 0 1 0 -288 0zm192 0a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm-144 0a96 96 0 1 1 192 0 96 96 0 1 1 -192 0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faLocationCrosshairs=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(qN)),qN}var gzt=pzt();const M8=({onRequest:e,onSuccess:t,onError:n,origin:r})=>{const{$t:s}=ae(),{trackEvent:a}=Ye();return f.useCallback(()=>{e?.(),navigator.geolocation?navigator.geolocation.getCurrentPosition(i=>{t(i),a("precise location granted",{origin:r})},i=>{let l;switch(i.code){case i.PERMISSION_DENIED:n(s({defaultMessage:"Looks like permission was denied. Please allow location access in your browser site settings.",id:"9P7nG1a2Cl"})),l="permission_denied";break;case i.POSITION_UNAVAILABLE:n(s({defaultMessage:"Unable to determine your location. Please try again.",id:"VLgkyqQ5LO"})),l="position_unavailable";break;case i.TIMEOUT:n(s({defaultMessage:"Request timed out. Please try again.",id:"VIQi5rKvh3"})),l="timeout";break;default:n(s({defaultMessage:"An error occurred while getting your location. Please try again.",id:"oOu0W+N9Re"})),l="unsupported"}a("precise location modal denied",{origin:r,reason:l})},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):(n(s({defaultMessage:"Location services are not supported by your browser.",id:"1eN9TO+Fjt"})),a("precise location modal denied",{origin:r,reason:"unsupported"}))},[s,n,t,e,r,a])},nAe=L.memo(({isOpen:e,onClose:t,onPermissionGranted:n,origin:r})=>{const{$t:s}=ae(),[a,i]=f.useState(!1),[l,c]=f.useState(null),u=M8({onSuccess:v=>{n(v),i(!1),c(null),t()},onError:v=>{i(!1),c(v)},origin:r}),d=f.useCallback(()=>{i(!0),c(null),u()},[u]),{colorScheme:h}=ba(),{isMobileStyle:m}=qe(),g=f.useMemo(()=>[{text:s({defaultMessage:"Cancel",id:"47FYwba+bI"}),onClick:t,disabled:a},{text:s({defaultMessage:"Allow",id:"y/bmsG8rnv"}),onClick:d,isLoading:a,variant:"primary",disabled:a}],[s,d,a,t]);return o.jsx(Sn,{isOpen:e,onClose:t,variant:m?"bottom-sheet":"small",actionList:g,children:o.jsxs(Q,{className:"flex flex-col",children:[o.jsx("div",{className:"-mt-md mb-md bg-offset flex h-24 w-full items-center justify-center overflow-hidden rounded-md bg-cover bg-center",style:{backgroundImage:h==="dark"?"url('/static/images/location-share-dialog-map-dark.jpg')":"url('/static/images/location-share-dialog-map.jpg')"},children:o.jsxs(Q,{className:"size-xl relative flex items-center justify-center rounded-full border",children:[o.jsx(Q,{className:"absolute left-1/2 top-1/2 size-full -translate-x-1/2 -translate-y-1/2 rounded-full",variant:"super"}),o.jsx(Q,{variant:"super",className:"!border-super absolute left-1/2 top-1/2 size-[140%] -translate-x-1/2 -translate-y-1/2 rounded-full border opacity-20"}),o.jsx(Q,{variant:"super",className:"!border-super absolute left-1/2 top-1/2 size-[180%] -translate-x-1/2 -translate-y-1/2 rounded-full border opacity-10"}),o.jsx(Q,{variant:"super",className:"!border-super absolute left-1/2 top-1/2 size-[220%] -translate-x-1/2 -translate-y-1/2 rounded-full border opacity-5"}),o.jsx(jt,{icon:gzt.faLocationCrosshairs,size:"lg",className:"text-background relative"})]})}),o.jsx(F,{variant:"section-title",className:"text-center",children:s({defaultMessage:"Enable Precise Location",id:"/JAfaukfkx"})}),o.jsx(F,{variant:"small",color:"light",className:"text-center",children:s({defaultMessage:"To provide you with accurate local weather information, Perplexity needs access to your device location.",id:"0A/wGwJkVw"})}),l&&o.jsx(Q,{className:"mt-md",children:o.jsx(F,{variant:"smallBold",color:"red",className:"text-center",children:l})})]})})});nAe.displayName="LocationPermissionModal";const vzt=Object.freeze(Object.defineProperty({__proto__:null,LocationPermissionModal:nAe,useRequestLocation:M8},Symbol.toStringTag,{value:"Module"})),yzt=()=>{const{submitQuery:e}=go(),t=Qt(),{openModal:n}=Gt(),r=cke(),{isWindowsApp:s}=sn(),{setUserInput:a,setShouldTriggerFocus:i}=pb(),{blankStateSuggestions:l}=La(),{setSuggestions:c}=Ho(),u=Ai(),{onHomepageTitleChange:d}=ozt(),{setFileUploadUpsellTooltipOpen:h}=Ho(),{openToast:m}=Sr(),g=Ct(),x=M8({onSuccess:Yn,onError:B=>{m(B,"error",5)},origin:"homepage_primer"}),b=f.useCallback(B=>{const D=ri();e({rawQuery:B.query,copilotOverride:B.prefer_pro,attachments:B.attachments,collection:null,newFrontendContextUUID:D,promptSource:"homepage_widget",querySource:"homepage_widget",sourcesOverride:["web"],modelPreferenceOverride:B.prefer_pro?"pplx_pro":"turbo",shouldRedirectToBackendUUID:!0})},[e]),w=f.useCallback(B=>{a(B.input_prefix),i(!0),B.suggestions&&B.suggestions.length>0?c(B.suggestions.map(({query:D,submission_query:z})=>({query:D,submission_query:z??void 0}))):B.suggestions&&B.suggestions.length===0&&l[u]&&c(l[u]),B.homepage_tagline&&d(B.homepage_tagline),B.trigger_location_prompt&&x(),B.trigger_file_tooltip&&h(!0),B.trigger_deep_research&&g&&r(Re.ALPHA)},[a,i,g,c,l,d,x,h,r,u]),C=f.useCallback((B,D)=>{const z=B.find(V=>V.query===D);z&&b(z)},[b]),S=f.useCallback(B=>{t.push(`/page/${B.page_slug}`)},[t]),k=f.useCallback(B=>{s?qw(B):window.open(B,"_blank")},[s]),E=f.useCallback((B,D)=>{const z=B.should_interpolate_template&&D?mde(B.permalink,D):B.permalink;k(z)},[k]),T=f.useCallback(B=>{s?qw(B.permalink):t.push(B.permalink)},[t,s]),j=f.useCallback(()=>{t.push("/pro")},[t]),N=f.useCallback(B=>{B.deep_research?r(Re.ALPHA):r(Re.PRO)},[r]),R=f.useCallback(B=>{n("watchlistModal",{origin:"home",watchlistType:B.watchlist_type})},[n]),O=f.useCallback(B=>{n("spaceCreate",{existingCollection:null,onCreate:null,content:{title:B.space_title??void 0,description:B.space_description??void 0,instructions:B.space_instructions??void 0,emoji:B.space_emoji??void 0}})},[n]),I=f.useCallback(B=>{B.modal_name&&n(B.modal_name)},[n]);return f.useMemo(()=>({createThreadAction:b,populateInputAction:w,multiQueryCreateThreadAction:C,openPageAction:S,openExternalUrlAction:E,openInternalUrlAction:T,openPaywallAction:j,enableProAction:N,openWatchlistModalAction:R,createSpaceAction:O,openModalAction:I}),[O,b,N,C,E,T,I,S,j,R,w])},xzt=e=>["ANNOUNCEMENT","QUERY"].includes(e.type),gp=["SMALL","MEDIUM","LARGE"],rAe=L.memo(({widget:e,size:t})=>{const n=gp.includes(t)?"linear-gradient(to bottom, black, transparent)":"linear-gradient(to right, transparent, black 50%)",r="absolute inset-0 size-full object-cover object-center",s=f.useMemo(()=>o.jsxs("div",{className:"relative h-full",children:[o.jsx("img",{src:e.image_url_light,className:W(r,"block dark:hidden"),alt:e.title,style:{maskImage:n,WebkitMaskImage:n}}),o.jsx("img",{src:e.image_url_dark,className:W(r,"hidden dark:block"),alt:e.title,style:{maskImage:n,WebkitMaskImage:n}})]}),[r,e.image_url_dark,e.image_url_light,e.title,n]),a=f.useMemo(()=>o.jsx("div",{className:"p-sm flex h-full flex-col justify-center",children:o.jsxs("div",{className:"gap-2xs p-xs flex flex-col items-start",children:[o.jsx(F,{className:"line-clamp-2 text-ellipsis leading-tight",variant:gp.includes(t)?"tinyRegular":"small",color:gp.includes(t)?"white":void 0,children:e.title}),o.jsx(F,{className:W("line-clamp-2 text-ellipsis leading-tight",{"text-white/70":gp.includes(t)}),variant:"tiny",color:"light",children:o.jsx("span",{className:"font-normal",children:e.text})})]})}),[t,e.title,e.text]);return o.jsx("div",{className:W("relative h-full w-full",{"bg-offsetDark":gp.includes(t)}),children:gp.includes(t)?o.jsxs(o.Fragment,{children:[s,o.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:a})]}):o.jsxs("div",{className:"grid h-full grid-cols-3 grid-rows-1",children:[o.jsx("div",{className:"col-span-2",children:o.jsx("div",{className:"flex h-full flex-row items-center",children:a})}),o.jsx("div",{className:"col-span-1",children:s})]})})});rAe.displayName="AnnouncementHomepageWidget";const sAe=L.memo(({widget:e,size:t})=>{const{colorScheme:n}=ba(),r=t=="LARGE"?"grid grid-rows-3":"flex flex-row items-center",s=t=="LARGE"?"row-span-1":"",a=t=="LARGE"?"row-span-3":"",i=f.useMemo(()=>o.jsx("div",{className:W("relative",a),children:o.jsx("img",{src:n==="light"?e.image_url_light:e.image_url_dark,className:"size-full object-cover",alt:e.title,style:{maskImage:"linear-gradient(to bottom, black 75%, transparent)"}})}),[a,n,e.image_url_light,e.image_url_dark,e.title]),l=f.useMemo(()=>o.jsx("div",{className:W(a,"pl-[12px]"),children:o.jsx("div",{className:"relative size-[40px] overflow-hidden rounded-md",children:o.jsx("img",{src:n==="light"?e.image_url_light:e.image_url_dark,alt:e.title,className:"size-full object-cover"})})}),[a,n,e.image_url_light,e.image_url_dark,e.title]),c=f.useMemo(()=>o.jsx("div",{className:W("p-sm flex h-full flex-col justify-center",s,t!=="LARGE"&&"pt-sm"),children:o.jsx(F,{className:"px-xs line-clamp-2 text-ellipsis leading-tight",variant:"tinyRegular",children:e.title})}),[t,s,e.title]);return o.jsx("div",{className:W("h-full w-full",r),children:t=="LARGE"?o.jsxs(o.Fragment,{children:[i,c]}):o.jsxs(o.Fragment,{children:[l,c]})})});sAe.displayName="DiscoverHomepageWidget";var GN={},Dae;function bzt(){return Dae||(Dae=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="location-dot",r=384,s=512,a=["map-marker-alt"],i="f3c5",l="M336 192c0-79.5-64.5-144-144-144S48 112.5 48 192c0 12.4 4.5 31.6 15.3 57.2c10.5 24.8 25.4 52.2 42.5 79.9c28.5 46.2 61.5 90.8 86.2 122.6c24.8-31.8 57.8-76.4 86.2-122.6c17.1-27.7 32-55.1 42.5-79.9C331.5 223.6 336 204.4 336 192zm48 0c0 87.4-117 243-168.3 307.2c-12.3 15.3-35.1 15.3-47.4 0C117 435 0 279.4 0 192C0 86 86 0 192 0S384 86 384 192zm-160 0a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm-112 0a80 80 0 1 1 160 0 80 80 0 1 1 -160 0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faLocationDot=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(GN)),GN}var wzt=bzt();const aAe=L.memo(({setShowCTA:e})=>{const{$t:t}=ae(),{openToast:n}=Sr(),r=Vt(),s=f.useCallback(()=>{r.invalidateQueries({queryKey:[$F]}),e(!1)},[r,e]),i=M8({onSuccess:s,onError:c=>{n(c,"error",5)},origin:"homepage_weather"}),l=f.useCallback(()=>{i()},[i]);return o.jsxs(je.div,{whileTap:{scale:.98,transition:{ease:Ar,duration:.15}},className:"bg-background-300 flex w-full cursor-pointer flex-row items-center justify-center rounded-full p-3",onClick:l,children:[o.jsx(jt,{icon:wzt.faLocationDot,size:"sm",className:"text-textMain relative"}),o.jsx(F,{variant:"smallBold",color:"default",className:"ml-2",children:t({defaultMessage:"Use Precise Location",id:"A+BBIFLIgr"})})]})});aAe.displayName="EnableLocationCTA";var YN={},Fae;function _zt(){return Fae||(Fae=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="arrow-down",r=384,s=512,a=[8595],i="f063",l="M169.4 470.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 370.8 224 64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 306.7L54.6 265.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faArrowDown=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(YN)),YN}var Czt=_zt(),KN={},Uae;function Szt(){return Uae||(Uae=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="arrow-up",r=384,s=512,a=[8593],i="f062",l="M214.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-160 160c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 141.2 160 448c0 17.7 14.3 32 32 32s32-14.3 32-32l0-306.7L329.4 246.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-160-160z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faArrowUp=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(KN)),KN}var Mzt=Szt();const iAe=L.memo(({widget:e,size:t})=>{const n="leading-none",r=e.profiles[0].image,s=e.profiles[0].displayName??e.profiles[0].symbol,a=e.profiles[0].companyName,i=e.quotes[0].price,l=e.quotes[0].currency,c=e.quotes[0].changesPercentage,u=(c??0)>0,{locale:d}=ae(),h=f.useMemo(()=>W({"!text-[#20808D] dark:!text-[#1FB8CD]":u,"!text-[#A84B2F] dark:!text-[#9C4153]":!u}),[u]),m=f.useMemo(()=>i?i>=1e5?(i/1e3).toLocaleString(d,{minimumFractionDigits:2,maximumFractionDigits:2})+"k":i.toLocaleString(d,{minimumFractionDigits:2,maximumFractionDigits:2}):"",[i,d]),g=f.useMemo(()=>c?`${u?"+":""}${c?.toFixed(2)}%`:"",[c,u]),v=f.useMemo(()=>t==="MEDIUM"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"gap-xs flex items-center",children:[r&&o.jsx("img",{src:r??"",alt:a??"",className:"mt-[-2px] size-[16px] rounded-sm"}),o.jsx(F,{variant:"tinyRegular",color:"light",className:n,children:s})]}),o.jsxs("div",{className:"gap-sm flex flex-row items-baseline",children:[o.jsxs(F,{variant:"tinyRegular",className:n,children:[l==="USD"?"$":"",m,l!=="USD"&&o.jsxs("span",{className:"text-text-200 text-[11px]",children:[" ",l]})]}),o.jsx(F,{variant:"tinyRegular",className:W(n,h,"ml-auto"),children:g})]})]}):o.jsxs(o.Fragment,{children:[o.jsx(F,{variant:"tinyRegular",className:n,children:s}),o.jsx(F,{variant:"tinyRegular",className:n,children:m}),o.jsx(F,{variant:"tinyRegular",className:h,children:g})]}),[g,h,a,l,r,m,t,s]),x=f.useMemo(()=>o.jsx("div",{className:W("bg-offsetPlus flex items-center justify-center rounded-full",{"size-[18px]":t==="SMALL","size-[20px]":t!=="SMALL"}),children:o.jsx(jt,{icon:u?Mzt.faArrowUp:Czt.faArrowDown,className:h,size:"xs"})}),[u,t,h]);return o.jsxs("div",{className:W("p-sm flex h-full flex-row items-center",{"py-sm":t==="SMALL"}),children:[o.jsx("div",{className:W("pl-xs flex flex-col",t==="MEDIUM"?"gap-sm":"gap-xs"),children:v}),o.jsx("div",{className:W("ml-auto",{"mr-sm":t==="MEDIUM"}),children:x})]})});iAe.displayName="FinanceHomepageWidget";const kzt={SMALL:"col-span-1 row-span-1",MEDIUM:"col-span-2 row-span-1",LARGE:"col-span-2 row-span-2",ROW:"col-span-6 row-span-1"},wz=L.memo(({widget:e,showPadding:t=!0,restrictTwoRows:n=!0,tooltipText:r,icon:s})=>{const a=t?"px-sm py-xs":"",i=t?"p-xs":"",l=f.useMemo(()=>({lineHeight:1.3}),[]);return o.jsx("div",{className:`relative h-full ${a}`,children:o.jsx("div",{className:`flex h-full flex-col ${i}`,children:o.jsxs("div",{className:"flex flex-grow items-center gap-2",children:[o.jsx("div",{className:"bg-background-300 flex h-6 w-6 flex-shrink-0 items-center justify-center rounded-md",children:o.jsx(Ne,{icon:(s||eAe[e.prompt])??cu,color:"#8D9191",size:"sm"})}),r?o.jsx(Mn,{tooltipText:r,asChild:!0,children:o.jsx(F,{className:W("text-ellipsis",{"line-clamp-2":n}),variant:"tinyRegular",style:l,children:e.query})}):o.jsx(F,{className:W("text-ellipsis text-pretty",{"line-clamp-2":n}),variant:"tinyRegular",style:l,children:e.query})]})})})});wz.displayName="QueryHomepageWidget";const Ezt={suggested:gx,trending:Tce},Tzt=(e,t)=>{const{action:n,...r}=e,s=n.actions.find(a=>a.query===t)??n.actions[0];return{...r,type:"QUERY",query:t,action:s}},oAe=L.memo(({prompt:e})=>{switch(e){case"suggested":return o.jsx(F,{variant:"tinyRegular",color:"light",children:o.jsx(Ve,{defaultMessage:"Suggested",id:"a0lFbMbzyl"})});case"trending":return o.jsx(F,{variant:"tinyRegular",color:"light",children:o.jsx(Ve,{defaultMessage:"Trending",id:"ll/ufR0/ED"})});default:return o.jsx(F,{variant:"tinyRegular",color:"light",children:"Ask"})}});oAe.displayName="WidgetTitle";const lAe=L.memo(({widget:e,onQueryClick:t,onQueryHover:n})=>{const{queries:r}=e,s=r.length===1,a=W("px-[12px] pt-[12px]"),i=e.prompt.toLowerCase(),l=Ezt[i],c=f.useMemo(()=>L.memo(({query:u,restrictTwoRows:d})=>{const h=f.useMemo(()=>Tzt(e,u),[u]),m=f.useMemo(()=>({opacity:.5}),[]),g=f.useMemo(()=>({opacity:1}),[]),v=f.useMemo(()=>({opacity:.75,transition:{duration:.15,ease:Mi}}),[]);return o.jsx(tAe,{href:`/search/new?q=${u}&source=homepage_widget`,initial:m,animate:g,whileHover:v,children:o.jsx("div",{className:"mt-4",onClick:x=>{x.preventDefault(),t(u)},onMouseEnter:()=>n(u),children:o.jsx(wz,{widget:h,size:"MEDIUM",showPadding:!1,restrictTwoRows:d})})})}),[t,n,e]);return o.jsxs("div",{className:a,children:[o.jsxs("div",{className:"gap-x-xs flex",children:[o.jsx(Ne,{icon:l,color:"#8D9191",size:"sm"}),o.jsx(F,{variant:"tinyRegular",color:"light",children:o.jsx(oAe,{prompt:i})})]}),o.jsx("div",{children:s?o.jsx(c,{query:r[0],restrictTwoRows:!1},r[0]):o.jsx("div",{className:"",children:r.map(u=>o.jsx(c,{query:u},u))})})]})});lAe.displayName="MultiQueryHomepageWidget";const cAe=L.memo(({widget:e,onClick:t,onMouseEnter:n,index:r=0,buttonClassName:s})=>o.jsx("div",{onMouseEnter:n,children:o.jsx(kt,{children:o.jsx(je.div,{initial:{opacity:0,scale:.7,y:14},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.7},transition:{delay:r*.025,duration:.3,type:"spring",stiffness:400,damping:30},children:o.jsx(Le,{variant:"common",size:"small",text:e.query,icon:eAe[e.prompt]??cu,onClick:t,extraCSS:s},e.query)},e.uuid)})}));cAe.displayName="QueryPrimerHomepageWidget";const uAe=L.memo(({widget:e})=>{const t=f.useMemo(()=>({lineHeight:1.3}),[]);return o.jsxs("div",{className:"flex size-full flex-grow items-center gap-2",children:[o.jsx("div",{className:"bg-background-300 ml-3 flex size-[40px] flex-shrink-0 items-center justify-center rounded-md",children:e.icon_url?o.jsx(ps,{src:e.icon_url,alt:e.prompt,includeLightBoxModal:!1}):o.jsx(Ne,{icon:cu,color:"#8D9191",size:"sm"})}),o.jsxs("div",{className:"my-auto mr-1 flex flex-col overflow-hidden",children:[o.jsx(F,{variant:"tiny",children:e.prompt}),o.jsx(F,{className:W("line-clamp-2 text-ellipsis text-pretty"),variant:"tinyRegular",style:t,children:e.query})]})]})});uAe.displayName="QueryProjectHomepageWidget";const Bae=["1f4d3","1f4d4","1f4d5","1f4d7","1f4d8","1f4d9","1f4d2"],dAe=L.memo(({widget:e})=>{const[t,n]=f.useState(e.emoji),r=f.useMemo(()=>({lineHeight:1.3}),[]);return f.useEffect(()=>{if(e.emoji)n(e.emoji);else{const s=Math.floor(Math.random()*Bae.length);n(Bae[s])}},[e.emoji]),o.jsx("div",{className:"px-sm py-xs relative h-full",children:o.jsx("div",{className:"p-xs flex h-full flex-col",children:o.jsxs("div",{className:"flex flex-grow items-center gap-2",children:[o.jsx("div",{className:"bg-background-300 flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-md",children:o.jsx(hf,{unified:t,size:"small"})}),o.jsx(F,{className:"line-clamp-2 text-ellipsis text-pretty",variant:"tinyRegular",style:r,children:e.title})]})})})});dAe.displayName="SpaceHomepageWidget";const Nzt=Ht({perplexitySports:{defaultMessage:"{pplx} Sports",id:"K65/hgZBjY"},teamVsTeam:{defaultMessage:"{team1} vs {team2}",id:"lyaxuodMxh"},nfl:{defaultMessage:"NFL",id:"Lv6pQppd/V"},nba:{defaultMessage:"NBA",id:"D+pbqZQpNj"},wnba:{defaultMessage:"WNBA",id:"avDAamqQm4"},ncaam:{defaultMessage:"NCAAM",id:"gC9NSK3/R6"},ncaaw:{defaultMessage:"NCAAW",id:"eERAIF8MIh"},cricket:{defaultMessage:"Cricket",id:"hJ+aKKEPPW"},conference:{defaultMessage:"Conference",id:"E0mu0BuhfL"},division:{defaultMessage:"Division",id:"dETzL9JuSD"},league:{defaultMessage:"League",id:"P3y4FpCWKK"},nflByeNote:{defaultMessage:"Plays lowest remaining seed",id:"ivzjhdMH5D"},playoffBracket:{defaultMessage:"Playoff Bracket",id:"5T8u2ZRrKO"},watchOn:{defaultMessage:"Watch on {network}",id:"yCXRhFX8Qz"},overview:{defaultMessage:"Overview",id:"9uOFF3L8kp"},highlights:{defaultMessage:"Highlight Videos",id:"J4ZW4MNVky"},moreAboutNfl:{defaultMessage:"More about the NFL",id:"JGDrER55OW"},pregameHighlights:{defaultMessage:"Pregame Highlights",id:"pTASonM2gu"},gameHighlights:{defaultMessage:"Game Highlights",id:"nX0XrAiLIA"},final:{defaultMessage:"Final",id:"6/JzkWi0di"},videos:{defaultMessage:"Videos",id:"4XfMuxy3FO"},playerPhotos:{defaultMessage:"{player} Photos",id:"YRfYXYpNfE"},noInjuries:{defaultMessage:"No Team Injuries",id:"9D6SP/NB3G"},seasonLeaders:{defaultMessage:"Season Leaders",id:"lT3vL7pgxM"},gameLeaders:{defaultMessage:"Game Leaders",id:"BpPX7CGEMm"},bettingOdds:{defaultMessage:"Betting Odds",id:"taELAJbik0"},teamComparisons:{defaultMessage:"Team Comparison",id:"KdREfWZdzQ"},seasonComparisons:{defaultMessage:"Season Comparison",id:"1fVXZNAk6A"},seasonPerformance:{defaultMessage:"Season Performance",id:"+XGEnxB3qU"},injuries:{defaultMessage:"Injuries",id:"+9VW01o/qa"},nextGame:{defaultMessage:"Next Game",id:"GHv/zzzbyP"},gameWinnerOdds:{defaultMessage:"Game Winner Odds",id:"Ar4Hgi5LK/"},offense:{defaultMessage:"Offense",id:"gkhnHmdS3n"},pointsPerGame:{defaultMessage:"Points Per Game",id:"oiTKA0iiEO"},totalYardsPerGame:{defaultMessage:"Total Yards Per Game",id:"1hUUAbKwNU"},passingYardsPerGame:{defaultMessage:"Passing Yards Per Game",id:"NZ1ECBKywu"},rushingYardsPerGame:{defaultMessage:"Rushing Yards Per Game",id:"XaZf8sSKrF"},thirdDownConversionRate:{defaultMessage:"Third Down Conversion Rate",id:"ffvMztEyfa"},redZoneEfficiency:{defaultMessage:"Red Zone Efficiency",id:"KD1EYvEBXL"},freeThrowsMade:{defaultMessage:"Free Throws Made",id:"qngxYnoujX"},fieldGoalsMade:{defaultMessage:"Field Goals Made",id:"8hkrjZ6IYu"},turnovers:{defaultMessage:"Turnovers",id:"ix10Ldc+00"},blocks:{defaultMessage:"Blocked Shots",id:"H+onZtcuVa"},steals:{defaultMessage:"Steals",id:"6WYTxwolV8"},threePointFieldGoalsMade:{defaultMessage:"Three Point Field Goals Made",id:"sHR4TS9YOq"},defense:{defaultMessage:"Defense",id:"7Y+mK49r3z"},pointsAllowed:{defaultMessage:"Points Allowed",id:"oIj9CdpmXY"},turnoverDiff:{defaultMessage:"Turnover Diff",id:"XAiSFr028u"},pointsAllowedPerGame:{defaultMessage:"Points Allowed Per Game",id:"crP3Q4G1sg"},assistsPerGame:{defaultMessage:"Assists Per Game",id:"iVrCmaL1xp"},reboundsPerGame:{defaultMessage:"Rebounds Per Game",id:"luHpkidK/P"},fieldGoalPercentage:{defaultMessage:"Field Goal Percentage",id:"eFfteQzdQj"},blocksPerGame:{defaultMessage:"Blocks Per Game",id:"GZdk7v9wsc"},stealsPerGame:{defaultMessage:"Steals Per Game",id:"AsfNOOP1Pv"},threePointPercentage:{defaultMessage:"Three Point Percentage",id:"47T2zZRSFt"},freeThrowPercentage:{defaultMessage:"Free Throw Percentage",id:"/G3PY4IYf7"},yardsAllowedPerGame:{defaultMessage:"Yards Allowed Per Game",id:"B15PuOjR7R"},passingYardsAllowed:{defaultMessage:"Passing Yards Allowed",id:"0HGZ3V81cB"},rushingYardsAllowed:{defaultMessage:"Rushing Yards Allowed",id:"ftA+LXAEQL"},firstDowns:{defaultMessage:"First Downs",id:"aHqkLRqHjr"},penalties:{defaultMessage:"Penalties",id:"fa38C8rLbM"},penaltyYards:{defaultMessage:"Penalty Yards",id:"ZC7MShyuR1"},possessionMinutes:{defaultMessage:"Possession Minutes",id:"khpuL1ieoV"},fumblesLost:{defaultMessage:"Fumbles Lost",id:"IzuROyqz+7"},interceptionsThrown:{defaultMessage:"Interceptions Thrown",id:"tmQq6pHbYi"},other:{defaultMessage:"Other",id:"/VnDMl81rh"},totalYards:{defaultMessage:"Total Yards",id:"veZmYTt6MN"},points:{defaultMessage:"Points",id:"P0PLlQxVoe"},turnoversPerGame:{defaultMessage:"Turnovers Per Game",id:"uTgBwtAPGV"},foulsPerGame:{defaultMessage:"Fouls Per Game",id:"SMqdG+QmGB"},penaltiesPerGame:{defaultMessage:"Penalties Per Game",id:"9wKTlQSR/j"},penaltyYardsPerGame:{defaultMessage:"Penalty Yards Per Game",id:"Jm5WpbiViO"},gamePreview:{defaultMessage:"Game Preview",id:"GvobedfNcN"},gameSummary:{defaultMessage:"Game Summary",id:"+eeGQlcxzW"},gameLive:{defaultMessage:"LIVE",id:"UqyNCCygYW"},carries:{defaultMessage:"{value} carries",id:"rq9+96YlFa"},receptions:{defaultMessage:"{value} rec",id:"sTvPmiSZD7"},pointsStat:{defaultMessage:"{value} points",id:"UrDn6NGZfb"},reboundsStat:{defaultMessage:"{value} rebounds",id:"9vdJ9I7bdt"},assists:{defaultMessage:"Assists",id:"PqEAty/m8X"},rebounds:{defaultMessage:"Rebounds",id:"VXRs2esXLO"},assistsStat:{defaultMessage:"{value} assists",id:"bWLYwKNgJ3"},passingYards:{defaultMessage:"Passing Yards",id:"aQGqkCWSsl"},rushingYards:{defaultMessage:"Rushing Yards",id:"MpZ23vuQex"},receivingYards:{defaultMessage:"Receiving Yards",id:"GbfiEHr37J"},bettingOddsSpread:{defaultMessage:"Spread",id:"B7hDsYrvQe"},bettingOddsTotal:{defaultMessage:"Total",id:"MJ2jZQxQnT"},bettingOddsMoneyline:{defaultMessage:"Money Line",id:"kW0GAibgTH"},injuryReport:{defaultMessage:"Injury Report",id:"/YN/gLAPJU"},player:{defaultMessage:"Player",id:"1AGL1rdLFR"},position:{defaultMessage:"Position",id:"U6qGuOVs+L"},injury:{defaultMessage:"Injury",id:"PQiOxuIu/I"},status:{defaultMessage:"Status",id:"tzMNF3jWoU"},noRelatedGames:{defaultMessage:"No related games",id:"Ot5mpNSKsp"},teamComparison:{defaultMessage:"Team Comparison",id:"KdREfWZdzQ"},noUpdatesAvailable:{defaultMessage:"No updates available",id:"0Pg/1iJOgA"},halftime:{defaultMessage:"Halftime",id:"iC0AL294Dr"},viewMatchDetails:{defaultMessage:"View Game Details",id:"jBJqA9z9lD"},viewStandings:{defaultMessage:"View Standings",id:"oaPWiK0oYi"},followGameLive:{defaultMessage:"Follow Game Live",id:"CWFVI1BPrZ"},latestNews:{defaultMessage:"Latest News",id:"BlFeZAX10O"},imageSource:{defaultMessage:"Image source: {source}",id:"O/d/1HvfyG"},week:{defaultMessage:"Week {week}",id:"RE27WbGe9C"},total:{defaultMessage:"T",id:"sjlqAC/nrs"},team:{defaultMessage:"Team",id:"wsUmh9XWBm"},sources:{defaultMessage:"Data: Stats Perform · Player Photos: Associated Press",id:"g0CN3T/ISr"},nflSeason:{defaultMessage:"{year} NFL Season",id:"n6vqth75CA"},nbaSeason:{defaultMessage:"{year} NBA Season",id:"rrCa+R0f7X"},undrafted:{defaultMessage:"Undrafted",id:"ZpiNk0Z5Np"},pre:{defaultMessage:"Pre",id:"hMX10Ja0Xm"},preseason:{defaultMessage:"Preseason",id:"HENGOVahPR"},regularSeason:{defaultMessage:"Regular Season",id:"Ea9LD9vfyQ"},postSeason:{defaultMessage:"Postseason",id:"xvhy/ycHzu"},proBowl:{defaultMessage:"Pro Bowl",id:"pxho4sLngT"},wildCardPlayoff:{defaultMessage:"Wild Card Playoff",id:"EvhXzrm4Ix"},divisionalPlayoff:{defaultMessage:"Divisional Playoff",id:"p1LmAErYhB"},conferenceChampionship:{defaultMessage:"Conference Championship",id:"AVW9uMIxMK"},superBowl:{defaultMessage:"Super Bowl",id:"khEvs6DTrv"},relatedGames:{defaultMessage:"Related Games",id:"Vii6YKE9t9"},noEvents:{defaultMessage:"No events",id:"xPFOlw/kys"},showAllTeams:{defaultMessage:"Show all teams",id:"k112pFsCZU"},tba:{defaultMessage:"TBA",id:"ZfAWFLTzx/"},live:{defaultMessage:"Live",id:"Dn82ALx/+V"},standings:{defaultMessage:"Standings",id:"o2v7SB+ObO"},schedule:{defaultMessage:"Schedule",id:"hGQqkWwmJD"},wins:{defaultMessage:"Wins",id:"f++h1REg9b"},losses:{defaultMessage:"Losses",id:"eQJCl5DaWL"},ties:{defaultMessage:"Ties",id:"LYMVZdnuVv"},winPct:{defaultMessage:"Win Pct",id:"sHcBpWJlFR"},pointsFor:{defaultMessage:"PF",id:"zG5bX7TOdX"},pointsAgainst:{defaultMessage:"PA",id:"+09k0C5AlI"},streak:{defaultMessage:"Str",id:"/K3fzWE90S"},teamSchedule:{defaultMessage:"{year} {team} Schedule",id:"1Z4UTJhHPZ"},home:{defaultMessage:"Home",id:"ejEGdxSUGs"},away:{defaultMessage:"Away",id:"0JXAskjV4d"},previous:{defaultMessage:"Previous",id:"JJNc3cbYIJ"},upcoming:{defaultMessage:"Upcoming",id:"6/aEFZbs2i"},relatedTeams:{defaultMessage:"Related Teams",id:"ZzOufqyGoL"},seasonStats:{defaultMessage:"{year} Season Stats",id:"0p+BU5Jj9p"},coachName:{defaultMessage:"Coach",id:"uQg6UcdK4Y"},diff:{defaultMessage:"Diff",id:"Fm3StihZV6"},teams:{defaultMessage:"Teams",id:"DNeuzb5ky2"},seasonHighlights:{defaultMessage:"Season Highlights",id:"u0NXd7YWeO"},playByPlay:{defaultMessage:"Play by Play",id:"g2y6uMg3RU"},playSummary:{defaultMessage:"Play Summary",id:"HtqDGZkC7q"},activeDrive:{defaultMessage:"Active Drive",id:"9WRCeRXYnG"},drive:{defaultMessage:"Drive",id:"1YAWJ379IQ"},gameDown:{defaultMessage:"{down} Down",id:"D6NiYuphxA"},noLeader:{defaultMessage:"No Leader",id:"nEuoHaJ7ix"},endOfPeriod:{defaultMessage:"End of Quarter",id:"tY+g5ifXSh"},playSubtitle:{defaultMessage:"{count, plural, one {# Play} other {# Plays}}, {yards, plural, one {# Yard} other {# Yards}}, {duration}",id:"segO/liubc"},downloadIosNotificationCta:{defaultMessage:"Download the app to get live game updates",id:"TbQ0fq8jWR"},downloadIosNotificationCtaSub:{defaultMessage:"Scan the QR code to download the app",id:"1j+FmhPZ8J"},iosNotificationsCta:{defaultMessage:"Turn on live game updates",id:"B3DARItQiv"},iosNotificationsCtaOff:{defaultMessage:"Turn off live game updates",id:"MJ3BTMxxFR"},iosNotificationsCtaSub:{defaultMessage:"Real-time game updates",id:"qeSXEmN+v2"},iosNotificationsCtaSubOff:{defaultMessage:"You are subscribed to live game alerts.",id:"ESQg4GtLBi"},moreGames:{defaultMessage:"More Games",id:"ssuX7Q5/hn"},goals:{defaultMessage:"Goals",id:"XHLYdJ4a0Y"},shots:{defaultMessage:"Shots",id:"MtAfOi/9Z4"},shotsOnTarget:{defaultMessage:"Shots on Target",id:"XypPx7GnSa"},fouls:{defaultMessage:"Fouls",id:"ULgxB5+kkl"},yellowCards:{defaultMessage:"Yellow Cards",id:"OgfXSatXn2"},redCards:{defaultMessage:"Red Cards",id:"iM3q/GTmBa"},corners:{defaultMessage:"Corners",id:"SG1mA2ViLF"},saves:{defaultMessage:"Saves",id:"OXuG5Tbo0I"},passes:{defaultMessage:"Passes",id:"zt/qs3N6e3"}});function Vae(e){return!isNaN(new Date(e).getTime())}function zae(e){const t=e+"+00:00";return Vae(t)?t:Vae(e)?e:null}function vJt(e){if(typeof e.startDate=="string")return{full:zae(e.startDate)??"",dateType:"UTC",year:0,month:0,date:0,hour:0,minute:0};const t=e.startDate?.find(r=>r.dateType==="UTC");if(!t)return;const n=zae(t.full);if(n)return{...t,full:n}}function yJt(e){return!isNaN(e.hour)&&!isNaN(e.minute)}function xJt(e){const t=e?.tvStations?.[0]?.name;switch(t){case"Amazon Prime Video":return"Prime Video";default:return t}}function bJt(e){return e?.venue?.name||""}function wJt(e){return[e?.venue?.city,e?.venue?.state?.abbreviation].filter(Boolean).join(", ")}function _Jt(e,t){const n=e?.[0]?.forecasts?.[0],r=n?.condition;return{temperature:n?.temperature?.find(a=>a.temperatureScaleId===(t?2:1)),weatherCondition:r}}function fAe(e){return typeof e.eventStatus=="string"?e.eventStatus==="live":e?.eventStatus?.eventStatusId===2}function jzt(e){return typeof e.eventStatus=="string"?e.eventStatus==="final":e.eventStatus?.eventStatusId===4}function CJt(e){return fAe(e)||jzt(e)}function SJt(e,t){return nS(e.teams)[1].teamId===t.teamId}function Azt(e,t=4){return t===2?e.period===1&&e.minutes===0&&e.seconds===0&&e.isActive===!1:e.period===2&&e.minutes===0&&e.seconds===0&&e.isActive===!1}var QN={},Hae;function Rzt(){return Hae||(Hae=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fass",n="triangle",r=512,s=512,a=[9650],i="f2ec",l="M0 480L256 32 512 480H0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faTriangle=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(QN)),QN}var hAe=Rzt(),XN={},Wae;function Lzt(){return Wae||(Wae=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="chevron-up",r=512,s=512,a=[],i="f077",l="M239 111c9.4-9.4 24.6-9.4 33.9 0L465 303c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-175-175L81 337c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9L239 111z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faChevronUp=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(XN)),XN}var Ozt=Lzt();const MJt=({event:e})=>{const[t,n]=f.useState("scoring"),{$t:r}=ae(),s=nS(e.event.teams),a=e.event.pbp,i=fAe(e.event),l=f.useMemo(()=>a.reduce((c,u)=>(c[u.period]||(c[u.period]=[]),c[u.period].push(u),c),{}),[a]);return o.jsx(Q,{variant:"offset",className:"rounded-md",children:o.jsx(tS,{title:t==="all"?"Play-by-Play":"Scoring Plays",titleClassName:"!py-0",trailing:o.jsx(Hg,{size:"small",actionList:[{text:r({defaultMessage:"Scoring Plays",id:"DpgdMYgrGb"}),show:!0,onClick:()=>n("scoring"),active:t==="scoring"},{text:r({defaultMessage:"All Plays",id:"lVQ27GyPmi"}),show:!0,onClick:()=>n("all"),active:t==="all"}],layoutGroupId:"nfl-play-summary-tab-bar",layout:"right"}),children:o.jsx("div",{className:"-my-md",children:o.jsx(Pzt,{plays:l,teams:s,brands:e.brands,drives:e.event.driveChart,mode:t,isLive:i})})})})},Pzt=({plays:e,teams:t,brands:n,drives:r,mode:s,isLive:a})=>{const i=a?[...Object.keys(e)].reverse():Object.keys(e);return o.jsx("div",{children:i.map(l=>o.jsx("div",{children:o.jsx(Izt,{plays:e[parseInt(l)],teams:t,brands:n,drives:r,mode:s,isLive:a,period:parseInt(l)})},l+s))})},Izt=({plays:e,teams:t,brands:n,drives:r,mode:s,isLive:a,period:i})=>{const[l,c]=f.useState(!1),u=f.useMemo(()=>Object.values(e).flat().reduce((m,g)=>(m[g.driveId]||(m[g.driveId]=[]),m[g.driveId].push(g),m),{}),[e]),d=()=>{c(!0)};return!Object.keys(u).some(m=>r.find(g=>g.driveId===parseInt(m))?.driveStats.isScoringDrive==="true")&&s==="scoring"?null:o.jsxs(o.Fragment,{children:[o.jsx(F,{variant:"smallCaps",color:"light",className:"-mx-md bg-background-300 p-xs px-md",children:_z(i,{asOrdinal:!0})}),o.jsx("div",{className:W("group/plays flex flex-col",{"flex-col-reverse":a}),children:Object.keys(u).map(m=>{const g=r.find(v=>v.driveId===parseInt(m));return s==="scoring"&&g?.driveStats.isScoringDrive==="false"?null:o.jsx(Bzt,{brands:n,teams:t,plays:u[parseInt(m)],drives:r,isLive:a,period:i,onExpand:d,hasExpanded:l},m)})})]})},Dzt=e=>{if(!e)return;const t=+e.driveStats.timeOfPossession.seconds;return t<10?`${e.driveStats.timeOfPossession.minutes}:0${t}`:`${e.driveStats.timeOfPossession.minutes}:${t}`},Fzt=e=>e?e.driveEnd.playType.playTypeId===20:!1,Uzt=e=>e?e.driveEnd.gameClock.minutes!==null:!1,Bzt=({brands:e,teams:t,plays:n,drives:r,isLive:s,period:a,onExpand:i,hasExpanded:l})=>{const{$t:c}=ae(),u=r.find(w=>w.driveId===n[0].driveId),d=Uzt(u),[h,m]=f.useState(!1),g=U1(u?.teamId??n[0].endPossession.teamId,e,"nfl"),v=f.useMemo(()=>{const w=Dzt(u);return c({defaultMessage:"{count, plural, one {# Play} other {# Plays}}, {yards, plural, one {# Yard} other {# Yards}}, {duration}",id:"segO/liubc"},{count:u?.driveStats.plays,yards:u?.driveStats.yards,duration:w})},[c,u]),x=f.useMemo(()=>u?.driveEnd.period&&u.driveEnd.period!==a?c({defaultMessage:"End of Quarter",id:"tY+g5ifXSh"}):u?.driveEnd.driveChartPlayName??c({defaultMessage:"Active Drive",id:"9WRCeRXYnG"}),[c,u,a]),b=Fzt(u)?U1(t.find(w=>w.teamId!==g.teamId)?.teamId??g.teamId,e,"nfl"):g;return f.useEffect(()=>{s&&!d&&!l&&!h&&m(!0)},[]),f.useEffect(()=>{d&&!l&&m(!1)},[d,l]),o.jsxs(Q,{className:W("py-sm relative border-b",{"!border-transparent":h},{"first:border-b-0":s},{"last:border-b-0":!s}),children:[o.jsx("div",{className:W("-inset-x-md bg-background-300/50 absolute inset-y-0 duration-200",{"opacity-0":!h})}),u&&u.driveEnd.period>a&&o.jsx("div",{className:W("bg-text/25 absolute left-[calc(12px-1px)] w-[2px]",{"top-lg bottom-0":!s,"h-lg top-0":s})}),u&&u.driveStart.period<a&&o.jsx("div",{className:W("bg-text/25 absolute left-[calc(12px-1px)] w-[2px]",{"h-lg top-0":!s,"top-lg bottom-0":s})}),o.jsxs("div",{className:"gap-md relative flex cursor-pointer items-center",onClick:()=>{m(!h),i()},children:[o.jsx(Yl,{size:"small",logo:b.logo,color:b.color,className:"!border-background-200 relative"}),o.jsxs("div",{className:"flex-1",children:[o.jsx(F,{variant:"smallBold",children:o.jsx("span",{className:"uppercase",children:x})}),o.jsx(F,{variant:"tiny",color:"light",children:v})]}),o.jsxs("div",{className:"gap-lg grid grid-cols-2",children:[o.jsx($ae,{team:t[0],score:n[n.length-1].awayScoreAfter,didScore:n[n.length-1].awayScoreAfter>n[0].awayScoreBefore}),o.jsx($ae,{team:t[1],score:n[n.length-1].homeScoreAfter,didScore:n[n.length-1].homeScoreAfter>n[0].homeScoreBefore})]}),o.jsx(F,{variant:"small",className:"flex items-center",children:o.jsx(jt,{icon:h?Ozt.faChevronUp:_C.faChevronDown,size:"sm",className:"text-text-200"})})]}),o.jsx(ef,{className:"relative",mode:"popLayout",transition:{duration:.2,ease:Ar},children:h&&o.jsx(lu,{className:"w-full",initial:{opacity:0,y:-5},animate:{opacity:1,y:0,transition:{duration:.2,ease:Ar,delay:.05}},exit:{opacity:0,y:-5,transition:{duration:.2,ease:Ar}},children:o.jsx(je.div,{layout:!0,layoutRoot:!0,children:(s?[...n].reverse():n).map(w=>o.jsx(zzt,{play:w},w.playId))})})})]})},$ae=({team:e,score:t,didScore:n})=>o.jsxs("div",{children:[o.jsx(F,{variant:"small",color:"light",className:"text-right uppercase",children:e.abbreviation}),o.jsxs(F,{variant:"small",className:"text-right align-baseline",color:n?"super":void 0,children:[n&&o.jsx(jt,{icon:hAe.faTriangle,size:"2xs",className:"mr-xs translate-y-px"}),o.jsx("span",{className:"font-mono",children:t})]})]}),Vzt=e=>{const t=e.match(/([A-Za-z]+)(\d+)/);if(!t)return e;const[n,r,s]=t;return`${r} ${s}`},_z=(e,t)=>[1,2,3,4].includes(e)?t?.asOrdinal?nMe(e):`Q${e}`:"OT",zzt=({play:e})=>o.jsxs(je.div,{layout:"position",initial:{opacity:0},animate:{opacity:1},className:"gap-md group flex w-full",children:[o.jsx("div",{className:"w-[24px] shrink-0"}),o.jsx(Q,{className:"gap-md py-sm group-last:-mb-sm flex flex-1 border-b group-last:border-b-0",children:o.jsxs("div",{children:[o.jsxs(F,{variant:"small",children:[e.down&&e.distance&&`${nMe(e.down)} & ${e.distance} at `,o.jsx("span",{className:"uppercase",children:Vzt(e.yardLine)})]}),o.jsxs(F,{variant:"small",color:"light",children:["(",e.time," - ",_z(e.period),") ",e.playText]})]})})]});function kJt({event:e,brands:t,isLive:n}){const{$t:r}=ae(),[s,a]=f.useState(!1),[i,l]=f.useState("all"),c=f.useMemo(()=>e.pbp.filter(d=>i==="all"?qae(d):qae(d)&&Wzt(d)).reduce((d,h)=>(d[h.period]=d[h.period]||[],d[h.period].push(h),d),{}),[e?.pbp,i]),u=f.useMemo(()=>[{text:r({defaultMessage:"All Plays",id:"lVQ27GyPmi"}),onClick:()=>l("all"),show:!0,active:i==="all"},{text:r({defaultMessage:"Scoring Plays",id:"DpgdMYgrGb"}),onClick:()=>l("scoring"),show:!0,active:i==="scoring"}],[i,r]);return o.jsxs(o.Fragment,{children:[o.jsx(Q,{variant:"offset",className:"rounded-md",children:o.jsx(tS,{title:r(n?{defaultMessage:"Play by Play",id:"g2y6uMg3RU"}:{defaultMessage:"Play Summary",id:"HtqDGZkC7q"}),trailing:o.jsx("div",{className:"-mb-sm",children:o.jsx(Hg,{actionList:u,layoutGroupId:"nba-play-summary-tab-bar",layout:"right",size:"tiny"})}),children:o.jsx("div",{className:"-my-md",children:o.jsx(mAe,{plays:c,event:e,onViewAll:()=>a(!0),playsToRender:6,reverse:n,brands:t,inModal:!1})})})}),s&&o.jsx(qzt,{plays:c,isOpen:s,onClose:()=>a(!1),event:e,brands:t,reverse:n})]})}const mAe=f.memo(({plays:e,event:t,onViewAll:n,playsToRender:r=1/0,reverse:s=!1,brands:a,inModal:i=!1})=>{const{$t:l}=ae(),c=nS(t.teams);let u=r;const d=s?[...Object.keys(e)].reverse():Object.keys(e);return o.jsx(ef,{className:"relative",mode:"popLayout",transition:{duration:.2,ease:Ar},children:o.jsx(lu,{children:o.jsxs(Q,{children:[d.map(h=>{let m=0;const g=e[h].length;return u<=0?null:(u<g?(m=u,u=0):(m=g,u-=g),o.jsx(Hzt,{plays:e[h],playsToRender:m,teamsSorted:c,period:h,reverse:s,brands:a},h))}),!i&&n&&o.jsx("div",{className:"-mx-sm py-sm flex items-center justify-center",children:o.jsx(it,{variant:"super",chevron:!0,chevronIcon:xa,text:l({defaultMessage:"View All",id:"wbcwKddwLa"}),fullWidth:!0,size:"small",onClick:n})})]})})})});function Hzt({plays:e,playsToRender:t,teamsSorted:n,period:r,reverse:s,brands:a}){const i=f.useMemo(()=>s?[...e].reverse():e,[e,s]),l=ii();return o.jsxs(Q,{children:[t>0&&o.jsx("div",{children:o.jsxs(Q,{variant:"offsetPlus",className:W("-mx-md px-md py-sm flex items-center justify-between"),children:[o.jsx(F,{variant:"smallCaps",color:"light",children:_z(parseInt(r))}),o.jsxs("div",{className:"gap-md flex items-center",children:[o.jsx(Yae,{team:n[0].abbreviation}),o.jsx(Yae,{team:n[1].abbreviation})]})]})}),o.jsx(rm,{children:o.jsx(je.div,{layout:!0,layoutRoot:!0,children:i.slice(0,t).map((c,u)=>{const d=i[u-(s?-1:1)]?.visitorScore,h=i[u-(s?-1:1)]?.homeScore;return o.jsx($zt,{play:c,previousHomeScore:h,previousVisitorScore:d,brands:a,parentHasMounted:l},c.playId)})})})]})}function pAe(e){const t=e?.minutes||0,n=Math.ceil(e.seconds??0)?.toString().padStart(2,"0")||"00";return`${`${t}:`}${n}`}const qae=e=>e.playText!=="Starting Lineup",Wzt=e=>e.playEvent.playEventId===3||e.playEvent.playEventId===1,$zt=f.memo(({play:e,previousHomeScore:t,previousVisitorScore:n,brands:r,parentHasMounted:s})=>{const a=f.useRef(!s),i=t!==void 0&&t!==e.homeScore,l=n!==void 0&&n!==e.visitorScore,c=i||l,u=U1(e.teamId,r,"nba"),{colorScheme:d}=ba(),h=rMe(u.color,d);return o.jsxs(je.div,{className:"-mx-md border-borderMain/50 px-md py-md relative border-b",initial:a.current?void 0:{opacity:0},animate:a.current?void 0:{opacity:1},transition:{layout:{duration:.2,ease:Ar},opacity:{duration:.2,ease:Mi}},layout:"position",children:[c&&o.jsx("div",{className:"w-xs absolute inset-y-1 left-1 rounded-full opacity-50",style:{backgroundColor:h}}),!a.current&&o.jsx(je.div,{className:"bg-super/15 absolute inset-0",initial:{opacity:1},animate:{opacity:0},transition:{duration:1,ease:Mi,delay:.2}}),o.jsxs("div",{className:"gap-md relative flex items-center",children:[o.jsx(Yl,{logo:u.logo,color:u.color,size:"small",includeStripe:!1}),o.jsxs("div",{className:"gap-xs flex flex-1 flex-col items-start",children:[o.jsx(F,{variant:"smallCaps",color:"light",children:pAe(e.time)}),o.jsx(F,{variant:"small",children:e.playText})]}),o.jsxs("div",{className:"gap-md flex items-center",children:[o.jsx(Gae,{score:e.visitorScore,didScore:l}),o.jsx(Gae,{score:e.homeScore,didScore:i})]})]})]})}),Gae=({score:e,didScore:t})=>o.jsxs(F,{variant:"small",className:"relative w-[40px] text-right align-baseline",color:t?"super":void 0,children:[t&&o.jsx(jt,{icon:hAe.faTriangle,size:"2xs",className:"mr-xs translate-y-px"}),o.jsx("span",{className:"font-mono",children:e})]}),Yae=({team:e})=>o.jsx(F,{variant:"smallCaps",className:"w-[40px] shrink-0 text-right",children:e}),qzt=({plays:e,isOpen:t,onClose:n,event:r,brands:s,reverse:a})=>{const{isMobileStyle:i}=qe();return o.jsx(Sn,{isOpen:t,onClose:n,variant:i?"bottom-sheet":"side-sheet",children:o.jsx("div",{className:"min-h-full",children:o.jsx(mAe,{plays:e,event:r,brands:s,inModal:!0,reverse:a})})})},gAe=L.memo(({widget:e})=>{const{data:t}=e;return t.event_status.eventStatusId===2||t.event_status.eventStatusId===4?o.jsx(yAe,{widget:e}):o.jsx(vAe,{widget:e})});gAe.displayName="SportsHomepageWidget";const vAe=L.memo(({widget:e})=>{const{$t:t}=ae(),{data:n}=e,{away_team:r,home_team:s}=n,{locale:a}=ae(),i=f.useMemo(()=>{const l=new Date(n.start_date);return UF(l)?`${l.toLocaleString(a,{hour:"numeric",minute:"2-digit"})}, ${t({defaultMessage:"Today",id:"zWgbGgjUUg"})}`:l.toLocaleString(a,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})},[n,a,t]);return o.jsxs("div",{className:W("py-sm flex h-full flex-col items-center justify-center px-[12px]"),children:[o.jsxs("div",{className:"grid w-full grid-cols-[1fr_auto_1fr] items-center",children:[o.jsx("div",{className:"flex items-center justify-start",children:o.jsx(Yl,{logo:r.logo,color:r.color,size:"small"})}),o.jsx("div",{className:"flex items-center justify-center",children:o.jsx(F,{variant:"tinyRegular",className:"truncate",children:i})}),o.jsx("div",{className:"flex items-center justify-end",children:o.jsx(Yl,{logo:s.logo,color:s.color,size:"small"})})]}),o.jsxs("div",{className:"mt-xs flex w-full items-center justify-between",children:[o.jsx("div",{className:"min-w-0 flex-1",children:o.jsx(F,{variant:"tinyRegular",className:"truncate text-start leading-tight",color:"light",children:r.nickname})}),o.jsx("div",{className:"px-2",children:o.jsx(F,{variant:"tinyRegular",className:"truncate leading-tight",color:"light",children:"vs"})}),o.jsx("div",{className:"min-w-0 flex-1",children:o.jsx(F,{variant:"tinyRegular",className:"truncate text-end leading-tight",color:"light",children:s.nickname})})]})]})});vAe.displayName="PreviewContent";const yAe=L.memo(({widget:e})=>{const{$t:t}=ae(),{data:n}=e,{away_team:r,home_team:s,event_status:a,league:i}=n,{minutes:l,seconds:c}=a,u=a.eventStatusId===2,d=a.eventStatusId===4,h=Nzt[i.toLowerCase()],m=h?t(h):"",g=d?t({defaultMessage:"Final",id:"6/JzkWi0di"}):l!=null&&c!=null?pAe({minutes:l,seconds:c}):null,v=d||!a.period?null:`Q${a.period}`,b=Azt(a)?t({defaultMessage:"Halftime",id:"iC0AL294Dr"}):d?t({defaultMessage:"Final",id:"6/JzkWi0di"}):v&&g?`${v} ${g}`:"";return o.jsxs("div",{className:W("p-sm py-sm pr-sm flex h-full flex-col items-center justify-center"),children:[o.jsxs("div",{className:"grid w-full grid-cols-[1fr_auto_1fr] items-center",children:[o.jsxs("div",{className:"flex items-center justify-start",children:[o.jsx(Yl,{logo:r.logo,color:r.color,size:"small"}),r.score!==void 0&&o.jsxs("div",{className:"ml-sm flex flex-col items-center justify-center",children:[o.jsx(F,{variant:r.sub_score?"tinyRegular":"base",className:"truncate leading-tight",color:"default",children:r.score}),r.sub_score&&o.jsx(F,{variant:"tinyRegular",color:"light",className:"truncate",children:r.sub_score})]})]}),o.jsx("div",{className:"flex items-center justify-center",children:o.jsx(F,{variant:"tinyRegular",className:"truncate",children:b})}),o.jsxs("div",{className:"flex items-center justify-end",children:[s.score!==void 0&&o.jsxs("div",{className:"mr-sm flex flex-col items-center",children:[o.jsx(F,{variant:s.sub_score?"tinyRegular":"base",className:"truncate leading-tight",color:"default",children:s.score}),s.sub_score&&o.jsx(F,{variant:"tinyRegular",color:"light",className:"truncate",children:s.sub_score})]}),o.jsx(Yl,{logo:s.logo,color:s.color,size:"small"})]})]}),o.jsxs("div",{className:"mt-xs flex w-full items-center justify-between",children:[o.jsx("div",{className:"min-w-0 flex-1",children:o.jsx(F,{variant:"tinyRegular",className:"truncate text-start leading-tight",color:"light",children:r.nickname})}),o.jsx("div",{className:"px-2",children:u?o.jsx(xAe,{}):d&&o.jsx(F,{variant:"tinyRegular",className:"truncate leading-tight",color:"light",children:m})}),o.jsx("div",{className:"min-w-0 flex-1",children:o.jsx(F,{variant:"tinyRegular",className:"truncate text-end leading-tight",color:"light",children:s.nickname})})]})]})});yAe.displayName="SummaryContent";const xAe=L.memo(()=>o.jsx(F,{variant:"tinyRegular",color:"super",className:"bg-super/10 truncate rounded-full px-2 py-0.5 leading-tight",children:"Live"}));xAe.displayName="LiveIndicator";const Gzt={SPORTS:vHe,FINANCE:AHe},Yzt="#8D9191",Kzt=({watchlistType:e})=>{const t=Gzt[e];return o.jsx(Ne,{icon:t,color:Yzt})},Qzt=L.memo(({widget:e})=>{const{$t:t}=ae(),n=e.watchlist_type.toLowerCase(),r=t(C2[n].title),s=t(C2[n].widgetDescription);return o.jsxs("div",{className:"flex h-full flex-col items-start justify-between p-[12px]",children:[o.jsxs("div",{className:"gap-x-xs flex items-center",children:[o.jsx(Kzt,{watchlistType:e.watchlist_type}),o.jsx(F,{variant:"tinyRegular",color:"light",children:r})]}),o.jsx("div",{children:o.jsx(F,{variant:"tinyRegular",children:s})})]})}),bAe=L.memo(({location:e,forecast:t,prefersMetric:n})=>{const r="leading-none line-clamp-1",{$t:s}=ae(),a=n?t?.[0]?.maxtemp_c:t?.[0]?.maxtemp_f,i=n?t?.[0]?.mintemp_c:t?.[0]?.mintemp_f,l=s({defaultMessage:"H: {high}° L: {low}°",id:"JyTe6EoY40"},{high:a,low:i});return f.useMemo(()=>o.jsxs("div",{className:"mt-sm gap-sm flex flex-row items-baseline justify-between",children:[o.jsx(F,{variant:"tinyRegular",className:r,color:"light",children:e?.name}),o.jsx(F,{variant:"tinyRegular",className:W(r,"min-w-max"),color:"ultraLight",children:l})]}),[l,e?.name,r])});bAe.displayName="WeatherBottomSection";const Xzt=({icon:e})=>{const t=ZS(JS,e)?Wy[e]:gb.faSun;return o.jsx(jt,{icon:t,size:"xs",className:"self-start"})},wAe=L.memo(({forecast:e,prefersMetric:t})=>{const{locale:n}=ae(),r="row-span-3",s="leading-none line-clamp-1";return o.jsx("div",{className:W(r,"mt-sm flex flex-grow justify-between"),children:e?.slice(0,5).map((a,i)=>{const l=t?a.maxtemp_c:a.maxtemp_f;return o.jsxs(je.div,{className:"gap-xs flex flex-col items-start",initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.025*i,ease:qc},children:[o.jsx(F,{className:"leading-none",children:o.jsx(Xzt,{icon:a.icon})}),o.jsxs(F,{variant:"tinyRegular",className:W(s,"mt-xs"),children:[l,"°"]}),o.jsx(F,{variant:"tinyRegular",className:s,color:"light",children:kC(a.dow??"",n)})]},a.dow)})})});wAe.displayName="WeatherForecast";const Zzt=({icon:e})=>{const t=ZS(JS,e)?Wy[e]:gb.faSun;return o.jsx(jt,{icon:t,size:"xs",className:"self-start"})},_Ae=L.memo(({current:e,prefersMetric:t,setPrefersMetric:n})=>{const r="leading-none line-clamp-1",s=t?e?.temp_c:e?.temp_f,a=e?.condition?.text??"Sunny";return o.jsxs("div",{className:"gap-sm flex flex-row items-center justify-between",children:[o.jsx(F,{variant:"base",className:W(r,"min-w-max"),children:o.jsxs("div",{className:"gap-xs flex flex-row items-center justify-center",children:[o.jsx("div",{children:o.jsx(Zzt,{icon:e?.condition?.icon})}),o.jsx(F,{variant:"base",className:"tabular-nums",children:o.jsx(c1,{value:s??0,suffix:"°"})}),o.jsxs("div",{className:"gap-xxs flex",children:[o.jsx("button",{onClick:()=>n(!1),className:"cursor-pointer appearance-none",children:o.jsx(F,{variant:"tiny",color:t?"light":"default",className:W("transition-opacity",t?"opacity-50 hover:opacity-70":"opacity-100"),children:"F"})}),o.jsx(F,{variant:"tiny",color:"light",className:"opacity-50",children:"/"}),o.jsx("button",{onClick:()=>n(!0),className:"cursor-pointer appearance-none",children:o.jsx(F,{variant:"tiny",color:t?"default":"light",className:W("transition-opacity",t?"opacity-100":"opacity-50 hover:opacity-70"),children:"C"})})]})]})}),o.jsx(F,{variant:"tinyRegular",color:"light",className:r,children:a})]})});_Ae.displayName="WeatherTopSection";const CAe=L.memo(({data:e,isLoading:t,error:n,size:r="LARGE"})=>{const{prefersMetric:s,setPrefersMetric:a}=rEe();return t?o.jsx(MAe,{size:r}):n||!e?o.jsx(kAe,{}):o.jsx(SAe,{data:e,size:r,prefersMetric:s,setPrefersMetric:a})});CAe.displayName="WeatherDisplay";const SAe=L.memo(({data:e,prefersMetric:t,setPrefersMetric:n,size:r="LARGE"})=>{const{current:s,location:a,forecast:i}=e;return o.jsxs(je.div,{initial:{opacity:0,filter:"blur(4px)"},animate:{opacity:1,filter:"blur(0px)",transition:{opacity:{ease:qc,duration:.4},filter:{ease:qc,duration:.4}}},exit:{opacity:0,filter:"blur(2px)",transition:{opacity:{ease:qc,duration:.3},filter:{ease:qc,duration:.3}}},className:W("gap-sm grid h-full w-full",r==="LARGE"?"grid-rows-4":"grid-rows-2"),children:[o.jsx(_Ae,{current:s,prefersMetric:t,setPrefersMetric:n}),o.jsx(bAe,{location:a,forecast:i,prefersMetric:t}),r==="LARGE"&&o.jsx(wAe,{forecast:i,prefersMetric:t})]},"success")}),Jzt={action:{type:"CREATE_THREAD",query:"weather",prefer_pro:!1},uuid:"123",type:"WEATHER",current:{temp_c:20,temp_f:68,condition:{text:"Sunny",icon:"sun",code:"sun"}},location:{name:"San Francisco",region:"California",country:"USA"},forecast:[],is_metric_preferred:!1},MAe=L.memo(({size:e="LARGE"})=>{const t=f.useCallback(()=>{},[]);return o.jsxs(Kn,{className:W("relative"),children:[o.jsx("div",{className:"invisible",children:o.jsx(SAe,{data:Jzt,size:e,prefersMetric:!0,setPrefersMetric:t})}),o.jsxs("div",{className:W("gap-sm absolute inset-0 grid h-full w-full",e==="LARGE"?"grid-rows-4":"grid-rows-2"),children:[o.jsxs("div",{className:"gap-sm flex flex-row items-center justify-between",children:[o.jsxs("div",{className:"gap-sm flex flex-row items-center",children:[o.jsx(Q,{variant:"offset",className:"shimmer dark:bg-offsetPlusDark h-4 w-4 rounded-full"}),o.jsx(Q,{variant:"offset",className:"shimmer dark:bg-offsetPlusDark h-5 w-12 rounded"})]}),o.jsx(Q,{variant:"offset",className:"shimmer dark:bg-offsetPlusDark h-4 w-20 rounded"})]}),o.jsxs("div",{className:"gap-sm flex flex-row items-baseline justify-between",children:[o.jsx(Q,{variant:"offset",className:"shimmer dark:bg-offsetPlusDark h-3 w-16 rounded"}),o.jsx(Q,{variant:"offset",className:"shimmer dark:bg-offsetPlusDark h-3 w-14 rounded"})]}),e==="LARGE"&&o.jsx("div",{className:W("row-span-3 flex flex-grow justify-between"),children:[1,2,3,4,5].map(n=>o.jsxs("div",{className:"gap-xs flex flex-col items-start",children:[o.jsx(Q,{variant:"offset",className:"shimmer dark:bg-offsetPlusDark h-4 w-4 rounded-full"}),o.jsx(Q,{variant:"offset",className:"shimmer dark:bg-offsetPlusDark mt-xs h-3 w-6 rounded"}),o.jsx(Q,{variant:"offset",className:"shimmer dark:bg-offsetPlusDark h-3 w-8 rounded"})]},n))})]})]})});MAe.displayName="WeatherSkeleton";const kAe=L.memo(()=>o.jsx("div",{className:"gap-sm py-md flex h-full w-full flex-col items-center justify-center",children:o.jsxs("div",{className:"gap-xs flex flex-col items-center text-center",children:[o.jsx(Ne,{icon:sHe,size:"lg",className:"text-text-light opacity-50"}),o.jsx(F,{variant:"tinyRegular",color:"light",className:"mt-sm leading-tight",children:o.jsx(Ve,{defaultMessage:"Unable to load weather",id:"uwWuSjxDbt"})}),o.jsx(F,{variant:"tinyRegular",color:"ultraLight",className:"leading-tight",children:o.jsx(Ve,{defaultMessage:"Please try again later",id:"aoWE202GwV"})})]})}));kAe.displayName="WeatherError";const EAe=L.memo(({widget:e,setShowCTA:t,size:n})=>{const{location:r,permissionStatus:s}=qg(),a=r?.latitude??null,i=r?.longitude??null,{locale:l}=ae(),{data:c,isLoading:u,error:d}=Ft({queryKey:[$F,a,i].map(String),queryFn:()=>a1e({locale:l,location:r,reason:"weather-homepage-widget"})??e,initialData:e,refetchInterval:1e3*60*5,staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0,refetchOnReconnect:!0});return f.useEffect(()=>{s!==void 0&&s!=="granted"&&t(!0)},[s,t]),o.jsx("div",{className:"px-sm pt-xs",children:o.jsx(CAe,{data:c,isLoading:u,error:d,size:n})})});EAe.displayName="WeatherHomepageWidget";const eHt=L.memo(({onClick:e,onMouseEnter:t,href:n,className:r,children:s,disableHoverAnimation:a=!1})=>{const i=n?tAe:je.div,l=f.useMemo(()=>({opacity:.5}),[]),c=f.useMemo(()=>({opacity:1}),[]),u=f.useMemo(()=>({scale:.98,transition:{ease:Ar,duration:.15}}),[]),d=f.useMemo(()=>({scale:{ease:Ar,duration:.3},opacity:{ease:qc,duration:.3}}),[]);return o.jsx(i,{initial:l,animate:c,whileHover:a?void 0:{opacity:.75,transition:{duration:.15,ease:Mi}},whileTap:u,transition:d,className:W(r,a?"":"cursor-pointer"),href:n,onClick:e,onMouseEnter:t,children:o.jsx(Q,{variant:"offset",className:"relative h-full w-full select-none overflow-hidden rounded-lg",children:s})})}),tHt=L.memo(({widget:e,size:t,position:n,frontendSessionUUID:r,widgetLocation:s="home"})=>{const a="homepage-widget-base",[i,l]=f.useState(!1),[c,u]=f.useState(!1),d=Ct(),{showSuggestDropdown:h}=La(),{trackView:m,trackHover:g,trackClick:v,trackDismiss:x,trackMultiQueryClick:b,trackMultiQueryHover:w,trackMultiQueryView:C}=mzt(e,n,r,s),{createThreadAction:S,openPageAction:k,openExternalUrlAction:E,openInternalUrlAction:T,openPaywallAction:j,enableProAction:N,openWatchlistModalAction:R,multiQueryCreateThreadAction:O,populateInputAction:I,createSpaceAction:B,openModalAction:D}=yzt(),{mutate:z}=Smt({widget:e,reason:a}),V=Su(),U=on(),H=f.useMemo(()=>({email:U?.user?.email??"",deviceId:V?.device_id??"",browserVersion:V?.browser_version??"",osName:void 0??""}),[U?.user?.email,V?.device_id,V?.browser_version]),$=(re=>Ls(re).with({type:"CREATE_THREAD"},X=>`/search/new?q=${X.query}&source=homepage_widget`).with({type:"OPEN_PAGE"},X=>`/page/${X.page_slug}`).with({type:"EXTERNAL_URL"},X=>X.should_interpolate_template?mde(X.permalink,H):X.permalink).with({type:"INTERNAL_URL"},X=>X.permalink).otherwise(()=>{}))(e.action),G=f.useRef(!1);f.useEffect(()=>{if(!G.current){if(e.type!=="MULTIQUERY")m();else for(const re of e.queries)C(re);G.current=!0}},[m,e,C]);const K=WO(e),ee=f.useCallback(re=>{$&&re.preventDefault(),Ls(e.action).with({type:"CREATE_THREAD"},X=>{S(X)}).with({type:"OPEN_PAGE"},X=>k(X)).with({type:"EXTERNAL_URL"},X=>E(X,H)).with({type:"PAYWALL"},j).with({type:"INTERNAL_URL"},X=>T(X)).with({type:"ENABLE_PRO"},X=>N(X)).with({type:"OPEN_WATCHLIST_MODAL"},X=>R(X)).with({type:"MULTIQUERY"},()=>{}).with({type:"POPULATE_INPUT"},X=>{I(X)}).with({type:"CREATE_SPACE"},X=>{B(X)}).with({type:"OPEN_MODAL"},X=>{D(X)}).exhaustive(),xzt(e)&&e.dismissable&&d&&(z(),x()),e.type!=="MULTIQUERY"&&v()},[$,e,j,d,S,k,E,H,T,N,R,B,I,z,x,v,D]),oe=f.useCallback(()=>{e.type!=="MULTIQUERY"&&g()},[e.type,g]),ne=f.useMemo(()=>Ls(e).with({type:"ANNOUNCEMENT"},re=>o.jsx(rAe,{widget:re,size:t})).with({type:"DISCOVER"},re=>o.jsx(sAe,{widget:re,size:t})).with({type:"QUERY",educational_type:"primer"},re=>o.jsx(cAe,{widget:re,onClick:ee,onMouseEnter:oe,index:n})).with({type:"QUERY",educational_type:"project"},re=>o.jsx(uAe,{widget:re})).with({type:"QUERY"},re=>o.jsx(wz,{widget:re,size:t})).with({type:"WEATHER"},re=>o.jsx(EAe,{widget:re,setShowCTA:u,size:t})).with({type:"FINANCE"},re=>o.jsx(iAe,{widget:re,size:t})).with({type:"SPORTS"},re=>o.jsx(gAe,{widget:re,size:t})).with({type:"WATCHLIST"},re=>o.jsx(Qzt,{widget:re,size:t})).with({type:"SPACE"},re=>o.jsx(dAe,{widget:re,size:t})).with({type:"MULTIQUERY"},re=>o.jsx(lAe,{widget:re,onQueryClick:X=>{O(re.action.actions,X),b(X)},onQueryHover:X=>w(X)})).otherwise(()=>(le.error(new Error(`No HomepageWidget found for type: ${e.type}`)),null)),[e,t,ee,oe,n,O,b,w]),te=f.useMemo(()=>Ls(e.type).with("WEATHER",()=>o.jsx(aAe,{setShowCTA:u})).otherwise(()=>null),[e.type]);return!ne||h?null:o.jsxs("div",{className:W("relative",kzt[t]),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[K?ne:o.jsx(eHt,{href:$,onClick:ee,onMouseEnter:oe,className:"h-full w-full",disableHoverAnimation:e.type==="MULTIQUERY",children:ne}),o.jsx(kt,{children:c&&i&&o.jsx(je.div,{initial:{opacity:.5},animate:{opacity:1},exit:{opacity:0},transition:{scale:{ease:Ar,duration:.2},opacity:{ease:qc,duration:.2}},className:W("bg-background-200/60 absolute inset-0 flex justify-center rounded-lg p-[12px]",t==="LARGE"?"items-end":"items-center"),children:te})})]})}),nHt=5,rHt=f.memo(({children:e})=>o.jsx("div",{className:"gap-sm grid grid-cols-6",style:{gridTemplateRows:"repeat(auto-fit, 64px)",gridAutoRows:"64px"},children:e})),sHt=({children:e})=>o.jsx("div",{className:"gap-sm flex h-[32px] flex-row flex-wrap justify-center overflow-hidden",children:e}),aHt=e=>{switch(e){case 0:return o.jsx(Ve,{defaultMessage:"See what Comet can do",id:"TO5vylizup"});case 1:return o.jsx(Ve,{defaultMessage:"Projects created with Perplexity",id:"6XX3tVQOXy"})}},iHt=e=>{switch(e){case 0:return o.jsx(dm,{size:16});case 1:return o.jsx(bC,{size:16})}},oHt=({variant:e,children:t})=>{const n=Vt(),r=ae(),s=f.useCallback(()=>{n.invalidateQueries({queryKey:[py]})},[n]);return e?o.jsxs("div",{children:[o.jsxs("div",{className:"gap-sm pb-sm flex items-center justify-between",children:[o.jsxs("div",{className:"gap-xs flex flex-row items-center",children:[o.jsx(F,{variant:"smallBold",color:"super",children:iHt(e)}),o.jsx(F,{variant:"smallBold",color:"light",children:aHt(e)})]}),o.jsx("div",{children:o.jsx(it,{size:"tiny",onClick:s,text:r.formatMessage({defaultMessage:"See more",id:"yoLwRWw99S"}),icon:_ce})})]}),t]}):t},lHt=f.memo(({widgets:e,widgetLocation:t="home"})=>{const n=f.useMemo(()=>ri(),[]),r=E3t(),s=e.length>0;f.useEffect(()=>{s&&r("web.frontend.homepage_widgets_ttv")},[r,s]);const{flexWidgets:a,gridWidgets:i,headingVariant:l}=f.useMemo(()=>{const d=e.filter(WO).sort((g,v)=>dzt(g.seed)-.5).slice(0,nHt),h=e.filter(g=>!WO(g)),m=fzt(e)?0:hzt(e)?1:void 0;return{flexWidgets:d,gridWidgets:h,headingVariant:m}},[e]),c=f.useCallback(u=>u.map((d,h)=>o.jsx(tHt,{widget:d,size:d.size??"MEDIUM",position:h,frontendSessionUUID:n,widgetLocation:t},d.uuid)),[n,t]);return o.jsx(kt,{initial:!1,children:o.jsx(oHt,{variant:l,children:o.jsxs("div",{className:"gap-md grid grid-cols-1",children:[a.length>0&&o.jsx(sHt,{children:c(a)}),i.length>0&&o.jsx(rHt,{children:c(i)})]})})})}),cHt=f.memo(()=>{const e="homepage-widgets-wrapper",{locale:t}=ae(),n=Ct(),r=f.useMemo(()=>{if(!n)return wmt(Ln(),dD(),t)},[n,t]),s=Ai(),a=f.useMemo(()=>s!==_e.STUDIO?{}:{searchMode:_e.STUDIO},[s]),{data:i}=Ft({queryKey:[py],queryFn:()=>_mt({urlPath:r,params:a,reason:e}),gcTime:1/0}),l=Vt(),c=f.useRef(!1);return f.useEffect(()=>{if(!c.current){c.current=!0;return}l.invalidateQueries({queryKey:[py]})},[l,a]),i?o.jsx(lHt,{widgets:i}):null}),uHt=f.memo(()=>{const{isHomepageWidgetsDisabled:e}=On();return e?null:o.jsx(oi,{children:o.jsx("div",{className:"animate-in fade-in duration-300",children:o.jsx(cHt,{})})})}),dHt=()=>{const e=fo(),{value:t}=vs({flag:"user-education-long-query",defaultValue:!1,subjectType:"visitor_id",extraAttributes:{queryCount:String(Xet())},skip:e});return t},TAe=L.memo(({show:e,icon:t,text:n,variant:r="offset"})=>o.jsx(kt,{children:e&&o.jsx(je.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:[.16,1,.3,1]},style:{overflow:"hidden"},children:o.jsxs(Q,{variant:r,className:"pl-sm pr-sm py-sm gap-sm flex items-center rounded-t-2xl",children:[t,o.jsx("div",{className:"text-tiny flex-1",children:n})]})})}));TAe.displayName="AskInputEducationalHeader";const NAe=L.memo(()=>{const e=dHt(),t=qB(),n=f.useMemo(()=>t?.length>5&&t?.length<100,[t]),r=f.useMemo(()=>o.jsxs(F,{variant:"tiny",children:[o.jsx(F,{inline:!0,variant:"tinyBold",as:"span",children:o.jsx(Ve,{defaultMessage:"Try adding more detail: ",id:"F1iv3quHId"})}),o.jsx(Ve,{defaultMessage:"Perplexity works better when you give more context or share your goals",id:"q5qPv0neSZ"})]}),[]),s=f.useMemo(()=>o.jsx(Ne,{icon:XWe,size:"md",className:"text-super"}),[]);return o.jsx(TAe,{show:e&&n,icon:s,text:r})});NAe.displayName="AskInputLongQueriesEducationalHeader";const fHt="/account/connectors",Kae={GCAL_CONNECT:"gcal_connect",CONNECTOR_COMPLETE:"connector_complete"},hHt={UPSELL_CONNECTOR:"upsell-connector-channel"},Cz=async e=>{try{const{error:t}=await me.POST("/rest/homepage-widgets/upsell/interacted","upsell interaction tracking",{body:{upsell_name:e},timeoutMs:ut(),numRetries:1});t&&le.error("Failed to mark upsell as interacted",{upsellName:e,error:t})}catch(t){le.error("Error marking upsell as interacted",{upsellName:e,error:t})}},mHt=(e,t)=>e.filter(n=>n.name===t).map(n=>n.connection_uuid).filter(n=>n!=null);function pHt({reason:e}){const t=Vt(),n=vC();return Kt({mutationKey:["publishArticleMutation"],mutationFn:async({connectorName:r,connectionUUID:s,deleteFiles:a})=>{let i;return s&&!a?i=await gct({connectionUUID:s,reason:e}):s&&a?i=await vct({connectionUUID:s,reason:e}):i=await pct({connectorName:r,reason:e}),i},onSettled:async()=>{await t.refetchQueries({queryKey:n})},onMutate:async({connectorName:r,connectionUUID:s})=>{t.setQueryData(n,a=>{if(!a)return a;const i=a.connectors.connectors.map(l=>l.name===r&&(!s||l.connection_uuid===s)?{...l,connected:!1}:l);return{...a,connectors:{connectors:i}}})}})}const gHt={logged_out_image_generation:gt.IMAGE_GENERATION_IN_THREAD,auto_upgrade_to_pro:gt.AUTO_UPGRADE_TO_PRO,pro_feature_limit_queries:gt.PRO_FEATURE_LIMIT_BANNER,pro_feature_limit_files:gt.PRO_FEATURE_LIMIT_BANNER},Sz=(e,t,n)=>{const r=Ct(),{openVisitorLoginUpsell:s}=Br({enabled:!r}),{trackEvent:a}=Ye(),{lastResult:i}=un(),{$t:l}=ae(),{openModal:c}=Gt(),u=pr(),d=`?rw=true#${t}`,{submitQuery:h}=go(),{handleConnect:m}=RNe({reason:"upsell"}),{mutateAsync:g}=pHt({reason:"upsell"}),v=oV(),{handleCreateNewSpaceForThread:x}=iV(),{connectors:b}=Ua({reason:"upsell"});f.useEffect(()=>{if(!u)return;const k=new BroadcastChannel(hHt.UPSELL_CONNECTOR);return k.onmessage=E=>{E.data.type===Kae.CONNECTOR_COMPLETE&&(window.focus(),window.location.href=window.location.pathname+d)},()=>{k.close()}},[u,d]);const w=f.useCallback(()=>{if(e)switch(e.app_location){case vp.MODAL:a("upsell modal opened",{entryUUID:i?.backend_uuid,upsellType:e.upsell_type,upsellName:e.name});break;case vp.IN_THREAD:case vp.IN_THREAD_BOTTOM:case vp.IN_THREAD_INPUT:a("thread upsell banner clicked",{entryUUID:i?.backend_uuid,upsellType:e.upsell_type,upsellName:e.name});break;case vp.SIDEBAR:a("side upsell clicked",{upsellType:e.upsell_type,upsellName:e.name});break}},[i,a,e]),C=f.useCallback(()=>{i?.query_str&&h({rawQuery:i.query_str,existingEntryUUID:i.backend_uuid,redoSearch:!0,collection:null,newFrontendContextUUID:null,existingFrontendContextUUID:i.frontend_context_uuid,promptSource:"user",querySource:"rewrite-upsell",attachments:[],modelPreferenceOverride:e?.cta_information?.model_preference??"pplx_pro"})},[i,h,e]);return f.useCallback(()=>{if(!e)return;Cz(e.name),w();const k=gHt[e.name]??gt.UNSPECIFIED_GENERALIZED_UPSELL,E=i?.thread_url_slug?`/search/${i.thread_url_slug}${d}`:void 0,T=i?.thread_url_slug?`/search/${i.thread_url_slug}`:void 0;switch(e.cta){case ep.SIGN_UP_OR_LOGIN:if(u)return;s({title:e.title,origin:k});break;case ep.PRO_UPGRADE:c("pricingModal",{pitchMessage:{title:e.name==="max_upgrade_video_generation"?l({defaultMessage:"Upgrade to Max to generate videos",id:"v1CRI5YREw"}):l({defaultMessage:"Want more {copilot}?",id:"Kf+JzdHL3c"},{copilot:"Pro search"})},origin:k});break;case ep.THREAD_TO_SPACE:{if(!i?.backend_uuid)return;v?x(i?.backend_uuid,i?.frontend_context_uuid):c("spaceCreateForThread",{entryUUID:i?.backend_uuid,frontendContextUUID:i?.frontend_context_uuid});break}case ep.CONNECTOR:if(!u&&e.cta_information?.connector_type==="gcal"){const j="gcal",N=mHt(b?.connectors??[],j);for(const R of N)g({connectorName:j,connectionUUID:R});m({connectorName:j,redirectPath:E,unauthedRedirectPath:T})}else u&&e.cta_information?.connector_type==="gcal"?window.open(`${window.location.origin}${fHt}?connector_type=${Kae.GCAL_CONNECT}`,"_blank"):le.error("Unhandled upsell connector type",{connectorType:e.cta_information?.connector_type});break;case ep.REWRITE_ANSWER:n&&i?.backend_uuid?Pw({entryUUID:i?.backend_uuid,reason:"rewrite-upsell"}).catch(()=>{le.error("Error terminating entry")}).finally(C):C();break;case ep.PERMALINK:{const{permalink_new_tab:j,permalink:N}=e.cta_information??{};if(!N)return;j?window.open(N,"_blank"):window.location.href=N;break}}},[e,w,i?.thread_url_slug,i?.backend_uuid,i?.frontend_context_uuid,d,u,s,c,l,n,v,x,b,m,g,C])},Mz=L.memo(({upsellInformation:e,threadIndex:t,inFlight:n})=>{const r=Sz(e,t,n),s=f.useMemo(()=>{switch(e?.button_color){case CK.MAX_COLOR:return"maxGold";case CK.PRIMARY_COLOR:return"primary";default:return"common"}},[e?.button_color]);return o.jsx(Le,{variant:s,size:"small",onClick:r,text:e?.button_text,leadingComponent:e?.icon_reference==="labs"?o.jsx(Ne,{icon:$r,size:"sm"}):void 0,trailingComponent:e?.icon_reference==="pro"?o.jsx("div",{className:"ml-xs flex items-center",children:o.jsx(Sx,{width:"w-6",fillColor:"fill-white dark:fill-backgroundDark"})}):void 0,fullWidth:!0})});Mz.displayName="UpsellButton";const vHt=async()=>{try{return(await me.GET("/rest/homepage-widgets/upsell/","get upsells",{timeoutMs:ut()})).data?.upsell_information??null}catch(e){return le.error("Error getting homepage upsells",{error:e}),null}},yHt=()=>{const[e,t]=f.useState(),{trackEvent:n,trackEventOnce:r}=Ye();f.useEffect(()=>{vHt().then(c=>{c&&t(c)})},[]);const[s,a]=f.useState(!1);f.useEffect(()=>{e&&(a(!0),r("side upsell viewed",{upsellName:e.name,upsellType:e.upsell_type}))},[e,r]);const i=f.useCallback(()=>{e&&(n("side upsell dismissed",{upsellName:e.name,upsellType:e.upsell_type}),a(!1),Cz(e.name))},[e,n]),l=f.useMemo(()=>e?o.jsx(Mz,{upsellInformation:e}):null,[e]);return f.useMemo(()=>({show:s&&!!e,title:e?.title,description:e?.description,button:l,onDismiss:i}),[l,i,s,e])},xHt=()=>{const{$t:e}=ae(),{show:t,title:n,description:r,button:s,onDismiss:a}=yHt();return t?o.jsx("div",{className:W("pl-md pb-md absolute bottom-0 left-0 hidden pr-1 md:block","animate-in fade-in duration-200"),style:{width:yy},children:o.jsxs("div",{className:"pl-sm pb-sm",children:[o.jsx(F,{className:"leading-snug",variant:"smallBold",children:n}),o.jsx(F,{className:"mb-sm leading-snug",variant:"tinyRegular",color:"light",children:r}),o.jsx("div",{className:"mb-xs","data-testid":"side-upsell-button",children:s}),o.jsx(it,{text:e({defaultMessage:"Dismiss",id:"TDaF6JVgG6"}),onClick:a,size:"tiny",noPadding:!0,fullWidth:!0,testId:"side-upsell-dismiss"})]})}):null};function jAe(){const{isSplashPageDismissed:e}=On(),t=Oet(),{isMobileUserAgent:n}=qe(),r=Ct(),s=ln(),a=wn(),i=eC(),l=s==="/"&&(a===null||a.size===0);return!(!n||r||e||!l||t||i||N1())}const AAe=()=>o.jsxs("div",{className:"flex flex-row items-center",children:[o.jsx(Ei,{variant:"mark",color:"textMain",size:"small"}),o.jsx("div",{className:"ml-2",children:o.jsx(Ei,{variant:"text",color:"textMain",size:"small"})})]}),bHt={currentStep:null,currentIndex:0,steps:[],handleNext:()=>null,insertStep:()=>null,insertStepAndNavigate:()=>null,experimentVariationsMeta:{},setCurrentIndex:()=>null},RAe=f.createContext(bHt),EJt=({steps:e,experimentVariationsMeta:t,handleFinish:n,children:r})=>{const[s,a]=f.useState(0),[i,l]=f.useState(e),[c,u]=f.useState(null),[d,h]=f.useState(t),{trackEventTyped:m}=Ye();f.useEffect(()=>{l(e)},[e]),f.useEffect(()=>{h(t)},[t]),f.useEffect(()=>{m("step visited",{step:i[s],experimentVariationsMeta:d})},[s,d,i,m]),f.useEffect(()=>{c!==null&&(a(c),u(null),m("step transition",{sourceStep:i[s],destinationStep:i[c],isFinish:!1,experimentVariationsMeta:d}))},[s,d,c,i,m]);const g=(w,C)=>{const S=[...i];S.splice(C,0,w),l(S)},v=(w,C)=>{g(w,C),u(C)},x=()=>{i.length&&(s===i.length-1?(n?.(),m("step transition",{sourceStep:i[s],isFinish:!0,experimentVariationsMeta:d})):(a(s+1),m("step transition",{sourceStep:i[s],destinationStep:i[s+1],isFinish:!1,experimentVariationsMeta:d})))},b=f.useMemo(()=>i[s],[s,i]);return o.jsx(RAe.Provider,{value:{currentStep:b,insertStep:g,insertStepAndNavigate:v,handleNext:x,currentIndex:s,steps:i,setCurrentIndex:a,experimentVariationsMeta:d},children:r})},TJt=()=>{const e=f.useContext(RAe);if(!e)throw new Error("useMultiStep must be used within MultiStepContext");return e};De(()=>Me(()=>import("./AppDownloadQR-Cu5CYv8J.js"),__vite__mapDeps([87,1,3])),{loading:()=>o.jsx(DEe,{})});const wHt=({displayAs:e,className:t,allowBgImage:n=!0})=>{const r=["/static/images/app-icons/nasa.png","/static/images/app-icons/jungle.png","/static/images/app-icons/flower.png","/static/images/app-icons/sf.png","/static/images/app-icons/books.png","/static/images/app-icons/cat.png"],s=f.useMemo(()=>r[Math.floor(Math.random()*r.length)],[]);return o.jsxs("div",{className:W("bg-backgroundDark relative inline-flex aspect-square size-20 items-center justify-center overflow-hidden shadow-lg",{"p-md rounded-[20px]":e==="ios","p-md rounded-full":e==="android"},t),children:[n&&o.jsx("img",{className:W("absolute inset-0 opacity-50 duration-150"),src:s,suppressHydrationWarning:!0,alt:""}),o.jsx("div",{className:"relative flex items-center justify-center",children:o.jsx(Ei,{variant:"mark",size:"md",color:"white"})}),o.jsx("div",{className:"rounded-inherit absolute inset-0 border border-black/20 dark:border-white/10"})]})},_Ht=({ratingsCount:e})=>o.jsxs("div",{className:"gap-sm flex items-center",children:[o.jsx("div",{className:"flex items-center",children:[...Array(5)].map((t,n)=>o.jsx(Ne,{icon:$p,size:16,className:"text-super"},`rating-star-full-${n}`))}),o.jsx("div",{children:e&&o.jsxs(F,{variant:"tiny",color:"light",className:"flex items-end text-center",children:[e," Ratings"]})})]}),CHt=({campaignData:e,dismiss:t,translated:n})=>{const r="reviews",{isIOS:s}=sn(),[a,i]=f.useState(!!n),[l,c]=f.useState(e),{trackEvent:u}=Ye();f.useEffect(()=>{if(n)return;(async()=>{const b=await e_e({originalContent:e,keysToTranslate:["title_1","subtext_1","button_text"],reason:r});c(b),i(!0)})()},[e,n]),f.useEffect(()=>{u("mweb splash page viewed",{})},[u]);const{title_1:d,subtext_1:h,button_text:m,button_link:g}=l,v=()=>{u("app download button selected",{downloadAppDestination:"mobile",origin:"marketingLandingPage"}),aC(),window.open(g,"_blank")};return o.jsxs("div",{className:W("px-lg pt-lg pb-lg fixed inset-0 mb-auto flex h-full flex-col items-center justify-between overflow-y-auto"),children:[t&&o.jsx("div",{className:"right-sm top-sm absolute",children:o.jsx(it,{pill:!0,variant:"noBackground",size:"small",icon:yn,extraCSS:"text-textMain md:hover:text-textOff ",onClick:t})}),o.jsx(AAe,{}),o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx(wHt,{displayAs:s?"ios":"android",allowBgImage:!1}),o.jsxs("div",{className:W("flex flex-col items-center"),children:[o.jsx(kt,{children:a?o.jsxs(je.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"flex flex-col items-center",children:[o.jsx(F,{variant:"entry-title",color:"default",textCenter:!0,children:d}),o.jsx(F,{variant:"base",color:"light",textCenter:!0,className:"mt-4 max-w-[400px]",children:h})]}):o.jsxs("div",{className:"invisible flex flex-col items-center",children:[o.jsx(F,{variant:"entry-title",color:"default",textCenter:!0,children:e.title_1}),o.jsx(F,{variant:"base",color:"light",textCenter:!0,className:"mt-4 max-w-[400px]",children:e.subtext_1})]})}),o.jsx("div",{className:"mt-4",children:o.jsx(_Ht,{ratingsCount:"149K"})})]})]}),o.jsx("div",{className:"flex w-full flex-col items-center",children:o.jsx(kt,{children:a?o.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"flex w-full flex-col items-center",children:o.jsx(Le,{variant:"inverted",size:"large",text:m,icon:s?JI:sI,fullWidth:!0,extraCSS:"max-w-xs rounded-xl mx-auto",onClick:v})}):o.jsx("div",{className:"invisible flex w-full flex-col items-center",children:o.jsx(Le,{variant:"inverted",size:"large",text:e.button_text})})})})]})},SHt=({dismiss:e})=>{const t=kx({origin:"mweb-splash"});return o.jsxs("div",{className:W("px-lg pt-lg pb-lg fixed inset-0 mb-auto flex h-full flex-col items-center justify-between overflow-y-auto"),children:[o.jsx("div",{className:"right-sm top-sm absolute",children:o.jsx(it,{pill:!0,variant:"noBackground",size:"small",icon:yn,extraCSS:"text-textMain md:hover:text-textOff ",onClick:e})}),o.jsx(AAe,{}),o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("div",{className:"aspect-square size-20 overflow-hidden rounded-full shadow-lg",children:o.jsx("img",{src:"https://r2cdn.perplexity.ai/whatsapp.jpg",alt:"WhatsApp"})}),o.jsxs("div",{className:W("flex flex-col items-center"),children:[o.jsx(F,{variant:"entry-title",color:"default",textCenter:!0,children:o.jsx(Ve,{id:"2WQt3MyLfa",defaultMessage:"Ask anything, anywhere"})}),o.jsx(F,{variant:"base",color:"light",textCenter:!0,className:"mt-4 max-w-[400px]",children:o.jsx(Ve,{id:"ZTpOAItHHA",defaultMessage:"We're on WhatsApp"})}),o.jsx(F,{variant:"smallMono",color:"super",textCenter:!0,className:"mt-4",children:o.jsx(Ve,{id:"b0JEE9uTQq",defaultMessage:"+1 (833) 436-3285"})})]})]}),o.jsx("div",{className:"flex w-full flex-col items-center",children:o.jsx(Le,{variant:"inverted",size:"large",onClick:t,icon:hI,text:o.jsx(Ve,{id:"Wpt2mdD04V",defaultMessage:"Chat now"})})})]})},MHt=1;function kHt({}){const[e,t]=f.useState(!1),{actions:n}=On(),{trackEvent:r}=Ye(),{$t:s}=ae(),a=()=>{t(!1),n.setIsSplashPageDismissed(!0,MHt),r("mweb splash page dismissed",{}),document.head.querySelector("[name='theme-color']")?.remove()},{mwebUpsellWhatsApp:i,loadingMwebUpsellWhatsApp:l}=Tx();f.useEffect(()=>{l||t(!0)},[l]);const c=f.useMemo(()=>({title_1:s({defaultMessage:"Start searching with AI",id:"xADWoMp8Ck"}),subtext_1:s({defaultMessage:"It's better in the app.",id:"E7ck+HTwLo"}),button_text:s({defaultMessage:"Download now",id:"OmsvLbYdpQ"}),button_link:"http://perplexity.ai/download"}),[s]);return o.jsx("div",{className:W("bg-background fixed inset-0 flex size-full flex-grow flex-col md:hidden"),children:o.jsx(ED,{open:e,children:o.jsx(kt,{mode:"wait",children:o.jsx(TD,{children:o.jsxs(cC,{children:[o.jsxs(qI,{children:[o.jsx(uC,{children:s({defaultMessage:"Know it all",id:"F6NJO530sQ"})}),o.jsx(ND,{children:s({defaultMessage:"Search and discover with AI",id:"ydYv4/6Poi"})})]}),o.jsx(je.div,{animate:{opacity:1},id:"splash-screen-content",initial:{opacity:0},exit:{opacity:0},children:o.jsx("div",{className:W("bg-background dark:bg-backgroundDark fixed inset-0 flex size-full flex-grow flex-col","z-10"),children:i?o.jsx(SHt,{dismiss:a}):o.jsx(CHt,{dismiss:a,campaignData:c,translated:!0})})},"splash-screen-content")]})})})})})}function EHt({}){return jAe()?o.jsx(kHt,{}):null}const LAe=L.memo(e=>{const t=e.metadata?.title||"Perplexity";return f.useEffect(()=>{const n=document.head.getElementsByTagName("title");for(const r of n)r.textContent=t},[t]),null});LAe.displayName="DocumentTitle";const THt=({reason:e})=>{const t=Vt(),n=wn(),r=n?.get("stripe_checkout"),s=n?.get("is_enterprise")==="true",{trackEvent:a}=Ye(),i=r!=null,l=r==="success";f.useEffect(()=>{i&&s&&(async()=>{try{const[u,d]=await Promise.all([l?t.fetchQuery({queryKey:["refresh-org-subscription-status"],queryFn:()=>Ehe({reason:e})}):null,t.fetchQuery({queryKey:["user-org-data"],queryFn:()=>gC({reason:e})})]),h=d?.organization?.uuid;h!=null&&h!==void 0&&a("org payment portal returned",{stripeResult:r??"",orgUUID:h??"",source:n?.get("origin")??""})}catch(u){le.log("Failed to refresh org subscription:",u)}})()},[])},ZN=Ht({[Pze]:{id:"Sj7bs8Ti07",defaultMessage:"Sign in with your school email to unlock one month free of Perplexity Pro"},[Ize]:{id:"8MOEZchxNH",defaultMessage:"Sign in with your USC email to unlock one month free of Perplexity Pro"},[Dze]:{id:"4d/Zn7HZQx",defaultMessage:"Sign in with your UC Berkeley email to unlock one month free of Perplexity Pro"},[Fze]:{id:"DXeXI7X4DZ",defaultMessage:"Sign in with your IITM email to unlock one year free of Perplexity Pro"},[Uze]:{id:"sBfq8LkRp0",defaultMessage:"Sign in with your ac.kr email to unlock one year free of Perplexity Pro"}}),NHt=()=>{const e=wn(),{$t:t}=ae(),{openModal:n}=Gt(),{userAgent:r}=sn(),[s,a]=f.useState(!1),i=Ct(),{trackEvent:l}=Ye(),{openVisitorLoginImageUpsell:c}=Br({enabled:!0});f.useEffect(()=>{if(typeof window>"u")return;const u=e?.get(Oze),d=[];if(e?.get(XG)&&(d.push(XG),n("onboardingModal",{userAgent:r})),e?.get(ZG)&&(d.push(ZG),l("default search extension uninstalled",{isBrowserExtension:!0})),e?.get(eY)&&(d.push(eY),n("pricingModal",{origin:gt.MAX_URL_PAYWALL,pitchMessage:{title:t({defaultMessage:"Introducing Perplexity Max",id:"v1bpoVO4Rq"}),description:t({defaultMessage:"Maximize your curiosity with unlimited access to Perplexity Labs",id:"AX3/N9NedQ"})}})),!s&&(e?.get(Lze)||u&&ZN[u])){if(i)return;a(!0);const h=u&&ZN[u]?t(ZN[u]):t({defaultMessage:"Sign in with your school email to unlock one month free of Perplexity Pro",id:"Sj7bs8Ti07"});c({origin:gt.BACK_TO_SCHOOL,title:h,image:Vze,imageAlt:zze,loginButtonsStyle:"highlightBackToSchool"})}if(d.length>0){const h=Array.from(e?.entries()??[]).filter(([g])=>!d.includes(g)),m=new URLSearchParams;h.forEach(([g,v])=>{m.set(g,v)}),Fx(Object.fromEntries(h))}},[e,n,r,s,i,t,l,c])},jHt=()=>{const e=Ct(),{openModal:t}=Gt(),{$t:n}=ae(),{openVisitorLoginUpsell:r}=Br({enabled:!0}),s=f.useCallback(a=>{if(le.info("Thread access not allowed",{uuidOrSlug:a,isUserLoggedIn:e}),e)t("requestAccessModal",{uuidOrSlug:a});else{const i=`${window.location.origin}/search/${a}`;r({origin:gt.REQUEST_ACCESS_LOGIN_GATE,title:n({defaultMessage:"This thread is private",id:"PX12OU86rT"}),description:n({defaultMessage:"Sign in if you are the owner of this thread, or to request access",id:"/A9MF2B0ub"}),sheetModalVariant:"centered-sheet",overrideRedirectUrl:i})}},[n,e,t,r]);return f.useMemo(()=>({handleRequestAccess:s}),[s])},AHt=e=>{if(e==="pro"||e==="max")return e},RHt=()=>{const e=wn(),t=e?.get("stripe_checkout"),n=e?.get("upsell"),r=e?.get("flow_type"),s=e?.get("upgrade_max"),a=e?.get("subscription_tier"),{openModal:i}=Gt(),{formatMessage:l}=ae(),u=on()?.user?.id,d=e?.get("externalUserId"),h=e?.get("verificationId"),m=e?.get("sheerid_url"),g=f.useCallback(()=>{const k=r??"unknown",E=s==="success",T=AHt(a);i("subSuccessModal",{flowType:k,upgradeMax:E,subscriptionTier:T})},[r,i,s,a]),v=f.useCallback(({isTasksAutomationsRenameEnabled:k})=>{zet(!0),i("pricingModal",{origin:gt.TASKS_PAGE,pitchMessage:k?{title:l({defaultMessage:"Want to use Perplexity Automations?",id:"uujTvYgZRp"}),description:l({defaultMessage:"Upgrade to Pro to create and manage automations.",id:"9vQrVenMdj"})}:{title:l({defaultMessage:"Want to use Perplexity Tasks?",id:"u3CPeNV09q"}),description:l({defaultMessage:"Upgrade to Pro to create and manage tasks.",id:"oUsys+n/zQ"})}})},[l,i]),x=f.useCallback(()=>{const k=setTimeout(()=>{i("referralSuccessModal",null)},1e3);return()=>clearTimeout(k)},[i]),b=f.useCallback(()=>{const k=setTimeout(()=>{i("referralErrorModal",null)},1e3);return()=>clearTimeout(k)},[i]),w=f.useCallback(()=>{m&&i("sheerIdRedirectModal",{sheerIdUrl:m.toString()})},[i,m]),{value:C,loading:S}=zg();f.useEffect(()=>{(t==="success"||s==="success")&&g(),n==="tasks"&&(S||v({isTasksAutomationsRenameEnabled:C})),m&&w(),h&&(!!d&&!!h&&d===u?x():b())},[u,t,n,d,h,m,s,g,v,x,b,w,C,S])},LHt="streamId",nw="v1",rw="last_results",kz=e=>({backend_uuid:t,thread_url_slug:n})=>t===e||n===e,Ez=()=>{const e=_t.getItem(rw);let t={version:nw,results:Fe};try{e&&(t=JSON.parse(e),t.version!==nw&&(_t.removeItem(rw),t={version:nw,results:[]}))}catch{_t.removeItem(rw)}return t.results},$O=e=>_t.setItem(rw,JSON.stringify({version:nw,results:e})),OAe=e=>{const t=kz(e.backend_uuid),r=Ez().slice(-49).filter(s=>!t(s));r.push(e),$O(r)||$O([e])},Tz=Iw,PAe=Tz*10,OHt=PAe*10+Tz,qO="all_results",PHt=({slugOrUUID:e,enabled:t,reason:n})=>{const r=Vt(),s=f.useCallback(async(a,i)=>{const l=await Vit({slugOrUUID:a,options:{withParentInfo:!0,withSchematizedResponse:!0,supportedBlockUseCases:[...Yle],limit:i?PAe:Tz,fromFirst:!0,cursor:i},numRetries:Eg,reason:n});if(!l?.entries?.length||l.status!=="success")return[];const c=[qO,a];r.setQueryData(c,d=>{const h=l.entries,m=new Set(d?.map(v=>v.backend_uuid)),g=h.filter(v=>!m?.has(v.backend_uuid));return[...d??[],...g]});const u=r.getQueryData(c)??[];return l.next_cursor&&u.length<OHt&&s(a,l.next_cursor),u},[n,r]);return Ft({queryKey:[qO,e],enabled:!!e&&t,retry:!1,queryFn:async({queryKey:a})=>await s(a[1])})},IHt=()=>{const e=Vt();return f.useCallback(t=>{if(!t.length)return;const n=t[0],r=n.thread_url_slug??n.backend_uuid;OAe(n),e.setQueryData([qO,r],t)},[e])},DHt=(e,t,n)=>{const r=f.useRef(!1),{submitQuery:s}=go(),a=Qt(),i=t8e();f.useLayoutEffect(()=>{r.current=!1},[t]),f.useLayoutEffect(()=>{const c=new URL(window.location.href).searchParams,u=c.get("copilot"),d=c.get("pro"),h=c.get("q"),m=c.get("utm_source"),g=c.get("in_page"),v=c.get("attachments"),x=c.get("tabs"),b=c.get("nav_suggestions"),w=c.get("sources"),C=c.get("pc"),S=c.get("pt");C&&Het(C),S&&$et(S);const k=c.get("qabi")??void 0,E=v?.replace(/[[\]]/g,"").split(","),T=c.get("newFrontendContextUUID"),j=[];if(x)try{const N=JSON.parse(x);if(Array.isArray(N))for(const R of N)j.push({type:"tab",id:R,url:""})}catch(N){le.error("Failed to parse tabsParam:",N)}if(e&&h&&!T&&!r.current){const N=Array.isArray(h)?h[0]:h,R=c.get("source");if(N==="pending")return;s({rawQuery:N,copilotOverride:u==="true"||d==="true"||qpe(m??void 0),collection:null,newFrontendContextUUID:qr(),frontendUUID:t,attachments:E,inPage:g??void 0,promptSource:R==="homepage_widget"?"homepage_widget":"user",querySource:R==="homepage_widget"?"homepage_widget":"default_search",utmSource:m??void 0,quickActionButtonId:k,isNavSuggestionsDisabled:b==="false",modelPreferenceOverride:Re.DEFAULT,shouldRedirectToBackendUUID:!1,mentions:j,sourcesOverride:w?Fjt(w?.split(",")):void 0,shouldUsePageStartTime:!0,onThreadSlugReceived:O=>{a.replace(`/search/${O}`,"Omni search query")}}),r.current=!0,ett()}},[e,s,t,i,a,n])},FHt=()=>{const{value:e}=Fs({flag:"labs-side-canvas",defaultValue:!1});return e},UHt=De(async()=>({default:(await Me(()=>import("./SideCanvasViewer-B8CPYq4z.js"),__vite__mapDeps([96,1,97,3,98]))).SideCanvasViewer})),IAe=f.createContext({openCanvas:()=>{},closeCanvas:()=>{}}),NJt=()=>{const e=f.useContext(IAe),t=FHt();return f.useMemo(()=>({...e,canUseCanvas:t}),[t,e])},BHt=L.memo(({children:e})=>{const[t,n]=f.useState(!1),r=f.useCallback(()=>{n(!0)},[]),s=f.useCallback(()=>{n(!1)},[]),a=f.useMemo(()=>({openCanvas:r,closeCanvas:s}),[r,s]);return o.jsxs(IAe.Provider,{value:a,children:[e,o.jsx(kt,{children:t&&o.jsx(UHt,{})})]})}),DAe=L.memo(({children:e})=>{const{results:t}=un(),n=f.useMemo(()=>{const r=[];return t.map(s=>{s.widget_data?.map(a=>{lyt(a)&&r.push(a)})}),r},[t]);return o.jsx(P_e,{entities:n,children:e})});DAe.displayName="ScrollToWidgetWrapper";const VHt=({items:e,inFlight:t,inFlightLatest:n,rwToken:r,contentHasMounted:s,hasHeader:a=!0})=>{const{scrollContainerRef:i}=Mu(),l=ii(),{isMobileStyle:c}=qe(),u=Ln(),d=f.useMemo(()=>{if(typeof window>"u")return 0;const k=a?getComputedStyle(document.documentElement).getPropertyValue("--header-height"):"0";return parseInt(k)+(c||u?0:8)},[c,a,u]),h=f.useRef(!0),m=f.useMemo(()=>!r&&e.every(k=>!An.isStatusPending(k)),[e,r]),g=f.useMemo(()=>e.some(k=>An.isStatusPending(k)),[e]),v=f.useRef({}),x=f.useRef({});f.useEffect(()=>()=>{v.current={},x.current={}},[]);const b=f.useCallback((k,{smooth:E=!0,anchor:T=!1}={smooth:!0,anchor:!1})=>{const j=typeof k=="number"?v.current?.[k]?.current:x.current?.[k]?.current;if(j){const N=j.getBoundingClientRect().top,R=i?.current?.scrollTop??0,O=N+R-d;if(O+R>document.body.scrollHeight&&T){const I=i?.current?.scrollHeight??0,B=i?.current?.clientHeight??0,D=I-B-.1;requestAnimationFrame(()=>i?.current?.scrollTo({top:D,behavior:E?"smooth":"auto"}))}else i?.current?.scrollTo({top:O,behavior:E?"smooth":"auto"})}},[i,d]),w=f.useCallback(()=>{b(e.length-1)},[b,e.length]);f.useEffect(()=>{const k={...v.current},E={...x.current};let T=!1;e.forEach((j,N)=>{const R=N,O=j.backend_uuid;if(O)if(!k[R]||!k[R].current){const I=L.createRef();k[R]=I,E[O]=I,T=!0}else E[O]=k[R]}),Object.keys(k).forEach(j=>{e.some((N,R)=>R===Number(j))||(delete k[Number(j)],T=!0)}),T&&(x.current=E,v.current=k)},[e.length,g]);const C=e.at(-1)?.query_source==="edit";f.useEffect(()=>{if(e.length<=1||!l||!s)return;const k=window.location.hash;if(k&&!t&&h.current){try{const E=k.slice(1);E.length>3?b(E,{smooth:!1}):b(Number(E),{smooth:!1})}catch(E){le.error(E)}return}n&&!C&&b(e.length-1,{anchor:!0})},[t,n,m,e.length,l,b,s,C]);const S=v.current;return f.useMemo(()=>({refs:S,scrollToLatestItem:w,scrollToListItem:b}),[S,w,b])},Nz=f.createContext({refs:{},scrollToListItem:()=>{},left:0,width:0,setContentHasMounted:()=>{},contentHasMounted:!1});Nz.displayName="ScrollToEntityContext";const FAe=L.memo(({children:e})=>{const t=mo(),[n,{left:r,width:s}]=ou({debounce:250}),{results:a=[],inFlight:i,inFlightLatest:l}=un(),[c,u]=f.useState(!1),{isMobileStyle:d}=qe(),h=f.useMemo(()=>eje(a).map(x=>x[0]),[a]),{refs:m,scrollToListItem:g}=VHt({items:h,inFlight:i,inFlightLatest:l,rwToken:t,contentHasMounted:c,hasHeader:d});return o.jsx(Nz.Provider,{value:{scrollToListItem:g,refs:m,left:r,width:s,setContentHasMounted:u,contentHasMounted:c},children:o.jsx("div",{ref:n,children:e})})});FAe.displayName="ScrollToThreadEntryProvider";const k8=()=>{const e=f.useContext(Nz);if(!e)throw new Error("useScrollToEntity must be used within ScrollToEntityContext");return e},zHt=90,UAe=L.memo(({submitWillFork:e})=>{const{$t:t}=ae(),n=Qt(),[r,s]=f.useState(!1),{resultsLength:a}=un(),{isMobileStyle:i}=qe(),{shouldShowLossAversionModal:l,handleOpenLossAversion:c}=Ug(),u=f.useCallback(()=>{n.push("/")},[n]),d=f.useCallback(g=>{g.preventDefault(),l?c({args:{callback:u,origin:gt.NEW_THREAD_BUTTON}}):u()},[l,c,u]),h=f.useCallback(()=>{s(!0)},[]),m=f.useMemo(()=>a>=zHt&&!r&&!e,[a,r,e]);return o.jsx(kt,{children:m&&o.jsxs(je.div,{className:"bg-offset gap-sm py-sm relative z-0 mx-4 flex items-center justify-between rounded-t-lg px-3 shadow-md",role:"alert",initial:{y:"110%"},animate:{y:0},exit:{y:"110%"},transition:{duration:.4,ease:[.16,1,.3,1]},children:[o.jsxs(F,{color:"light",className:"flex items-center gap-2",children:[o.jsx(Ne,{icon:oI,className:"text-caution shrink-0"}),o.jsx("span",{className:"font-sans text-xs",children:i?o.jsx(Ve,{defaultMessage:"Thread too long. Start new one.",id:"wzstV6j0EL"}):o.jsx(Ve,{defaultMessage:"Thread is getting long. Start a new one for better answers.",id:"X7d6hUix4z"})})]}),o.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[o.jsx(it,{variant:"primary",size:"tiny",onClick:d,text:t({defaultMessage:"Start new thread",id:"jsMJO4IUTY"})}),o.jsx(it,{size:"tiny",onClick:h,pill:!0,icon:yn})]})]},"thread-capacity-warning")})});UAe.displayName="ThreadCapacityWarning";const HHt=()=>{const e=Vt(),t=vC(),n=f.useMemo(()=>e.getQueryData(t),[e,t]),{connectors:r}=Ua({reason:"useHasUnauthenticatedGmailGcal"});return f.useMemo(()=>{const s=!!r?.connectors.find(a=>a.name==="gcal"&&(!a.connected||a.has_required_scopes===!1));return!(!n||!s)},[n,r])},WHt=()=>{const e=on(),{firstResult:{author_username:t}={},inFlight:n}=un();return e?.user?.username===t||n},$Ht=({position:e,inFlight:t,isLastResult:n,upsellInformation:r,backendUuid:s})=>{const[a,i]=f.useState(!1),[l,c]=f.useState(null),u=Ln(),d=pr(),{trackEventOnce:h,trackEvent:m}=Ye(),g=WHt(),v=HHt(),x=f.useMemo(()=>{if(a||!r||(u||d)&&!r.show_in_comet||e==="top"&&r.app_location!=="IN_THREAD"||e==="bottom"&&r.app_location!=="IN_THREAD_BOTTOM"||e==="input"&&r.app_location!=="IN_THREAD_INPUT")return!1;const w=s;return!(!w||w===l||!n&&(!r.is_persistent||e==="input")||e==="bottom"&&t||r.is_persistent&&(!g||r.name==="gmail_gcal_connector"&&!v))},[a,r,u,d,e,s,l,n,t,g,v]);f.useEffect(()=>{if(!x||!r)return;const w=s;c(w),i(!0),h("thread upsell banner viewed",{entryUUID:w,upsellType:r.upsell_type,upsellName:r.name})},[s,x,h,r]);const b=f.useCallback(()=>{i(!1);const w=r,C=s;C&&w?.upsell_type&&(m("thread upsell banner dismissed",{entryUUID:C,upsellType:w.upsell_type,upsellName:w.name}),Cz(w.name))},[s,m,r]);return f.useMemo(()=>({show:a,handleDismiss:b}),[b,a])},qHt=e=>({pro:o.jsx(Ne,{icon:LO,size:"lg"}),collection:o.jsx(Ne,{icon:Ja,size:"lg"}),gmail_gcal:o.jsx(Q,{variant:"offsetPlus",className:"p-xs rounded-md border",children:o.jsx("img",{src:E_,alt:"Gmail Gcal Upsell Banner",width:40,height:40})}),research:o.jsx(Ne,{icon:XD,size:"lg"}),labs:o.jsx(Ne,{icon:bC,size:"lg"}),max:o.jsx(SF,{width:"w-8"}),comet_login:o.jsx(F,{color:"default",children:o.jsx(Ne,{icon:oI,size:"md",className:"relative bottom-[1px]"})})})[e||""]||o.jsx(Ne,{icon:LO,size:"lg"}),jz=L.memo(({position:e,idx:t,upsellInformation:n,inFlight:r,isLastResult:s,backendUuid:a,animateExpand:i=!0})=>{const{show:l,handleDismiss:c}=$Ht({position:e,inFlight:r,isLastResult:s,upsellInformation:n,backendUuid:a}),u=Sz(n,t,r),d=Ct(),h=n?.name==="comet_agent_queries_rate_limited";if(!l||!n||d&&n.upsell_type===hJe.LOGIN)return null;const m=qHt(n.icon_reference),g=n?.cta_information?.linked_description;return o.jsx(kt,{children:o.jsx(je.div,{initial:i?{height:0}:{opacity:0},animate:i?{height:"auto"}:{opacity:1},exit:i?{height:0}:{opacity:0},transition:{duration:.2},children:o.jsxs(Q,{variant:h?"superLight":"offset",className:W("gap-sm mb-md p-md md:gap-md md:gap-sm relative flex w-full rounded-md",{"flex-col items-center md:flex-row":!h,"items-top":h,"rounded-xl shadow-xl ring-1":e==="input"}),children:[o.jsx(Lx,{size:"small",onClick:c,className:W("right-sm top-sm absolute z-10 md:hidden",{hidden:h})}),o.jsx(F,{color:"default",className:W("md:block",{"mr-sm hidden":!h,"mr-xs relative top-[1px]":h}),children:m}),o.jsxs("div",{className:"md:mr-sm relative flex w-full flex-col",children:[o.jsx(F,{variant:h?"small":"smallBold",className:W("",{"mb-xs leading-none":!h,"mb-sm leading-snug":h&&!!n.description,"mb-0 leading-snug":h&&!n.description}),children:n.title}),o.jsx(F,{variant:"small",color:h?"super":g?"positive":"light",className:W("mb-0 font-normal leading-[1.3]",{"cursor-pointer":g}),onClick:g?u:void 0,children:n.description})]}),!g&&o.jsxs("div",{className:"md:gap-sm flex h-full w-full items-end justify-end md:w-auto md:flex-row md:items-center",children:[o.jsx(Mz,{upsellInformation:n,threadIndex:t,inFlight:r}),!n.cta_information?.undismissable&&o.jsx("div",{className:"hidden md:block",children:o.jsx(it,{icon:yn,size:"small",onClick:c})})]})]})})})});jz.displayName="ThreadUpsell";const BAe=L.memo(({clarificationData:e,entryUUID:t,contextUUID:n})=>{const{trackEventOnce:r}=Ye(),{isMobileUserAgent:s}=qe(),a=e?.clarificationQuestion,i=e?.clarificationCount,l=e?.isDefaultClarification;return f.useEffect(()=>{!a||l||r("clarifying query input viewed",{entry_uuid:t,context_uuid:n,clarifying_question:a})},[r,t,n,a,l]),o.jsx(je.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2,ease:"easeOut"},style:{overflow:"hidden"},children:o.jsx(Q,{className:"ml-one pr-sm gap-sm relative flex items-center rounded-lg py-1.5 pl-3.5",children:o.jsx(kt,{mode:"wait",children:o.jsx(je.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.2,ease:"easeOut"},children:o.jsx(F,{variant:"extraSmall",color:"default",className:W(s?"line-clamp-3":"line-clamp-2","pt-px !text-white dark:!text-black"),children:a})},`${a}-${i}`)})})})});BAe.displayName="ClarifyingQuestionHeader";const GHt=L.memo(({showStopButton:e,onStopButtonClick:t,clarificationData:n,upsellInformation:r,idx:s,inFlightEntryUUID:a,contextUUID:i,inFlight:l,isLastResult:c,...u})=>{const{currentOpenedModal:d}=Gt(),{isMobileUserAgent:h}=qe(),m=n?.clarificationQuestion,[g,v]=f.useState(a);return f.useEffect(()=>{a&&v(a)},[a]),o.jsx("div",{className:"w-full",children:o.jsxs(Ag,{children:[o.jsx(jz,{position:"input",idx:s,upsellInformation:r,inFlight:l,isLastResult:c,backendUuid:g,animateExpand:!1}),o.jsx(v8,{headerComponent:m?o.jsx(BAe,{clarificationData:n,entryUUID:a,contextUUID:i}):null,hasShadow:!0,showFileUpload:!0,initializeAttachmentsFromLastResult:!0,autofocus:d===null&&!h,querySource:u.submitWillFork?"fork":"followup",showStopButton:e,onStopButtonClick:t,initialLayout:h?"compact":"expanded",minRows:1,className:"dark:bg-backgroundDark bg-background shadow-[0_1px_8px_2px_oklch(var(--text-color-100)/0.1),0_36px_16px_36px_oklch(var(--background-color-100))] dark:shadow-[0_4px_12px_rgba(0,0,0,0.12),0_32px_16px_36px_oklch(var(--dark-background-color-100))]",...u})]})})}),YHt=()=>{const[e,t]=f.useState(!1),[n,r]=f.useState(!1),{scrollContainerRef:s}=Mu(),{scrollToListItem:a}=k8(),{resultsLength:i}=un(),l=f.useRef(!1),c=f.useCallback(()=>{a(i-1)},[a,i]),u=f.useCallback(()=>{if(!s.current)return;const d=s.current,h=d.scrollHeight>d.clientHeight,m=VO(d),g=i>1;m?l.current=!0:l.current&&(r(!1),l.current=!1),t(h&&!m&&g)},[s,i]);return f.useEffect(()=>{const d=s.current;if(!d)return;const h=Ni(u,100);u();const m=setTimeout(u,200);return d.addEventListener("scroll",h),window.addEventListener("resize",h),()=>{d.removeEventListener("scroll",h),window.removeEventListener("resize",h),h.cancel(),clearTimeout(m)}},[s,u]),f.useEffect(()=>{if(i<=1)return;u();const d=setTimeout(u,300);return r(!1),l.current=!1,()=>clearTimeout(d)},[i,u]),f.useMemo(()=>({showScrollButton:e,hasScrolled:n,setHasScrolled:r,scrollToLatestItem:c}),[n,c,e])},pi={default:"d",shopping:"s",jobs:"j",hotels:"h",places:"p",images:"i",videos:"v",sources:"r",assets:"a",apps:"c",tasks:"t"},Qae=e=>Object.entries(pi).find(([t,n])=>n===e)?.[0],E8=(e,t)=>{const r=new URLSearchParams(t?.toString()).get(e.toString());if(r)return typeof r=="string"?Qae(r):Array.isArray(r)?Qae(r[0]):void 0},KHt=e=>e==="default"||e==="sources",QHt=e=>Ls(e).with("default",()=>"default").with("shopping",()=>"wide").with("jobs",()=>"wide").with("hotels",()=>"full").with("places",()=>"full").with("images",()=>"full").with("videos",()=>"full").with("sources",()=>"default").with("assets",()=>"full").with("apps",()=>"full").with("tasks",()=>"default").otherwise(()=>"default"),JN=e=>({mode:e,width:QHt(e)}),XHt=()=>{const e=wn();return f.useCallback(t=>E8(t,e),[e])},ZHt=()=>{const e=wn(),t=ln(),n=Qt();return f.useCallback((r,s)=>{if(E8(r,e)===s)return;const a=new URLSearchParams(e?.toString());a.set(r.toString(),pi[s]),n.replace(`${t}?${a.toString()}`)},[t,n,e])},Az=f.createContext({activeMode:"default",setActiveMode:()=>{},activeEntryIdx:0,pinnedEntryIdx:-1,viewTitle:null,setViewTitle:()=>{}});Az.displayName="SearchPageContext";const T8=()=>{const e=f.useContext(Az);if(!e)throw new Error("useSearchPage must be used within an SearchPageProvider");return e},VAe=L.memo(({children:e})=>{const t=XHt(),[n,r]=f.useState(t(0)??"default"),[s,a]=f.useState(0),[i,l]=f.useState(-1),[c,u]=f.useState(null),{refs:d}=k8(),h=Qt(),{scrollContainerRef:m}=Mu(),g=f.useCallback(()=>{if(Object.keys(d).length===0||!m.current)return;const v=m.current.clientHeight,x=m.current.scrollTop;if(x===0){a(0),l(-1);return}const b=x+v/2;let w=s,C=-1,S=1/0;Object.entries(d).forEach(([k,E])=>{if(E.current){const T=E.current.getBoundingClientRect(),j=T.top+x+T.height/2,N=Math.abs(j-b);T.top<-100&&T.bottom>100&&(C=parseInt(k)),N<S&&(S=N,w=parseInt(k))}}),a(w),l(C)},[d,a,m,s,l]);return f.useEffect(()=>{if(!m?.current)return;const v=m.current,x=B_(g,50,{leading:!1,trailing:!0});return v.addEventListener("scroll",x),g(),()=>{v.removeEventListener("scroll",x),x.cancel()}},[g,m]),f.useEffect(()=>{u(null)},[h]),o.jsx(Az.Provider,{value:{activeMode:n,setActiveMode:r,activeEntryIdx:s,pinnedEntryIdx:i,viewTitle:c,setViewTitle:u},children:e})});VAe.displayName="SearchPageProvider";const JHt=1e3,zAe=L.memo(()=>{const e="thread-floating-footer",{$t:t}=ae(),n=ho(),{trackEventOnce:r}=Ye(),a=wn()?.get("q"),i=Ct(),{inFlightEntry:{backend_uuid:l,blocks:c,context_uuid:u}={},inFlight:d,lastResult:h,resultsLength:m,firstResult:{frontend_context_uuid:g,collection_info:v,parent_info:x}={}}=un(),b=c?.length??0,w=c?.filter(he=>he.markdown_block).length??0,C=fm(),S=g,{activeMode:k}=T8(),{mentionTypeaheadOptions:E,onTriggerTypeahead:T}=rz({reason:e,variants:["tab","shortcut"]}),j=NNe(),{addClarification:N,pendingClarifications:R}=A_e(),{submitQuery:O}=go(),{showScrollButton:I,hasScrolled:B,setHasScrolled:D,scrollToLatestItem:z}=YHt(),{isMobileUserAgent:V}=qe(),U=f.useMemo(()=>{try{return d&&b>0}catch(he){throw le.error("Unable to parse non-Pro search inFlightEntry.",he),he}},[d,b]),H=f.useMemo(()=>j&&(Us(h?.display_model)===_e.RESEARCH||Us(h?.display_model)===_e.STUDIO),[j,h?.display_model]),q=f.useMemo(()=>H&&!h?.reasoning_plan&&b>0&&w===0,[h?.reasoning_plan,b,w,H]),$=f.useMemo(()=>{if(!q||!H||!c)return null;const he=An.extractClarificationResponses(c),pe=he&&he.length>0||R.length>0,ge=An.extractClarifyingQuestion(c)??R[0]?.question;let Ce,we;if(pe)Ce=t({defaultMessage:"Thanks! You can continue adding any additional details below.",id:"BQGMO1NHdM"}),we=!0;else if(ge)Ce=ge,we=!1;else return null;return{clarificationQuestion:Ce,isDefaultClarification:we,clarificationCount:R.length}},[q,H,c,R,t]),G=f.useMemo(()=>h?.upsell_information,[h?.upsell_information]),K=f.useCallback(he=>{const pe=C,ge=ri();if(l&&q&&j){const we={uuid:qr(),clarification_type:"FREEFORM_CLARIFICATION",freeform_clarification:{text:he.query,question:$?.clarificationQuestion??void 0,attachments:he.attachments??[]}};Hit({entryUUID:l,clarification:we,reason:e}),N({content:we.freeform_clarification?.text??he.query,UUID:we.uuid,entryUUID:l,question:$?.clarificationQuestion??void 0}),$?.clarificationQuestion&&r("clarifying query submitted",{entry_uuid:l,context_uuid:u,query:he.query,attachments:he.attachments}),re.setUserInput("")}d||O({fork:pe,rawQuery:he.query,copilotOverride:i?void 0:!1,attachments:he.attachments,collection:v??null,newFrontendContextUUID:pe?ge:null,existingFrontendContextUUID:pe?void 0:S,promptSource:"user",querySource:"followup",timeFromFirstType:he.timeFromFirstType,shouldRedirectToBackendUUID:pe,...he.side_by_side_metadata&&{side_by_side_metadata:he.side_by_side_metadata},mentions:he.mentions})},[C,l,q,j,l,d,O,i,v,S,q,j,l,N,x,$]),ee=tje({handleSubmitQuery:K,isHomepage:!1,contextUuid:S||"",disableSideBySide:!!x}),oe=f.useMemo(()=>Ni(ee,JHt,{leading:!0}),[ee]),[ne,te,re]=XNe({onSubmit:oe}),X=f.useCallback(()=>{if(l){const he=n.getState().entries,ge=he[l]?.side_by_side_metadata?.sibling_uuid;ge?Object.values(he).forEach(Ce=>{Ce.side_by_side_metadata?.sibling_uuid===ge&&Ce.status==="PENDING"&&Ce.backend_uuid&&Pw({entryUUID:Ce.backend_uuid,reason:e})}):Pw({entryUUID:l,reason:e})}},[l,n]);f.useEffect(()=>{a!==null&&a!==""&&re.setUserInput("")},[a]);const ce=f.useMemo(()=>({opacity:0,y:10}),[]),se=f.useMemo(()=>({opacity:1,y:0}),[]),J=f.useMemo(()=>({opacity:0,y:10}),[]),de=eC(),ie=f.useCallback(()=>{z(),D(!0)},[z,D]);return o.jsx(Q,{className:W("erp-sidecar:fixed bottom-safeAreaInsetBottom p-md pointer-events-none absolute z-10 w-full"),children:o.jsx("div",{className:"max-w-threadContentWidth mx-auto",children:o.jsx("div",{className:"pointer-events-auto",children:o.jsx(kt,{initial:!1,children:KHt(k)&&!de&&o.jsxs(o.Fragment,{children:[I&&!B&&o.jsx(je.div,{className:"mb-2 flex justify-center",layout:"position",initial:ce,animate:se,exit:J,transition:{opacity:{duration:.2,ease:"easeInOut"},y:{duration:.2,ease:"easeInOut"}},children:o.jsx(Le,{size:"small",variant:"border",icon:lHe,layout:"center",pill:!0,onClick:ie,toolTip:t({defaultMessage:"Scroll to latest",id:"E6r0bc1I6z"}),extraCSS:"!bg-background shadow-subtle"})},"scroll-button"),o.jsx(UAe,{submitWillFork:C}),o.jsx(je.div,{initial:ce,animate:se,exit:J,children:f.createElement(GHt,{...re,key:"ask-input",value:ne,json:te,isFollowUp:!0,disabled:d&&!q,placeholder:t(j&&q?{defaultMessage:"Add details or clarifications…",id:"iMliXlAn8c"}:{defaultMessage:"Ask a follow-up…",id:"dxepjFd+cI"}),submitWillFork:C,showStopButton:U,inFlightEntryUUID:l,contextUUID:u,onStopButtonClick:X,useLexical:!0,mentionTypeaheadOptions:E,onTriggerTypeahead:T,dropdownPlacement:pr()?"top":void 0,clarifyingQuestion:q?$?.clarificationQuestion:void 0,clarificationData:$??void 0,shouldAcceptClarification:q,showSearchModeSelector:!q,showModelSelector:!q&&!V,showFileUpload:!U||q,upsellInformation:G,idx:m-1,inFlight:d,isLastResult:!0})},"ask-input")]})})})})})});zAe.displayName="ThreadFloatingFooter";const HAe=L.memo(({children:e,forceVisible:t=!1,unmeasuredHeight:n,rootMargin:r,threshold:s,root:a,ref:i})=>{const[l,c]=f.useState(0),[u,d]=f.useState(t),h=f.useDeferredValue(u),m=f.useRef(null),g=f.useRef(null);f.useEffect(()=>{if(!m.current||!g.current||t)return;const x=new ResizeObserver(w=>{const C=w[0].contentRect.height;c(S=>C||S)}),b=new IntersectionObserver(w=>{w.forEach(C=>{d(C.isIntersecting)})},{rootMargin:r,threshold:s,root:a});return x.observe(m.current),b.observe(g.current),()=>{x.disconnect(),b.disconnect()}},[t,n,r,s,a]);const v=f.useCallback(x=>{m.current=x,i instanceof Function?i(x):i&&(i.current=x)},[i]);return o.jsx("div",{style:t?void 0:{minHeight:`${l||n}px`},ref:g,children:o.jsx("div",{ref:v,children:t||h?e:null})})});HAe.displayName="LazyContainer";function eWt({entropyBrowser:e,isSidecar:t,scrollContainerRef:n}){f.useEffect(()=>{if(!(!e||!t))return e.subscribeQuickActionButtonFired(()=>{n.current&&n.current.scrollTo({top:n.current.scrollHeight,behavior:"smooth"})})},[e,t,n])}const tWt=()=>{const e=f.useRef(!1),{results:t,lastResult:n}=un(),r=ii(),s=Ct(),{openVisitorLoginUpsell:a}=Br({enabled:!s}),i=Sz(n?.upsell_information);f.useEffect(()=>{e.current||r&&t.length>=1&&n&&n.upsell_information?.app_location===vp.MODAL&&(i(),e.current=!0)},[r,s,a,t.length,n,i])},nWt=()=>{const e=Ct(),{isMobileUserAgent:t}=qe(),{firstResult:{author_username:n}={}}=un(),{openInstallUpsell:r}=$6e(),{shareGateImpressions:s,actions:a}=On(),i=f.useRef(!1),l=wn(),c=l?.get("installGate"),u=l?.get("q");f.useEffect(()=>{i.current||e||t&&(!n&&!u||N1()||cD()||uD()||c==="true"&&(s>=YP||(r({origin:gt.SHARED_THREAD_INSTALL_GATE,sheetModalVariant:"inset-centered-sheet"}),a.setShareGateImpressions(s+1),i.current=!0)))},[a,n,t,u,c,e,r,s])},rWt=()=>{const{isMetaBrowser:e,isIOS:t,isAndroid:n}=sn();return f.useCallback(()=>{if(!e||typeof window>"u")return;const s=window.location.href;let a;t?a=s.replace(/^https?:\/\//,"x-safari-https://"):n&&(a=`intent://${s.replace(/^https?:\/\//,"")}#Intent;scheme=https;package=com.android.chrome;end`),a&&Oh(a,"Redirecting to native browser")},[e,t,n])},sWt=(e,t)=>e?"full-sheet-blurred":t==="delayed"?"bottom-sheet-gradient":"centered-sheet",aWt=()=>{const{$t:e}=ae(),t=Ct(),{isMobileUserAgent:n}=qe(),{firstResult:{author_username:r}={}}=un(),{openVisitorLoginUpsell:s}=Br({enabled:!0}),{shareGateImpressions:a,actions:i}=On(),l=f.useRef(!1),c=wn(),{scrollContainerRef:u}=Mu(),[d,h]=f.useState(!1),m=rWt(),g=c?.get("visitorGate"),v=c?.get("q");f.useEffect(()=>{const x=u.current;if(x)return x.addEventListener("scroll",()=>{h(VO(x))}),()=>{x.removeEventListener("scroll",()=>{h(VO(x))})}},[u]),f.useEffect(()=>{l.current||t||!r&&!v||cD()||uD()||a>=YP||g==="false"||g==="delayed"&&!d||!g&&!(!n&&!v)||(m(),s({origin:gt.SHARED_THREAD_LOGIN_GATE,description:"",title:e({defaultMessage:"Instant answers at your fingertips",id:"NFjQpck2Ql"}),sheetModalVariant:sWt(n,g),overrideMobileVariant:!0}),i.setShareGateImpressions(a+1),l.current=!0)},[n,t,s,e,a,i,d,g,c,r,m,v])},iWt=({reason:e})=>{const{DEFAULT_SOURCES:t}=XS({reason:e}),{setSources:n,setIsCopilot:r,gpt4Limit:s}=Mr(),a=ii(),{trackEvent:i}=Ye(),{lossAversionStatus:l,setLossAversionStatus:c,unsetLossAversion:u}=YF(),d=Ct(),{results:h,lastResult:m,firstResult:{author_id:g,author_username:v,context_uuid:x,query_source:b,sources:{sources:w}={}}={}}=un(),C=mo(),S=wn(),k=f.useRef(!1),{pinnedEntryIdx:E,setViewTitle:T}=T8(),{formatMessage:j}=ae(),{openVisitorLoginUpsell:N}=Br({enabled:!d}),{scrollContainerRef:R}=Mu(),O=pr(),I=Bs();return aWt(),nWt(),tWt(),eWt({scrollContainerRef:R,isSidecar:O,entropyBrowser:I}),f.useEffect(()=>{const B=An.isSourceListType(w)?w:[...t];n(B);const D=h.some(z=>An.isCopilotMode(z))&&!!s&&s>0;r(D)},[]),f.useEffect(()=>{if(!k.current&&a&&h.length>=1&&m&&An.isStatusCompleted(m)&&g&&v){const B=S?.get("utm_source")??void 0;i("thread viewed",{authorId:g,authorUsername:v,isThreadCreator:!!C,contextUUID:x,viewSource:B}),x&&Mct({contextUUID:x,reason:e}),b==="perplexity_tasks"&&i("task thread viewed",{contextUUID:x}),k.current=!0}},[i,a,g,v,x,m,h.length,S,C,d,N,j,e,b]),f.useEffect(()=>{l!=="cooldown"&&(!d&&!l&&C?c("allowed"):C||u())},[d,l,C,c,u]),f.useEffect(()=>{T(E===-1?null:h[E]?.query_str??"")},[E,T,h]),FC(()=>{l==="allowed"&&u()}),null},oWt=e=>e?e.filter(t=>t.image_mode_block).flatMap(t=>t.image_mode_block.media_items??Fe):Fe,lWt=e=>e?e.filter(t=>t.video_mode_block).flatMap(t=>t.video_mode_block.media_items??Fe):Fe,cWt=e=>e?e.filter(t=>t.shopping_mode_block).flatMap(t=>t.shopping_mode_block.shopping_widgets??Fe):Fe,uWt=e=>e?e.filter(t=>t.jobs_mode_block).flatMap(t=>t.jobs_mode_block.jobs_blocks??Fe):Fe,dWt=e=>e?e.filter(t=>t.maps_mode_block).flatMap(t=>t.maps_mode_block.places??Fe):Fe,fWt=e=>{const t=(e??Fe).filter(i=>i.sources_mode_block).flatMap(i=>i.sources_mode_block),n=t.at(-1),r=new Set,s=[];for(const i of t)for(const l of i.web_results)r.has(l.url)||(s.push(l),r.add(l.url));const a=n?.result_count??0;return{count:Math.max(s.length,a),progress:n?.progress,results:s,rows:n?.rows}},hWt=e=>e?e.filter(t=>t.assets_mode_block).flatMap(t=>t.assets_mode_block.assets??Fe):Fe,mWt=({idx:e,searchParams:t,blocks:n})=>uo()((r,s)=>({answerModeActionList:[],currentModeData:JN(E8(e,t)??"default"),...WAe(n),actions:{updateCurrentMode:a=>{const i=s(),l=i.defaultModeOverride&&a==="default"?i.defaultModeOverride:a;r({currentModeData:JN(l)})},setOverrideMode:a=>{const i=a;r({defaultModeOverride:i,currentModeData:JN(i??"default")})}}})),{Context:pWt,useTrackedState:gWt}=Nx("AnswerMode"),Rz=f.createContext(void 0);Rz.displayName="AnswerModeApiContext";const vWt=({children:e,scrollToListItem:t})=>{const n=wn(),{setActiveMode:r,activeEntryIdx:s}=T8(),{idx:a,result:{backend_uuid:i,context_uuid:l}}=Un(),{actions:{updateCurrentMode:c,setOverrideMode:u},currentModeData:d}=Ab(),h=ZHt(),{trackEvent:m}=Ye(),g=f.useCallback(x=>{x!==d.mode&&(h(a,x),c(x),s===a&&r(x),requestAnimationFrame(()=>{t(a,{smooth:!0})}),m("answer mode tab selected",{answerMode:x,entryUUID:i,contextUUID:l}))},[d.mode,h,a,c,s,m,i,l,r,t]);f.useEffect(()=>{s===a&&r(d.mode)},[s,a,r,d.mode]),f.useEffect(()=>{const x=E8(a,n);x&&g(x)},[a,g,n]);const v=f.useMemo(()=>({updateCurrentMode:b=>{g(b)},setOverrideMode:u}),[g,u]);return o.jsx(Rz.Provider,{value:v,children:e})};function WAe(e){const t=oWt(e),n=lWt(e),r=cWt(e),s=uWt(e),a=dWt(e),i=fWt(e),l=hWt(e);return{images:t,videos:n,shopping:r,jobs:s,places:a,sources:i,assets:l}}const $Ae=L.memo(({children:e,scrollToListItem:t})=>{const{$t:n}=ae(),r=wn(),{idx:s,searchMode:a,hasAnswer:i,researchPlan:l,reasoningPlan:c,showAgentWorkflow:u,result:{answer_modes:d,blocks:h,attachments:m}}=Un(),g=Ln(),[v]=f.useState(()=>mWt({idx:s,searchParams:r,blocks:h}));f.useEffect(()=>{h||le.error("No blocks found for entry",h)},[h]),f.useEffect(()=>{const S=v.getState(),{images:k,videos:E,shopping:T,jobs:j,places:N,sources:R,assets:O}=WAe(h),I=Ya(S.images,k)?S.images:k,B=Ya(S.videos,E)?S.videos:E,D=Ya(S.shopping,T)?S.shopping:T,z=Ya(S.jobs,j)?S.jobs:j,V=Ya(S.places,N)?S.places:N,U=Ya(S.sources,R)?S.sources:R,H=Ya(S.assets,O)?S.assets:O;(I!==S.images||B!==S.videos||D!==S.shopping||z!==S.jobs||V!==S.places||U!==S.sources||H!==S.assets)&&v.setState({images:I,videos:B,shopping:D,jobs:z,places:V,sources:U,assets:H})},[h,v]);const x=v.getState().sources,b=f.useMemo(()=>({[Fn.SHOPPING]:{text:n({defaultMessage:"Shopping",id:"my1MLnIMoS"}),icon:YWe,id:pi.shopping,mode:"shopping",testId:Ga.ANSWER_MODE_TABS.SHOPPING},[Fn.JOBS]:{text:n({defaultMessage:"Jobs",id:"9AcATFXaoo"}),icon:EHe,id:pi.jobs,mode:"jobs",testId:Ga.ANSWER_MODE_TABS.JOBS},[Fn.HOTELS]:{text:n({defaultMessage:"Hotels",id:"+dqK4hw0if"}),icon:pg,id:pi.hotels,mode:"hotels",testId:Ga.ANSWER_MODE_TABS.HOTELS},[Fn.MAPS]:{text:n({defaultMessage:"Places",id:"QQInFSbbwr"}),icon:vce,id:pi.places,mode:"places",testId:Ga.ANSWER_MODE_TABS.PLACES},[Fn.IMAGE]:{text:n({defaultMessage:"Images",id:"Fip4H8CuWD"}),icon:mx,id:pi.images,mode:"images",testId:Ga.ANSWER_MODE_TABS.IMAGES},[Fn.VIDEO]:{text:n({defaultMessage:"Videos",id:"4XfMuxy3FO"}),icon:xce,id:pi.videos,mode:"videos",testId:Ga.ANSWER_MODE_TABS.VIDEOS},[Fn.SOURCES]:{text:n({defaultMessage:"Sources",id:"fhwTpAcBLC"}),icon:Dh,id:pi.sources,mode:"sources",testId:Ga.ANSWER_MODE_TABS.SOURCES,count:x.count||m?.length||0,disabled:x.progress!==yp.DONE&&!m?.length},[Fn.ASSETS]:{text:n({defaultMessage:"Assets",id:"d1uESJO+TH"}),icon:t$e,id:pi.assets,mode:"assets",testId:Ga.ANSWER_MODE_TABS.ASSETS},[Fn.APPS]:{text:n({defaultMessage:"App",id:"2rUVsUf259"}),icon:wWe,id:pi.apps,mode:"apps",testId:Ga.ANSWER_MODE_TABS.APPS},[Fn.TASKS]:{text:n({defaultMessage:"Steps",id:"huCHmkVjex"}),icon:mY,id:pi.tasks,mode:"tasks",testId:Ga.ANSWER_MODE_TABS.TASKS}}),[n,m?.length,x.count,x.progress]),w=f.useMemo(()=>n(g?{defaultMessage:"Assistant",id:"wSAvhubuX6"}:{defaultMessage:"Answer",id:"DwjT1HpUgU"}),[n,g]),C=g?dm:void 0;return f.useEffect(()=>{const S=d?.map(N=>Ls(N.answer_mode_type).with(Fn.SHOPPING,()=>b[Fn.SHOPPING]).with(Fn.JOBS,()=>b[Fn.JOBS]).with(Fn.HOTELS,()=>b[Fn.HOTELS]).with(Fn.MAPS,()=>b[Fn.MAPS]).with(Fn.IMAGE,()=>b[Fn.IMAGE]).with(Fn.VIDEO,()=>b[Fn.VIDEO]).with(Fn.SOURCES,()=>b[Fn.SOURCES]).with(Fn.ASSETS,()=>b[Fn.ASSETS]).with(Fn.APPS,()=>b[Fn.APPS]).with(Fn.TASKS,()=>b[Fn.TASKS]).otherwise(R=>(le.warn("Unsupported Answer Mode",{mode:R.valueOf()}),null))).filter(N=>!!N),k=[{text:a===_e.SEARCH?w:n(us[a].name),icon:a!==_e.SEARCH?A1[a]:C,id:"d",mode:"default",testId:Ga.ANSWER_MODE_TABS.ANSWER(a)},...(S??[]).filter(N=>N.mode!=="tasks"||i)],E=k.some(N=>N.mode==="tasks"),T=(l?.goals?.length??0)+(c?.goals?.length?c.goals.length-1:0);!E&&T>0&&!u&&i&&k.push({text:n({defaultMessage:"Steps",id:"huCHmkVjex"}),icon:mY,id:pi.tasks,mode:"tasks",testId:Ga.ANSWER_MODE_TABS.TASKS});const j=v.getState();Ya(j.answerModeActionList,k)||v.setState({answerModeActionList:k})},[n,d,i,b,c?.goals?.length,l?.goals?.length,a,g,w,C,u,v]),o.jsx(pWt.Provider,{value:v,children:o.jsx(vWt,{scrollToListItem:t,children:e})})});$Ae.displayName="AnswerModeProvider";const Ab=gWt,qAe=()=>{const e=f.useContext(Rz);if(!e)throw new Error("useAnswerModeApi must be used within an AnswerModeProvider");return e},yWt=f.memo(({submitQuery:e,isFirstResult:t})=>{const{$t:n}=ae(),{inFlight:r,editQueryValue:s,isEditingQuery:a,isFailed:i,userClarifications:l,result:{uuid:c,query_str:u,backend_uuid:d,frontend_context_uuid:h,display_model:m,attachments:g,side_by_side_metadata:v},actions:{setEditQueryValue:x,setIsEditingQuery:b}}=Un(),w=fm(),C=mo(),{trackEvent:S}=um(),{isMobileStyle:k}=qe(),E=f.useCallback(()=>{x(u??""),b(!1),d&&S("cancel edit query click",{entryUUID:d})},[d,u,x,b,S]),{updateCurrentMode:T}=qAe();eS("thread-title",{skip:!t}),f.useEffect(()=>{r&&b(!1)},[r,b]);const j=f.useCallback(()=>{r||!C||(S("confirm edit query click",{entryUUID:d??"",newQuery:s}),h?(e({rawQuery:s,existingEntryUUID:d,redoSearch:!0,collection:null,newFrontendContextUUID:null,existingFrontendContextUUID:w?void 0:h,promptSource:"user",querySource:"edit",attachments:g,modelPreferenceOverride:m}),b(!1),T("default")):le.warn(new Error(`No frontend UUID for thread backendUUID=${d}`)))},[r,C,S,d,s,h,e,w,g,m,b,T]),N=f.useCallback(H=>{yi.isEnterKeyWithoutShift(H)?(H.preventDefault(),j()):yi.isEscapeKey(H)&&E()},[j,E]),{quote:R,actualQuery:O}=Wd(u,l),I=f.useCallback(()=>{r||(x(O??""),b(!0))},[r,x,O,b]),B=f.useCallback(H=>{H.preventDefault(),navigator.clipboard.writeText(u??"")},[u]),D=s==="",z=r||!!C,V=r||An.hasUnspecifiedSelectionStatus(v),U=f.useMemo(()=>({maskImage:"linear-gradient(to bottom, black 50%, transparent)"}),[]);return o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"mb-xs group relative flex items-end gap-0.5 pt-6",children:[o.jsx("div",{className:"-inset-md absolute select-none"}),o.jsx("div",{className:"md:mr-xl min-w-0 flex-1",children:a?o.jsx(bWt,{onKeyDown:N,editQueryValue:s,setEditQueryValue:x,isEmptyQuery:D}):o.jsx(KAe,{queryString:O??"",isFirstResult:t,isFailed:i,quote:R},c)}),z&&o.jsx("div",{className:"absolute bottom-0 right-0 flex shrink-0",children:o.jsx("div",{"data-testid":"edit-query-button-group",className:W("bg-background-100 mb-xs shadow-subtle border-border/50 relative flex shrink-0 flex-row rounded-[10px] border p-[1.5px] duration-150",{"pointer-events-none opacity-0":!a,"pointer-events-auto opacity-100":a,"group-hover:pointer-events-auto group-hover:opacity-100":!r}),children:a?k?null:o.jsxs(o.Fragment,{children:[o.jsx(Le,{icon:Pa,size:"tiny",variant:"primary",onClick:j,extraCSS:"shrink-0",testId:"confirm-edit-query-button"}),o.jsx("div",{className:"m-[1.5px] w-px border-r border-transparent"}),o.jsx(Le,{icon:yn,size:"tiny",variant:"common",extraCSS:"!bg-background-100 !text-text-200 hover:!bg-background-200 shrink-0",onClick:E,testId:"cancel-edit-query-button"})]}):o.jsxs(o.Fragment,{children:[o.jsx(Le,{icon:am,size:"tiny",variant:"common",onClick:I,disabled:V,extraCSS:W("!bg-background-100 hover:!bg-background-200 shrink-0 !text-text-200 !rounded-r-[2px]",{"pointer-events-none opacity-0":r}),testId:"edit-query-button",toolTip:n({defaultMessage:"Edit Query",id:"b3OoXBV5TQ"})}),o.jsx(Q,{className:"m-[1.5px] w-px border-r"}),o.jsx(Le,{icon:zHe,size:"tiny",variant:"common",extraCSS:W("!bg-background-100 hover:!bg-background-200 shrink-0 !text-text-200 !rounded-l-[2px]",{"pointer-events-none opacity-0":r}),onClick:B,testId:"copy-query-button",toolTip:n({defaultMessage:"Copy Query",id:"pLS6m4WFYK"}),clickFeedback:!0})]})})})]}),a&&k&&o.jsxs("div",{className:"gap-x-sm mb-sm pb-sm -inset-x-xs absolute top-full mt-[12px] flex justify-end",children:[o.jsx(Q,{className:"-inset-lg -top-sm absolute",variant:"background",style:U}),o.jsx(Le,{size:"small",variant:"border",onClick:E,text:n({defaultMessage:"Cancel",id:"47FYwba+bI"}),extraCSS:"!bg-background-100"}),o.jsx(Le,{size:"small",variant:"primary",onClick:j,text:n({defaultMessage:"Done",id:"JXdbo8Vnlw"})})]})]})}),GAe=144,YAe=L.memo(({queryString:e="",className:t="",quote:n,isFirstResult:r,isFailed:s})=>{const{$t:a}=ae(),[i,l]=f.useState(!1),[c,u]=f.useState(!1),d=f.useRef(null),h=f.useMemo(()=>e.length<75?"entry-title-100":e.length<200?"entry-title-200":"entry-title-300",[e]);f.useEffect(()=>{typeof window>"u"||!d.current||d.current.offsetHeight>GAe&&!c&&u(!0)},[c]);const m=f.useCallback(()=>{l(!i)},[i]);return o.jsxs("div",{className:"group/title relative inline-flex flex-col",children:[n&&o.jsxs(F,{variant:"small",color:"light",className:"border-super bg-offset/50 px-sm mb-2 flex items-center border-l-2 py-1.5",children:[o.jsx(zWe,{size:18,className:"text-super mr-sm shrink-0 -translate-y-px rotate-180"}),o.jsx("span",{className:"line-clamp-1",children:n})]}),o.jsx("div",{className:"overflow-hidden",children:o.jsxs(xWt,{isTruncated:c,isExpanded:i,children:[o.jsx(F,{variant:h,as:r?"h1":"div",ref:d,className:W("group/query relative whitespace-pre-line !text-wrap break-words [word-break:break-word]",t),children:s?o.jsx("div",{className:"gap-x-sm flex items-center",children:o.jsx("span",{children:e??a({defaultMessage:"Something went wrong.",id:"iuY8kxCDQT"})})}):e}),o.jsx("div",{className:W("text-background-100 pointer-events-none absolute bottom-0 left-0 right-0 h-1/4 transition-opacity duration-100",{"opacity-0":i}),style:{background:!i&&c?"linear-gradient(transparent, currentColor)":void 0}})]})}),c&&o.jsx("div",{className:"top-xs relative flex",children:o.jsx(it,{size:"tiny","data-testid":"toggle-query-expand-button",extraCSS:"-mt-0.5 -ml-sm",chevron:!0,chevronIcon:i?iI:Ia,onClick:m,text:i?a({defaultMessage:"Show less",id:"qyJtWyZ0yt"}):o.jsx(Ve,{defaultMessage:"Show more",id:"kgNFsmh2uY",description:"Show more of the query."})})})]})});YAe.displayName="DisplayQueryBase";const KAe=f.memo(YAe);KAe.displayName="DisplayQuery";const xWt=({children:e,isTruncated:t,isExpanded:n})=>t?o.jsx(ef,{transition:{duration:.2,ease:Ar},initial:!1,mode:"popLayout",supportZeroHeight:!1,children:o.jsx(lu,{style:{maxHeight:n?void 0:GAe},children:e})}):e,bWt=({onKeyDown:e,editQueryValue:t,setEditQueryValue:n,isEmptyQuery:r})=>{const{$t:s}=ae(),a=f.useRef(null),i=f.useRef(null),l=f.useRef(null),{isMobileUserAgent:c,isMobileStyle:u}=qe();let d;t.length<75?d="font-display text-2xl md:text-3xl font-[475] dark:font-[450]":t.length<200?d="font-display text-xl font-[500]":d="font-sans font-medium";const h=f.useCallback((m,g)=>{n(m)},[n]);return o.jsxs("div",{className:"relative w-full min-w-0",children:[o.jsx("div",{className:"-inset-y-xs -left-sm border-border/50 bg-background-200/50 -right-sm md:-right-md absolute rounded-md border"}),o.jsxs("div",{className:"relative grid",children:[o.jsx("div",{className:W("text-text placeholder:text-textMain/20 block h-auto w-full resize-none appearance-none overflow-hidden bg-transparent focus:outline-none","caret-super selection:bg-super/50 selection:text-textMain dark:selection:bg-super/10 dark:selection:text-super",d,"[&_[contenteditable]]:!font-display [&_[contenteditable]+*>*]:!text-textMain/20 [&>*]:p-0 [&_[contenteditable]]:!overflow-hidden [&_[contenteditable]]:!bg-transparent"),style:{gridArea:"1/-1"},children:o.jsx(JV,{onKeyDown:e,placeholder:s({defaultMessage:"Ask anything…",id:"AUouhaZgFv"}),ref:a,value:t,onChange:h,minRows:0,isMobileStyle:u,isMobileUserAgent:c,useLexical:!0,autoFocus:!0})}),o.jsx("div",{className:W("pointer-events-none col-start-1 row-start-1 opacity-0",d),ref:l,style:{overflowWrap:"break-word",wordBreak:"break-word"},children:r?o.jsx(o.Fragment,{children:" "}):o.jsx("span",{ref:i,children:t.split(`
`).map((m,g)=>o.jsxs(L.Fragment,{children:[m,o.jsx("br",{})]},g))})})]})]})},jJt=async({request:e,reason:t})=>{const n=await me.POST("/rest/media/search-videos-for-entry",t,{body:{entry_uuid:e.entry_uuid,read_write_token:e.read_write_token,limit:e.limit,page:e.page},timeoutMs:Ur.MEDIUM}),{media_items:r=[]}=n.data??{};return{media_items:r}},AJt=async({request:e,reason:t})=>{const n=await me.POST("/rest/media/search-images-for-entry",t,{body:{entry_uuid:e.entry_uuid,read_write_token:e.read_write_token,limit:e.limit,page:e.page},timeoutMs:Ur.HIGH}),{media_items:r=[]}=n.data??{};return{media_items:r}},RJt=async({request:e,reason:t})=>{const n=await me.POST("/rest/media/search-images-and-videos",t,{body:{query:e.query,entry_uuid:e.entry_uuid,read_write_token:e.read_write_token},timeoutMs:Ur.HIGH}),{media_items:r=[]}=n.data??{};return{media_items:r}},wWt=async({request:e,reason:t})=>{const n=await me.POST("/rest/media/create-image-for-entry",t,{body:{entry_uuid:e.entry_uuid,read_write_token:e.read_write_token,image_style:e.image_style,custom_instructions:e.custom_instructions},timeoutMs:Ur.EXREMELY_HIGH}),{media_items:r=[]}=n.data??{};return{media_items:r}},_Wt=async({request:e,reason:t})=>{const n=await me.POST("/rest/media/get-image-gen-subject",t,{body:{entry_uuid:e.entry_uuid,read_write_token:e.read_write_token},timeoutMs:Ur.HIGH}),{subject:r=""}=n.data??{};return{subject:r}},CWt=(e,t,n)=>{if(e.backend_uuid!==t)return e;const r=e.blocks??[],s=r.findIndex(c=>c.image_mode_block);if(s===-1)return e;const a=[...r],i=[...n,...r[s].image_mode_block.media_items],l={...r[s].image_mode_block,media_items:i};return a[s]={...a[s],image_mode_block:l},{...e,blocks:a}},QAe=({reason:e})=>{const{decrementCreateLimit:t}=Mr(),{trackEvent:n}=Ye(),{openModal:r}=Gt(),{$t:s}=ae(),a=mo(),i=cF(),{mutate:l}=Kt({mutationFn:async u=>{try{return await _Wt({request:u,reason:e})}catch(d){return le.error("Failed to get image generation subject",d),{subject:""}}}}),c=f.useCallback(async({entryUUID:u,imageStyle:d,customInstructions:h=null,setIsLoadingGeneratedImage:m,onSuccessCallback:g,onFailureCallback:v})=>{n("generate image button clicked",{entryUUID:u,queryStr:h??""}),m(!0);try{const x=await wWt({request:{entry_uuid:u,read_write_token:a??null,image_style:d,custom_instructions:h},reason:e}),{media_items:b}=x;i(u,w=>CWt(w,u,b)),t(),g()}catch(x){x instanceof Error&&x.message==="Pro feature"?r("pricingModal",{redirectUrl:"",pitchMessage:{title:"Generate DALL-E images with Pro",description:"Upgrade to Pro to generate DALL-E images"},origin:gt.GENERATE_IMAGE}):x instanceof Error&&x.message==="Moderation"?v(s({defaultMessage:"Failed due to moderation. Please try a different query",id:"ChRyieNjo/"})):v(s({defaultMessage:"Failed to generate image",id:"mVJ5f5LkYT"}))}finally{m(!1)}},[n,a,i,t,r,s,e]);return f.useMemo(()=>({onGenerateImageClick:c,getImageGenSubjectMutation:l}),[l,c])},SWt=({root:e})=>{const t=f.useRef(null),[n,r]=f.useState(!1),[s,a]=f.useState(!1),i=f.useCallback(l=>{l?(t.current=l,r(!0)):(r(!1),t.current=null)},[]);return f.useEffect(()=>{if(!t.current||!n)return;const l=new IntersectionObserver(([c])=>{a(c.intersectionRatio<1)},{threshold:[1],root:e,rootMargin:"-1px 9999px 9999px 9999px"});return l.observe(t.current),()=>l.disconnect()},[e,n]),f.useMemo(()=>({ref:i,isSticky:s}),[s,i])};var ej={},Xae;function MWt(){return Xae||(Xae=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="brush",r=384,s=512,a=[],i="f55d",l="M48 288L48 64c0-8.8 7.2-16 16-16l32 0 0 96c0 8.8 7.2 16 16 16s16-7.2 16-16l0-96 64 0 0 64c0 8.8 7.2 16 16 16s16-7.2 16-16l0-64 96 0c8.8 0 16 7.2 16 16l0 224L48 288zM0 320c0 35.3 28.7 64 64 64l64 0 0 64c0 35.3 28.7 64 64 64s64-28.7 64-64l0-64 64 0c35.3 0 64-28.7 64-64l0-256c0-35.3-28.7-64-64-64L64 0C28.7 0 0 28.7 0 64L0 320zM192 432a16 16 0 1 1 0 32 16 16 0 1 1 0-32z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faBrush=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(ej)),ej}var XAe=MWt(),tj={},Zae;function kWt(){return Zae||(Zae=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="camera-retro",r=512,s=512,a=[128247],i="f083",l="M192 112L64 112c-8.8 0-16 7.2-16 16l0 64 108.1 0c23.5-29.3 59.5-48 99.9-48s76.5 18.7 99.9 48L464 192l0-96c0-8.8-7.2-16-16-16L271.1 80c-2.5 0-4.9 .6-7.2 1.7l-50.5 25.2c-6.7 3.3-14 5.1-21.5 5.1zM48 240l0 176c0 8.8 7.2 16 16 16l384 0c8.8 0 16-7.2 16-16l0-176-84 0c2.6 10.2 4 21 4 32c0 70.7-57.3 128-128 128s-128-57.3-128-128c0-11 1.4-21.8 4-32l-84 0zM0 416L0 128C0 92.7 28.7 64 64 64l0-16c0-8.8 7.2-16 16-16l64 0c8.8 0 16 7.2 16 16l0 16 32 0 50.5-25.2c8.9-4.4 18.7-6.8 28.6-6.8L448 32c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64zM336 272a80 80 0 1 0 -160 0 80 80 0 1 0 160 0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faCameraRetro=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(tj)),tj}var ZAe=kWt(),nj={},Jae;function EWt(){return Jae||(Jae=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="compass-drafting",r=512,s=512,a=["drafting-compass"],i="f568",l="M304 96a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm-19.6 91.7c-9 2.8-18.5 4.3-28.4 4.3s-19.4-1.5-28.4-4.3L158.1 306.4C187.9 320.3 221 328 256 328c85.8 0 160.8-46.6 201-116c6.6-11.5 21.3-15.4 32.8-8.8s15.4 21.3 8.8 32.8C450.2 319.6 359.7 376 256 376c-43.8 0-85.3-10.1-122.2-28L44.7 500.1c-6.7 11.4-21.4 15.3-32.8 8.6S-3.4 487.3 3.3 475.9L92.6 323.4C60.4 300.2 33.4 270.4 13.5 236c-6.6-11.5-2.7-26.2 8.8-32.8s26.2-2.7 32.8 8.8c15.8 27.2 36.9 51 61.9 69.7l69.8-119.2C170.2 145.2 160 121.8 160 96c0-53 43-96 96-96s96 43 96 96c0 25.8-10.2 49.2-26.7 66.5l53.5 91.4c-12.6 9.8-26.4 18.1-41.1 24.7l-53.2-90.9zM508.7 475.9c6.7 11.4 2.9 26.1-8.6 32.8s-26.1 2.9-32.8-8.6L394.4 375.7c14.4-7.1 28.2-15.4 41.2-24.6l73 124.8z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faCompassDrafting=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(nj)),nj}var JAe=EWt(),rj={},eie;function TWt(){return eie||(eie=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="pencil",r=512,s=512,a=[9999,61504,"pencil-alt"],i="f303",l="M36.4 360.9L13.4 439 1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1L73 498.6l78.1-23c10.4-3 20.1-8 28.6-14.5l.3 .2 .5-.8c1.4-1.1 2.7-2.2 4-3.3c1.4-1.2 2.7-2.5 4-3.8L492.7 149.3c21.9-21.9 24.6-55.6 8.2-80.5c-2.3-3.5-5.1-6.9-8.2-10L453.3 19.3c-25-25-65.5-25-90.5 0L58.6 323.5c-2.5 2.5-4.9 5.2-7.1 8l-.8 .5 .2 .3c-6.5 8.5-11.4 18.2-14.5 28.6zM383 191L197.4 376.6l-49.6-12.4-12.4-49.6L321 129 383 191zM97 358.9l7.7 31c2.1 8.6 8.9 15.3 17.5 17.5l31 7.7-7.4 11.2c-2.6 1.4-5.3 2.6-8.1 3.4l-23.4 6.9L59.4 452.6l16.1-54.8 6.9-23.4c.8-2.8 2-5.6 3.4-8.1L97 358.9zM315.3 218.7c6.2-6.2 6.2-16.4 0-22.6s-16.4-6.2-22.6 0l-96 96c-6.2 6.2-6.2 16.4 0 22.6s16.4 6.2 22.6 0l96-96z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faPencil=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(rj)),rj}var eRe=TWt(),sj={},tie;function NWt(){return tie||(tie=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="fas",n="wine-glass-crack",r=320,s=512,a=["fragile"],i="f4bb",l="M64 0C47.4 0 33.5 12.8 32.1 29.3l-14 168.4c-6 72 42.5 135.2 109.9 150.6l0 99.6-48 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l80 0 80 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-48 0 0-99.6c67.4-15.4 115.9-78.6 109.9-150.6l-14-168.4C286.5 12.8 272.6 0 256 0L233.9 0C222 0 214.3 12.5 219.6 23.2l14.2 28.5c3.5 7.1 1.4 15.7-5.1 20.3l-58.4 40.9c-6 4.2-8.4 12-5.8 18.9l31.1 81c2.1 5.5-1.9 11.4-7.8 11.4c-2.4 0-4.7-1.1-6.3-2.9L92.1 118c-6.4-7.4-4.7-18.7 3.5-24l58.6-37.3c7.6-4.8 9.7-14.9 4.7-22.4L140.7 7.1c-3-4.5-8-7.1-13.3-7.1L64 0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faWineGlassCrack=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(sj)),sj}var jWt=NWt();const AWt=L.memo(({icon:e,message:t,variant:n="good",actionList:r,title:s,dismissable:a,onDismiss:i,size:l="regular",pointerVariant:c="none",testId:u,isMobileStyle:d,className:h})=>{const m=r&&r.length>0&&o.jsx("div",{className:"gap-x-sm flex",children:r?.map((x,b)=>x.visible?x.items&&x.items.length>0?o.jsx(Rn,{isMobileStyle:d,items:x.items,children:o.jsx(Le,{size:tn.small,text:x.text,variant:x.variant,icon:x.icon,onClick:x.onClick,debounce:x.debounce})},x.text??b):o.jsx("div",{className:"relative flex h-full items-center",children:o.jsx(Le,{size:tn.small,text:x.text,variant:x.variant,icon:x.icon,onClick:x.onClick,toolTip:x.tooltip,tooltipLayout:"bottom",disabled:x.disabled,isLoading:x.isLoading,debounce:x.debounce})},x.text??b):o.jsx(L.Fragment,{},b))}),g=f.useMemo(()=>W({"text-super":n==="good","text-caution":n==="warning"}),[n]),v=f.useMemo(()=>{if(n==="good")return"super";if(n==="warning")return"red";if(n==="info")return"darkOffset"},[n]);return t==null?null:o.jsxs("div",{"data-testid":u,children:[c!=="none"&&o.jsx("div",{className:W("mt-sm px-md flex",{"justify-start":c==="left","justify-end":c==="right"||c==="landing-page-right","pr-[75px]":c==="landing-page-right"}),children:o.jsx("div",{className:W("border-b-offset dark:border-b-offsetDark h-0 w-0 border-b-[15px] border-l-[10px] border-r-[10px] border-l-transparent border-r-transparent")})}),o.jsxs(Q,{variant:"offset",className:W("gap-sm relative flex flex-col items-center justify-between rounded-lg md:flex-row",{"p-sm":l==="small","p-md":l==="regular"},h),children:[a&&o.jsx("div",{className:"right-xs top-xs absolute",children:o.jsx(it,{"aria-label":"Dismiss",icon:yn,size:"small",onClick:i})}),o.jsx("div",{children:o.jsxs("div",{className:"gap-x-md flex items-center",children:[o.jsx(Q,{variant:v,className:"flex h-11 w-11 shrink-0 items-center justify-center rounded-full",children:o.jsx(F,{variant:l==="regular"?"baseSemi":"smallBold",color:"white",children:e&&o.jsx(jt,{icon:e})})}),o.jsxs("div",{children:[o.jsx(F,{variant:s&&l==="regular"?"baseSemi":"smallBold",className:g,children:s||t}),s&&t&&o.jsx(F,{variant:l==="regular"?"base":"small",className:"",children:t})]})]})}),m]})]})}),RWt=e=>!!e?.displayName?.startsWith("Icon"),LWt=e=>!!e?.prefix?.startsWith("fa"),nie={page:"page-title",section:"section-title",subsection:"baseSemi"},OWt={page:"lg",section:"base",subsection:"md"},PWt=({icon:e,variant:t})=>RWt(e)?o.jsx(Ne,{icon:e,size:OWt[t]}):LWt(e)?o.jsx(jt,{icon:e,size:"sm"}):null,tRe=L.memo(({title:e,icon:t,subtitle:n,actionList:r,search:s,variant:a="page",noBorder:i=!1,center:l="md",background:c="background",testId:u,isMobileStyle:d,leadingComponent:h,trailingComponent:m})=>{const g=r&&r.length>0&&o.jsx("div",{className:"gap-x-sm flex",children:r?.map((x,b)=>x.visible?x.items&&x.items.length>0?o.jsx(Rn,{isMobileStyle:d,items:x.items,children:o.jsx(Le,{testId:u,size:x.size??tn.small,text:x.text,variant:x.variant,icon:x.icon,onClick:x.onClick,debounce:x.debounce})},x.text??b):o.jsx("div",{className:"relative flex h-full items-center",children:o.jsx(it,{testId:u,size:x.size??tn.small,text:x.text,variant:x.variant,icon:x.icon,onClick:x.onClick,toolTip:x.tooltip,tooltipLayout:"bottom",disabled:x.disabled,debounce:x.debounce,isLoading:x.isLoading})},x.text??b):o.jsx(L.Fragment,{},b))}),v=o.jsxs("div",{children:[o.jsxs("div",{className:"gap-x-sm flex items-center",children:[t&&o.jsx(F,{variant:nie[a]??"section-title",children:o.jsx(PWt,{icon:t,variant:a})}),o.jsx(F,{variant:nie[a]??"section-title",children:e})]}),n&&o.jsx(F,{variant:a==="page"?"base":"small",color:"light",className:"mt-sm",children:n})]});return o.jsx(Q,{variant:c,className:W({"sticky top-0 z-[5] flex items-center rounded-t-xl":a==="page","border-b":!i,"h-headerHeight":a==="page"&&!s,"pt-md md:pb-md":a==="page"&&s}),children:o.jsx(Q,{className:W("w-full",{"px-sm md:px-lg mx-auto max-w-screen-md":a==="page"&&l==="md","max-w-threadWidth px-md md:px-lg mx-auto":a==="page"&&l==="lg"}),children:o.jsxs(Q,{variant:c,className:W("gap-md flex flex-col md:flex-row md:items-center md:justify-between",{"h-14":!s&&a==="section"}),children:[o.jsxs("div",{className:"md:hidden",children:[o.jsxs("div",{className:"gap-xs flex w-full shrink-0 items-center",children:[h,o.jsxs("div",{className:"gap-sm flex w-full justify-between",children:[v,g]})]}),s&&o.jsx("div",{className:"mt-md w-full max-w-md",children:s})]}),o.jsxs("div",{className:"gap-sm hidden grow items-center justify-between md:flex",children:[v,o.jsxs("div",{className:"gap-sm flex grow items-center justify-end",children:[g,s&&o.jsx("div",{className:"max-w-md grow",children:s})]}),m]})]})})})});tRe.displayName="Header";const nRe=L.memo(({icon:e,text:t,subtitle:n,onClick:r,hideOnClick:s=!0,disabled:a=!1,...i})=>{const[l,c]=f.useState(!0),u=f.useCallback(()=>{!a&&r&&r(),!a&&s&&c(!1)},[a,s,r]);return l?o.jsx(Q,{bgHover:a?void 0:"offset",className:W("mb-sm px-md py-sm w-full select-none rounded-md border border-dashed",{"cursor-pointer":!a,"opacity-75":a}),onClick:u,...i,children:o.jsxs("div",{className:"gap-sm flex items-center justify-between",children:[o.jsxs(F,{variant:"smallBold",className:"gap-x-sm flex items-center",children:[o.jsx(jt,{fixedWidth:!0,icon:e}),o.jsxs("div",{children:[o.jsx("div",{children:t}),n&&o.jsx(F,{variant:"tiny",color:"light",children:n})]})]}),o.jsx(F,{color:"super",children:o.jsx(jt,{fixedWidth:!0,icon:WF.faPlus})})]})}):null});nRe.displayName="ThreadEntryAccessoryButton";const rie=150,sie=500,rRe=L.memo(({entry:e,imageGenSubject:t,setImageGenSubject:n,onSubmit:r})=>{const s="generate-image-custom-input",{$t:a}=ae(),{isMobileStyle:i,isMobileUserAgent:l}=qe(),[c,u]=f.useState(!1),[d,h]=f.useState(""),[m,g]=f.useState(t),{getImageGenSubjectMutation:v}=QAe({reason:s}),x=d.length>0?d+`. The subject is:
`+m:m,b=d.length===0&&m.length===0||d.length>rie||m.length>sie;f.useEffect(()=>{t===""&&(async()=>(u(!0),await v({entry_uuid:e.entryUUID,read_write_token:null},{onSuccess:S=>{n(S.subject),g(S.subject)},onSettled:()=>{u(!1)}})))()},[t,v,e.entryUUID,n]);const w=f.useCallback(()=>r(x),[x,r]);return c?o.jsx(Dl,{}):o.jsxs("div",{children:[o.jsx(Hd,{className:"mb-sm",isMobileUserAgent:l,isMobileStyle:i,onChange:h,value:d,label:a({defaultMessage:"Style",id:"7mL9QEUFav"}),placeholder:a({defaultMessage:"Use detailed brush strokes.",id:"FqRwHGXuKd"}),maxLength:rie}),o.jsx(Hd,{isMobileUserAgent:l,isMobileStyle:i,onChange:g,label:a({defaultMessage:"Subject",id:"LLtKhppiyE"}),value:m,maxLength:sie}),o.jsx("div",{className:"row mt-md flex",children:o.jsx(Le,{text:a({defaultMessage:"Submit",id:"wSZR47Y5kj"}),disabled:b,variant:"primary",onClick:w})})]})});rRe.displayName="GenerateImageCustomInput";var r2=(e=>(e.PAINTING="PAINTING",e.PHOTOGRAPH="PHOTOGRAPH",e.ILLUSTRATION="ILLUSTRATION",e.DIAGRAM="DIAGRAM",e))(r2||{});const eu=L.memo(({icon:e,text:t,onClick:n})=>o.jsxs(Q,{variant:"offset",bgHover:"offsetPlus",className:"flex aspect-video cursor-pointer flex-col items-center justify-center rounded border",onClick:n,children:[o.jsx(F,{variant:"section-title",children:o.jsx(jt,{icon:e})}),o.jsx(F,{variant:"smallBold",children:t})]}));eu.displayName="StyleChoice";const IWt=L.memo(({onStyleChoiceClick:e})=>{const t=f.useCallback(()=>e("PAINTING"),[e]),n=f.useCallback(()=>e("PHOTOGRAPH"),[e]),r=f.useCallback(()=>e("ILLUSTRATION"),[e]),s=f.useCallback(()=>e("DIAGRAM"),[e]);return o.jsxs(Q,{className:"gap-sm grid grid-cols-2",children:[o.jsx(eu,{icon:XAe.faBrush,onClick:t,text:"Painting"}),o.jsx(eu,{icon:ZAe.faCameraRetro,onClick:n,text:"Photograph"}),o.jsx(eu,{icon:eRe.faPencil,onClick:r,text:"Illustration"}),o.jsx(eu,{icon:JAe.faCompassDrafting,onClick:s,text:"Diagram"})]})});IWt.displayName="GenerateImageTemplates";const sRe=L.memo(({userCreateLimit:e,onGenerateClick:t,isDisabled:n,entry:r,btnText:s,buttonComponent:a})=>{const{$t:i}=ae(),[l,c]=f.useState(!1),[u,d]=f.useState(!1),[h,m]=f.useState(""),[g,v]=f.useState(""),x=Ct(),{hasAccessToProFeatures:b}=cn(),{isMobileStyle:w,isMobileUserAgent:C}=qe(),{openVisitorLoginUpsell:S}=Br({enabled:!x}),{trackEvent:k}=Ye(),{openModal:E}=Gt(),T=b&&e===0,j=b&&e<10;let N=bce;b?T&&(N=ey):N=EF;const R=f.useCallback(G=>{d(!1),k("generate image style clicked",{entryUUID:r.entryUUID,style:G}),t({style:G,customInstructions:null,onFailure:K=>m(K)})},[r.entryUUID,t,k]),O=f.useCallback(G=>{d(!1),c(!1),t({style:"custom",customInstructions:G,onFailure:K=>m(K)}),k("click image gen custom prompt submit",{prompt:G})},[t,k]),I=f.useCallback(()=>{x?b?d(!0):E("pricingModal",{redirectUrl:"",pitchMessage:{title:i({defaultMessage:"Generate images with {pro}",id:"lRrjmenIbD"},{pro:"Pro"}),description:i({defaultMessage:"Visualize your answers with images",id:"mmH7FzyH04"})},origin:gt.GENERATE_IMAGE}):S({title:i({defaultMessage:"Sign in to generate images",id:"rH/ZsL5HtP"}),origin:gt.GENERATE_IMAGE}),k("generate image button clicked",{entryUUID:r.entryUUID,queryStr:r.entryTitle})},[r.entryTitle,r.entryUUID,x,b,S,E,i,k]),B=f.useCallback(()=>c(G=>!G),[]),D=f.useCallback(()=>R(r2.PAINTING),[R]),z=f.useCallback(()=>R(r2.PHOTOGRAPH),[R]),V=f.useCallback(()=>R(r2.ILLUSTRATION),[R]),U=f.useCallback(()=>R(r2.DIAGRAM),[R]),H=f.useMemo(()=>[{icon:fI,tooltipLayout:"right",tooltip:i({defaultMessage:"Custom prompt",id:"zp4jaBPFMA"}),pill:!0,visible:!0,variant:l?"primary":"common",onClick:B}],[i,l,B]),q=f.useMemo(()=>o.jsxs("div",{className:"space-y-md p-sm pt-0",children:[o.jsx(tRe,{title:i(l?{defaultMessage:"Custom prompt",id:"zp4jaBPFMA"}:{defaultMessage:"Choose a style",id:"AU4HcqqKpC"}),variant:"section",isMobileStyle:w,actionList:H}),!l&&o.jsxs(Q,{className:"gap-sm grid grid-cols-2",children:[o.jsx(eu,{icon:XAe.faBrush,onClick:D,text:i({defaultMessage:"Painting",id:"z/mCLzI8Jj"})}),o.jsx(eu,{icon:ZAe.faCameraRetro,onClick:z,text:i({defaultMessage:"Photograph",id:"a3GPHb7Rbe"})}),o.jsx(eu,{icon:eRe.faPencil,onClick:V,text:i({defaultMessage:"Illustration",id:"GWdYQ0hPUg"})}),o.jsx(eu,{icon:JAe.faCompassDrafting,onClick:U,text:i({defaultMessage:"Diagram",id:"PBUs06BBR7"})})]}),l&&o.jsx(rRe,{entry:r,imageGenSubject:g,setImageGenSubject:v,onSubmit:O})]}),[i,O,H,r,g,w,U,V,D,z,l]),$=f.useCallback(()=>{d(!1),c(!1)},[]);return h!==""?o.jsx(AWt,{isMobileStyle:w,message:h,icon:jWt.faWineGlassCrack}):o.jsx(rU,{isMobileStyle:w,isOpen:u,onClose:$,content:q,children:o.jsx(Mn,{isMobileUserAgent:C,tooltipText:i({defaultMessage:"{remaining} left today",id:"V9HtlcGCOC"},{remaining:e}),tooltipLayout:"bottom",showTooltip:j,asChild:!0,children:a?a({onClick:I,isRateLimitReached:T,isDisabled:n,buttonIcon:N,text:s}):o.jsx(nRe,{text:s,subtitle:T?i({defaultMessage:"Limit reached. Come back soon.",id:"LPlQBHfRcL"}):void 0,disabled:T||n,icon:N,hideOnClick:!1,onClick:I},"imageGenerate")})})});sRe.displayName="GenerateImageButton";const GO=async({request:e,reason:t})=>{const{error:n,data:r}=await me.POST("/rest/deeper-research/download-asset",t,{body:e,timeoutMs:2e3,numRetries:1});if(n)throw new pt("API_CLIENTS_ERROR",{message:"Failed to download file",cause:n});return r.file_url},DWt=async({request:e,reason:t})=>{const{error:n,data:r}=await me.POST("/rest/deeper-research/export-asset",t,{body:e,timeoutMs:6e4,numRetries:1,parseAs:"blob"});if(n)throw new pt("API_CLIENTS_ERROR",{message:"Failed to export asset",cause:n});return r},FWt=async({request:e,reason:t})=>{const{error:n,data:r}=await me.POST("/rest/deeper-research/export-all-assets",t,{body:e,timeoutMs:6e4,numRetries:1,parseAs:"blob"});if(n)throw new pt("API_CLIENTS_ERROR",{message:"Failed to export all assets",cause:n});return r},UWt=({reason:e})=>{const{$t:t}=ae(),{openToast:n}=Sr(),r=f.useCallback(async i=>{try{const l=await GO({request:i,reason:e});window.open(l,"_blank"),n(t({defaultMessage:"Downloading file...",id:"/vA9NyIeJh"}),"success",3)}catch(l){le.error("Failed to download S3 asset",{error:l,request:i,errorMessage:l instanceof Error?l.message:"Unknown error"}),n(t({defaultMessage:"Failed to download file",id:"RIWlU8NdpC"}),"error",3)}},[e,t,n]),s=f.useCallback(async(i,l="media",c=document.body)=>{try{const u=await fetch(i);if(!u.ok)throw new Error(`HTTP error! status: ${u.status}`);const d=await u.blob(),h=URL.createObjectURL(d),m=document.createElement("a");m.href=h,m.download=l,c.appendChild(m),m.click(),c.removeChild(m),URL.revokeObjectURL(h);const g=l.toLowerCase().includes(".mp4")||l.toLowerCase().includes(".mov")||l.toLowerCase().includes(".avi")||d.type.startsWith("video/"),v=t(g?{defaultMessage:"Video downloaded",id:"WHvofOjBQO"}:{defaultMessage:"Image downloaded",id:"nS5vxnEXaW"});n(v,"success",3)}catch(u){const d=l.toLowerCase().includes(".mp4")||l.toLowerCase().includes(".mov")||l.toLowerCase().includes(".avi");le.error("Failed to download media asset",{error:u,mediaUrl:i,errorMessage:u instanceof Error?u.message:"Unknown error",errorType:u instanceof TypeError&&u.message.includes("Failed to fetch")?"CORS":"Unknown"});const h=t(d?{defaultMessage:"Failed to download video",id:"g8uGrbPLMV"}:{defaultMessage:"Failed to download image",id:"YPAbL/7UuZ"});n(h,"error",3)}},[t,n]),a=f.useCallback(async(i,l="image.jpg",c=document.body)=>s(i,l,c),[s]);return f.useMemo(()=>({downloadS3Asset:r,downloadImageAsset:a,downloadMediaAsset:s}),[a,r,s])};function BWt(e,t,n){const r=new Blob([n],{type:"text/plain"});Lz(e,t,r)}function Lz(e,t,n){const r=document.createElement("a"),s=URL.createObjectURL(n);r.href=s,r.download=t,e.appendChild(r),r.click(),URL.revokeObjectURL(s),e.removeChild(r)}const VWt=new Set(["markdown","md"]);function aRe(e){if(e?.asset_type==Cl.CODE_FILE&&e.code_file?.url&&VWt.has(e.code_file.name.split(".").at(-1)))return{filenamePrefix:e.code_file.name.slice(0,e.code_file.name.lastIndexOf(".")),url:e.code_file.url}}function LJt(e){return aRe(e)!==void 0}function OJt({asset:e,reason:t}){const n=f.useCallback(async(r,s)=>{const a=aRe(e);if(!a)return;const{filenamePrefix:i,url:l}=a,c=i+"."+r,u=await DWt({request:{filename:c,format:r,url:l},reason:t});Lz(s||document.body,c,u)},[e,t]);return f.useMemo(()=>({exportAsset:n}),[n])}function zWt({reason:e}){const{result:{backend_uuid:t}}=Un(),[n,r]=f.useState(!1),s=f.useCallback(async a=>{r(!0);try{const i=await FWt({request:{entry_uuid:t},reason:e});Lz(a||document.body,"exported-assets.zip",i)}finally{r(!1)}},[t,e]);return f.useMemo(()=>({exportAllAssets:s,isExporting:n}),[s,n])}function HWt({asset:e,reason:t}){const{downloadS3Asset:n,downloadImageAsset:r,downloadMediaAsset:s}=UWt({reason:t}),a=f.useCallback(async i=>{if(e)if(e.asset_type===Cl.GENERATED_IMAGE)e.generated_image?.url&&await r(e.generated_image.url,"generated-image.png",i||document.body);else if(e.asset_type===Cl.GENERATED_VIDEO)e.generated_video?.url&&await s(e.generated_video.url,"generated-video.mp4",i||document.body);else for(const l of e.download_info)l.url?await n({url:l.url,filename:l.filename}):l.text_content&&BWt(i||document.body,l.filename,l.text_content)},[n,r,s,e]);return f.useMemo(()=>({downloadAsset:a}),[a])}var WWt=(e=>(e[e.UNCOPIED=0]="UNCOPIED",e[e.COPYING=1]="COPYING",e[e.FAILED=2]="FAILED",e[e.SUCCEEDED=3]="SUCCEEDED",e))(WWt||{});function PJt({asset:e,reason:t}){const[n,r]=f.useState(0),{$t:s}=ae(),{openToast:a}=Sr(),i=f.useCallback(async()=>{if(e){r(1);try{await $Wt({asset:e,reason:t}),a(s({defaultMessage:"Copied to the clipboard!",id:"WWy0tPuRW8"}),"success",3),r(3)}catch{a(s({defaultMessage:"Failed to copy the asset",id:"HHPhgIZj9h"}),"error",3),r(2)}setTimeout(()=>r(0),2e3)}},[s,a,r,e,t]);return f.useMemo(()=>({copyStatus:n,copyAsset:i}),[n,i])}async function $Wt({asset:e,reason:t}){let n;if(e.asset_type==Cl.CODE_ASSET)n={"text/plain":e.code?.script??""};else if(e.asset_type==Cl.CHART&&e.chart?.url){const s=await GO({request:{url:e.chart.url,filename:"chart.png"},reason:t});n={"image/png":await(await fetch(s)).blob()}}else if(e.asset_type==Cl.CODE_FILE&&e.code_file?.url){const s=await GO({request:{url:e.code_file.url,filename:e.code_file.name},reason:t});n={"text/plain":await(await fetch(s)).text()}}else if(e.asset_type==Cl.GENERATED_IMAGE&&e.generated_image?.url){const s=e.generated_image.url;n={"image/png":await(await fetch(s)).blob()}}else if(e.asset_type==Cl.GENERATED_VIDEO&&e.generated_video?.url){const s=e.generated_video.url;n={"video/mp4":await(await fetch(s)).blob()}}if(!n)throw new Error("Failed to find anything to copy");const r=new ClipboardItem(n);await navigator.clipboard.write([r])}const iRe=L.memo(()=>o.jsx(Kn,{children:o.jsx("div",{className:"gap-sm flex flex-wrap",children:Array.from({length:8}).map((e,t)=>o.jsx(oRe,{index:t},t))})}));iRe.displayName="ImagesModeLoader";const oRe=L.memo(({index:e})=>{const{isMobileStyle:t}=qe(),{isLargeScreen:n,isXLargeScreen:r}=Vx(),s=f.useMemo(()=>t?120:r?240:n?200:180,[t,n,r]);return o.jsx("div",{className:W("bg-background-200 grow basis-1/3 rounded-xl md:basis-1/4",{"w-1/2 !max-w-none":e===1}),style:{height:s}})});oRe.displayName="Item";const lRe=L.memo(()=>o.jsx(Kn,{children:o.jsx(Q,{variant:"offset",className:"h-[180px] w-full overflow-hidden rounded-xl [mask-image:linear-gradient(to_bottom,#000_0%,transparent_160px)]"})}));lRe.displayName="JobsModeLoader";const Oz=L.memo(()=>o.jsxs("div",{className:"gap-md @container flex w-full flex-row",children:[o.jsx("div",{className:"md:@[1458px]:w-[874px] md:@[1458px]:shrink-0 w-full md:w-[60%]",children:o.jsx(uRe,{})}),o.jsx("div",{className:"@md:w-[570px] @md:@[1458px]:w-full hidden md:block",children:o.jsx(cRe,{})})]}));Oz.displayName="PlacesModeLoader";const cRe=L.memo(()=>o.jsx(Kn,{children:o.jsx(Q,{variant:"offset",className:"sticky h-[180px] w-full overflow-hidden rounded-xl [mask-image:linear-gradient(to_bottom,#000_0%,transparent_160px)]"})}));cRe.displayName="PlacesModeMapLoader";const uRe=L.memo(()=>o.jsx(Kn,{children:o.jsx("div",{className:"gap-md grid h-[180px] grid-cols-[repeat(auto-fill,minmax(220px,1fr))] overflow-hidden [mask-image:linear-gradient(to_bottom,#000_0%,transparent_160px)]",children:Array.from({length:8}).map((e,t)=>o.jsx(dRe,{},t))})}));uRe.displayName="PlacesModeGridLoader";const dRe=L.memo(()=>o.jsx("div",{className:W("bg-background-200 aspect-[4/3] w-full rounded-xl")}));dRe.displayName="Item";const fRe=f.memo(()=>{const{isMobileStyle:e}=qe();return o.jsxs(Kn,{className:"-mx-md pl-md md:pl-auto md:mx-auto",children:[o.jsx("div",{className:"gap-md md:mb-lg mb-md flex auto-rows-fr grid-cols-2 overflow-hidden md:grid md:grid-cols-3",children:Array.from({length:3}).map((t,n)=>o.jsx(hRe,{},n))}),o.jsxs("div",{className:"gap-sm flex flex-col",children:[o.jsxs("div",{className:"grid grid-cols-1 grid-rows-1 items-center",children:[o.jsx(F,{variant:e?"base":"section-title",className:"col-start-1 row-start-1",children:" "}),o.jsx("div",{className:"bg-background-200 col-start-1 row-start-1 h-3 w-32 grow rounded-full md:h-4"})]}),o.jsx("div",{className:"gap-md pr-md flex auto-rows-fr grid-cols-2 flex-col md:grid md:pr-0",children:Array.from({length:2}).map((t,n)=>o.jsx(mRe,{},n))})]})]})});fRe.displayName="ShoppingModeLoader";const hRe=f.memo(()=>o.jsx("div",{className:W("bg-background-200 aspect-video h-[327px] w-[70vw] grow rounded-xl md:h-[413px] md:w-full")}));hRe.displayName="Item";const mRe=f.memo(()=>o.jsx("div",{className:"bg-background-200 aspect-video h-[144px] w-full grow rounded-md"}));mRe.displayName="SmallItem";const qWt=async({request:e,reason:t})=>(await me.POST("/rest/sources/search",t,{body:{entry_uuid:e.entry_uuid,limit:e.limit,page:e.page??null},timeoutMs:Ur.MEDIUM})).data,GWt=({reason:e})=>{const{mutate:t,data:n,isPending:r}=Kt({mutationFn:async s=>(await qWt({request:s,reason:e})).results});return f.useMemo(()=>({isSearchResultsLoading:r,searchResults:n,fetchSearch:t}),[t,r,n])};function pRe(){const{value:e}=vs({flag:"move-citations-to-paragraph-end",subjectType:"visitor_id",defaultValue:!1});return e}typeof globalThis<"u"&&(globalThis.__useMoveCitationsToParagraphEnd=pRe);const Pz=L.memo(({webResult:e,citationIndex:t,isRelatedResult:n})=>{const r="sources-row",{$t:s,formatDate:a}=ae(),i=f.useMemo(()=>no(e.url),[e.url]),l=f.useMemo(()=>Z_(e.url),[e.url]),c=e.is_client_context,{result:{backend_uuid:u,context_uuid:d,frontend_context_uuid:h}}=Un(),m=Bs(),g=Ln(),v=f.useMemo(()=>e.meta_data?.domain_name??i.replace(/\.[^.]*$/,""),[i,e.meta_data?.domain_name]),x=Si(e.url),b=lut(e),w=e.meta_data?.connection_type,{trackEvent:C}=Ye(),S=f.useCallback((oe,ne)=>{g&&m.openTab({url:oe,tabId:ne})},[g,m]),{mutate:k}=vF({reason:r,onSuccess:g?S:void 0}),E=pRe(),T=BCe(),j=e.meta_data?.repo_type,N=!c||g,R=jC(e),O=Eft(e),I=AC(e),{getImageDownloadUrl:B}=KC({reason:r}),[D,z]=f.useState(null);f.useEffect(()=>{D===null&&(async()=>{if(!x){z(e.url);return}if(J_(e.url)){z(e.url);return}try{const ne=await B({url:e.url,thread_id:u});z(ne)}catch(ne){le.error(`Failed to fetch image source ${ne}`),z(e.url)}})()},[B,u,e,x,D]),f.useEffect(()=>{C("source card viewed",{citation_url:e.url,position:t,title:e.name,contextUUID:d,frontendContextUUID:h,entryUUID:u,source:n?"sourcesTabViewMore":"sourcesTab"})},[e,C,t,n,d,h,u]);const V=f.useCallback(oe=>{try{const te=e.meta_data?.file_uuid?"fileRepositoryFile":e.is_attachment?"fileAttachment":n?"sourcesTabViewMore":"sourcesTab",re=DC(e),{type:X,memoryKey:ce}=re;C("click citation",{citation_url:e.url,contextUUID:d,frontendContextUUID:h,entryUUID:u,isMemory:e.is_memory,isConversationHistory:e.is_conversation_history,source:te,...X==="memory"&&{memory_key:ce}})}catch(te){le.error("Failed to send click citation event:",te)}if(R&&!I){T(e);return}const ne=my(e);if(nD(oe)&&!ne){m.openTab({url:e.url,tabId:e.tab_id});return}if(!ne&&!c){const te=window.open(e.url,"_blank");te&&te.focus()}else ne&&k({file_url:e.url})},[R,e,c,n,C,d,h,u,T,m,k,I]),U=()=>j=="COLLECTION"?s({defaultMessage:"Space Context",id:"wGTk8CFt1g"}):j=="USER"?s({defaultMessage:"My Files",id:"AjhJXSvkRs"}):j=="ORG"?s({defaultMessage:"Org Files",id:"DaFSYzpM1Q"}):s({defaultMessage:"Attachment",id:"eLCAEP8LHj"}),H=()=>e.meta_data?.repo_type=="COLLECTION"?s({defaultMessage:"File",id:"gyrIElu9qY"}):e.meta_data?.connection_type?out(e.meta_data.connection_type):s({defaultMessage:"Local upload",id:"fscjAJoLwa"}),q=f.useMemo(()=>o.jsx(sr,{size:"tiny",showBackground:!1,rounded:!1,user:md(w)??void 0}),[w]);let $=null,G="",K=null;if(x||b||w&&w!==Gn.WILEY)$=o.jsx("div",{className:"bg-offset size-lg flex items-center justify-center rounded-full",children:w?o.jsx(Ne,{icon:Sme,size:"base",badge:q}):o.jsx(Ne,{icon:nf,className:"size-md"})}),K=o.jsx(F,{variant:"tinyRegular",color:"light",className:"line-clamp-1",children:H()}),G=U();else if(R&&!I)$=o.jsx("div",{className:"bg-offsetPlus flex size-[28px] items-center justify-center rounded-full",children:o.jsx(Ne,{size:"base",icon:e.is_memory?gg:vg})}),K=o.jsx(F,{variant:"tinyRegular",color:"light",className:"line-clamp-1",children:e.timestamp&&a(e.timestamp,{dateStyle:"long"})}),G=e?.is_memory?s({defaultMessage:"Memory",id:"dVx3yznM2C"}):s({defaultMessage:"Library",id:"StcK672jB9"});else{const oe=w===Gn.WILEY?M_:void 0;$=o.jsx(pu,{size:28,domain:l,className:"h-full w-full rounded-full",overrideIconUrl:oe}),G=v,K=I?o.jsxs("div",{className:"gap-xs -ml-[2px] flex flex-row items-center",children:[o.jsx(F,{variant:"tiny",color:"super",className:"translate-y-[-1px]",children:o.jsx(Ne,{size:"xs",icon:ww})}),o.jsx(F,{variant:"tinyRegular",color:"super",className:"line-clamp-1",children:o.jsx(Ve,{defaultMessage:"Personal Search",id:"TZougEncQH",description:"subtitle"})})]}):o.jsx(F,{variant:"tinyRegular",color:"light",className:"line-clamp-1",children:fJe(ude(e.url))})}const ee=f.useMemo(()=>{if(x)return D;if(typeof e.meta_data?.image_url=="string")return e.meta_data.image_url;if(typeof e.meta_data?.images?.[0]=="string")return e.meta_data.images[0];if(typeof e.meta_data?.images?.[0]?.src=="string")return e.meta_data.images[0].src},[x,e,D]);return o.jsx("div",{className:"gap-md relative items-start",children:o.jsxs("div",{className:"gap-lg relative flex w-full flex-row items-center lg:pl-0",children:[o.jsxs("div",{className:"grow",children:[o.jsxs("div",{className:W("gap-xs group flex flex-1 flex-col",{"cursor-pointer":!x&&N}),onClick:V,children:[o.jsxs("div",{className:W("gap-sm flex flex-row items-center"),children:[o.jsx("div",{className:"flex-0 size-[28px] shrink-0",children:$}),o.jsxs("div",{className:"flex flex-1 flex-col",children:[o.jsx("div",{className:"gap-sm flex flex-row items-center",children:o.jsxs(F,{variant:"tiny",className:"line-clamp-1",children:[!n&&t&&!E?t+". ":null,G]})}),K]}),R&&o.jsx(F,{variant:"tiny",color:"light",children:o.jsx(Ne,{size:"xs",icon:ww})})]}),O?null:o.jsx(F,{variant:"baseSemi",color:"default",className:W("line-clamp-1 transition-colors duration-300",{"group-hover:text-super":!x&&N}),children:e.name})]}),o.jsx(F,{variant:"small",color:"light",className:W("line-clamp-3 whitespace-pre-wrap",{"pt-2":O}),children:e.meta_data?.generated_file_description??e.meta_data?.description??e.snippet})]}),ee&&o.jsxs("div",{className:"relative ml-auto hidden aspect-square h-fit w-20 shrink-0 cursor-pointer overflow-hidden rounded-md sm:block",onClick:V,role:"button",tabIndex:0,onKeyDown:oe=>{(oe.key==="Enter"||oe.key===" ")&&(oe.preventDefault(),V(oe))},children:[o.jsx(ps,{src:ee,alt:"image",containerClassName:"absolute inset-0",imageClassName:"absolute inset-0 object-cover object-center w-full h-full",includeLightBoxModal:!1}),o.jsx("div",{className:"rounded-inherit absolute inset-0 border border-[black]/10 dark:border-transparent"})]})]})})});Pz.displayName="SourcesRow";const YWt=10,aie=Ln(),iie=pr(),gRe=L.memo(()=>{const e="sources-mode",{$t:t}=ae(),{sources:n}=Ab(),r=KWt({dedupeAttachments:!0}),{isEntryInFlight:s,result:a}=Un(),{fetchSearch:i,isSearchResultsLoading:l}=GWt({reason:e}),[c,u]=f.useState(1),[d,h]=f.useState([]),m=fm(),g=Ct(),{openModal:v}=Gt(),x=f.useCallback(()=>{const C=c+1;i({entry_uuid:a.backend_uuid??"",limit:YWt,page:C},{onSuccess:S=>{h([...d,...S]),u(C)}})},[c,i,d,a.backend_uuid]),b=f.useCallback(()=>{if(!g){v("loginModal",{origin:gt.SOURCES_VIEW_MORE});return}x()},[x,g,v]);f.useEffect(()=>{n.count<10&&!l&&!s&&!m&&!aie&&!iie&&x()},[s]);const w=!aie&&!iie;return o.jsxs("div",{children:[o.jsx(Ep,{heading:t({defaultMessage:" Attached ",id:"19UTmMXJZR"}),sources:r.attachedSources}),o.jsx(Ep,{heading:t({defaultMessage:"Selected",id:"byP6IC/F2s"}),sources:r.selectedSources}),o.jsx(Ep,{heading:t({defaultMessage:"Reviewed",id:"wiy+GNv+BV"}),sources:r.reviewedSources}),o.jsx(Ep,{heading:t({defaultMessage:"Reviewing",id:"L+ISAVX7+d"}),sources:r.reviewingSources,shimmer:!0}),o.jsx(Ep,{sources:r.unsortedSources}),w&&o.jsxs(kt,{mode:"wait",children:[c===1&&o.jsx(je.div,{animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:Wo,className:"mt-md flex w-full items-center justify-center",children:o.jsx(Le,{variant:"common",isLoading:l||s,size:"small",text:t({defaultMessage:"View More",id:"QQSdHPJWXu"}),onClick:b,pill:!0})},"masher"),d.length>0?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"my-md relative md:ml-0",children:[o.jsx("hr",{className:"bg-offsetPlus absolute top-[50%] h-[1px] w-full border-0"}),o.jsx(F,{variant:"small",color:"light",className:"mb-md bg-background dark:bg-background-dark pr-sm relative z-[1] w-fit",children:t({defaultMessage:"More Results",id:"7S7CM3eEfJ"})})]}),o.jsx(Q,{className:"gap-lg py-sm flex flex-col",children:d.map((C,S)=>o.jsx(Pz,{webResult:C,citationIndex:S,isRelatedResult:!0},C.url))})]}):null]})]})});gRe.displayName="SourcesMode";const Ep=L.memo(({sources:e,heading:t,shimmer:n=!1})=>e.length===0?null:o.jsxs(o.Fragment,{children:[t?o.jsxs("div",{className:"my-md relative md:ml-0",children:[o.jsx("hr",{className:"bg-offsetPlus absolute top-[50%] h-[1px] w-full border-0"}),o.jsx("div",{className:"bg-background dark:bg-background-dark",children:o.jsx(F,{variant:"small",color:"light",className:"mb-md bg-background dark:bg-background-dark pr-sm relative z-[1] w-fit",children:o.jsx(Kn,{variant:"super",active:n,as:"span",children:t})})})]}):null,o.jsx(Q,{className:"gap-lg py-sm flex flex-col",children:e.map(r=>o.jsx(Pz,{webResult:r.web_result,citationIndex:r.citation},r.web_result?.url))})]}));Ep.displayName="SourcesModeSection";const KWt=({dedupeAttachments:e=!1})=>{const{result:t}=Un(),n=QWt({attachments:t.attachments??Fe});return f.useMemo(()=>{const r=new Map,s=[];for(const u of t?.blocks?.find(d=>d.sources_mode_block)?.sources_mode_block?.rows??[]){const d=u.web_result?.is_attachment&&!IF(u.web_result);if(d&&s.push(u),!d||!e){const h=r.get(u.status)??[];h.push(u),r.set(u.status,h)}}const a=r.get(Q3.SELECTED)??Fe,i=r.get(Q3.REVIEWED)??Fe,l=r.get(Q3.REVIEWING)??Fe,c=r.get(Q3.UNSORTED)??Fe;return s.length===0&&n.length>0&&s.push(...n),{attachedSources:s,selectedSources:a,reviewedSources:i,reviewingSources:l,unsortedSources:c}},[e,n,t?.blocks])},QWt=({attachments:e})=>e.map(t=>({web_result:{name:hde(t),url:t,is_attachment:!0,is_image:Si(t),is_code_interpreter:!1,is_knowledge_card:!1,is_navigational:!1,is_widget:!1,sitelinks:[],snippet:"",timestamp:"",meta_data:{},inline_entity_id:""},status:"UNKNOWN",citation:0})),vRe=L.memo(()=>o.jsx(Kn,{children:o.jsx("div",{className:"gap-xs grid auto-cols-fr auto-rows-fr grid-cols-2 sm:grid-cols-3 xl:grid-cols-4",children:Array.from({length:8}).map((e,t)=>o.jsx(yRe,{},t))})}));vRe.displayName="VideoModeLoader";const yRe=L.memo(()=>o.jsx("div",{className:W("bg-background-200 aspect-video w-full grow rounded-md")}));yRe.displayName="Item";const qi=f.memo(({children:e,id:t})=>{const n={hidden:{opacity:0},visible:{opacity:1}};return o.jsx(je.div,{className:"relative",variants:n,initial:"hidden",animate:"visible",exit:"hidden",transition:{duration:.1,ease:"easeInOut"},children:e},t)});qi.displayName="AnswerModeContainer";const XWt=({durationMinutes:e,enabled:t=!0,maxProgress:n=95})=>{const[r,s]=f.useState(2),[a,i]=f.useState(e*60),l=f.useRef(void 0),c=f.useRef(void 0),u=f.useCallback(()=>{if(!t)return;l.current&&clearTimeout(l.current);const d=Math.random()*1500+500;l.current=setTimeout(()=>{const h=Date.now(),m=(h-(c.current??h))/1e3,g=e*60,v=Math.min(m/g*100,n),x=1+Math.random()*2,b=Math.random()*4-2;let w=r+x+b;const C=Math.min(v+10,n);w=Math.min(w,C),w=Math.max(r,Math.min(w,n)),s(w);const S=w/m,E=(n-w)/S,T=Math.max(0,Math.min(E,g-m));i(Math.round(T)),w<n&&u()},d)},[t,e,n,r]);return f.useEffect(()=>{if(!t){s(2),i(e*60);return}return c.current=Date.now(),u(),()=>{l.current&&clearTimeout(l.current)}},[t,e,u]),f.useEffect(()=>{t&&(s(2),i(e*60),c.current=Date.now())},[t,e]),f.useMemo(()=>({percentCompleted:Math.round(r),percentRemaining:Math.round(100-r),estimatedSecondsRemaining:a}),[r,a])},ZWt=({researchPlan:e,reasoningPlan:t,steps:n,blocks:r,hasAnswer:s,isProReasoningMode:a,displayModel:i})=>{const l=t?.goals?.slice(1)??Fe,c=i===Re.O3_PRO,u=XWt({durationMinutes:5,enabled:c&&!s,maxProgress:95}),d=f.useMemo(()=>!e||s||a&&l.length>0&&n.some(x=>x.step_type==="TERMINATE"),[e,s,a,n,l.length]),h=f.useMemo(()=>!t&&!a||!!t?.final,[t,a]),m=s&&h&&d,g=f.useMemo(()=>h?null:t?.goals[t.goals.length-1],[t,h]),v=f.useMemo(()=>{if(c&&!s)return u;let x=0,b=0;if(Array.isArray(r)){for(const C of r)if(C.intended_usage==="plan"&&C.plan_block){const S=C.plan_block;S.eta_seconds_remaining!==void 0&&(x=S.eta_seconds_remaining),S.pct_complete!==void 0&&(b=S.pct_complete)}}const w=b||2;return{estimatedSecondsRemaining:x,percentCompleted:w,percentRemaining:100-w}},[r,c,s,u]);return f.useMemo(()=>({reasoningGoals:l,isResearchPlanFinished:d,isReasoningPlanFinished:h,isAllPlansFinished:m,activeReasoningGoal:g,...v}),[l,d,h,m,g,v])},IJt="/static/images/agent-favicons/gmail.svg",DJt={click:{message:yt({defaultMessage:"Clicking",id:"n43/KMHgLD"}),icon:FHe},fill:{message:yt({defaultMessage:"Filling out a form",id:"5i0X5DesMM"}),icon:lWe},search:{message:yt({defaultMessage:"Searching",id:"IfE0if3ytt"}),icon:cu},navigate:{message:yt({defaultMessage:"Navigating",id:"3O6LMNhb0M"}),icon:gce},press_key:{message:yt({defaultMessage:"Pressing key",id:"R6bmgzv6Xs"}),icon:_5},scroll_page:{message:yt({defaultMessage:"Scrolling",id:"/UUUqdefcb"}),icon:JWe},reasoning:{message:yt({defaultMessage:"Reasoning",id:"Aw3qRf7hyO"}),icon:fY},working:{message:yt({defaultMessage:"Working",id:"gAR0atqpRn"}),icon:tHe},finished:{message:yt({defaultMessage:"Done",id:"JXdbo8Vnlw"}),icon:Pa},reading:{message:yt({defaultMessage:"Reading",id:"MOK/yKIpYX"}),icon:fh},reading_browser:{message:yt({defaultMessage:"Reading your tabs and browser history",id:"G2dNz6EaqT"}),icon:fh},reading_sources:{message:yt({defaultMessage:"Reading sources",id:"fKpmtHm+hd"}),icon:fh},reading_tabs:{message:yt({defaultMessage:"Reading your tabs",id:"oK3xZpjDWF"}),icon:fh},building_app:{message:yt({defaultMessage:"Building application",id:"qK6gEQyvil"}),icon:vY},creating_chart:{message:yt({defaultMessage:"Creating chart",id:"yc5YxtS5VS"}),icon:uWe},thinking:{message:yt({defaultMessage:"Thinking",id:"AHQWDTo4+e"}),icon:fY},reading_history:{message:yt({defaultMessage:"Reading your browser history",id:"SlPbXXwSaB"}),icon:Q7},searching_browser:{message:yt({defaultMessage:"Searching your browser",id:"i91D1hXua6"}),icon:Q7},searching_open_tabs:{message:yt({defaultMessage:"Searching open tabs",id:"xHbSQOjdLq"}),icon:yWe},opening_tab:{message:yt({defaultMessage:"Opening tab",id:"ySnoI+lduZ"}),icon:dY},closing_tabs:{message:yt({defaultMessage:"Closing your tabs",id:"2KnXtfjRKV"}),icon:uY},searching_gmail:{message:yt({defaultMessage:"Searching your email",id:"X1ami4cm1T"}),icon:K7},emailing:{message:yt({defaultMessage:"Emailing",id:"QRygokyD+u"}),icon:K7},searching_calendar:{message:yt({defaultMessage:"Searching your calendar",id:"nH9G8cL0Ys"}),icon:Y7},conclusion:{message:yt({defaultMessage:"Wrapping up",id:"DN3hjkyzeT"}),icon:null},generating_images:{message:yt({defaultMessage:"Generating",id:"NAZfqr2apb"}),icon:bce},presenting_images:{message:yt({defaultMessage:"Presenting",id:"BlxYo7+tmK"}),icon:kce},grouping_tabs:{message:yt({defaultMessage:"Grouping tabs",id:"Fg6l7eg2HV"}),icon:qWe},ungrouping_tabs:{message:yt({defaultMessage:"Ungrouping tab groups",id:"dbpFCBu2NQ"}),icon:GWe},searching_tab_groups:{message:yt({defaultMessage:"Searching tab groups",id:"V+4/ioYMPd"}),icon:cu},getting_freebusy:{message:yt({defaultMessage:"Checking availability",id:"ZamRNp2QgI"}),icon:Y7},getting_user_info:{message:yt({defaultMessage:"Searching your contacts",id:"gPpZJKZdnL"}),icon:dv},found_contacts:{message:yt({defaultMessage:"Found contacts",id:"2zmZgbYnmk"}),icon:dv},no_contacts_found:{message:yt({defaultMessage:"No contacts found",id:"JhY7bAH15Y"}),icon:dv},selecting_contacts:{message:yt({defaultMessage:"Selecting contacts",id:"OQhQc1Jomc"}),icon:dv},getting_contact_details:{message:yt({defaultMessage:"Getting contact details",id:"p391mWkGfv"}),icon:dv},scheduling:{message:yt({defaultMessage:"Scheduling",id:"5lQx5rgTEW"}),icon:OHe},reading_events:{message:yt({defaultMessage:"Getting event details",id:"0QgD+ftRet"}),icon:Y7},reading_emails:{message:yt({defaultMessage:"Reading emails",id:"lVMUU5/DPa"}),icon:K7},OPEN_TAB:{message:yt({defaultMessage:"Open tabs",id:"KO2pxljl8b"}),icon:dY},RECENTLY_CLOSED_TAB:{message:yt({defaultMessage:"Recently closed tabs",id:"GrcBtKIzPh"}),icon:uY},BROWSER_HISTORY:{message:yt({defaultMessage:"Browser history",id:"DtBSny6kw5"}),icon:Q7},MCP_TOOL:{message:yt({defaultMessage:"Connecting to {toolName}",id:"d7xGk+onCz"}),icon:vY}},dg={initial:{opacity:0,position:"absolute",width:"100%"},animate:{opacity:1,position:"relative",transition:{opacity:{duration:.3}}},exit:{opacity:0,position:"absolute",width:"100%",transition:{opacity:{duration:.3}}}},YO=L.memo(({onClick:e})=>{const[t,n]=f.useState(!1),r=f.useCallback(()=>{n(!0),e()},[e]),{searchMode:s}=Un(),a=f.useMemo(()=>o.jsx(Ve,{defaultMessage:"Skip remaining steps",id:"nWmXYwgk8a"}),[]);return o.jsx(F,{color:"light",variant:"small",className:"text-pretty",children:o.jsx("div",{className:"relative min-h-[20px] w-full",children:t?o.jsx(je.div,{initial:"initial",animate:"animate",exit:"exit",variants:dg,children:o.jsx(Kn,{variant:"super",as:"div",className:"px-sm inline-block flex h-6 items-center",children:s===_e.STUDIO?o.jsx(Ve,{defaultMessage:"Creating…",id:"rQUSqe6JcA"}):o.jsx(Ve,{defaultMessage:"Answer…",id:"4hkQO/op5u"})})},"skipping-message"):o.jsx(je.div,{initial:"initial",animate:"animate",exit:"exit",variants:dg,children:o.jsx(Le,{size:"tiny",onClick:r,variant:"common",icon:UWe,extraCSS:W("rounded-lg"),text:a})},"skip-button")})})});YO.displayName="FastAnswerButton";const Iz=({windowsAppOnly:e=!0}={})=>{const[t,n]=f.useState(()=>globalThis.Notification?globalThis.Notification.permission:"denied"),{isWindowsApp:r}=sn();f.useEffect(()=>{globalThis.Notification&&globalThis.Notification.permission!==t&&n(globalThis.Notification.permission)},[t]);const s=f.useCallback(async()=>{if(globalThis.Notification){if(t==="granted")return!0;if(t==="denied")return!1;const i=await globalThis.Notification.requestPermission();return n(i),i==="granted"}return!1},[t]),a=f.useCallback(async({title:i,body:l,icon:c="https://r2cdn.perplexity.ai/pplx-desktop-icon.png",onClick:u})=>{if(!(e&&!r||!await s())&&globalThis.Notification){const h=new globalThis.Notification(i,{body:l,icon:c});u&&(h.onclick=()=>{u(),window.focus()})}},[e,r,s]);return f.useMemo(()=>({sendNotification:a,requestPermission:s,permission:t,isWindowsApp:r}),[r,t,s,a])},xRe=L.memo(()=>{const{trackEvent:e}=Ye(),{$t:t}=ae(),{permission:n,requestPermission:r}=Iz({windowsAppOnly:!1}),s=f.useCallback(async()=>{try{e("permission notifications requested",{origin:"pro_reasoning_status_updater"}),await r()?e("permission notifications granted",{origin:"pro_reasoning_status_updater"}):e("permission notifications not granted",{origin:"pro_reasoning_status_updater"})}catch(i){le.error("Error requesting notification permission:",i)}},[e,r]),a=Ls(n).with("default",()=>({variant:"primaryGhost",text:t({id:"ipGe+BIJx7",defaultMessage:"Notify me"}),icon:fx})).with("granted",()=>({variant:"border",text:t({id:"V52jNnY+6M",defaultMessage:"Enabled"}),icon:hHe,toolTip:t({id:"ktmy4MhbQv",defaultMessage:"We'll notify you when done."}),extraCSS:"!pointer-events-none border-none !bg-transparent"})).otherwise(()=>({variant:"border",icon:mHe,toolTip:t({id:"D0ozicKDgX",defaultMessage:"Notifications blocked. Please check browser settings."}),extraCSS:"!pointer-events-none border-none !bg-transparent"}));return o.jsx(Le,{size:"tiny",onClick:s,...a,extraCSS:W("rounded-lg",a.extraCSS)})});xRe.displayName="NotificationButton";const bRe=L.memo(({estimatedSecsRemaining:e,placeholderMessage:t="Creating a plan…",resultType:n="project"})=>{const{formatNumber:r,formatMessage:s}=ae();return o.jsx(F,{variant:"small",color:"light",className:"text-pretty",children:o.jsx("div",{className:"relative min-h-[20px] w-full",children:o.jsx(kt,{mode:"sync",initial:!1,children:e?o.jsx(je.div,{initial:"initial",animate:"animate",exit:"exit",variants:dg,children:o.jsx(Ve,{defaultMessage:"{time} left to gather sources and create your {resultType}.",id:"AhSqF1URDZ",values:{time:o.jsx(F,{inline:!0,variant:"smallBold",as:"span",children:Math.round(e/60)===1?s({defaultMessage:"A minute",id:"X4ic2xRHa2"}):r(Math.round(e/60),{style:"unit",unit:"minute",unitDisplay:"long"})}),resultType:s(n==="project"?{defaultMessage:"project",id:"RbFAl7UGmp"}:{defaultMessage:"report",id:"TmfXGUz23p"})}})},"time-remaining"):o.jsx(je.div,{initial:"initial",animate:"animate",exit:"exit",variants:dg,children:o.jsx(Kn,{variant:"super",as:"span",children:t})},"creating-plan")})})})});bRe.displayName="TimeRemaining";const N8=L.memo(({estimatedSecsRemaining:e,percentCompleted:t,placeholderMessage:n,resultType:r,showAnimatePresence:s=!0,wrapperClassName:a="relative min-h-[20px] w-full"})=>{const i=!t||t<95?o.jsx(je.div,{initial:"initial",animate:"animate",exit:"exit",variants:dg,children:o.jsx(bRe,{estimatedSecsRemaining:e,placeholderMessage:n,resultType:r})},"time-remaining"):o.jsx(je.div,{initial:"initial",animate:"animate",exit:"exit",variants:dg,children:o.jsx(F,{color:"light",variant:"small",className:"text-pretty",children:o.jsx(Kn,{variant:"super",as:"span",children:o.jsx(Ve,{defaultMessage:"Finishing up...",id:"JUr8ErKBCt"})})})},"finishing-message");return s?o.jsx("div",{className:a,children:o.jsx(kt,{mode:"sync",initial:!1,children:i})}):i});N8.displayName="ProgressMessage";const wRe=L.memo(({percentCompleted:e})=>o.jsx("div",{className:"gap-two relative flex w-full flex-col",children:o.jsx(N8,{percentCompleted:e,placeholderMessage:"Reasoning with o3-pro…"})}));wRe.displayName="O3Message";const _Re=L.memo(({percentCompleted:e=1,className:t,showPlayHead:n=!0})=>o.jsx("div",{className:W("pb-xs relative w-full flex-col",t),children:o.jsxs("div",{className:"bg-background-300 h-xs relative left-0 top-0 flex w-full rounded-full",children:[o.jsx("div",{className:"bg-super shadow-super/15 left-0 top-0 h-full rounded-full shadow-[0_0_2px_1px] transition-[width] duration-200 ease-in-out",style:{width:`${e}%`}}),n&&o.jsx("div",{className:"bg-super shrink-none -ml-two -mt-two shadow-super/50 size-sm rounded-full shadow-[0_0_5px_1px,-4px_0_3px_-2px]"})]})}));_Re.displayName="ProgressBar";const CRe=L.memo(({searchMode:e,estimatedSecondsRemaining:t,percentCompleted:n})=>o.jsx("div",{className:"gap-two relative flex w-full flex-col",children:o.jsx(F,{color:"light",variant:"small",className:"text-pretty",children:e===_e.RESEARCH&&o.jsx(N8,{estimatedSecsRemaining:t,percentCompleted:n,placeholderMessage:"It takes a few minutes to gather sources and create your report.",resultType:"report",showAnimatePresence:!1,wrapperClassName:""})})}));CRe.displayName="ResearchMessage";const SRe=L.memo(({estimatedSecsRemaining:e,percentCompleted:t})=>o.jsx("div",{className:"gap-two pb-xs relative flex w-full flex-col",children:o.jsx(N8,{estimatedSecsRemaining:e,percentCompleted:t,placeholderMessage:"Creating a plan…"})}));SRe.displayName="StudioMessage";const MRe=L.memo(({className:e,style:t,skipSearchEnabled:n,onSkipSearch:r})=>{const{searchMode:s,researchPlan:a,reasoningPlan:i,steps:l,hasAnswer:c,isProReasoningMode:u,result:{backend_uuid:d,blocks:h,display_model:m}}=Un(),{estimatedSecondsRemaining:g,percentCompleted:v,percentRemaining:x}=ZWt({researchPlan:a,reasoningPlan:i,steps:l,blocks:h,hasAnswer:c,isProReasoningMode:u??!1,displayModel:m}),b=Math.min(v,95),w=l.some(k=>k.step_type==="ENTROPY_REQUEST"),C=m===Re.O3_PRO;return s===_e.RESEARCH||s===_e.STUDIO||C?o.jsxs(je.div,{initial:{opacity:0,y:-4},className:e,style:t,animate:{opacity:1,y:0,transition:{ease:Hy,duration:.2,delay:.05}},exit:{opacity:0,y:-4,transition:{ease:Hy,duration:.5}},children:[n&&w&&r&&o.jsx(YO,{onClick:r}),o.jsxs(Q,{variant:"offset",className:W(C?"shadow-s pt-md pb-md rounded-xl border px-6":"pb-md rounded-xl border px-6 pt-5 shadow-sm","flex flex-col gap-3"),children:[o.jsxs(Q,{className:W("gap-sm flex flex-row items-start"),children:[o.jsx("div",{className:"gap-sm pt-two relative flex grow",children:s===_e.RESEARCH?o.jsx(CRe,{searchMode:s,estimatedSecondsRemaining:g,percentCompleted:b}):C?o.jsx(wRe,{percentCompleted:b}):o.jsx(SRe,{estimatedSecsRemaining:g,percentRemaining:x,percentCompleted:b,backendUuid:d})}),o.jsxs("div",{className:"gap-sm flex items-start",children:[n&&r&&!C&&o.jsx(YO,{onClick:r}),!C&&o.jsx(xRe,{})]})]}),o.jsx(_Re,{percentCompleted:b,className:"my-1.5"})]}),o.jsx("div",{className:"from-background via-background absolute top-full h-5 w-full bg-gradient-to-b from-0% via-[calc(100%_-_12px)] to-transparent to-100% backdrop-blur-[0.25px]"})]},"progress-banner"):null});MRe.displayName="ProgressBanner";const JWt=De(async()=>({default:(await Me(()=>Promise.resolve().then(()=>TRe),void 0)).MarkSpinner})),e$t=L.memo(({title:e,titleIcon:t,titleAccessory:n,titleUrl:r,showPplxMark:s,queryStr:a,loading:i,className:l="mb-sm"})=>{const{trackEvent:c}=Ye(),[u,d]=f.useState(!1),h=f.useCallback(()=>{r!=null&&(c("click result entry header",{query:a}),window.open(r,"_blank")?.focus())},[c,a,r]);return o.jsxs("div",{className:W("flex w-full items-center justify-between",l),children:[o.jsx("div",{onClick:h,className:W({"cursor-pointer":r!=null}),children:o.jsxs("div",{color:"super",className:"space-x-sm flex items-center",children:[(s||t)&&o.jsx(F,{variant:"section-title",as:"div",children:s?o.jsx("div",{className:"relative -top-[1px] flex w-[24px] transform-gpu items-center justify-center",onClick:()=>{d(!0),setTimeout(()=>{d(!1)},0)},children:o.jsx(JWt,{size:24,shouldAnimate:i||u})}):t&&o.jsx("div",{className:"w-[24px]",children:o.jsx(Ne,{icon:t,size:"lg"})})}),o.jsx(F,{variant:"section-title",as:"div",children:e})]})}),n]})}),kRe=L.memo(({header:e,children:t})=>o.jsxs(Q,{children:[e&&o.jsx(Q,{variant:"background",className:W("flex","items-center","justify-between"),children:e}),t]}));kRe.displayName="ThreadEntrySection";const t$t=4,n$t=L.memo(({showHeader:e,className:t,includeShimmer:n=!0})=>{const{$t:r}=ae();return o.jsx(Q,{className:W("mb-lg",t),children:o.jsx(kRe,{header:e?o.jsx(e$t,{title:r({defaultMessage:"Sources",id:"fhwTpAcBLC"}),titleIcon:Dh}):null,children:o.jsx(Kn,{active:n,className:W("-mx-md gap-sm px-md relative inline-flex h-[68px] overflow-x-auto sm:mx-0 md:grid md:grid-flow-col md:grid-cols-4 md:overflow-x-visible md:px-0"),children:Array.from({length:t$t}).map((s,a)=>o.jsx(Q,{variant:"offset",className:"w-[40vw] rounded-lg md:!w-full"},a))})})})}),ERe=f.memo(()=>o.jsxs(Kn,{className:"gap-md flex flex-col",children:[o.jsx(aj,{}),o.jsx(aj,{}),o.jsx(aj,{})]})),aj=f.memo(()=>o.jsxs("div",{className:"gap-sm flex items-center",children:[o.jsx(Q,{variant:"offset",className:"size-32 shrink-0 rounded-md"}),o.jsxs("div",{className:"gap-sm flex w-full flex-col",children:[o.jsx(Q,{variant:"offset",className:"h-4 w-full rounded-full"}),o.jsx(Q,{variant:"offset",className:"h-4 w-2/3 rounded-full"})]})]})),r$t=f.memo(()=>{const{searchMode:e,inFlight:t}=Un(),n=e==_e.STUDIO;return o.jsxs("div",{children:[n&&t&&o.jsx(MRe,{}),o.jsxs(Kn,{className:W("gap-md flex",{"max-w-threadContentWidth mx-auto":!n}),children:[n&&o.jsxs("div",{className:"gap-md flex w-[30%] flex-col",children:[o.jsx(Q,{variant:"offset",className:"h-4 w-1/2 rounded-full"}),o.jsxs("div",{className:"gap-sm flex",children:[o.jsx(Q,{variant:"offset",className:"size-3.5 rounded-full"}),o.jsx(Q,{variant:"offset",className:"h-4 w-2/3 rounded-full"})]}),o.jsxs("div",{className:"gap-sm flex",children:[o.jsx(Q,{variant:"offset",className:"size-3.5 rounded-full"}),o.jsx(Q,{variant:"offset",className:"h-4 w-2/3 rounded-full"})]})]}),o.jsxs("div",{className:"gap-sm flex w-[70%] flex-col",children:[o.jsx(Q,{variant:"offset",className:"h-4 w-[70%] rounded-full"}),o.jsx(Q,{variant:"offset",className:"h-4 w-[80%] rounded-full"}),o.jsx(Q,{variant:"offset",className:"h-4 w-[50%] rounded-full"})]})]})]})});f.memo(()=>o.jsxs(Kn,{children:[o.jsx(n$t,{showHeader:!1}),o.jsxs("div",{className:"gap-sm mt-lg flex w-full flex-col",children:[o.jsx(Q,{variant:"offset",className:"h-3 w-full rounded-full"}),o.jsx(Q,{variant:"offset",className:"h-3 w-2/3 rounded-full"})]})]}));const s$t=f.memo(({lineThickness:e,...t})=>o.jsxs("svg",{width:"2820",height:"74",viewBox:"0 0 2820 74",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[o.jsx("path",{d:"M29.6848 25.4603L48.3092 41.1547V64.3955L29.6848 49.0293M29.6848 25.4603L10.9465 41.2436V64.7306L29.6316 49.0293M29.6848 25.4603H3.35229V49.1113H10.3379M29.6848 25.4603H56.0553V49.1113H48.6552M29.6848 25.4603L10.9465 9.77618V24.7752M29.6848 25.4603L48.3092 9.77618V24.7591M29.6848 25.4603L29.6848 2.77313V24.382M29.6848 25.4603V49.1113M29.6848 25.4603V71.6755V49.0839",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M209.685 49.029L226.532 65.889V42.256L209.685 25.46L189.647 39.835L189.532 64.785L207.207 50.797",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M209.685 25.46L207.549 47.423V71.566L209.685 49.084M209.685 25.46L183.516 24.701V47.433L189.594 47.823M209.685 25.46L235.855 26.937V50.943L226.655 50.299M209.685 25.46L192.558 8.218V24.1M209.685 25.46L229.708 10.542V26.546M209.685 25.46L211.798 2.855V24.76M209.685 25.46V49.111M269.685 49.029L285.993 66.318V42.675L269.685 25.46L249.061 39.22V63.11L266.369 51.263",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M269.685 25.46L266.606 47.86V71.511L269.685 49.084M269.685 25.46L243.571 22.835V46.558L248.794 47.068M269.685 25.46L295.788 27.702V51.6L286.585 50.723M269.685 25.46L253.227 7.67V24.726M269.685 25.46L290.377 11.28V27.133M269.685 25.46L272.71 2.923V23.098M269.685 25.46V49.111M329.685 49.03L345.299 67.137V43.3L329.685 25.46L308.331 38.51V62.29L325.293 51.73",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M329.685 25.46L325.565 47.635V71.334L329.685 49.084M329.685 25.46L304.726 21.906V45.738L307.934 46.296M329.685 25.46L355.721 28.687V52.584L345.937 51.279M329.685 25.46L314.048 7.233V23.17M329.685 25.46L351.015 11.882V27.907M329.685 25.46L333.714 2.992V22.74M329.685 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M389.685 49.029L404.201 67.538L404.352 43.92L389.685 25.46L367.86 37.607V61.387L384.2 52.113",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M389.685 25.46L384.523 47.3V71.156L389.685 49.084M389.685 25.46L363.9 20.922V44.754L367.262 45.322M389.685 25.46L415.508 29.78V54.723L404.436 51.688M389.685 25.46L375.021 6.57701V22.724",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M389.685 25.46L411.715 12.838V29.235M389.685 25.46L394.754 3.19701V22.344M389.685 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M449.685 49.029L463.072 68.404L463.215 44.53L449.685 25.46L427.054 36.842V60.595L442.826 52.515",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M449.685 25.46L443.117 47.129V70.924L449.685 49.084M449.685 25.46L424.143 19.8V44.76L426.599 44.184M449.685 25.46L475.28 30.683V54.58L463.735 52.113M449.685 25.46L436.176 5.976V22.356",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M449.685 25.46L472.414 13.727V30.403M449.685 25.46L456.192 3.539L456.33 21.994M449.685 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M509.685 49.029L521.673 68.656L521.879 45.127L509.685 25.46L486.385 35.611V59.501L501.389 52.742",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M509.685 25.46L501.711 46.575V70.418L509.685 49.084M509.685 25.46L484.477 18.515V42.481L485.621 42.781M509.685 25.46L534.754 32.077V55.906L522.17 52.482",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M509.685 25.46L497.606 5.374L497.3 22.124M509.685 25.46L533.189 14.79V31.499M509.685 25.46L517.651 3.84V21.876M509.685 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M569.685 49.03L580.306 69.736V45.91L569.685 25.46L545.564 34.271V58.134L559.659 52.802",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M569.685 25.46L560 46.322V69.98L569.685 49.084M569.685 25.46L545.086 17.121V40.813L545.119 40.824M569.685 25.46L594.185 33.444L594.238 57.334L580.581 52.76M569.685 25.46L559.096 4.69V21.458M569.685 25.46L593.98 16.31L594.119 33.415M569.685 25.46L579.4 4.36V21.53M569.685 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M629.685 49.03L638.275 70.78V46.58L629.685 25.46L604.774 32.603V56.576L617.836 52.61",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M629.685 25.46L618.29 45.14V69.27L629.685 49.084M629.685 25.46L605.937 15.508V32.273M629.685 25.46L653.478 35.112V58.838L638.453 52.696M629.685 25.46L621.102 3.98V21.387",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M629.685 25.46L654.664 17.842V41.941L653.7 42.217M629.685 25.46L641.361 5.084V21.818M629.685 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M689.685 49.029L696.089 71.244V47.065L689.685 25.46L664.074 30.744V54.552L675.799 52.019",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M689.685 25.46L676.002 44.34V68.094L689.685 49.084M689.685 25.46L667.092 14.721V29.977M689.685 25.46L712.323 36.944V60.698L696.503 52.601M689.685 25.46L683.353 3.433V21.908",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M689.685 25.46L715.303 19.948V43.855L712.658 44.398M689.685 25.46L703.459 6.06799V22.442M689.685 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M749.685 49.029L753.271 71.747V47.493L749.685 25.46L723.558 28.365V52.201L733.357 51.009",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M749.685 25.46L733.714 43.157V66.918L749.685 49.084M749.685 25.46L728.673 11.707V27.76M749.685 25.46L770.772 38.83V62.694L753.503 51.57M749.685 25.46L746.12 3.05V22.72",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M749.685 25.46L775.789 22.19V46.083L771.103 46.627",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M765.679 23.49V7.408L749.685 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M809.685 49.029L809.977 72.045L809.685 47.568V25.46H783.345V49.467L790.992 49.34",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M809.685 25.46L791.205 41.503V64.753L809.685 49.083M809.685 25.46L790.832 9.656V25.143M809.685 25.46L828.674 41.127V64.754L809.685 49.11M809.685 25.46L809.343 2.735",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M809.685 25.46L836.063 25.033V48.753L829.072 48.848M809.685 25.46L828.172 9.24001V25.106M809.685 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M869.685 49.03L866.405 71.53L866.065 47.01L869.685 25.46L843.558 22.37V46.186L848.429 46.717",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M869.685 25.46L848.696 38.865V62.789L866.042 51.462M869.685 25.46L854.76 7.497V23.406M869.685 25.46L885.633 43.096V66.959L869.685 49.111M869.685 25.46L873.235 3.132V22.9",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M869.685 25.46L895.82 28.304V52.088L885.776 50.944M869.685 25.46L890.726 11.618V27.652M869.685 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M929.685 49.028L922.004 70.99V46.713L929.685 25.46L904.439 18.734V42.44L906.137 42.884",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M929.685 25.46L906.294 35.826V59.59L921.769 52.64M929.685 25.46L917.34 5.48701L917.202 21.692M929.685 25.46L942.076 45.065V68.9L929.685 49.111M929.685 25.46L937.401 3.78801V21.63",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M929.685 25.46L954.747 31.858V55.698L942.558 52.481M929.685 25.46L953.068 14.763V31.197M929.685 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M989.685 49.03L977.622 69.38V45.26L989.685 25.46L966.203 15.125V31.444",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M989.685 25.46L964.683 32.077V56.008L977.63 52.423M989.685 25.46L981.627 4.01001V21.74M989.685 25.46L997.788 46.787V70.513L989.685 49.111M989.685 25.46L1001.81 5.23701V21.8",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M989.685 25.46L1013.17 35.468V59.279L998 52.711",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1013.48 42.742L1014.79 42.37V18.372L989.685 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1049.68 49.029L1034.75 66.743V43.12L1049.68 25.46L1028.76 11.652V27.197",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1049.68 25.46L1023.45 28.18V52.112L1033.53 50.949M1049.68 25.46L1046.22 3.026V22.739M1049.68 25.46L1053.2 47.361V71.388L1049.68 49.111M1049.68 25.46L1065.79 7.507V23.295",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1049.68 25.46L1070.59 38.786V62.78L1053.32 51.489",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1070.94 46.661L1075.96 46.101V22.391L1049.68 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1108.51 49.947L1090.23 64.228V40.474L1109.68 25.46L1091.89 8.78101V24.188",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1109.68 25.46L1084.75 24.27V48.175L1090.22 48.405M1109.68 25.46L1110.87 2.862L1110.71 24.747M1109.68 25.46L1108.57 47.033V71.716L1109.68 49.111M1109.68 25.46L1129.08 10.132V25.747",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1109.68 25.46L1127.46 41.848V65.568L1109.68 49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1127.63 49.715L1135.96 50.034V26.328L1109.68 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1163.88 52.298L1147.7 61.414V37.531L1169.68 25.46L1155.29 6.59399V22.504",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1169.68 25.46L1143.85 20.662V44.552L1147.51 45.194M1169.68 25.46L1175.13 3.327L1174.79 22.093M1169.68 25.46L1164.62 47.033L1164.2 71.17L1169.68 49.111L1184.23 67.947V44.145L1169.68 25.46ZM1169.68 25.46L1191.87 12.948V28.924",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1184.43 51.662L1195.53 54.743V29.828L1169.68 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1220.25 52.825L1206.12 58.508V34.662L1229.68 25.46L1218.52 5.036V21.422",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1229.68 25.46L1204.75 17.627V41.49L1205.54 41.7M1229.68 25.46L1238.81 4.256L1238.64 21.334M1229.68 25.46L1220.73 46.404V70.24L1229.68 49.111L1240.89 69.588V45.758L1229.68 25.46ZM1229.68 25.46L1253.58 15.873V32.521",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1241.03 52.54L1254.41 56.678V32.863L1229.68 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1289.68 25.46L1264.5 32.081V55.974L1277.2 52.472M1289.68 25.46L1281.65 3.97V21.309M1289.68 25.46L1266.25 14.747V31.563M1289.68 25.46L1301.82 5.35V21.67",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1289.68 49.111L1277.57 69.174V45.365L1289.68 25.46L1314.76 18.389V42.272L1314.08 42.458",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1289.68 25.46L1297.73 46.798V70.544L1289.68 49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1297.9 52.673L1313.16 59.44V35.488L1289.68 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1349.68 25.46L1323.79 29.631V53.515L1334.71 51.624M1349.68 25.46L1344.45 3.259V22.232M1349.68 25.46L1327.68 12.87V28.975M1349.68 25.46L1364.34 6.717V22.43",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1349.68 49.111L1335.01 67.943V44.053L1349.68 25.46L1375.61 20.877V44.761L1372.31 45.315",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1349.68 25.46L1354.73 47.317V71.173L1349.68 49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1354.79 52.049L1371.71 61.573V37.785L1349.68 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1409.68 25.46L1383.5 27.452V51.428L1392.53 50.601M1409.68 25.46L1407.03 2.95801V23.477M1409.68 25.46L1389.23 11.092V26.894M1409.68 25.46L1426.44 7.97501V23.577",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1409.68 49.112L1393.01 66.522V42.522L1409.68 25.46L1435.92 23.037V46.975L1430.43 47.422",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1409.68 25.46L1412.44 47.563V71.501L1409.68 49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1412.62 51.087L1430.15 63.391V39.466L1409.68 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1469.68 25.46L1443.5 25.626V49.323L1450.99 49.239M1469.68 25.46L1469.63 2.79401V2.86401M1469.68 25.46L1450.9 9.64301V25.562M1469.68 25.46L1488.17 9.37001V24.736",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1469.68 49.112L1451.33 65.182V41.237L1469.68 25.46L1496.16 25.142V48.807L1488.91 48.89",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1469.68 25.46L1470 47.754V71.638L1469.68 49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1469.68 49.029L1488.52 64.754V40.916L1469.68 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1529.68 25.46L1503.5 23.874V47.758L1509.37 48.043M1529.68 25.46L1531.55 2.84801V23.465M1529.68 25.46L1512.36 8.33001V24.23M1529.68 25.46L1549.57 10.545V26.025",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1529.68 49.111L1509.84 63.869V40.061L1529.68 25.46L1556.02 26.756V50.694L1547.51 50.182",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1529.68 25.46L1527.94 47.918V71.474L1529.68 49.111V25.46ZM1529.68 25.46L1547.05 42.091V66.098L1529.68 49.029",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1589.68 25.46L1563.5 22.18V46.007L1568.24 46.554M1589.68 25.46L1593.34 3.09401V22.586M1589.68 25.46L1573.79 7.40001V23.212M1589.68 25.46L1610.79 11.584V27.55",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1585.87 51.573L1568.66 62.693V38.803L1589.68 25.46L1615.89 28.242V52.307L1606.05 51.107",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1589.68 25.46L1586.05 47.645V71.31L1589.68 49.111V25.46ZM1589.68 25.46L1605.57 43.075V67.082L1589.68 49.029",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1649.68 25.46L1623.96 20.819V44.572L1627.42 45.172M1649.68 25.46L1654.72 3.17599V21.958M1649.68 25.46L1635.13 6.55299V22.64M1649.68 25.46L1671.73 12.842V28.897",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1644.41 52.059L1627.59 61.463V37.628L1649.68 25.46L1675.55 29.8V54.747L1664.45 51.7",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1649.68 25.46L1644.38 47.317V71.255L1649.68 49.111V25.46ZM1649.68 25.46L1664.25 44.019V67.929L1649.68 49.029",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1709.68 25.46L1684.35 19.59V43.25L1686.64 43.77M1709.68 25.46L1716.47 3.58701V21.618M1709.68 25.46L1696.43 5.87001V22.235M1709.68 25.46L1732.55 14.018V30.154",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1702.93 52.469L1686.93 60.424V36.452L1709.68 25.46L1735.25 31.14V54.76L1722.16 51.964",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1709.68 25.46L1702.88 47.085V70.9L1709.68 49.111V25.46ZM1709.68 25.46L1722.9 44.757V68.558L1709.68 49.029",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1769.68 25.46L1744.79 18.471V42.224L1746.02 42.562M1769.68 25.46L1777.81 3.99701V21.415M1769.68 25.46L1757.68 5.32301V21.924M1769.68 25.46L1793.25 15.056V31.36",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1761.32 52.76L1746.01 59.44V35.467L1769.68 25.46L1794.76 32.084V55.97L1781.58 52.363",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1769.68 25.46L1761.49 46.729V70.489L1769.68 49.111V25.46ZM1769.68 25.46L1781.63 45.222V69.146L1769.68 49.029",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1829.68 25.46L1805.1 17.39V41.163L1805.4 41.259M1829.68 25.46L1839 4.35201V21.335M1829.68 25.46L1818.87 4.703V21.707M1829.68 25.46L1853.83 15.986V32.568",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1820.07 52.787L1805.53 58.347V34.647L1829.68 25.46L1854.34 33.21V57.037L1841 52.75",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1829.68 25.46L1820.32 46.305V70.148L1829.68 49.111V25.46ZM1829.68 25.46L1840.49 45.66V69.638L1829.68 49.029",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1889.68 25.46L1865.62 16.478L1865.29 33.368M1889.68 25.46L1900.06 4.68V21.433M1889.68 25.46L1879.96 4.42V21.716M1889.68 25.46L1914.28 16.834V40.88L1914.24 40.895M1889.68 25.46L1865.16 33.554V57.444L1879.17 52.685",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1899.9 52.822L1913.91 57.912V34.058L1889.68 25.46L1879.29 45.868V69.806L1889.68 49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1889.68 49.029L1899.43 69.806V46.015L1889.68 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1949.68 25.46L1925.99 15.695V31.95M1949.68 25.46L1961.1 5.063V21.494M1949.68 25.46L1940.84 4.092V21.5M1949.68 25.46L1974.68 17.79L1974.47 41.702L1973.9 41.872M1949.68 25.46L1924.76 32.706V56.596L1938.1 52.605",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1958.83 52.837L1973.52 58.814V34.733L1949.68 25.46L1938.23 45.615V69.41L1949.68 49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M1949.68 49.029L1958.5 70.298V46.37L1949.68 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2009.68 25.46L1986.3 14.757V31.231M2009.68 25.46L2021.92 5.44601V21.716M2009.68 25.46L2001.76 3.87401V21.862M2009.68 25.46L2034.73 18.584V42.522L2033.42 42.892M2009.68 25.46L1984.49 31.943V55.858L1997.18 52.461",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2017.96 52.797L2033.06 59.525V35.698L2009.68 25.46L1997.49 45.136V69.026L2009.68 49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2009.68 49.029L2017.51 70.544V46.63L2009.68 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2069.68 25.46L2046.84 14.317V30.256M2069.68 25.46L2082.74 5.82901V21.933M2069.68 25.46L2062.64 3.71001V21.922M2069.68 25.46L2095.2 19.377V43.287L2092.94 43.803M2069.68 25.46L2044.28 31.26V55.065L2056.51 52.199",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2076.98 52.648L2092.73 60.29V36.218L2069.68 25.46L2056.73 44.713V68.576L2069.68 49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2069.68 49.03L2076.74 70.79V47.018L2069.68 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2129.68 25.46L2107.19 13.74V29.597M2129.68 25.46L2143.31 6.211V22.141M2129.68 25.46L2123.43 3.464V21.942M2129.68 25.46L2155.41 20.033L2155.2 43.916L2152.65 44.436M2129.68 25.46L2103.94 30.658V54.463L2115.78 52.002",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2136.31 52.545L2152.21 60.783V36.874L2129.68 25.46L2115.95 44.384V68.274L2129.68 49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2129.68 49.029L2135.9 70.968V47.032L2129.68 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2189.68 25.46L2167.64 13.069V28.892M2189.68 25.46L2204.01 6.43V22.382M2189.68 25.46L2184.31 3.3V22.194M2189.68 25.46L2215.62 20.58V44.518L2212.13 45.137M2189.68 25.46L2163.85 29.865L2163.94 53.862L2174.73 51.834",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2195.71 52.442L2211.87 61.385V37.448L2189.68 25.46L2175.33 44.111V67.974L2189.68 49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2189.68 49.029L2195.25 71.118V47.114L2189.68 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2249.68 25.46L2227.97 12.556V28.31M2249.68 25.46L2264.62 6.676V22.45M2249.68 25.46L2244.76 3.08V22.463M2249.68 25.46L2275.62 21.072V45.229L2271.85 45.793M2249.68 25.46L2223.76 29.346L2223.94 53.233L2234.52 51.539",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2254.75 52.153L2271.51 61.713V37.913L2249.68 25.46L2234.72 43.728V67.618L2249.68 49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2249.68 49.029L2254.55 71.146V47.14L2249.68 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2309.68 25.46L2288.37 12.072V27.909M2309.68 25.46L2325.14 7.196V22.866M2309.68 25.46L2305.5 3.026V22.507M2309.68 25.46L2335.72 21.7L2335.62 45.502L2331.57 46.066M2309.68 25.46L2284.77 28.853V52.66L2294.05 51.244",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2314.36 51.989L2331.05 62.26V38.46L2309.68 25.46L2294.2 43.51V67.29L2309.68 49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2309.68 49.029L2313.94 71.378V47.36L2309.68 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2348.71 27.302V11.671L2369.68 25.46L2385.56 7.414V23.034",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2369.68 25.46L2366.04 2.944V23.073M2369.68 25.46L2395.82 22.11L2395.62 46.158L2391.12 46.671M2369.68 25.46L2343.55 28.222V52.167L2353.56 50.996",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2374.76 51.665L2390.75 62.643V38.813L2369.68 25.46L2353.78 43.14V67.003L2369.68 49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2369.68 49.029L2373.21 71.378V47.332L2369.68 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2429.68 25.46L2409.04 11.326V26.962M2429.68 25.46L2446.08 7.66V23.246M2429.68 25.46L2426.62 2.944V23.177M2429.68 25.46L2455.93 22.548V46.568L2450.64 47.08M2429.68 25.46L2403.43 27.948V51.62L2413.16 50.69",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2433.12 51.449L2450.35 63.189V39.251L2429.68 25.46L2413.32 42.771V66.69L2429.68 49.112",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2429.68 49.03L2432.71 71.46V47.332L2429.68 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2489.68 25.46L2469.4 11.01V26.644M2489.68 25.46L2506.48 7.88001V23.456M2489.68 25.46L2487.23 2.91701V24.713M2489.68 25.46L2516 23.095V46.98L2510.45 47.43M2489.68 25.46L2463.4 27.429L2463.43 51.292L2472.71 50.521",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2492.62 51.175L2510.11 63.49V39.415L2489.68 25.46L2472.91 42.553V66.457L2489.68 49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2489.68 49.029L2492.24 71.474V47.4L2489.68 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2549.68 25.46L2529.67 10.693V26.371M2549.68 25.46L2566.81 8.098V24.768M2549.68 25.46L2547.67 2.821V24.777M2549.68 25.46L2576.07 23.45V47.39L2570.31 47.765M2549.68 25.46L2523.37 27.019L2523.43 50.964L2532.28 50.339",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2551.97 50.759L2569.78 64.726V39.606L2549.68 25.46L2532.56 42.252V66.142L2549.68 49.112",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2549.68 49.029L2551.77 71.515V47.333L2549.68 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2609.68 25.46L2589.92 10.392V25.937M2609.68 25.46L2627.12 8.31701V23.877M2609.68 25.46L2608.05 2.80701V23.983M2609.68 25.46L2636.14 23.888V47.744L2629.74 48.075M2609.68 25.46L2583.34 26.663L2583.38 50.526L2591.88 50.069",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2611.76 50.677L2629.29 63.873V40.071L2609.68 25.46L2592.23 42.074V65.971L2609.68 49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2609.68 49.029L2611.33 71.542V47.305L2609.68 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2669.68 25.46L2650.26 10.242V25.778M2669.68 25.46L2687.45 8.56301V24.107M2669.68 25.46L2668.45 2.79401V24.457M2669.68 25.46L2696.14 24.161V48.127L2689.77 48.364M2669.68 25.46L2643.32 26.335L2643.33 50.253L2651.65 49.893",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2671.01 50.121L2689.05 63.9V40.235L2669.68 25.46L2651.95 41.828V65.698L2669.68 49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2669.68 49.029L2670.93 71.556V47.387L2669.68 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2729.68 25.46L2710.5 9.982V25.512M2729.68 25.46L2747.69 8.782V24.307M2729.68 25.46L2728.87 2.78V24.433M2729.68 25.46L2756.14 24.49V48.236L2749.71 48.449M2729.68 25.46L2703.29 25.782V49.597L2711.26 49.45",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2730.41 49.695L2748.94 64.53V40.59L2729.68 25.46L2711.6 41.705V65.493L2729.68 49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2729.68 49.029L2730.61 71.638V47.606L2729.68 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2789.68 25.46L2770.67 9.72201V25.286M2789.68 25.46L2807.94 9.00001V24.505M2789.68 25.46L2789.16 2.76601V24.416M2789.68 25.46L2816.14 24.763V48.673L2809.16 48.789M2789.68 25.46H2763.29V49.337L2771.24 49.269",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2790.41 49.7L2808.83 64.72V40.727L2789.68 25.46L2771.41 41.493V65.383L2789.68 49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M2789.68 49.029L2790.25 71.611V47.742L2789.68 25.46V49.111",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M89.6848 25.4603L108.309 41.4828V65.1065L89.6848 49.0293M89.6848 25.4603L70.5359 40.7925L70.5892 64.669L89.6316 49.0293M89.6848 25.4603L89.0273 47.9151V71.6481L89.6848 49.0839M89.6848 25.4603L63.4071 24.7588V48.5542L70.0911 48.6959M89.6848 25.4603L115.988 25.7611V49.5761L108.665 49.4467M89.6848 25.4603L71.3722 9.03792L71.2884 24.5988M89.6848 25.4603L108.796 9.74877V25.4474M89.6848 25.4603L90.293 2.75943V24.3785M89.6848 25.4603V49.1113",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"}),o.jsx("path",{d:"M149.676 25.4488L167.472 41.872L167.285 65.449L149.676 49.0179M149.676 25.4488L130.087 40.3914V64.2269L148.148 50.1661M149.676 25.4488L148.969 47.3567V71.6093L149.676 49.0725M149.676 25.4488L123.453 24.2184V47.9959L129.828 48.2643M149.676 25.4488L175.913 26.3511V50.1388L167.428 49.8028M149.676 25.4488L131.911 8.67098V24.5132M149.676 25.4488L169.243 10.0381V26.0706M149.676 25.4488L150.984 2.73438V24.3846M149.676 25.4488V49.0999",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"})]})),a$t=f.memo(({lineThickness:e,...t})=>o.jsx("svg",{width:"60",height:"74",viewBox:"0 0 60 74",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:o.jsx("path",{d:"M29.6848 25.4603L48.3092 41.4828V65.1065L29.6848 49.0293M29.6848 25.4603L10.5359 40.7925L10.5892 64.669L29.6316 49.0293M29.6848 25.4603L3.4071 24.8588V48.5542L10.0911 48.6959M29.6848 25.4603L55.9884 25.7611V49.5761L48.6649 49.4467M29.6848 25.4603L11.3722 9.03792L11.2884 24.5988M29.6848 25.4603L48.7956 9.74877V25.4474M29.6848 25.4603L29.63 2.75943M29.6848 25.4603V49.1113M29.63 71.6481L29.6848 49.0839",stroke:"currentColor",strokeWidth:e,strokeLinecap:"round",strokeLinejoin:"round"})})),m_=f.memo(({size:e=32,shouldAnimate:t=!0,lineThickness:n="asIcon",className:r,...s})=>{const a=f.useRef(0),[i,l]=f.useState(!1),c=u=>{switch(u){case"asIcon":return 4.7;case"normal":return 3.3}};return f.useEffect(()=>{if(a.current>0){const d=(performance.now()-a.current)/1e3%1;setTimeout(()=>{l(!1),a.current=0},(1-d)*1e3)}else t?(l(!0),a.current=performance.now()):(l(!1),a.current=0)},[t]),o.jsx("div",{className:W("text-textMain flex aspect-[60/74] items-center justify-start overflow-hidden",r),style:{height:e},...s,children:i?o.jsx(s$t,{lineThickness:c(n),className:"animate-pplxIndicator fill-mode-both h-full w-auto shrink-0 will-change-transform"}):o.jsx(a$t,{className:"h-full w-auto shrink-0 transform-gpu",lineThickness:c(n)})})}),TRe=Object.freeze(Object.defineProperty({__proto__:null,MarkSpinner:m_},Symbol.toStringTag,{value:"Module"})),NRe=f.memo(({count:e,className:t})=>o.jsx(Q,{className:W("flex select-none items-center pt-px text-center font-mono text-xs tabular-nums leading-none",t),as:"span",children:o.jsx(c1,{value:e})}));NRe.displayName="AnimatedCounter";const jRe=40,ARe=f.memo(({modeList:e,isSticky:t,inFlight:n,accessoryProps:r,accessory:s,defaultModeOverride:a,tabsPlaceholder:i})=>{const{result:{query_str:l,uuid:c,collection_info:{uuid:u}={}},researchPlan:{goals:d}={goals:Fe},searchMode:h,isCopilot:m,hasAnswer:g,userClarifications:v}=Un(),x=d?.length??0,b=f.useMemo(()=>l?Wd(l,v).actualQuery:"",[l,v]),{updateCurrentMode:w}=qAe(),{currentModeData:{mode:C}}=Ab(),[S,k]=f.useState(!1),j=h===_e.RESEARCH?n:m?n&&x>0:n&&g,N=f.useCallback(D=>{w(D.mode),D.mode!=="default"&&r?.isOpen&&r.onClick()},[w,r]),R=f.useMemo(()=>e.find(z=>z.mode==="default"),[e]),O=f.useMemo(()=>e.filter(D=>D.mode!=="default"&&D.mode!==a),[e,a]),I=f.useCallback(()=>{R&&N(R)},[N,R]),B=f.useCallback(D=>{C!==D.mode&&N(D)},[N,C]);return f.useEffect(()=>{let D=null;const z=U=>{U.metaKey&&U.shiftKey&&!D&&(D=setTimeout(()=>{k(!0)},500))},V=U=>{(!U.metaKey||!U.shiftKey)&&(D&&(clearTimeout(D),D=null),k(!1))};return document.addEventListener("keydown",z),document.addEventListener("keyup",V),()=>{D&&clearTimeout(D),document.removeEventListener("keydown",z),document.removeEventListener("keyup",V)}},[]),o.jsxs(je.div,{layout:!0,layoutRoot:!0,"data-testid":Ga.ANSWER_MODE_TABS_ROOT,children:[o.jsx("div",{className:W("max-w-threadContentWidth mx-auto flex w-full items-end ease-out will-change-auto",{"opacity-100":t,"pointer-events-none opacity-0":!t}),style:{height:jRe},children:o.jsx(F,{variant:"section-title",className:W("erp-sidecar:line-clamp-1 hidden translate-y-px",{"@[1056px]/main:md:!line-clamp-1":!!u,"@[900px]/main:md:!line-clamp-1":!u}),children:b})}),o.jsx(Q,{className:"relative border-b",children:o.jsx("div",{className:"-mx-md px-md scrollbar-none -mb-px -mt-px overflow-x-auto overflow-y-hidden pb-px pt-px",children:o.jsxs("div",{className:"table w-full",children:[o.jsx("div",{className:W("inset-x-sm top-md will-change-opacity absolute bottom-0 shadow-md",{"opacity-0":!t,"opacity-30":t})}),o.jsx(Q,{variant:"background",className:"gap-xs relative",children:o.jsxs("div",{className:"relative flex gap-1.5",children:[o.jsx("div",{className:"md:max-w-threadContentWidth md:mx-auto md:w-full",children:o.jsxs("div",{className:"-mx-sm grid grid-cols-1 grid-rows-1",children:[!R&&o.jsx(o$t,{}),o.jsxs("div",{className:"gap-xs relative col-start-1 row-start-1 flex",children:[R&&o.jsx(i$t,{tab:R,active:C===R.mode||!!a&&C==a,onClick:I,id:c??"",inFlight:n,testId:R.testId,isContentStreaming:j??!1,isScreenshotting:S}),o.jsx(kt,{initial:!1,children:O.map(D=>o.jsx(Dz,{text:D.text,active:C===D.mode,onClick:B,mode:D,icon:D.icon,id:c??"",count:D.count,inFlight:n,disabled:D.disabled,testId:D.testId,isContentStreaming:j??!1,loading:D.loading},D.text))}),O.length===0&&i]})]})}),o.jsx("div",{className:"right-0 flex items-center md:absolute md:top-1/2 md:-translate-y-1/2",children:s})]})})]})})})]})});ARe.displayName="AnswerModeTabs";const i$t=f.memo(({tab:e,active:t,onClick:n,id:r,inFlight:s,testId:a,isContentStreaming:i,isScreenshotting:l})=>{const{hasAnswer:c}=Un();return o.jsxs(je.button,{className:"py-md pl-sm user-select-none focus-visible:ring-offset-background focus-visible:ring-super group pointer-events-auto relative select-none rounded-md pr-2.5 focus-visible:outline-none focus-visible:ring-1",onClick:n,type:"button","aria-label":e.text,"data-testid":a,children:[o.jsx(Q,{variant:"offset",className:W("absolute inset-x-0 inset-y-2.5 rounded-md opacity-0 transition-opacity duration-150",{"group-hover:opacity-100":!t})}),o.jsxs("div",{className:"relative flex items-center gap-1.5",children:[o.jsx("div",{className:"relative flex size-[18px] items-center justify-center",children:o.jsx(kt,{mode:"wait",initial:!1,children:s?o.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},exit:e.icon?{opacity:0}:void 0,transition:{duration:.15},children:o.jsx(m_,{size:18,shouldAnimate:i,className:W("text-text-100 duration-100 group-hover:opacity-100",{"opacity-80":!t})})},"spinner"):e.icon?o.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},children:o.jsx(Ne,{icon:e.icon,size:"sm",className:W("text-text-100 duration-100 group-hover:opacity-100",{"opacity-80":!t})})},`icon-${e.text}`):o.jsx(je.div,{children:o.jsx(m_,{size:18,shouldAnimate:!1,className:W("text-text-100 duration-100 group-hover:opacity-100",{"opacity-80":!t})})},"empty-spinner")})}),o.jsxs("div",{className:"relative",children:[o.jsx(kt,{initial:!1,mode:"wait",children:o.jsx(je.div,{className:"absolute whitespace-nowrap",initial:c?{opacity:1,y:0}:{opacity:0,y:20},animate:{opacity:1,y:0},exit:c?{opacity:0}:{opacity:0,y:-20},transition:{duration:l?0:c?.15:.3},children:o.jsx(F,{className:W("text-text-100 whitespace-nowrap text-sm font-[475] duration-150 group-hover:opacity-100",{"opacity-80":!t}),children:l?"Perplexity":e.text})},`text-${e.text}`)}),o.jsx("div",{className:"invisible",children:o.jsx(F,{className:"text-text-100 whitespace-nowrap text-sm font-[475]",children:l?"Perplexity":e.text})})]})]}),t&&o.jsx(Fz,{id:r,inFlight:s,isScreenshotting:l})]})}),o$t=f.memo(()=>{const e=f.useMemo(()=>({mode:"default",text:"placeholder",count:0,disabled:!1,icon:void 0,loading:!1,testId:"placeholder",id:"d"}),[]);return o.jsx("div",{className:"pointer-events-none invisible col-start-1 row-start-1 opacity-0",role:"none",children:o.jsx(Dz,{text:"placeholder",active:!1,onClick:Yn,mode:e,icon:void 0,id:"placeholder",count:0,inFlight:!1,disabled:!1,testId:"placeholder",isContentStreaming:!1,loading:!1},"placeholder")})}),Dz=f.memo(({text:e,active:t,mode:n,onClick:r,icon:s,id:a,count:i,inFlight:l,disabled:c,testId:u,isContentStreaming:d,loading:h})=>{const m=f.useCallback(()=>{r(n)},[r,n]);return o.jsxs("button",{className:"py-md pl-sm user-select-none focus-visible:ring-offset-background focus-visible:ring-super group pointer-events-auto relative select-none rounded-md pr-2.5 focus-visible:outline-none focus-visible:ring-1",onClick:m,type:"button","aria-label":e,disabled:c,"data-testid":u,children:[o.jsx(Q,{variant:"offset",className:W("absolute inset-x-0 inset-y-2.5 rounded-md opacity-0 transition-opacity duration-150",{"group-hover:opacity-100":!t&&!c})}),o.jsxs("div",{className:"relative flex items-center gap-1.5",children:[s?h?o.jsx(Cu,{size:14}):o.jsx(Ne,{icon:s,size:"xs",className:W("text-text-100 hidden duration-100 sm:block",{"group-hover:opacity-100":!c},c?"opacity-50":!t&&"opacity-80")}):o.jsx(m_,{size:16,shouldAnimate:d,className:W("text-text-100 duration-100",{"group-hover:opacity-100":!c,"opacity-80":!t})}),o.jsxs("div",{className:"flex items-baseline",children:[o.jsx(F,{className:W("text-text-100 whitespace-nowrap text-sm font-[475] duration-150",!c&&"group-hover:opacity-100",c?"opacity-50":!t&&"opacity-80"),children:e}),i!==void 0&&i>0&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"px-xs ml-px leading-none opacity-35",children:"·"}),o.jsx(NRe,{count:i,className:W(c?"opacity-40":"opacity-65")})]})]})]}),t&&o.jsx(Fz,{id:a,inFlight:l})]})});Dz.displayName="AnswerModeTab";const Fz=f.memo(({id:e,inFlight:t,isScreenshotting:n})=>o.jsx(je.div,{className:"bg-text-100 inset-x-sm absolute -bottom-px h-[2.5px]",transition:{duration:n?0:.1,ease:"easeOut"},layoutId:t?void 0:`answer-mode-tab-underline-${e}`}));Fz.displayName="Underline";const p1=L.memo(({...e})=>o.jsx(je.div,{className:"ml-auto flex items-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:o.jsx(it,{...e,extraCSS:"!py-md [&_*]:!font-regular hover:!bg-offset shrink-0 whitespace-nowrap rounded-md",size:"tiny"})}));p1.displayName="AnswerModeTabsAccessory";const RRe=f.createContext(void 0),l$t=De(async()=>({default:(await Me(()=>import("./DebugModeActivator-BwZ6bXfq.js"),__vite__mapDeps([99,1,3]))).DebugModeActivator})),LRe=L.memo(({children:e})=>{const[t,n]=f.useState(!1),r=Ahe(),s=f.useMemo(()=>({debugEnabled:t}),[t]);return o.jsxs(RRe.Provider,{value:s,children:[e,r&&o.jsx(l$t,{setDebugEnabled:n,isDebugMode:t})]})});LRe.displayName="DebugModeProvider";const c$t=()=>{const e=f.useContext(RRe);return!!e&&e.debugEnabled},u$t=({target:e,entryUUID:t,frontendContextUUID:n,targetVisibilityPortionThreshold:r=.5,hasLLMToken:s})=>{const a=f.useRef(null),i=f.useRef(null),l=f.useRef(!1),{trackEvent:c}=Ye(),{result:u}=Un(),d=f.useRef(u);f.useEffect(()=>{d.current=u},[u]);const h=f.useCallback(()=>{if(a.current){const g=Math.round(performance.now()-a.current);c("thread entry exited",{entryUUID:t,frontendContextUUID:n,timeOnEntryMs:g}),a.current=null}if(i.current){const g=d.current;g&&Us(g.display_model)==_e.STUDIO&&An.isStatusPending(g)&&c("answer processing exited",{entryUUID:t,frontendContextUUID:n,timeOnEntryMs:Math.round(performance.now()-i.current)}),i.current=null}},[c,t,n]),m=f.useCallback(()=>{s&&(a.current=performance.now()),i.current||(i.current=performance.now())},[s]);return f.useEffect(()=>{const g=new IntersectionObserver(x=>{x.forEach(b=>{l.current=b.isIntersecting,b.isIntersecting&&document.visibilityState==="visible"?m():h()})},{threshold:r}),v=e.current;return v&&g.observe(v),()=>{v&&g.unobserve(v),h()}},[e,r,m,h]),f.useEffect(()=>{const g=()=>{document.visibilityState==="hidden"?h():document.visibilityState==="visible"&&l.current&&m()};return document.addEventListener("visibilitychange",g),()=>{document.removeEventListener("visibilitychange",g)}},[m,h]),f.useEffect(()=>{const g=()=>{l.current&&a.current&&h()};return window.addEventListener("beforeunload",g),()=>{window.removeEventListener("beforeunload",g)}},[h]),null},d$t=({items:e})=>{const[t,n]=f.useState(!1),r=e.filter(i=>i.isStatic),s=e.filter(i=>!i.isStatic),a=i=>o.jsx(Q,{className:"px-md py-sm gap-sm grid grid-cols-3 align-top",children:i.map((l,c)=>o.jsx("div",{className:"",children:l.href?o.jsx(it,{variant:"negative",href:l.href,text:l.label,target:"_blank",size:"tiny",icon:yw}):o.jsxs("div",{className:"py-xs",children:[o.jsx(F,{variant:"tiny",color:"light",children:l.label}),o.jsx(F,{variant:"tiny",children:l.value})]})},c))});return o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"bg-caution/10 border-caution/20 rounded-lg border shadow-md 2xl:absolute 2xl:-right-[450px] 2xl:w-[400px]",children:[o.jsxs("div",{className:"py-sm pl-md pr-sm gap-sm border-caution/20 flex items-center justify-between border-b",children:[o.jsxs(F,{variant:"smallBold",color:"red",className:"gap-sm flex items-center",children:[o.jsx(fI,{size:16}),o.jsx("span",{className:"",children:"Internal Debug Mode"})]}),o.jsx(Le,{size:"small",text:"Report a Bug",variant:"rejecter",onClick:()=>n(!0)})]}),r.length>0&&a(r),r.length>0&&s.length>0&&o.jsx("div",{className:"border-caution/20 border-t"}),s.length>0&&a(s)]}),o.jsx(wme,{isOpen:t,onClose:()=>n(!1)})]})},oie=1e3*60*20,lie=e=>new Date(e).getTime(),f$t=["llm","mhe"],h$t=["ms"],m$t=e=>(e.split(".").at(-1)??"").split("_").map(t=>f$t.includes(t)?t.toUpperCase():h$t.includes(t)?t.toLowerCase():`${t.charAt(0).toUpperCase()}${t.slice(1)}`).join(" "),p$t=()=>{const{result:{backend_uuid:e,frontend_uuid:t,frontend_context_uuid:n}={}}=Un(),{formatNumber:r}=ae(),a=n8e()(),i=uF(),l=t??"",c=i(t??"")??i(n??""),{envHasDevLogins:u,isLocalhost:d}=af(),{result:{debug_data:h}}=Un(),{navigationMeta:m}=sc(),g=m[l]??{},v=d?"http://localhost:3009":"https://admin.i.perplexity.ai",x=`${v}/debugger/`,b=`${v}/replayer/`,w=d||!u?"production":"testing",C=c!==a?c?.getEvents()??[]:a?.getEvents()??[],S=[{label:"Nav Search Type",value:g.type??"unknown"},{label:"Nav Search Time",value:g.searchTime},{label:"Nav Classify Time",value:g.classifyTime},...C.map(k=>({label:m$t(k.metricName),value:k.duration})),{label:"Debugger",href:`${x}${e}?env=${w}`,isStatic:!0},{label:"Chat Replayer",href:`${b}${e}?env=${w}`,isStatic:!0}];return h?.dd_trace_id&&S.push({label:"Datadog Trace",href:`https://app.datadoghq.com/apm/trace/${h.dd_trace_id}`,isStatic:!0}),h?.dd_request_id&&S.push({label:"Datadog Logs",href:`https://app.datadoghq.com/logs?query=%40request_id%3A"${h.dd_request_id.request_id}"&from_ts=${lie(h.dd_request_id.datetime)-oie}&to_ts=${lie(h.dd_request_id.datetime)+oie}&live=false`,isStatic:!0}),o.jsx("div",{className:"",children:o.jsx(d$t,{items:S.filter(k=>k.href||k.value).map(k=>({label:k.label,value:k.value?typeof k.value=="number"?r(k.value,{style:"unit",unit:"millisecond",unitDisplay:"narrow"}):k.value:"",href:k.href,isStatic:k.isStatic}))})})},g$t=e=>{const{result:{classifier_results:t,query_source:n}}=Un(),r=FSe(),{classifierResults:s}=sc(),a=t,i=typeof a<"u",l=s[e],c=typeof l<"u",u=n==="default_search";return f.useEffect(()=>{u&&(i&&r("web.frontend.browser.mhe_loaded_ms"),c&&r("web.frontend.browser.mhe_extension_loaded_ms"))},[i,c,u,r]),l??a},v$t=De(async()=>({default:(await Me(()=>import("./LowerPriorityThreadContent-GwoKQ7j2.js"),__vite__mapDeps([100,1,3,101]))).LowerPriorityThreadContent})),cie=3,ORe=L.memo(({sbsEntriesGroup:e,submitQuery:t,shouldShowProductFeedback:n,feedbackEntryUUID:r,shouldShowRecruitmentBanner:s,deleteLastResult:a,setQuote:i,answerModesTabsBottom:l})=>{const{isMobileStyle:c}=qe(),u=Vt(),d=FSe(),{result:h,response:m,hasLLMToken:g,searchMode:v,isFirstResult:x,webResults:b,steps:w,isPending:C,actions:{handleSourcesCuration:S}}=Un(),k=t8e(),E=f.useMemo(()=>{if(!h?.query_str)return"";const{actualQuery:J}=Wd(h.query_str);return J||""},[h?.query_str]),T=f.useMemo(()=>!c,[c]),j=f.useRef(null);u$t({entryUUID:h?.backend_uuid??"",target:j,targetVisibilityPortionThreshold:.3,frontendContextUUID:h?.frontend_context_uuid??"",hasLLMToken:g});const{trackCitationClickEvent:N,navigationResults:R}=qCe({allowedNavResultsCount:cie,entry:h,webResults:b,showSourcesSidebar:T,submit:S,searchMode:v,isFirstResult:x}),O=Ln(),I=Bs(),{navigationResults:B}=sc(),D=h?.frontend_uuid,z=B[D??""]??Fe,V=olt(D),U=g$t(D??""),H=f.useMemo(()=>z.length>0,[z]),q=f.useMemo(()=>O&&(z.length||V)?z:R||Fe,[O,z,R,V]),$=f.useMemo(()=>q?{serverRequestTimestamp:u.getQueryData(["serverRequestTimestamp",h?.query_str??void 0,h?.uuid??void 0])}:{serverRequestTimestamp:void 0},[u,h?.query_str,q,h?.uuid]),G=f.useMemo(()=>q?.slice(0,Math.max(cie,z?.length??0))?.map((J,de)=>({...J,position:de,source:$.serverRequestTimestamp?"default_search":"client_search",client_request_timestamp:k(),unstable_server_request_timestamp:$.serverRequestTimestamp||void 0,sitelinks:J.sitelinks?.map((ie,he)=>({url:ie.url,title:ie.title,position:he})),is_comet_navigation:H})),[k,q,z?.length,$.serverRequestTimestamp,H]),K=f.useMemo(()=>!!b&&b.length>0,[b]),ee=f.useMemo(()=>h?.search_focus==="writing",[h?.search_focus]),oe=Ln(),ne=typeof U<"u",te=pr(),re=f.useMemo(()=>{if(!oe)return!1;const J=h.status==="COMPLETED";return!(ne||J)||!!U?.personal_search||!!U?.skip_search||!!U?.hide_nav||!!U?.image_generation},[oe,ne,U,h.status]),X=f.useMemo(()=>!te&&!re&&G&&G.length>0&&!ee&&v===_e.SEARCH,[re,te,G,ee,v]);f.useEffect(()=>{I.maybeSendSearchResult(m,w,C)},[C,K,m,I,w]);const ce=f.useCallback(()=>{H&&(h?.query_source==="default_search"?d("web.frontend.omnisearch_nav_results_shown",{omnisearch:k()!==0}):d("web.frontend.nav_results_shown"))},[H,h?.query_source,d,k]),se=c$t();return o.jsxs("div",{className:"gap-y-sm flex flex-col",ref:j,children:[se&&o.jsx(p$t,{}),X&&o.jsx(PRe,{navResults:G,queryStr:E,result:h,trackCitationClickEvent:N,onMount:ce}),o.jsx(v$t,{submitQuery:t,shouldShowProductFeedback:n,feedbackEntryUUID:r,shouldShowRecruitmentBanner:s,deleteLastResult:a,setQuote:i,answerModesTabsBottom:l,shouldShowNavResults:X,sbsEntriesGroup:e})]})});ORe.displayName="ThreadContent";const PRe=f.memo(({navResults:e,queryStr:t,result:n,trackCitationClickEvent:r,onMount:s})=>{const a=Bs();f.useEffect(()=>{s?.()},[s]);const i=f.useCallback((c,u)=>{r(c,u);const d=n.query_source==="default_search",h=u.is_comet_navigation;!(c==="click citation")||!d||!h||Ld("web.frontend.omnisearch_nav_results_clicked")},[r,n.query_source]),l=f.useCallback((c,u)=>{nD(u)&&(u.preventDefault(),a.openTab({url:c.url}))},[a]);return o.jsx(Q,{className:"my-sm flex flex-col gap-3",children:e.map(c=>o.jsx("div",{className:"gap-sm flex",children:o.jsx("div",{className:"grow",children:o.jsx(N2t,{navigationResult:c,trackEvent:i,queryString:t,entryUUID:n.backend_uuid??"",onClick:l.bind(null,c)},c.url)})},c.url))})});PRe.displayName="NavigationResultList";const IRe=L.memo(({submitQuery:e})=>{const t="trigger-entry-rewrite",n=wn(),{result:{backend_uuid:r,frontend_context_uuid:s,attachments:a,display_model:i},idx:l,editQueryValue:c}=Un(),u=fm(),d=window.location.hash.slice(1),h=parseInt(d,10),m=n?.get("rw")==="true";return f.useEffect(()=>{if(!(isNaN(h)||l!==h)&&m){gy({rw:void 0});const g=()=>e({rawQuery:c,existingEntryUUID:r,redoSearch:!0,collection:null,newFrontendContextUUID:null,existingFrontendContextUUID:u?void 0:s,promptSource:"user",querySource:"rewrite-url-param",attachments:a,modelPreferenceOverride:i});r?Pw({entryUUID:r,reason:t}).catch(v=>{le.error("Error terminating entry",v)}).finally(g):g()}},[m,u,e,h,l,r,c,s,a,i]),null});IRe.displayName="TriggerEntryRewrite";const y$t=De(async()=>({default:(await Me(()=>import("./ShoppingMode-CiyjfuGF.js"),__vite__mapDeps([102,1,3,103,83,104,105]))).ShoppingMode}),{loading:()=>o.jsx(fRe,{})}),x$t=De(async()=>({default:(await Me(()=>import("./HotelsMode-Bi0QE-JB.js"),__vite__mapDeps([106,1,44,107,31,3,32,18,108,109,60,110,105]))).HotelsMode}),{loading:()=>o.jsx(Oz,{})}),b$t=De(async()=>({default:(await Me(()=>import("./JobsMode-AiIYWuwz.js"),__vite__mapDeps([111,1,112,3]))).JobsMode}),{loading:()=>o.jsx(lRe,{})}),w$t=De(async()=>({default:(await Me(()=>import("./VideosMode-B_TSvFrc.js"),__vite__mapDeps([113,1,114,105,3]))).VideosMode}),{loading:()=>o.jsx(vRe,{})}),_$t=De(async()=>({default:(await Me(()=>import("./ImagesMode-CS80mtuS.js"),__vite__mapDeps([115,1,116,114,117,105,3]))).ImagesMode}),{loading:()=>o.jsx(iRe,{})}),C$t=De(async()=>({default:(await Me(()=>import("./MapsMode-CCZ2CguT.js"),__vite__mapDeps([118,1,31,3,32,18,110,108,44,109,60,105]))).MapsMode}),{loading:()=>o.jsx(Oz,{})}),S$t=De(async()=>({default:(await Me(()=>import("./AssetsMode-T--ZHTDa.js"),__vite__mapDeps([119,1,3,13,98,56,55]))).AssetsMode}),{loading:()=>o.jsx(ERe,{})}),M$t=De(async()=>({default:(await Me(()=>import("./AppsMode-zY8uvQxC.js"),__vite__mapDeps([97,1,3,98]))).AppsMode}),{loading:()=>o.jsx(ERe,{})}),k$t=De(async()=>({default:(await Me(()=>import("./TasksMode-Ce9cbcQc.js"),__vite__mapDeps([120,1,121,122,13,14,3,123,72,56,124,63,125,126,97,98,127]))).TasksMode}),{loading:()=>o.jsx(r$t,{})}),DRe=L.memo(({isLastResult:e,isFirstResult:t,sbsEntriesGroup:n,submitQuery:r,shouldShowProductFeedback:s,feedbackEntryUUID:a,shouldShowRecruitmentBanner:i,deleteLastResult:l,setQuote:c,scrollToListItem:u,idx:d})=>{const{answerModeActionList:h,currentModeData:m,defaultModeOverride:g}=Ab(),{isMobileStyle:v}=qe(),{result:{backend_uuid:x,context_uuid:b,attachments:w,status:C,frontend_context_uuid:S,query_str:k,upsell_information:E,parent_info:{mode:T,url_slug:j}={}},isEntryInFlight:N,webResults:R}=Un(),O=fm(),I=T&&j,[B,D]=f.useState(!1),{scrollContainerRef:z}=Mu(),V=f.useRef(new Set),{trackEvent:U}=Ye();f.useEffect(()=>{if(!(x?.length===0||x===sF||b?.length===0))for(const X of h)V.current.has(X.mode)||(V.current.add(X.mode),U("answer mode tab viewed",{answerMode:X.mode,entryUUID:x,contextUUID:b}))},[h,U,x,b]);const{ref:H,isSticky:q}=SWt({root:z.current??void 0}),$=pr(),G=f.useMemo(()=>v&&!$?!1:q,[v,q,$]),K=f.useCallback(()=>{u(d,{smooth:!0})},[u,d]);f.useEffect(()=>{typeof window>"u"||C!=="PENDING"||K()},[N,C,K]);const ee=f.useMemo(()=>({backend_uuid:x,frontend_context_uuid:S,query_str:k}),[x,S,k]),oe=f.useMemo(()=>{if(m.mode!=="default")return m.mode==="images"?O?void 0:o.jsx(BRe,{result:ee,setIsGeneratingImage:D,isGeneratingImage:B}):m.mode==="assets"?o.jsx(URe,{}):m.mode==="apps"?o.jsx(FRe,{}):null},[m.mode,O,ee,B]),ne=w&&w.length>0,[te,re]=f.useState(null);return f.useEffect(()=>{const X=()=>{const J=document.querySelector(".sticky-tabs-ref");J&&re(J.clientHeight)};X(),window.addEventListener("scroll",X,{passive:!0});const ce=new ResizeObserver(X),se=document.querySelector(".sticky-tabs-ref");return se&&ce.observe(se),()=>{window.removeEventListener("scroll",X);const J=document.querySelector(".sticky-tabs-ref");J&&ce.unobserve(J)}},[]),o.jsxs(Q,{className:W({"pt-headerHeight md:pt-sm erp-sidecar:pt-0":t&&!I,"erp-sidecar:min-h-[var(--sidecar-content-height)] erp-tab:min-h-screen min-h-[var(--page-content-height-without-header)]":e,"pb-threadInputHeightWithPadding":e&&!ne,"pb-threadAttachmentsHeightWithPadding":e&&ne}),children:[o.jsx(IRe,{submitQuery:r}),o.jsx(HCe,{webResults:R,children:o.jsxs("div",{className:W("isolate mx-auto md:pt-6",{"px-md max-w-none":m.width==="full","max-w-threadWidth px-md md:px-lg":m.width==="wide","px-md":m.width==="default"}),children:[o.jsx("div",{className:"max-w-threadContentWidth relative isolate z-20 mx-auto",children:o.jsx("div",{className:G?"pointer-events-none opacity-0":void 0,children:o.jsx(yWt,{isFirstResult:t,submitQuery:r})})}),o.jsx(Ud,{isSamsungBrowser:!0,children:o.jsx("div",{className:"max-w-threadContentWidth mt-md relative z-20 mx-auto",children:o.jsx(jz,{position:"top",idx:d,upsellInformation:E,backendUuid:x,isLastResult:e,inFlight:N})})}),o.jsx("div",{ref:H,className:W("bg-background-100 -mx-md px-md sticky-tabs-ref erp-sidecar:sticky top-0 z-10 md:sticky"),style:{marginTop:`-${jRe}px`},children:o.jsx("div",{className:W("mx-auto",{"max-w-threadContentWidth":m.width==="default","max-w-none":m.width==="full","max-w-threadWidth":m.width==="wide"}),children:o.jsx(ARe,{modeList:h,defaultModeOverride:g,isSticky:G,inFlight:N,accessory:oe})})}),o.jsx("div",{className:W("pb-md mx-auto pt-5 md:pb-12",{"max-w-threadWidth":m.width==="wide","max-w-none":m.width==="full","max-w-threadContentWidth":m.width==="default","border-borderMain/50 border-b":!e}),children:o.jsxs(kt,{initial:!1,children:[m.mode==="default"&&o.jsx(qi,{id:`default-mode-${S}`,children:o.jsx(ORe,{sbsEntriesGroup:n,submitQuery:r,shouldShowProductFeedback:s,feedbackEntryUUID:a,shouldShowRecruitmentBanner:i,deleteLastResult:l,setQuote:c,answerModesTabsBottom:te})}),m.mode==="shopping"&&o.jsx(qi,{id:`shopping-mode-${S}`,children:o.jsx(y$t,{})}),m.mode==="hotels"&&o.jsx(qi,{id:`hotels-mode-${S}`,children:o.jsx(x$t,{})}),m.mode==="places"&&o.jsx(qi,{id:`maps-mode-${S}`,children:o.jsx(C$t,{})}),m.mode==="jobs"&&o.jsx(qi,{id:`jobs-mode-${S}`,children:o.jsx(b$t,{})}),m.mode==="videos"&&o.jsx(qi,{id:`videos-mode-${S}`,children:o.jsx(w$t,{})}),m.mode==="images"&&o.jsx(qi,{id:`images-mode-${S}`,children:o.jsx(_$t,{isGeneratingImage:B})}),m.mode==="sources"&&o.jsx(qi,{id:`sources-mode-${S}`,children:o.jsx(gRe,{})}),m.mode==="assets"&&o.jsx(qi,{id:`assets-mode-${S}`,children:o.jsx(S$t,{})}),m.mode==="apps"&&o.jsx(qi,{id:`apps-mode-${S}`,children:o.jsx(M$t,{})}),m.mode==="tasks"&&o.jsx(qi,{id:`tasks-mode-${S}`,children:o.jsx(k$t,{})})]})})]})})]})});DRe.displayName="ThreadEntryInner";const FRe=L.memo(()=>{const e="apps-accessory",{$t:t}=ae(),{openModal:n}=Gt(),{assets:r}=Ab(),{result:{backend_uuid:s}}=Un(),a=f.useMemo(()=>{for(let g=r.length-1;g>=0;g--){const v=r[g];if(v.asset_type===Cl.APP)return v}},[r]),{downloadAsset:i}=HWt({asset:a,reason:e}),l=f.useCallback(()=>{let g;for(let v=r.length-1;v>=0;v--){if(r[v].asset_type!==Cl.CODE_FILE)continue;const x=r[v];if(x.code_file?.name==="index.html"){g=x.uuid;break}}n("searchStepsAssetsModal",{backendUUID:s,assetUUID:g})},[r,s,n]),c=f.useCallback(()=>{i()},[i]),u=f.useCallback(()=>{const g=new URL(window.location.href);g.pathname=`/apps/${s}`,window.open(g.toString(),"_blank","noopener,noreferrer")},[s]),d=f.useMemo(()=>o.jsx(Ne,{icon:dHe,size:"xs",className:"duration-150"}),[]),h=f.useMemo(()=>o.jsx(Ne,{icon:vw,size:"xs",className:"duration-150"}),[]),m=f.useMemo(()=>o.jsx(Ne,{icon:R_,size:"xs",className:"duration-150"}),[]);return o.jsxs("div",{className:"ml-auto flex items-center gap-1.5",children:[o.jsx(p1,{size:"tiny",pill:!0,leadingComponent:d,onClick:u,toolTip:t({defaultMessage:"View full screen",id:"nnujdEvOPI"})}),o.jsx(p1,{size:"tiny",pill:!0,leadingComponent:h,onClick:l,toolTip:t({defaultMessage:"View source",id:"khjKGjoVqR"})}),o.jsx(p1,{size:"tiny",pill:!0,leadingComponent:m,onClick:c,toolTip:t({defaultMessage:"Download",id:"5q3qC0sC3r"})})]})});FRe.displayName="AppsAccessory";const URe=L.memo(()=>{const e="assets-accessory",{$t:t}=ae(),{inFlight:n}=Un(),{exportAllAssets:r,isExporting:s}=zWt({reason:e}),a=f.useMemo(()=>o.jsx(Ne,{icon:nWe,size:"xs",className:"duration-150"}),[]),i=f.useCallback(()=>r(),[r]);return n?null:o.jsx(p1,{text:t({defaultMessage:"Download all",id:"V1UrPNM96z"}),size:"tiny",leadingComponent:a,onClick:i,isLoading:s,disabled:s})});URe.displayName="AssetsAccessory";const BRe=L.memo(({result:e,setIsGeneratingImage:t,isGeneratingImage:n})=>{const r="generate-image-accessory",{createLimit:s}=Ua({reason:r}),{onGenerateImageClick:a}=QAe({reason:r}),{$t:i}=ae(),l=f.useMemo(()=>({entryUUID:e.backend_uuid,entryTitle:e.query_str??"",frontendContextUUID:e.frontend_context_uuid??""}),[e.backend_uuid,e.frontend_context_uuid,e.query_str]),c=f.useCallback(({style:d,customInstructions:h,onFailure:m})=>a({entryUUID:e.backend_uuid,imageStyle:d,customInstructions:h,setIsLoadingGeneratedImage:t,onSuccessCallback:()=>t(!1),onFailureCallback:g=>m(g)}),[a,e.backend_uuid,t]),u=f.useCallback(({onClick:d,isRateLimitReached:h,isDisabled:m,buttonIcon:g,text:v})=>o.jsx(p1,{text:v,size:"tiny",icon:g,onClick:d,disabled:m||h||n,extraCSS:"!py-md"}),[n]);return o.jsx(je.div,{className:"py-sm pl-sm ml-auto",children:o.jsx(sRe,{entry:l,btnText:i(n?{defaultMessage:"Generating...",id:"A/lLjOnjl0"}:{defaultMessage:"Generate Image",id:"DjAvWI2RyU"}),userCreateLimit:s,isDisabled:!1,onGenerateClick:c,buttonComponent:u})})});BRe.displayName="GenerateImageAccessory";const VRe=f.memo(({idx:e,result:t,sbsEntriesGroup:n,isLastResult:r,isFirstResult:s})=>{const{inFlight:a}=un(),{scrollToListItem:i,refs:l}=k8(),{submitQuery:c,shouldShowProductFeedback:u,feedbackEntryUUID:d,shouldShowRecruitmentBanner:h,deleteLastResult:m,setQuote:g}=go(),v=f.useCallback(async x=>{a||c(x)},[c,a]);return o.jsx(o.Fragment,{children:o.jsx("div",{ref:x=>{x&&(l[e]={current:x})},children:o.jsx(DSe,{idx:e,result:t,inFlight:a,isLastResult:r,isFirstResult:s,scrollToListItem:i,submitQuery:v,children:o.jsx($Ae,{scrollToListItem:i,children:o.jsx(mSe,{children:o.jsx(DRe,{isLastResult:r,isFirstResult:s,sbsEntriesGroup:n,shouldShowProductFeedback:u,feedbackEntryUUID:d??"",shouldShowRecruitmentBanner:h,deleteLastResult:m,setQuote:g,submitQuery:v,scrollToListItem:i,idx:e})})})})})})});VRe.displayName="ThreadEntry";var ij={},uie;function E$t(){return uie||(uie=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="circle-exclamation",r=512,s=512,a=["exclamation-circle"],i="f06a",l="M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faCircleExclamation=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(ij)),ij}var T$t=E$t();const N$t=e=>{try{return JSON.parse(e)}catch{return null}},j$t=L.memo(({title:e,description:t,className:n="",role:r,retryFn:s,...a})=>{const{$t:i}=ae(),l=i({defaultMessage:"Please try again later.",id:"EjH+J3uOTD"}),c=f.useMemo(()=>N$t(t??""),[t]);return c&&(console.warn("Tried to pass a JSON error description"),console.warn(c)),o.jsxs("div",{className:`gap-md bg-caution py-xs px-md mt-4 flex items-center rounded-lg text-left font-sans text-white ${n}`,role:"alert",...a,children:[o.jsx(jt,{className:"text-xl",icon:T$t.faCircleExclamation}),o.jsxs("div",{className:"flex grow flex-col",children:[o.jsx("p",{className:"font-semibold",children:e||i({defaultMessage:"Sorry, something went wrong",id:"E2YPKR25ob"})}),o.jsx("p",{children:c?l:t})]}),s&&o.jsx(it,{noXPadding:!0,text:i({defaultMessage:"Try again",id:"FazwRldA7z"}),onClick:s,textClassName:"text-white"})]})}),Uz=L.memo(({fullWidth:e,retryFn:t,className:n,errorCode:r})=>{const{$t:s}=ae(),a=f.useCallback(()=>{QD("error retry")},[]),i=(()=>{switch(r){case"FETCHER_SSE_OFFLINE_ERROR":return s({defaultMessage:"Unstable internet, check your connection",id:"vbFcV2WAsH"});default:return s({defaultMessage:"Sorry, something went wrong",id:"E2YPKR25ob"})}})();return o.jsx("div",{className:W("max-w-threadContentWidth mx-auto",{"w-full":e},n),children:o.jsx(j$t,{className:W("mx-md md:mx-0",{"bg-super":r==="FETCHER_SSE_OFFLINE_ERROR"}),title:i,retryFn:t??a})})});Uz.displayName="QueryErrorFallback";const die=1e3,A$t=Iw*.5,zRe=L.memo(e=>{const t="thread",{openToast:n}=Sr(),{results:r}=un(),{setQuote:s}=go(),{isMobileStyle:a}=qe(),{scrollContainerRef:i}=Mu(),{refs:l}=k8(),c=ln(),[u,d]=f.useState(!1),h=ae();iWt({reason:t});const m=f.useMemo(()=>eje(r?.length?r:e.placeholderResults||[]),[r,e.placeholderResults]);f.useEffect(()=>{m.length===0&&le.error("No thread results found")},[m.length]),f.useEffect(()=>{m.some(S=>S[0]?.has_expired_attachments)&&n(h.formatMessage({id:"zR3dvwKUWo",defaultMessage:"Some files have expired. Please reupload files to continue."}),"error",3)},[m,n,h]);const g=f.useMemo(()=>{if(typeof window>"u")return-1;const C=window.location.hash.slice(1);return C?Number.isNaN(Number(C))?m?.findIndex(S=>S[0]?.backend_uuid===C):Number(C):-1},[m]),v=f.useCallback((C,S)=>{S&&(l[C]={current:S})},[l]),x=f.useCallback((C,S)=>C<Math.floor(Iw/2)||C>=S-Math.floor(Iw/2)||!u&&C<=g,[g,u]);f.useEffect(()=>{if(~g){const C=setTimeout(()=>{d(!0)},1e4);return()=>{clearTimeout(C)}}},[g]),f.useEffect(()=>{const C=i.current;return C&&(C.scrollTop=0),()=>{d(!1)}},[c,i]),f.useEffect(()=>()=>{s(null)},[]);const b=f.useMemo(()=>L.memo(({result:C,resultsGroup:S,isLastResult:k,isFirstResult:E,forceVisible:T,idx:j})=>{const N=C.attachments?.length>0,R=f.useMemo(()=>()=>o.jsx(Uz,{className:W({"pb-threadInputHeightWithPadding":k&&!N,"pb-threadAttachmentsHeightWithPadding":k&&N})}),[N,k]),O=f.useCallback(I=>v(j,I),[j]);return o.jsx(oi,{fallback:R,code:"SOMETHING_WENT_WRONG_ERROR",children:o.jsx(HAe,{forceVisible:T,unmeasuredHeight:die,rootMargin:`${die*A$t}px`,threshold:0,root:i.current,ref:O,children:o.jsx(VRe,{idx:j,result:C,sbsEntriesGroup:S,isLastResult:k,isFirstResult:E})})},C.uuid||C.backend_uuid)}),[i,v]),w=f.useMemo(()=>m.map((C,S)=>{const k=C[0];return o.jsx(b,{result:k,resultsGroup:C.length>1?C:Fe,isLastResult:S===m.length-1,isFirstResult:S===0,forceVisible:x(S,m.length),idx:S},k.uuid||k.backend_uuid)}),[m,b,x]);return o.jsx("div",{className:a?"erp-sidecar:pb-0 pb-16":"",children:w})});zRe.displayName="Thread";const HRe=L.memo(()=>{const{$t:e}=ae(),{firstResult:{parent_info:t}={}}=un();if(!t?.mode||!t?.url_slug)return null;const n=t?.mode===Qp.ARTICLE?"page":"search",r=!!t?.preview_image_url;return o.jsx(Nt,{href:`/${n}/${t?.url_slug}`,children:o.jsxs(Q,{variant:"background",bgHover:"offset",className:"p-md shadow-subtle mb-sm relative mx-auto mt-[calc(var(--header-height)+var(--size-md))] flex justify-between rounded-lg border pb-[12px]",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs(F,{color:"light",variant:"tiny",className:"mb-xs gap-x-xs flex items-center",children:[o.jsx(Ne,{icon:L_,size:"xs"}),o.jsx("div",{children:e({defaultMessage:"Follow up to",id:"D3eCB2NeGQ"})})]}),o.jsx(F,{variant:"baseSemi",color:"light",className:"line-clamp-1 break-all",children:t?.title})]}),r&&o.jsx("div",{className:"ml-md flex-shrink-0",children:o.jsx(ps,{src:t?.preview_image_url,alt:t?.title||"Preview",imageClassName:"h-16 w-16 rounded object-cover",rounded:"sm",fadeIn:!1})})]})})});HRe.displayName="ParentThreadLink";const WRe=L.memo(({message:e,subtitle:t,...n})=>o.jsx(Sn,{title:e,subtitle:t,closeButtonClassname:"right-sm top-md flex self-start justify-end grow",...n}));WRe.displayName="ConfirmationModal";const $Re=L.memo(({message:e,isVisible:t=!1,timeout:n,onSettingsClick:r,onTimeout:s=Yn,icon:a,...i})=>{const[l,c]=f.useState(t),u=f.useRef(null),{$t:d}=ae();f.useEffect(()=>{c(t)},[t]);const h=f.useCallback(()=>{u.current&&clearTimeout(u.current)},[]),m=f.useCallback(()=>{c(!1),s(),h()},[s,h]);return f.useEffect(()=>(t&&n&&(u.current=setTimeout(()=>{m()},n*1e3)),()=>{h()}),[l,n,t,s,m,h]),o.jsx(Ng,{children:o.jsx(kt,{children:l&&o.jsx(je.div,{className:"right-toastHMargin top-toastVMargin fixed z-30 flex items-center justify-center",initial:{opacity:0,x:6},animate:{opacity:1,x:0},exit:{opacity:0,x:6},transition:Wo,...i,children:o.jsxs(Q,{variant:"raised",className:W("shadow-subtle gap-sm flex items-stretch rounded-xl border pl-[12px] dark:shadow-[0_4px_12px_rgba(0,0,0,0.5)]"),children:[a&&o.jsx("div",{className:"p-sm bg-background-200 dark:bg-background-300 my-[12px] flex aspect-square items-center justify-center rounded-md",children:o.jsx(Ne,{icon:a,className:"text-text-200",size:"md"})}),o.jsxs("div",{className:"flex flex-1 flex-row items-center justify-between",children:[o.jsx(F,{variant:"tiny",color:"default",className:"pl-sm max-w-[200px] shrink-0 pr-[12px]",children:e}),o.jsxs(Q,{className:"flex h-full flex-col items-stretch justify-center border-l",children:[o.jsx(it,{size:"tiny",variant:"noHover",text:d({defaultMessage:"Settings",id:"D3idYvSLF9"}),onClick:r,extraCSS:"!px-[12px] flex-1 hover:opacity-60"}),o.jsx(Q,{className:"border-t"}),o.jsx(it,{size:"tiny",variant:"noHover",text:d({defaultMessage:"Dismiss",id:"TDaF6JVgG6"}),onClick:m,extraCSS:"!px-[12px] flex-1 hover:opacity-60"})]})]})]})},"task-creation-toast")})})});$Re.displayName="TaskCreationConfirmationToast";const qRe=({entryUUID:e,frontendContextUUID:t,existingCollection:n,existingFirstThreadQuery:r,filterOnSearchTerm:s,reason:a})=>{const{openModal:i}=Gt(),{collections:l}=WC({autoFetch:!0,reason:a}),c=f.useCallback(async()=>{!e||!t||(l?.length?i("collectionSelectModal",{entryUUID:e,currentCollection:n??null,searchTerm:s?r??"":void 0,frontendContextUUID:t}):i("spaceCreateForThread",{frontendContextUUID:t,entryUUID:e}))},[l?.length,e,t,n,r,i,s]);return f.useMemo(()=>({openAddToCollectionModal:c}),[c])},R$t=({collectionUUID:e,reason:t})=>{const{collections:n}=WC({autoFetch:!0,reason:t});return!e||!n?null:n.find(s=>s.uuid===e)??null},L$t=L.memo(({type:e,featuredImage:t,title:n,className:r,href:s})=>{if(!t||e!==xu.DISCOVER)return null;const a=o.jsx("div",{className:W("relative h-24 w-24 flex-none overflow-hidden rounded-md",r),children:t.includes("images.unsplash.com")?o.jsx("img",{src:t,alt:n,className:"h-full w-full object-cover object-center"}):o.jsx("img",{src:t,alt:n,sizes:"33vw",className:"object-cover object-center"})});return s?o.jsx(Nt,{href:s,children:a}):a}),GRe=br({path:"M10.2217 19.8021C10.76 19.9245 11.0977 20.46 10.9756 20.9984C10.8534 21.5368 10.3177 21.8742 9.77927 21.7523L10.2217 19.8021ZM19.998 12.0003C19.998 10.1877 19.3829 8.42843 18.2529 7.01109C17.1934 5.68228 15.7401 4.72735 14.1064 4.28062L13.7773 4.19761L13.6787 4.17027C13.1985 4.00804 12.9101 3.50509 13.0254 3.00034C13.1407 2.49552 13.619 2.16831 14.122 2.23081L14.2226 2.24839L14.6338 2.35093C16.6759 2.90926 18.492 4.10304 19.8164 5.76402C21.229 7.53563 21.998 9.73451 21.998 12.0003C21.9979 14.2661 21.2289 16.4651 19.8164 18.2367C18.4038 20.0081 16.4315 21.2478 14.2226 21.7523C13.6842 21.8752 13.1483 21.5378 13.0254 20.9994C12.9025 20.461 13.239 19.9251 13.7773 19.8021C15.5446 19.3985 17.1227 18.407 18.2529 16.9896C19.383 15.5723 19.9979 13.8131 19.998 12.0003ZM6.6533 19.3099C6.9286 18.8312 7.5398 18.6656 8.01853 18.9408C8.70568 19.336 9.4486 19.6268 10.2217 19.8021L9.99997 20.7767L9.77927 21.7523C8.81159 21.5328 7.88162 21.1698 7.02146 20.6751C6.5428 20.3999 6.37818 19.7886 6.6533 19.3099ZM4.31247 14.223C4.52015 14.9414 4.82828 15.6265 5.22654 16.2582L5.40232 16.5257L5.45603 16.6136C5.69953 17.0578 5.5725 17.6227 5.14646 17.9164C4.71999 18.2099 4.14546 18.1278 3.81736 17.7416L3.75486 17.6595L3.53513 17.3255C3.03661 16.535 2.6515 15.6778 2.39158 14.7787L4.31247 14.223ZM11 7.00034C11 6.44807 11.4477 6.00036 12 6.00034C12.5523 6.00034 13 6.44806 13 7.00034V11.5863L15.707 14.2933L15.7754 14.3685C16.0961 14.7613 16.0732 15.3411 15.707 15.7074C15.3409 16.0733 14.7618 16.0959 14.3691 15.7757L14.2929 15.7074L11.2929 12.7074C11.1055 12.5199 11.0001 12.2654 11 12.0003V7.00034ZM3.07419 13.5404C3.60465 13.387 4.15897 13.6926 4.31247 14.223L2.39158 14.7787C2.2382 14.2481 2.54369 13.6938 3.07419 13.5404ZM3.37204 6.94859C3.66115 6.53216 4.22474 6.39399 4.67771 6.64488C5.16073 6.91252 5.33489 7.5212 5.06736 8.00425L4.91013 8.28843L4.77146 8.56675C4.4599 9.22255 4.23478 9.9274 4.11033 10.6664C4.01849 11.2108 3.50252 11.5774 2.95798 11.4857C2.41351 11.394 2.04621 10.8788 2.13767 10.3343C2.31545 9.27875 2.65756 8.27757 3.13767 7.3607L3.14939 7.34019L3.31833 7.0355L3.37204 6.94859ZM9.7783 2.24741C10.3168 2.12503 10.8532 2.46277 10.9756 3.00132C11.0979 3.53987 10.7602 4.0762 10.2217 4.19859C9.2377 4.42219 8.30475 4.83053 7.47361 5.40269C7.01872 5.71561 6.39608 5.60067 6.08298 5.14585C5.77007 4.69098 5.88505 4.06834 6.33982 3.75523C7.37997 3.03919 8.54691 2.52724 9.7783 2.24741Z",name:"IconPerplexityTemporaryThread",variant:"filled"}),O$t=()=>{const{$t:e}=ae();return f.useMemo(()=>({yearAgo:e({defaultMessage:"year ago",id:"FzcTXH29w0"}),yearsAgo:e({defaultMessage:"years ago",id:"zJmD8CS6cm"}),monthAgo:e({defaultMessage:"month ago",id:"bZWV9MmB/N"}),monthsAgo:e({defaultMessage:"months ago",id:"Lui0j+6Np9"}),dayAgo:e({defaultMessage:"day ago",id:"G4Y/+2FJhb"}),daysAgo:e({defaultMessage:"days ago",id:"vEpDmSBrwP"}),hourAgo:e({defaultMessage:"hour ago",id:"7v28g+bbYy"}),hoursAgo:e({defaultMessage:"hours ago",id:"2GaNTzDbM2"}),minutesAgo:e({defaultMessage:"minutes ago",id:"9aNLtXrhB8"}),minuteAgo:e({defaultMessage:"minute ago",id:"G8L9c8oAYi"}),justNow:e({defaultMessage:"Just now",id:"bxv59Vvssz"}),justNowShort:e({defaultMessage:"Now",id:"tgvES0v2HS"})}),[e])},YRe=L.memo(({className:e})=>{const t=Qt(),n=f.useCallback(()=>{t.push("/account/tasks")},[t]),{value:r,loading:s}=zg();return s?null:o.jsxs(F,{variant:"tiny",color:"super",className:W("gap-x-xs flex flex-row items-center hover:cursor-pointer",e),onClick:n,children:[o.jsx(Ne,{icon:Th,size:"xs",className:"-translate-y-[1px]"}),r?o.jsx(Ve,{defaultMessage:"Automation",id:"Fn4YKyl4lm"}):o.jsx(Ve,{defaultMessage:"Task",id:"0wJ7N+noSq"})]})});YRe.displayName="TaskIndicator";const KO=L.memo(({icon:e,count:t,textVariant:n="tiny",textColor:r="light",className:s})=>o.jsxs("div",{className:"gap-x-xs flex items-center",children:[o.jsx(F,{variant:n,color:r,className:s,children:o.jsx(Ne,{icon:e,size:"sm"})}),o.jsx(F,{variant:n,color:r,className:s,children:KA(t)})]}),(e,t)=>e.count===t.count&&e.icon===t.icon&&e.className===t.className),P$t=L.memo(({threadAccess:e,socialInfo:t,textVariant:n,textColor:r,className:s})=>{if(!e||!t||Hlt(e))return null;const a=t.view_count??0,i=t.fork_count??0;return o.jsxs(o.Fragment,{children:[a>0&&o.jsx(KO,{icon:QHe,count:a,textColor:r,textVariant:n,className:s}),i>0&&o.jsx(KO,{icon:L_,count:i,textColor:r,textVariant:n,className:s})]})}),I$t=De(async()=>({default:(await Me(()=>import("./TimeAgoTooltip-DLXaw6il.js").then(t=>t.a),__vite__mapDeps([112,1]))).default})),KRe=()=>{const{$t:e}=ae(),{isEnterprise:t}=Bn({reason:"temporary-thread-tooltip"});return e(t?{defaultMessage:"Temporary threads expire due to personal context access, navigational queries, data retention policies, or organizational requirements.",id:"BJL0VPkJd3"}:{defaultMessage:"Temporary threads expire due to personal context access, navigational queries, or data retention policies.",id:"mxG1FiTDFj"})},D$t=L.memo(({type:e,threadCount:t,threadAccess:n,lastUpdated:r,socialInfo:s,expiry:a,source:i,displayModel:l})=>{const c=O$t(),{locale:u,$t:d}=ae(),h=n?$lt(n):null,m=ae(),g=f.useMemo(()=>{if(!a)return null;const b=a.endsWith("Z")?a:`${a}Z`,w=new Date(b);return PC(m,w,{style:"short"},1e3*60*60*24)},[a,m]),v=f.useMemo(()=>{if(!a)return null;const b=a.endsWith("Z")?a:`${a}Z`;return new Date(b).toLocaleString(u,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})},[a,u]),x=KRe();return o.jsxs("div",{className:"gap-x-md flex items-center",children:[l?o.jsx(U$t,{displayModel:l}):null,g&&o.jsx(Mn,{tooltipText:x,tooltipLayout:"right",asChild:!0,children:o.jsxs(F,{variant:"tiny",color:"light",className:"pr-sm pl-xs border-borderMain/80 flex cursor-default items-center gap-x-0.5 rounded-full border border-dashed py-0.5",children:[o.jsx(Ne,{icon:GRe,size:"xs"}),d({defaultMessage:"Temporary Thread",id:"YuuBvz04y+"})]})}),g?o.jsx(Mn,{tooltipText:v,tooltipLayout:"right",children:o.jsx(F,{variant:"tiny",color:"light",className:"cursor-default",children:d({defaultMessage:"Expires {expiry}",id:"KhQvNJGIsK"},{expiry:g})})}):r&&o.jsx(I$t,{timestamp:r,translations:c,locale:u}),i&&i==="perplexity_tasks"&&o.jsx(YRe,{}),o.jsx(P$t,{socialInfo:s,threadAccess:n}),!!t&&t>1&&o.jsx(KO,{icon:JF,count:t}),e===xu.COLLECTION&&bme(n)&&o.jsxs(F,{className:"gap-x-xs ml-xs flex items-center",variant:"tiny",color:"light",testId:"thread-shared-indicator",children:[h&&o.jsx(Ne,{icon:h,size:"xs",className:"-mt-px"}),o.jsx("span",{children:d({defaultMessage:"Shared",id:"kWI6zXRaHY"})})]})]})}),F$t=["pplx_alpha","pplx_beta"],U$t=({displayModel:e})=>{const{$t:t}=ae();if(!e||!F$t.includes(e))return null;const n=e==="pplx_alpha"?t({defaultMessage:"Research",id:"JEe7dVso7F"}):e==="pplx_beta"?t({defaultMessage:"Labs",id:"ylFNoY79wa"}):null,r=e==="pplx_alpha"?XD:e==="pplx_beta"?bC:null;return o.jsxs(F,{variant:"tiny",color:"light",className:"pr-sm border-borderMain/50 flex items-center gap-x-0.5 rounded-full border py-0.5 pl-1.5",children:[r&&o.jsx(Ne,{icon:r,size:"xs"}),n]})},B$t=f.memo(({title:e,preview:t,threadCount:n,lastUpdated:r,href:s="/",rwToken:a,socialInfo:i,showActionMenu:l=!0,authorImage:c,threadAccess:u,type:d,featuredImage:h,entryUUID:m,contextUUID:g,collection:v,expiry:x,onRemoveExpiration:b,source:w,isIncognitoThread:C,displayModel:S,isSelectable:k,isSelected:E,onSelect:T})=>{const j="thread-item",N=R$t({collectionUUID:v?.uuid,reason:j}),{deleteThread:R}=e8({reason:j}),{removeThreadFromCollection:O}=Lg({reason:j}),{trackEvent:I}=Ye(),[B,D]=f.useState(!1),z=f.useCallback(async ee=>{R({entryUUID:ee,collectionSlug:N?.slug}),I("delete thread from history click",{entryUUID:ee})},[N?.slug,R,I]),{openAddToCollectionModal:V}=qRe({entryUUID:m,existingCollection:N,reason:j,frontendContextUUID:g}),U=f.useCallback(ee=>{ee==="add"?I("click add thread to space",{contextUUID:g,isBookmark:!1}):I("click swap thread space",{contextUUID:g,isFromBookmark:!1,collectionUUID:N?.uuid||""}),V()},[N,g,I,V]),H=f.useCallback(()=>{I("click remove thread from space",{contextUUID:g,collectionUUID:N?.uuid||"",isBookmark:!1}),O({entryUUID:m,oldCollectionUUID:N?.uuid,frontendContextUUID:g,collectionSlug:N?.slug})},[N?.uuid,N?.slug,g,m,O,I]),q=f.useCallback(()=>U("add"),[U]),$=f.useCallback(()=>U("swap"),[U]),G=f.useCallback(()=>{D(!0),CC(m,()=>{b()})},[m,b]),K=f.useCallback(()=>T?.(!E),[E,T]);return o.jsxs(Q,{className:"relative",children:[o.jsx(kt,{initial:!1,children:k&&o.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.1},className:"-translate-x-sm top-md mt-three absolute right-full",children:o.jsx(VF,{checked:E??!1,toggleChecked:K})})}),o.jsxs("div",{className:"gap-x-md py-md group relative flex items-center",children:[o.jsx(L$t,{featuredImage:h,type:d,title:e,href:s}),o.jsxs("div",{className:"gap-y-sm flex w-full grow flex-col",children:[o.jsxs(Q,{className:"flex justify-between",children:[o.jsx(Nt,{href:s,className:"group block overflow-x-hidden",children:o.jsxs(Q,{children:[o.jsxs("div",{className:"gap-x-sm flex items-center",children:[(!!c||d===xu.COLLECTION)&&o.jsx(sr,{size:"small",user:c??void 0}),o.jsx(F,{className:"grow",variant:"baseSemi",children:o.jsx("div",{"data-testid":`thread-title-${e}`,className:"md:group-hover:text-super line-clamp-1 break-all transition duration-300",children:e})})]}),o.jsx(F,{color:"light",className:"break-word mt-two line-clamp-2 text-balance",variant:"small",children:t})]})}),o.jsx(Q,{className:W("duration-150",{"opacity-0":k,"pointer-events-none group-hover:opacity-0":k}),children:o.jsx(Vz,{show:l,currentSpace:N,showConvertThreadToArticle:!1,onDelete:z,onAddToSpace:q,onSwapSpace:$,onRemoveFromSpace:H,rwToken:a,contextUUID:g,threadAccess:u,collectionSlug:v?.slug,type:d,showSaveAsFileToSpace:!1,expiry:B?void 0:x,onRemoveExpiration:B?void 0:G,buttonSize:"tiny",threadId:m,isIncognitoThread:C})})]}),o.jsx("div",{className:l?"mt-xs":"mt-sm",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(D$t,{type:d,threadCount:n,threadAccess:u,lastUpdated:r,socialInfo:i??null,expiry:x,source:w,displayModel:S}),o.jsx("div",{className:"gap-x-xs flex items-center",children:v?.title&&d===xu.LIBRARY&&o.jsx(Nt,{href:`/spaces/${v?.slug}`,className:"block",children:o.jsx(Q,{className:"px-xs rounded-full border",children:o.jsxs(F,{variant:"tiny",className:"gap-x-xs px-sm py-xs flex cursor-pointer select-none items-center transition duration-300 hover:opacity-70",testId:"thread-collection-pill",children:[o.jsx(hf,{unified:v.emoji,size:"tiny"}),o.jsx("div",{className:"line-clamp-1",children:v.title})]})})})})]})})]})]})]})}),Bz=L.memo(({choices:e,...t})=>o.jsx(Q,{className:"mt-sm divide-y rounded md:border",...t,children:e.map((n,r)=>n.subMenu?o.jsxs("div",{children:[f.createElement(O1,{type:"default",...n,rounded:!1,key:r}),n.active&&n.subMenu&&o.jsx(QRe,{choices:n.subMenu})]}):f.createElement(O1,{type:"default",...n,rounded:!1,key:r}))}));Bz.displayName="RadioCard";const QRe=L.memo(({choices:e})=>o.jsx(Q,{children:e.map((t,n)=>f.createElement(O1,{type:"radio",showIconLeft:!0,selected:t.active??!1,...t,rounded:!1,key:n}))}));QRe.displayName="RadioCardSubMenu";const XRe=L.memo(({onClose:e,isOpen:t,onDelete:n,...r})=>{const{$t:s}=ae(),[a,i]=f.useState(!1),[l,c]=f.useState("all");f.useEffect(()=>{t||(i(!1),c("all"))},[t]);const u=f.useMemo(()=>[{text:s({defaultMessage:"All Threads",id:"2DJ/HRvVaR"}),label:s({defaultMessage:"All your threads will be deleted",id:"YDOzv2WOkx"}),active:l==="all",onClick:()=>{c("all")}},{text:s({defaultMessage:"Standalone Threads",id:"6HJEHjz/aG"}),label:s({defaultMessage:"Only your threads which are not part of a space will be deleted",id:"lFOvDZ2Tnp"}),active:l==="standalone",onClick:()=>{c("standalone")}}],[s,l]),d=f.useMemo(()=>[{text:"Cancel",onClick:e},{text:s(a?{defaultMessage:"Yes, Delete",id:"QEmYhzreEW"}:{defaultMessage:"Delete Threads",id:"+waPO7td+u"}),variant:"rejected",onClick:()=>{a?n(l):i(!0)}}],[s,l,a,e,n]);return o.jsx(Sn,{...r,isOpen:t,onClose:e,title:s(a?l==="all"?{defaultMessage:"Delete all threads?",id:"Kju4ObJhbP"}:{defaultMessage:"Delete standalone threads?",id:"kiKGdmk4lu"}:{defaultMessage:"Delete Threads",id:"+waPO7td+u"}),actionList:d,children:o.jsx("div",{children:a?o.jsx("div",{children:o.jsx(F,{children:s(l==="all"?{defaultMessage:"All your threads will be deleted. This cannot be undone.",id:"U1IQ/Dlkge"}:{defaultMessage:"Your threads which are not part of a space will be deleted. This cannot be undone.",id:"Ko7lNjweFq"})})}):o.jsx(Bz,{className:"-mx-sm -my-sm border-none",choices:u})})})});XRe.displayName="DeleteThreadsModal";const ZRe=L.memo(({children:e,fetchNextPage:t,hasNextPage:n,showLoadingState:r,itemsToRender:s,loadingPlaceholder:a})=>{const i=f.useRef(t);i.current=t;const l=f.useRef(Ni(()=>i.current(),300,{leading:!0,trailing:!1})),c=f.useRef(null);_F(c,l.current,{rootMargin:"50px",threshold:0});const u=a||(s.length==0?o.jsx(Q,{className:"py-sm",children:o.jsx(Dl,{animateLines:!1,blockCount:12,divider:!0})}):o.jsx(Q,{className:"py-md",children:o.jsx(Dl,{animateLines:!1,blockCount:1})}));return o.jsxs(o.Fragment,{children:[e,r&&u,s.length>0&&n&&o.jsx("div",{ref:c,className:"border border-transparent"})]})});ZRe.displayName="LibraryItemList";var xu=(e=>(e.LIBRARY="library",e.COLLECTION="collection",e.DISCOVER="discover",e.SEARCH="search",e.INCOGNITO_SEARCH="incognitoSearch",e))(xu||{});const V$t="temporary-threads",fie=e=>{fn(V$t,String(e),{expires:ms})},z$t=L.memo(({threads:e,fetchNextPage:t,hasNextPage:n=!1,showLoadingState:r=!1,showEmptyState:s=!1,type:a,showTemporaryThreads:i,setShowTemporaryThreads:l,searchTerm:c,invalidateThreadsQuery:u,ascending:d,setAscending:h,isFetchingNextPage:m,source:g,setSource:v,threadType:x,setThreadType:b})=>{const{$t:w}=ae(),C=f.useMemo(()=>(e??[]).map(Pct),[e]),S=Ct(),[k,E]=f.useState(!1),[T,j]=f.useState(!1),[N,R]=f.useState([]),{isMobileStyle:O}=qe(),I=f.useRef(c),{deleteAllThreads:B,deleteThreads:D}=e8({reason:"threads-list"}),z=f.useCallback(ce=>{B(ce),E(!1)},[B,E]),V=f.useCallback(ce=>{R(se=>se.includes(ce)?se.filter(J=>J!==ce):[...se,ce])},[]),U=f.useCallback(()=>{j(!1),R([])},[]);f.useEffect(()=>{I.current!==c&&(U(),I.current=c)},[c,U]);const H=f.useMemo(()=>[{type:"default",text:w({defaultMessage:"Newest First",id:"dZYazP4QWO"}),onClick:()=>{h(!1),U()},show:!0,active:!d},{type:"default",text:w({defaultMessage:"Oldest First",id:"FqI37DU6LJ"}),onClick:()=>{h(!0),U()},show:!0,active:d}],[d,w,h,U]),q=f.useMemo(()=>[{type:"default",text:w({defaultMessage:"All",id:"zQvVDJ+j59"}),onClick:()=>{v("all"),U()},active:g==="all"},{type:"default",text:w({defaultMessage:"Comet",id:"9WmFFQw7ns"}),onClick:()=>{v("comet"),U()},active:g==="comet"}],[g,w,v,U]),$=f.useMemo(()=>[{type:"default",text:w({defaultMessage:"All",id:"zQvVDJ+j59"}),onClick:()=>{b("all"),U()},active:x==="all"},{type:"default",text:w({defaultMessage:"Research",id:"JEe7dVso7F"}),onClick:()=>{b("research"),U()},active:x==="research"},{type:"default",text:w({defaultMessage:"Labs",id:"ylFNoY79wa"}),onClick:()=>{b("labs"),U()},active:x==="labs"}],[x,w,b,U]),G=f.useMemo(()=>[{type:"default",text:w({defaultMessage:"Show",id:"K7AkdLoAj6"}),onClick:()=>{l(!0),fie(!0),U()},active:i},{type:"default",text:w({defaultMessage:"Hide",id:"VA/Z1SW3vH"}),onClick:()=>{l(!1),fie(!1),U()},active:!i}],[i,w,l,U]),K=Ln(),ee=f.useMemo(()=>o.jsx(nLe,{}),[]),oe=f.useCallback(()=>E(!1),[]),ne=f.useCallback(()=>{D({entryUUIDs:N,callback:U})},[D,N,U]),te=f.useMemo(()=>[{type:"default",icon:Id,show:!0,text:w({defaultMessage:"Delete All...",id:"l9TBCl7XJN"}),onClick:()=>E(!0)}],[w]),re=Fa({reason:"threads-list"}),X=f.useMemo(()=>g!=="all"||x!=="all",[g,x]);return o.jsxs(o.Fragment,{children:[o.jsxs(ZRe,{fetchNextPage:t,hasNextPage:n,showLoadingState:m||r,itemsToRender:C,loadingPlaceholder:ee,children:[re&&o.jsxs(Q,{className:"mt-md p-md gap-sm flex items-center justify-start rounded-md",variant:"darkOffset",children:[o.jsx(mf,{}),o.jsxs("div",{children:[o.jsx(F,{variant:"smallBold",color:"white",children:w({defaultMessage:"You are incognito",id:"pBm4msoyyh"})}),o.jsx(F,{variant:"small",color:"white",className:"text-pretty opacity-75",children:w({defaultMessage:"New Threads are anonymous, won't appear in your library, and expire after 24 hours.",id:"/FQ4Dx5TpY"})})]})]}),o.jsx(Q,{className:W("gap-sm pt-md flex items-center justify-between",{"bg-background pb-md -mb-md sticky top-0 z-10":!O}),variant:"background",children:o.jsxs(tLe,{children:[o.jsxs("div",{className:"gap-sm flex items-center",children:[!O&&o.jsxs(Q,{className:"pr-sm relative flex-1 shrink-0",children:[o.jsx(eLe,{selectEnabled:T,resetSelect:U,setSelectEnabled:j}),o.jsx(Q,{className:"absolute right-0 top-1/2 h-5 -translate-y-1/2 border-r"})]}),K&&o.jsx(Rn,{placement:"bottom-start",isMobileStyle:O,items:q,wrapperClassName:"inline-flex",children:o.jsx(Wc,{variant:g==="all"?"border":"primary",text:g==="all"?w({defaultMessage:"Source",id:"aH4De2Y20k"}):w({defaultMessage:"Source: {comet}",id:"pAvXy3TmGv"},{comet:"Comet"})})}),o.jsx(Rn,{placement:"bottom-start",isMobileStyle:O,items:$,wrapperClassName:"inline-flex",children:o.jsx(Wc,{variant:x==="all"?"border":"primary",text:w(x==="all"?{defaultMessage:"Type",id:"+U6ozcnv4r"}:x==="research"?{defaultMessage:"Type: Research",id:"NeGk8fwf1M"}:{defaultMessage:"Type: Labs",id:"yLIVi0dTj2"})})}),o.jsx(Rn,{placement:"bottom-start",isMobileStyle:O,items:G,wrapperClassName:"inline-flex",children:o.jsx(Wc,{variant:"border",text:w(i?{defaultMessage:"Temporary Threads: Show",id:"j0VHwshtHd"}:{defaultMessage:"Temporary Threads: Hide",id:"X8Kc6bnTnf"})})})]}),o.jsxs("div",{className:W("gap-sm flex items-center",{}),children:[o.jsx(Rn,{placement:K?"bottom-start":"bottom-end",isMobileStyle:O,wrapperClassName:"inline-flex",items:H,children:o.jsx(Wc,{text:w(d?{defaultMessage:"Sort: Oldest",id:"K8y5AUAIdW"}:{defaultMessage:"Sort: Newest",id:"ouRV0Q2JpB"})})}),o.jsx(Rn,{placement:"bottom-end",isMobileStyle:O,wrapperClassName:"inline-flex",items:te,disabled:T,children:o.jsx(Wc,{icon:tf,chevron:!1,disabled:T})})]})]})}),s&&C.length===0?o.jsxs(Q,{className:"mt-xl p-xl flex flex-col items-center justify-center rounded-md",children:[o.jsx(F,{variant:"baseSemi",children:X||c?w({defaultMessage:"Nothing turned up",id:"Rn55YzpVb0"}):w({defaultMessage:"No {threads} yet",id:"5zP56HMUgk"},{threads:"Threads"})}),X||c?o.jsx(F,{variant:"small",color:"light",children:w({defaultMessage:"Try different keywords, check for typos, or adjust your filters.",id:"3DJFcRxvex"})}):o.jsx(F,{variant:"small",color:"light",children:o.jsx(Ve,{defaultMessage:"Try creating a <link>new Thread</link>",id:"18hNnPSiwJ",values:{link:ce=>o.jsx(Nt,{className:"text-super",href:"/",children:ce})}})})]}):o.jsxs("div",{className:"relative",children:[o.jsx(Q,{className:"relative divide-y",children:C.map(ce=>o.jsx(JRe,{thread:ce,invalidateThreadsQuery:u,selectEnabled:T,selectedThreads:N,handleSelect:V,type:a,isUserLoggedIn:S},ce.entryUUID))}),r&&o.jsx("div",{className:"bg-background absolute inset-0 opacity-50"})]})]}),o.jsx(XRe,{isOpen:k,onClose:oe,onDelete:z}),o.jsx(kt,{initial:!1,children:T&&o.jsx(je.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2,bounce:.2,type:"spring"},className:"bottom-md fixed left-0 right-0 flex items-center justify-center",children:o.jsxs(Q,{variant:"raised",className:"p-sm pl-md shadow-subtle bottom-md border-lg flex w-[400px] items-center justify-between rounded-xl border",children:[o.jsx(F,{variant:"small",color:"light",children:w({defaultMessage:"{count, plural, =0 {No Threads} one {# Thread} other {# Threads}} Selected",id:"MqdlBPNiqL"},{count:N.length})}),o.jsx(Le,{text:w({defaultMessage:"Delete {count, plural, =0 {Threads} one {# Thread} other {# Threads}}",id:"nBPaP34ufb"},{count:N.length}),variant:"rejected",size:"small",disabled:N.length===0,onClick:ne})]})})})]})}),JRe=L.memo(({thread:e,invalidateThreadsQuery:t,selectEnabled:n,selectedThreads:r,handleSelect:s,type:a,isUserLoggedIn:i})=>{const l=f.useCallback(c=>{s(e.entryUUID)},[s,e.entryUUID]);return o.jsx(B$t,{href:e.href,rwToken:e.rwToken,title:e.title,preview:e.preview??"",threadCount:e.threadCount,lastUpdated:e.lastUpdated,copilot:e.copilot,socialInfo:e.socialInfo,threadAccess:e.threadAccess??null,authorImage:e.authorImage,featuredImage:e.featuredImage??null,showActionMenu:a!=="discover"&&i,type:a,entryUUID:e.entryUUID,contextUUID:e.contextUUID,collection:e.collection??null,expiry:e.expiry,onRemoveExpiration:t,source:e.source,isIncognitoThread:!1,displayModel:e.displayModel,isSelectable:n,isSelected:r.includes(e.entryUUID),onSelect:l},e.entryUUID)});JRe.displayName="ThreadItemWrapper";z$t.displayName="ThreadsList";const Wc=L.memo(({text:e,variant:t="border",onClick:n,chevron:r=!0,icon:s,disabled:a,className:i})=>{const{isMobileStyle:l}=qe();return o.jsx(Le,{variant:t,size:l?"small":"tiny",text:e,chevron:r,onClick:n,icon:s,extraCSS:W(a?"opacity-50 pointer-events-none":"",i)})});Wc.displayName="FilterButton";const eLe=L.memo(({selectEnabled:e,resetSelect:t,setSelectEnabled:n})=>{const{$t:r}=ae(),s=f.useCallback(()=>{n(!e),e&&t()},[e,t,n]);return o.jsxs("div",{className:"inline-grid w-max grid-cols-1 grid-rows-1",children:[o.jsx(Wc,{text:r(e?{defaultMessage:"Done",id:"JXdbo8Vnlw"}:{defaultMessage:"Select",id:"kQAf2d9u+x"}),onClick:s,chevron:!1,variant:e?"primary":"border",className:"col-start-1 row-start-1"}),o.jsx(Wc,{text:r({defaultMessage:"Select",id:"kQAf2d9u+x"}),className:"pointer-events-none col-start-1 row-start-1 opacity-0",chevron:!1}),o.jsx(Wc,{text:r({defaultMessage:"Done",id:"JXdbo8Vnlw"}),className:"pointer-events-none col-start-1 row-start-1 opacity-0",chevron:!1})]})});eLe.displayName="SelectButton";const tLe=L.memo(({children:e})=>{const{isMobileStyle:t}=qe();return t?o.jsx("div",{className:"w-full",children:o.jsx("div",{className:"-mx-md",children:o.jsx(mu,{showScrollIndicator:!1,orientation:"horizontal",children:o.jsx("div",{className:"gap-sm px-md flex items-center",children:e})})})}):o.jsx(mu,{showScrollIndicator:!1,orientation:"horizontal",children:o.jsx("div",{className:"gap-sm flex w-full items-center justify-between",children:e})})});tLe.displayName="FiltersWrapper";const nLe=L.memo(()=>o.jsxs(Q,{className:"gap-x-md py-md gap-sm group relative flex flex-col items-start",children:[o.jsxs("div",{className:"gap-two flex w-full flex-col",children:[o.jsxs("div",{className:"grid items-center",children:[o.jsx(F,{variant:"baseSemi",className:"col-start-1 row-start-1",children:" "}),o.jsx(Q,{variant:"offset",className:"col-start-1 row-start-1 h-4 w-[120px] rounded-full"})]}),o.jsxs("div",{className:"grid w-full items-center",children:[o.jsxs(F,{variant:"small",className:"col-start-1 row-start-1",children:[" ",o.jsx("br",{})," "]}),o.jsxs("div",{className:"col-start-1 row-start-1 flex w-full flex-col gap-2",children:[o.jsx(Q,{variant:"offset",className:"h-2 w-2/3 rounded-full"}),o.jsx(Q,{variant:"offset",className:"h-2 w-2/3 rounded-full"})]})]})]}),o.jsxs("div",{className:"grid items-center",children:[o.jsx(F,{variant:"tiny",className:"col-start-1 row-start-1",children:" "}),o.jsx(Q,{variant:"offset",className:"col-start-1 row-start-1 h-2 w-[80px] rounded-full"})]})]}));nLe.displayName="ThreadItemSkeleton";const rLe=({fileRepoInfo:e,fileExists:t,reason:n})=>{const{openToast:r}=Sr(),s=on(),a=f.useMemo(()=>s?.user?.email??"",[s]),i=Vt(),{mutate:l}=Ame({fileRepoInfo:e,setTotalFilesUploading:()=>1,replaceExisting:t,reason:n}),{mutateAsync:c}=Tme({fileRepositoryType:e.file_repository_type,offset:0,searchTerm:"",ownerId:e.owner_id,reason:n}),u=f.useCallback(async(h,m)=>{try{if(!h||!m)return;const g=await rme({thread_uuid:h,format:"md",filename:m,reason:n}),v=atob(g.file_content_64),x=new Array(v.length);for(let S=0;S<v.length;S++)x[S]=v.charCodeAt(S);const b=new Uint8Array(x),w=new Blob([b],{type:"application/md"}),C=new File([w],g.filename,{type:"application/md"});await l([C]),i.setQueryData(["file_exists",e.owner_id,m],!0),t||r("Successfully saved to space","success",3)}catch(g){r(`Failed to save to space: ${g}`,"error",3)}},[l,r,t,e,i,n]),d=f.useCallback(async h=>{try{const g=(await Vw({fileRepositoryType:e.file_repository_type,limit:10,offset:0,searchTerm:"",email:a,ownerId:e.owner_id,reason:n}))?.completedFiles.find(v=>v.name.includes(h??""));if(!g?.file_uuid)return;await c([g.file_uuid]),i.setQueryData(["file_exists",e.owner_id,h],!1),r("File removed from space","success",3)}catch(m){r(`Failed to remove from space: ${m}`,"error",3)}},[c,r,i,e.owner_id,a,n,e.file_repository_type]);return f.useMemo(()=>({saveThreadToSpace:u,removeThreadFromSpace:d}),[d,u])};function H$t(e){return zhe(e)?e:Re.PRO}function W$t(e){const t=e.filter(Ox);return t.length>0?t:[Sl.web]}function $$t(){if(typeof window>"u")throw new Error("useCreateTaskFromThread should only be used on the client");const[e,t]=f.useState(!1),[n,r]=f.useState(!1),{hasAccessToProFeatures:s}=cn(),a=Qt(),{firstResult:i}=un(),l=Blt(),c=i?.query_str||l.first_query,u=f.useMemo(()=>H$t(i?.display_model),[i?.display_model]),d=f.useMemo(()=>i?.sources?W$t(i.sources.sources):[Sl.web],[i?.sources]),h=f.useMemo(()=>s&&!!c,[s,c]),m=f.useCallback(()=>{h&&t(!0)},[h]),g=f.useCallback(()=>{t(!1)},[]),v=f.useCallback(()=>{t(!1),r(!0)},[]),x=f.useCallback(()=>{r(!1),a.push("/account/tasks")},[a]),b=f.useCallback(()=>{r(!1)},[]),w=f.useMemo(()=>{if(!c)return;const C=new Date;return{title:"",prompt:c,schedule:{kind:"DAILY",hour:C.getHours(),minute:C.getMinutes(),day:C.getDate(),month:C.getMonth(),year:C.getFullYear(),dayOfWeek:C.getDay()},searchModel:u,sources:d}},[c,u,d]);return f.useMemo(()=>({canCreateTask:h,isTaskModalOpen:e,handleCreateTask:m,handleTaskModalClose:g,handleTaskModalSuccess:v,taskPrefillData:w,showConfirmationToast:n,handleConfirmationToastSettings:x,handleConfirmationToastDismiss:b}),[h,m,g,v,e,w,n,x,b])}const q$t=e=>{const{openToast:t}=Sr(),[n,r]=f.useState(!1),s=f.useCallback(async(a,i)=>{try{r(!0),t("Exporting thread...","refresh",10);const l=await i(),c=atob(l.file_content_64),u=new Array(c.length);for(let v=0;v<c.length;v++)u[v]=c.charCodeAt(v);const d=new Uint8Array(u),h=new Blob([d],{type:`application/${a}`}),m=window.URL.createObjectURL(h),g=document.createElement("a");g.href=m,g.download=l.filename,g.style.display="none",document.body.appendChild(g),g.click(),setTimeout(()=>{document.body.removeChild(g),window.URL.revokeObjectURL(m)},1e3),t("Export succeeded","success",3)}catch{t(e,"error")}finally{r(!1)}},[t,e]);return f.useMemo(()=>({handleExport:s,isExporting:n}),[s,n])},G$t=({reason:e})=>{const n=ae().formatMessage({defaultMessage:"Failed to export answer",id:"UiPrX3hXY8"}),{handleExport:r,isExporting:s}=q$t(n),a=f.useCallback(async(i,l)=>{await r(l,()=>rme({thread_uuid:i,format:l,reason:e}))},[r,e]);return f.useMemo(()=>({convertContent:a,isExporting:s}),[a,s])},Vz=L.memo(({show:e,isBookmarked:t,currentSpace:n,onDelete:r,onAddToSpace:s,onSwapSpace:a,onRemoveFromSpace:i,onConvertToArticle:l,onRename:c,threadAccess:u,contextUUID:d,rwToken:h,collectionSlug:m,type:g,isConverting:v,showConvertThreadToArticle:x,className:b,firstResultBackendUUID:w,showSaveAsFileToSpace:C=!0,onBookmark:S,showBookmarkButton:k=!1,title:E,expiry:T,onRemoveExpiration:j,onOpen:N,onClose:R,buttonSize:O="small",threadId:I,isIncognitoThread:B})=>{const D="thread-overflow-dropdown",z=ae(),[V,U]=f.useState(!1),{trackEvent:H}=Ye(),{isMobileStyle:q}=qe(),$=z.formatMessage({defaultMessage:"Export as PDF",id:"syduyBQ0eU"}),G=z.formatMessage({defaultMessage:"Export as Markdown",id:"d3prfCUwCt"}),K=z.formatMessage({defaultMessage:"Export as DOCX",id:"yQ3Z7H5E8P"}),[ee,oe]=f.useState(!1),ne=on(),{convertContent:te,isExporting:re}=G$t({reason:D}),{fileRepoInfo:X}=df({reason:D}),ce=X?.file_repository_type==="COLLECTION",se=!!h,J=f.useMemo(()=>({pdf:"export thread PDF clicked",md:"export thread MD clicked",docx:"export thread DOCX clicked"}),[]),{collection:de}=uf({collectionSlug:m,reason:D}),{data:ie}=ez({fileRepoInfo:X,fileName:I??"",reason:D}),{saveThreadToSpace:he,removeThreadFromSpace:pe}=rLe({fileRepoInfo:X,fileExists:ie??!1,reason:D}),ge=f.useCallback(async Bt=>{w&&(H(J[Bt],{}),await te(w,Bt))},[w,J,H,te]),Ce=k&&q&&!!S,we=n===null&&(g===xu.LIBRARY||g===xu.SEARCH)&&!!s,Pe=n!==null&&se&&!!a,ot=n!==null&&!!i,{isUserAtLeastWriter:Be}=mF({reason:D}),{onShareThreadToSpace:Ee,onMakeThreadPrivate:st,isShareable:et}=hF({threadAccess:u,contextUUID:d,rwToken:h,collectionSlug:m,reason:D}),$e=ce&&Be&&!et&&!!Ee,tt=ce&&Be&&et&&!!st,at=se&&!!r,xe=ce&&C&&!ie&&!ee&&!!de&&de?.user_permission>=2,Oe=se&&!!j&&!!T&&!B,Qe=ce&&C&&(ie||ee),[Ge,ze]=f.useState(!1),{canCreateTask:Ze,isTaskModalOpen:St,handleCreateTask:It,handleTaskModalClose:Jt,handleTaskModalSuccess:dt,taskPrefillData:ft,showConfirmationToast:Et,handleConfirmationToastSettings:an,handleConfirmationToastDismiss:zn}=$$t(),er=f.useMemo(()=>[{type:"default",icon:t?Ace:rI,text:t?z.formatMessage({defaultMessage:"Bookmarked",id:"k0fraU5NBY"}):z.formatMessage({defaultMessage:"Add Bookmark",id:"Y4GyA+IDCn"}),show:Ce,onClick:S},{type:"default",icon:$r,text:z.formatMessage({defaultMessage:"Add to Space",id:"nB+VQ2svMZ"}),show:we,onClick:s,testId:"thread-add-to-space"},{type:"default",icon:cHe,text:z.formatMessage({defaultMessage:"Swap Space",id:"y3tRs6Jpig"}),show:Pe,onClick:a,testId:"thread-swap-space"},{type:"default",icon:yn,text:z.formatMessage({defaultMessage:"Remove from Space",id:"2B71WoR6Sk"}),show:ot,onClick:i,testId:"thread-remove-from-space"},{type:"default",icon:Ja,text:z.formatMessage({defaultMessage:"Share thread with Space",id:"kynn3b03Sq"}),show:$e,onClick:Bt=>{Bt.preventDefault(),Ee()},testId:"thread-share-to-space"},{type:"default",icon:ey,text:z.formatMessage({defaultMessage:"Make thread private",id:"AIUSJMqN6C"}),show:tt,onClick:Bt=>{Bt.preventDefault(),st()},testId:"thread-make-private"},{type:"default",icon:XHe,text:z.formatMessage({defaultMessage:"Convert to Page",id:"IcFSSFTdA7"}),show:x,onClick:l,testId:"thread-article-create",disabled:v},{type:"default",icon:lce,text:z.formatMessage({defaultMessage:"Remove Expiration",id:"N4qHoBsI8d"}),show:Oe,onClick:j},{type:"default",icon:Ja,text:z.formatMessage({defaultMessage:"Save as file to Space",id:"L8nSm8m8qs"}),show:xe,onClick:()=>{!w||!I||(oe(!0),H("save thread to space clicked",{}),he(w,I))},testId:"thread-save-to-space"},{type:"default",icon:Id,text:z.formatMessage({defaultMessage:"Remove file from Space",id:"TjcTDl4lU+"}),show:Qe,onClick:async()=>{await pe(I??""),oe(!1)},testId:"remove-file-from-space"},{type:"default",icon:Th,text:z.formatMessage({defaultMessage:"Create task",id:"7X1tNR2pav"}),show:Ze,onClick:It,testId:"thread-create-task"},{type:"separator",show:($e||tt||x)&&!!w},{type:"default",icon:hce,text:$,show:!!w,onClick:()=>ge("pdf"),disabled:re,testId:"thread-export-pdf"},{type:"default",icon:kWe,text:G,show:!!w,onClick:()=>ge("md"),disabled:re,testId:"thread-export-md"},{type:"default",icon:eWe,text:K,show:!!w,onClick:()=>ge("docx"),disabled:re,testId:"thread-export-docx"},{type:"separator",show:at&&(we||x)},{type:"default",icon:Id,text:z.formatMessage({defaultMessage:"Delete",id:"K3r6DQW7h+"}),show:at,onClick:()=>ze(!0),testId:"thread-delete"}],[we,ot,Pe,at,v,re,x,l,w,z,$,G,K,ge,$e,Ee,tt,st,he,I,xe,pe,Qe,H,Ce,S,t,s,i,a,Oe,j,Ze,It]),Rt=d&&h&&ne,Xt=f.useCallback(()=>{U(!0),N?.()},[N]),Se=f.useCallback(()=>{U(!1),R?.()},[R]),ht=de?.user_permission&&R1(de.user_permission),ct=f.useMemo(()=>o.jsxs("div",{className:"flex min-h-10 flex-col justify-center",children:[o.jsxs("div",{className:"gap-x-sm group relative flex items-center justify-between py-0.5",children:[Rt&&o.jsx(Q,{className:"-inset-x-sm absolute -inset-y-0 rounded-lg opacity-0 transition-opacity duration-150 group-hover:opacity-100",variant:"offset"}),o.jsx(F,{variant:"small",className:"relative line-clamp-1",color:"light",children:E}),Rt&&c&&o.jsx(it,{size:"tiny",icon:uI,onClick:c,testId:"thread-rename",toolTip:z.formatMessage({defaultMessage:"Rename Thread",id:"4cT2c/aQya"}),extraCSS:"-mr-sm opacity-0 group-hover:opacity-100 transition-opacity duration-150"})]}),n&&!ht&&o.jsxs("div",{className:"gap-x-xs -mt-xs flex h-8 items-center",children:[o.jsx(HHe,{className:"text-textMain/35 size-4 shrink-0 -translate-y-0.5"}),o.jsx("div",{className:"shrink-0 scale-90",children:n.emoji?o.jsx(hf,{unified:n.emoji,size:"small"}):o.jsx(Ja,{size:16,className:"text-textMain/35 shrink-0 -translate-y-0.5"})}),o.jsx(F,{variant:"tinyRegular",color:"light",className:"line-clamp-1",children:n.title})]})]}),[Rt,E,c,z,n,ht]),mt=f.useMemo(()=>[{text:z.formatMessage({defaultMessage:"Nevermind",id:"64sfSNetr+"}),onClick:()=>ze(!1),testId:"thread-delete-nevermind"},{text:z.formatMessage({defaultMessage:"Confirm",id:"N2IrpMDHDB"}),variant:"rejected",onClick:()=>{ze(!1),r?.(I??"")},testId:"thread-delete-confirm"}],[z,r,I]),vt=f.useCallback(()=>ze(!1),[]);return!e||er?.every(Bt=>!Bt.show)?null:o.jsxs(o.Fragment,{children:[o.jsx("div",{className:b,children:o.jsx(Rn,{items:er,isMobileStyle:q,onOpen:Xt,onClose:Se,placement:"bottom-end",header:E?ct:void 0,children:o.jsx(it,{testId:"thread-dropdown-menu",size:O,icon:tf,extraCSS:W("",{"!text-text !bg-offsetPlus":V})})})}),o.jsx(WRe,{isOpen:Ge,onClose:vt,message:z.formatMessage({defaultMessage:"Delete thread",id:"2WxP2iMtPx"}),subtitle:z.formatMessage({defaultMessage:"Are you sure you want to delete this thread?",id:"9JVHvYsJ0s"}),actionList:mt}),o.jsx(Ag,{children:o.jsx(XB,{open:St,onClose:Jt,onSuccess:dt,prefill:ft,source:"thread_dropdown"})}),o.jsx($Re,{message:z.formatMessage({defaultMessage:"Created task",id:"sYXsMoH4Bc"}),isVisible:Et,onSettingsClick:an,onTimeout:zn,timeout:5,icon:Th})]})});Vz.displayName="ThreadOverflowDropdown";const sLe=L.memo(({isBookmarked:e,handleAddBookmark:t,handleRemoveBookmark:n})=>{const{$t:r}=ae();return o.jsx(it,{icon:e?Ace:rI,size:"small",testId:"article-bookmark-button",toolTip:r(e?{defaultMessage:"Bookmarked",id:"k0fraU5NBY"}:{defaultMessage:"Bookmark",id:"Rs4kCECwJ8"}),onClick:e?n:t})});sLe.displayName="BookmarkButton";var oj={},hie;function Y$t(){return hie||(hie=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="code-fork",r=448,s=512,a=[],i="e13b",l="M80 112a32 32 0 1 0 0-64 32 32 0 1 0 0 64zm80-32c0 35.8-23.5 66.1-56 76.3l0 35.7c0 22.1 17.9 40 40 40l160 0c22.1 0 40-17.9 40-40l0-35.7c-32.5-10.2-56-40.5-56-76.3c0-44.2 35.8-80 80-80s80 35.8 80 80c0 35.8-23.5 66.1-56 76.3l0 35.7c0 48.6-39.4 88-88 88l-56 0 0 75.7c32.5 10.2 56 40.5 56 76.3c0 44.2-35.8 80-80 80s-80-35.8-80-80c0-35.8 23.5-66.1 56-76.3l0-75.7-56 0c-48.6 0-88-39.4-88-88l0-35.7C23.5 146.1 0 115.8 0 80C0 35.8 35.8 0 80 0s80 35.8 80 80zm208 32a32 32 0 1 0 0-64 32 32 0 1 0 0 64zM256 432a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faCodeFork=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(oj)),oj}var K$t=Y$t(),lj={},mie;function Q$t(){return mie||(mie=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t="far",n="eye",r=576,s=512,a=[128065],i="f06e",l="M288 80c-65.2 0-118.8 29.6-159.9 67.7C89.6 183.5 63 226 49.4 256c13.6 30 40.2 72.5 78.6 108.3C169.2 402.4 222.8 432 288 432s118.8-29.6 159.9-67.7C486.4 328.5 513 286 526.6 256c-13.6-30-40.2-72.5-78.6-108.3C406.8 109.6 353.2 80 288 80zM95.4 112.6C142.5 68.8 207.2 32 288 32s145.5 36.8 192.6 80.6c46.8 43.5 78.1 95.4 93 131.1c3.3 7.9 3.3 16.7 0 24.6c-14.9 35.7-46.2 87.7-93 131.1C433.5 443.2 368.8 480 288 480s-145.5-36.8-192.6-80.6C48.6 356 17.3 304 2.5 268.3c-3.3-7.9-3.3-16.7 0-24.6C17.3 208 48.6 156 95.4 112.6zM288 336c44.2 0 80-35.8 80-80s-35.8-80-80-80c-.7 0-1.3 0-2 0c1.3 5.1 2 10.5 2 16c0 35.3-28.7 64-64 64c-5.5 0-10.9-.7-16-2c0 .7 0 1.3 0 2c0 44.2 35.8 80 80 80zm0-208a128 128 0 1 1 0 256 128 128 0 1 1 0-256z";e.definition={prefix:t,iconName:n,icon:[r,s,a,i,l]},e.faEye=e.definition,e.prefix=t,e.iconName=n,e.width=r,e.height=s,e.ligatures=a,e.unicode=i,e.svgPathData=l,e.aliases=a}(lj)),lj}var X$t=Q$t();const Z$t=e=>e&&(e.viewCount>0||e.forkCount>0),aLe=L.memo(({textVariant:e="small"})=>{const{socialStats:t,firstResult:n}=un(),{$t:r}=ae(),s=t&&t.viewCount>0,a=t&&t.forkCount>0;return!n?.backend_uuid||!s&&!a?null:o.jsxs(Q,{className:"gap-x-sm flex items-center",children:[s&&o.jsx(Mn,{tooltipText:r({defaultMessage:"Views",id:"akF0LyBDxT"}),tooltipLayout:"bottom",asChild:!0,children:o.jsxs(F,{variant:e,color:"light",className:"gap-x-xs flex items-center",children:[o.jsx(jt,{className:"-translate-y-px",size:"sm",icon:X$t.faEye}),o.jsx("span",{children:KA(t.viewCount)})]})}),a&&o.jsx(Mn,{tooltipText:r({defaultMessage:"Follow-ups Asked",id:"DDyRtVl03r"}),tooltipLayout:"bottom",asChild:!0,children:o.jsxs(F,{variant:e,color:"light",className:"gap-x-xs flex items-center",children:[o.jsx(jt,{className:"-translate-y-px",size:"sm",icon:K$t.faCodeFork}),o.jsx("span",{children:KA(t.forkCount)})]})})]})});aLe.displayName="ThreadSocialData";const J$t=()=>{const{$t:e}=ae();return[{name:"google_drive",title:b1,avatarSrc:k_},{name:"onedrive",title:w1,avatarSrc:T_},{name:"sharepoint",title:_1,avatarSrc:N_},{name:"web",title:"Web",icon:gx},{name:"scholar",title:e({defaultMessage:"Scholar",id:"vzzehe/j6l"}),icon:xw},{name:"social",title:e({defaultMessage:"Social",id:"qOLogguG/7"}),icon:Zle},{name:"edgar",title:qle,icon:Cce},{name:"wiley",title:JP,avatarSrc:M_},{name:"crunchbase",title:ZP,avatarSrc:XP},{name:"notion",title:nI,avatarSrc:tI},{name:"org",title:e({defaultMessage:"Org files",id:"iWDsD738/m"}),icon:mce},{name:"box",title:A_,avatarSrc:j_},{name:"factset",title:QP,avatarSrc:KP},{name:"gcal",title:J2,avatarSrc:E_},{name:"my_files",title:e({defaultMessage:"My files",id:"bYbrKKlKgS"}),icon:dce},{name:"dropbox",title:C1,avatarSrc:eI}]},iLe=L.memo(({sources:e})=>{const t=J$t(),n=3,r=e.slice(n).map(s=>t.find(i=>i.name===s)?.title).join(", ");return o.jsxs("div",{className:"flex items-center",children:[e.slice(0,n).map(s=>{const a=t.find(i=>i.name===s);return a?o.jsx(oLe,{imgSrc:a.avatarSrc,icon:a.icon,title:a.title},s):null}),e.length>n&&o.jsx(zz,{tooltipText:r,children:o.jsxs(F,{variant:"micro",color:"light",className:"flex size-4 cursor-default items-center justify-center",children:["+",e.length-n]})})]})});iLe.displayName="ThreadSourcesList";const zz=L.memo(({children:e,tooltipText:t})=>o.jsx(Mn,{tooltipText:t,asChild:!0,tooltipLayout:"bottom",children:o.jsx(Q,{variant:"offset",className:"-ml-xs !ring-background dark:ring-backgroundDark relative aspect-square shrink-0 rounded-full p-0.5 ring-[1.5px] first:ml-0",children:e})}));zz.displayName="SourceIconWrapper";const oLe=L.memo(({imgSrc:e,icon:t,title:n})=>o.jsx(zz,{tooltipText:n,children:t?o.jsx(Ne,{icon:t,className:"text-text-200 size-4"}):o.jsx("img",{src:e,alt:n,className:"size-4 rounded-full object-cover"})}));oLe.displayName="SourceIcon";const lLe=L.memo(({authorUsername:e,threadAccess:t,authorImage:n,authorId:r,isIncognitoThread:s,collection:a})=>{const i=Ct(),l=!e&&!i&&!s,[c,u]=f.useState(!1),d=Fa({reason:"thread-context"}),[h,m]=f.useState(!1),{inFlight:g,firstResult:{expiry_time:v,updated_datetime:x}={}}=un(),b=!l,w=a?.user_permission&&R1(a.user_permission),C=v&&P5(v)&&!s&&!a&&!h,{$t:S}=ae(),k=d&&status===Zs.PENDING?void 0:n,E=f.useCallback(()=>u(!0),[]),T=f.useMemo(()=>o.jsx(cLe,{authorUsername:e,authorId:r,updatedTimestamp:x??"",expiryTimestamp:v??"",threadAccess:t,isAnon:l,isIncognitoThread:s,isInFlight:g,setHasRemovedExpiration:m,hasRemovedExpiration:h}),[r,e,v,g,l,s,t,x,h]),j=f.useCallback(()=>{u(!1)},[]);return o.jsxs("div",{className:"gap-sm flex min-w-0 items-center",children:[b&&o.jsx(lo,{onOpen:E,onClose:j,content:T,placement:"bottom-start",childrenClassName:"inline-flex pb-xs -mb-xs",children:o.jsxs("div",{className:"group relative flex cursor-pointer items-center gap-0.5",children:[o.jsx(Q,{variant:"transparent",className:W("group-hover:!bg-background-300 absolute -inset-[3px] rounded-full duration-150",{"!bg-background-300":c})}),o.jsxs("div",{className:"relative isolate flex items-center gap-0",children:[o.jsx(sr,{user:k??void 0,size:"small",className:"relative z-10 [&>*]:size-6"}),C&&o.jsx(Q,{variant:c?"offsetPlus":"background",className:W("group-hover:bg-background-300 absolute bottom-1.5 right-0 z-20 flex shrink-0 translate-x-1/2 translate-y-1/2 items-center justify-center rounded-full p-[0.5px] duration-150"),children:o.jsx(GRe,{size:16,className:"text-text-200 relative"})})]}),!C&&o.jsx(Ia,{className:W("group-hover:text-text-200 relative size-3 transition-all duration-150",{"text-text-200":c,"text-textMain/35":!c})})]})}),a&&!w&&o.jsx(Mn,{tooltipText:S({defaultMessage:"Part of the {collectionTitle} Space",id:"eNL1YKIijb"},{collectionTitle:a.title}),asChild:!0,children:o.jsx(Nt,{href:`/spaces/${a.slug}`,className:"inline-flex",children:o.jsxs(Q,{variant:"background",bgHover:"offset",className:W("pr-sm hover:ring-offset-background-200 ring-offset-background-100 ring-background-200 gap-xs @[1100px]/main:max-w-[80px] @[1200px]/main:max-w-[160px] relative z-20 flex h-6 max-w-[80px] shrink-0 items-center justify-center rounded-full ring-[1px] ring-offset-1",{"pl-0.5":a.emoji,"pl-sm":!a.emoji}),children:[o.jsx(Q,{className:"flex size-5 items-center justify-center rounded-full",variant:a.emoji?"transparent":"offset",children:a.emoji?o.jsx(hf,{unified:a.emoji,size:"tiny"}):o.jsx(Ja,{size:12,className:"text-text-200 relative"})}),o.jsx(F,{variant:"tiny",color:"light",className:"min-w-0 flex-1 truncate",children:a.title})]})})})]})});lLe.displayName="ThreadContext";const cLe=L.memo(({authorUsername:e,authorId:t,updatedTimestamp:n,expiryTimestamp:r,threadAccess:s,isAnon:a,isIncognitoThread:i,isInFlight:l,setHasRemovedExpiration:c,hasRemovedExpiration:u})=>{const{locale:d}=ae(),h=on(),{socialStats:m,firstResult:{sources:g,backend_uuid:v}={sources:[],backend_uuid:""}}=un(),x=fm(),b=n.endsWith("Z")?n:`${n}Z`,w=r.endsWith("Z")?r:`${r}Z`,C=new Date(b),S=C.toLocaleDateString(d,{year:"numeric",month:"long",day:"numeric"}),k=C.toLocaleString(d,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}),E=w?new Date(w).toLocaleString(d,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}):"",T=ae(),j=new Date(w),N=PC(T,j,{style:"short",numeric:"auto"}),R=UF(C),O=t===h?.user?.id,{$t:I}=ae(),B=g?.sources,D=B&&B.length>0&&!(B.length===1&&B[0]==="web"),z=f.useMemo(()=>o.jsx(Mn,{tooltipText:E,tooltipLayout:"bottom",children:N}),[E,N]),V=f.useCallback(()=>{v&&(CC(v),c(!0))},[v,c]),U=f.useMemo(()=>({delayDuration:0,arrowClassName:" ",offset:4}),[]),H=KRe();return o.jsxs("div",{className:"flex flex-col divide-y",children:[i&&o.jsx(dd,{children:o.jsxs(F,{variant:"tinyRegular",color:"light",className:"gap-xs flex items-center",children:[o.jsx("div",{className:"inline-flex opacity-70",children:o.jsx(mf,{size:"tiny",inverse:!0})}),I({defaultMessage:"Incognito Thread",id:"0iMI59SVV3"})]})}),r&&P5(r)&&!u&&!i&&o.jsxs(dd,{children:[o.jsxs(F,{variant:"tiny",className:"flex items-center gap-0.5",children:[I({defaultMessage:"Temporary Thread",id:"YuuBvz04y+"}),o.jsx(Mn,{tooltipText:H,tooltipLayout:"right",asChild:!0,delayDuration:0,children:o.jsx("span",{children:o.jsx(Ne,{icon:vWe,size:"2xs",className:"text-text-200 opacity-60 duration-150 hover:opacity-100"})})})]}),!x&&o.jsx(it,{size:"tiny",onClick:V,icon:lce,pill:!0,extraCSS:"-mr-xs",toolTip:I({defaultMessage:"Remove Expiration",id:"N4qHoBsI8d"}),tooltipLayout:"right",tooltipProps:U})]}),!i&&e&&o.jsx(dd,{leading:I({defaultMessage:"Created by",id:"p4mBmLaKhc"}),trailing:O?I({defaultMessage:"{author} (You)",id:"QbgjmmII2s"},{author:e}):e}),r&&P5(r)?o.jsx(dd,{leading:I({defaultMessage:"Expires",id:"xhQMeQjkbK"}),trailing:z}):o.jsx(dd,{leading:I({defaultMessage:"Last Updated",id:"EeRwjEG9ge"}),trailing:P5(n)?o.jsx(Mn,{tooltipText:k,tooltipLayout:"bottom",children:R?I({defaultMessage:"Today",id:"zWgbGgjUUg"}):S}):l?I({defaultMessage:"Just now",id:"bxv59Vvssz"}):"-"}),D&&o.jsx(dd,{leading:I({defaultMessage:"{n, plural, one {Source} other {Sources}}",id:"Qe5RCQLzVg"},{n:B.length}),children:o.jsx(F,{variant:"tinyRegular",children:o.jsx(iLe,{sources:B})})}),!a&&Wlt(s??0)&&!i&&Z$t(m)&&o.jsx(dd,{children:o.jsx(aLe,{textVariant:"tiny"})})]})});cLe.displayName="InfoMenu";const dd=L.memo(({leading:e,trailing:t,children:n})=>o.jsxs(Q,{className:"mx-sm group/row flex h-8 items-center justify-between gap-[12px]",children:[e&&o.jsx(F,{variant:"tinyRegular",color:"light",children:e}),n,t&&o.jsx(F,{variant:"tiny",className:"text-right",children:t})]}));dd.displayName="InfoMenuRow";const uLe=L.memo(({descriptionText:e,shareHref:t,isShareable:n,onlyOrgSharable:r,onlySpaceSharable:s,maybeContextUUID:a,hasMounted:i,icon:l})=>{const{$t:c}=ae(),u="hidden md:block",d="block md:hidden",{trackEvent:h}=um(),g=wn()?.get("open-share"),v=f.useCallback(()=>{document.hasFocus&&(navigator.clipboard.writeText(i?Ww(decodeURIComponent(t)):""),h("click copy link button",{contextUUID:a,source:"shareThread"}))},[i,t,h,a]),x=f.useCallback(()=>{navigator.share({text:`${e} ${i?Ww(decodeURIComponent(t)):""}`,title:"Perplexity AI"}),h("click mobile native share button",{})},[t,e,i,h]);return f.useEffect(()=>{i&&n&&!g&&v()},[i,n,v,g]),!i||!n?null:o.jsxs("div",{children:[o.jsx("div",{className:"mt-sm",children:o.jsxs(F,{variant:"tiny",color:"super",className:"flex",children:[o.jsx(Ne,{icon:oce,className:"mr-xs",size:"xs"}),o.jsx("span",{children:c({defaultMessage:"Link copied. Paste to share",id:"pFRfr79EJO"})})]})}),o.jsxs("div",{className:u,children:[o.jsx(F,{variant:"baseSemi",className:"mb-sm mt-md",children:c(r?{defaultMessage:"Share this link within your Organization",id:"kjiOOzdX3d"}:s?{defaultMessage:"Share this link within your Space",id:"zAEbvlplsJ"}:{defaultMessage:"Share",id:"OKhRC6eWRw"})}),o.jsx(Le,{size:"small",fullWidth:!0,onClick:v,text:c({defaultMessage:"Copy Link",id:"u5aHb4gcxX"}),icon:hx,clickFeedback:!0,testId:"copy-link-button"})]}),o.jsx("div",{className:d,children:o.jsx("div",{className:"mt-md",children:o.jsx(Le,{variant:"primary",fullWidth:!0,text:c({defaultMessage:"Share",id:"OKhRC6eWRw"}),target:"_blank",icon:l,onClick:x})})})]})});uLe.displayName="SocialShareLinks";const eqt=({reason:e})=>{const{$t:t}=ae(),n=Ct(),{firstResult:{context_uuid:r,thread_access:s=$le,collection_info:{slug:a}={}}={}}=un(),{isEnterprise:i}=Bn({reason:e}),{openVisitorLoginUpsell:l}=Br({enabled:!n}),c=mo(),{handleAccessChange:u,isShareable:d}=hF({threadAccess:s,contextUUID:r,rwToken:c,collectionSlug:a,reason:e}),h=f.useCallback(x=>{x!==s&&(n?r&&c&&u(x):l({title:t({defaultMessage:"Sign in to save private {threads}",id:"Rf9T7Whe3t"},{threads:"Threads"}),origin:gt.SHARE_DROPDOWN,sheetModalVariant:"bottom-sheet-gradient"}))},[s,n,r,c,l,t,u]),m=f.useCallback(()=>{i||s===At.PRIVATE_READ&&n&&h(At.PUBLIC_READ)},[i,s,n,h]),{accessLevelMenuItems:g,selectedAccessMenuItem:v}=xme({currentAccessLevel:s,onClick:h,isCollection:!1,isPage:!1,reason:e});return f.useMemo(()=>({rwToken:c,thread_access:s,handleShareDropdownClick:m,accessLevelMenuItems:g,selectedAccessMenuItem:v,isThreadSharable:d,context_uuid:r}),[g,r,m,d,c,v,s])},dLe=L.memo(({shareHref:e,shareSource:t,hasMounted:n,maybeContextUUID:r,onClick:s,...a})=>{const{$t:i}=ae(),{trackEvent:l}=um(),{openToast:c}=Sr(),u=f.useCallback(()=>{s?.(),c(i({defaultMessage:"Link copied. Paste to share",id:"pFRfr79EJO"}),"success",3),navigator.clipboard.writeText(n?Ww(decodeURIComponent(e)):""),l("click copy link button",{contextUUID:r,source:t||"copyLinkButton"})},[n,e,t,l,r,s,c,i]);return o.jsx(Le,{clickFeedback:!0,size:"small",onClick:u,toolTip:i({defaultMessage:"Copy link",id:"lbr3Lq2Lnm"}),tooltipLayout:"bottom",icon:hx,variant:"primary",testId:"copy-link-button",...a})});dLe.displayName="CopyLinkButton";const fLe=L.memo(({hasMounted:e,shareHref:t,EditorDropDownContent:n,onClick:r,maybeContextUUID:s,size:a="small",showCopyLinkButton:i=!0,contentWidth:l,isOpen:c,onClose:u})=>{const{$t:d}=ae(),{isMobileStyle:h}=qe(),{isMacOS:m}=sn(),v=wn()?.get("open-share"),[x,b]=f.useState(!1),w=c!==void 0,C=w?c:x;f.useEffect(()=>{v&&(r?.(),b(!0),Fx({}))},[v,r]);const S=f.useCallback(()=>{r?.(),w||b(T=>!T)},[r,w]),k=f.useCallback(()=>{u?.(),w||b(!1)},[w,u]),E=f.useCallback(T=>{(m?T.metaKey&&T.shiftKey&&T.key==="c":T.ctrlKey&&T.shiftKey&&T.key==="c")&&(T.preventDefault(),S())},[m,S]);return f.useEffect(()=>(document.addEventListener("keydown",E),()=>{document.removeEventListener("keydown",E)}),[E]),e?o.jsxs("div",{className:"gap-x-sm flex items-center",children:[!h&&i&&o.jsx(dLe,{shareHref:t,hasMounted:e,maybeContextUUID:s,onClick:r}),o.jsx(rU,{content:n,placement:"bottom-end",contentWidth:l,isMobileStyle:h,isOpen:C,onClose:k,children:h?o.jsx(it,{onClick:S,variant:"common",size:a,icon:bw,extraCSS:"-ml-sm",testId:"share-button"}):o.jsx(Le,{onClick:S,variant:"primary",size:a,text:d({defaultMessage:"Share",id:"OKhRC6eWRw"}),icon:bw,testId:"share-button"})})]}):null});fLe.displayName="ShareDropdown";const tqt=L.memo(({descriptionText:e,sharableURL:t})=>{const n="share-thread-dropdown",{$t:r}=ae(),s=ii(),{rwToken:a,thread_access:i,handleShareDropdownClick:l,accessLevelMenuItems:c,selectedAccessMenuItem:u,isThreadSharable:d,context_uuid:h}=eqt({reason:n}),m=o.jsxs("div",{className:"p-sm gap-sm flex flex-col",children:[a!=null&&o.jsxs("div",{children:[o.jsx(F,{variant:"baseSemi",children:r({defaultMessage:"Share this Thread",id:"WMdsw58EMp"})}),o.jsx(Bz,{choices:c})]}),o.jsx(uLe,{descriptionText:e,shareHref:t,isShareable:d,onlyOrgSharable:i===At.ORG_READ,onlySpaceSharable:i===At.COLLECTION_READ,maybeContextUUID:h,hasMounted:s,icon:u?.icon})]});return o.jsx(fLe,{hasMounted:s,shareHref:t,EditorDropDownContent:m,icon:u?.icon,onClick:l,maybeContextUUID:h,showCopyLinkButton:!1})}),nqt=f.memo(({visible:e,tweetDescriptionText:t,threadSharedSlug:n,urlSearchParams:r})=>{const s=ii(),[a,i]=f.useState("");f.useEffect(()=>{if(typeof window>"u")return;const{protocol:d,host:h}=window.location,m=`${d}//${h}/search/${n}?${r?.toString()}`;i(m)},[n,r]);const l=f.useMemo(()=>encodeURIComponent(s?Ww(decodeURIComponent(a)):""),[a,s]),c=f.useMemo(()=>t!=null?`Perplexity AI: ${t}`:"Perplexity AI",[t]),u=f.useMemo(()=>W("transition-all duration-300 opacity flex items-center gap-x-xs md:gap-x-0",{"opacity-0":!e,"opacity-100":e}),[e]);return o.jsx("div",{className:u,children:e&&o.jsx(tqt,{descriptionText:c,sharableURL:l})})}),hLe=L.memo(({isOpen:e,onClose:t,onSave:n,defaultTitle:r})=>{const{$t:s}=ae(),[a,i]=f.useState(r??""),l=f.useCallback(()=>{n(a),t()},[a,t,n]),c=f.useRef(null),u=v=>{i(v)},d=v=>{v.key==="Enter"&&l()},h=f.useMemo(()=>[{text:s({defaultMessage:"Save",id:"jvo0vs3nF0"}),variant:"primary",onClick:l,testId:"thread-rename-save"}],[s,l]),{isMobileUserAgent:m,isMobileStyle:g}=qe();return o.jsx(Sn,{isOpen:e,title:s({defaultMessage:"Edit Thread Title",id:"lv9nkrxVPt"}),onClose:t,actionList:h,children:o.jsx(ZV,{size:"large",inputRef:c,children:o.jsx(JV,{isMobileUserAgent:m,isMobileStyle:g,placeholder:s({defaultMessage:"What's your Thread about?",id:"bq3jzjDvHH"}),value:a,onChange:u,autoFocus:!0,onKeyDown:d,ref:c,testId:"thread-rename-input"})})})});hLe.displayName="ThreadTitleEditModal";const mLe=L.memo(()=>{const e="thread-header-v2",{$t:t}=ae(),[n,r]=f.useState(!1),s=f.useRef(void 0),a=Qt(),i=ii(),l=Ct(),{firstResult:{backend_uuid:c,status:u,frontend_context_uuid:d,collection_info:h,query_str:m,context_uuid:g,privacy_state:v,bookmark_state:x,thread_access:b,thread_title:w,author_username:C,author_image:S,author_id:k,thread_url_slug:E,expiry_time:T}={},inFlight:j}=un(),N=u===Zs.PENDING,R=on(),{collections:O}=WC({autoFetch:!N,reason:e}),I=mo(),{deleteThread:B}=e8({reason:e}),{openModal:D,closeModal:z}=Gt(),{openVisitorLoginUpsell:V}=Br({enabled:!l}),{removeThreadFromCollection:U,swapThreadCollection:H,firstTimeBookmark:q}=Lg({reason:e}),$=fRt(),{openAddToCollectionModal:G}=qRe({entryUUID:c,frontendContextUUID:d,existingCollection:h,existingFirstThreadQuery:m,filterOnSearchTerm:!0,reason:e}),K=oV(),{handleCreateNewSpaceForThread:ee}=iV(),{trackEvent:oe}=Ye(),{allowArticleCreation:ne}=Ua({reason:e}),{isMobileStyle:te}=qe(),re=v===iy.INCOGNITO,X=x==="BOOKMARKED",{handleAppDownloadClicked:ce}=Ex("mobile-header"),{mwebUpsellWhatsApp:se,loadingMwebUpsellWhatsApp:J}=Tx(),de=kx({origin:"mobile-header"}),ie=wn(),[he,pe]=f.useState(w??m??""),ge=!N&&!re&&c!=null;xme({currentAccessLevel:b??$le,onClick:Yn,isCollection:!1,isPage:!1,reason:e}),!N&&h!==void 0&&(s.current=h);const Ce=N?s.current:h;f.useEffect(()=>{he===""&&pe(w??m??"")},[w,m,he]);const we=f.useCallback(()=>{c&&(oe("delete thread from search result page click",{entryUUID:c}),B({entryUUID:c,callback:()=>a.push("/",void 0,"Delete thread")}))},[B,c,a,oe]),Pe=f.useCallback(()=>{if(!l){V({title:t({defaultMessage:"Sign in to bookmark your answers for later",id:"17vuOGPSKO"}),origin:gt.THREAD_BOOKMARK_BUTTON,sheetModalVariant:"bottom-sheet-gradient"});return}if(X||!c)return;g&&oe("click add thread to space",{contextUUID:g,isBookmark:!0});const Rt=O.find(Xt=>R1(Xt.user_permission));Rt===void 0?q({entryUUID:c,frontendContextUUID:d}):H({entryUUID:c,newCollectionTitle:Rt.title,newCollectionUUID:Rt.uuid,newCollectionSlug:Rt.slug,newCollectionAccess:Rt.access,frontendContextUUID:d,newCollectionEmoji:Rt.emoji??null,currentCollectionUUID:null,existingCollectionSlug:null,closeModal:Yn,callback:()=>{$()},newCollectionUserPermission:Rt.user_permission})},[l,X,c,oe,g,O,V,t,q,d,H,$]),ot=f.useCallback(Rt=>{if(Rt==="add"&&g)oe("click add thread to space",{contextUUID:g,isBookmark:!1});else{if(!d){le.error("[ThreadHeader] frontendContextUUID is undefined");return}if(!c){le.warn("[ThreadHeader] backend_uuid is undefined");return}K?ee(c,d):D("collectionSelectModal",{entryUUID:c,currentCollection:Ce??null,searchTerm:m,frontendContextUUID:d})}g&&oe("click swap thread space",{contextUUID:g,isFromBookmark:Ce?R1(Ce.user_permission):!1,collectionUUID:Ce?.uuid}),l?G():V({title:t({defaultMessage:"Sign in to bookmark your answers for later",id:"17vuOGPSKO"}),origin:gt.COLLECTIONS,sheetModalVariant:"bottom-sheet-gradient"})},[oe,c,Ce,l,D,t,G,V,g,m,d,K,ee]),Be=f.useCallback(()=>{if(!l)D("loginModal",{pitchMessage:{title:t({defaultMessage:"Sign in to create a {page}",id:"MsQ6yWbdOY"},{page:"Page"})},origin:gt.THREAD_TO_ARTICLE});else{r(!0);const Rt=ri();g&&oe("click convert thread to page",{oldContextUUID:g,newFrontendContextUUID:Rt});const Xt=new URLSearchParams({newFrontendContextUUID:Rt,existingResultsCacheUUID:d??"",existingContextBackendUUID:g??"",existingBackendUUID:c??"",...Ce&&{collectionSlug:Ce.slug}}),Se=new URL(window.location.href);Se.pathname="page/new",Se.search=Xt.toString();const ht=Se.toString();a.push(ht)}},[l,D,t,g,d,c,Ce,a,oe]),[Ee,st]=f.useState(!1),et=f.useCallback(Rt=>{const Xt=Ce?.uuid;if(!g||!c){le.error("[ThreadHeader] missing frontendContextUUID or entryUUID");return}if(!Xt){le.warn("[ThreadHeader] oldCollectionUUID is undefined");return}if(!h?.uuid){le.warn("[ThreadHeader] collectionUUID is undefined");return}oe("click remove thread from space",{contextUUID:g,collectionUUID:Xt,isBookmark:Rt==="remove bookmark"}),U({entryUUID:c,oldCollectionUUID:Xt,callback:()=>{z(),$()},frontendContextUUID:d})},[c,z,h?.uuid,g,Ce?.uuid,d,$,U,oe]),$e=mme,tt=f.useCallback((Rt,Xt)=>{if(!Rt||Rt===hd){le.warn("Empty title callback.");return}if(!g){le.warn("No thread UUID found.");return}if(!I){le.warn("No write token found.");return}$e({contextUUID:g,title:Rt,rwToken:I,callback:Xt,reason:e})},[g,I,$e]),at=ne&&!te&&!N&&!re,xe=!N&&!re&&i,Oe=te&&!N,Qe=f.useCallback(Rt=>{tt(Rt,()=>{st(!1),pe(Rt)})},[tt]),Ge=f.useCallback(()=>{window.document.body.click(),st(!0)},[]),ze=f.useCallback(()=>{a.push("/",void 0,"New thread button")},[a]),Ze=f.useCallback(()=>ot("add"),[ot]),St=f.useCallback(()=>ot("swap"),[ot]),It=f.useCallback(()=>et("remove"),[et]),Jt=f.useCallback(()=>et("remove bookmark"),[et]),{viewTitle:dt}=T8(),{isSidebarPinned:ft}=On(),Et=11,an=f.useCallback(()=>{if(se){de();return}oe("clicked open in app button in mweb thread header",{}),ce()},[ce,de,se,oe]),zn=f.useCallback(()=>{c&&CC(c)},[c]),er=f.useCallback(()=>st(!1),[]);return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:W("h-headerHeight bg-background-100 pointer-events-none absolute left-0 top-0 z-10 duration-150 md:mb-0 md:rounded-t-xl md:bg-transparent",{"max-[1224px]:md:bg-background-100":ft,"max-[970px]:md:bg-background-100":!ft}),style:{right:te?0:Et},children:o.jsxs("div",{className:"gap-x-md px-md py-sm flex h-full items-center justify-between",children:[o.jsxs("div",{className:"pointer-events-auto relative flex items-center",children:[o.jsx("div",{className:"-inset-xs absolute hidden rounded-lg backdrop-blur-sm md:block",children:o.jsx(Q,{className:"rounded-inherit absolute inset-0 opacity-85",variant:"background"})}),te?o.jsxs("div",{className:"gap-x-sm flex items-center",children:[o.jsx(jD,{className:"-ml-sm"}),o.jsx(Le,{variant:"common",size:"small",icon:$r,text:t({defaultMessage:"New",id:"bW7B87wFFp"}),onClick:ze})]}):o.jsx(lLe,{authorUsername:C??null,threadAccess:b??0,authorImage:S??(l&&j?R?.user?.image??null:null),authorId:k??"",isIncognitoThread:re,collection:Ce??null,privacyState:v})]}),dt&&o.jsx("div",{className:W("fade-in animate-in hidden min-w-0 flex-1 duration-150 md:block",{"@[900px]/main:md:hidden":!Ce,"@[1056px]/main:md:hidden":!!Ce}),children:o.jsx(F,{className:"truncate whitespace-nowrap",variant:"baseSemi",children:dt})}),o.jsxs("div",{className:"gap-x-sm pointer-events-auto relative flex items-center",style:{marginRight:te?0:-11},children:[o.jsx("div",{className:"-inset-xs absolute hidden rounded-lg backdrop-blur-sm md:block",children:o.jsx(Q,{className:"rounded-inherit absolute inset-0 opacity-85",variant:"background"})}),o.jsxs("div",{className:"relative flex items-center",onClick:Rt=>Rt.stopPropagation(),children:[o.jsx(Vz,{title:he,show:i&&!N,isBookmarked:X,onDelete:we,onAddToSpace:Ze,onSwapSpace:St,onRemoveFromSpace:It,currentSpace:Ce??null,onConvertToArticle:Be,onRename:Ge,isConverting:n,showConvertThreadToArticle:at,rwToken:I,contextUUID:g,threadAccess:b,collectionSlug:Ce?.slug,type:re?xu.INCOGNITO_SEARCH:xu.SEARCH,firstResultBackendUUID:ge?c:void 0,onBookmark:X?Jt:Pe,showBookmarkButton:xe,onRemoveExpiration:zn,expiry:T,threadId:E??"",isIncognitoThread:re}),xe&&!te&&o.jsx(sLe,{isBookmarked:X,handleAddBookmark:Pe,handleRemoveBookmark:Jt})]}),!re&&!N&&o.jsx(nqt,{visible:!!E,tweetDescriptionText:w||m,threadSharedSlug:E??void 0,urlSearchParams:ie}),Oe&&!J&&o.jsx(Ud,{isSamsungBrowser:!0,isComet:!0,children:o.jsx("div",{className:"animate-in fade-in duration-300",children:o.jsx(Le,{size:"small",variant:"primary",text:t(se?{defaultMessage:"Ask in WhatsApp",id:"8QxwIbOYLa"}:{defaultMessage:"Open in App",id:"fo3x6hDxdZ"}),onClick:an})})})]})]})}),Ee&&o.jsx(hLe,{isOpen:Ee,onClose:er,onSave:Qe,defaultTitle:he})]})});mLe.displayName="ThreadHeaderV2";const pLe=L.memo(({children:e,className:t,innerClassName:n})=>o.jsx("div",{className:W("px-md md:px-lg",t),children:o.jsx("div",{className:W("max-w-threadContentWidth mx-auto",n),children:e})}));pLe.displayName="ThreadSectionWrapper";const rqt=De(async()=>({default:(await Me(()=>import("./search-loading-component-BpD5sQG_.js"),__vite__mapDeps([128,1,3]))).SearchLoadingComponent})),sqt=L.memo(()=>o.jsx(Uz,{})),QO=L.memo(e=>{const t=ln();return o.jsx(oi,{fallback:sqt,code:"SOMETHING_WENT_WRONG_ERROR",children:o.jsx(AU,{modules:cFt,children:o.jsx(FAe,{children:o.jsx(VAe,{children:o.jsxs(BHt,{children:[o.jsxs(DAe,{children:[o.jsx(mLe,{}),o.jsx("div",{className:"erp-sidecar:h-fit erp-sidecar:pb-0 mx-auto h-full",children:o.jsxs(Q,{variant:"background",className:"relative",children:[o.jsx(pLe,{children:o.jsx(HRe,{})}),o.jsx(zRe,{...e})]})})]}),o.jsx(zAe,{},t)]})})})})})});QO.displayName="SearchContent";function aqt(e){const t=llt(),{actions:{setCurrentThreadId:n}}=un(),r=alt(),s=ilt(),{data:a}=Ft({queryKey:["storedResults"],queryFn:()=>Ez(),refetchOnMount:!0});f.useEffect(()=>{if(e.entries){e.entries.forEach(c=>{c.reconnectable&&!s(c.backend_uuid)&&r(c.backend_uuid)});const l=e.entries[0]?.context_uuid??qr();n(l),t(e.entries)}},[r,e.entries,t,n,s]);const i=f.useMemo(()=>{if(e.entries?.length)return e.entries;if(e.placeholderResults?.length)return e.placeholderResults;if(e.slugOrUUID){const l=a?.find(kz(e.slugOrUUID));if(l)return[l]}return Fe},[e.placeholderResults,e.slugOrUUID,e.entries,a]);return f.useMemo(()=>({placeholderResults:i}),[i])}const gLe=L.memo(e=>{const t=pr(),{placeholderResults:n}=aqt(e);return!n?.length&&e.skipLoadingUI!==!0?t?null:o.jsx(rqt,{slugOrUUID:e.slugOrUUID}):t?o.jsx(QO,{...e,placeholderResults:n}):o.jsxs(o.Fragment,{children:[o.jsx(zC,{childrenWidth:"none",children:o.jsx(QO,{...e,placeholderResults:n})}),o.jsx(lV,{})]})});gLe.displayName="SearchPage";const iqt=De(async()=>({default:(await Me(()=>import("./search-loading-component-BpD5sQG_.js"),__vite__mapDeps([128,1,3]))).SearchLoadingComponent}));function oqt({active:e,query:t,copilot:n,source:r,streamId:s}){const a=f.useMemo(()=>t&&e?[jot({query_str:t,frontend_uuid:s,query_source:r??"default_search",mode:n==="true"?"COPILOT":"CONCISE"})]:Fe,[t,e,s,r,n]);return f.useMemo(()=>e?{hasFrontendUUID:!!s,placeholderResults:a}:void 0,[e,a,s])}function lqt({active:e,frontendUUID:t}){const r=ho().getState().streams,a=(e?r[t]:void 0)?.placeholderChunk,i=f.useMemo(()=>a?[a]:void 0,[a]);return f.useMemo(()=>e?{skipLoadingUI:!0,placeholderResults:i}:void 0,[e,i])}function cqt({active:e,slugOrUUID:t}){const n="search-components",r=Qt(),s=f.useMemo(()=>kz(t),[t]),i=ho().getState().entries,l=e?Object.values(i).find(h=>h?.thread_url_slug===t||h?.backend_uuid===t):void 0,{data:c,error:u}=PHt({slugOrUUID:t,enabled:!l&&e,reason:n});f.useEffect(()=>{c?.[0]&&OAe(c[0])},[c]);const d=f.useMemo(()=>c?.length?c:l?[l]:Fe,[c,l]);return f.useEffect(()=>{if(u){const h=Ez();if(h.find(s)){const g=h.filter(v=>!s(v));$O(g)}let m=null;u?.cause&&typeof u?.cause=="object"&&"error_code"in u.cause&&(u.cause.error_code===TX?(m=bh.ThreadAccessNotAllowed,le.error(TX,{error:u,slugOrUUID:t})):u.cause.error_code===lct?(m=bh.ThreadExpired,le.error(u?.message,{error:u,slugOrUUID:t})):(m=bh.InvalidThread,le.error(u?.message,{error:u,slugOrUUID:t})),r.replace(`/?error=${m}&id=${t}`,"Search error"))}},[u,t,s,r]),f.useMemo(()=>e?{entries:d,slugOrUUID:t,hasError:!!u}:void 0,[e,d,u,t])}function uqt(){const{actions:{clearCurrentStreamId:e,clearCurrentThreadId:t}}=un(),n=typeof window<"u",r=nc(),s=!!(r?.new&&r?.uuid&&n),a=!!(r?.new&&!r?.uuid&&n),i=!!(!r?.new&&r?.uuid&&n),l=n?new URLSearchParams(window.location.search):null,c=l?.get("q")??void 0,u=l?.get("copilot")??void 0,d=l?.get("source")??void 0,h=l?.get(LHt),m=f.useMemo(()=>h??qr(),[h]),g=lqt({active:s,frontendUUID:r?.uuid??""}),v=oqt({active:a,query:c,copilot:u,streamId:m,source:d}),x=cqt({active:i,slugOrUUID:r?.uuid??""});return f.useEffect(()=>()=>{e(),t()},[e,t]),f.useLayoutEffect(()=>{v?.hasFrontendUUID&&(e(),t())},[e,t,v?.hasFrontendUUID]),DHt(a,m,"new-query-search-components"),f.useMemo(()=>{if(s){const b=r?.uuid;if(!b||!Nie(b))return{component:o.jsx(uh,{to:"/"})}}else if(a){if(!c||c==="pending")return{component:o.jsx(uh,{to:"/"})}}else if(i){const b=r?.uuid;if(!b||b==="undefined")return{component:o.jsx(uh,{to:"/"})};if(x?.hasError)return null}else return n?{component:o.jsx(uh,{to:c?`/search/new${window.location.search}`:"/"})}:{component:o.jsx(iqt,{})};return{props:{...g,...v,...x}}},[n,x,i,v,a,g,s,r?.uuid,c])}const vLe=L.memo(()=>{const e=uqt();return e?"component"in e?e.component:o.jsx(gLe,{...e.props}):null});vLe.displayName="SearchComponents";const dqt=e=>{const t=/\[([^\]]+)\]\(pplx:\/\/action\/followup\)/g;return e.replace(t,"$1")};var pie={};const W2="Perplexity",fqt="",hqt=80,mqt=160,XO="Perplexity is a free AI-powered answer engine that provides accurate, trusted, and real-time answers to any question.";function pqt(e){if(!e)return null;try{return new Date(e).toISOString().slice(0,10)}catch{return null}}const gqt=({firstResult:e,query:t,slug:n,userAgent:r})=>{if(r?dx(r):!1)return s2({title:W2,index:!1,userAgent:r});if(!e)return cj({result:"no_result",slug:n,userAgent:r}),s2({index:!1,title:t?Wd(t).actualQuery||t:void 0,userAgent:r});const a=An.parseAskTextField(e);if(!a)return cj({result:"bad_parse",slug:n,userAgent:r}),s2({index:!1,userAgent:r});const i=vqt(e);cj({result:"url_served",slug:n,userAgent:r,imageURL:i});let l=W2,c;if(jpe(e)&&e.article_info?.title?(l=e.article_info.title,e?.article_info?.read_time,c=e?.author_username):e.thread_title&&e.thread_title!==fqt?l=e.thread_title:e.query_str&&(l=e.query_str),l){const{actualQuery:m}=Wd(l);l=m||l,l=$w(l,hqt)}const u=a.answer?$w(a.answer,mqt):XO,d=e?.thread_url_slug?e?.mode?.toLowerCase()=="article"?`https://www.perplexity.ai/page/${e.thread_url_slug}`:`https://www.perplexity.ai/search/${e.thread_url_slug}`:void 0,h=dqt(u);return s2({imageURL:i,title:l,description:h,author:c,datePublished:e?.updated_datetime,canonicalURL:d,index:e?.should_index??!1,userAgent:r})},cj=({result:e,slug:t,userAgent:n,imageURL:r})=>{const s="[trackThreadOGImageServing]";try{t!=="new"&&aD(`${s} [${t}] [${n}] ${e}: ${r}`)}catch(a){Cde("[trackThreadOGImageServing] error:",{result:e,slug:t,userAgent:n,imageURL:r,err:a})}},vqt=e=>{let t=Dj;const n=`[getThreadOGImageURL] [${e?.thread_url_slug}]`;if(e.s3_social_preview_url)return e.s3_social_preview_url;try{t=Dj;const r=An.isArticleMode(e);return e.thread_url_slug?r?`${pie.NEXTAUTH_URL}/api/og/page/${e.thread_url_slug}`:`${pie.NEXTAUTH_URL}/api/og/thread/${e.thread_url_slug}`:t}catch(r){aD(`${n} error getting thread og image url: `,r)}return t},s2=({title:e=W2,description:t=XO,imageURL:n=Dj,canonicalURL:r,author:s,datePublished:a,index:i,userAgent:l})=>{try{let c=!1;typeof window>"u"&&(c=l?dx(l):!1),c&&(e=W2);const u=pqt(a);return r=r??"./",{metadataBase:new URL("https://www.perplexity.ai"),title:e,description:t,author:s??void 0,alternates:{canonical:r},openGraph:{url:r,images:[n],locale:"en_US",type:"website",siteName:"Perplexity AI"},twitter:{card:t?"summary_large_image":"summary",images:[n],site:"@perplexity_ai",creator:s?`@${s}`:void 0},other:{datePublished:u??""},robots:{index:i}}}catch(c){return Cde("[generatePageMetadata] Error generating metadata:",c),{title:W2,description:XO,metadataBase:new URL("https://www.perplexity.ai"),robots:{index:!1}}}},yqt=Ht({threadAccessNotAllowed:{defaultMessage:"Cannot view this thread.",id:"PWzBFTUMYQ"},threadExpired:{defaultMessage:"This thread is expired and cannot be viewed.",id:"kxDY3MhDfI"},invalidThread:{defaultMessage:"This thread does not exist.",id:"mTtce3cuRp"},threadStreamError:{defaultMessage:"Unable to start thread.",id:"d3yfUXi5SD"},pageAccessNotAllowed:{defaultMessage:"Cannot view this page.",id:"2AsVl5rMny"},spaceAccessNotAllowed:{defaultMessage:"Cannot view this Space.",id:"kUZg0JvZI+"},subscriptionAlreadyActive:{defaultMessage:"Unable to apply discount code to an active subscription.",id:"o2MqqftZuL"},unableToGrantAccess:{defaultMessage:"Unable to make this thread shareable, ensure you are logged in as the owner of the thread.",id:"F8a+v/zyZO"},collectionAccessNotAllowed:{defaultMessage:"Cannot view this collection.",id:"miGPZEm/qm"},invalidCollection:{defaultMessage:"This collection does not exist.",id:"IKZz6s6MYd"}});function xqt({isCometServer:e}){return!Ln()&&!e?o.jsx(uh,{to:"/"}):o.jsx(zC,{childrenWidth:"none",mobileHeader:!1,children:o.jsx(Qje,{})})}const bqt=De(async()=>({default:(await Me(()=>import("./CometZenMode-ClTAf6O_.js"),__vite__mapDeps([129,1,50,130,53,54,3]))).CometZenMode}),{loading:()=>o.jsx("div",{className:"flex size-full items-center justify-center opacity-10",children:o.jsx(Cu,{})})}),wqt=De(async()=>({default:(await Me(()=>import("./VoiceToVoiceModal-te2hkQj8.js"),__vite__mapDeps([49,1,50,3]))).VoiceToVoiceModal}),{loading:()=>o.jsx(PF,{})}),_qt=De(async()=>({default:(await Me(()=>import("./library-fAQ2PUD_.js"),__vite__mapDeps([131,1,3,132]))).default})),Cqt=De(async()=>({default:(await Me(()=>import("./index-DwUiWeEX.js"),__vite__mapDeps([133,1,3,134,8,124]))).default})),Sqt=De(async()=>({default:(await Me(()=>import("./templates-B7Lp8wD_.js"),__vite__mapDeps([135,1,3]))).default})),Mqt=De(async()=>({default:(await Me(()=>import("./slug-CaVq1rZb.js"),__vite__mapDeps([136,1,10,3,6,134,137,138,72,125]))).default})),kqt=De(async()=>({default:(await Me(()=>import("./cdn-CoSlTePz.js"),__vite__mapDeps([139,1,3]))).CDN})),gie=De(async()=>({default:(await Me(()=>import("./slug-BSfEkWfy.js").then(t=>t.s),__vite__mapDeps([140,1,10,3,141,112,8,142,137,117,143,144,145,122,13,14,130,146,132,147,148,127]))).ArticlePageLayout})),Eqt=De(async()=>({default:(await Me(()=>import("./academic-CLwpyC3d.js"),__vite__mapDeps([149,1,3,150,151,152,153,154,155]))).AcademicLandingPage})),Tqt=De(async()=>({default:(await Me(()=>import("./shopping-CgrvIveX.js"),__vite__mapDeps([156,1,154,3,152,153,155,103,104,150,151]))).ShoppingLandingPage})),Nqt=De(async()=>({default:(await Me(()=>import("./hotels-BAD0BqSX.js").then(t=>t.h),__vite__mapDeps([157,1,154,3,158,143,107,44,59,109,32,159]))).HotelsSlugPage})),jqt=De(async()=>({default:(await Me(()=>import("./perplexify_me-jNDXqzQB.js"),__vite__mapDeps([160,1,154,3]))).PerplexifyMeLandingPage})),Aqt=De(async()=>({default:(await Me(()=>import("./travel-Dela-XRm.js"),__vite__mapDeps([161,1,154,3,152,158,143,153,155,150,151]))).TravelIndexPage})),vie=De(async()=>({default:(await Me(()=>import("./discover-Au0HZAeO.js"),__vite__mapDeps([162,1,154,3,152,163,142,141,112]))).DiscoverPage})),Rqt=De(async()=>({default:(await Me(()=>import("./crypto-CD7ZtXg2.js"),__vite__mapDeps([164,1,165,154,3,152,163,166,167,168,151,76,169,145,153]))).CryptoPage})),Lqt=De(async()=>({default:(await Me(()=>import("./index-DvGQ774y.js"),__vite__mapDeps([170,1,154,3,158,143,171,172,173,174,175,176,177,153]))).F1MainPage})),Oqt=De(async()=>({default:(await Me(()=>import("./events-DVrd47Jt.js"),__vite__mapDeps([178,1,154,3,158,143,172,179,174,173,180,177,153,159]))).F1EventMainPage})),Pqt=De(async()=>({default:(await Me(()=>import("./index-4se-OINf.js"),__vite__mapDeps([181,1,154,3,158,143,171,172,182,126,183,184,185,186,187,188,189,146,190,191,175,176,192]))).NBAMainPage})),Iqt=De(async()=>({default:(await Me(()=>import("./events-Bh7nEGmy.js"),__vite__mapDeps([193,1,154,3,158,143,172,179,194,195,196,197,198,199,180,24,167,168,185,200,201,202,203,204,205,192,206,207,208,209,176,210,177,153,159]))).NBAEventMainPage})),Dqt=De(async()=>({default:(await Me(()=>import("./teams-D5P1oY-t.js"),__vite__mapDeps([211,1,154,3,158,143,192,212,197,198,199,201,185,203,205,196,180,195,24,167,168,207,208,209,176,186,187,182,126,159]))).NBATeamMainPage})),Fqt=De(async()=>({default:(await Me(()=>import("./players-D35MI3Ci.js"),__vite__mapDeps([213,1,154,3,158,143,214,185,203,148,153,159]))).NBAPlayerMainPage})),Uqt=De(async()=>({default:(await Me(()=>import("./index-Baalk4j0.js"),__vite__mapDeps([215,1,154,3,158,143,198,201,190,184,191]))).NFLMainPage})),Bqt=De(async()=>({default:(await Me(()=>import("./events-UIJsRf7U.js"),__vite__mapDeps([216,1,154,3,158,143,172,179,196,197,198,199,180,195,24,167,168,185,200,201,203,204,205,192,206,208,209,176,210,177,153,159]))).NFLEventMainPage})),Vqt=De(async()=>({default:(await Me(()=>import("./teams-C-Kaa56W.js"),__vite__mapDeps([217,1,154,3,158,143,198,201,195,168,159]))).NFLTeamMainPage})),zqt=De(async()=>({default:(await Me(()=>import("./players-FsfTIZp4.js"),__vite__mapDeps([218,1,154,3,158,143,212,197,198,199,201,214,185,203,148,153,159]))).NFLPlayerMainPage})),Hqt=De(async()=>({default:(await Me(()=>import("./index-Bk7ui3Si.js"),__vite__mapDeps([219,1,154,3,158,143,171,172,220,190,175,176,177,153]))).ChampionsLeagueMainPage})),Wqt=De(async()=>({default:(await Me(()=>import("./events-BjiqmVAR.js"),__vite__mapDeps([221,1,154,3,158,143,172,179,222,180,210,209,185,176,177,153,159]))).ChampionsLeagueEventMainPage})),$qt=De(async()=>({default:(await Me(()=>import("./index-CbrchbKB.js"),__vite__mapDeps([223,1,154,3,158,143,171,172,224,182,126,183,184,185,225,187,188,191,175,176,177,153,192]))).MLBMainPage})),qqt=De(async()=>({default:(await Me(()=>import("./events-C9Yl0HT_.js"),__vite__mapDeps([226,1,154,3,158,143,172,179,222,227,224,182,126,183,184,185,225,187,188,200,196,197,198,199,180,195,24,167,168,177,153,159]))).MLBEventMainPage})),Gqt=De(async()=>({default:(await Me(()=>import("./events-1p8SZCUj.js"),__vite__mapDeps([228,1,154,3,158,143,172,179,227,180,177,153,159]))).CricketEventMainPage})),Yqt=De(async()=>({default:(await Me(()=>import("./index-CAxCwVq6.js"),__vite__mapDeps([229,1,154,3,158,143,171,172,182,126,185,188,189,146,190,191,175,176,177,153,192]))).IPLMainPage})),Kqt=De(async()=>({default:(await Me(()=>import("./index-CazcKAdf.js"),__vite__mapDeps([230,1,154,3,158,143,171,172,173,177,153,159]))).PGAMainPage})),Qqt=De(async()=>({default:(await Me(()=>import("./events-BuVEeMOY.js"),__vite__mapDeps([231,1,154,3,158,143,172,179,173,177,153,159]))).PGAEventMainPage})),Xqt=De(async()=>({default:(await Me(()=>import("./index-DjHF--I6.js"),__vite__mapDeps([232,1,154,3,158,143,171,172,191,175,176,177,153,192,182,126,183,184,185,225,187,188]))).WNBAMainPage})),Zqt=De(async()=>({default:(await Me(()=>import("./events-CEojGs_N.js"),__vite__mapDeps([233,1,154,3,158,143,172,179,194,196,197,198,199,180,195,24,167,168,185,200,201,204,203,205,192,177,153,209,176,159]))).WNBAEventMainPage})),yie=De(async()=>({default:(await Me(()=>import("./events-C160lmz1.js"),__vite__mapDeps([234,1,154,3,158,143,172,179,177,153,200,196,197,198,199,180,195,24,167,168,185,159]))).TennisEventMainPage})),xie=De(async()=>({default:(await Me(()=>import("./index-D69tzfAH.js"),__vite__mapDeps([235,1,154,3,158,143,171,172,220,146,190,175,176,177,153,159]))).NCAAMainPage})),bie=De(async()=>({default:(await Me(()=>import("./events-BeOKV_Kt.js"),__vite__mapDeps([236,1,154,3,158,143,172,179,194,196,197,198,199,180,195,24,167,168,185,200,201,202,203,204,205,192,206,207,208,209,176,210,177,153,159]))).NCAAEventMainPage})),Jqt=De(async()=>({default:(await Me(()=>import("./index-C1lj0bSb.js"),__vite__mapDeps([237,1,165,154,3,152,163,166,167,168,151,76,169,145,153]))).FinanceIndexPage})),eGt=De(async()=>({default:(await Me(()=>import("./all-tickers-Ce_Ly3L2.js"),__vite__mapDeps([238,1,154,3,159]))).FinanceAllTickersMainPage})),tGt=De(async()=>({default:(await Me(()=>import("./symbol-DbfpZuv2.js"),__vite__mapDeps([239,1,240,166,163,167,168,154,3,151,152,76,169,145,153,13,122,14,159]))).FinanceSymbolMainPage})),nGt=De(async()=>({default:(await Me(()=>import("./symbol-DbfpZuv2.js"),__vite__mapDeps([239,1,240,166,163,167,168,154,3,151,152,76,169,145,153,13,122,14,159]))).FinanceSymbolFinancialsMainPage})),rGt=De(async()=>({default:(await Me(()=>import("./symbol-DbfpZuv2.js"),__vite__mapDeps([239,1,240,166,163,167,168,154,3,151,152,76,169,145,153,13,122,14,159]))).FinanceSymbolHistoryMainPage})),sGt=De(async()=>({default:(await Me(()=>import("./symbol-DbfpZuv2.js"),__vite__mapDeps([239,1,240,166,163,167,168,154,3,151,152,76,169,145,153,13,122,14,159]))).FinanceSymbolResearchMainPage})),aGt=De(async()=>({default:(await Me(()=>import("./symbol-DbfpZuv2.js"),__vite__mapDeps([239,1,240,166,163,167,168,154,3,151,152,76,169,145,153,13,122,14,159]))).FinanceSymbolEarningsMainPage}));function iGt(){const e=Qt(),t=f.useCallback(()=>{e.push("/b/home",void 0,"voice to ntp")},[e]);return Ln()?o.jsx(zC,{childrenWidth:"none",mobileHeader:!1,children:o.jsx(wqt,{isOpen:!0,onClose:t})}):o.jsx(uh,{to:"/"})}function oGt(){return Ln()?o.jsx(bqt,{}):o.jsx(uh,{to:"/"})}const yLe=L.memo(function({isCometServer:t}){const{firstResult:n}=un(),{userAgent:r}=sn(),s=ln(),a=s?.split("/").pop(),i=f.useMemo(()=>{if(s==="/b/home")return s2({title:"New Tab",userAgent:r,index:!1});const c={slug:n?.thread_url_slug??a,userAgent:r,firstResult:n};return gqt(c)},[n,a,s,r]),l=f.useMemo(()=>({"/library":o.jsx(_qt,{}),"^\\/search(?:\\/(?<new>new))?(?:\\/(?<uuid>.+))?$":o.jsx(vLe,{}),"/b/home":o.jsx(xqt,{isCometServer:t}),"/b/speak":o.jsx(iGt,{}),"/b/zen":o.jsx(oGt,{}),"/spaces/templates":o.jsx(Sqt,{}),"/spaces/:slug":o.jsx(Mqt,{}),"/spaces":o.jsx(Cqt,{}),"/page/:slug":o.jsx(gie,{}),"/discover/:topic/:slug":o.jsx(gie,{}),"/discover/:topic":o.jsx(vie,{}),"/discover":o.jsx(vie,{}),"/academic":o.jsx(Eqt,{}),"/shopping":o.jsx(Tqt,{}),"/crypto":o.jsx(Rqt,{}),"/hotels/:slug":o.jsx(Nqt,{}),"/perplexify_me":o.jsx(jqt,{}),"/sports/f1/events/:eventId":o.jsx(Oqt,{}),"/sports/f1":o.jsx(Lqt,{}),"/sports/nba/events/:eventId":o.jsx(Iqt,{}),"/sports/nba/teams/:teamId":o.jsx(Dqt,{}),"/sports/nba/players/:playerId":o.jsx(Fqt,{}),"/sports/nba":o.jsx(Pqt,{}),"/sports/nfl/events/:eventId":o.jsx(Bqt,{}),"/sports/nfl/teams/:teamId":o.jsx(Vqt,{}),"/sports/nfl/players/:playerId":o.jsx(zqt,{}),"/sports/nfl":o.jsx(Uqt,{}),"/sports/championsleague/events/:eventId":o.jsx(Wqt,{}),"/sports/championsleague":o.jsx(Hqt,{}),"/sports/mlb/events/:eventId":o.jsx(qqt,{}),"/sports/mlb":o.jsx($qt,{}),"/sports/cricket/events/:eventId":o.jsx(Gqt,{}),"/sports/ipl":o.jsx(Yqt,{}),"/sports/pga/events/:eventId":o.jsx(Qqt,{}),"/sports/pga":o.jsx(Kqt,{}),"/sports/wnba/events/:eventId":o.jsx(Zqt,{}),"/sports/wnba":o.jsx(Xqt,{}),"/sports/wta/events/:eventId":o.jsx(yie,{league:"wta"}),"/sports/atp/events/:eventId":o.jsx(yie,{league:"atp"}),"/sports/ncaam/events/:eventId":o.jsx(bie,{league:"ncaam"}),"/sports/ncaam":o.jsx(xie,{league:"ncaam"}),"/sports/ncaaw/events/:eventId":o.jsx(bie,{league:"ncaaw"}),"/sports/ncaaw":o.jsx(xie,{league:"ncaaw"}),"/travel":o.jsx(Aqt,{}),"/finance/all-tickers/:page":o.jsx(eGt,{}),"/finance/:symbol/financials":o.jsx(nGt,{}),"/finance/:symbol/history":o.jsx(rGt,{}),"/finance/:symbol/research":o.jsx(sGt,{}),"/finance/:symbol/earnings":o.jsx(aGt,{}),"/finance/:symbol":o.jsx(tGt,{}),"/finance":o.jsx(Jqt,{}),"/":o.jsx(bLe,{isCometServer:t})}),[t]);return o.jsxs(o.Fragment,{children:[o.jsx(ZVe,{children:Object.entries(l).map(([c,u])=>o.jsx(XVe,{path:c.startsWith("^")?new RegExp(c):c,children:u},c))}),o.jsx(LAe,{metadata:i})]})});yLe.displayName="Home";const xLe=L.memo(function({isCometServer:t}){const n="home-ask-input",[r,s,a]=nje({csrRedirect:!0}),{isMobileStyle:i}=qe(),{currentOpenedModal:l}=Gt(),c=wn(),u=jAe(),d=pr(),h=f.useRef(null),g=f.useMemo(()=>c?.get("openSearchModeSelector"),[c])==="true",{mentionTypeaheadOptions:v,inputPlaceholder:x,onTriggerTypeahead:b}=rz({reason:n,isCometServer:t,isLazy:!0}),w=f.useMemo(()=>o.jsx(NAe,{}),[]);return o.jsxs(o.Fragment,{children:[o.jsx(v8,{...a,value:r,json:s,querySource:"home",autofocus:!i&&l===null&&!u&&!g,initialLayout:d?"compact":"expanded",minRows:d?1:2,hasShadow:!0,showFileUpload:!0,showIncognitoHint:!0,showSources:!d,autoSuggestPortalTarget:h.current??void 0,autosuggestionsEnabled:!d,dropdownPlacement:d||i?"top":"bottom",headerComponent:w,dropdownClassName:d||i?"shadow-[0_-30px_30px_oklch(var(--background-color-100))]":void 0,useLexical:!0,mentionTypeaheadOptions:v,placeholder:x??a.placeholder,onTriggerTypeahead:b,layoutKey:"home-ask-input",disableModeSelector:d}),o.jsx(kqt,{})]})});xLe.displayName="HomeAskInput";const bLe=L.memo(function({isCometServer:t}){const{$t:n}=ae(),{hasAccessToProFeatures:r}=cn(),s=Ct(),{actions:{clearCurrentStreamId:a,clearCurrentThreadId:i}}=un(),{isIOS:l,isWindowsApp:c}=sn(),{isMobileUserAgent:u,isMobileStyle:d}=qe(),[h,m]=f.useState(null),{openModal:g}=Gt(),{handleRequestAccess:v}=jHt(),{trackEvent:x}=Ye(),b=wn(),{mwebUpsellWhatsApp:w,loadingMwebUpsellWhatsApp:C}=Tx(),{handleAppDownloadClicked:S}=Ex("mobile-header"),k=kx({origin:"mobile-header"}),{isLocalhost:E}=af(),T=Ln(),j=pr(),{openVisitorLoginUpsell:N}=Br({enabled:!0}),R=f.useRef(null),O=f.useMemo(()=>b?.get("error"),[b]),I=f.useMemo(()=>b?.get("id"),[b]),B=On(),D=f.useRef(!1),z=f.useMemo(()=>!!(b?.get(sm)||b?.get(Bze)==="deep_research"),[b]);RHt(),THt({reason:"search-inner-home"}),NHt(),f.useEffect(()=>{a(),i()},[a,i]),f.useEffect(()=>{D.current||B.welcomeBackGateImpressions>=YP||T||s||u||E||cD()&&uD()&&(N({origin:gt.WELCOME_BACK,title:n({defaultMessage:"Welcome back!",id:"0MXX5Bf7Ca"}),description:n({defaultMessage:"Log in to continue your journey.",id:"lSkVbenSxm"}),sheetModalVariant:"centered-sheet"}),D.current=!0,B.actions.setWelcomeBackGateImpressions(B.welcomeBackGateImpressions+1))},[T,E,u,s,g,n,B.welcomeBackGateImpressions,B.actions,N]),f.useEffect(()=>{if(O){const q=O,$=I;q===bh.ThreadAccessNotAllowed&&$?v($):(le.info("Error redirect",{errorQueryParam:O}),m(n(yqt[q]))),ypt()}},[O,v,I,g,n]);const V=f.useCallback(()=>{if(w){k();return}x("app download button clicked",{origin:"mobile-header"}),S()},[S,k,w,x]),U=f.useMemo(()=>({homepageTitle:n({defaultMessage:"What do you want to know?",id:"CMjGvpa5Fr"})}),[n]),H=f.useMemo(()=>w?hI:l?JI:sI,[w,l]);return o.jsxs(AU,{modules:rje,children:[o.jsx(zC,{childrenWidth:j?"none":"default",mobileHeader:!1,children:o.jsxs("div",{className:"erp-sidecar:px-md sm:px-md md:px-lg isolate mx-auto size-full sm:max-w-screen-md",children:[o.jsxs("div",{className:"relative flex h-full flex-col",children:[o.jsxs(Q,{className:"py-md h-headerHeight flex items-center justify-between border-b md:hidden",children:[o.jsxs("div",{className:"gap-x-xs -ml-sm flex items-center",children:[o.jsx(jD,{}),o.jsx(Ei,{color:"mixed",isPro:r,size:"small"})]}),o.jsx("div",{className:"gap-x-sm flex items-center",children:u&&!C&&o.jsx(Ud,{isSamsungBrowser:!0,isComet:!0,children:o.jsx("div",{className:"animate-in fade-in duration-300",children:o.jsx(Le,{size:"small",icon:H,text:n(w?{defaultMessage:"Chat in WhatsApp",id:"jXqSBQcpKC"}:{defaultMessage:"Open in App",id:"fo3x6hDxdZ"}),pill:!0,variant:"primary",onClick:V})})})})]}),o.jsx(szt,{initialValue:U,children:o.jsxs(Q,{className:W("static w-full grow flex-col items-center justify-center md:mt-0 md:flex","z-10"),ref:R,children:[o.jsx("div",{className:"px-md relative flex h-full w-full flex-col justify-center md:h-auto md:px-0",children:o.jsx(Jje,{})}),o.jsxs(Ag,{children:[o.jsx("div",{className:W("w-full",{"bottom-md absolute":j||d,"bottom-md mb-md animate-in fade-in fill-mode-both slide-in-from-bottom absolute delay-200 duration-300 ease-in-out":j}),children:o.jsx(xLe,{isCometServer:t})}),!u&&o.jsx("div",{className:"relative w-full",children:o.jsx("div",{className:"mt-lg absolute w-full",children:o.jsx(uHt,{})})})]})]})})]}),o.jsx(Uh,{isVisible:h!=null,variant:"error",message:h,timeout:7}),!u&&o.jsx(xHt,{})]})}),s&&c&&o.jsx(Zje,{platform:qF.WINDOWSAPP}),z&&o.jsx(lV,{}),o.jsx(Ud,{isSamsungBrowser:!0,isCometSidecar:!0,children:o.jsx(EHt,{})})]})});bLe.displayName="InnerHome";const wLe=L.memo(function({isCometServer:t}){return o.jsxs(zEe,{children:[o.jsx(VEe,{}),o.jsx(yLe,{isCometServer:t})]})});wLe.displayName="SpaEntryPoint";const _Le=L.memo(()=>{const{message:e,variant:t,description:n,ctaText:r,ctaOnClick:s,isVisible:a,timeout:i,handleClick:l,closeToast:c,position:u,keyProp:d}=Sr(),h=f.useCallback(()=>{t==="refresh"&&l===void 0?window.location.reload():l&&l()},[t,l]);return o.jsx(Uh,{keyProp:d,isVisible:a,variant:t,message:e,description:n,ctaText:r,ctaOnClick:s,timeout:i,handleClick:h,onTimeout:c,position:u},d)});_Le.displayName="Toasts";const CLe=L.memo(({children:e})=>o.jsx(vZe,{children:e}));CLe.displayName="TooltipStateProvider";const wie="AW-11209402154",lGt="AW-11209402154/Oz8uCISC_PYZEKrOh-Ep",SLe=L.memo(()=>{const{hasConsent:e}=REe(),n=!!wn()?.get(sm),[r,s]=f.useState(!1);return f.useEffect(()=>{if(!r&&e){const a=i=>{if(i.timeRemaining()>0||i.didTimeout){const l=document.createElement("script");l.src=`https://www.googletagmanager.com/gtag/js?id=${wie}`,l.async=!0,document.head.appendChild(l),l.onload=()=>{window.dataLayer=window.dataLayer||[];function c(...u){window.dataLayer.push(arguments)}c("js",new Date),c("config",wie),n&&c("event","conversion",{send_to:lGt}),s(!0)}}else window.requestIdleCallback(a)};"requestIdleCallback"in window?window.requestIdleCallback(a,{timeout:5e3}):a({timeRemaining:()=>1/0,didTimeout:!0})}},[e,n,r]),null});SLe.displayName="GoogleTagManager";var cGt={};const MLe=L.memo(function(){const{value:t,loading:n}=vs({flag:"service-worker-enabled",subjectType:"visitor_id",defaultValue:!1});return f.useEffect(()=>{if(cGt.NEXT_PUBLIC_SW_ENABLED_LOCAL){VX();return}if(n)return;const r=ga();r.env&&r.env!=="local"&&t?VX():Qut()},[n,t]),null});MLe.displayName="CometServiceWorker";const uGt="pplx.hasUpdated",dGt=Math.random()*1e3*60*5,fGt=1e3*60*60,kLe=L.memo(({version:e,idleRefreshDelay:t=dGt})=>{const n=f.useRef(e),{openToast:r}=Sr(),{isWindowsAppPanelView:s}=Bg(),{inApp:a}=US(),{$t:i}=ae(),l=Ln(),[c,u]=$pe(uGt,!1),d=f.useRef(!1),h=ult();n.current=e;const m=f.useCallback(async()=>{try{if(!d.current){Ld("idle_refresh_check_version");const x=await PEe();d.current=!!(n.current&&x&&n.current!==x)}if(document.hidden||h())return;d.current&&(!l&&u(!0),await jF(),Ld("idle_refresh"),QD("Idle refresh"))}catch{le.log("Error getting build version")}},[l,u,h]),g=f.useMemo(()=>Ni(m,t,{maxWait:fGt,leading:!1,trailing:!0}),[m,t]),v=f.useCallback(()=>{d.current?m():g()},[m,g]);return f.useEffect(()=>{c&&!s&&!a&&(u(!1),r(i({defaultMessage:"Updated to latest version",id:"5SFf7ytcaw"}),"success",4))},[]),f.useEffect(()=>(document.addEventListener("visibilitychange",v),()=>{document.removeEventListener("visibilitychange",v)}),[v]),null});kLe.displayName="IdleRefresh";const ELe=L.memo(function(){const t=on(),n=f.useMemo(()=>{if(t)return{id:t.user.id,name:t.user.name,email:t.user.email,isPro:!!t.user.subscription_status&&t.user.subscription_status!=="none"}},[t]);if(!n)return null;const r=dx(globalThis.navigator?.userAgent??"");return o.jsxs(o.Fragment,{children:[o.jsx(QPe,{session:n,isWindowsApp:r}),o.jsx(XPe,{session:n,isWindowsApp:r})]})});ELe.displayName="Instrumentation";const hl=e=>{try{return JSON.parse(e)}catch{return{}}};function hGt({reason:e}){const t=Ln(),n=Bs(),r=pr(),s=f.useCallback(async(a,i)=>{if(le.info("browserStep",a),a.browser_open_tab_content){const l=a.browser_open_tab_content,c=hl(l.extra_headers);le.info("browserTool: browser_open_tab",{tool:l},{request_id:c["X-Request-ID"]}),await wJe({url:l.url,cometBrowser:n,stepUuid:a.uuid,extraHeaders:hl(l.extra_headers),reason:e})}else if(a.search_browser_content){const l=a.search_browser_content,c=hl(l.extra_headers);le.info("browserTool: search_browser",{tool:l},{request_id:c["X-Request-ID"]}),await MJe(l,n,a.uuid,c,e)}else if(a.browser_close_tabs_content){const l=a.browser_close_tabs_content,c=l.payload,u=hl(l.extra_headers);le.info("browserTool: browser_close_tabs",{tool:l},{request_id:u["X-Request-ID"]}),await SJe(c,n,a.uuid,u,e)}else if(a.browser_group_tabs_content){const l=a.browser_group_tabs_content,c=l.payloads,u=hl(l.extra_headers);le.info("browserTool: browser_group_tabs",{tool:l},{request_id:u["X-Request-ID"]}),await CJe(c,n,a.uuid,u,e)}else if(a.entropy_request_content){const l=a.entropy_request_content,c=l.extra_headers;le.info("browserTool: entropy_request",{tool:l},{request_id:hl(c)["X-Request-ID"]}),l.tasks.forEach(u=>n.submitTask({action:"startAgentFromPerplexity",extra_headers:c,base_url:l.base_url,entryId:i,...u,use_current_page:u.use_current_page&&r,capture_screenshot:!u.use_current_page}))}else if(a.get_url_content_content){const l=a.get_url_content_content,c=hl(l.extra_headers);if(le.info("browserTool: get_url_content",{tool:l},{request_id:c["X-Request-ID"]}),!t)return;const u={...l,key:a.uuid,request_id:c["X-Request-ID"],pages:[...l.pages||[]]},d=n.GetContent(u);await yd(d,a.uuid,{request_id:c["X-Request-ID"]},e)}else if(a.browser_ungroup_content?.payload){const l=a.browser_ungroup_content,c=hl(l.extra_headers),u={groupIds:l.payload.group_ids,tabIds:l.payload.tab_ids},d=n.ungroupTabs(u,a.uuid,c["X-Request-ID"]).then(h=>{if(!h.is_success)throw h;return{group_ids:h.groupIds,tab_ids:h.tabIds}});await yd(d,a.uuid,{request_id:c["X-Request-ID"]},e)}else if(a.browser_search_tab_groups_content){const l=a.browser_search_tab_groups_content,c=hl(l.extra_headers),u=n.searchTabGroups(l.payload,a.uuid,c["X-Request-ID"]).then(d=>{if(!d.is_success)throw d;return{results:d.results.map(h=>({...h,color:vde(h.color)}))}});await yd(u,a.uuid,{request_id:c["X-Request-ID"]},e)}else if(a.browser_get_visible_tab_screenshot_content){const l=a.browser_get_visible_tab_screenshot_content,c=hl(l.extra_headers),u=n.GetVisibleTabScreenshot({key:a.uuid,request_id:c["X-Request-ID"],...l}).then(async d=>{const m=await(await fetch(d.data_url)).blob(),g=new File([m],"screenshot."+(l.format??"png"),{type:m.type}),v=await bU({file:g,forceImage:!0,reason:e,fileSource:"entropy"});if(!v||!v?.fields||!v.s3_bucket_url)throw new Error("Failed to create upload URL");const x=new FormData;Object.entries(v.fields).forEach(([C,S])=>{x.append(C,S)}),x.append("file",g);const b=await fetch(v.s3_bucket_url,{method:"POST",body:x});if(!b.ok)throw new Error(`Failed to upload screenshot: ${b.statusText}`);const w=await b.json();if(!w.secure_url)throw le.error("[GetVisibleTabScreenshot] Upload did not return a secure URL",{response:w}),new Error("Upload did not return a secure URL");return{screenshot_url:w.secure_url}});await yd(u,a.uuid,{request_id:c["X-Request-ID"]},e)}else le.error("[useExecuteBrowserTool] Unknown browser tool step",{browserStep:a},{reason:e,backend_uuid:i})},[n,t,r,e]);return f.useMemo(()=>({executeBrowserTool:s}),[s])}const TLe=L.memo(function(){const{executeBrowserTool:t}=hGt({reason:"StreamMiddlewares"}),n=f.useCallback(s=>{if(!s||!s.browser_tool)return s;t(s.browser_tool,s.backend_uuid)},[t]),r=f.useMemo(()=>[n],[n]);return o.jsx(fme,{middlewares:r})});TLe.displayName="StreamMiddlewares";class mGt extends sx{name="PplxStreamError"}const pGt=({reason:e})=>{const t=QB({reason:e}),n=ANe({reason:e});return f.useMemo(()=>{const r=tK([...t.enabledConnectors,...t.enabledFileConnectors,...t.enabledNonFileConnectors].map(a=>a.name)),s=tK([...n.disabledConnectors,...n.disabledFileConnectors].map(a=>a.name));return{enabled:r,disabled:s}},[t,n])};function gGt({reason:e}){const{setIsCopilot:t,gpt4Limit:n,setGPT4Limit:r,pplxAlphaLimit:s,setPplxAlphaLimit:a,pplxBetaLimit:i,setPplxBetaLimit:l,setAskInputReasoningMode:c}=Mr(),{trackEvent:u}=Ye(),d=f.useCallback(async()=>{try{const m=(await me.GET("/rest/rate-limit/all",e)).data;if(!m)throw new Error("No data returned from rate limit check");const g=m.remaining_pro??0,v=m.remaining_research??0,x=m.remaining_labs??0;n>0&&m.remaining_pro!==null&&g<=0&&u("pro rate limit reached",{}),s>0&&m.remaining_research!==null&&v<=0&&u("pplx alpha rate limit reached",{}),i>0&&m.remaining_labs!==null&&x<=0&&u("pplx beta rate limit reached",{}),r(g),a(v),l(x),g<=0&&(c(!1),t(!1))}catch(h){le.error("Failed to check rate limit",h)}},[n,r,s,a,i,l,c,t,u,e]);return f.useCallback(()=>{d()},[d])}const vGt=async({query:e,language:t,queryClient:n,reason:r})=>{try{const i=(await(await ZPe({resource:"https://suggest.perplexity.ai/search/v2/navigate",method:"POST",options:{headers:{"content-type":"application/json","X-Client-Name":"agi_ui_navigate_v2","X-Client-Env":"production"}},body:JSON.stringify({query:e,user_identity:{lang:t}}),timeoutMs:1e3,reason:r})).json())?.hit;i&&n.setQueryData(["navigationResults",e],i)}catch(s){le.error("Failed to fetch navigational search results:",s)}},yGt=25,xGt=()=>{const e=Vt();return f.useCallback(({query:t,params:n,reason:r})=>{const s=t.length<=yGt,a=n.mode==="copilot",i=!!n.last_backend_uuid,l=n.attachments,c=n.sources;s&&!a&&!i&&l.length===0&&c&&c.length>0&&vGt({query:t,language:n.language,queryClient:e,reason:r})},[e])};function bGt({lastResponse:e,backend_uuid:t,trackEvent:n,notificationText:r,sendNotification:s,cometAdapter:a}){if(!t)return le.error(new Error("No backend_uuid found in response")),!1;if(!e)return le.error(new Error("No last response found in query client")),!1;(Us(e.display_model)===_e.RESEARCH||Us(e.display_model)===_e.STUDIO)&&r&&s&&document.visibilityState!=="visible"&&s({title:r,body:e.query_str,onClick:()=>{window.focus()}}),e.blocks.filter(l=>l.intended_usage?.endsWith("_markdown")).forEach(l=>{l.markdown_block?.media_items&&n&&l.markdown_block?.media_items.forEach(c=>{n("inline image rendered",{image_url:c.image,entryUUID:t})})});const i=e.blocks.find(l=>l.intended_usage==="knowledge_cards")?.knowledge_card_block?.knowledge_cards?.[0];return i&&n&&n("knowledge card in results",{entryUUID:t,name:i.title,id:i.id,type:i.card_type}),a?.setTabProgress(!1),a?.showNotification(),!0}const NLe=L.memo(function(){const t="stream-side-effects",n=Qt(),r=Ln(),s=on(),{trackEvent:a}=Ye(),{$t:i}=ae(),l=dx(globalThis.navigator?.userAgent),{sendNotification:c}=Iz({windowsAppOnly:!1}),u=JSe(),d=xGt(),{addKeyRequiringRerender:h}=of(),m=ga(),g=Bs(),{fileRepoInfo:v}=df({reason:t}),{firstResult:{thread_url_slug:x}={}}=un(),{data:b}=ez({fileRepoInfo:v,fileName:x??"",reason:t}),{saveThreadToSpace:w}=rLe({fileRepoInfo:v,fileExists:b??!0,reason:t}),C=IHt(),{resetInput:S,restoreInput:k}=pb(),E=qB(),T=f.useRef(E);T.current=E;const j=pGt({reason:t}),N=Vt(),R=gGt({reason:t}),{updateLocalStatePostStream:O}=go();return f.useLayoutEffect(()=>ks.on("created",async({stream:I,query:B,params:D})=>{if(I.isReconnect||!B||!D)return;const z=Su(),V=l?Wp:m.erp??void 0;uet(I.id,{name:"perplexity_ask",queryStr:B,queryParams:D,isFollowup:HA(D)&&(D.query_source==="followup"||D.query_source==="followup-sidecar"),isPerplexityBrowser:r,frontendUUID:D.frontend_uuid??"",session:s,browserVersion:z?.browser_version,source:V,connectors:j,mentions:"mentions"in D?D.mentions:[]}),g?.setTabProgress(!0)}),[r,l,s,j,m.erp,g]),f.useLayoutEffect(()=>ks.on("progress",({stream:I,message:B})=>{const{blocks:D,status:z}=B,V=D?.some(q=>!!q?.markdown_block?.chunks?.length),U=D?.some(q=>!!q?.web_result_block?.web_results?.length),H=D?.some(q=>!!q?.sources_mode_block?.rows?.length);if(V&&I.timer.addTimingOnce("web.frontend.first_llm_token_seen"),U&&I.timer.addTimingOnce("web.frontend.first_search_results_seen"),H&&I.timer.addTimingOnce("web.frontend.first_sources_seen"),B.telemetry_data){const{has_displayed_search_results:q,has_first_output_token:$,has_first_token:G,has_widget_data:K,country:ee,is_followup:oe,source:ne,engine_mode:te,search_implementation_mode:re}=B.telemetry_data,X={country:ee,is_followup:oe,source:ne,engine_mode:te,search_implementation_mode:re};q&&I.timer.addTimingOnce("web.frontend.first_search_results_latency_ms",X),$&&I.timer.addTimingOnce("web.frontend.first_output_token_latency_ms",X),G&&I.timer.addTimingOnce("web.frontend.first_token_latency_ms",X),K&&I.timer.addTimingOnce("web.frontend.first_widget_data_latency_ms",X)}eet(I.id,{hasLLMToken:V,hasSearchResults:U,hasSources:H},s??void 0),z===Zs.FAILED&&le.error(new mGt("STREAM_FAILED_CHUNK_ERROR"),{message:B})}),[s]),f.useLayoutEffect(()=>ks.on("progress",({stream:I,isFirstMessage:B})=>{B&&I.placeholderChunk&&I.placeholderChunk.query_source&&!T.current&&S()}),[S]),f.useLayoutEffect(()=>ks.on("completed",({stream:I})=>{const B=ga(),D=l?Wp:B.erp??void 0;sQ(I.id,{name:"SUCCESSFUL response",session:s,source:D})}),[s,l]),f.useLayoutEffect(()=>ks.on("completed",({stream:I,thread:B})=>{if(!I.threadId||!I.entryId)return;C(B);const D=B?.find(V=>V?.uuid===I.id.description||V?.backend_uuid===I.entryId);let z;Us(D?.display_model)===_e.RESEARCH?z=i({defaultMessage:"Your report is ready",id:"CEIDgftq5U"}):Us(D?.display_model)===_e.STUDIO&&(z=i({defaultMessage:"Your project is ready",id:"UXOU5ST+Nc"})),bGt({lastResponse:D,backend_uuid:I.entryId,trackEvent:a,sendNotification:c,notificationText:z,cometAdapter:g})}),[i,a,c,C,g]),f.useLayoutEffect(()=>ks.on("completed",async({stream:I})=>{!x||!I.entryId||b&&await w(I.entryId,x)}),[b,w,x]),f.useLayoutEffect(()=>{const I=({stream:z})=>{const{id:V}=z,U=ga(),H=l?Wp:U.erp??void 0,G=new URL(window.location.href).pathname.replace("/search/new/","");sQ(V,{name:"FAILED response",session:s,source:H}),G===V.description&&(k(),n.replace(`/?error=${bh.ThreadStreamError}`,"StreamSideEffects")),g?.setTabProgress(!1)},B=ks.on("error",I),D=ks.on("aborted",I);return()=>{B(),D()}},[s,l,k,n,g]),f.useLayoutEffect(()=>ks.on("created",({query:I,params:B,stream:{isReconnect:D,id:z}})=>{if(!(!I||!B||D||!HA(B))){if(r){u(I,{model_preference:B.model_preference,last_backend_uuid:"last_backend_uuid"in B?B.last_backend_uuid:void 0,sources:B.sources},z.description);return}d({query:I,params:B,reason:"streamEvents.on(created)"})}}),[u,d,r]),f.useEffect(()=>{const I=[ks.on("completed",({stream:B})=>{g.cleanupTasks(B.entryId)}),ks.on("aborted",({stream:B})=>{g.cleanupTasks(B.entryId)}),ks.on("error",({stream:B})=>{g.cleanupTasks(B.entryId)})];return()=>{I.forEach(B=>B())}},[g]),f.useEffect(()=>ks.on("completed",async({message:I,thread:B})=>{if(!I||(O(I),I.collection_info?.slug&&N.invalidateQueries({queryKey:[Yc,{collection_slug:I.collection_info.slug.slice(-22)}]}),R(),Knt(I.thread_url_slug)))return;const D=!!I.parent_info,z=B.findIndex(V=>V.uuid===I.uuid)>0;(D||!z)&&(h("floating-signup"),N.invalidateQueries({queryKey:[Ph],refetchType:"all"}))}),[N,l,h,R,O]),null});NLe.displayName="StreamSideEffects";const{Provider:wGt,useSelector:_Gt,useTrackedState:CGt}=Mg("LocalPropsProvider",()=>uo(e=>({tasksModeFocusStepUUID:void 0,actions:{setTasksModeFocusStepUUID:t=>{e({tasksModeFocusStepUUID:t})}}}))),FJt=()=>_Gt(e=>e.actions),UJt=CGt,SGt=({reason:e})=>{const{safeWindowsIpcPublish:t}=HS(),{actions:n}=On(),{isWindowsApp:r}=sn(),s=Ct(),{isPro:a}=cn(),{DEFAULT_SOURCES:i}=XS({reason:e}),l=f.useRef(n),c=f.useRef(t);f.useEffect(()=>{l.current=n,c.current=t},[n,t]);const u=f.useCallback(()=>{Oh("/?voice-mode=true","Voice mode")},[]),d=f.useCallback(()=>{Oh("/?v2v=true","V2V mode")},[]),h=f.useCallback(v=>{const x=v.searchParams,b=x.get("q"),w=x.get("incognito"),S=(x.get("sources")??"").split(",").map(T=>T.trim()).filter(Ox),k=x.get("search_mode"),E=k?Dit[k]:void 0;w!==null&&l.current.setIsIncognito(w==="true"),S&&t(fd,{type:fd,sources:S}),E?.model&&E?.mode&&t(Lp,{type:Lp,model:E.model,searchMode:E.mode}),b&&c.current(Gle,{query:b,promptSource:"user",querySource:"windows-app-shortcut",incognitoOverride:w,sourcesOverride:S??[]})},[t]),m=f.useCallback(v=>{const x=v.searchParams,b=x.get("type"),w=x.get("callback");if(!b||!w)return;const C=b.split(","),S=new URLSearchParams;C.forEach(E=>{switch(E){case"sources":S.set("sources",Array.from(i).join(","));break;case"search-modes":S.set("search-modes",Object.values(_e).join(","));break;case"sign-in":S.set("sign-in",s?"true":"false");break;case"subscription":S.set("subscription",a?"true":"false");break}});const k=`${w}?${S.toString()}`;window.open(k,"_blank")},[s,a,i]),g=f.useMemo(()=>new Map([["voice-mode",u],["v2v",d],["search",v=>h(v)],["request",v=>m(v)]]),[u,d,h,m]);f.useEffect(()=>{if(!r)return;const v=Tut("openProtocolURL",(b,w)=>{const C=new URL(w.url);for(const[S,k]of g)if(C.toString().includes(S)){w.preventDefault(),k(C);break}}),x=async()=>{await(await v)()};return()=>{x()}},[r,g])};function MGt(e,t){const n=f.useRef(null),r=f.useRef(!0),s=f.useMemo(()=>Math.floor(Math.random()*(t.jitterSeconds??0)),[t.jitterSeconds]);f.useEffect(()=>{const a=()=>{const i=new Date;let l;if(t.type==="daily"){const u=t.hour??0,d=t.minute??0;l=new Date(i.getFullYear(),i.getMonth(),i.getDate(),u,d,s),(i.getHours()>u||i.getHours()===u&&i.getMinutes()>=d)&&l.setDate(l.getDate()+1)}else l=new Date(i.getTime()+(t.intervalMs??0));const c=l.getTime()-i.getTime();n.current&&clearTimeout(n.current),n.current=setTimeout(async()=>{await e(),a()},c)};return r.current&&t.runImmediately&&e(),r.current=!1,a(),()=>{n.current&&clearTimeout(n.current)}},[e,t,s])}const kGt=({reason:e})=>{const t=ae(),{sendNotification:n}=Iz({windowsAppOnly:!0}),{value:r,loading:s}=oC({flag:"windows-app-milestone-check-config",defaultValue:rY}),{isWindowsApp:a}=sn(),i=ln(),l=a&&!i?.includes(S1),c=f.useMemo(()=>{if(s)return rY;const u=r;return{type:"daily",hour:u.hour,minute:u.minute,runImmediately:!0,jitterSeconds:60*30}},[r,s]);MGt(async()=>{if(!l)return;const u=await p1e({platform:qF.WINDOWSAPP,reason:e}),d=_t.getItem(sY)==="true";if(_t.setItem(Qze,new Date().toISOString()),u?.has_incentive&&!d&&u?.usage_count){n({title:t.formatMessage({defaultMessage:"You did it!",id:"ccISkSq0YZ"}),body:t.formatMessage({defaultMessage:"You have used Perplexity {days, plural, one {# day} other {# days}} in a row! Enjoy a month of Pro on us!",id:"lo/RUQQ62/"},{days:u.usage_count})}),_t.setItem(sY,"true");return}if(!u?.has_incentive&&u?.usage_count){try{const h=JSON.parse(_t.getItem(aY)||"{}");(!h?.usage_count||h?.usage_count&&u?.usage_count&&h.usage_count===u.usage_count)&&n({title:t.formatMessage({defaultMessage:"Keep up the streak!",id:"MBHkTiVC+w"}),body:t.formatMessage({defaultMessage:"You haven't used Perplexity today. Ask a question to stay on track for a free pro",id:"lwdxliVuXr"})})}catch(h){le.warn("Error checking last response",h)}_t.setItem(aY,JSON.stringify(u))}},c)},EGt=()=>{const{handleShowPanel:e}=Bg(),t=dR(c=>c.setShortcut),{getMainWindowRef:n}=TGt(),r=dR(c=>c.globalShortcuts),s=f.useCallback(async()=>{const c=await n();if(!c)return;await NF({ref:c}),await TF({ref:c});const u=new CustomEvent("toggleVoiceToVoice");document.dispatchEvent(u)},[n]),a=f.useCallback(async(c,u)=>{try{const d=Array.isArray(c)?c.join("+"):c;let h;switch(u){case Ys.NEW_THREAD:h=e;break;case Ys.TOGGLE_V2V:h=s;break;default:return le.warn(`No handler registered for shortcut type: ${u}`),!1}return d&&d.trim()!==""&&await vk(d),await Iut(d,h),!0}catch(d){return le.warn("Error registering shortcut:",d),!1}},[e,s]),i=f.useCallback(async(c,u,d)=>{try{const h=c.join("+"),m=u.join("+");if(h===m)return;h&&h.trim()!==""&&await vk(h),await a(m,d)&&t(d,dr.WINDOWS,u)}catch(h){le.error("Error updating global shortcut:",h)}},[a,t]),l=f.useCallback(async c=>{const u=c.join("+");u&&u.trim()!==""&&await vk(u)},[]);return f.useMemo(()=>({shortcuts:r,registerShortcut:a,updateGlobalShortcut:i,unregisterShortcut:l}),[a,r,l,i])},jLe=f.createContext(null),TGt=()=>{const e=f.useContext(jLe);if(!e)throw new Error("useWindowsApp must be used within WindowsAppProvider");return e},NGt=()=>{const e=f.useRef(null);return{getMainWindowRef:f.useCallback(async()=>(e.current||(e.current=(async()=>{let n=await UX({id:"TJmK6yKBLiw389HLDdYy5"});return n||(n=await UX({id:"C195F2RyYDhfB93QW7vui"})),n})()),e.current),[])}},jGt=({children:e,getMainWindowRef:t})=>{const n="windows-app-provider-inner",{isWindowsApp:r}=sn(),s=ln(),a=r&&!s?.includes(S1),{submitQuery:i}=go(),{isCopilot:l}=Mr(),{createPanelWindow:c,hidePanel:u}=Bg(),d=Ct(),h=f.useRef(i),m=f.useRef(l),{safeWindowsIpcSubscribe:g}=HS();f.useEffect(()=>{h.current=i},[i]),SGt({reason:n}),f.useEffect(()=>{m.current=l},[l]),kGt({reason:n});const{shortcuts:v,registerShortcut:x,unregisterShortcut:b}=EGt();f.useEffect(()=>{a&&(c(),u())},[a,c,u]);const w=f.useCallback(async C=>{const S=async(j=500)=>{const N=new AbortController,R=setTimeout(()=>N.abort(),j);try{const O=new Promise(I=>{QA().then(B=>{if(B){clearTimeout(R),I(!0);return}qv("show",()=>{clearTimeout(R),I(!0)})})});return await Promise.race([O,new Promise(I=>{N.signal.addEventListener("abort",()=>I(!1))})])}catch(O){return le.warn("Error ensuring window is ready",{error:O}),!1}finally{clearTimeout(R),XA("show")}},k=await t();if(await NF({ref:k}),await TF({ref:k}),!await S())return;const E=C.query.trim();if(!E?.trim())return;const T=ri();h.current({rawQuery:E,copilotOverride:m.current?!0:void 0,attachments:C.attachments,collection:null,newFrontendContextUUID:T,promptSource:C.promptSource??"user",querySource:C.querySource??"home",timeFromFirstType:C.timeFromFirstType,shouldRedirectToBackendUUID:!0})},[t]);return f.useEffect(()=>{if(!a)return;const C=g(Gle,S=>{w(S)});return()=>{C?.()}},[a,w,g]),f.useEffect(()=>{if(!a)return;const C=[Ys.NEW_THREAD,...d?[Ys.TOGGLE_V2V]:[]];return C.forEach(S=>{const E=v[S][dr.WINDOWS].map(kX);x(E,S)}),()=>{C.forEach(S=>{const E=v[S][dr.WINDOWS].map(kX);b(E)})}},[x,a,v,d,b]),o.jsx(o.Fragment,{children:e})},AGt=({children:e})=>{const{getMainWindowRef:t}=NGt(),n=f.useMemo(()=>({getMainWindowRef:t}),[t]);return o.jsx(jLe.Provider,{value:n,children:o.jsx(qgt,{children:o.jsx(jGt,{getMainWindowRef:t,children:e})})})},bf=e=>e?.includes("perplexity.ai"),RGt=e=>e?.includes("localhost"),LGt=e=>bf(e)&&e?.includes("preview"),OGt=e=>bf(e)&&e?.includes("staging"),PGt=e=>bf(e)&&(e?.includes("alpha")||e?.includes("beta")),IGt=e=>bf(e)&&e?.includes("testing"),DGt=e=>bf(e)&&e?.includes("askdev"),FGt=e=>bf(e)&&e?.startsWith("dev"),UGt=e=>bf(e)&&(e?.includes("klarna")||e?.includes("inhouse")||e?.includes("wolfram")||e?.includes("ftrouter")||e?.includes("ft")||e?.includes("brave")||e?.includes("claude2")||e?.includes("claude1-instant")||e?.includes("claude2-instant")||e?.includes("shopping")||e?.includes("turbo16k")||e?.includes("yelp")||e?.includes("mobile-flag-dev")),BGt=e=>bf(e)&&!LGt(e)&&!IGt(e)&&!PGt(e)&&!DGt(e)&&!FGt(e)&&!UGt(e);function ALe(){return BGt(window.location.hostname)?"beta":OGt(window.location.hostname)?"staging":RGt(window.location.hostname)?"local":"testing"}const VGt=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0},{property:"cause",enumerable:!1},{property:"errors",enumerable:!1}],ZO=new WeakSet,zGt=e=>{ZO.add(e);const t=e.toJSON();return ZO.delete(e),t},RLe=({from:e,seen:t,to:n,forceEnumerable:r,maxDepth:s,depth:a,useToJSON:i,serialize:l})=>{if(n||(Array.isArray(e)?n=[]:n={}),t.push(e),a>=s)return n;if(i&&typeof e.toJSON=="function"&&!ZO.has(e))return zGt(e);const c=u=>RLe({from:u,seen:[...t],forceEnumerable:r,maxDepth:s,depth:a,useToJSON:i,serialize:l});for(const[u,d]of Object.entries(e)){if(d&&d instanceof Uint8Array&&d.constructor.name==="Buffer"){n[u]="[object Buffer]";continue}if(d!==null&&typeof d=="object"&&typeof d.pipe=="function"){n[u]="[object Stream]";continue}if(typeof d!="function"){if(!d||typeof d!="object"){try{n[u]=d}catch{}continue}if(!t.includes(e[u])){a++,n[u]=c(e[u]);continue}n[u]="[Circular]"}}for(const{property:u,enumerable:d}of VGt)e[u]!==void 0&&e[u]!==null&&Object.defineProperty(n,u,{value:LLe(e[u])||Array.isArray(e[u])?c(e[u]):e[u],enumerable:!0,configurable:!0,writable:!0});return n};function HGt(e,t={}){const{maxDepth:n=Number.POSITIVE_INFINITY,useToJSON:r=!0}=t;return typeof e=="object"&&e!==null?RLe({from:e,seen:[],forceEnumerable:!0,maxDepth:n,depth:0,useToJSON:r,serialize:!0}):typeof e=="function"?`[Function: ${e.name||"anonymous"}]`:e}function LLe(e){return!!e&&typeof e=="object"&&typeof e.name=="string"&&typeof e.message=="string"&&typeof e.stack=="string"}class nh{static GC_TIME=1e3*60*5;static STALE_TIME=1/0;static retryDelay(t,n){return Math.min(t>1?2**t*1e3:1e3,30*1e3)}static retryQuery(t,n){return!1}static retryMutation(t,n){return!1}}function WGt(){return kh?_ie():(uj||(uj=_ie()),uj)}function _ie(){return new OIe({queryCache:new Bie({onError:e=>{const t=e instanceof dj?e:new dj("FETCHER_UNKNOWN_ERROR",{details:{cause:HGt(e)},cause:LLe(e)?e:void 0});le.error(t)}}),mutationCache:new zie({onError:e=>{le.error("Mutation error",e)}}),defaultOptions:{queries:{staleTime:nh.STALE_TIME,gcTime:nh.GC_TIME,refetchOnReconnect:!0,refetchOnMount:!0,refetchOnWindowFocus:!0,retry:nh.retryQuery,retryDelay:nh.retryDelay,throwOnError:!1,networkMode:"online"},mutations:{gcTime:nh.GC_TIME,retry:nh.retryMutation,retryDelay:nh.retryDelay,throwOnError:!1,networkMode:"online"}}})}let uj;De(async()=>({default:(await Me(()=>import("./RenderToolbar-wBuYUwaE.js"),__vite__mapDeps([241,1,3]))).RenderToolbar}));const $Gt=({children:e,hostname:t,version:n,spaRoutes:r,strictSpa:s,shouldOpenNonSpaRouteInNewTab:a,base:i})=>{const l=ln(),c=WGt(),{colorScheme:u}=On();return mLt(),f.useEffect(()=>{!n&&["beta","staging"].includes(ALe())&&le.error("Version is not set")},[n]),o.jsx(jle,{ssrPath:l??"/",ssrSearch:"",base:i,children:o.jsx(lue,{spaRoutes:r,strictSpa:s,openNonSpaRouteInNewTab:a,children:o.jsx(M3t,{children:o.jsxs(kjt,{children:[o.jsx(ELe,{}),o.jsx(rmt,{children:o.jsxs(BIe,{client:c,children:[o.jsx(tfe,{userPreferredColorScheme:u,children:o.jsx(vpe,{children:o.jsx(Utt,{hostname:t,children:o.jsx(rlt,{children:o.jsx(Ult,{children:o.jsx(Dht,{shouldFetchSettings:!0,children:o.jsx(Ctt,{children:o.jsx(CLe,{children:o.jsx(qhe,{children:o.jsx(U3t,{shouldFetchSettings:!1,children:o.jsxs(AGt,{children:[o.jsx(wGt,{children:o.jsx(egt,{children:o.jsx(Ole,{children:o.jsx(UCe,{children:o.jsx(sOt,{children:o.jsxs(X0t,{children:[o.jsx(kLe,{version:n}),o.jsx(NLe,{}),o.jsx(TLe,{}),typeof window<"u"&&o.jsx(Bke,{}),o.jsx(MLe,{}),e]})})})})})}),o.jsx(_Le,{})]})})})})})})})})})})}),!1,o.jsx(SLe,{})]})})]})})})})},OLe=L.memo(function({error:t}){f.useEffect(()=>{le.error(t,{digest:t.digest,globalError:!0})},[t]);const n=f.useCallback(r=>{r.preventDefault(),Oh("/sidecar","sidecar error")},[]);return o.jsx("div",{className:"bg-offset flex h-[100vh] items-center justify-center",children:o.jsxs(Q,{variant:"offset",className:"space-y-md p-lg rounded-md",children:[o.jsx("div",{className:"max-w-[400px]",children:o.jsx(F,{className:"text-center",variant:"section-title",children:t.digest?`Internal Error (${t.digest})`:"Internal Error"})}),o.jsx(F,{className:"text-center underline",variant:"section-title",color:"light",children:o.jsx(Nt,{href:"/sidecar",onClick:n,children:"Return home"})})]})})});OLe.displayName="GlobalError";const qGt={},Hz=L.memo(({locale:e,children:t,messages:n=qGt})=>{const r=f.useCallback(s=>{s.code!=="MISSING_TRANSLATION"&&le.error(s)},[]);return o.jsx(HPe,{locale:e,defaultLocale:Fd,messages:n,onError:r,children:t})});Hz.displayName="TranslationsProvider";const GGt=vx(GZe),PLe=L.memo(({locale:e,children:t})=>{const{translations:n,matchedLocale:r}=f.use(GGt(e));return o.jsx(Hz,{locale:r,messages:n,children:t})});PLe.displayName="InnerClientTranslationsProvider";const YGt={},ILe=L.memo(({children:e,shouldSetHtmlLang:t=!0})=>{const n=f.useMemo(()=>Sd(),[]);return f.useLayoutEffect(()=>{t&&(document.documentElement.lang=n)},[n,t]),n===Fd?o.jsx(Hz,{locale:n,messages:YGt,children:e}):o.jsx(f.Suspense,{fallback:null,children:o.jsx(PLe,{locale:n,children:e})})});ILe.displayName="ClientTranslationsProvider";const KGt=(e,t)=>t?.includes("WindowsApp")?!0:e==="true",QGt=e=>e==="light"||e==="dark";function XGt(e,{userAgent:t}={}){const n=e.colorScheme,r=QGt(n)?n:null;let s=e[fA],a={};try{a=JSON.parse(e[Fde]??"{}")}catch{}const i=Object.values(_e).includes(s);(!s||!i)&&(s=_e.SEARCH);const l=e[Sde];return{colorScheme:r,isCollapsed:KGt(e.isCollapsed,t),isSidebarPinned:e.isSidebarPinned==="true",sidebarHiddenHubs:JSON.parse(e.sidebarHiddenHubs??"[]"),isIncognitoLocal:e[oD]==="true",isDiscoverInterestBoxDismissed:l?l==="true":void 0,isEnterpriseAdDismissed:e[Mde]=="true",isSplashPageDismissed:e[kde]=="true",isSuggestionsDisabled:e[Ede]=="true",isHomepageWidgetsDisabled:e[Tde]=="true",isSportsIosCtaDismissed:e[jde]=="true",preferredSearchMode:s,preferredSearchModels:a,welcomeBackGateImpressions:Number(e[Ade])||0,shareGateImpressions:Number(e[Rde])||0,isSidebarConnectorsAdDismissed:e[Lde]=="true",isStudentReferralBannerDismissed:e[Ode]=="true"}}const ZGt=60*60*24;function JGt({children:e,session:t}){return o.jsx(Jo.SessionProvider,{session:t,refetchInterval:ZGt,children:e})}const DLe=L.memo(({host:e,userAgent:t,children:n,session:r})=>{const s=f.useMemo(()=>XGt(tIe(),{userAgent:t}),[t]);return o.jsx(ILe,{children:o.jsx(JGt,{session:r,children:o.jsx(Qde,{hostname:e,children:o.jsx(Ble,{userAgent:t,children:o.jsx(frt,{initialLocalUserSettings:s,children:o.jsx(LRe,{children:n})})})})})})});DLe.displayName="RootProviders";const FLe="pplx-next-auth-session";let p5=null;const eYt=()=>{try{const e=_t.getItem(FLe);return e?JSON.parse(e):null}catch{return null}},Cie=async e=>{e&&_t.setItem(FLe,JSON.stringify(e))},tYt=(e=!1)=>{p5??=Jo.getSession().then(n=>(Cie(n),n)).catch(n=>{throw Cie(null),n}).finally(()=>{p5=null});const t=eYt();return t&&(e||new Date(t.expires)>new Date)?{cachedSession:t,sessionFetchPromise:p5}:{cachedSession:null,sessionFetchPromise:p5}};function nYt(){const{cachedSession:e,sessionFetchPromise:t}=tYt(!0),n=Md(),r=document.querySelector("meta[name='version']")?.getAttribute("content")||"195edd1",s=new URL(window.location.href);return{cachedSession:e,sessionFetchPromise:t.catch(a=>(console.error("Error getting session",a),null)),config:{env:ALe(),version:r,erp:s.pathname.startsWith("/sidecar")?"sidecar":n?"tab":void 0}}}const rYt=document.getElementById("root"),sYt=bIe.createRoot(rYt),aYt=navigator.userAgent;function Sie(e,t){BEe(e,t?.user),sYt.render(o.jsx(L.StrictMode,{children:o.jsx(oi,{fallback:OLe,children:o.jsx(DLe,{host:window.location.hostname,userAgent:aYt,session:t??void 0,children:o.jsxs($Gt,{isMobileUserAgent:oYt,hostname:lYt??"",version:e.version,spaRoutes:pLt,strictSpa:!0,children:[o.jsx(URt,{children:o.jsx(wLe,{isCometServer:!!e.erp})}),o.jsx(dLt,{})]})})})}))}const{config:JO,cachedSession:Mie,sessionFetchPromise:iYt}=nYt();window.__PPL_CONFIG__=JO;const oYt=Dle(navigator.userAgent),lYt=window.location.host;Mie?Sie(JO,Mie):iYt.then(e=>{Sie(JO,e)});export{Lle as $,FC as A,Le as B,qe as C,tD as D,Fe as E,Ng as F,Kn as G,tn as H,dm as I,dI as J,kt as K,Nt as L,gt as M,pu as N,Z_ as O,Ae as P,Sn as Q,tOt as R,iM as S,Ne as T,no as U,gIe as V,Wp as W,AVe as X,ou as Y,Ct as Z,DA as _,xIe as a,wn as a$,Qt as a0,Ua as a1,c_e as a2,JF as a3,jD as a4,tRe as a5,A0t as a6,Mu as a7,Ds as a8,Ni as a9,O$t as aA,At as aB,De as aC,ey as aD,pg as aE,bw as aF,nf as aG,Ja as aH,ma as aI,Lg as aJ,Vt as aK,mw as aL,GKt as aM,oV as aN,iV as aO,WC as aP,_F as aQ,fXt as aR,Dl as aS,Br as aT,Oh as aU,ut as aV,on as aW,lLt as aX,Bn as aY,hQt as aZ,zHe as a_,wF as aa,me as ab,Ur as ac,tme as ad,oRt as ae,rQt as af,ZRe as ag,Wn as ah,V$t as ai,GXt as aj,z$t as ak,xu as al,lf as am,Hg as an,iXt as ao,zC as ap,dQt as aq,Ft as ar,EKt as as,NKt as at,$r as au,R1 as av,rI as aw,hf as ax,KWe as ay,sr as az,fe as b,qct as b$,gy as b0,sut as b1,Kt as b2,vn as b3,Wv as b4,_p as b5,TKt as b6,MKt as b7,ice as b8,kKt as b9,Ww as bA,CKt as bB,Bz as bC,uLe as bD,Wlt as bE,tf as bF,rct as bG,ict as bH,WRe as bI,Jle as bJ,hx as bK,am as bL,nc as bM,nje as bN,rz as bO,Ho as bP,Ai as bQ,v8 as bR,lo as bS,D$t as bT,Pct as bU,B$t as bV,bY as bW,eS as bX,XS as bY,Dme as bZ,Fa as b_,Yc as ba,fQt as bb,mF as bc,Id as bd,Rn as be,jt as bf,RDt as bg,Dx as bh,qlt as bi,ii as bj,uf as bk,sct as bl,xme as bm,d2 as bn,Ia as bo,Mn as bp,cf as bq,dLe as br,fLe as bs,KKt as bt,QKt as bu,cQt as bv,bme as bw,mHe as bx,fx as by,Uh as bz,W as c,ps as c$,df as c0,XKt as c1,LKt as c2,Gn as c3,zw as c4,AU as c5,vZt as c6,mf as c7,GG as c8,Hd as c9,RJt as cA,qQt as cB,WKt as cC,hct as cD,$Kt as cE,Yn as cF,qRe as cG,_Kt as cH,cHe as cI,gY as cJ,Rct as cK,Ei as cL,sLe as cM,QHe as cN,Cu as cO,RUe as cP,uot as cQ,ZV as cR,wNe as cS,JV as cT,_Ne as cU,cY as cV,yi as cW,AWt as cX,jWt as cY,nRe as cZ,sRe as c_,YG as ca,szt as cb,Ag as cc,md as cd,oQt as ce,lQt as cf,aQt as cg,iQt as ch,Fs as ci,Ome as cj,Mr as ck,OKt as cl,PKt as cm,y2 as cn,AJt as co,wWt as cp,fct as cq,IKt as cr,DKt as cs,AQt as ct,RQt as cu,FKt as cv,UKt as cw,VKt as cx,BKt as cy,zKt as cz,Bs as d,qCe as d$,sU as d0,mx as d1,MWe as d2,wce as d3,cm as d4,Os as d5,jYt as d6,J_e as d7,Mvt as d8,f2 as d9,ece as dA,lHe as dB,rm as dC,jQt as dD,xY as dE,Hj as dF,SWe as dG,VF as dH,QF as dI,ef as dJ,lu as dK,UXe as dL,fK as dM,kYt as dN,LXe as dO,PXe as dP,OXe as dQ,DXe as dR,FXe as dS,Sue as dT,pRe as dU,lyt as dV,go as dW,mSe as dX,iRt as dY,iyt as dZ,un as d_,$w as da,_ce as db,gkt as dc,Ig as dd,tQt as de,ri as df,NQt as dg,nQt as dh,An as di,FYt as dj,UYt as dk,wQt as dl,lm as dm,Sd as dn,uet as dp,nX as dq,HKt as dr,R5 as ds,Wg as dt,Bh as du,$g as dv,WF as dw,oSe as dx,um as dy,Oft as dz,sn as e,L_e as e$,zCe as e0,$Ce as e1,VCe as e2,JKt as e3,nce as e4,cce as e5,KA as e6,L_ as e7,Spe as e8,kQt as e9,$D as eA,eQt as eB,Xct as eC,ax as eD,Kct as eE,rKt as eF,uQt as eG,JYt as eH,KO as eI,oKt as eJ,lKt as eK,pb as eL,cAe as eM,Vr as eN,WMt as eO,WQt as eP,Zd as eQ,$Qt as eR,xa as eS,Wie as eT,iC as eU,af as eV,vs as eW,rU as eX,cCe as eY,qj as eZ,Ar as e_,n$t as ea,HCe as eb,XNe as ec,GHt as ed,Yj as ee,On as ef,tU as eg,Oct as eh,e$t as ei,kRe as ej,EQt as ek,TQt as el,bCe as em,yCe as en,xCe as eo,cVt as ep,uVt as eq,Lx as er,VHt as es,TVe as et,P_e as eu,aU as ev,jie as ew,yKt as ex,bh as ey,fo as ez,Gt as f,qg as f$,RYt as f0,YNe as f1,yw as f2,Jo as f3,xF as f4,bU as f5,lA as f6,Lz as f7,Wo as f8,_Lt as f9,lXt as fA,cXt as fB,uXt as fC,Ic as fD,ad as fE,Ace as fF,aWe as fG,zj as fH,Ed as fI,f2t as fJ,HF as fK,I0t as fL,P0t as fM,V0t as fN,U0t as fO,j5 as fP,v_e as fQ,D0t as fR,o_e as fS,Bj as fT,oC as fU,xVt as fV,bVt as fW,Re as fX,zg as fY,cn as fZ,XB as f_,KCe as fa,Wdt as fb,ude as fc,MHe as fd,KHe as fe,iKt as ff,La as fg,Ns as fh,Yke as fi,INe as fj,iOt as fk,KC as fl,dh as fm,Si as fn,DDt as fo,TLt as fp,CLt as fq,SLt as fr,XLt as fs,BNe as ft,SNe as fu,$Ee as fv,CNe as fw,s4t as fx,kCe as fy,oXt as fz,Ye as g,hy as g$,$F as g0,bmt as g1,qc as g2,CAe as g3,aAe as g4,fJt as g5,y_e as g6,yZt as g7,F0t as g8,mD as g9,hXt as gA,vXt as gB,Nzt as gC,vJt as gD,yJt as gE,SJt as gF,xJt as gG,iI as gH,vMt as gI,AXt as gJ,Yl as gK,pt as gL,pXt as gM,MJt as gN,rEe as gO,Ozt as gP,_C as gQ,TMt as gR,fMt as gS,jXt as gT,qKt as gU,GLt as gV,A_ as gW,LLt as gX,OLt as gY,Vg as gZ,C1 as g_,pZt as ga,XMt as gb,S7t as gc,_B as gd,tS as ge,US as gf,Mi as gg,m8e as gh,kXt as gi,FS as gj,SB as gk,g7t as gl,z7e as gm,ace as gn,mu as go,agt as gp,NXt as gq,$Mt as gr,TXt as gs,gZt as gt,nS as gu,CJt as gv,fAe as gw,kJt as gx,jzt as gy,U1 as gz,JXt as h,cu as h$,iDt as h0,QS as h1,QB as h2,ANe as h3,Djt as h4,$ke as h5,KLt as h6,HLt as h7,RNe as h8,f4 as h9,nkt as hA,_ne as hB,R_ as hC,Nkt as hD,Tkt as hE,ZKt as hF,MC as hG,sf as hH,RXt as hI,oi as hJ,Rg as hK,fm as hL,h2t as hM,Lue as hN,Fr as hO,V_ as hP,Yp as hQ,Jn as hR,pn as hS,AF as hT,rf as hU,da as hV,PC as hW,br as hX,dqt as hY,hrt as hZ,mU as h_,Hw as ha,Mce as hb,_l as hc,rWe as hd,px as he,PNe as hf,LNe as hg,jo as hh,tKt as hi,Tg as hj,nKt as hk,GYt as hl,O1 as hm,rVe as hn,jP as ho,PP as hp,_Qt as hq,Uft as hr,B_ as hs,VO as ht,zh as hu,fp as hv,TMe as hw,jkt as hx,wne as hy,qit as hz,Vle as i,D7e as i$,SXt as i0,zO as i1,Tce as i2,Fmt as i3,wU as i4,nSe as i5,rSe as i6,Ga as i7,$_e as i8,iU as i9,QZt as iA,XZt as iB,aJt as iC,ZZt as iD,Uje as iE,IEe as iF,BS as iG,JZt as iH,eJt as iI,tJt as iJ,zF as iK,sJt as iL,MNe as iM,mJt as iN,hJt as iO,CNt as iP,GZt as iQ,pJt as iR,hZt as iS,gJt as iT,WN as iU,_Vt as iV,K7t as iW,Y7t as iX,B7e as iY,MXt as iZ,I7e as i_,oU as ia,lU as ib,lCe as ic,by as id,cF as ie,QMe as ig,AWe as ih,ln as ii,Fx as ij,Fje as ik,VVt as il,jZt as im,kZt as io,Vx as ip,fze as iq,qMt as ir,oJt as is,iJt as it,cJt as iu,lJt as iv,dJt as iw,uJt as ix,mVt as iy,hVt as iz,o as j,mXt as j$,F7e as j0,U7e as j1,tMe as j2,nb as j3,t7t as j4,SZt as j5,CZt as j6,Wj as j7,o1e as j8,YZt as j9,py as jA,_kt as jB,hDt as jC,YC as jD,MB as jE,hFe as jF,pvt as jG,Ex as jH,yv as jI,JI as jJ,wXt as jK,_Xt as jL,xXt as jM,Q3t as jN,bXt as jO,yXt as jP,o$e as jQ,c1 as jR,q3t as jS,pAe as jT,Azt as jU,YHe as jV,UF as jW,n7t as jX,bJt as jY,wJt as jZ,_Jt as j_,Hmt as ja,$p as jb,KZt as jc,jg as jd,amt as je,imt as jf,omt as jg,aR as jh,Ahe as ji,EDt as jj,PXt as jk,qat as jl,IXt as jm,Ljt as jn,Rke as jo,Ya as jp,uZt as jq,Ake as jr,DXt as js,fVt as jt,EZt as ju,$He as jv,Nht as jw,IC as jx,Lmt as jy,Omt as jz,sc as k,AZt as k$,si as k0,CXt as k1,H5 as k2,jSt as k3,rMe as k4,Hl as k5,EXt as k6,roe as k7,gXt as k8,Toe as k9,V3t as kA,MQt as kB,cZt as kC,rJt as kD,nJt as kE,OZt as kF,zft as kG,BO as kH,bMe as kI,PZt as kJ,lpe as kK,r0t as kL,qZt as kM,$Zt as kN,IZt as kO,DZt as kP,UZt as kQ,FZt as kR,VZt as kS,BZt as kT,MZt as kU,RHe as kV,fh as kW,fce as kX,WZt as kY,NZt as kZ,TZt as k_,koe as ka,Ej as kb,ru as kc,Uoe as kd,tFe as ke,jr as kf,MP as kg,ha as kh,pFe as ki,mFe as kj,yP as kk,nu as kl,y1 as km,dVe as kn,Hr as ko,QUe as kp,mVe as kq,hVe as kr,LG as ks,XUe as kt,Ioe as ku,Eoe as kv,AFe as kw,D6e as kx,Yae as ky,Gae as kz,Ln as l,HYt as l$,Y9t as l0,K9t as l1,HZt as l2,zZt as l3,LZt as l4,RZt as l5,mZt as l6,PQt as l7,FCe as l8,sze as l9,AKt as lA,RKt as lB,pQt as lC,gQt as lD,vQt as lE,yQt as lF,d$e as lG,jKt as lH,Xi as lI,vF as lJ,mQt as lK,Mze as lL,rHe as lM,Nft as lN,T$t as lO,NYt as lP,mYt as lQ,TYt as lR,Dh as lS,h1e as lT,qG as lU,gYt as lV,pYt as lW,TJt as lX,m_ as lY,SDt as lZ,Igt as l_,PDt as la,Hpe as lb,oVe as lc,JIe as ld,PBe as le,ole as lf,TBe as lg,eUe as lh,pVe as li,IFt as lj,E_ as lk,aI as ll,Nce as lm,yce as ln,Sce as lo,lI as lp,NHe as lq,dFt as lr,Ez as ls,kz as lt,mLe as lu,pLe as lv,HRe as lw,KAe as lx,CYt as ly,_Yt as lz,je as m,XCe as m$,wY as m0,rce as m1,Pgt as m2,eAe as m3,zYt as m4,EJt as m5,aC as m6,vYt as m7,yYt as m8,xYt as m9,QQt as mA,eXt as mB,ZQt as mC,tXt as mD,Khe as mE,GQt as mF,Upt as mG,WZe as mH,aXt as mI,IQt as mJ,FQt as mK,DQt as mL,HQt as mM,VQt as mN,sQt as mO,zWe as mP,uI as mQ,Sx as mR,zQt as mS,nk as mT,sXt as mU,$mt as mV,wCe as mW,F_e as mX,Fl as mY,Tvt as mZ,Nvt as m_,m1e as ma,XQt as mb,t1t as mc,Mhe as md,ff as me,XWe as mf,ait as mg,opt as mh,$pe as mi,hYt as mj,fkt as mk,oCe as ml,a0t as mm,VYt as mn,BYt as mo,Sg as mp,MF as mq,Ml as mr,Cvt as ms,CQt as mt,R_e as mu,mo as mv,vce as mw,fJe as mx,gx as my,KQt as mz,XXt as n,Mt as n$,ys as n0,CCe as n1,BQt as n2,YQt as n3,F5 as n4,vWe as n5,eKt as n6,UQt as n7,OEe as n8,Vft as n9,GO as nA,Cl as nB,vw as nC,uWe as nD,wWe as nE,OQt as nF,gg as nG,r$e as nH,kpt as nI,Lce as nJ,c2 as nK,Wpt as nL,JQt as nM,nXt as nN,ipt as nO,ZYt as nP,UZ as nQ,YXt as nR,rLt as nS,sLt as nT,sit as nU,Jde as nV,jF as nW,uce as nX,QXt as nY,KXt as nZ,u$e as n_,vvt as na,f1e as nb,EGt as nc,dR as nd,dr as ne,_me as nf,Ys as ng,SKt as nh,Qlt as ni,kX as nj,k8 as nk,dyt as nl,uyt as nm,HWt as nn,OJt as no,PJt as np,LJt as nq,DSe as nr,$Ae as ns,WWt as nt,eWe as nu,hce as nv,qAe as nw,Ab as nx,FJt as ny,UWt as nz,ZXt as o,Uc as o$,dxt as o0,vr as o1,G7 as o2,Za as o3,gf as o4,Nxt as o5,sHe as o6,PWe as o7,KYt as o8,YYt as o9,bZt as oA,_Zt as oB,yje as oC,uz as oD,yu as oE,eZt as oF,ir as oG,xt as oH,ro as oI,rt as oJ,Ms as oK,cg as oL,nZt as oM,rZt as oN,tZt as oO,cTe as oP,sZt as oQ,lTe as oR,aZt as oS,Q5 as oT,bt as oU,pa as oV,qV as oW,iZt as oX,c5 as oY,BTe as oZ,gm as o_,QYt as oa,pr as ob,KY as oc,zjt as od,Ti as oe,_e as of,Yat as og,jhe as oh,ml as oi,YB as oj,zy as ok,Ijt as ol,Kke as om,ZWe as on,oI as oo,e2 as op,N0t as oq,EBt as or,ZFt as os,XFt as ot,fz as ou,XUt as ov,nx as ow,xZt as ox,bBt as oy,wZt as oz,_t as p,BCe as p$,Yse as p0,rs as p1,Rd as p2,f1 as p3,He as p4,Zy as p5,a8 as p6,r_ as p7,oZt as p8,hWt as p9,kvt as pA,OYt as pB,a$t as pC,K_e as pD,uRe as pE,cRe as pF,sKt as pG,kHe as pH,m2t as pI,gU as pJ,jJt as pK,Wd as pL,UJt as pM,r$t as pN,NRe as pO,DJt as pP,dde as pQ,Nd as pR,pKt as pS,Dg as pT,XYt as pU,Pw as pV,hde as pW,cI as pX,IJt as pY,xQt as pZ,bQt as p_,NJt as pa,dHe as pb,Un as pc,Q2t as pd,K2t as pe,PYt as pf,uCe as pg,XP as ph,EMe as pi,Sht as pj,ac as pk,nU as pl,uvt as pm,hvt as pn,dvt as po,D_e as pp,Wk as pq,MCe as pr,Fn as ps,fRe as pt,sSe as pu,yp as pv,Evt as pw,Xat as px,bu as py,WYt as pz,Q as q,dce as q$,nD as q0,uY as q1,dY as q2,zc as q3,wze as q4,UEt as q5,BEt as q6,zEt as q7,VEt as q8,FNt as q9,Ud as qA,jz as qB,vg as qC,mce as qD,wYt as qE,bYt as qF,MYt as qG,SYt as qH,aKt as qI,QD as qJ,rXt as qK,met as qL,Zgt as qM,F6e as qN,LO as qO,hWe as qP,Zat as qQ,fpe as qR,DEe as qS,wC as qT,fKt as qU,q$t as qV,hKt as qW,zWt as qX,kWe as qY,nWe as qZ,xce as q_,BNt as qa,dv as qb,ww as qc,jce as qd,Hy as qe,akt as qf,A_e as qg,zfe as qh,ZWt as qi,mKt as qj,MRe as qk,VWe as ql,eme as qm,Ile as qn,e8 as qo,xKt as qp,fF as qq,WHt as qr,Vc as qs,dZt as qt,fZt as qu,u$t as qv,olt as qw,wKt as qx,mGt as qy,Uz as qz,Xs as r,kF as r0,Wke as r1,HWe as r2,sV as r3,us as r4,WCe as r5,p$e as r6,$j as r7,m$e as r8,YKt as r9,Hhe as ra,vKt as rb,AYt as rc,LYt as rd,u8e as re,ZC as rf,t8e as rg,uEe as rh,Zs as ri,IYt as rj,dKt as rk,Ame as rl,ez as rm,qHe as rn,uKt as ro,C2t as rp,FSe as rq,bKt as rr,KWt as rs,DYt as rt,TRe as ru,bJe as s,F as t,ba as u,qr as v,it as w,yn as x,Pa as y,Sr as z};
//# sourceMappingURL=index-Dl-_4gco.js.map
