function za(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var m0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ja(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function g0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var $n={exports:{}},O={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oi;function Xa(){if(oi)return O;oi=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),a=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),f=Symbol.iterator;function d(h){return h===null||typeof h!="object"?null:(h=f&&h[f]||h["@@iterator"],typeof h=="function"?h:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,_={};function v(h,b,I){this.props=h,this.context=b,this.refs=_,this.updater=I||p}v.prototype.isReactComponent={},v.prototype.setState=function(h,b){if(typeof h!="object"&&typeof h!="function"&&h!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,h,b,"setState")},v.prototype.forceUpdate=function(h){this.updater.enqueueForceUpdate(this,h,"forceUpdate")};function y(){}y.prototype=v.prototype;function S(h,b,I){this.props=h,this.context=b,this.refs=_,this.updater=I||p}var E=S.prototype=new y;E.constructor=S,m(E,v.prototype),E.isPureReactComponent=!0;var U=Array.isArray,g={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function A(h,b,I,x,N,W){return I=W.ref,{$$typeof:t,type:h,key:b,ref:I!==void 0?I:null,props:W}}function ot(h,b){return A(h.type,b,void 0,void 0,void 0,h.props)}function K(h){return typeof h=="object"&&h!==null&&h.$$typeof===t}function Ne(h){var b={"=":"=0",":":"=2"};return"$"+h.replace(/[=:]/g,function(I){return b[I]})}var ue=/\/+/g;function zt(h,b){return typeof h=="object"&&h!==null&&h.key!=null?Ne(""+h.key):b.toString(36)}function ce(){}function Le(h){switch(h.status){case"fulfilled":return h.value;case"rejected":throw h.reason;default:switch(typeof h.status=="string"?h.then(ce,ce):(h.status="pending",h.then(function(b){h.status==="pending"&&(h.status="fulfilled",h.value=b)},function(b){h.status==="pending"&&(h.status="rejected",h.reason=b)})),h.status){case"fulfilled":return h.value;case"rejected":throw h.reason}}throw h}function yt(h,b,I,x,N){var W=typeof h;(W==="undefined"||W==="boolean")&&(h=null);var k=!1;if(h===null)k=!0;else switch(W){case"bigint":case"string":case"number":k=!0;break;case"object":switch(h.$$typeof){case t:case e:k=!0;break;case l:return k=h._init,yt(k(h._payload),b,I,x,N)}}if(k)return N=N(h),k=x===""?"."+zt(h,0):x,U(N)?(I="",k!=null&&(I=k.replace(ue,"$&/")+"/"),yt(N,b,I,"",function($a){return $a})):N!=null&&(K(N)&&(N=ot(N,I+(N.key==null||h&&h.key===N.key?"":(""+N.key).replace(ue,"$&/")+"/")+k)),b.push(N)),1;k=0;var Dt=x===""?".":x+":";if(U(h))for(var J=0;J<h.length;J++)x=h[J],W=Dt+zt(x,J),k+=yt(x,b,I,W,N);else if(J=d(h),typeof J=="function")for(h=J.call(h),J=0;!(x=h.next()).done;)x=x.value,W=Dt+zt(x,J++),k+=yt(x,b,I,W,N);else if(W==="object"){if(typeof h.then=="function")return yt(Le(h),b,I,x,N);throw b=String(h),Error("Objects are not valid as a React child (found: "+(b==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":b)+"). If you meant to render a collection of children, use an array instead.")}return k}function Mt(h,b,I){if(h==null)return h;var x=[],N=0;return yt(h,x,"","",function(W){return b.call(I,W,N++)}),x}function le(h){if(h._status===-1){var b=h._result;b=b(),b.then(function(I){(h._status===0||h._status===-1)&&(h._status=1,h._result=I)},function(I){(h._status===0||h._status===-1)&&(h._status=2,h._result=I)}),h._status===-1&&(h._status=0,h._result=b)}if(h._status===1)return h._result.default;throw h._result}var bt=typeof reportError=="function"?reportError:function(h){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var b=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof h=="object"&&h!==null&&typeof h.message=="string"?String(h.message):String(h),error:h});if(!window.dispatchEvent(b))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",h);return}console.error(h)};function Rt(){}return O.Children={map:Mt,forEach:function(h,b,I){Mt(h,function(){b.apply(this,arguments)},I)},count:function(h){var b=0;return Mt(h,function(){b++}),b},toArray:function(h){return Mt(h,function(b){return b})||[]},only:function(h){if(!K(h))throw Error("React.Children.only expected to receive a single React element child.");return h}},O.Component=v,O.Fragment=n,O.Profiler=i,O.PureComponent=S,O.StrictMode=r,O.Suspense=c,O.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=g,O.act=function(){throw Error("act(...) is not supported in production builds of React.")},O.cache=function(h){return function(){return h.apply(null,arguments)}},O.cloneElement=function(h,b,I){if(h==null)throw Error("The argument must be a React element, but you passed "+h+".");var x=m({},h.props),N=h.key,W=void 0;if(b!=null)for(k in b.ref!==void 0&&(W=void 0),b.key!==void 0&&(N=""+b.key),b)!L.call(b,k)||k==="key"||k==="__self"||k==="__source"||k==="ref"&&b.ref===void 0||(x[k]=b[k]);var k=arguments.length-2;if(k===1)x.children=I;else if(1<k){for(var Dt=Array(k),J=0;J<k;J++)Dt[J]=arguments[J+2];x.children=Dt}return A(h.type,N,void 0,void 0,W,x)},O.createContext=function(h){return h={$$typeof:s,_currentValue:h,_currentValue2:h,_threadCount:0,Provider:null,Consumer:null},h.Provider=h,h.Consumer={$$typeof:o,_context:h},h},O.createElement=function(h,b,I){var x,N={},W=null;if(b!=null)for(x in b.key!==void 0&&(W=""+b.key),b)L.call(b,x)&&x!=="key"&&x!=="__self"&&x!=="__source"&&(N[x]=b[x]);var k=arguments.length-2;if(k===1)N.children=I;else if(1<k){for(var Dt=Array(k),J=0;J<k;J++)Dt[J]=arguments[J+2];N.children=Dt}if(h&&h.defaultProps)for(x in k=h.defaultProps,k)N[x]===void 0&&(N[x]=k[x]);return A(h,W,void 0,void 0,null,N)},O.createRef=function(){return{current:null}},O.forwardRef=function(h){return{$$typeof:u,render:h}},O.isValidElement=K,O.lazy=function(h){return{$$typeof:l,_payload:{_status:-1,_result:h},_init:le}},O.memo=function(h,b){return{$$typeof:a,type:h,compare:b===void 0?null:b}},O.startTransition=function(h){var b=g.T,I={};g.T=I;try{var x=h(),N=g.S;N!==null&&N(I,x),typeof x=="object"&&x!==null&&typeof x.then=="function"&&x.then(Rt,bt)}catch(W){bt(W)}finally{g.T=b}},O.unstable_useCacheRefresh=function(){return g.H.useCacheRefresh()},O.use=function(h){return g.H.use(h)},O.useActionState=function(h,b,I){return g.H.useActionState(h,b,I)},O.useCallback=function(h,b){return g.H.useCallback(h,b)},O.useContext=function(h){return g.H.useContext(h)},O.useDebugValue=function(){},O.useDeferredValue=function(h,b){return g.H.useDeferredValue(h,b)},O.useEffect=function(h,b){return g.H.useEffect(h,b)},O.useId=function(){return g.H.useId()},O.useImperativeHandle=function(h,b,I){return g.H.useImperativeHandle(h,b,I)},O.useInsertionEffect=function(h,b){return g.H.useInsertionEffect(h,b)},O.useLayoutEffect=function(h,b){return g.H.useLayoutEffect(h,b)},O.useMemo=function(h,b){return g.H.useMemo(h,b)},O.useOptimistic=function(h,b){return g.H.useOptimistic(h,b)},O.useReducer=function(h,b,I){return g.H.useReducer(h,b,I)},O.useRef=function(h){return g.H.useRef(h)},O.useState=function(h){return g.H.useState(h)},O.useSyncExternalStore=function(h,b,I){return g.H.useSyncExternalStore(h,b,I)},O.useTransition=function(){return g.H.useTransition()},O.version="19.0.0",O}var si;function mo(){return si||(si=1,$n.exports=Xa()),$n.exports}var X=mo();const _r=ja(X),_0=za({__proto__:null,default:_r},[X]);var zn={exports:{}},nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ai;function Wa(){if(ai)return nt;ai=1;var t=mo();function e(c){var a="https://react.dev/errors/"+c;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+c+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(c,a,l){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:c,containerInfo:a,implementation:l}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,a){if(c==="font")return"";if(typeof a=="string")return a==="use-credentials"?a:""}return nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nt.createPortal=function(c,a){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)throw Error(e(299));return o(c,a,null,l)},nt.flushSync=function(c){var a=s.T,l=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=a,r.p=l,r.d.f()}},nt.preconnect=function(c,a){typeof c=="string"&&(a?(a=a.crossOrigin,a=typeof a=="string"?a==="use-credentials"?a:"":void 0):a=null,r.d.C(c,a))},nt.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},nt.preinit=function(c,a){if(typeof c=="string"&&a&&typeof a.as=="string"){var l=a.as,f=u(l,a.crossOrigin),d=typeof a.integrity=="string"?a.integrity:void 0,p=typeof a.fetchPriority=="string"?a.fetchPriority:void 0;l==="style"?r.d.S(c,typeof a.precedence=="string"?a.precedence:void 0,{crossOrigin:f,integrity:d,fetchPriority:p}):l==="script"&&r.d.X(c,{crossOrigin:f,integrity:d,fetchPriority:p,nonce:typeof a.nonce=="string"?a.nonce:void 0})}},nt.preinitModule=function(c,a){if(typeof c=="string")if(typeof a=="object"&&a!==null){if(a.as==null||a.as==="script"){var l=u(a.as,a.crossOrigin);r.d.M(c,{crossOrigin:l,integrity:typeof a.integrity=="string"?a.integrity:void 0,nonce:typeof a.nonce=="string"?a.nonce:void 0})}}else a==null&&r.d.M(c)},nt.preload=function(c,a){if(typeof c=="string"&&typeof a=="object"&&a!==null&&typeof a.as=="string"){var l=a.as,f=u(l,a.crossOrigin);r.d.L(c,l,{crossOrigin:f,integrity:typeof a.integrity=="string"?a.integrity:void 0,nonce:typeof a.nonce=="string"?a.nonce:void 0,type:typeof a.type=="string"?a.type:void 0,fetchPriority:typeof a.fetchPriority=="string"?a.fetchPriority:void 0,referrerPolicy:typeof a.referrerPolicy=="string"?a.referrerPolicy:void 0,imageSrcSet:typeof a.imageSrcSet=="string"?a.imageSrcSet:void 0,imageSizes:typeof a.imageSizes=="string"?a.imageSizes:void 0,media:typeof a.media=="string"?a.media:void 0})}},nt.preloadModule=function(c,a){if(typeof c=="string")if(a){var l=u(a.as,a.crossOrigin);r.d.m(c,{as:typeof a.as=="string"&&a.as!=="script"?a.as:void 0,crossOrigin:l,integrity:typeof a.integrity=="string"?a.integrity:void 0})}else r.d.m(c)},nt.requestFormReset=function(c){r.d.r(c)},nt.unstable_batchedUpdates=function(c,a){return c(a)},nt.useFormState=function(c,a,l){return s.H.useFormState(c,a,l)},nt.useFormStatus=function(){return s.H.useHostTransitionStatus()},nt.version="19.0.0",nt}var ui;function y0(){if(ui)return zn.exports;ui=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zn.exports=Wa(),zn.exports}const q={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},Tt=console,qt={};Object.keys(q).forEach(t=>{qt[t]=Tt[t]});const ke="Datadog Browser SDK:",M={debug:qt.debug.bind(Tt,ke),log:qt.log.bind(Tt,ke),info:qt.info.bind(Tt,ke),warn:qt.warn.bind(Tt,ke),error:qt.error.bind(Tt,ke)},On="https://docs.datadoghq.com",go=`${On}/real_user_monitoring/browser/troubleshooting`,Nn="More details:";function _o(t,e){return(...n)=>{try{return t(...n)}catch(r){M.error(e,r)}}}function Ht(t){return t!==0&&Math.random()*100<=t}function vn(t,e){return+t.toFixed(e)}function qa(t){return qe(t)&&t>=0&&t<=100}function qe(t){return typeof t=="number"}const at=1e3,ut=60*at,yo=60*ut,Ya=24*yo,bo=365*Ya;function Ln(t){return{relative:t,timeStamp:Ja(t)}}function Ka(t){return{relative:kn(t),timeStamp:t}}function Ja(t){const e=ht()-performance.now();return e>Ye()?Math.round(we(e,t)):Qa(t)}function Za(){return Math.round(ht()-we(Ye(),performance.now()))}function C(t){return qe(t)?vn(t*1e6,0):t}function ht(){return new Date().getTime()}function Q(){return ht()}function pt(){return performance.now()}function it(){return{relative:pt(),timeStamp:Q()}}function vo(){return{relative:0,timeStamp:Ye()}}function tt(t,e){return e-t}function we(t,e){return t+e}function kn(t){return t-Ye()}function Qa(t){return Math.round(we(Ye(),t))}function tu(t){return t<bo}let jn;function Ye(){return jn===void 0&&(jn=performance.timing.navigationStart),jn}const Nt=1024,Eo=1024*Nt,eu=/[^\u0000-\u007F]/;function Ur(t){return eu.test(t)?window.TextEncoder!==void 0?new TextEncoder().encode(t).length:new Blob([t]).size:t.length}function nu(t){const e=t.reduce((i,o)=>i+o.length,0),n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function Ve(t){return{...t}}function En(t,e){return Object.keys(t).some(n=>t[n]===e)}function Qt(t){return Object.keys(t).length===0}function ru(t,e){const n={};for(const r of Object.keys(t))n[r]=e(t[r]);return n}function Lt(){if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get(){return this},configurable:!0});let t=_dd_temp_;return delete Object.prototype._dd_temp_,typeof t!="object"&&(typeof self=="object"?t=self:typeof window=="object"?t=window:t={}),t}function Ft(t,e){const n=Lt();let r;return n.Zone&&typeof n.Zone.__symbol__=="function"&&(r=t[n.Zone.__symbol__(e)]),r||(r=t[e]),r}let Sn,So=!1;function iu(t){Sn=t}function ou(t){So=t}function su(t,e,n){const r=n.value;n.value=function(...i){return(Sn?T(r):r).apply(this,i)}}function T(t){return function(){return te(t,this,arguments)}}function te(t,e,n){try{return t.apply(e,n)}catch(r){To(r)}}function To(t){if(yr(t),Sn)try{Sn(t)}catch(e){yr(e)}}function yr(...t){So&&M.error("[MONITOR]",...t)}function rt(t,e){return Ft(Lt(),"setTimeout")(T(t),e)}function ft(t){Ft(Lt(),"clearTimeout")(t)}function xe(t,e){return Ft(Lt(),"setInterval")(T(t),e)}function Pn(t){Ft(Lt(),"clearInterval")(t)}class B{constructor(e){this.onFirstSubscribe=e,this.observers=[]}subscribe(e){return this.observers.push(e),this.observers.length===1&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0),{unsubscribe:()=>{this.observers=this.observers.filter(n=>e!==n),!this.observers.length&&this.onLastUnsubscribe&&this.onLastUnsubscribe()}}}notify(e){this.observers.forEach(n=>n(e))}}function wo(...t){return new B(e=>{const n=t.map(r=>r.subscribe(i=>e.notify(i)));return()=>n.forEach(r=>r.unsubscribe())})}function Ke(t,e,n){const r=n&&n.leading!==void 0?n.leading:!0,i=n&&n.trailing!==void 0?n.trailing:!0;let o=!1,s,u;return{throttled:(...c)=>{if(o){s=c;return}r?t(...c):s=c,o=!0,u=rt(()=>{i&&s&&t(...s),o=!1,s=void 0},e)},cancel:()=>{ft(u),o=!1,s=void 0}}}function G(){}function et(t){return t?(parseInt(t,10)^Math.random()*16>>parseInt(t,10)/4).toString(16):`10000000-1000-4000-8000-${1e11}`.replace(/[018]/g,et)}const Tn=/([\w-]+)\s*=\s*([^;]+)/g;function $e(t,e){for(Tn.lastIndex=0;;){const n=Tn.exec(t);if(n){if(n[1]===e)return n[2]}else break}}function au(t){const e=new Map;for(Tn.lastIndex=0;;){const n=Tn.exec(t);if(n)e.set(n[1],n[2]);else break}return e}function xo(t,e,n=""){const r=t.charCodeAt(e-1),o=r>=55296&&r<=56319?e+1:e;return t.length<=o?t:`${t.slice(0,o)}${n}`}function uu(){return Ao()===0}function b0(){return Ao()===1}let rn;function Ao(){return rn??(rn=cu())}function cu(t=window){var e;const n=t.navigator.userAgent;return t.chrome||/HeadlessChrome/.test(n)?0:((e=t.navigator.vendor)===null||e===void 0?void 0:e.indexOf("Apple"))===0||/safari/i.test(n)&&!/chrome|android/i.test(n)?1:2}function Je(t,e,n=0,r){const i=new Date;i.setTime(i.getTime()+n);const o=`expires=${i.toUTCString()}`,s=r&&r.crossSite?"none":"strict",u=r&&r.domain?`;domain=${r.domain}`:"",c=r&&r.secure?";secure":"",a=r&&r.partitioned?";partitioned":"";document.cookie=`${t}=${e};${o};path=/;samesite=${s}${u}${c}${a}`}function Br(t){return $e(document.cookie,t)}let Xn;function Bt(t){return Xn||(Xn=au(document.cookie)),Xn.get(t)}function Io(t,e){Je(t,"",0,e)}function lu(t){if(document.cookie===void 0||document.cookie===null)return!1;try{const e=`dd_cookie_test_${et()}`,n="test";Je(e,n,ut,t);const r=Br(e)===n;return Io(e,t),r}catch(e){return M.error(e),!1}}let Wn;function du(){if(Wn===void 0){const t=`dd_site_test_${et()}`,e="test",n=window.location.hostname.split(".");let r=n.pop();for(;n.length&&!Br(t);)r=`${n.pop()}.${r}`,Je(t,e,at,{domain:r});Io(t,{domain:r}),Wn=r}return Wn}const Ae="_dd_s";function fu(t,e){for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(e(r,n,t))return r}}function wn(t){return Object.values(t)}function Hr(t){return Object.entries(t)}const re=4*yo,Co=15*ut,hu=bo,ze={COOKIE:"cookie",LOCAL_STORAGE:"local-storage"},Ro=/^([a-zA-Z]+)=([a-z0-9-]+)$/,Fr="&";function pu(t){return!!t&&(t.indexOf(Fr)!==-1||Ro.test(t))}const mu="1";function Yt(t,e){const n={isExpired:mu};return e.trackAnonymousUser&&(t?.anonymousId?n.anonymousId=t?.anonymousId:n.anonymousId=et()),n}function fn(t){return Qt(t)}function Oo(t){return!fn(t)}function xn(t){return t.isExpired!==void 0||!gu(t)}function gu(t){return(t.created===void 0||ht()-Number(t.created)<re)&&(t.expire===void 0||ht()<Number(t.expire))}function No(t){t.expire=String(ht()+Co)}function Gr(t){return Hr(t).map(([e,n])=>e==="anonymousId"?`aid=${n}`:`${e}=${n}`).join(Fr)}function Lo(t){const e={};return pu(t)&&t.split(Fr).forEach(n=>{const r=Ro.exec(n);if(r!==null){const[,i,o]=r;i==="aid"?e.anonymousId=o:e[i]=o}}),e}const _u="_dd",yu="_dd_r",bu="_dd_l",vu="rum",Eu="logs";function Su(t){if(!Bt(Ae)){const n=Bt(_u),r=Bt(yu),i=Bt(bu),o={};n&&(o.id=n),i&&/^[01]$/.test(i)&&(o[Eu]=i),r&&/^[012]$/.test(r)&&(o[vu]=r),Oo(o)&&(No(o),t.persistSession(o))}}function ci(t){const e=Iu(t);return lu(e)?{type:ze.COOKIE,cookieOptions:e}:void 0}function Tu(t,e){const n={isLockEnabled:uu(),persistSession:wu(e),retrieveSession:Au,expireSession:r=>xu(e,r,t)};return Su(n),n}function wu(t){return e=>{Je(Ae,Gr(e),Co,t)}}function xu(t,e,n){const r=Yt(e,n);Je(Ae,Gr(r),n.trackAnonymousUser?hu:re,t)}function Au(){const t=Br(Ae);return Lo(t)}function Iu(t){const e={};return e.secure=!!t.useSecureSessionCookie||!!t.usePartitionedCrossSiteSessionCookie,e.crossSite=!!t.usePartitionedCrossSiteSessionCookie,e.partitioned=!!t.usePartitionedCrossSiteSessionCookie,t.trackSessionAcrossSubdomains&&(e.domain=du()),e}const Cu="_dd_test_";function li(){try{const t=et(),e=`${Cu}${t}`;localStorage.setItem(e,t);const n=localStorage.getItem(e);return localStorage.removeItem(e),t===n?{type:ze.LOCAL_STORAGE}:void 0}catch{return}}function Ru(t){return{isLockEnabled:!1,persistSession:ko,retrieveSession:Ou,expireSession:e=>Nu(e,t)}}function ko(t){localStorage.setItem(Ae,Gr(t))}function Ou(){const t=localStorage.getItem(Ae);return Lo(t)}function Nu(t,e){ko(Yt(t,e))}const Lu=10,ku=100,Po=[];let hn;function Kt(t,e,n=0){var r;const{isLockEnabled:i,persistSession:o,expireSession:s}=e,u=d=>o({...d,lock:a}),c=()=>{const d=e.retrieveSession(),p=d.lock;return d.lock&&delete d.lock,{session:d,lock:p}};if(hn||(hn=t),t!==hn){Po.push(t);return}if(i&&n>=ku){di(e);return}let a,l=c();if(i){if(l.lock){on(t,e,n);return}if(a=et(),u(l.session),l=c(),l.lock!==a){on(t,e,n);return}}let f=t.process(l.session);if(i&&(l=c(),l.lock!==a)){on(t,e,n);return}if(f&&(xn(f)?s(f):(No(f),i?u(f):o(f))),i&&!(f&&xn(f))){if(l=c(),l.lock!==a){on(t,e,n);return}o(l.session),f=l.session}(r=t.after)===null||r===void 0||r.call(t,f||l.session),di(e)}function on(t,e,n){rt(()=>{Kt(t,e,n+1)},Lu)}function di(t){hn=void 0;const e=Po.shift();e&&Kt(e,t)}const fi=at;function Pu(t){switch(t.sessionPersistence){case ze.COOKIE:return ci(t);case ze.LOCAL_STORAGE:return li();case void 0:{let e=ci(t);return!e&&t.allowFallbackToLocalStorage&&(e=li()),e}default:M.error(`Invalid session persistence '${String(t.sessionPersistence)}'`)}}function Mu(t,e,n,r){const i=new B,o=new B,s=new B,u=t.type===ze.COOKIE?Tu(e,t.cookieOptions):Ru(e),{expireSession:c}=u,a=xe(m,fi);let l;v();const{throttled:f,cancel:d}=Ke(()=>{Kt({process:A=>{if(fn(A))return;const ot=_(A);return y(ot),ot},after:A=>{Oo(A)&&!S()&&g(A),l=A}},u)},fi);function p(){Kt({process:A=>S()?_(A):void 0},u)}function m(){Kt({process:A=>xn(A)?Yt(A,e):void 0,after:_},u)}function _(A){return xn(A)&&(A=Yt(A,e)),S()&&(E(A)?U():(s.notify({previousState:l,newState:A}),l=A)),A}function v(){Kt({process:A=>{if(fn(A))return Yt(A,e)},after:A=>{l=A}},u)}function y(A){if(fn(A))return!1;const{trackingType:ot,isTracked:K}=r(A[n]);A[n]=ot,delete A.isExpired,K&&!A.id&&(A.id=et(),A.created=String(ht()))}function S(){return l[n]!==void 0}function E(A){return l.id!==A.id||l[n]!==A[n]}function U(){l=Yt(l,e),o.notify()}function g(A){l=A,i.notify()}function L(A){Kt({process:ot=>({...ot,...A}),after:_},u)}return{expandOrRenewSession:f,expandSession:p,getSession:()=>l,renewObservable:i,expireObservable:o,sessionStateUpdateObservable:s,restartSession:v,expire:()=>{d(),c(l),_(Yt(l,e))},stop:()=>{Pn(a)},updateSessionState:L}}const br={GRANTED:"granted",NOT_GRANTED:"not-granted"};function Mo(t){const e=new B;return{tryToInit(n){t||(t=n)},update(n){t=n,e.notify()},isGranted(){return t===br.GRANTED},observable:e}}function ie(t,e,n){if(typeof t!="object"||t===null)return JSON.stringify(t);const r=pe(Object.prototype),i=pe(Array.prototype),o=pe(Object.getPrototypeOf(t)),s=pe(t);try{return JSON.stringify(t,e,n)}catch{return"<error: unable to serialize object>"}finally{r(),i(),o(),s()}}function pe(t){const e=t,n=e.toJSON;return n?(delete e.toJSON,()=>{e.toJSON=n}):G}function Vr(t){return $r(t,location.href).href}function Du(t){try{return!!$r(t)}catch{return!1}}function Uu(t){const e=$r(t).pathname;return e[0]==="/"?e:`/${e}`}function $r(t,e){const n=Bu();if(n)try{return e!==void 0?new n(t,e):new n(t)}catch(o){throw new Error(`Failed to construct URL: ${String(o)} ${ie({url:t,base:e})}`)}if(e===void 0&&!/:/.test(t))throw new Error(`Invalid URL: '${t}'`);let r=document;const i=r.createElement("a");if(e!==void 0){r=document.implementation.createHTMLDocument("");const o=r.createElement("base");o.href=e,r.head.appendChild(o),r.body.appendChild(i)}return i.href=t,i}const hi=URL;let sn;function Bu(){if(sn===void 0)try{sn=new hi("http://test/path").href==="http://test/path"}catch{sn=!1}return sn?hi:void 0}const Do="datad0g.com",Hu="dd0g-gov.com",Jt="datadoghq.com",Fu="datadoghq.eu",Gu="ddog-gov.com",Vu="pci.browser-intake-datadoghq.com",$u=["ddsource","ddtags"];function He(t,e,n){const r=zu(t,e);return{build(i,o){const s=ju(t,e,n,i,o);return r(s)},urlPrefix:r(""),trackType:e}}function zu(t,e){const n=`/api/v2/${e}`,r=t.proxy;if(typeof r=="string"){const o=Vr(r);return s=>`${o}?ddforward=${encodeURIComponent(`${n}?${s}`)}`}if(typeof r=="function")return o=>r({path:n,parameters:o});const i=Uo(e,t);return o=>`https://${i}${n}?${o}`}function Uo(t,e){const{site:n=Jt,internalAnalyticsSubdomain:r}=e;if(t==="logs"&&e.usePciIntake&&n===Jt)return Vu;if(r&&n===Jt)return`${r}.${Jt}`;if(n===Hu)return`http-intake.logs.${n}`;const i=n.split("."),o=i.pop();return`browser-intake-${i.join("-")}.${o}`}function ju({clientToken:t,internalAnalyticsSubdomain:e},n,r,i,{retry:o,encoding:s}){const u=["sdk_version:6.3.0",`api:${i}`].concat(r);o&&u.push(`retry_count:${o.count}`,`retry_after:${o.lastFailureStatus}`);const c=["ddsource=browser",`ddtags=${encodeURIComponent(u.join(","))}`,`dd-api-key=${t}`,`dd-evp-origin-version=${encodeURIComponent("6.3.0")}`,"dd-evp-origin=browser",`dd-request-id=${et()}`];return s&&c.push(`dd-evp-encoding=${s}`),n==="rum"&&c.push(`batch_time=${Q()}`),e&&c.reverse(),c.join("&")}const Xu=200;function Wu(t){const{env:e,service:n,version:r,datacenter:i}=t,o=[];return e&&o.push(an("env",e)),n&&o.push(an("service",n)),r&&o.push(an("version",r)),i&&o.push(an("datacenter",i)),o}function an(t,e){const n=Xu-t.length-1;(e.length>n||qu(e))&&M.warn(`${t} value doesn't meet tag requirements and will be sanitized. ${Nn} ${On}/getting_started/tagging/#defining-tags`);const r=e.replace(/,/g,"_");return`${t}:${r}`}function qu(t){return Yu()?new RegExp("[^\\p{Ll}\\p{Lo}0-9_:./-]","u").test(t):!1}function Yu(){try{return new RegExp("[\\p{Ll}]","u"),!0}catch{return!1}}function Ku(t){const e=t.site||Jt,n=Wu(t),r=Ju(t,n);return{replica:Zu(t,n),site:e,...r}}function Ju(t,e){return{logsEndpointBuilder:He(t,"logs",e),rumEndpointBuilder:He(t,"rum",e),sessionReplayEndpointBuilder:He(t,"replay",e)}}function Zu(t,e){if(!t.replica)return;const n={...t,site:Jt,clientToken:t.replica.clientToken},r={logsEndpointBuilder:He(n,"logs",e),rumEndpointBuilder:He(n,"rum",e)};return{applicationId:t.replica.applicationId,...r}}function Bo(t){return $u.every(e=>t.includes(e))}const Fe={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"},vr={ALL:"all",SAMPLED:"sampled"};function qn(t,e){return t!=null&&typeof t!="string"?(M.error(`${e} must be defined as a string`),!1):!0}function Qu(t){return t&&typeof t=="string"&&!/(datadog|ddog|datad0g|dd0g)/.test(t)?(M.error(`Site should be a valid Datadog site. ${Nn} ${On}/getting_started/site/.`),!1):!0}function me(t,e){return t!==void 0&&!qa(t)?(M.error(`${e} Sample Rate should be a number between 0 and 100`),!1):!0}function Ho(t){var e,n,r,i,o,s;if(!t||!t.clientToken){M.error("Client Token is not configured, we will not send any data.");return}if(!(!Qu(t.site)||!me(t.sessionSampleRate,"Session")||!me(t.telemetrySampleRate,"Telemetry")||!me(t.telemetryConfigurationSampleRate,"Telemetry Configuration")||!me(t.telemetryUsageSampleRate,"Telemetry Usage")||!qn(t.version,"Version")||!qn(t.env,"Env")||!qn(t.service,"Service"))){if(t.trackingConsent!==void 0&&!En(br,t.trackingConsent)){M.error('Tracking Consent should be either "granted" or "not-granted"');return}return{beforeSend:t.beforeSend&&_o(t.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:Pu(t),sessionSampleRate:(e=t.sessionSampleRate)!==null&&e!==void 0?e:100,telemetrySampleRate:(n=t.telemetrySampleRate)!==null&&n!==void 0?n:20,telemetryConfigurationSampleRate:(r=t.telemetryConfigurationSampleRate)!==null&&r!==void 0?r:5,telemetryUsageSampleRate:(i=t.telemetryUsageSampleRate)!==null&&i!==void 0?i:5,service:t.service||void 0,silentMultipleInit:!!t.silentMultipleInit,allowUntrustedEvents:!!t.allowUntrustedEvents,trackingConsent:(o=t.trackingConsent)!==null&&o!==void 0?o:br.GRANTED,trackAnonymousUser:(s=t.trackAnonymousUser)!==null&&s!==void 0?s:!0,storeContextsAcrossPages:!!t.storeContextsAcrossPages,batchBytesLimit:16*Nt,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*at,batchMessagesLimit:50,messageBytesLimit:256*Nt,...Ku(t)}}}function Fo(t){return{session_sample_rate:t.sessionSampleRate,telemetry_sample_rate:t.telemetrySampleRate,telemetry_configuration_sample_rate:t.telemetryConfigurationSampleRate,telemetry_usage_sample_rate:t.telemetryUsageSampleRate,use_before_send:!!t.beforeSend,use_partitioned_cross_site_session_cookie:t.usePartitionedCrossSiteSessionCookie,use_secure_session_cookie:t.useSecureSessionCookie,use_proxy:!!t.proxy,silent_multiple_init:t.silentMultipleInit,track_session_across_subdomains:t.trackSessionAcrossSubdomains,track_anonymous_user:t.trackAnonymousUser,session_persistence:t.sessionPersistence,allow_fallback_to_local_storage:!!t.allowFallbackToLocalStorage,store_contexts_across_pages:!!t.storeContextsAcrossPages,allow_untrusted_events:!!t.allowUntrustedEvents,tracking_consent:t.trackingConsent}}var ye;(function(t){t.WRITABLE_RESOURCE_GRAPHQL="writable_resource_graphql",t.CONSISTENT_TRACE_SAMPLING="consistent_trace_sampling",t.MISSING_URL_CONTEXT_TELEMETRY="missing_url_context_telemetry"})(ye||(ye={}));const zr=new Set;function Go(t){Array.isArray(t)&&tc(t.filter(e=>En(ye,e)))}function tc(t){t.forEach(e=>{zr.add(e)})}function Er(t){return zr.has(t)}function ec(){return zr}const Ze="?";function Ct(t){const e=[];let n=Yn(t,"stack");const r=String(t);return n&&n.startsWith(r)&&(n=n.slice(r.length)),n&&n.split(`
`).forEach(i=>{const o=ic(i)||sc(i)||uc(i)||dc(i);o&&(!o.func&&o.line&&(o.func=Ze),e.push(o))}),{message:Yn(t,"message"),name:Yn(t,"name"),stack:e}}const Vo="((?:file|https?|blob|chrome-extension|electron|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",be="(?::(\\d+))",nc=new RegExp(`^\\s*at (.*?) ?\\(${Vo}${be}?${be}?\\)?\\s*$`,"i"),rc=new RegExp(`\\((\\S*)${be}${be}\\)`);function ic(t){const e=nc.exec(t);if(!e)return;const n=e[2]&&e[2].indexOf("native")===0,r=e[2]&&e[2].indexOf("eval")===0,i=rc.exec(e[2]);return r&&i&&(e[2]=i[1],e[3]=i[2],e[4]=i[3]),{args:n?[e[2]]:[],column:e[4]?+e[4]:void 0,func:e[1]||Ze,line:e[3]?+e[3]:void 0,url:n?void 0:e[2]}}const oc=new RegExp(`^\\s*at ?${Vo}${be}?${be}??\\s*$`,"i");function sc(t){const e=oc.exec(t);if(e)return{args:[],column:e[3]?+e[3]:void 0,func:Ze,line:e[2]?+e[2]:void 0,url:e[1]}}const ac=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function uc(t){const e=ac.exec(t);if(e)return{args:[],column:e[4]?+e[4]:void 0,func:e[1]||Ze,line:+e[3],url:e[2]}}const cc=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,lc=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function dc(t){const e=cc.exec(t);if(!e)return;const n=e[3]&&e[3].indexOf(" > eval")>-1,r=lc.exec(e[3]);return n&&r&&(e[3]=r[1],e[4]=r[2],e[5]=void 0),{args:e[2]?e[2].split(","):[],column:e[5]?+e[5]:void 0,func:e[1]||Ze,line:e[4]?+e[4]:void 0,url:e[3]}}function Yn(t,e){if(typeof t!="object"||!t||!(e in t))return;const n=t[e];return typeof n=="string"?n:void 0}function fc(t,e,n,r){const i=[{url:e,column:r,line:n}],{name:o,message:s}=pc(t);return{name:o,message:s,stack:i}}const hc=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;function pc(t){let e,n;return{}.toString.call(t)==="[object String]"&&([,e,n]=hc.exec(t)),{name:e,message:n}}function ve(){const e=new Error;let n;return te(()=>{const r=Ct(e);r.stack=r.stack.slice(2),n=oe(r)}),n}function oe(t){let e=$o(t);return t.stack.forEach(n=>{const r=n.func==="?"?"<anonymous>":n.func,i=n.args&&n.args.length>0?`(${n.args.join(", ")})`:"",o=n.line?`:${n.line}`:"",s=n.line&&n.column?`:${n.column}`:"";e+=`
  at ${r}${i} @ ${n.url}${o}${s}`}),e}function $o(t){return`${t.name||"Error"}: ${t.message}`}function wt(t,e,n,{computeHandlingStack:r}={}){let i=t[e];if(typeof i!="function")if(e in t&&e.startsWith("on"))i=G;else return{stop:G};let o=!1;const s=function(){if(o)return i.apply(this,arguments);const u=Array.from(arguments);let c;te(n,null,[{target:this,parameters:u,onPostCall:l=>{c=l},handlingStack:r?ve():void 0}]);const a=i.apply(this,u);return c&&te(c,null,[a]),a};return t[e]=s,{stop:()=>{o=!0,t[e]===s&&(t[e]=i)}}}function v0(t,e,n){const r=Object.getOwnPropertyDescriptor(t,e);if(!r||!r.set||!r.configurable)return{stop:G};const i=G;let o=(u,c)=>{rt(()=>{o!==i&&n(u,c)},0)};const s=function(u){r.set.call(this,u),o(this,u)};return Object.defineProperty(t,e,{set:s}),{stop:()=>{var u;((u=Object.getOwnPropertyDescriptor(t,e))===null||u===void 0?void 0:u.set)===s&&Object.defineProperty(t,e,r),o=i}}}const mc=220*Nt,gc="$",_c=3;function $(t,e=mc){const n=pe(Object.prototype),r=pe(Array.prototype),i=[],o=new WeakMap,s=Kn(t,gc,void 0,i,o),u=JSON.stringify(s);let c=u?u.length:0;if(c>e){Jn(e,"discarded",t);return}for(;i.length>0&&c<e;){const a=i.shift();let l=0;if(Array.isArray(a.source))for(let f=0;f<a.source.length;f++){const d=Kn(a.source[f],a.path,f,i,o);if(d!==void 0?c+=JSON.stringify(d).length:c+=4,c+=l,l=1,c>e){Jn(e,"truncated",t);break}a.target[f]=d}else for(const f in a.source)if(Object.prototype.hasOwnProperty.call(a.source,f)){const d=Kn(a.source[f],a.path,f,i,o);if(d!==void 0&&(c+=JSON.stringify(d).length+l+f.length+_c,l=1),c>e){Jn(e,"truncated",t);break}a.target[f]=d}}return n(),r(),s}function Kn(t,e,n,r,i){const o=vc(t);if(!o||typeof o!="object")return yc(o);const s=Sr(o);if(s!=="[Object]"&&s!=="[Array]"&&s!=="[Error]")return s;const u=t;if(i.has(u))return`[Reference seen at ${i.get(u)}]`;const c=n!==void 0?`${e}.${n}`:e,a=Array.isArray(o)?[]:{};return i.set(u,c),r.push({source:o,target:a,path:c}),a}function yc(t){return typeof t=="bigint"?`[BigInt] ${t.toString()}`:typeof t=="function"?`[Function] ${t.name||"unknown"}`:typeof t=="symbol"?`[Symbol] ${t.description||t.toString()}`:t}function Sr(t){try{if(t instanceof Event)return bc(t);if(t instanceof RegExp)return`[RegExp] ${t.toString()}`;const n=Object.prototype.toString.call(t).match(/\[object (.*)\]/);if(n&&n[1])return`[${n[1]}]`}catch{}return"[Unserializable]"}function bc(t){return{type:t.type,isTrusted:t.isTrusted,currentTarget:t.currentTarget?Sr(t.currentTarget):null,target:t.target?Sr(t.target):null}}function vc(t){const e=t;if(e&&typeof e.toJSON=="function")try{return e.toJSON()}catch{}return t}function Jn(t,e,n){M.warn(`The data provided has been ${e} as it is over the limit of ${t} characters:`,n)}const zo="No stack, consider using an instance of Error";function jr({stackTrace:t,originalError:e,handlingStack:n,componentStack:r,startClocks:i,nonErrorPrefix:o,source:s,handling:u}){const c=kt(e),a=Ec(t,c,o,e),l=Sc(c,t)?oe(t):zo,f=c?Xo(e,s):void 0,d=t?t.name:void 0,p=jo(e);return{startClocks:i,source:s,handling:u,handlingStack:n,componentStack:r,originalError:e,type:d,message:a,stack:l,causes:f,fingerprint:p}}function Ec(t,e,n,r){return t?.message&&t?.name?t.message:e?"Empty message":`${n} ${ie($(r))}`}function Sc(t,e){return e===void 0?!1:t?!0:e.stack.length>0&&(e.stack.length>1||e.stack[0].url!==void 0)}function jo(t){return kt(t)&&"dd_fingerprint"in t?String(t.dd_fingerprint):void 0}function Tc(t){var e;return(e=/@ (.+)/.exec(t))===null||e===void 0?void 0:e[1]}function kt(t){return t instanceof Error||Object.prototype.toString.call(t)==="[object Error]"}function Xo(t,e){let n=t;const r=[];for(;kt(n?.cause)&&r.length<10;){const i=Ct(n.cause);r.push({message:n.cause.message,source:e,type:i?.name,stack:i&&oe(i)}),n=n.cause}return r.length?r:void 0}const ct={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function Wo(t){const e=(i,o)=>{const s=jr({stackTrace:i,originalError:o,startClocks:it(),nonErrorPrefix:"Uncaught",source:ct.SOURCE,handling:"unhandled"});t.notify(s)},{stop:n}=wc(e),{stop:r}=xc(e);return{stop:()=>{n(),r()}}}function wc(t){return wt(window,"onerror",({parameters:[e,n,r,i,o]})=>{let s;kt(o)?s=Ct(o):s=fc(e,n,r,i),t(s,o??e)})}function xc(t){return wt(window,"onunhandledrejection",({parameters:[e]})=>{const n=e.reason||"Empty reason",r=Ct(n);t(r,n)})}function qo(t){const e={version:"6.3.0",onReady(n){n()},...t};return Object.defineProperty(e,"_setDebug",{get(){return ou},enumerable:!1}),e}function Yo(t,e,n){const r=t[e];r&&!r.q&&r.version&&M.warn("SDK is loaded more than once. This is unsupported and might have unexpected behavior."),t[e]=n,r&&r.q&&r.q.forEach(i=>_o(i,"onReady callback threw an error:")())}function Mn(t,e){e.silentMultipleInit||M.error(`${t} is already initialized.`)}function j(t,e,n,r,i){return Gt(t,e,[n],r,i)}function Gt(t,e,n,r,{once:i,capture:o,passive:s}={}){const u=T(d=>{!d.isTrusted&&!d.__ddIsTrusted&&!t.allowUntrustedEvents||(i&&f(),r(d))}),c=s?{capture:o,passive:s}:o,a=window.EventTarget&&e instanceof EventTarget?window.EventTarget.prototype:e,l=Ft(a,"addEventListener");n.forEach(d=>l.call(e,d,u,c));function f(){const d=Ft(a,"removeEventListener");n.forEach(p=>d.call(e,p,u,c))}return{stop:f}}const Ee={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function Ko(t,e){const n=[];e.includes(Ee.cspViolation)&&n.push(Ic(t));const r=e.filter(i=>i!==Ee.cspViolation);return r.length&&n.push(Ac(r)),wo(...n)}function Ac(t){return new B(e=>{if(!window.ReportingObserver)return;const n=T((i,o)=>i.forEach(s=>e.notify(Cc(s)))),r=new window.ReportingObserver(n,{types:t,buffered:!0});return r.observe(),()=>{r.disconnect()}})}function Ic(t){return new B(e=>{const{stop:n}=j(t,document,"securitypolicyviolation",r=>{e.notify(Rc(r))});return n})}function Cc(t){const{type:e,body:n}=t;return Jo({type:n.id,message:`${e}: ${n.message}`,originalError:t,stack:Zo(n.id,n.message,n.sourceFile,n.lineNumber,n.columnNumber)})}function Rc(t){const e=`'${t.blockedURI}' blocked by '${t.effectiveDirective}' directive`;return Jo({type:t.effectiveDirective,message:`${Ee.cspViolation}: ${e}`,originalError:t,csp:{disposition:t.disposition},stack:Zo(t.effectiveDirective,t.originalPolicy?`${e} of the policy "${xo(t.originalPolicy,100,"...")}"`:"no policy",t.sourceFile,t.lineNumber,t.columnNumber)})}function Jo(t){return{startClocks:it(),source:ct.REPORT,handling:"unhandled",...t}}function Zo(t,e,n,r,i){return n?oe({name:t,message:e,stack:[{func:"?",url:n,line:r??void 0,column:i??void 0}]}):void 0}function Xr(t,e){const n=window.__ddBrowserSdkExtensionCallback;n&&n({type:t,payload:e})}function Vt(t){return t===null?"null":Array.isArray(t)?"array":typeof t}function An(t,e,n=Oc()){if(e===void 0)return t;if(typeof e!="object"||e===null)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const i=e.flags||[e.global?"g":"",e.ignoreCase?"i":"",e.multiline?"m":"",e.sticky?"y":"",e.unicode?"u":""].join("");return new RegExp(e.source,i)}if(n.hasAlreadyBeenSeen(e))return;if(Array.isArray(e)){const i=Array.isArray(t)?t:[];for(let o=0;o<e.length;++o)i[o]=An(i[o],e[o],n);return i}const r=Vt(t)==="object"?t:{};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=An(r[i],e[i],n));return r}function Dn(t){return An(void 0,t)}function lt(...t){let e;for(const n of t)n!=null&&(e=An(e,n));return e}function Oc(){if(typeof WeakSet<"u"){const e=new WeakSet;return{hasAlreadyBeenSeen(n){const r=e.has(n);return r||e.add(n),r}}}const t=[];return{hasAlreadyBeenSeen(e){const n=t.indexOf(e)>=0;return n||t.push(e),n}}}function Qo(){var t;const e=window.navigator;return{status:e.onLine?"connected":"not_connected",interfaces:e.connection&&e.connection.type?[e.connection.type]:void 0,effective_type:(t=e.connection)===null||t===void 0?void 0:t.effectiveType}}function Nc(t){const e=new Set;return t.forEach(n=>e.add(n)),Array.from(e)}function ts(t,e){const n=t.indexOf(e);n>=0&&t.splice(n,1)}const Lc=500;function Wr(){const t=[];return{add:i=>{t.push(i)>Lc&&t.splice(0,1)},remove:i=>{ts(t,i)},drain:i=>{t.forEach(o=>o(i)),t.length=0}}}const Zt={log:"log",configuration:"configuration",usage:"usage"},kc=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","https://d3uc069fcn7uxw.cloudfront.net","https://d20xtzwzcl0ceb.cloudfront.net","http://localhost","<anonymous>"],Pc=[Gu];let es=Wr(),Ie=t=>{es.add(()=>Ie(t))};function ns(t,e){let n;const r=new B,i=new Set,o=!Pc.includes(e.site)&&Ht(e.telemetrySampleRate),s={[Zt.log]:o,[Zt.configuration]:o&&Ht(e.telemetryConfigurationSampleRate),[Zt.usage]:o&&Ht(e.telemetryUsageSampleRate)},u=Mc();Ie=a=>{const l=ie(a);if(s[a.type]&&i.size<e.maxTelemetryEventsPerPage&&!i.has(l)){const f=c(t,a,u);r.notify(f),Xr("telemetry",f),i.add(l)}},iu(In);function c(a,l,f){return lt({type:"telemetry",date:Q(),service:a,version:"6.3.0",source:"browser",_dd:{format_version:2},telemetry:lt(l,{runtime_env:f,connectivity:Qo(),sdk_setup:"npm"}),experimental_features:Array.from(ec())},n!==void 0?n():{})}return{setContextProvider:a=>{n=a},observable:r,enabled:o}}function Mc(){return{is_local_file:window.location.protocol==="file:",is_worker:"WorkerGlobalScope"in self}}function rs(){es.drain()}function is(t){return t.site===Do}function se(t,e){yr(q.debug,t,e),Ie({type:Zt.log,message:t,status:"debug",...e})}function In(t,e){Ie({type:Zt.log,status:"error",...Dc(t),...e})}function os(t){Ie({type:Zt.configuration,configuration:t})}function Z(t){Ie({type:Zt.usage,usage:t})}function Dc(t){if(kt(t)){const e=Ct(t);return{error:{kind:e.name,stack:oe(Uc(e))},message:e.message}}return{error:{stack:zo},message:`Uncaught ${ie(t)}`}}function Uc(t){return t.stack=t.stack.filter(e=>!e.url||kc.some(n=>e.url.startsWith(n))),t}const Pe=1/0,Bc=ut;let Me=null;const pn=new Set;function Hc(){pn.forEach(t=>t())}function Ce({expireDelay:t,maxEntries:e}){let n=[];const r=[];Me||(Me=xe(()=>Hc(),Bc));const i=()=>{const p=pt()-t;for(;n.length>0&&n[n.length-1].endTime<p;){const m=n.pop();m&&r.push(m.startTime)}};pn.add(i);function o(p,m){const _={value:p,startTime:m,endTime:Pe,remove:()=>{ts(n,_)},close:v=>{_.endTime=v}};return e&&n.length>=e&&n.pop(),n.unshift(_),_}function s(p=Pe,m={returnInactive:!1}){for(const _ of n)if(_.startTime<=p){if(m.returnInactive||p<=_.endTime)return _.value;break}}function u(p){const m=n[0];m&&m.endTime===Pe&&m.close(p)}function c(p=Pe,m=0){const _=we(p,m);return n.filter(v=>v.startTime<=_&&p<=v.endTime).map(v=>v.value)}function a(){return n.map(({startTime:p,endTime:m,value:_})=>({startTime:p,endTime:m===Pe?"Infinity":m,value:_}))}function l(){return r}function f(){n=[]}function d(){pn.delete(i),pn.size===0&&Me&&(Pn(Me),Me=null)}return{add:o,find:s,closeActive:u,findAll:c,reset:f,stop:d,getAllEntries:a,getDeletedEntries:l}}const Fc=ut,Gc=re;function ss(t,e,n,r){const i=new B,o=new B,s=Mu(t.sessionStoreStrategyType,t,e,n),u=Ce({expireDelay:Gc});s.renewObservable.subscribe(()=>{u.add(c(),pt()),i.notify()}),s.expireObservable.subscribe(()=>{o.notify(),u.closeActive(pt())}),s.expandOrRenewSession(),u.add(c(),vo().relative),r.observable.subscribe(()=>{r.isGranted()?s.expandOrRenewSession():s.expire()}),Vc(t,()=>{r.isGranted()&&s.expandOrRenewSession()}),$c(t,()=>s.expandSession()),zc(t,()=>s.restartSession());function c(){return{id:s.getSession().id,trackingType:s.getSession()[e],isReplayForced:!!s.getSession().forcedReplay,anonymousId:s.getSession().anonymousId}}return{findSession:(a,l)=>u.find(a,l),renewObservable:i,expireObservable:o,sessionStateUpdateObservable:s.sessionStateUpdateObservable,expire:s.expire,updateSessionState:s.updateSessionState}}function Vc(t,e){const{stop:n}=Gt(t,window,["click","touchstart","keydown","scroll"],e,{capture:!0,passive:!0})}function $c(t,e){const n=()=>{document.visibilityState==="visible"&&e()},{stop:r}=j(t,document,"visibilitychange",n);xe(n,Fc)}function zc(t,e){const{stop:n}=j(t,window,"resume",e,{capture:!0})}function as(t){return t>=500}function us(t){try{return t.clone()}catch{return}}const jc=80*Nt,Xc=32,cs=3*Eo,Wc=ut,ls=at;function ds(t,e,n,r,i){e.transportStatus===0&&e.queuedPayloads.size()===0&&e.bandwidthMonitor.canHandle(t)?hs(t,e,n,{onSuccess:()=>ps(0,e,n,r,i),onFailure:()=>{e.queuedPayloads.enqueue(t),fs(e,n,r,i)}}):e.queuedPayloads.enqueue(t)}function fs(t,e,n,r){t.transportStatus===2&&rt(()=>{const i=t.queuedPayloads.first();hs(i,t,e,{onSuccess:()=>{t.queuedPayloads.dequeue(),t.currentBackoffTime=ls,ps(1,t,e,n,r)},onFailure:()=>{t.currentBackoffTime=Math.min(Wc,t.currentBackoffTime*2),fs(t,e,n,r)}})},t.currentBackoffTime)}function hs(t,e,n,{onSuccess:r,onFailure:i}){e.bandwidthMonitor.add(t),n(t,o=>{e.bandwidthMonitor.remove(t),qc(o)?(e.transportStatus=e.bandwidthMonitor.ongoingRequestCount>0?1:2,t.retry={count:t.retry?t.retry.count+1:1,lastFailureStatus:o.status},i()):(e.transportStatus=0,r())})}function ps(t,e,n,r,i){t===0&&e.queuedPayloads.isFull()&&!e.queueFullReported&&(i({message:`Reached max ${r} events size queued for upload: ${cs/Eo}MiB`,source:ct.AGENT,startClocks:it()}),e.queueFullReported=!0);const o=e.queuedPayloads;for(e.queuedPayloads=ms();o.size()>0;)ds(o.dequeue(),e,n,r,i)}function qc(t){return t.type!=="opaque"&&(t.status===0&&!navigator.onLine||t.status===408||t.status===429||as(t.status))}function Yc(){return{transportStatus:0,currentBackoffTime:ls,bandwidthMonitor:Kc(),queuedPayloads:ms(),queueFullReported:!1}}function ms(){const t=[];return{bytesCount:0,enqueue(e){this.isFull()||(t.push(e),this.bytesCount+=e.bytesCount)},first(){return t[0]},dequeue(){const e=t.shift();return e&&(this.bytesCount-=e.bytesCount),e},size(){return t.length},isFull(){return this.bytesCount>=cs}}}function Kc(){return{ongoingRequestCount:0,ongoingByteCount:0,canHandle(t){return this.ongoingRequestCount===0||this.ongoingByteCount+t.bytesCount<=jc&&this.ongoingRequestCount<Xc},add(t){this.ongoingRequestCount+=1,this.ongoingByteCount+=t.bytesCount},remove(t){this.ongoingRequestCount-=1,this.ongoingByteCount-=t.bytesCount}}}function Jc(t,e,n){const r=Yc(),i=(o,s)=>tl(t,e,o,s);return{send:o=>{ds(o,r,i,t.trackType,n)},sendOnExit:o=>{Zc(t,e,o)}}}function Zc(t,e,n){if(!!navigator.sendBeacon&&n.bytesCount<e)try{const o=t.build("beacon",n);if(navigator.sendBeacon(o,n.data))return}catch(o){Qc(o)}const i=t.build("xhr",n);Tr(i,n.data)}let pi=!1;function Qc(t){pi||(pi=!0,In(t))}function tl(t,e,n,r){if(el()&&n.bytesCount<e){const o=t.build("fetch",n);fetch(o,{method:"POST",body:n.data,keepalive:!0,mode:"cors"}).then(T(s=>r?.({status:s.status,type:s.type})),T(()=>{const s=t.build("xhr",n);Tr(s,n.data,r)}))}else{const o=t.build("xhr",n);Tr(o,n.data,r)}}function el(){try{return window.Request&&"keepalive"in new Request("http://a")}catch{return!1}}function Tr(t,e,n){const r=new XMLHttpRequest;r.open("POST",t,!0),e instanceof Blob&&r.setRequestHeader("Content-Type",e.type),j({allowUntrustedEvents:!0},r,"loadend",()=>{n?.({status:r.status})},{once:!0}),r.send(e)}function ae(){const t=nl();if(t)return{getCapabilities(){var e;return JSON.parse(((e=t.getCapabilities)===null||e===void 0?void 0:e.call(t))||"[]")},getPrivacyLevel(){var e;return(e=t.getPrivacyLevel)===null||e===void 0?void 0:e.call(t)},getAllowedWebViewHosts(){return JSON.parse(t.getAllowedWebViewHosts())},send(e,n,r){const i=r?{id:r}:void 0;t.send(JSON.stringify({eventType:e,event:n,view:i}))}}}function gs(t){const e=ae();return!!e&&e.getCapabilities().includes(t)}function xt(t){var e;t===void 0&&(t=(e=Lt().location)===null||e===void 0?void 0:e.hostname);const n=ae();return!!n&&n.getAllowedWebViewHosts().some(r=>t===r||t.endsWith(`.${r}`))}function nl(){return Lt().DatadogEventBridge}const _e={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function _s(t){return new B(e=>{const{stop:n}=Gt(t,window,["visibilitychange","freeze"],i=>{i.type==="visibilitychange"&&document.visibilityState==="hidden"?e.notify({reason:_e.HIDDEN}):i.type==="freeze"&&e.notify({reason:_e.FROZEN})},{capture:!0}),r=j(t,window,"beforeunload",()=>{e.notify({reason:_e.UNLOADING})}).stop;return()=>{n(),r()}})}function rl(t){return wn(_e).includes(t)}function il({encoder:t,request:e,flushController:n,messageBytesLimit:r}){let i={};const o=n.flushObservable.subscribe(f=>l(f));function s(f,d,p){n.notifyBeforeAddMessage(d),p!==void 0?(i[p]=f,n.notifyAfterAddMessage()):t.write(t.isEmpty?f:`
${f}`,m=>{n.notifyAfterAddMessage(m-d)})}function u(f){return f!==void 0&&i[f]!==void 0}function c(f){const d=i[f];delete i[f];const p=t.estimateEncodedBytesCount(d);n.notifyAfterRemoveMessage(p)}function a(f,d){const p=ie(f),m=t.estimateEncodedBytesCount(p);if(m>=r){M.warn(`Discarded a message whose size was bigger than the maximum allowed size ${r}KB. ${Nn} ${go}/#technical-limitations`);return}u(d)&&c(d),s(p,m,d)}function l(f){const d=wn(i).join(`
`);i={};const p=rl(f.reason),m=p?e.sendOnExit:e.send;if(p&&t.isAsync){const _=t.finishSync();_.outputBytesCount&&m(mi(_));const v=[_.pendingData,d].filter(Boolean).join(`
`);v&&m({data:v,bytesCount:Ur(v)})}else d&&t.write(t.isEmpty?d:`
${d}`),t.finish(_=>{m(mi(_))})}return{flushController:n,add:a,upsert:a,stop:o.unsubscribe}}function mi(t){let e;return typeof t.output=="string"?e=t.output:e=new Blob([t.output],{type:"text/plain"}),{data:e,bytesCount:t.outputBytesCount,encoding:t.encoding}}function ol({messagesLimit:t,bytesLimit:e,durationLimit:n,pageExitObservable:r,sessionExpireObservable:i}){const o=r.subscribe(m=>l(m.reason)),s=i.subscribe(()=>l("session_expire")),u=new B(()=>()=>{o.unsubscribe(),s.unsubscribe()});let c=0,a=0;function l(m){if(a===0)return;const _=a,v=c;a=0,c=0,p(),u.notify({reason:m,messagesCount:_,bytesCount:v})}let f;function d(){f===void 0&&(f=rt(()=>{l("duration_limit")},n))}function p(){ft(f),f=void 0}return{flushObservable:u,get messagesCount(){return a},notifyBeforeAddMessage(m){c+m>=e&&l("bytes_limit"),a+=1,c+=m,d()},notifyAfterAddMessage(m=0){c+=m,a>=t?l("messages_limit"):c>=e&&l("bytes_limit")},notifyAfterRemoveMessage(m){c-=m,a-=1,a===0&&p()}}}function qr(t,e,n,r,i,o,s=il){const u=a(t,e),c=n&&a(t,n);function a(l,{endpoint:f,encoder:d}){return s({encoder:d,request:Jc(f,l.batchBytesLimit,r),flushController:ol({messagesLimit:l.batchMessagesLimit,bytesLimit:l.batchBytesLimit,durationLimit:l.flushTimeout,pageExitObservable:i,sessionExpireObservable:o}),messageBytesLimit:l.messageBytesLimit})}return{flushObservable:u.flushController.flushObservable,add(l,f=!0){u.add(l),c&&f&&c.add(n.transformMessage?n.transformMessage(l):l)},upsert:(l,f)=>{u.upsert(l,f),c&&c.upsert(n.transformMessage?n.transformMessage(l):l,f)},stop:()=>{u.stop(),c&&c.stop()}}}function je(){let t="",e=0;return{isAsync:!1,get isEmpty(){return!t},write(n,r){const i=Ur(n);e+=i,t+=n,r&&r(i)},finish(n){n(this.finishSync())},finishSync(){const n={output:t,outputBytesCount:e,rawBytesCount:e,pendingData:""};return t="",e=0,n},estimateEncodedBytesCount(n){return n.length}}}class ys{constructor(){this.callbacks={}}notify(e,n){const r=this.callbacks[e];r&&r.forEach(i=>i(n))}subscribe(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),{unsubscribe:()=>{this.callbacks[e]=this.callbacks[e].filter(r=>n!==r)}}}}function mn(t,e,n){let r=0,i=!1;return{isLimitReached(){if(r===0&&rt(()=>{r=0},ut),r+=1,r<=e||i)return i=!1,!1;if(r===e+1){i=!0;try{n({message:`Reached max number of ${t}s by minute: ${e}`,source:ct.AGENT,startClocks:it()})}finally{i=!1}}return!0}}}function Yr(t,e,n){return document.readyState===e||document.readyState==="complete"?(n(),{stop:G}):j(t,window,e==="complete"?"load":"DOMContentLoaded",n,{once:!0})}function sl(t,e){return new Promise(n=>{Yr(t,e,n)})}let Zn;const Kr=new WeakMap;function bs(t){return Zn||(Zn=al(t)),Zn}function al(t){return new B(e=>{const{stop:n}=wt(XMLHttpRequest.prototype,"open",ul),{stop:r}=wt(XMLHttpRequest.prototype,"send",o=>{cl(o,t,e)},{computeHandlingStack:!0}),{stop:i}=wt(XMLHttpRequest.prototype,"abort",ll);return()=>{n(),r(),i()}})}function ul({target:t,parameters:[e,n]}){Kr.set(t,{state:"open",method:String(e).toUpperCase(),url:Vr(String(n))})}function cl({target:t,handlingStack:e},n,r){const i=Kr.get(t);if(!i)return;const o=i;o.state="start",o.startClocks=it(),o.isAborted=!1,o.xhr=t,o.handlingStack=e;let s=!1;const{stop:u}=wt(t,"onreadystatechange",()=>{t.readyState===XMLHttpRequest.DONE&&c()}),c=()=>{if(a(),u(),s)return;s=!0;const l=i;l.state="complete",l.duration=tt(o.startClocks.timeStamp,Q()),l.status=t.status,r.notify(Ve(l))},{stop:a}=j(n,t,"loadend",c);r.notify(o)}function ll({target:t}){const e=Kr.get(t);e&&(e.isAborted=!0)}let Qn;function Un(){return Qn||(Qn=dl()),Qn}function dl(){return new B(t=>{if(!window.fetch)return;const{stop:e}=wt(window,"fetch",n=>fl(n,t),{computeHandlingStack:!0});return e})}function fl({parameters:t,onPostCall:e,handlingStack:n},r){const[i,o]=t;let s=o&&o.method;s===void 0&&i instanceof Request&&(s=i.method);const u=s!==void 0?String(s).toUpperCase():"GET",c=i instanceof Request?i.url:Vr(String(i)),a=it(),l={state:"start",init:o,input:i,method:u,startClocks:a,url:c,handlingStack:n};r.notify(l),t[0]=l.input,t[1]=l.init,e(f=>hl(r,f,l))}function hl(t,e,n){const r=n;function i(o){r.state="resolve",Object.assign(r,o),t.notify(r)}e.then(T(o=>{i({response:o,responseType:o.type,status:o.status,isAborted:!1})}),T(o=>{var s,u;i({status:0,isAborted:((u=(s=r.init)===null||s===void 0?void 0:s.signal)===null||u===void 0?void 0:u.aborted)||o instanceof DOMException&&o.code===DOMException.ABORT_ERR,error:o})}))}function pl(t,e){if(window.requestIdleCallback&&window.cancelIdleCallback){const n=window.requestIdleCallback(T(t),e);return()=>window.cancelIdleCallback(n)}return gl(t)}const ml=50;function gl(t){const e=ht(),n=rt(()=>{t({didTimeout:!1,timeRemaining:()=>Math.max(0,ml-(ht()-e))})},0);return()=>ft(n)}const _l=at,yl=30;function bl(){const t=[];function e(r){let i;if(r.didTimeout){const o=performance.now();i=()=>yl-(performance.now()-o)}else i=r.timeRemaining.bind(r);for(;i()>0&&t.length;)t.shift()();t.length&&n()}function n(){pl(e,{timeout:_l})}return{push(r){t.push(r)===1&&n()}}}let tr={};function vs(t){const e=t.map(n=>(tr[n]||(tr[n]=vl(n)),tr[n]));return wo(...e)}function vl(t){return new B(e=>{const n=Tt[t];return Tt[t]=(...r)=>{n.apply(console,r);const i=ve();te(()=>{e.notify(El(r,t,i))})},()=>{Tt[t]=n}})}function El(t,e,n){const r=t.map(o=>Sl(o)).join(" ");let i;if(e===q.error){const o=t.find(kt);i={stack:o?oe(Ct(o)):void 0,fingerprint:jo(o),causes:o?Xo(o,"console"):void 0,startClocks:it(),message:r,source:ct.CONSOLE,handling:"handled",handlingStack:n}}return{api:e,message:r,error:i,handlingStack:n}}function Sl(t){return typeof t=="string"?$(t):kt(t)?$o(Ct(t)):ie($(t),void 0,2)}function er(t,e,n){const r={...t};for(const[i,{required:o,type:s}]of Object.entries(e))s==="string"&&i in r&&(r[i]=String(r[i])),o&&!(i in t)&&M.warn(`The property ${i} of ${n} context is required; context will not be sent to the intake.`);return r}function Se(t="",{customerDataTracker:e,propertiesConfig:n={}}={}){let r={};const i=new B,o={getContext:()=>Dn(r),setContext:s=>{Vt(s)==="object"?(r=$(er(s,n,t)),e?.updateCustomerData(r)):o.clearContext(),i.notify()},setContextProperty:(s,u)=>{r[s]=$(er({[s]:u},n,t)[s]),e?.updateCustomerData(r),i.notify()},removeContextProperty:s=>{delete r[s],e?.updateCustomerData(r),er(r,n,t),i.notify()},clearContext:()=>{r={},e?.resetCustomerData(),i.notify()},changeObservable:i};return o}const Tl="_dd_c",wl=[];function Cn(t,e,n,r){const i=xl(n,r);wl.push(j(t,window,"storage",({key:c})=>{i===c&&o()})),e.changeObservable.subscribe(s),e.setContext(lt(u(),e.getContext()));function o(){e.setContext(u())}function s(){localStorage.setItem(i,JSON.stringify(e.getContext()))}function u(){const c=localStorage.getItem(i);return c!==null?JSON.parse(c):{}}}function xl(t,e){return`${Tl}_${t}_${e}`}const Al=3*Nt,Il=16*Nt,Cl=200;function Es(t=2){const e=new Map;let n=!1;function r(i=0){if(n||t===0)return;const o=t===2?Al:Il;let s=i;e.forEach(u=>{s+=u.getBytesCount()}),s>o&&(Rl(o),n=!0)}return{createDetachedTracker:()=>{const i=gi(()=>r(i.getBytesCount()));return i},getOrCreateTracker:i=>(e.has(i)||e.set(i,gi(r)),e.get(i)),setCompressionStatus:i=>{t===0&&(t=i,r())},getCompressionStatus:()=>t,stop:()=>{e.forEach(i=>i.stop()),e.clear()}}}function gi(t){let e=0;const{throttled:n,cancel:r}=Ke(o=>{e=Ur(ie(o)),t()},Cl),i=()=>{r(),e=0};return{updateCustomerData:o=>{Qt(o)?i():n(o)},resetCustomerData:i,getBytesCount:()=>e,stop:()=>{r()}}}function Rl(t){M.warn(`Customer data exceeds the recommended ${t/Nt}KiB threshold. ${Nn} ${go}/#customer-data-exceeds-the-recommended-threshold-warning`)}function Ss(t,e,n){const r=t.getReader(),i=[];let o=0;s();function s(){r.read().then(T(c=>{if(c.done){u();return}n.collectStreamBody&&i.push(c.value),o+=c.value.length,o>n.bytesLimit?u():s()}),T(c=>e(c)))}function u(){r.cancel().catch(G);let c,a;if(n.collectStreamBody){let l;if(i.length===1)l=i[0];else{l=new Uint8Array(o);let f=0;i.forEach(d=>{l.set(d,f),f+=d.length})}c=l.slice(0,n.bytesLimit),a=l.length>n.bytesLimit}e(void 0,c,a)}}const Ol="datadog-synthetics-public-id",Nl="datadog-synthetics-result-id",Ll="datadog-synthetics-injects-rum";function Bn(){return!!(window._DATADOG_SYNTHETICS_INJECTS_RUM||Bt(Ll))}function Ts(){const t=window._DATADOG_SYNTHETICS_PUBLIC_ID||Bt(Ol);return typeof t=="string"?t:void 0}function ws(){const t=window._DATADOG_SYNTHETICS_RESULT_ID||Bt(Nl);return typeof t=="string"?t:void 0}function xs(t){const e=Vt(t)==="object";return e||M.error("Unsupported user:",t),e}function Jr(t){const e=Vt(t);return e==="string"||e==="function"||t instanceof RegExp}function As(t,e,n=!1){return t.some(r=>{try{if(typeof r=="function")return r(e);if(r instanceof RegExp)return r.test(e);if(typeof r=="string")return n?e.startsWith(r):r===e}catch(i){M.error(i)}return!1})}function Rn(t,e,n){const r=n.getHandler(),i=Array.isArray(r)?r:[r];return _i[t]>=_i[n.getLevel()]&&i.includes(e)}const R={ok:"ok",debug:"debug",info:"info",notice:"notice",warn:"warn",error:"error",critical:"critical",alert:"alert",emerg:"emerg"},_i={[R.ok]:0,[R.debug]:1,[R.info]:2,[R.notice]:4,[R.warn]:5,[R.error]:6,[R.critical]:7,[R.alert]:8,[R.emerg]:9};function Hn(t,{includeMessage:e=!1}={}){return{stack:t.stack,kind:t.type,message:e?t.message:void 0,causes:t.causes,fingerprint:t.fingerprint,handling:t.handling}}var kl=function(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(s=t[u])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o};const Xe={console:"console",http:"http"},Pl=Object.keys(R);class mt{constructor(e,n,r,i=Xe.http,o=R.debug,s={}){this.handleLogStrategy=e,this.handlerType=i,this.level=o,this.contextManager=Se("logger",{customerDataTracker:n}),this.contextManager.setContext(s),r&&this.contextManager.setContextProperty("logger",{name:r})}logImplementation(e,n,r=R.info,i,o){const s=$(n);let u;if(i!=null){const c=jr({stackTrace:kt(i)?Ct(i):void 0,originalError:i,nonErrorPrefix:"Provided",source:ct.LOGGER,handling:"handled",startClocks:it()});u=lt({error:Hn(c,{includeMessage:!0})},s)}else u=s;this.handleLogStrategy({message:$(e),context:u,status:r},this,o)}log(e,n,r=R.info,i){let o;Rn(r,Xe.http,this)&&(o=ve()),this.logImplementation(e,n,r,i,o)}setContext(e){this.contextManager.setContext(e)}getContext(){return this.contextManager.getContext()}setContextProperty(e,n){this.contextManager.setContextProperty(e,n)}removeContextProperty(e){this.contextManager.removeContextProperty(e)}clearContext(){this.contextManager.clearContext()}setHandler(e){this.handlerType=e}getHandler(){return this.handlerType}setLevel(e){this.level=e}getLevel(){return this.level}}kl([su],mt.prototype,"logImplementation",null);mt.prototype.ok=Pt(R.ok);mt.prototype.debug=Pt(R.debug);mt.prototype.info=Pt(R.info);mt.prototype.notice=Pt(R.notice);mt.prototype.warn=Pt(R.warn);mt.prototype.error=Pt(R.error);mt.prototype.critical=Pt(R.critical);mt.prototype.alert=Pt(R.alert);mt.prototype.emerg=Pt(R.emerg);function Pt(t){return function(e,n,r){let i;Rn(t,Xe.http,this)&&(i=ve()),this.logImplementation(e,n,t,r,i)}}function Ml(t,e){return{view:{referrer:document.referrer,url:window.location.href},context:t.getContext(),user:e.getContext()}}const Dl=32*Nt;function Ul(t){t.usePciIntake===!0&&t.site&&t.site!=="datadoghq.com"&&M.warn("PCI compliance for Logs is only available for Datadog organizations in the US1 site. Default intake will be used.");const e=Ho(t),n=yi(t.forwardConsoleLogs,wn(q),"Forward Console Logs"),r=yi(t.forwardReports,wn(Ee),"Forward Reports");if(!(!e||!n||!r))return t.forwardErrorsToLogs&&!n.includes(q.error)&&n.push(q.error),{forwardErrorsToLogs:t.forwardErrorsToLogs!==!1,forwardConsoleLogs:n,forwardReports:r,requestErrorResponseLengthLimit:Dl,...e}}function yi(t,e,n){if(t===void 0)return[];if(!(t==="all"||Array.isArray(t)&&t.every(r=>e.includes(r)))){M.error(`${n} should be "all" or an array with allowed values "${e.join('", "')}"`);return}return t==="all"?e:Nc(t)}function Bl(t){const e=Fo(t);return{forward_errors_to_logs:t.forwardErrorsToLogs,forward_console_logs:t.forwardConsoleLogs,forward_reports:t.forwardReports,use_pci_intake:t.usePciIntake,...e}}function Hl(t,e,n){const r=Wr();let i,o;const s=e.observable.subscribe(u);function u(){if(!o||!i||!e.isGranted())return;s.unsubscribe();const c=n(i,o);r.drain(c)}return{init(c){if(!c){M.error("Missing configuration");return}if(Go(c.enableExperimentalFeatures),xt()&&(c=Fl(c)),i=c,o){Mn("DD_LOGS",c);return}const a=Ul(c);a&&(o=a,Un().subscribe(G),e.tryToInit(a.trackingConsent),u())},get initConfiguration(){return i},getInternalContext:G,handleLog(c,a,l,f=t(),d=Q()){r.add(p=>p.handleLog(c,a,l,f,d))}}}function Fl(t){return{...t,clientToken:"empty"}}const bi="logs";function Gl(t){const e=Es(),n=Se("global",{customerDataTracker:e.getOrCreateTracker(2)}),r=Se("user",{customerDataTracker:e.getOrCreateTracker(1),propertiesConfig:{id:{type:"string"},name:{type:"string"},email:{type:"string"}}}),i=Mo();function o(){return Ml(n,r)}let s=Hl(o,i,(a,l)=>{a.storeContextsAcrossPages&&(Cn(l,n,bi,2),Cn(l,r,bi,1));const f=t(a,l,o,i);return s=Vl(a,f),f});const u={},c=new mt((...a)=>s.handleLog(...a),e.createDetachedTracker());return qo({logger:c,init:T(a=>s.init(a)),setTrackingConsent:T(a=>{i.update(a),Z({feature:"set-tracking-consent",tracking_consent:a})}),getGlobalContext:T(()=>n.getContext()),setGlobalContext:T(a=>n.setContext(a)),setGlobalContextProperty:T((a,l)=>n.setContextProperty(a,l)),removeGlobalContextProperty:T(a=>n.removeContextProperty(a)),clearGlobalContext:T(()=>n.clearContext()),createLogger:T((a,l={})=>(u[a]=new mt((...f)=>s.handleLog(...f),e.createDetachedTracker(),$(a),l.handler,l.level,$(l.context)),u[a])),getLogger:T(a=>u[a]),getInitConfiguration:T(()=>Dn(s.initConfiguration)),getInternalContext:T(a=>s.getInternalContext(a)),setUser:T(a=>{xs(a)&&r.setContext(a)}),getUser:T(()=>r.getContext()),setUserProperty:T((a,l)=>{r.setContextProperty(a,l)}),removeUserProperty:T(a=>r.removeContextProperty(a)),clearUser:T(()=>r.clearContext())})}function Vl(t,e){return{init:n=>{Mn("DD_LOGS",n)},initConfiguration:t,...e}}const $l="logs";function zl(t,e){const n=ss(t,$l,r=>Xl(t,r),e);return{findTrackedSession:(r,i={returnInactive:!1})=>{const o=n.findSession(r,i);return o&&o.trackingType==="1"?{id:o.id,anonymousId:o.anonymousId}:void 0},expireObservable:n.expireObservable}}function jl(t){const n=Is(t)==="1"?{}:void 0;return{findTrackedSession:()=>n,expireObservable:new B}}function Is(t){return Ht(t.sessionSampleRate)?"1":"0"}function Xl(t,e){const n=Wl(e)?e:Is(t);return{trackingType:n,isTracked:n==="1"}}function Wl(t){return t==="0"||t==="1"}let vi=!1;function gn(t){const e=window;if(Bn()){const r=n(e.DD_RUM_SYNTHETICS);return!r&&!vi&&(vi=!0,se("Logs sent before RUM is injected by the synthetics worker",{testId:Ts(),resultId:ws()})),r}return n(e.DD_RUM);function n(r){if(r&&r.getInternalContext)return r.getInternalContext(t)}}function ql(t,e,n,r,i){const o=Pl.concat(["custom"]),s={};o.forEach(u=>{s[u]=mn(u,e.eventRateLimiterThreshold,i)}),n.subscribe(0,({rawLogsEvent:u,messageContext:c=void 0,savedCommonContext:a=void 0,domainContext:l})=>{var f,d;const p=kn(u.date),m=t.findTrackedSession(p);if(!t.findTrackedSession(p,{returnInactive:!0}))return;const v=a||r();m&&m.anonymousId&&!v.user.anonymous_id&&(v.user.anonymous_id=m.anonymousId);const y=lt({service:e.service,session_id:m?m.id:void 0,session:m?{id:m.id}:void 0,usr:Qt(v.user)?void 0:v.user,view:v.view},v.context,gn(p),u,c);((f=e.beforeSend)===null||f===void 0?void 0:f.call(e,y,l))===!1||y.origin!==ct.AGENT&&((d=s[y.status])!==null&&d!==void 0?d:s.custom).isLimitReached()||n.notify(1,y)})}const Yl={[q.log]:R.info,[q.debug]:R.debug,[q.info]:R.info,[q.warn]:R.warn,[q.error]:R.error};function Kl(t,e){const n=vs(t.forwardConsoleLogs).subscribe(r=>{const i={rawLogsEvent:{date:Q(),message:r.message,origin:ct.CONSOLE,error:r.error&&Hn(r.error),status:Yl[r.api]},domainContext:{handlingStack:r.handlingStack}};e.notify(0,i)});return{stop:()=>{n.unsubscribe()}}}function Jl(t,e){const n=Ko(t,t.forwardReports).subscribe(r=>{let i=r.message,o;const s=r.originalError.type==="deprecation"?R.warn:R.error;s===R.error?o=Hn(r):r.stack&&(i+=` Found in ${Tc(r.stack)}`),e.notify(0,{rawLogsEvent:{date:Q(),message:i,origin:ct.REPORT,error:o,status:s}})});return{stop:()=>{n.unsubscribe()}}}function Zl(t,e){if(!t.forwardErrorsToLogs)return{stop:G};const n=bs(t).subscribe(o=>{o.state==="complete"&&i("xhr",o)}),r=Un().subscribe(o=>{o.state==="resolve"&&i("fetch",o)});function i(o,s){!Bo(s.url)&&(nd(s)||as(s.status))&&("xhr"in s?Ql(s.xhr,t,u):s.response?ed(s.response,t,u):s.error&&td(s.error,t,u));function u(c){const a={isAborted:s.isAborted,handlingStack:s.handlingStack};e.notify(0,{rawLogsEvent:{message:`${rd(o)} error ${s.method} ${s.url}`,date:s.startClocks.timeStamp,error:{stack:c||"Failed to load",handling:void 0},http:{method:s.method,status_code:s.status,url:s.url},status:R.error,origin:ct.NETWORK},domainContext:a})}}return{stop:()=>{n.unsubscribe(),r.unsubscribe()}}}function Ql(t,e,n){typeof t.response=="string"?n(Zr(t.response,e)):n(t.response)}function td(t,e,n){n(Zr(oe(Ct(t)),e))}function ed(t,e,n){const r=us(t);!r||!r.body?n():window.TextDecoder?id(r.body,e.requestErrorResponseLengthLimit,(i,o)=>{n(i?`Unable to retrieve response: ${i}`:o)}):r.text().then(T(i=>n(Zr(i,e))),T(i=>n(`Unable to retrieve response: ${i}`)))}function nd(t){return t.status===0&&t.responseType!=="opaque"}function Zr(t,e){return t.length>e.requestErrorResponseLengthLimit?`${t.substring(0,e.requestErrorResponseLengthLimit)}...`:t}function rd(t){return t==="xhr"?"XHR":"Fetch"}function id(t,e,n){Ss(t,(r,i,o)=>{if(r)n(r);else{let s=new TextDecoder().decode(i);o&&(s+="..."),n(void 0,s)}},{bytesLimit:e,collectStreamBody:!0})}function od(t,e){if(!t.forwardErrorsToLogs)return{stop:G};const n=new B,{stop:r}=Wo(n),i=n.subscribe(o=>{e.notify(0,{rawLogsEvent:{message:o.message,date:o.startClocks.timeStamp,error:Hn(o),origin:ct.SOURCE,status:R.error}})});return{stop:()=>{r(),i.unsubscribe()}}}const sd=ys;function ad(t){function e(n,r,i,o,s){const u=lt(r.getContext(),n.context);if(Rn(n.status,Xe.console,r)&&cd(n,u),Rn(n.status,Xe.http,r)){const c={rawLogsEvent:{date:s||Q(),message:n.message,status:n.status,origin:ct.LOGGER},messageContext:u,savedCommonContext:o};i&&(c.domainContext={handlingStack:i}),t.notify(0,c)}}return{handleLog:e}}const ud={[R.ok]:q.debug,[R.debug]:q.debug,[R.info]:q.info,[R.notice]:q.info,[R.warn]:q.warn,[R.error]:q.error,[R.critical]:q.error,[R.alert]:q.error,[R.emerg]:q.error};function cd({status:t,message:e},n){qt[ud[t]].call(Tt,e,n)}function ld(t,e,n,r,i){const o=qr(t,{endpoint:t.logsEndpointBuilder,encoder:je()},t.replica&&{endpoint:t.replica.logsEndpointBuilder,encoder:je()},n,r,i.expireObservable);return e.subscribe(1,s=>{o.add(s)}),o}function dd(t){const e=ae();t.subscribe(1,n=>{e.send("log",n)})}function fd(t){return{get:e=>{const n=t.findTrackedSession(e);if(n)return{session_id:n.id}}}}function hd(t){return e=>{t.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,origin:ct.AGENT,status:R.error}}),se("Error reported to customer",{"error.message":e.message})}}function pd(t,e,n,r,i){const o=ns("browser-logs-sdk",e);o.setContextProvider(()=>{var u,c,a,l,f,d;return{application:{id:(u=gn())===null||u===void 0?void 0:u.application_id},session:{id:(c=i.findTrackedSession())===null||c===void 0?void 0:c.id},view:{id:(l=(a=gn())===null||a===void 0?void 0:a.view)===null||l===void 0?void 0:l.id},action:{id:(d=(f=gn())===null||f===void 0?void 0:f.user_action)===null||d===void 0?void 0:d.id}}});const s=[];if(xt()){const u=ae(),c=o.observable.subscribe(a=>u.send("internal_telemetry",a));s.push(()=>c.unsubscribe())}else{const u=qr(e,{endpoint:e.rumEndpointBuilder,encoder:je()},e.replica&&{endpoint:e.replica.rumEndpointBuilder,encoder:je()},n,r,i.expireObservable);s.push(()=>u.stop());const c=o.observable.subscribe(a=>u.add(a,is(e)));s.push(()=>c.unsubscribe())}return rs(),os(Bl(t)),{telemetry:o,stop:()=>{s.forEach(u=>u())}}}function md(t,e,n,r){const i=new sd,o=[];i.subscribe(1,d=>Xr("logs",d));const s=hd(i),u=_s(e),c=e.sessionStoreStrategyType&&!xt()&&!Bn()?zl(e,r):jl(e),{stop:a}=pd(t,e,s,u,c);o.push(()=>a()),Zl(e,i),od(e,i),Kl(e,i),Jl(e,i);const{handleLog:l}=ad(i);if(ql(c,e,i,n,s),xt())dd(i);else{const{stop:d}=ld(e,i,s,u,c);o.push(()=>d())}const f=fd(c);return{handleLog:l,getInternalContext:f.get,stop:()=>{o.forEach(d=>d())}}}const gd=Gl(md);Yo(Lt(),"DD_LOGS",gd);function _d(t,e,n){return{context:t.getContext(),user:e.getContext(),hasReplay:n.isRecording()?!0:void 0}}function yd(){return{vitalsByName:new Map,vitalsByReference:new WeakMap}}function bd(t,e,n){function r(o){return!e.wasInPageStateDuringPeriod("frozen",o.startClocks.relative,o.duration)}function i(o){r(o)&&t.notify(12,Ed(o))}return{addDurationVital:i,startDurationVital:(o,s={})=>Cs(n,o,s),stopDurationVital:(o,s={})=>{Rs(i,n,o,s)}}}function Cs({vitalsByName:t,vitalsByReference:e},n,r={}){const i={name:n,startClocks:it(),context:r.context,description:r.description},o={__dd_vital_reference:!0};return t.set(n,i),e.set(o,i),o}function Rs(t,{vitalsByName:e,vitalsByReference:n},r,i={}){const o=typeof r=="string"?e.get(r):n.get(r);o&&(t(vd(o,o.startClocks,i,it())),typeof r=="string"?e.delete(r):n.delete(r))}function vd(t,e,n,r){var i;return{name:t.name,type:"duration",startClocks:e,duration:tt(e.timeStamp,r.timeStamp),context:lt(t.context,n.context),description:(i=n.description)!==null&&i!==void 0?i:t.description}}function Ed(t,e){const n={date:t.startClocks.timeStamp,vital:{id:et(),type:t.type,name:t.name,duration:C(t.duration),description:t.description},type:"vital"};return n._dd={vital:{computed_value:!0}},{rawRumEvent:n,startTime:t.startClocks.relative,customerContext:t.context,domainContext:{}}}function Os(t,e,n){if(t)for(const r of t){const i=r[e];i&&i(n)}}function Ns(){return window.crypto||window.msCrypto}function Sd(){return ks(64)}function Ls(){return ks(63)}let nr;function ks(t){return nr||(nr=Er(ye.CONSISTENT_TRACE_SAMPLING)&&Td()?wd:xd),nr(t)}function Td(){try{return crypto.getRandomValues(new BigUint64Array(1)),!0}catch{return!1}}function wd(t){let e=crypto.getRandomValues(new BigUint64Array(1))[0];return t===63&&(e>>=BigInt("1")),e}function xd(t){const e=Ns().getRandomValues(new Uint32Array(2));return t===63&&(e[e.length-1]>>>=1),{toString(n=10){let r=e[1],i=e[0],o="";do{const s=r%n*4294967296+i;r=Math.floor(r/n),i=Math.floor(s/n),o=(s%n).toString(n)+o}while(r||i);return o}}}function de(t){const e=t.toString(16);return Array(17-e.length).join("0")+e}function Ad(t,e){if(e===100)return!0;if(e===0)return!1;if(typeof t!="bigint")return Ht(e);const n=BigInt("1111111111111111111"),r=BigInt("0x10000000000000000"),i=t*n%r;return Number(i)<=e/100*Number(r)}function Id(t){const e=t;return Vt(e)==="object"&&Jr(e.match)&&Array.isArray(e.propagatorTypes)}function Cd(t){t.status===0&&!t.isAborted&&(t.traceId=void 0,t.spanId=void 0,t.traceSampled=void 0)}function Rd(t,e){return{clearTracingIfNeeded:Cd,traceFetch:n=>Ei(t,n,e,r=>{var i;if(n.input instanceof Request&&!(!((i=n.init)===null||i===void 0)&&i.headers))n.input=new Request(n.input),Object.keys(r).forEach(o=>{n.input.headers.append(o,r[o])});else{n.init=Ve(n.init);const o=[];n.init.headers instanceof Headers?n.init.headers.forEach((s,u)=>{o.push([u,s])}):Array.isArray(n.init.headers)?n.init.headers.forEach(s=>{o.push(s)}):n.init.headers&&Object.keys(n.init.headers).forEach(s=>{o.push([s,n.init.headers[s]])}),n.init.headers=o.concat(Hr(r))}}),traceXhr:(n,r)=>Ei(t,n,e,i=>{Object.keys(i).forEach(o=>{r.setRequestHeader(o,i[o])})})}}function Ei(t,e,n,r){if(!Od()||!n.findTrackedSession())return;const i=t.allowedTracingUrls.find(u=>As([u.match],e.url,!0));if(!i)return;const o=Sd();e.traceSampled=Ad(o,t.traceSampleRate),(e.traceSampled||t.traceContextInjection===vr.ALL)&&(e.traceId=o,e.spanId=Ls(),r(Nd(e.traceId,e.spanId,e.traceSampled,i.propagatorTypes)))}function Od(){return Ns()!==void 0}function Nd(t,e,n,r){const i={};return r.forEach(o=>{switch(o){case"datadog":{Object.assign(i,{"x-datadog-origin":"rum","x-datadog-parent-id":e.toString(),"x-datadog-sampling-priority":n?"1":"0","x-datadog-trace-id":t.toString()});break}case"tracecontext":{Object.assign(i,{traceparent:`00-0000000000000000${de(t)}-${de(e)}-0${n?"1":"0"}`,tracestate:`dd=s:${n?"1":"0"};o:rum`});break}case"b3":{Object.assign(i,{b3:`${de(t)}-${de(e)}-${n?"1":"0"}`});break}case"b3multi":{Object.assign(i,{"X-B3-TraceId":de(t),"X-B3-SpanId":de(e),"X-B3-Sampled":n?"1":"0"});break}}}),i}const Ps=["tracecontext","datadog"];function Ld(t){var e,n,r,i,o,s;if(t.trackFeatureFlagsForEvents!==void 0&&!Array.isArray(t.trackFeatureFlagsForEvents)&&M.warn("trackFeatureFlagsForEvents should be an array"),!t.applicationId){M.error("Application ID is not configured, no RUM data will be collected.");return}if(!me(t.sessionReplaySampleRate,"Session Replay")||!me(t.traceSampleRate,"Trace"))return;if(t.excludedActivityUrls!==void 0&&!Array.isArray(t.excludedActivityUrls)){M.error("Excluded Activity Urls should be an array");return}const u=kd(t);if(!u)return;const c=Ho(t);if(!c)return;const a=(e=t.sessionReplaySampleRate)!==null&&e!==void 0?e:0;return{applicationId:t.applicationId,version:t.version||void 0,actionNameAttribute:t.actionNameAttribute,sessionReplaySampleRate:a,startSessionReplayRecordingManually:t.startSessionReplayRecordingManually!==void 0?!!t.startSessionReplayRecordingManually:a===0,traceSampleRate:(n=t.traceSampleRate)!==null&&n!==void 0?n:100,rulePsr:qe(t.traceSampleRate)?t.traceSampleRate/100:void 0,allowedTracingUrls:u,excludedActivityUrls:(r=t.excludedActivityUrls)!==null&&r!==void 0?r:[],workerUrl:t.workerUrl,compressIntakeRequests:!!t.compressIntakeRequests,trackUserInteractions:!!(!((i=t.trackUserInteractions)!==null&&i!==void 0)||i),trackViewsManually:!!t.trackViewsManually,trackResources:!!(!((o=t.trackResources)!==null&&o!==void 0)||o),trackLongTasks:!!(!((s=t.trackLongTasks)!==null&&s!==void 0)||s),subdomain:t.subdomain,defaultPrivacyLevel:En(Fe,t.defaultPrivacyLevel)?t.defaultPrivacyLevel:Fe.MASK,enablePrivacyForActionName:!!t.enablePrivacyForActionName,customerDataTelemetrySampleRate:1,traceContextInjection:En(vr,t.traceContextInjection)?t.traceContextInjection:vr.SAMPLED,plugins:t.plugins||[],trackFeatureFlagsForEvents:t.trackFeatureFlagsForEvents||[],...c}}function kd(t){if(t.allowedTracingUrls===void 0)return[];if(!Array.isArray(t.allowedTracingUrls)){M.error("Allowed Tracing URLs should be an array");return}if(t.allowedTracingUrls.length!==0&&t.service===void 0){M.error("Service needs to be configured when tracing is enabled");return}const e=[];return t.allowedTracingUrls.forEach(n=>{Jr(n)?e.push({match:n,propagatorTypes:Ps}):Id(n)?e.push(n):M.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",n)}),e}function Pd(t){const e=new Set;return Array.isArray(t.allowedTracingUrls)&&t.allowedTracingUrls.length>0&&t.allowedTracingUrls.forEach(n=>{Jr(n)?Ps.forEach(r=>e.add(r)):Vt(n)==="object"&&Array.isArray(n.propagatorTypes)&&n.propagatorTypes.forEach(r=>e.add(r))}),Array.from(e)}function Md(t){var e;const n=Fo(t);return{session_replay_sample_rate:t.sessionReplaySampleRate,start_session_replay_recording_manually:t.startSessionReplayRecordingManually,trace_sample_rate:t.traceSampleRate,trace_context_injection:t.traceContextInjection,action_name_attribute:t.actionNameAttribute,use_allowed_tracing_urls:Array.isArray(t.allowedTracingUrls)&&t.allowedTracingUrls.length>0,selected_tracing_propagators:Pd(t),default_privacy_level:t.defaultPrivacyLevel,enable_privacy_for_action_name:t.enablePrivacyForActionName,use_excluded_activity_urls:Array.isArray(t.excludedActivityUrls)&&t.excludedActivityUrls.length>0,use_worker_url:!!t.workerUrl,compress_intake_requests:t.compressIntakeRequests,track_views_manually:t.trackViewsManually,track_user_interactions:t.trackUserInteractions,track_resources:t.trackResources,track_long_task:t.trackLongTasks,plugins:(e=t.plugins)===null||e===void 0?void 0:e.map(r=>{var i;return{name:r.name,...(i=r.getConfigurationTelemetry)===null||i===void 0?void 0:i.call(r)}}),track_feature_flags_for_events:t.trackFeatureFlagsForEvents,...n}}const Dd="v1";function Ud(t,e){Hd(t,n=>{e(Bd(t,n))})}function Bd(t,e){return{...t,...e}}function Hd(t,e){const n=new XMLHttpRequest;j(t,n,"load",function(){if(n.status===200){const r=JSON.parse(n.responseText);e(r.rum)}else Si()}),j(t,n,"error",function(){Si()}),n.open("GET",Fd(t)),n.send()}function Fd(t){return`https://sdk-configuration.${Uo("rum",t)}/${Dd}/${encodeURIComponent(t.remoteConfigurationId)}.json`}function Si(){M.error("Error fetching the remote configuration.")}function Gd({ignoreInitIfSyntheticsWillInjectRum:t,startDeflateWorker:e},n,r,i,o){const s=Wr();let u,c,a,l;const f=r.observable.subscribe(p),d={};function p(){if(!a||!l||!r.isGranted())return;f.unsubscribe();let y;if(l.trackViewsManually){if(!u)return;s.remove(u.callback),y=u.options}const S=o(l,c,y);s.drain(S)}function m(y){const S=xt();if(S&&(y=Vd(y)),a=y,os(Md(y)),l){Mn("DD_RUM",y);return}const E=Ld(y);if(E){if(!S&&!E.sessionStoreStrategyType){M.warn("No storage available for session. We will not send any data.");return}E.compressIntakeRequests&&!S&&e&&(c=e(E,"Datadog RUM",G),!c)||(l=E,Un().subscribe(G),r.tryToInit(E.trackingConsent),p())}}const _=y=>{s.add(S=>S.addDurationVital(y))};return{init(y,S){if(!y){M.error("Missing configuration");return}Go(y.enableExperimentalFeatures),a=y,!(t&&Bn())&&(Os(y.plugins,"onInit",{initConfiguration:y,publicApi:S}),y.remoteConfigurationId?Ud(y,m):m(y))},get initConfiguration(){return a},getInternalContext:G,stopSession:G,addTiming(y,S=Q()){s.add(E=>E.addTiming(y,S))},startView(y,S=it()){const E=U=>{U.startView(y,S)};s.add(E),u||(u={options:y,callback:E},p())},setViewName(y){s.add(S=>S.setViewName(y))},setViewContext(y){s.add(S=>S.setViewContext(y))},setViewContextProperty(y,S){s.add(E=>E.setViewContextProperty(y,S))},getViewContext:()=>d,addAction(y,S=n()){s.add(E=>E.addAction(y,S))},addError(y,S=n()){s.add(E=>E.addError(y,S))},addFeatureFlagEvaluation(y,S){s.add(E=>E.addFeatureFlagEvaluation(y,S))},startDurationVital(y,S){return Cs(i,y,S)},stopDurationVital(y,S){Rs(_,i,y,S)},addDurationVital:_}}function Vd(t){var e,n;return{...t,applicationId:"00000000-aaaa-0000-aaaa-000000000000",clientToken:"empty",sessionSampleRate:100,defaultPrivacyLevel:(e=t.defaultPrivacyLevel)!==null&&e!==void 0?e:(n=ae())===null||n===void 0?void 0:n.getPrivacyLevel()}}const Ti="rum";function $d(t,e,n={}){const r=Es(0),i=Se("global",{customerDataTracker:r.getOrCreateTracker(2)}),o=Se("user",{customerDataTracker:r.getOrCreateTracker(1),propertiesConfig:{id:{type:"string"},name:{type:"string"},email:{type:"string"}}}),s=Mo(),u=yd();function c(){return _d(i,o,e)}let a=Gd(n,c,s,u,(d,p,m)=>{d.storeContextsAcrossPages&&(Cn(d,i,Ti,2),Cn(d,o,Ti,1)),r.setCompressionStatus(p?1:2);const _=t(d,e,r,c,m,p&&n.createDeflateEncoder?v=>n.createDeflateEncoder(d,p,v):je,s,u);return e.onRumStart(_.lifeCycle,d,_.session,_.viewHistory,p),a=zd(a,_),Os(d.plugins,"onRumStart",{strategy:a}),_});const l=T(d=>{const p=typeof d=="object"?d:{name:d};p.context&&r.getOrCreateTracker(3).updateCustomerData(p.context),a.startView(p),Z({feature:"start-view"})}),f=qo({init:T(d=>{a.init(d,f)}),setTrackingConsent:T(d=>{s.update(d),Z({feature:"set-tracking-consent",tracking_consent:d})}),setViewName:T(d=>{a.setViewName(d),Z({feature:"set-view-name"})}),setViewContext:T(d=>{a.setViewContext(d),Z({feature:"set-view-context"})}),setViewContextProperty:T((d,p)=>{a.setViewContextProperty(d,p),Z({feature:"set-view-context-property"})}),getViewContext:T(()=>(Z({feature:"set-view-context-property"}),a.getViewContext())),setGlobalContext:T(d=>{i.setContext(d),Z({feature:"set-global-context"})}),getGlobalContext:T(()=>i.getContext()),setGlobalContextProperty:T((d,p)=>{i.setContextProperty(d,p),Z({feature:"set-global-context"})}),removeGlobalContextProperty:T(d=>i.removeContextProperty(d)),clearGlobalContext:T(()=>i.clearContext()),getInternalContext:T(d=>a.getInternalContext(d)),getInitConfiguration:T(()=>Dn(a.initConfiguration)),addAction:(d,p)=>{const m=ve();te(()=>{a.addAction({name:$(d),context:$(p),startClocks:it(),type:"custom",handlingStack:m}),Z({feature:"add-action"})})},addError:(d,p)=>{const m=ve();te(()=>{a.addError({error:d,handlingStack:m,context:$(p),startClocks:it()}),Z({feature:"add-error"})})},addTiming:T((d,p)=>{a.addTiming($(d),p)}),setUser:T(d=>{xs(d)&&o.setContext(d),Z({feature:"set-user"})}),getUser:T(()=>o.getContext()),setUserProperty:T((d,p)=>{o.setContextProperty(d,p),Z({feature:"set-user"})}),removeUserProperty:T(d=>o.removeContextProperty(d)),clearUser:T(()=>o.clearContext()),startView:l,stopSession:T(()=>{a.stopSession(),Z({feature:"stop-session"})}),addFeatureFlagEvaluation:T((d,p)=>{a.addFeatureFlagEvaluation($(d),$(p)),Z({feature:"add-feature-flag-evaluation"})}),getSessionReplayLink:T(()=>e.getSessionReplayLink()),startSessionReplayRecording:T(d=>{e.start(d),Z({feature:"start-session-replay-recording",force:d&&d.force})}),stopSessionReplayRecording:T(()=>e.stop()),addDurationVital:T((d,p)=>{Z({feature:"add-duration-vital"}),a.addDurationVital({name:$(d),type:"duration",startClocks:Ka(p.startTime),duration:p.duration,context:$(p&&p.context),description:$(p&&p.description)})}),startDurationVital:T((d,p)=>(Z({feature:"start-duration-vital"}),a.startDurationVital($(d),{context:$(p&&p.context),description:$(p&&p.description)}))),stopDurationVital:T((d,p)=>{Z({feature:"stop-duration-vital"}),a.stopDurationVital(typeof d=="string"?$(d):d,{context:$(p&&p.context),description:$(p&&p.description)})})});return f}function zd(t,e){return{init:n=>{Mn("DD_RUM",n)},initConfiguration:t.initConfiguration,...e}}function jd(){const t=Xd();return new B(e=>{if(!t)return;const n=new t(T(()=>e.notify()));return n.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),()=>n.disconnect()})}function Xd(){let t;const e=window;if(e.Zone&&(t=Ft(e,"MutationObserver"),e.MutationObserver&&t===e.MutationObserver)){const n=new e.MutationObserver(G),r=Ft(n,"originalInstance");t=r&&r.constructor}return t||(t=e.MutationObserver),t}function Wd(){const t=new B,{stop:e}=wt(window,"open",()=>t.notify());return{observable:t,stop:e}}function qd(){const t=Ts(),e=ws();if(t&&e)return{test_id:t,result_id:e,injected:Bn()}}function Yd(t,e,n){const r=Dn(t),i=n(r);return Hr(e).forEach(([o,s])=>wr(t,r,o.split(/\.|(?=\[\])/),s)),i}function wr(t,e,n,r){const[i,...o]=n;if(i==="[]"){Array.isArray(t)&&Array.isArray(e)&&t.forEach((s,u)=>wr(s,e[u],o,r));return}if(!(!wi(t)||!wi(e))){if(o.length>0)return wr(t[i],e[i],o,r);Kd(t,i,e[i],r)}}function Kd(t,e,n,r){const i=Vt(n);i===r?t[e]=$(n):r==="object"&&(i==="undefined"||i==="null")&&(t[e]={})}function wi(t){return Vt(t)==="object"}const fe={"view.name":"string","view.url":"string","view.referrer":"string"},he={context:"object"},rr={service:"string",version:"string"};let Ms;function Jd(t,e,n,r,i,o,s,u,c,a,l,f){Ms={view:{...he,...fe},error:{"error.message":"string","error.stack":"string","error.resource.url":"string","error.fingerprint":"string",...he,...fe,...rr},resource:{"resource.url":"string",...Er(ye.WRITABLE_RESOURCE_GRAPHQL)?{"resource.graphql":"object"}:{},...he,...fe,...rr},action:{"action.target.name":"string",...he,...fe,...rr},long_task:{"long_task.scripts[].source_url":"string","long_task.scripts[].invoker":"string",...he,...fe},vital:{...he,...fe}};const d={error:mn("error",t.eventRateLimiterThreshold,f),action:mn("action",t.eventRateLimiterThreshold,f),vital:mn("vital",t.eventRateLimiterThreshold,f)},p=qd();e.subscribe(12,({startTime:m,rawRumEvent:_,domainContext:v,savedCommonContext:y,customerContext:S})=>{const E=i.findView(m),U=o.findUrl(m),g=r.findTrackedSession(m);if(g&&E&&!U&&Er(ye.MISSING_URL_CONTEXT_TELEMETRY)&&se("Missing URL entry",{debug:{eventType:_.type,startTime:m,urlEntries:o.getAllEntries(),urlDeletedEntries:o.getDeletedEntries(),viewEntries:i.getAllEntries(),viewDeletedEntries:i.getDeletedEntries()}}),g&&E&&U){const L=y||l(),A=s.findActionId(m),ot={_dd:{format_version:2,drift:Za(),configuration:{session_sample_rate:vn(t.sessionSampleRate,3),session_replay_sample_rate:vn(t.sessionReplaySampleRate,3)},browser_sdk_version:xt()?"6.3.0":void 0},application:{id:t.applicationId},date:Q(),source:"browser",session:{id:g.id,type:p?"synthetics":c.get()?"ci_test":"user"},feature_flags:tf(_,m,t.trackFeatureFlagsForEvents,a),action:Qd(_)&&A?{id:A}:void 0,synthetics:p,ci_test:c.get(),display:u.get(),connectivity:Qo(),context:L.context},K=lt(ot,n.triggerHook(0,{eventType:_.type,startTime:m}),{context:S},_);"has_replay"in K.session||(K.session.has_replay=L.hasReplay),K.type==="view"&&(K.session.sampled_for_replay=g.sessionReplay===1),g.anonymousId&&!L.user.anonymous_id&&t.trackAnonymousUser&&(L.user.anonymous_id=g.anonymousId),Qt(L.user)||(K.usr=L.user),Zd(K,t.beforeSend,v,d)&&(Qt(K.context)&&delete K.context,e.notify(13,K))}})}function Zd(t,e,n,r){var i;if(e){const s=Yd(t,Ms[t.type],u=>e(u,n));if(s===!1&&t.type!=="view")return!1;s===!1&&M.warn("Can't dismiss view events using beforeSend!")}return!((i=r[t.type])===null||i===void 0?void 0:i.isLimitReached())}function Qd(t){return["error","resource","long_task"].indexOf(t.type)!==-1}function tf(t,e,n,r){const i=t.type==="view"||t.type==="error",o=n.includes(t.type);if(i||o){const s=r.findFeatureFlagEvaluations(e);if(s&&!Qt(s))return s}}function ef(t,e,n,r,i){return{get:o=>{const s=n.findView(o),u=i.findUrl(o),c=e.findTrackedSession(o);if(c&&s&&u){const a=r.findActionId(o);return{application_id:t,session_id:c.id,user_action:a?{id:a}:void 0,view:{id:s.id,name:s.name,referrer:u.referrer,url:u.url}}}}}}const nf=ys,rf=re;function of(t){const e=Ce({expireDelay:rf});t.subscribe(1,r=>{e.add(n(r),r.startClocks.relative)}),t.subscribe(6,({endClocks:r})=>{e.closeActive(r.relative)}),t.subscribe(3,r=>{const i=e.find(r.startClocks.relative);i&&r.name&&(i.name=r.name),i&&r.context&&(i.context=r.context)}),t.subscribe(10,()=>{e.reset()});function n(r){return{service:r.service,version:r.version,context:r.context,id:r.id,name:r.name,startClocks:r.startClocks}}return{findView:r=>e.find(r),getAllEntries:()=>e.getAllEntries(),getDeletedEntries:()=>e.getDeletedEntries(),stop:()=>{e.stop()}}}const Ds="initial_document",sf=[["document",t=>Ds===t],["xhr",t=>t==="xmlhttprequest"],["fetch",t=>t==="fetch"],["beacon",t=>t==="beacon"],["css",(t,e)=>/\.css$/i.test(e)],["js",(t,e)=>/\.js$/i.test(e)],["image",(t,e)=>["image","img","icon"].includes(t)||/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(e)!==null],["font",(t,e)=>/\.(woff|eot|woff2|ttf)$/i.exec(e)!==null],["media",(t,e)=>["audio","video"].includes(t)||/\.(mp3|mp4)$/i.exec(e)!==null]];function af(t){const e=t.name;if(!Du(e))return se(`Failed to construct URL for "${t.name}"`),"other";const n=Uu(e);for(const[r,i]of sf)if(i(t.initiatorType,n))return r;return"other"}function xi(...t){for(let e=1;e<t.length;e+=1)if(t[e-1]>t[e])return!1;return!0}function uf(t){return t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch"}function cf(t){const{duration:e,startTime:n,responseEnd:r}=t;return e===0&&n<r?C(tt(n,r)):C(e)}function lf(t){if(!Bs(t))return;const{startTime:e,fetchStart:n,workerStart:r,redirectStart:i,redirectEnd:o,domainLookupStart:s,domainLookupEnd:u,connectStart:c,secureConnectionStart:a,connectEnd:l,requestStart:f,responseStart:d,responseEnd:p}=t,m={download:jt(e,d,p),first_byte:jt(e,f,d)};return 0<r&&r<n&&(m.worker=jt(e,r,n)),n<l&&(m.connect=jt(e,c,l),c<=a&&a<=l&&(m.ssl=jt(e,a,l))),n<u&&(m.dns=jt(e,s,u)),e<o&&(m.redirect=jt(e,i,o)),m}function Us(t){return t.duration>=0}function Bs(t){const e=xi(t.startTime,t.fetchStart,t.domainLookupStart,t.domainLookupEnd,t.connectStart,t.connectEnd,t.requestStart,t.responseStart,t.responseEnd),n=df(t)?xi(t.startTime,t.redirectStart,t.redirectEnd,t.fetchStart):!0;return e&&n}function df(t){return t.redirectEnd>t.startTime}function jt(t,e,n){if(t<=e&&e<=n)return{duration:C(tt(e,n)),start:C(tt(t,e))}}function Hs(t){return t.nextHopProtocol===""?void 0:t.nextHopProtocol}function Fs(t){return t.deliveryType===""?"other":t.deliveryType}function ff(t){if(t.startTime<t.responseStart){const{encodedBodySize:e,decodedBodySize:n,transferSize:r}=t;return{size:n,encoded_body_size:e,decoded_body_size:n,transfer_size:r}}return{size:void 0,encoded_body_size:void 0,decoded_body_size:void 0,transfer_size:void 0}}function Qr(t){return t&&!Bo(t)}const hf=/data:(.+)?(;base64)?,/g,Ai=24e3;function pf(t){return t.length<=Ai?!1:t.substring(0,5)==="data:"?(t=t.substring(0,Ai),!0):!1}function mf(t){return`${t.match(hf)[0]}[...]`}let Ii=1;function gf(t,e,n){const r=Rd(e,n);_f(t,e,r),yf(t,r)}function _f(t,e,n){const r=bs(e).subscribe(i=>{const o=i;if(Qr(o.url))switch(o.state){case"start":n.traceXhr(o,o.xhr),o.requestIndex=Gs(),t.notify(7,{requestIndex:o.requestIndex,url:o.url});break;case"complete":n.clearTracingIfNeeded(o),t.notify(8,{duration:o.duration,method:o.method,requestIndex:o.requestIndex,spanId:o.spanId,startClocks:o.startClocks,status:o.status,traceId:o.traceId,traceSampled:o.traceSampled,type:"xhr",url:o.url,xhr:o.xhr,isAborted:o.isAborted,handlingStack:o.handlingStack});break}});return{stop:()=>r.unsubscribe()}}function yf(t,e){const n=Un().subscribe(r=>{const i=r;if(Qr(i.url))switch(i.state){case"start":e.traceFetch(i),i.requestIndex=Gs(),t.notify(7,{requestIndex:i.requestIndex,url:i.url});break;case"resolve":bf(i,o=>{e.clearTracingIfNeeded(i),t.notify(8,{duration:o,method:i.method,requestIndex:i.requestIndex,responseType:i.responseType,spanId:i.spanId,startClocks:i.startClocks,status:i.status,traceId:i.traceId,traceSampled:i.traceSampled,type:"fetch",url:i.url,response:i.response,init:i.init,input:i.input,isAborted:i.isAborted,handlingStack:i.handlingStack})});break}});return{stop:()=>n.unsubscribe()}}function Gs(){const t=Ii;return Ii+=1,t}function bf(t,e){const n=t.response&&us(t.response);!n||!n.body?e(tt(t.startClocks.timeStamp,Q())):Ss(n.body,()=>{e(tt(t.startClocks.timeStamp,Q()))},{bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:!1})}function Vs(t){return qe(t)&&t<0?void 0:t}function $s({lifeCycle:t,isChildEvent:e,onChange:n=G}){const r={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},i=t.subscribe(13,o=>{var s;if(!(o.type==="view"||o.type==="vital"||!e(o)))switch(o.type){case"error":r.errorCount+=1,n();break;case"action":r.actionCount+=1,o.action.frustration&&(r.frustrationCount+=o.action.frustration.type.length),n();break;case"long_task":r.longTaskCount+=1,n();break;case"resource":!((s=o._dd)===null||s===void 0)&&s.discarded||(r.resourceCount+=1,n());break}});return{stop:()=>{i.unsubscribe()},eventCounts:r}}function vf(t,e){const n=ht();let r=!1;const{stop:i}=Gt(t,window,["click","mousedown","keydown","touchstart","pointerdown"],u=>{if(!u.cancelable)return;const c={entryType:"first-input",processingStart:pt(),processingEnd:pt(),startTime:u.timeStamp,duration:0,name:"",cancelable:!1,target:null,toJSON:()=>({})};u.type==="pointerdown"?o(t,c):s(c)},{passive:!0,capture:!0});return{stop:i};function o(u,c){Gt(u,window,["pointerup","pointercancel"],a=>{a.type==="pointerup"&&s(c)},{once:!0})}function s(u){if(!r){r=!0,i();const c=u.processingStart-u.startTime;c>=0&&c<ht()-n&&e(u)}}}var V;(function(t){t.EVENT="event",t.FIRST_INPUT="first-input",t.LARGEST_CONTENTFUL_PAINT="largest-contentful-paint",t.LAYOUT_SHIFT="layout-shift",t.LONG_TASK="longtask",t.LONG_ANIMATION_FRAME="long-animation-frame",t.NAVIGATION="navigation",t.PAINT="paint",t.RESOURCE="resource"})(V||(V={}));function At(t,e){return new B(n=>{if(!window.PerformanceObserver)return;const r=c=>{const a=Tf(c);a.length>0&&n.notify(a)};let i,o=!0;const s=new PerformanceObserver(T(c=>{o?i=rt(()=>r(c.getEntries())):r(c.getEntries())}));try{s.observe(e)}catch{if([V.RESOURCE,V.NAVIGATION,V.LONG_TASK,V.PAINT].includes(e.type)){e.buffered&&(i=rt(()=>r(performance.getEntriesByType(e.type))));try{s.observe({entryTypes:[e.type]})}catch{return}}}o=!1,Ef(t);let u;return!Fn(V.FIRST_INPUT)&&e.type===V.FIRST_INPUT&&({stop:u}=vf(t,c=>{r([c])})),()=>{s.disconnect(),u&&u(),ft(i)}})}let De;function Ef(t){return!De&&Sf()&&"addEventListener"in performance&&(De=j(t,performance,"resourcetimingbufferfull",()=>{performance.clearResourceTimings()})),()=>{De?.stop()}}function Sf(){return window.performance!==void 0&&"getEntries"in performance}function Fn(t){return window.PerformanceObserver&&PerformanceObserver.supportedEntryTypes!==void 0&&PerformanceObserver.supportedEntryTypes.includes(t)}function Tf(t){return t.filter(e=>!wf(e))}function wf(t){return t.entryType===V.RESOURCE&&(!Qr(t.name)||!Us(t))}const zs=100,xf=100;function ti(t,e,n,r,i,o){const s=If(t,e,n,r);return Af(s,i,o)}function Af(t,e,n){let r,i=!1;const o=rt(T(()=>a({hadActivity:!1})),zs),s=n!==void 0?rt(T(()=>a({hadActivity:!0,end:Q()})),n):void 0,u=t.subscribe(({isBusy:l})=>{ft(o),ft(r);const f=Q();l||(r=rt(T(()=>a({hadActivity:!0,end:f})),xf))}),c=()=>{i=!0,ft(o),ft(r),ft(s),u.unsubscribe()};function a(l){i||(c(),e(l))}return{stop:c}}function If(t,e,n,r){return new B(i=>{const o=[];let s,u=0;return o.push(e.subscribe(c),n.subscribe(c),At(r,{type:V.RESOURCE}).subscribe(a=>{a.some(l=>!ir(r,l.name))&&c()}),t.subscribe(7,a=>{ir(r,a.url)||(s===void 0&&(s=a.requestIndex),u+=1,c())}),t.subscribe(8,a=>{ir(r,a.url)||s===void 0||a.requestIndex<s||(u-=1,c())})),()=>{o.forEach(a=>a.unsubscribe())};function c(){i.notify({isBusy:u>0})}})}function ir(t,e){return As(t.excludedActivityUrls,e)}function js(t){return t.nodeType===Node.TEXT_NODE}function Cf(t){return t.nodeType===Node.COMMENT_NODE}function Re(t){return t.nodeType===Node.ELEMENT_NODE}function Xs(t){return Re(t)&&!!t.shadowRoot}function Rf(t){const e=t;return!!e.host&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&Re(e.host)}function E0(t){return t.childNodes.length>0||Xs(t)}function S0(t,e){let n=t.firstChild;for(;n;)e(n),n=n.nextSibling;Xs(t)&&e(t.shadowRoot)}function Of(t){return Rf(t)?t.host:t.parentNode}const F={IGNORE:"ignore",HIDDEN:"hidden",ALLOW:Fe.ALLOW,MASK:Fe.MASK,MASK_USER_INPUT:Fe.MASK_USER_INPUT},Nf="data-dd-privacy",T0="hidden",Lf="dd-privacy-",or="***",w0="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",kf={INPUT:!0,OUTPUT:!0,TEXTAREA:!0,SELECT:!0,OPTION:!0,DATALIST:!0,OPTGROUP:!0},Pf="x";function Ws(t,e,n){if(n&&n.has(t))return n.get(t);const r=Of(t),i=r?Ws(r,e,n):e,o=Df(t),s=Mf(o,i);return n&&n.set(t,s),s}function Mf(t,e){switch(e){case F.HIDDEN:case F.IGNORE:return e}switch(t){case F.ALLOW:case F.MASK:case F.MASK_USER_INPUT:case F.HIDDEN:case F.IGNORE:return t;default:return e}}function Df(t){if(Re(t)){if(t.tagName==="BASE")return F.ALLOW;if(t.tagName==="INPUT"){const e=t;if(e.type==="password"||e.type==="email"||e.type==="tel"||e.type==="hidden")return F.MASK;const n=e.getAttribute("autocomplete");if(n&&(n.startsWith("cc-")||n.endsWith("-password")))return F.MASK}if(t.matches(ge(F.HIDDEN)))return F.HIDDEN;if(t.matches(ge(F.MASK)))return F.MASK;if(t.matches(ge(F.MASK_USER_INPUT)))return F.MASK_USER_INPUT;if(t.matches(ge(F.ALLOW)))return F.ALLOW;if(Hf(t))return F.IGNORE}}function Uf(t,e){switch(e){case F.MASK:case F.HIDDEN:case F.IGNORE:return!0;case F.MASK_USER_INPUT:return js(t)?Ci(t.parentNode):Ci(t);default:return!1}}function Ci(t){if(!t||t.nodeType!==t.ELEMENT_NODE)return!1;const e=t;if(e.tagName==="INPUT")switch(e.type){case"button":case"color":case"reset":case"submit":return!1}return!!kf[e.tagName]}const Bf=t=>t.replace(/\S/g,Pf);function x0(t,e,n){var r;const i=(r=t.parentElement)===null||r===void 0?void 0:r.tagName;let o=t.textContent||"";if(e&&!o.trim())return;const s=n;if(i==="SCRIPT")o=or;else if(s===F.HIDDEN)o=or;else if(Uf(t,s))if(i==="DATALIST"||i==="SELECT"||i==="OPTGROUP"){if(!o.trim())return}else i==="OPTION"?o=or:o=Bf(o);return o}function Hf(t){if(t.nodeName==="SCRIPT")return!0;if(t.nodeName==="LINK"){const n=e("rel");return/preload|prefetch/i.test(n)&&e("as")==="script"||n==="shortcut icon"||n==="icon"}if(t.nodeName==="META"){const n=e("name"),r=e("rel"),i=e("property");return/^msapplication-tile(image|color)$/.test(n)||n==="application-name"||r==="icon"||r==="apple-touch-icon"||r==="shortcut icon"||n==="keywords"||n==="description"||/^(og|twitter|fb):/.test(i)||/^(og|twitter):/.test(n)||n==="pinterest"||n==="robots"||n==="googlebot"||n==="bingbot"||t.hasAttribute("http-equiv")||n==="author"||n==="generator"||n==="framework"||n==="publisher"||n==="progid"||/^article:/.test(i)||/^product:/.test(i)||n==="google-site-verification"||n==="yandex-verification"||n==="csrf-token"||n==="p:domain_verify"||n==="verify-v1"||n==="verification"||n==="shopify-checkout-api-token"}function e(n){return(t.getAttribute(n)||"").toLowerCase()}return!1}function ge(t){return`[${Nf}="${t}"], .${Lf}${t}`}const ei="data-dd-action-name",Ff="Masked Element";function Gf(t,{enablePrivacyForActionName:e,actionNameAttribute:n},r){const i=Ri(t,ei)||n&&Ri(t,n);return i?{name:i,nameSource:"custom_attribute"}:r===F.MASK?{name:Ff,nameSource:"mask_placeholder"}:Oi(t,n,Vf,e)||Oi(t,n,$f,e)||{name:"",nameSource:"blank"}}function Ri(t,e){const n=t.closest(`[${e}]`);if(!n)return;const r=n.getAttribute(e);return Ys(qs(r.trim()))}const Vf=[(t,e)=>{if("labels"in t&&t.labels&&t.labels.length>0)return _n(t.labels[0],e)},t=>{if(t.nodeName==="INPUT"){const e=t,n=e.getAttribute("type");if(n==="button"||n==="submit"||n==="reset")return{name:e.value,nameSource:"text_content"}}},(t,e,n)=>{if(t.nodeName==="BUTTON"||t.nodeName==="LABEL"||t.getAttribute("role")==="button")return _n(t,e,n)},t=>Ue(t,"aria-label"),(t,e,n)=>{const r=t.getAttribute("aria-labelledby");if(r)return{name:r.split(/\s+/).map(i=>jf(t,i)).filter(i=>!!i).map(i=>Ks(i,e,n)).join(" "),nameSource:"text_content"}},t=>Ue(t,"alt"),t=>Ue(t,"name"),t=>Ue(t,"title"),t=>Ue(t,"placeholder"),(t,e)=>{if("options"in t&&t.options.length>0)return _n(t.options[0],e)}],$f=[(t,e,n)=>_n(t,e,n)],zf=10;function Oi(t,e,n,r){let i=t,o=0;for(;o<=zf&&i&&i.nodeName!=="BODY"&&i.nodeName!=="HTML"&&i.nodeName!=="HEAD";){for(const s of n){const u=s(i,e,r);if(u){const{name:c,nameSource:a}=u,l=c&&c.trim();if(l)return{name:Ys(qs(l)),nameSource:a}}}if(i.nodeName==="FORM")break;i=i.parentElement,o+=1}}function qs(t){return t.replace(/\s+/g," ")}function Ys(t){return t.length>100?`${xo(t,100)} [...]`:t}function jf(t,e){return t.ownerDocument?t.ownerDocument.getElementById(e):null}function Ue(t,e){return{name:t.getAttribute(e)||"",nameSource:"standard_attribute"}}function _n(t,e,n){return{name:Ks(t,e,n)||"",nameSource:"text_content"}}function Ks(t,e,n){if(!t.isContentEditable){if("innerText"in t){let r=t.innerText;const i=o=>{const s=t.querySelectorAll(o);for(let u=0;u<s.length;u+=1){const c=s[u];if("innerText"in c){const a=c.innerText;a&&a.trim().length>0&&(r=r.replace(a,""))}}};return i(`[${ei}]`),e&&i(`[${e}]`),n&&i(`${ge(F.HIDDEN)}, ${ge(F.MASK)}`),r}return t.textContent}}const Xf=[ei,"data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],Wf=[Zs,Yf],qf=[Zs,Kf,Jf];function Qe(t,e){if(!nh(t))return;let n,r=t;for(;r&&r.nodeName!=="HTML";){const i=Ni(r,Wf,Qf,e,n);if(i)return i;n=Ni(r,qf,th,e,n)||We(Zf(r),n),r=r.parentElement}return n}function Js(t){return/[0-9]/.test(t)}function Yf(t){if(t.id&&!Js(t.id))return`#${CSS.escape(t.id)}`}function Kf(t){if(t.tagName==="BODY")return;const e=t.classList;for(let n=0;n<e.length;n+=1){const r=e[n];if(!Js(r))return`${CSS.escape(t.tagName)}.${CSS.escape(r)}`}}function Jf(t){return CSS.escape(t.tagName)}function Zs(t,e){if(e){const r=n(e);if(r)return r}for(const r of Xf){const i=n(r);if(i)return i}function n(r){if(t.hasAttribute(r))return`${CSS.escape(t.tagName)}[${r}="${CSS.escape(t.getAttribute(r))}"]`}}function Zf(t){let e=t.parentElement.firstElementChild,n=1;for(;e&&e!==t;)e.tagName===t.tagName&&(n+=1),e=e.nextElementSibling;return`${CSS.escape(t.tagName)}:nth-of-type(${n})`}function Ni(t,e,n,r,i){for(const o of e){const s=o(t,r);if(s&&n(t,s,i))return We(s,i)}}function Qf(t,e,n){return t.ownerDocument.querySelectorAll(We(e,n)).length===1}function th(t,e,n){let r;if(n===void 0)r=s=>s.matches(e);else{const s=eh()?We(`${e}:scope`,n):We(e,n);r=u=>u.querySelector(s)!==null}let o=t.parentElement.firstElementChild;for(;o;){if(o!==t&&r(o))return!1;o=o.nextElementSibling}return!0}function We(t,e){return e?`${t}>${e}`:t}let un;function eh(){if(un===void 0)try{document.querySelector(":scope"),un=!0}catch{un=!1}return un}function nh(t){return"isConnected"in t?t.isConnected:t.ownerDocument.documentElement.contains(t)}const Qs=at,rh=100;function ih(t,e){const n=[];let r=0,i;o(t);function o(c){c.stopObservable.subscribe(s),n.push(c),ft(i),i=rt(u,Qs)}function s(){r===1&&n.every(c=>c.isStopped())&&(r=2,e(n))}function u(){ft(i),r===0&&(r=1,s())}return{tryAppend:c=>r!==0?!1:n.length>0&&!oh(n[n.length-1].event,c.event)?(u(),!1):(o(c),!0),stop:()=>{u()}}}function oh(t,e){return t.target===e.target&&sh(t,e)<=rh&&t.timeStamp-e.timeStamp<=Qs}function sh(t,e){return Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2))}function ah(t,{onPointerDown:e,onPointerUp:n}){let r,i={selection:!1,input:!1,scroll:!1},o;const s=[j(t,window,"pointerdown",u=>{ki(u)&&(r=Li(),i={selection:!1,input:!1,scroll:!1},o=e(u))},{capture:!0}),j(t,window,"selectionchange",()=>{(!r||!Li())&&(i.selection=!0)},{capture:!0}),j(t,window,"scroll",()=>{i.scroll=!0},{capture:!0,passive:!0}),j(t,window,"pointerup",u=>{if(ki(u)&&o){const c=i;n(o,u,()=>c),o=void 0}},{capture:!0}),j(t,window,"input",()=>{i.input=!0},{capture:!0})];return{stop:()=>{s.forEach(u=>u.stop())}}}function Li(){const t=window.getSelection();return!t||t.isCollapsed}function ki(t){return t.target instanceof Element&&t.isPrimary!==!1}const Pi=3;function uh(t,e){if(ch(t))return e.addFrustration("rage_click"),t.some(Mi)&&e.addFrustration("dead_click"),e.hasError&&e.addFrustration("error_click"),{isRage:!0};const n=t.some(r=>r.getUserActivity().selection);return t.forEach(r=>{r.hasError&&r.addFrustration("error_click"),Mi(r)&&!n&&r.addFrustration("dead_click")}),{isRage:!1}}function ch(t){if(t.some(e=>e.getUserActivity().selection||e.getUserActivity().scroll))return!1;for(let e=0;e<t.length-(Pi-1);e+=1)if(t[e+Pi-1].event.timeStamp-t[e].event.timeStamp<=at)return!0;return!1}const lh='input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]),textarea,select,[contenteditable],[contenteditable] *,canvas,a[href],a[href] *';function Mi(t){return t.hasPageActivity||t.getUserActivity().input||t.getUserActivity().scroll?!1:!t.event.target.matches(lh)}const ta=10*at,Ge=new Map;function dh(t){const e=Ge.get(t);return Ge.delete(t),e}function ea(t,e){Ge.set(t,e),Ge.forEach((n,r)=>{tt(r,pt())>ta&&Ge.delete(r)})}const fh=5*ut;function hh(t,e,n,r){const i=Ce({expireDelay:fh}),o=new B;let s;t.subscribe(10,()=>{i.reset()}),t.subscribe(5,l);const{stop:u}=ah(r,{onPointerDown:f=>ph(r,t,e,f,n),onPointerUp:({clickActionBase:f,hadActivityOnPointerDown:d},p,m)=>{mh(r,t,e,n,i,o,a,f,p,m,d)}});return{stop:()=>{l(),o.notify(),u()},actionContexts:{findActionId:f=>i.findAll(f)}};function a(f){if(!s||!s.tryAppend(f)){const d=f.clone();s=ih(f,p=>{_h(p,d)})}}function l(){s&&s.stop()}}function ph(t,e,n,r,i){const o=t.enablePrivacyForActionName?Ws(r.target,t.defaultPrivacyLevel):F.ALLOW;if(o===F.HIDDEN)return;const s=gh(r,o,t);let u=!1;return ti(e,n,i,t,c=>{u=c.hadActivity},zs),{clickActionBase:s,hadActivityOnPointerDown:()=>u}}function mh(t,e,n,r,i,o,s,u,c,a,l){var f;const d=na(e,i,a,u,c);s(d);const p=(f=u?.target)===null||f===void 0?void 0:f.selector;p&&ea(c.timeStamp,p);const{stop:m}=ti(e,n,r,t,y=>{y.hadActivity&&y.end<d.startClocks.timeStamp?d.discard():y.hadActivity?d.stop(y.end):l()?d.stop(d.startClocks.timeStamp):d.stop()},ta),_=e.subscribe(5,({endClocks:y})=>{d.stop(y.timeStamp)}),v=o.subscribe(()=>{d.stop()});d.stopObservable.subscribe(()=>{_.unsubscribe(),m(),v.unsubscribe()})}function gh(t,e,n){const r=t.target.getBoundingClientRect(),i=Qe(t.target,n.actionNameAttribute);i&&ea(t.timeStamp,i);const o=Gf(t.target,n,e);return{type:"click",target:{width:Math.round(r.width),height:Math.round(r.height),selector:i},position:{x:Math.round(t.clientX-r.left),y:Math.round(t.clientY-r.top)},name:o.name,nameSource:o.nameSource}}function na(t,e,n,r,i){const o=et(),s=it(),u=e.add(o,s.relative),c=$s({lifeCycle:t,isChildEvent:m=>m.action!==void 0&&(Array.isArray(m.action.id)?m.action.id.includes(o):m.action.id===o)});let a=0,l;const f=[],d=new B;function p(m){a===0&&(l=m,a=1,l?u.close(kn(l)):u.remove(),c.stop(),d.notify())}return{event:i,stop:p,stopObservable:d,get hasError(){return c.eventCounts.errorCount>0},get hasPageActivity(){return l!==void 0},getUserActivity:n,addFrustration:m=>{f.push(m)},startClocks:s,isStopped:()=>a===1||a===2,clone:()=>na(t,e,n,r,i),validate:m=>{if(p(),a!==1)return;const{resourceCount:_,errorCount:v,longTaskCount:y}=c.eventCounts,S={duration:l&&tt(s.timeStamp,l),startClocks:s,id:o,frustrationTypes:f,counts:{resourceCount:_,errorCount:v,longTaskCount:y},events:m??[i],event:i,...r};t.notify(0,S),a=2},discard:()=>{p(),a=2}}}function _h(t,e){const{isRage:n}=uh(t,e);n?(t.forEach(r=>r.discard()),e.stop(Q()),e.validate(t.map(r=>r.event))):(e.discard(),t.forEach(r=>r.validate()))}function yh(t,e,n,r,i){t.subscribe(0,u=>t.notify(12,Di(u,i)));let o={findActionId:G},s=G;return r.trackUserInteractions&&({actionContexts:o,stop:s}=hh(t,e,n,r)),{addAction:(u,c)=>{t.notify(12,{savedCommonContext:c,...Di(u,i)})},actionContexts:o,stop:s}}function Di(t,e){const n=cn(t)?{action:{id:t.id,loading_time:Vs(C(t.duration)),frustration:{type:t.frustrationTypes},error:{count:t.counts.errorCount},long_task:{count:t.counts.longTaskCount},resource:{count:t.counts.resourceCount}},_dd:{action:{target:t.target,position:t.position,name_source:t.nameSource}}}:void 0,r=cn(t)?void 0:t.context,i=lt({action:{id:et(),target:{name:t.name},type:t.type},date:t.startClocks.timeStamp,type:"action",view:{in_foreground:e.wasInPageStateAt("active",t.startClocks.relative)}},n),o=cn(t)?{events:t.events}:{};return!cn(t)&&t.handlingStack&&(o.handlingStack=t.handlingStack),{customerContext:r,rawRumEvent:i,startTime:t.startClocks.relative,domainContext:o}}function cn(t){return t.type!=="custom"}function bh(t){const e=vs([q.error]).subscribe(n=>t.notify(n.error));return{stop:()=>{e.unsubscribe()}}}function vh(t,e){const n=Ko(t,[Ee.cspViolation,Ee.intervention]).subscribe(r=>e.notify(r));return{stop:()=>{n.unsubscribe()}}}function Eh(t,e,n){const r=new B;return bh(r),Wo(r),vh(e,r),r.subscribe(i=>t.notify(14,{error:i})),Sh(t,n)}function Sh(t,e){return t.subscribe(14,({error:n,customerContext:r,savedCommonContext:i})=>{t.notify(12,{customerContext:r,savedCommonContext:i,...Th(n,e)})}),{addError:({error:n,handlingStack:r,componentStack:i,startClocks:o,context:s},u)=>{const c=kt(n)?Ct(n):void 0,a=jr({stackTrace:c,originalError:n,handlingStack:r,componentStack:i,startClocks:o,nonErrorPrefix:"Provided",source:ct.CUSTOM,handling:"handled"});t.notify(14,{customerContext:s,savedCommonContext:u,error:a})}}}function Th(t,e){const n={date:t.startClocks.timeStamp,error:{id:et(),message:t.message,source:t.source,stack:t.stack,handling_stack:t.handlingStack,component_stack:t.componentStack,type:t.type,handling:t.handling,causes:t.causes,source_type:"browser",fingerprint:t.fingerprint,csp:t.csp},type:"error",view:{in_foreground:e.wasInPageStateAt("active",t.startClocks.relative)}},r={error:t.originalError,handlingStack:t.handlingStack};return{rawRumEvent:n,startTime:t.startClocks.relative,domainContext:r}}const Ui=new WeakSet;function wh(t){if(!performance||!("getEntriesByName"in performance))return;const e=performance.getEntriesByName(t.url,"resource");if(!e.length||!("toJSON"in e[0]))return;const n=e.filter(r=>!Ui.has(r)).filter(r=>Us(r)&&Bs(r)).filter(r=>xh(r,t.startClocks.relative,ra({startTime:t.startClocks.relative,duration:t.duration})));if(n.length===1)return Ui.add(n[0]),n[0].toJSON()}function ra(t){return we(t.startTime,t.duration)}function xh(t,e,n){return t.startTime>=e-1&&ra(t)<=we(n,1)}const Ah=2*ut;function Ih(t){const e=Ch(t)||Rh(t);if(!(!e||e.traceTime<=ht()-Ah))return e.traceId}function Ch(t){const e=t.querySelector("meta[name=dd-trace-id]"),n=t.querySelector("meta[name=dd-trace-time]");return ia(e&&e.content,n&&n.content)}function Rh(t){const e=Oh(t);if(e)return ia($e(e,"trace-id"),$e(e,"trace-time"))}function ia(t,e){const n=e&&Number(e);if(!(!t||!n))return{traceId:t,traceTime:n}}function Oh(t){for(let e=0;e<t.childNodes.length;e+=1){const n=Bi(t.childNodes[e]);if(n)return n}if(t.body)for(let e=t.body.childNodes.length-1;e>=0;e-=1){const n=t.body.childNodes[e],r=Bi(n);if(r)return r;if(!js(n))break}}function Bi(t){if(t&&Cf(t)){const e=/^\s*DATADOG;(.*?)\s*$/.exec(t.data);if(e)return e[1]}}function oa(){if(Fn(V.NAVIGATION)){const n=performance.getEntriesByType(V.NAVIGATION)[0];if(n)return n}const t=Nh(),e={entryType:V.NAVIGATION,initiatorType:"navigation",name:window.location.href,startTime:0,duration:t.loadEventEnd,decodedBodySize:0,encodedBodySize:0,transferSize:0,workerStart:0,toJSON:()=>({...e,toJSON:void 0}),...t};return e}function Nh(){const t={},e=performance.timing;for(const n in e)if(qe(e[n])){const r=n,i=e[r];t[r]=i===0?0:kn(i)}return t}function Lh(t,e,n=oa){Yr(t,"interactive",()=>{const r=n(),i=Object.assign(r.toJSON(),{entryType:V.RESOURCE,initiatorType:Ds,duration:r.responseEnd,traceId:Ih(document),toJSON:()=>({...i,toJSON:void 0})});e(i)})}function kh(t,e,n,r=bl(),i=Lh){t.subscribe(8,u=>{s(()=>Ph(u,e,n))});const o=At(e,{type:V.RESOURCE,buffered:!0}).subscribe(u=>{for(const c of u)uf(c)||s(()=>Hi(c,e))});i(e,u=>{s(()=>Hi(u,e))});function s(u){r.push(()=>{const c=u();c&&t.notify(12,c)})}return{stop:()=>{o.unsubscribe()}}}function Ph(t,e,n){const r=wh(t),i=r?Ln(r.startTime):t.startClocks,o=Mh(t,e);if(!e.trackResources&&!o)return;const s=t.type==="xhr"?"xhr":"fetch",u=r?sa(r):void 0,c=Uh(n,i,t.duration),a=lt({date:i.timeStamp,resource:{id:et(),type:s,duration:c,method:t.method,status_code:t.status,protocol:r&&Hs(r),url:pf(t.url)?mf(t.url):t.url,delivery_type:r&&Fs(r)},type:"resource",_dd:{discarded:!e.trackResources}},o,u);return{startTime:i.relative,rawRumEvent:a,domainContext:{performanceEntry:r,xhr:t.xhr,response:t.response,requestInput:t.input,requestInit:t.init,error:t.error,isAborted:t.isAborted,handlingStack:t.handlingStack}}}function Hi(t,e){const n=Ln(t.startTime),r=Dh(t,e);if(!e.trackResources&&!r)return;const i=af(t),o=sa(t),s=lt({date:n.timeStamp,resource:{id:et(),type:i,url:t.name,status_code:Bh(t.responseStatus),protocol:Hs(t),delivery_type:Fs(t)},type:"resource",_dd:{discarded:!e.trackResources}},r,o);return{startTime:n.relative,rawRumEvent:s,domainContext:{performanceEntry:t}}}function sa(t){const{renderBlockingStatus:e}=t;return{resource:{duration:cf(t),render_blocking_status:e,...ff(t),...lf(t)}}}function Mh(t,e){if(t.traceSampled&&t.traceId&&t.spanId)return{_dd:{span_id:t.spanId.toString(),trace_id:t.traceId.toString(),rule_psr:e.rulePsr}}}function Dh(t,e){if(t.traceId)return{_dd:{trace_id:t.traceId,span_id:Ls().toString(),rule_psr:e.rulePsr}}}function Uh(t,e,n){return t.wasInPageStateDuringPeriod("frozen",e.relative,n)?void 0:C(n)}function Bh(t){return t===0?void 0:t}function Hh(t,e,n){const{stop:r,eventCounts:i}=$s({lifeCycle:t,isChildEvent:o=>o.view.id===e,onChange:n});return{stop:r,eventCounts:i}}const Fh=10*ut;function Gh(t,e,n){return{stop:At(t,{type:V.PAINT,buffered:!0}).subscribe(i=>{const o=i.find(s=>s.name==="first-contentful-paint"&&s.startTime<e.timeStamp&&s.startTime<Fh);o&&n(o.startTime)}).unsubscribe}}function Vh(t,e,n){const r=At(t,{type:V.FIRST_INPUT,buffered:!0}).subscribe(i=>{const o=i.find(s=>s.startTime<e.timeStamp);if(o){const s=tt(o.startTime,o.processingStart);let u;o.target&&Re(o.target)&&(u=Qe(o.target,t.actionNameAttribute)),n({delay:s>=0?s:0,time:o.startTime,targetSelector:u})}});return{stop:()=>{r.unsubscribe()}}}function $h(t,e,n=oa){return Xh(t,()=>{const r=n();jh(r)||e(zh(r))})}function zh(t){return{domComplete:t.domComplete,domContentLoaded:t.domContentLoadedEventEnd,domInteractive:t.domInteractive,loadEvent:t.loadEventEnd,firstByte:t.responseStart>=0&&t.responseStart<=pt()?t.responseStart:void 0}}function jh(t){return t.loadEventEnd<=0}function Xh(t,e){let n;const{stop:r}=Yr(t,"complete",()=>{n=rt(()=>e())});return{stop:()=>{r(),ft(n)}}}const Wh=10*ut;function qh(t,e,n,r){let i=1/0;const{stop:o}=Gt(t,n,["pointerdown","keydown"],c=>{i=c.timeStamp},{capture:!0,once:!0});let s=0;const u=At(t,{type:V.LARGEST_CONTENTFUL_PAINT,buffered:!0}).subscribe(c=>{const a=fu(c,l=>l.entryType===V.LARGEST_CONTENTFUL_PAINT&&l.startTime<i&&l.startTime<e.timeStamp&&l.startTime<Wh&&l.size>s);if(a){let l;a.element&&(l=Qe(a.element,t.actionNameAttribute)),r({value:a.startTime,targetSelector:l,resourceUrl:a.url}),s=a.size}});return{stop:()=>{o(),u.unsubscribe()}}}function aa(t,e=window){let n,r;return document.visibilityState==="hidden"?n=0:(n=1/0,{stop:r}=Gt(t,e,["pagehide","visibilitychange"],i=>{(i.type==="pagehide"||document.visibilityState==="hidden")&&(n=i.timeStamp,r())},{capture:!0})),{get timeStamp(){return n},stop(){r?.()}}}function Yh(t,e,n){const r={},{stop:i}=$h(t,l=>{e(l.loadEvent),r.navigationTimings=l,n()}),o=aa(t),{stop:s}=Gh(t,o,l=>{r.firstContentfulPaint=l,n()}),{stop:u}=qh(t,o,window,l=>{r.largestContentfulPaint=l,n()}),{stop:c}=Vh(t,o,l=>{r.firstInput=l,n()});function a(){i(),s(),u(),c(),o.stop()}return{stop:a,initialViewMetrics:r}}function Kh(t,e,n){if(!ep())return{stop:G};let r=0,i;n({value:0});const o=tp(),s=At(t,{type:V.LAYOUT_SHIFT,buffered:!0}).subscribe(u=>{var c;for(const a of u){if(a.hadRecentInput||a.startTime<e)continue;const{cumulatedValue:l,isMaxValue:f}=o.update(a);if(f){const d=Jh(a.sources);i={target:d?.node?new WeakRef(d.node):void 0,time:tt(e,a.startTime),previousRect:d?.previousRect,currentRect:d?.currentRect}}if(l>r){r=l;const d=(c=i?.target)===null||c===void 0?void 0:c.deref();n({value:vn(r,4),targetSelector:d&&Qe(d,t.actionNameAttribute),time:i?.time,previousRect:i?.previousRect?Fi(i.previousRect):void 0,currentRect:i?.currentRect?Fi(i.currentRect):void 0})}}});return{stop:()=>{s.unsubscribe()}}}function Jh(t){return t.find(e=>!!e.node&&Re(e.node))}function Fi({x:t,y:e,width:n,height:r}){return{x:t,y:e,width:n,height:r}}const Zh=5*at,Qh=at;function tp(){let t=0,e,n,r=0;return{update:i=>{const o=e===void 0||i.startTime-n>=Qh||i.startTime-e>=Zh;let s;return o?(e=n=i.startTime,r=t=i.value,s=!0):(t+=i.value,n=i.startTime,s=i.value>r,s&&(r=i.value)),{cumulatedValue:t,isMaxValue:s}}}}function ep(){return Fn(V.LAYOUT_SHIFT)&&"WeakRef"in window}let yn,ua=0,sr=1/0,ar=0;function np(){"interactionCount"in performance||yn||(yn=new window.PerformanceObserver(T(t=>{t.getEntries().forEach(e=>{const n=e;n.interactionId&&(sr=Math.min(sr,n.interactionId),ar=Math.max(ar,n.interactionId),ua=(ar-sr)/7+1)})})),yn.observe({type:"event",buffered:!0,durationThreshold:0}))}const Gi=()=>yn?ua:window.performance.interactionCount||0,Vi=10,rp=1*ut;function ip(t,e,n){if(!ap())return{getInteractionToNextPaint:()=>{},setViewEnd:G,stop:G};const{getViewInteractionCount:r,stopViewInteractionCount:i}=sp(n);let o=1/0;const s=op(r);let u=-1,c,a;function l(p){for(const _ of p)_.interactionId&&_.startTime>=e&&_.startTime<=o&&s.process(_);const m=s.estimateP98Interaction();m&&m.duration!==u&&(u=m.duration,a=tt(e,m.startTime),c=dh(m.startTime),!c&&m.target&&Re(m.target)&&(c=Qe(m.target,t.actionNameAttribute)))}const f=At(t,{type:V.FIRST_INPUT,buffered:!0}).subscribe(l),d=At(t,{type:V.EVENT,durationThreshold:40,buffered:!0}).subscribe(l);return{getInteractionToNextPaint:()=>{if(u>=0)return{value:Math.min(u,rp),targetSelector:c,time:a};if(r())return{value:0}},setViewEnd:p=>{o=p,i()},stop:()=>{d.unsubscribe(),f.unsubscribe()}}}function op(t){const e=[];function n(){e.sort((r,i)=>i.duration-r.duration).splice(Vi)}return{process(r){const i=e.findIndex(s=>r.interactionId===s.interactionId),o=e[e.length-1];i!==-1?r.duration>e[i].duration&&(e[i]=r,n()):(e.length<Vi||r.duration>o.duration)&&(e.push(r),n())},estimateP98Interaction(){const r=Math.min(e.length-1,Math.floor(t()/50));return e[r]}}}function sp(t){np();const e=t==="initial_load"?0:Gi();let n={stopped:!1};function r(){return Gi()-e}return{getViewInteractionCount:()=>n.stopped?n.interactionCount:r(),stopViewInteractionCount:()=>{n={stopped:!0,interactionCount:r()}}}}function ap(){return Fn(V.EVENT)&&window.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype}function up(t,e,n,r,i,o,s){let u=i==="initial_load",c=!0;const a=[],l=aa(r);function f(){if(!c&&!u&&a.length>0){const p=Math.max(...a);p<l.timeStamp&&s(p)}}const{stop:d}=ti(t,e,n,r,p=>{c&&(c=!1,p.hadActivity&&a.push(tt(o.timeStamp,p.end)),f())});return{stop:()=>{d(),l.stop()},setLoadEvent:p=>{u&&(u=!1,a.push(p),f())}}}function A0(){let t;const e=window.visualViewport;return e?t=e.pageLeft-e.offsetLeft:window.scrollX!==void 0?t=window.scrollX:t=window.pageXOffset||0,Math.round(t)}function cp(){let t;const e=window.visualViewport;return e?t=e.pageTop-e.offsetTop:window.scrollY!==void 0?t=window.scrollY:t=window.pageYOffset||0,Math.round(t)}let ur;function lp(t){return ur||(ur=dp(t)),ur}function dp(t){return new B(e=>{const{throttled:n}=Ke(()=>{e.notify(ni())},200);return j(t,window,"resize",n,{capture:!0,passive:!0}).stop})}function ni(){const t=window.visualViewport;return t?{width:Number(t.width*t.scale),height:Number(t.height*t.scale)}:{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}const fp=at;function hp(t,e,n,r=mp(t)){let i=0,o=0,s=0;const u=r.subscribe(({scrollDepth:c,scrollTop:a,scrollHeight:l})=>{let f=!1;if(c>i&&(i=c,f=!0),l>o){o=l;const d=pt();s=tt(e.relative,d),f=!0}f&&n({maxDepth:Math.min(i,o),maxDepthScrollTop:a,maxScrollHeight:o,maxScrollHeightTime:s})});return{stop:()=>u.unsubscribe()}}function pp(){const t=cp(),{height:e}=ni(),n=Math.round((document.scrollingElement||document.documentElement).scrollHeight),r=Math.round(e+t);return{scrollHeight:n,scrollDepth:r,scrollTop:t}}function mp(t,e=fp){return new B(n=>{function r(){n.notify(pp())}if(window.ResizeObserver){const i=Ke(r,e,{leading:!1,trailing:!0}),o=document.scrollingElement||document.documentElement,s=new ResizeObserver(T(i.throttled));o&&s.observe(o);const u=j(t,window,"scroll",i.throttled,{passive:!0});return()=>{i.cancel(),s.disconnect(),u.stop()}}})}function gp(t,e,n,r,i,o,s){const u={},{stop:c,setLoadEvent:a}=up(t,e,n,r,o,s,_=>{u.loadingTime=_,i()}),{stop:l}=hp(r,s,_=>{u.scroll=_}),{stop:f}=Kh(r,s.relative,_=>{u.cumulativeLayoutShift=_,i()}),{stop:d,getInteractionToNextPaint:p,setViewEnd:m}=ip(r,s.relative,o);return{stop:()=>{c(),f(),l()},stopINPTracking:d,setLoadEvent:a,setViewEnd:m,getCommonViewMetrics:()=>(u.interactionToNextPaint=p(),u)}}const _p=3e3,yp=5*ut,bp=5*ut;function vp(t,e,n,r,i,o,s,u){const c=new Set;let a=f("initial_load",vo(),u);d();let l;s&&(l=p(o));function f(m,_,v){const y=Ep(e,n,r,i,t,m,_,v);return c.add(y),y.stopObservable.subscribe(()=>{c.delete(y)}),y}function d(){e.subscribe(10,()=>{a=f("route_change",void 0,{name:a.name,service:a.service,version:a.version,context:a.contextManager.getContext()})}),e.subscribe(9,()=>{a.end({sessionIsActive:!1})}),e.subscribe(11,m=>{m.reason===_e.UNLOADING&&a.end()})}function p(m){return m.subscribe(({oldLocation:_,newLocation:v})=>{Tp(_,v)&&(a.end(),a=f("route_change"))})}return{addTiming:(m,_=Q())=>{a.addTiming(m,_)},startView:(m,_)=>{a.end({endClocks:_}),a=f("route_change",_,m)},setViewContext:m=>{a.contextManager.setContext(m)},setViewContextProperty:(m,_)=>{a.contextManager.setContextProperty(m,_)},setViewName:m=>{a.setViewName(m)},getViewContext:()=>a.contextManager.getContext(),stop:()=>{l&&l.unsubscribe(),a.end(),c.forEach(m=>m.stop())}}}function Ep(t,e,n,r,i,o,s=it(),u){const c=et(),a=new B,l={};let f=0,d;const p=Ve(i),m=Se();let _=!0,v=u?.name;const y=u?.service||r.service,S=u?.version||r.version,E=u?.context;E&&m.setContext(E);const U={id:c,name:v,startClocks:s,service:y,version:S,context:E};t.notify(1,U),t.notify(2,U);const{throttled:g,cancel:L}=Ke(Rt,_p,{leading:!1}),{setLoadEvent:A,setViewEnd:ot,stop:K,stopINPTracking:Ne,getCommonViewMetrics:ue}=gp(t,e,n,r,bt,o,s),{stop:zt,initialViewMetrics:ce}=o==="initial_load"?Yh(r,A,bt):{stop:G,initialViewMetrics:{}},{stop:Le,eventCounts:yt}=Hh(t,c,bt),Mt=xe(Rt,yp);Rt(),m.changeObservable.subscribe(bt);function le(){t.notify(3,{id:c,name:v,context:m.getContext(),startClocks:s})}function bt(){le(),g()}function Rt(){L(),le(),f+=1;const h=d===void 0?Q():d.timeStamp;t.notify(4,{customTimings:l,documentVersion:f,id:c,name:v,service:y,version:S,context:m.getContext(),loadingType:o,location:p,startClocks:s,commonViewMetrics:ue(),initialViewMetrics:ce,duration:tt(s.timeStamp,h),isActive:d===void 0,sessionIsActive:_,eventCounts:yt})}return{get name(){return v},service:y,version:S,contextManager:m,stopObservable:a,end(h={}){var b,I;d||(d=(b=h.endClocks)!==null&&b!==void 0?b:it(),_=(I=h.sessionIsActive)!==null&&I!==void 0?I:!0,t.notify(5,{endClocks:d}),t.notify(6,{endClocks:d}),Pn(Mt),ot(d.relative),K(),Rt(),rt(()=>{this.stop()},bp))},stop(){zt(),Le(),Ne(),a.notify()},addTiming(h,b){if(d)return;const I=tu(b)?b:tt(s.timeStamp,b);l[Sp(h)]=I,bt()},setViewName(h){v=h,Rt()}}}function Sp(t){const e=t.replace(/[^a-zA-Z0-9-_.@$]/g,"_");return e!==t&&M.warn(`Invalid timing name: ${t}, sanitized to: ${e}`),e}function Tp(t,e){return t.pathname!==e.pathname||!wp(e.hash)&&$i(e.hash)!==$i(t.hash)}function wp(t){const e=t.substring(1);return e!==""&&!!document.getElementById(e)}function $i(t){const e=t.indexOf("?");return e<0?t:t.slice(0,e)}function xp(t,e,n,r,i,o,s,u,c,a,l){return t.subscribe(4,f=>t.notify(12,Ap(f,n,c,u))),e.register(0,({startTime:f,eventType:d})=>{const{service:p,version:m,id:_,name:v,context:y}=a.findView(f);return{type:d,service:p,version:m,context:y,view:{id:_,name:v}}}),vp(r,t,i,o,n,s,!n.trackViewsManually,l)}function Ap(t,e,n,r){var i,o,s,u,c,a,l,f,d,p,m,_,v,y,S,E;const U=n.getReplayStats(t.id),g=r.findAll(t.startClocks.relative,t.duration),L={_dd:{document_version:t.documentVersion,replay_stats:U,page_states:g,configuration:{start_session_replay_recording_manually:e.startSessionReplayRecordingManually}},date:t.startClocks.timeStamp,type:"view",view:{action:{count:t.eventCounts.actionCount},frustration:{count:t.eventCounts.frustrationCount},cumulative_layout_shift:(i=t.commonViewMetrics.cumulativeLayoutShift)===null||i===void 0?void 0:i.value,cumulative_layout_shift_time:C((o=t.commonViewMetrics.cumulativeLayoutShift)===null||o===void 0?void 0:o.time),cumulative_layout_shift_target_selector:(s=t.commonViewMetrics.cumulativeLayoutShift)===null||s===void 0?void 0:s.targetSelector,first_byte:C((u=t.initialViewMetrics.navigationTimings)===null||u===void 0?void 0:u.firstByte),dom_complete:C((c=t.initialViewMetrics.navigationTimings)===null||c===void 0?void 0:c.domComplete),dom_content_loaded:C((a=t.initialViewMetrics.navigationTimings)===null||a===void 0?void 0:a.domContentLoaded),dom_interactive:C((l=t.initialViewMetrics.navigationTimings)===null||l===void 0?void 0:l.domInteractive),error:{count:t.eventCounts.errorCount},first_contentful_paint:C(t.initialViewMetrics.firstContentfulPaint),first_input_delay:C((f=t.initialViewMetrics.firstInput)===null||f===void 0?void 0:f.delay),first_input_time:C((d=t.initialViewMetrics.firstInput)===null||d===void 0?void 0:d.time),first_input_target_selector:(p=t.initialViewMetrics.firstInput)===null||p===void 0?void 0:p.targetSelector,interaction_to_next_paint:C((m=t.commonViewMetrics.interactionToNextPaint)===null||m===void 0?void 0:m.value),interaction_to_next_paint_time:C((_=t.commonViewMetrics.interactionToNextPaint)===null||_===void 0?void 0:_.time),interaction_to_next_paint_target_selector:(v=t.commonViewMetrics.interactionToNextPaint)===null||v===void 0?void 0:v.targetSelector,is_active:t.isActive,name:t.name,largest_contentful_paint:C((y=t.initialViewMetrics.largestContentfulPaint)===null||y===void 0?void 0:y.value),largest_contentful_paint_target_selector:(S=t.initialViewMetrics.largestContentfulPaint)===null||S===void 0?void 0:S.targetSelector,load_event:C((E=t.initialViewMetrics.navigationTimings)===null||E===void 0?void 0:E.loadEvent),loading_time:Vs(C(t.commonViewMetrics.loadingTime)),loading_type:t.loadingType,long_task:{count:t.eventCounts.longTaskCount},performance:Ip(t.commonViewMetrics,t.initialViewMetrics),resource:{count:t.eventCounts.resourceCount},time_spent:C(t.duration)},display:t.commonViewMetrics.scroll?{scroll:{max_depth:t.commonViewMetrics.scroll.maxDepth,max_depth_scroll_top:t.commonViewMetrics.scroll.maxDepthScrollTop,max_scroll_height:t.commonViewMetrics.scroll.maxScrollHeight,max_scroll_height_time:C(t.commonViewMetrics.scroll.maxScrollHeightTime)}}:void 0,session:{has_replay:U?!0:void 0,is_active:t.sessionIsActive?void 0:!1},privacy:{replay_level:e.defaultPrivacyLevel}};return Qt(t.customTimings)||(L.view.custom_timings=ru(t.customTimings,C)),{rawRumEvent:L,startTime:t.startClocks.relative,domainContext:{location:t.location}}}function Ip({cumulativeLayoutShift:t,interactionToNextPaint:e},{firstContentfulPaint:n,firstInput:r,largestContentfulPaint:i}){return{cls:t&&{score:t.value,timestamp:C(t.time),target_selector:t.targetSelector,previous_rect:t.previousRect,current_rect:t.currentRect},fcp:n&&{timestamp:C(n)},fid:r&&{duration:C(r.delay),timestamp:C(r.time),target_selector:r.targetSelector},inp:e&&{duration:C(e.value),timestamp:C(e.time),target_selector:e.targetSelector},lcp:i&&{timestamp:C(i.value),target_selector:i.targetSelector,resource_url:i.resourceUrl}}}const Cp="rum";function Rp(t,e,n){const r=ss(t,Cp,i=>Np(t,i),n);return r.expireObservable.subscribe(()=>{e.notify(9)}),r.renewObservable.subscribe(()=>{e.notify(10)}),r.sessionStateUpdateObservable.subscribe(({previousState:i,newState:o})=>{if(!i.forcedReplay&&o.forcedReplay){const s=r.findSession();s&&(s.isReplayForced=!0)}}),{findTrackedSession:i=>{const o=r.findSession(i);if(!(!o||!ca(o.trackingType)))return{id:o.id,sessionReplay:o.trackingType==="1"?1:o.isReplayForced?2:0,anonymousId:o.anonymousId}},expire:r.expire,expireObservable:r.expireObservable,setForcedReplay:()=>r.updateSessionState({forcedReplay:"1"})}}function Op(){const t={id:"00000000-aaaa-0000-aaaa-000000000000",sessionReplay:gs("records")?1:0};return{findTrackedSession:()=>t,expire:G,expireObservable:new B,setForcedReplay:G}}function Np(t,e){let n;return Lp(e)?n=e:Ht(t.sessionSampleRate)?Ht(t.sessionReplaySampleRate)?n="1":n="2":n="0",{trackingType:n,isTracked:ca(n)}}function Lp(t){return t==="0"||t==="1"||t==="2"}function ca(t){return t==="2"||t==="1"}function kp(t,e,n,r,i,o,s){const u=t.replica,c=qr(t,{endpoint:t.rumEndpointBuilder,encoder:s(2)},u&&{endpoint:u.rumEndpointBuilder,transformMessage:a=>lt(a,{application:{id:u.applicationId}}),encoder:s(3)},r,i,o);return e.subscribe(13,a=>{a.type==="view"?c.upsert(a,a.view.id):c.add(a)}),n.subscribe(a=>c.add(a,is(t))),c}function Pp(t){const e=ae();t.subscribe(13,n=>{e.send("rum",n)})}const Mp=re;function Dp(t,e,n,r){const i=Ce({expireDelay:Mp});let o;t.subscribe(1,({startClocks:c})=>{const a=r.href;i.add(u({url:a,referrer:o||document.referrer}),c.relative),o=a}),t.subscribe(6,({endClocks:c})=>{i.closeActive(c.relative)});const s=n.subscribe(({newLocation:c})=>{const a=i.find();if(a){const l=pt();i.closeActive(l),i.add(u({url:c.href,referrer:a.referrer}),l)}});function u({url:c,referrer:a}){return{url:c,referrer:a}}return e.register(0,({startTime:c,eventType:a})=>{const{url:l,referrer:f}=i.find(c);return{type:a,view:{url:l,referrer:f}}}),{findUrl:c=>i.find(c),getAllEntries:()=>i.getAllEntries(),getDeletedEntries:()=>i.getDeletedEntries(),stop:()=>{s.unsubscribe(),i.stop()}}}function Up(t,e){let n=Ve(e);return new B(r=>{const{stop:i}=Bp(t,s),{stop:o}=Hp(t,s);function s(){if(n.href===e.href)return;const u=Ve(e);r.notify({newLocation:u,oldLocation:n}),n=u}return()=>{i(),o()}})}function Bp(t,e){const{stop:n}=wt(zi("pushState"),"pushState",({onPostCall:o})=>{o(e)}),{stop:r}=wt(zi("replaceState"),"replaceState",({onPostCall:o})=>{o(e)}),{stop:i}=j(t,window,"popstate",e);return{stop:()=>{n(),r(),i()}}}function Hp(t,e){return j(t,window,"hashchange",e)}function zi(t){return Object.prototype.hasOwnProperty.call(history,t)?history:History.prototype}const Fp=re;function Gp(t,e){const n=Ce({expireDelay:Fp});return t.subscribe(1,({startClocks:r})=>{n.add({},r.relative),e.resetCustomerData()}),t.subscribe(6,({endClocks:r})=>{n.closeActive(r.relative)}),{findFeatureFlagEvaluations:r=>n.find(r),addFeatureFlagEvaluation:(r,i)=>{const o=n.find();o&&(o[r]=i,e.updateCustomerData(o))},stop:()=>e.stop()}}const Vp=10*at;let Ot,Wt,xr;function $p(t,e,n,r,i){e.enabled&&Ht(t.customerDataTelemetrySampleRate)&&(la(),ji(),n.subscribe(13,s=>{xr=!0,Be(Wt.globalContextBytes,r.getOrCreateTracker(2).getBytesCount()),Be(Wt.userContextBytes,r.getOrCreateTracker(1).getBytesCount()),Be(Wt.featureFlagBytes,["view","error"].includes(s.type)?r.getOrCreateTracker(0).getBytesCount():0)}),i.subscribe(({bytesCount:s,messagesCount:u})=>{xr&&(Ot.batchCount+=1,Be(Ot.batchBytesCount,s),Be(Ot.batchMessagesCount,u),cr(Ot.globalContextBytes,Wt.globalContextBytes),cr(Ot.userContextBytes,Wt.userContextBytes),cr(Ot.featureFlagBytes,Wt.featureFlagBytes),ji())}),xe(zp,Vp))}function zp(){Ot.batchCount!==0&&(se("Customer data measures",Ot),la())}function Ut(){return{min:1/0,max:0,sum:0}}function Be(t,e){t.sum+=e,t.min=Math.min(t.min,e),t.max=Math.max(t.max,e)}function cr(t,e){t.sum+=e.sum,t.min=Math.min(t.min,e.min),t.max=Math.max(t.max,e.max)}function la(){Ot={batchCount:0,batchBytesCount:Ut(),batchMessagesCount:Ut(),globalContextBytes:Ut(),userContextBytes:Ut(),featureFlagBytes:Ut()}}function ji(){xr=!1,Wt={globalContextBytes:Ut(),userContextBytes:Ut(),featureFlagBytes:Ut()}}const jp=4e3,Xp=500,Wp=re;function qp(t,e=Xp){const n=Ce({expireDelay:Wp,maxEntries:jp});let r;o(da(),pt());const{stop:i}=Gt(t,window,["pageshow","focus","blur","visibilitychange","resume","freeze","pagehide"],u=>{o(Yp(u),u.timeStamp)},{capture:!0});function o(u,c=pt()){u!==r&&(r=u,n.closeActive(c),n.add({state:r,startTime:c},c))}const s={findAll:(u,c)=>{const a=n.findAll(u,c);if(a.length===0)return;const l=[],f=Math.max(0,a.length-e);for(let d=a.length-1;d>=f;d--){const p=a[d],m=tt(u,p.startTime);l.push({state:p.state,start:C(m)})}return l},wasInPageStateAt:(u,c)=>s.wasInPageStateDuringPeriod(u,c,0),wasInPageStateDuringPeriod:(u,c,a)=>n.findAll(c,a).some(l=>l.state===u),addPageState:o,stop:()=>{i(),n.stop()}};return s}function Yp(t){return t.type==="freeze"?"frozen":t.type==="pagehide"?t.persisted?"frozen":"terminated":da()}function da(){return document.visibilityState==="hidden"?"hidden":document.hasFocus()?"active":"passive"}function Kp(t){let e;const n=requestAnimationFrame(T(()=>{e=ni()})),r=lp(t).subscribe(i=>{e=i}).unsubscribe;return{get:()=>e?{viewport:e}:void 0,stop:()=>{r(),n&&cancelAnimationFrame(n)}}}function Jp(t,e){const n=window.cookieStore?Zp(t):tm;return new B(r=>n(e,i=>r.notify(i)))}function Zp(t){return(e,n)=>j(t,window.cookieStore,"change",i=>{const o=i.changed.find(s=>s.name===e)||i.deleted.find(s=>s.name===e);o&&n(o.value)}).stop}const Qp=at;function tm(t,e){const n=$e(document.cookie,t),r=xe(()=>{const i=$e(document.cookie,t);i!==n&&e(i)},Qp);return()=>{Pn(r)}}const Xi="datadog-ci-visibility-test-execution-id";function em(t,e=Jp(t,Xi)){var n;let r=Bt(Xi)||((n=window.Cypress)===null||n===void 0?void 0:n.env("traceId"));const i=e.subscribe(o=>{r=o});return{get:()=>{if(typeof r=="string")return{test_execution_id:r}},stop:()=>i.unsubscribe()}}function nm(t,e){const n=At(e,{type:V.LONG_ANIMATION_FRAME,buffered:!0}).subscribe(r=>{for(const i of r){const o=Ln(i.startTime),s={date:o.timeStamp,long_task:{id:et(),entry_type:"long-animation-frame",duration:C(i.duration),blocking_duration:C(i.blockingDuration),first_ui_event_timestamp:C(i.firstUIEventTimestamp),render_start:C(i.renderStart),style_and_layout_start:C(i.styleAndLayoutStart),start_time:C(i.startTime),scripts:i.scripts.map(u=>({duration:C(u.duration),pause_duration:C(u.pauseDuration),forced_style_and_layout_duration:C(u.forcedStyleAndLayoutDuration),start_time:C(u.startTime),execution_start:C(u.executionStart),source_url:u.sourceURL,source_function_name:u.sourceFunctionName,source_char_position:u.sourceCharPosition,invoker:u.invoker,invoker_type:u.invokerType,window_attribution:u.windowAttribution}))},type:"long_task",_dd:{discarded:!1}};t.notify(12,{rawRumEvent:s,startTime:o.relative,domainContext:{performanceEntry:i}})}});return{stop:()=>n.unsubscribe()}}function rm(t,e){const n=At(e,{type:V.LONG_TASK,buffered:!0}).subscribe(r=>{for(const i of r){if(i.entryType!==V.LONG_TASK||!e.trackLongTasks)break;const o=Ln(i.startTime),s={date:o.timeStamp,long_task:{id:et(),entry_type:"long-task",duration:C(i.duration)},type:"long_task",_dd:{discarded:!1}};t.notify(12,{rawRumEvent:s,startTime:o.relative,domainContext:{performanceEntry:i}})}});return{stop(){n.unsubscribe()}}}function im(){const t={};return{register(e,n){return t[e]||(t[e]=[]),t[e].push(n),{unregister:()=>{t[e]=t[e].filter(r=>r!==n)}}},triggerHook(e,n){const i=(t[e]||[]).map(o=>o(n));return lt(...i)}}}function om(t,e,n,r,i,o,s,u){var c;const a=[],l=new nf,f=im();l.subscribe(13,x=>Xr("rum",x));const d=sm(t);d.setContextProvider(()=>{var x,N;return{application:{id:t.applicationId},session:{id:(x=y.findTrackedSession())===null||x===void 0?void 0:x.id},view:{id:(N=g.findView())===null||N===void 0?void 0:N.id},action:{id:K.findActionId()}}});const p=x=>{l.notify(14,{error:x}),se("Error reported to customer",{"error.message":x.message})},m=Gp(l,n.getOrCreateTracker(0)),_=_s(t),v=_.subscribe(x=>{l.notify(11,x)});a.push(()=>v.unsubscribe());const y=xt()?Op():Rp(t,l,s);if(xt())Pp(l);else{const x=kp(t,l,d.observable,p,_,y.expireObservable,o);a.push(()=>x.stop()),$p(t,d,l,n,x.flushObservable)}const S=jd(),E=Up(t,location),U=qp(t),g=of(l),L=Dp(l,f,E,location),{observable:A,stop:ot}=Wd();a.push(ot);const{actionContexts:K,addAction:Ne,stop:ue}=am(l,f,t,y,U,S,m,A,L,g,r,p);a.push(ue),rs();const{addTiming:zt,startView:ce,setViewName:Le,setViewContext:yt,setViewContextProperty:Mt,getViewContext:le,stop:bt}=xp(l,f,t,location,S,A,E,U,e,g,i);a.push(bt);const{stop:Rt}=kh(l,t,U);if(a.push(Rt),t.trackLongTasks)if(!((c=PerformanceObserver.supportedEntryTypes)===null||c===void 0)&&c.includes(V.LONG_ANIMATION_FRAME)){const{stop:x}=nm(l,t);a.push(x)}else rm(l,t);const{addError:h}=Eh(l,t,U);gf(l,t,y);const b=bd(l,U,u),I=ef(t.applicationId,y,g,K,L);return{addAction:Ne,addError:h,addTiming:zt,addFeatureFlagEvaluation:m.addFeatureFlagEvaluation,startView:ce,setViewContext:yt,setViewContextProperty:Mt,getViewContext:le,setViewName:Le,lifeCycle:l,viewHistory:g,session:y,stopSession:()=>y.expire(),getInternalContext:I.get,startDurationVital:b.startDurationVital,stopDurationVital:b.stopDurationVital,addDurationVital:b.addDurationVital,stop:()=>{a.forEach(x=>x())}}}function sm(t){const e=ns("browser-rum-sdk",t);if(xt()){const n=ae();e.observable.subscribe(r=>n.send("internal_telemetry",r))}return e}function am(t,e,n,r,i,o,s,u,c,a,l,f){const d=yh(t,o,u,n,i),p=Kp(n),m=em(n);return Jd(n,t,e,r,a,c,d.actionContexts,p,m,s,l,f),{pageStateHistory:i,addAction:d.addAction,actionContexts:d.actionContexts,stop:()=>{d.stop(),m.stop(),p.stop(),i.stop()}}}function um(t,{session:e,viewContext:n,errorType:r}){const i=e?e.id:"no-session-id",o=[];r!==void 0&&o.push(`error-type=${r}`),n&&(o.push(`seed=${n.id}`),o.push(`from=${n.startClocks.timeStamp}`));const s=cm(t),u=`/rum/replay/sessions/${i}`;return`${s}${u}?${o.join("&")}`}function cm(t){const e=t.site,n=t.subdomain||lm(t);return`https://${n?`${n}.`:""}${e}`}function lm(t){switch(t.site){case Jt:case Fu:return"app";case Do:return"dd";default:return}}const dm=1e3;let dt;function I0(t){return Gn(t).segments_count}function C0(t){Gn(t).segments_count+=1}function R0(t){Gn(t).records_count+=1}function O0(t,e){Gn(t).segments_total_raw_size+=e}function fm(t){return dt?.get(t)}function Gn(t){dt||(dt=new Map);let e;return dt.has(t)?e=dt.get(t):(e={records_count:0,segments_count:0,segments_total_raw_size:0},dt.set(t,e),dt.size>dm&&hm()),e}function hm(){if(!dt)return;const t=dt.keys().next().value;t&&dt.delete(t)}function fa(t,e,n){let r=0,i=[],o,s=0;const u=[],{stop:c}=j(t,e,"message",({data:f})=>{if(f.type!=="wrote"||f.streamId!==n)return;r+=f.additionalBytesCount,i.push(f.result),o=f.trailer;const d=u.shift();d&&d.id===f.id?d.writeCallback?d.writeCallback(f.result.byteLength):d.finishCallback&&d.finishCallback():(c(),se("Worker responses received out of order."))});function a(){const f=i.length===0?new Uint8Array(0):nu(i.concat(o)),d={rawBytesCount:r,output:f,outputBytesCount:f.byteLength,encoding:"deflate"};return r=0,i=[],d}function l(){s>0&&(e.postMessage({action:"reset",streamId:n}),s=0)}return{isAsync:!0,get isEmpty(){return s===0},write(f,d){e.postMessage({action:"write",id:s,data:f,streamId:n}),u.push({id:s,writeCallback:d,data:f}),s+=1},finish(f){l(),u.length?(u.forEach(d=>{delete d.writeCallback}),u[u.length-1].finishCallback=()=>f(a())):f(a())},finishSync(){l();const f=u.map(d=>(delete d.writeCallback,delete d.finishCallback,d.data)).join("");return{...a(),pendingData:f}},estimateEncodedBytesCount(f){return f.length/8},stop(){c()}}}const pm=30*at;function ha(t){return new Worker(t.workerUrl||URL.createObjectURL(new Blob(['(()=>{"use strict";function t(t){const e=t.reduce(((t,e)=>t+e.length),0),a=new Uint8Array(e);let n=0;for(const e of t)a.set(e,n),n+=e.length;return a}function e(t){for(var e=t.length;--e>=0;)t[e]=0}var a=256,n=286,r=30,i=15,s=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),h=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),l=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),_=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=new Array(576);e(o);var d=new Array(60);e(d);var u=new Array(512);e(u);var f=new Array(256);e(f);var c=new Array(29);e(c);var p,g,w,v=new Array(r);function b(t,e,a,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function m(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(v);var y=function(t){return t<256?u[t]:u[256+(t>>>7)]},k=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},z=function(t,e,a){t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,k(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},x=function(t,e,a){z(t,a[2*e],a[2*e+1])},A=function(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},U=function(t,e,a){var n,r,s=new Array(16),h=0;for(n=1;n<=i;n++)s[n]=h=h+a[n-1]<<1;for(r=0;r<=e;r++){var l=t[2*r+1];0!==l&&(t[2*r]=A(s[l]++,l))}},I=function(t){var e;for(e=0;e<n;e++)t.dyn_ltree[2*e]=0;for(e=0;e<r;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},B=function(t){t.bi_valid>8?k(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},E=function(t,e,a,n){var r=2*e,i=2*a;return t[r]<t[i]||t[r]===t[i]&&n[e]<=n[a]},S=function(t,e,a){for(var n=t.heap[a],r=a<<1;r<=t.heap_len&&(r<t.heap_len&&E(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!E(e,n,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=n},C=function(t,e,n){var r,i,l,_,o=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],i=t.pending_buf[t.l_buf+o],o++,0===r?x(t,i,e):(l=f[i],x(t,l+a+1,e),0!==(_=s[l])&&(i-=c[l],z(t,i,_)),r--,l=y(r),x(t,l,n),0!==(_=h[l])&&(r-=v[l],z(t,r,_)))}while(o<t.last_lit);x(t,256,e)},D=function(t,e){var a,n,r,s=e.dyn_tree,h=e.stat_desc.static_tree,l=e.stat_desc.has_stree,_=e.stat_desc.elems,o=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<_;a++)0!==s[2*a]?(t.heap[++t.heap_len]=o=a,t.depth[a]=0):s[2*a+1]=0;for(;t.heap_len<2;)s[2*(r=t.heap[++t.heap_len]=o<2?++o:0)]=1,t.depth[r]=0,t.opt_len--,l&&(t.static_len-=h[2*r+1]);for(e.max_code=o,a=t.heap_len>>1;a>=1;a--)S(t,s,a);r=_;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],S(t,s,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,s[2*r]=s[2*a]+s[2*n],t.depth[r]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,s[2*a+1]=s[2*n+1]=r,t.heap[1]=r++,S(t,s,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,n,r,s,h,l,_=e.dyn_tree,o=e.max_code,d=e.stat_desc.static_tree,u=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(s=0;s<=i;s++)t.bl_count[s]=0;for(_[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<573;a++)(s=_[2*_[2*(n=t.heap[a])+1]+1]+1)>p&&(s=p,g++),_[2*n+1]=s,n>o||(t.bl_count[s]++,h=0,n>=c&&(h=f[n-c]),l=_[2*n],t.opt_len+=l*(s+h),u&&(t.static_len+=l*(d[2*n+1]+h)));if(0!==g){do{for(s=p-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(s=p;0!==s;s--)for(n=t.bl_count[s];0!==n;)(r=t.heap[--a])>o||(_[2*r+1]!==s&&(t.opt_len+=(s-_[2*r+1])*_[2*r],_[2*r+1]=s),n--)}}(t,e),U(s,o,t.bl_count)},j=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)r=s,s=e[2*(n+1)+1],++h<l&&r===s||(h<_?t.bl_tree[2*r]+=h:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[32]++):h<=10?t.bl_tree[34]++:t.bl_tree[36]++,h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4))},M=function(t,e,a){var n,r,i=-1,s=e[1],h=0,l=7,_=4;for(0===s&&(l=138,_=3),n=0;n<=a;n++)if(r=s,s=e[2*(n+1)+1],!(++h<l&&r===s)){if(h<_)do{x(t,r,t.bl_tree)}while(0!=--h);else 0!==r?(r!==i&&(x(t,r,t.bl_tree),h--),x(t,16,t.bl_tree),z(t,h-3,2)):h<=10?(x(t,17,t.bl_tree),z(t,h-3,3)):(x(t,18,t.bl_tree),z(t,h-11,7));h=0,i=r,0===s?(l=138,_=3):r===s?(l=6,_=3):(l=7,_=4)}},L=!1,T=function(t,e,a,n){z(t,0+(n?1:0),3),function(t,e,a,n){B(t),n&&(k(t,a),k(t,~a)),t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a}(t,e,a,!0)},H=function(t,e,n,r){var i,s,h=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<a;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),D(t,t.l_desc),D(t,t.d_desc),h=function(t){var e;for(j(t,t.dyn_ltree,t.l_desc.max_code),j(t,t.dyn_dtree,t.d_desc.max_code),D(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*_[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==e?T(t,e,n,r):4===t.strategy||s===i?(z(t,2+(r?1:0),3),C(t,o,d)):(z(t,4+(r?1:0),3),function(t,e,a,n){var r;for(z(t,e-257,5),z(t,a-1,5),z(t,n-4,4),r=0;r<n;r++)z(t,t.bl_tree[2*_[r]+1],3);M(t,t.dyn_ltree,e-1),M(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,h+1),C(t,t.dyn_ltree,t.dyn_dtree)),I(t),r&&B(t)},R={_tr_init:function(t){L||(!function(){var t,e,a,_,m,y=new Array(16);for(a=0,_=0;_<28;_++)for(c[_]=a,t=0;t<1<<s[_];t++)f[a++]=_;for(f[a-1]=_,m=0,_=0;_<16;_++)for(v[_]=m,t=0;t<1<<h[_];t++)u[m++]=_;for(m>>=7;_<r;_++)for(v[_]=m<<7,t=0;t<1<<h[_]-7;t++)u[256+m++]=_;for(e=0;e<=i;e++)y[e]=0;for(t=0;t<=143;)o[2*t+1]=8,t++,y[8]++;for(;t<=255;)o[2*t+1]=9,t++,y[9]++;for(;t<=279;)o[2*t+1]=7,t++,y[7]++;for(;t<=287;)o[2*t+1]=8,t++,y[8]++;for(U(o,287,y),t=0;t<r;t++)d[2*t+1]=5,d[2*t]=A(t,5);p=new b(o,s,257,n,i),g=new b(d,h,0,r,i),w=new b(new Array(0),l,0,19,7)}(),L=!0),t.l_desc=new m(t.dyn_ltree,p),t.d_desc=new m(t.dyn_dtree,g),t.bl_desc=new m(t.bl_tree,w),t.bi_buf=0,t.bi_valid=0,I(t)},_tr_stored_block:T,_tr_flush_block:H,_tr_tally:function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(f[n]+a+1)]++,t.dyn_dtree[2*y(e)]++),t.last_lit===t.lit_bufsize-1},_tr_align:function(t){z(t,2,3),x(t,256,o),function(t){16===t.bi_valid?(k(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},K=function(t,e,a,n){for(var r=65535&t,i=t>>>16&65535,s=0;0!==a;){a-=s=a>2e3?2e3:a;do{i=i+(r=r+e[n++]|0)|0}while(--s);r%=65521,i%=65521}return r|i<<16},N=new Uint32Array(function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}()),O=function(t,e,a,n){var r=N,i=n+a;t^=-1;for(var s=n;s<i;s++)t=t>>>8^r[255&(t^e[s])];return~t},q={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},F=0,G=2,J=3,P=4,Q=0,V=1,W=-1,X=0,Y=8,Z=R._tr_init,$=R._tr_stored_block,tt=R._tr_flush_block,et=R._tr_tally,at=R._tr_align,nt=F,rt=1,it=J,st=P,ht=5,lt=Q,_t=V,ot=-2,dt=-3,ut=-5,ft=W,ct=1,pt=2,gt=3,wt=4,vt=X,bt=2,mt=Y,yt=258,kt=262,zt=103,xt=113,At=666,Ut=function(t,e){return t.msg=q[e],e},It=function(t){return(t<<1)-(t>4?9:0)},Bt=function(t){for(var e=t.length;--e>=0;)t[e]=0},Et=function(t,e,a){return(e<<t.hash_shift^a)&t.hash_mask},St=function(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},Ct=function(t,e){tt(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,St(t.strm)},Dt=function(t,e){t.pending_buf[t.pending++]=e},jt=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Mt=function(t,e){var a,n,r=t.max_chain_length,i=t.strstart,s=t.prev_length,h=t.nice_match,l=t.strstart>t.w_size-kt?t.strstart-(t.w_size-kt):0,_=t.window,o=t.w_mask,d=t.prev,u=t.strstart+yt,f=_[i+s-1],c=_[i+s];t.prev_length>=t.good_match&&(r>>=2),h>t.lookahead&&(h=t.lookahead);do{if(_[(a=e)+s]===c&&_[a+s-1]===f&&_[a]===_[i]&&_[++a]===_[i+1]){i+=2,a++;do{}while(_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&_[++i]===_[++a]&&i<u);if(n=yt-(u-i),i=u-yt,n>s){if(t.match_start=e,s=n,n>=h)break;f=_[i+s-1],c=_[i+s]}}}while((e=d[e&o])>l&&0!=--r);return s<=t.lookahead?s:t.lookahead},Lt=function(t){var e,a,n,r,i,s,h,l,_,o,d=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-kt)){t.window.set(t.window.subarray(d,d+d),0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=a=t.hash_size;do{n=t.head[--e],t.head[e]=n>=d?n-d:0}while(--a);e=a=d;do{n=t.prev[--e],t.prev[e]=n>=d?n-d:0}while(--a);r+=d}if(0===t.strm.avail_in)break;if(s=t.strm,h=t.window,l=t.strstart+t.lookahead,_=r,o=void 0,(o=s.avail_in)>_&&(o=_),a=0===o?0:(s.avail_in-=o,h.set(s.input.subarray(s.next_in,s.next_in+o),l),1===s.state.wrap?s.adler=K(s.adler,h,o,l):2===s.state.wrap&&(s.adler=O(s.adler,h,o,l)),s.next_in+=o,s.total_in+=o,o),t.lookahead+=a,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=Et(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=Et(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<kt&&0!==t.strm.avail_in)},Tt=function(t,e){for(var a,n;;){if(t.lookahead<kt){if(Lt(t),t.lookahead<kt&&e===nt)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=Et(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-kt&&(t.match_length=Mt(t,a)),t.match_length>=3)if(n=et(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=Et(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Et(t,t.ins_h,t.window[t.strstart+1]);else n=et(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Ct(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===st?(Ct(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Ct(t,!1),0===t.strm.avail_out)?1:2},Ht=function(t,e){for(var a,n,r;;){if(t.lookahead<kt){if(Lt(t),t.lookahead<kt&&e===nt)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=Et(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-kt&&(t.match_length=Mt(t,a),t.match_length<=5&&(t.strategy===ct||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,n=et(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=Et(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Ct(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=et(t,0,t.window[t.strstart-1]))&&Ct(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=et(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===st?(Ct(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Ct(t,!1),0===t.strm.avail_out)?1:2};function Rt(t,e,a,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=r}var Kt=[new Rt(0,0,0,0,(function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Lt(t),0===t.lookahead&&e===nt)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Ct(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-kt&&(Ct(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===st?(Ct(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Ct(t,!1),t.strm.avail_out),1)})),new Rt(4,4,8,4,Tt),new Rt(4,5,16,8,Tt),new Rt(4,6,32,32,Tt),new Rt(4,4,16,16,Ht),new Rt(8,16,32,32,Ht),new Rt(8,16,128,128,Ht),new Rt(8,32,128,256,Ht),new Rt(32,128,258,1024,Ht),new Rt(32,258,258,4096,Ht)];function Nt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=mt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Bt(this.dyn_ltree),Bt(this.dyn_dtree),Bt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Bt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Bt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Ot=function(t){if(!t||!t.state)return Ut(t,ot);t.total_in=t.total_out=0,t.data_type=bt;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:xt,t.adler=2===e.wrap?0:1,e.last_flush=nt,Z(e),lt},qt=function(t){var e,a=Ot(t);return a===lt&&((e=t.state).window_size=2*e.w_size,Bt(e.head),e.max_lazy_match=Kt[e.level].max_lazy,e.good_match=Kt[e.level].good_length,e.nice_match=Kt[e.level].nice_length,e.max_chain_length=Kt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),a},Ft=function(t,e,a,n,r,i){if(!t)return ot;var s=1;if(e===ft&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>9||a!==mt||n<8||n>15||e<0||e>9||i<0||i>wt)return Ut(t,ot);8===n&&(n=9);var h=new Nt;return t.state=h,h.strm=t,h.wrap=s,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=r+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new Uint8Array(2*h.w_size),h.head=new Uint16Array(h.hash_size),h.prev=new Uint16Array(h.w_size),h.lit_bufsize=1<<r+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new Uint8Array(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=i,h.method=a,qt(t)},Gt={deflateInit:function(t,e){return Ft(t,e,mt,15,8,vt)},deflateInit2:Ft,deflateReset:qt,deflateResetKeep:Ot,deflateSetHeader:function(t,e){return t&&t.state?2!==t.state.wrap?ot:(t.state.gzhead=e,lt):ot},deflate:function(t,e){var a,n;if(!t||!t.state||e>ht||e<0)return t?Ut(t,ot):ot;var r=t.state;if(!t.output||!t.input&&0!==t.avail_in||r.status===At&&e!==st)return Ut(t,0===t.avail_out?ut:ot);r.strm=t;var i=r.last_flush;if(r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,Dt(r,31),Dt(r,139),Dt(r,8),r.gzhead?(Dt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Dt(r,255&r.gzhead.time),Dt(r,r.gzhead.time>>8&255),Dt(r,r.gzhead.time>>16&255),Dt(r,r.gzhead.time>>24&255),Dt(r,9===r.level?2:r.strategy>=pt||r.level<2?4:0),Dt(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Dt(r,255&r.gzhead.extra.length),Dt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=O(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Dt(r,0),Dt(r,0),Dt(r,0),Dt(r,0),Dt(r,0),Dt(r,9===r.level?2:r.strategy>=pt||r.level<2?4:0),Dt(r,3),r.status=xt);else{var s=mt+(r.w_bits-8<<4)<<8;s|=(r.strategy>=pt||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(s|=32),s+=31-s%31,r.status=xt,jt(r,s),0!==r.strstart&&(jt(r,t.adler>>>16),jt(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=O(t.adler,r.pending_buf,r.pending-a,a)),St(t),a=r.pending,r.pending!==r.pending_buf_size));)Dt(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=O(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=O(t.adler,r.pending_buf,r.pending-a,a)),St(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Dt(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=O(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=O(t.adler,r.pending_buf,r.pending-a,a)),St(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Dt(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=O(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.status=zt)}else r.status=zt;if(r.status===zt&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&St(t),r.pending+2<=r.pending_buf_size&&(Dt(r,255&t.adler),Dt(r,t.adler>>8&255),t.adler=0,r.status=xt)):r.status=xt),0!==r.pending){if(St(t),0===t.avail_out)return r.last_flush=-1,lt}else if(0===t.avail_in&&It(e)<=It(i)&&e!==st)return Ut(t,ut);if(r.status===At&&0!==t.avail_in)return Ut(t,ut);if(0!==t.avail_in||0!==r.lookahead||e!==nt&&r.status!==At){var h=r.strategy===pt?function(t,e){for(var a;;){if(0===t.lookahead&&(Lt(t),0===t.lookahead)){if(e===nt)return 1;break}if(t.match_length=0,a=et(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(Ct(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===st?(Ct(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Ct(t,!1),0===t.strm.avail_out)?1:2}(r,e):r.strategy===gt?function(t,e){for(var a,n,r,i,s=t.window;;){if(t.lookahead<=yt){if(Lt(t),t.lookahead<=yt&&e===nt)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[r=t.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){i=t.strstart+yt;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<i);t.match_length=yt-(i-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=et(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=et(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(Ct(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===st?(Ct(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Ct(t,!1),0===t.strm.avail_out)?1:2}(r,e):Kt[r.level].func(r,e);if(3!==h&&4!==h||(r.status=At),1===h||3===h)return 0===t.avail_out&&(r.last_flush=-1),lt;if(2===h&&(e===rt?at(r):e!==ht&&($(r,0,0,!1),e===it&&(Bt(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),St(t),0===t.avail_out))return r.last_flush=-1,lt}return e!==st?lt:r.wrap<=0?_t:(2===r.wrap?(Dt(r,255&t.adler),Dt(r,t.adler>>8&255),Dt(r,t.adler>>16&255),Dt(r,t.adler>>24&255),Dt(r,255&t.total_in),Dt(r,t.total_in>>8&255),Dt(r,t.total_in>>16&255),Dt(r,t.total_in>>24&255)):(jt(r,t.adler>>>16),jt(r,65535&t.adler)),St(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?lt:_t)},deflateEnd:function(t){if(!t||!t.state)return ot;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==zt&&e!==xt&&e!==At?Ut(t,ot):(t.state=null,e===xt?Ut(t,dt):lt)},deflateSetDictionary:function(t,e){var a=e.length;if(!t||!t.state)return ot;var n=t.state,r=n.wrap;if(2===r||1===r&&42!==n.status||n.lookahead)return ot;if(1===r&&(t.adler=K(t.adler,e,a,0)),n.wrap=0,a>=n.w_size){0===r&&(Bt(n.head),n.strstart=0,n.block_start=0,n.insert=0);var i=new Uint8Array(n.w_size);i.set(e.subarray(a-n.w_size,a),0),e=i,a=n.w_size}var s=t.avail_in,h=t.next_in,l=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,Lt(n);n.lookahead>=3;){var _=n.strstart,o=n.lookahead-2;do{n.ins_h=Et(n,n.ins_h,n.window[_+3-1]),n.prev[_&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=_,_++}while(--o);n.strstart=_,n.lookahead=2,Lt(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=h,t.input=l,t.avail_in=s,n.wrap=r,lt},deflateInfo:"pako deflate (from Nodeca project)"};for(var Jt=new Uint8Array(256),Pt=0;Pt<256;Pt++)Jt[Pt]=Pt>=252?6:Pt>=248?5:Pt>=240?4:Pt>=224?3:Pt>=192?2:1;Jt[254]=Jt[254]=1;var Qt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Vt=Object.prototype.toString,Wt=F,Xt=G,Yt=J,Zt=P,$t=Q,te=V,ee=W,ae=X,ne=Y;function re(){this.options={level:ee,method:ne,chunkSize:16384,windowBits:15,memLevel:8,strategy:ae};var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qt,this.strm.avail_out=0;var e=Gt.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==$t)throw new Error(q[e]);if(t.header&&Gt.deflateSetHeader(this.strm,t.header),t.dictionary){var a;if(a="[object ArrayBuffer]"===Vt.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(e=Gt.deflateSetDictionary(this.strm,a))!==$t)throw new Error(q[e]);this._dict_set=!0}}function ie(t,e,a){try{t.postMessage({type:"errored",error:e,streamId:a})}catch(n){t.postMessage({type:"errored",error:String(e),streamId:a})}}function se(t){const e=t.strm.adler;return new Uint8Array([3,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e])}re.prototype.push=function(t,e){var a,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(n=e===~~e?e:!0===e?Zt:Wt,"[object ArrayBuffer]"===Vt.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(n===Xt||n===Yt)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if((a=Gt.deflate(r,n))===te)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=Gt.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===$t;if(0!==r.avail_out){if(n>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},re.prototype.onData=function(t){this.chunks.push(t)},re.prototype.onEnd=function(t){t===$t&&(this.result=function(t){for(var e=0,a=0,n=t.length;a<n;a++)e+=t[a].length;for(var r=new Uint8Array(e),i=0,s=0,h=t.length;i<h;i++){var l=t[i];r.set(l,s),s+=l.length}return r}(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},function(e=self){try{const a=new Map;e.addEventListener("message",(n=>{try{const r=function(e,a){switch(a.action){case"init":return{type:"initialized",version:"6.3.0"};case"write":{let n=e.get(a.streamId);n||(n=new re,e.set(a.streamId,n));const r=n.chunks.length,i=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,a,n,r,i,s=t.length,h=0;for(r=0;r<s;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),r++)),h+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(h),i=0,r=0;i<h;r++)a=t.charCodeAt(r),55296==(64512&a)&&r+1<s&&(n=t.charCodeAt(r+1),56320==(64512&n)&&(a=65536+(a-55296<<10)+(n-56320),r++)),a<128?e[i++]=a:a<2048?(e[i++]=192|a>>>6,e[i++]=128|63&a):a<65536?(e[i++]=224|a>>>12,e[i++]=128|a>>>6&63,e[i++]=128|63&a):(e[i++]=240|a>>>18,e[i++]=128|a>>>12&63,e[i++]=128|a>>>6&63,e[i++]=128|63&a);return e}(a.data);return n.push(i,G),{type:"wrote",id:a.id,streamId:a.streamId,result:t(n.chunks.slice(r)),trailer:se(n),additionalBytesCount:i.length}}case"reset":e.delete(a.streamId)}}(a,n.data);r&&e.postMessage(r)}catch(t){ie(e,t,n.data&&"streamId"in n.data?n.data.streamId:void 0)}}))}catch(t){ie(e,t)}}()})();'])))}let Y={status:0};function pa(t,e,n,r=ha){switch(Y.status===0&&mm(t,e,r),Y.status){case 1:return Y.initializationFailureCallbacks.push(n),Y.worker;case 3:return Y.worker}}function Wi(){return Y.status}function mm(t,e,n=ha){try{const r=n(t),{stop:i}=j(t,r,"error",u=>{lr(t,e,u)}),{stop:o}=j(t,r,"message",({data:u})=>{u.type==="errored"?lr(t,e,u.error,u.streamId):u.type==="initialized"&&_m(u.version)});r.postMessage({action:"init"}),rt(()=>gm(e),pm),Y={status:1,worker:r,stop:()=>{i(),o()},initializationFailureCallbacks:[]}}catch(r){lr(t,e,r)}}function gm(t){Y.status===1&&(M.error(`${t} failed to start: a timeout occurred while initializing the Worker`),Y.initializationFailureCallbacks.forEach(e=>e()),Y={status:2})}function _m(t){Y.status===1&&(Y={status:3,worker:Y.worker,stop:Y.stop,version:t})}function lr(t,e,n,r){if(Y.status===1||Y.status===0){if(M.error(`${e} failed to start: an error occurred while creating the Worker:`,n),n instanceof Event||n instanceof Error&&ym(n.message)){let i;t.workerUrl?i=`Please make sure the Worker URL ${t.workerUrl} is correct and CSP is correctly configured.`:i="Please make sure CSP is correctly configured.",M.error(`${i} See documentation at ${On}/integrations/content_security_policy_logs/#use-csp-with-real-user-monitoring-and-session-replay`)}else In(n);Y.status===1&&Y.initializationFailureCallbacks.forEach(i=>i()),Y={status:2}}else In(n,{worker_version:Y.status===3&&Y.version,stream_id:r})}function ym(t){return t.includes("Content Security Policy")||t.includes("requires 'TrustedScriptURL'")}function ma(){return typeof Array.from=="function"&&typeof CSSSupportsRule=="function"&&typeof URL.createObjectURL=="function"&&"forEach"in NodeList.prototype}function bm(t,e,n,r){const i=e.findTrackedSession(),o=vm(i,r),s=n.findView();return um(t,{viewContext:s,errorType:o,session:i})}function vm(t,e){if(!ma())return"browser-not-supported";if(!t)return"rum-not-tracked";if(t.sessionReplay===0)return"incorrect-session-plan";if(!e)return"replay-not-started"}function Em(t,e,n,r,i,o){let s=0,u;e.subscribe(9,()=>{(s===2||s===3)&&(l(),s=1)}),e.subscribe(11,f=>{f.reason===_e.UNLOADING&&l()}),e.subscribe(10,()=>{s===1&&a()});const c=async()=>{const[f]=await Promise.all([i(),sl(t,"interactive")]);if(s!==2)return;const d=o();if(!d||!f){s=0;return}({stop:u}=f(e,t,n,r,d)),s=3};function a(f){const d=n.findTrackedSession();if(Sm(d,f)){s=1;return}Tm(s)||(s=2,c().catch(To),wm(d,f)&&n.setForcedReplay())}function l(){s===3&&u?.(),s=0}return{start:a,stop:l,getSessionReplayLink(){return bm(t,n,r,s!==0)},isRecording:()=>s===3}}function Sm(t,e){return!t||t.sessionReplay===0&&(!e||!e.force)}function Tm(t){return t===2||t===3}function wm(t,e){return e&&e.force&&t.sessionReplay===0}function xm(){let t=0;return{strategy:{start(){t=1},stop(){t=2},isRecording:()=>!1,getSessionReplayLink:G},shouldStartImmediately(e){return t===1||t===0&&!e.startSessionReplayRecordingManually}}}function Am(t,e){if(xt()&&!gs("records")||!ma())return{start:G,stop:G,getReplayStats:()=>{},onRumStart:G,isRecording:()=>!1,getSessionReplayLink:()=>{}};let{strategy:n,shouldStartImmediately:r}=xm();return{start:o=>n.start(o),stop:()=>n.stop(),getSessionReplayLink:()=>n.getSessionReplayLink(),onRumStart:i,isRecording:()=>Wi()===3&&n.isRecording(),getReplayStats:o=>Wi()===3?fm(o):void 0};function i(o,s,u,c,a){let l;function f(){return l||(a??(a=pa(s,"Datadog Session Replay",()=>{n.stop()},e)),a&&(l=fa(s,a,1))),l}n=Em(s,o,u,c,t,f),r(s)&&n.start()}}const Im="modulepreload",Cm=function(t){return"https://pplx-next-static-public.perplexity.ai/_spa/"+t},qi={},Rm=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),u=s?.nonce||s?.getAttribute("nonce");i=Promise.allSettled(n.map(c=>{if(c=Cm(c),c in qi)return;qi[c]=!0;const a=c.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${l}`))return;const f=document.createElement("link");if(f.rel=a?"stylesheet":Im,a||(f.as="script"),f.crossOrigin="",f.href=c,u&&f.setAttribute("nonce",u),document.head.appendChild(f),a)return new Promise((d,p)=>{f.addEventListener("load",d),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return i.then(s=>{for(const u of s||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};async function Om(){try{return(await Rm(()=>import("./startRecording-BHib4oGN.js"),[])).startRecording}catch{}}const Nm=Am(Om),Lm=$d(om,Nm,{startDeflateWorker:pa,createDeflateEncoder:fa});Yo(Lt(),"DD_RUM",Lm);var Ar=function(t,e){return Ar=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ar(t,e)};function gt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ar(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var w=function(){return w=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},w.apply(this,arguments)};function ee(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function N0(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(f){s(f)}}function c(l){try{a(r.throw(l))}catch(f){s(f)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,e||[])).next())})}function L0(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=u(0),s.throw=u(1),s.return=u(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(n=0)),n;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1],o=a;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(a);break}o[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function km(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function k0(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(km(arguments[e]));return t}function St(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function vt(t,e){var n=e&&e.cache?e.cache:Fm,r=e&&e.serializer?e.serializer:Bm,i=e&&e.strategy?e.strategy:Dm;return i(t,{cache:n,serializer:r})}function Pm(t){return t==null||typeof t=="number"||typeof t=="boolean"}function Mm(t,e,n,r){var i=Pm(r)?r:n(r),o=e.get(i);return typeof o>"u"&&(o=t.call(this,r),e.set(i,o)),o}function ga(t,e,n){var r=Array.prototype.slice.call(arguments,3),i=n(r),o=e.get(i);return typeof o>"u"&&(o=t.apply(this,r),e.set(i,o)),o}function _a(t,e,n,r,i){return n.bind(e,t,r,i)}function Dm(t,e){var n=t.length===1?Mm:ga;return _a(t,this,n,e.cache.create(),e.serializer)}function Um(t,e){return _a(t,this,ga,e.cache.create(),e.serializer)}var Bm=function(){return JSON.stringify(arguments)},Hm=function(){function t(){this.cache=Object.create(null)}return t.prototype.get=function(e){return this.cache[e]},t.prototype.set=function(e,n){this.cache[e]=n},t}(),Fm={create:function(){return new Hm}},Et={variadic:Um},P;(function(t){t[t.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",t[t.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",t[t.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",t[t.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",t[t.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",t[t.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",t[t.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",t[t.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",t[t.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",t[t.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",t[t.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",t[t.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",t[t.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",t[t.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",t[t.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",t[t.INVALID_TAG=23]="INVALID_TAG",t[t.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",t[t.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",t[t.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(P||(P={}));var z;(function(t){t[t.literal=0]="literal",t[t.argument=1]="argument",t[t.number=2]="number",t[t.date=3]="date",t[t.time=4]="time",t[t.select=5]="select",t[t.plural=6]="plural",t[t.pound=7]="pound",t[t.tag=8]="tag"})(z||(z={}));var Te;(function(t){t[t.number=0]="number",t[t.dateTime=1]="dateTime"})(Te||(Te={}));function Yi(t){return t.type===z.literal}function Gm(t){return t.type===z.argument}function ya(t){return t.type===z.number}function ba(t){return t.type===z.date}function va(t){return t.type===z.time}function Ea(t){return t.type===z.select}function Sa(t){return t.type===z.plural}function Vm(t){return t.type===z.pound}function Ta(t){return t.type===z.tag}function wa(t){return!!(t&&typeof t=="object"&&t.type===Te.number)}function Ir(t){return!!(t&&typeof t=="object"&&t.type===Te.dateTime)}var xa=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,$m=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function zm(t){var e={};return t.replace($m,function(n){var r=n.length;switch(n[0]){case"G":e.era=r===4?"long":r===5?"narrow":"short";break;case"y":e.year=r===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":e.month=["numeric","2-digit","short","long","narrow"][r-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":e.day=["numeric","2-digit"][r-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":e.weekday=r===4?"long":r===5?"narrow":"short";break;case"e":if(r<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][r-4];break;case"c":if(r<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][r-4];break;case"a":e.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":e.hourCycle="h12",e.hour=["numeric","2-digit"][r-1];break;case"H":e.hourCycle="h23",e.hour=["numeric","2-digit"][r-1];break;case"K":e.hourCycle="h11",e.hour=["numeric","2-digit"][r-1];break;case"k":e.hourCycle="h24",e.hour=["numeric","2-digit"][r-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":e.minute=["numeric","2-digit"][r-1];break;case"s":e.second=["numeric","2-digit"][r-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":e.timeZoneName=r<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),e}var jm=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function Xm(t){if(t.length===0)throw new Error("Number skeleton cannot be empty");for(var e=t.split(jm).filter(function(d){return d.length>0}),n=[],r=0,i=e;r<i.length;r++){var o=i[r],s=o.split("/");if(s.length===0)throw new Error("Invalid number skeleton");for(var u=s[0],c=s.slice(1),a=0,l=c;a<l.length;a++){var f=l[a];if(f.length===0)throw new Error("Invalid number skeleton")}n.push({stem:u,options:c})}return n}function Wm(t){return t.replace(/^(.*?)-/,"")}var Ki=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,Aa=/^(@+)?(\+|#+)?[rs]?$/g,qm=/(\*)(0+)|(#+)(0+)|(0+)/g,Ia=/^(0+)$/;function Ji(t){var e={};return t[t.length-1]==="r"?e.roundingPriority="morePrecision":t[t.length-1]==="s"&&(e.roundingPriority="lessPrecision"),t.replace(Aa,function(n,r,i){return typeof i!="string"?(e.minimumSignificantDigits=r.length,e.maximumSignificantDigits=r.length):i==="+"?e.minimumSignificantDigits=r.length:r[0]==="#"?e.maximumSignificantDigits=r.length:(e.minimumSignificantDigits=r.length,e.maximumSignificantDigits=r.length+(typeof i=="string"?i.length:0)),""}),e}function Ca(t){switch(t){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function Ym(t){var e;if(t[0]==="E"&&t[1]==="E"?(e={notation:"engineering"},t=t.slice(2)):t[0]==="E"&&(e={notation:"scientific"},t=t.slice(1)),e){var n=t.slice(0,2);if(n==="+!"?(e.signDisplay="always",t=t.slice(2)):n==="+?"&&(e.signDisplay="exceptZero",t=t.slice(2)),!Ia.test(t))throw new Error("Malformed concise eng/scientific notation");e.minimumIntegerDigits=t.length}return e}function Zi(t){var e={},n=Ca(t);return n||e}function Km(t){for(var e={},n=0,r=t;n<r.length;n++){var i=r[n];switch(i.stem){case"percent":case"%":e.style="percent";continue;case"%x100":e.style="percent",e.scale=100;continue;case"currency":e.style="currency",e.currency=i.options[0];continue;case"group-off":case",_":e.useGrouping=!1;continue;case"precision-integer":case".":e.maximumFractionDigits=0;continue;case"measure-unit":case"unit":e.style="unit",e.unit=Wm(i.options[0]);continue;case"compact-short":case"K":e.notation="compact",e.compactDisplay="short";continue;case"compact-long":case"KK":e.notation="compact",e.compactDisplay="long";continue;case"scientific":e=w(w(w({},e),{notation:"scientific"}),i.options.reduce(function(c,a){return w(w({},c),Zi(a))},{}));continue;case"engineering":e=w(w(w({},e),{notation:"engineering"}),i.options.reduce(function(c,a){return w(w({},c),Zi(a))},{}));continue;case"notation-simple":e.notation="standard";continue;case"unit-width-narrow":e.currencyDisplay="narrowSymbol",e.unitDisplay="narrow";continue;case"unit-width-short":e.currencyDisplay="code",e.unitDisplay="short";continue;case"unit-width-full-name":e.currencyDisplay="name",e.unitDisplay="long";continue;case"unit-width-iso-code":e.currencyDisplay="symbol";continue;case"scale":e.scale=parseFloat(i.options[0]);continue;case"rounding-mode-floor":e.roundingMode="floor";continue;case"rounding-mode-ceiling":e.roundingMode="ceil";continue;case"rounding-mode-down":e.roundingMode="trunc";continue;case"rounding-mode-up":e.roundingMode="expand";continue;case"rounding-mode-half-even":e.roundingMode="halfEven";continue;case"rounding-mode-half-down":e.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":e.roundingMode="halfExpand";continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(qm,function(c,a,l,f,d,p){if(a)e.minimumIntegerDigits=l.length;else{if(f&&d)throw new Error("We currently do not support maximum integer digits");if(p)throw new Error("We currently do not support exact integer digits")}return""});continue}if(Ia.test(i.stem)){e.minimumIntegerDigits=i.stem.length;continue}if(Ki.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(Ki,function(c,a,l,f,d,p){return l==="*"?e.minimumFractionDigits=a.length:f&&f[0]==="#"?e.maximumFractionDigits=f.length:d&&p?(e.minimumFractionDigits=d.length,e.maximumFractionDigits=d.length+p.length):(e.minimumFractionDigits=a.length,e.maximumFractionDigits=a.length),""});var o=i.options[0];o==="w"?e=w(w({},e),{trailingZeroDisplay:"stripIfInteger"}):o&&(e=w(w({},e),Ji(o)));continue}if(Aa.test(i.stem)){e=w(w({},e),Ji(i.stem));continue}var s=Ca(i.stem);s&&(e=w(w({},e),s));var u=Ym(i.stem);u&&(e=w(w({},e),u))}return e}var ln={"001":["H","h"],419:["h","H","hB","hb"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["h","H","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["h","H","hB","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["h","H","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["h","H","hB","hb"],CU:["h","H","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["h","H","hB","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["h","H","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["h","H","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["h","H","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["h","H","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["h","H","hB","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["h","H","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["h","H","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["h","H","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"en-HK":["h","hb","H","hB"],"en-IL":["H","h","hb","hB"],"en-MY":["h","hb","H","hB"],"es-BR":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function Jm(t,e){for(var n="",r=0;r<t.length;r++){var i=t.charAt(r);if(i==="j"){for(var o=0;r+1<t.length&&t.charAt(r+1)===i;)o++,r++;var s=1+(o&1),u=o<2?1:3+(o>>1),c="a",a=Zm(e);for((a=="H"||a=="k")&&(u=0);u-- >0;)n+=c;for(;s-- >0;)n=a+n}else i==="J"?n+="H":n+=i}return n}function Zm(t){var e=t.hourCycle;if(e===void 0&&t.hourCycles&&t.hourCycles.length&&(e=t.hourCycles[0]),e)switch(e){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n=t.language,r;n!=="root"&&(r=t.maximize().region);var i=ln[r||""]||ln[n||""]||ln["".concat(n,"-001")]||ln["001"];return i[0]}var dr,Qm=new RegExp("^".concat(xa.source,"*")),tg=new RegExp("".concat(xa.source,"*$"));function D(t,e){return{start:t,end:e}}var eg=!!String.prototype.startsWith&&"_a".startsWith("a",1),ng=!!String.fromCodePoint,rg=!!Object.fromEntries,ig=!!String.prototype.codePointAt,og=!!String.prototype.trimStart,sg=!!String.prototype.trimEnd,ag=!!Number.isSafeInteger,ug=ag?Number.isSafeInteger:function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t&&Math.abs(t)<=9007199254740991},Cr=!0;try{var cg=Oa("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");Cr=((dr=cg.exec("a"))===null||dr===void 0?void 0:dr[0])==="a"}catch{Cr=!1}var Qi=eg?function(e,n,r){return e.startsWith(n,r)}:function(e,n,r){return e.slice(r,r+n.length)===n},Rr=ng?String.fromCodePoint:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=e.length,o=0,s;i>o;){if(s=e[o++],s>1114111)throw RangeError(s+" is not a valid code point");r+=s<65536?String.fromCharCode(s):String.fromCharCode(((s-=65536)>>10)+55296,s%1024+56320)}return r},to=rg?Object.fromEntries:function(e){for(var n={},r=0,i=e;r<i.length;r++){var o=i[r],s=o[0],u=o[1];n[s]=u}return n},Ra=ig?function(e,n){return e.codePointAt(n)}:function(e,n){var r=e.length;if(!(n<0||n>=r)){var i=e.charCodeAt(n),o;return i<55296||i>56319||n+1===r||(o=e.charCodeAt(n+1))<56320||o>57343?i:(i-55296<<10)+(o-56320)+65536}},lg=og?function(e){return e.trimStart()}:function(e){return e.replace(Qm,"")},dg=sg?function(e){return e.trimEnd()}:function(e){return e.replace(tg,"")};function Oa(t,e){return new RegExp(t,e)}var Or;if(Cr){var eo=Oa("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");Or=function(e,n){var r;eo.lastIndex=n;var i=eo.exec(e);return(r=i[1])!==null&&r!==void 0?r:""}}else Or=function(e,n){for(var r=[];;){var i=Ra(e,n);if(i===void 0||Na(i)||mg(i))break;r.push(i),n+=i>=65536?2:1}return Rr.apply(void 0,r)};var fg=function(){function t(e,n){n===void 0&&(n={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!n.ignoreTag,this.locale=n.locale,this.requiresOtherClause=!!n.requiresOtherClause,this.shouldParseSkeletons=!!n.shouldParseSkeletons}return t.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},t.prototype.parseMessage=function(e,n,r){for(var i=[];!this.isEOF();){var o=this.char();if(o===123){var s=this.parseArgument(e,r);if(s.err)return s;i.push(s.val)}else{if(o===125&&e>0)break;if(o===35&&(n==="plural"||n==="selectordinal")){var u=this.clonePosition();this.bump(),i.push({type:z.pound,location:D(u,this.clonePosition())})}else if(o===60&&!this.ignoreTag&&this.peek()===47){if(r)break;return this.error(P.UNMATCHED_CLOSING_TAG,D(this.clonePosition(),this.clonePosition()))}else if(o===60&&!this.ignoreTag&&Nr(this.peek()||0)){var s=this.parseTag(e,n);if(s.err)return s;i.push(s.val)}else{var s=this.parseLiteral(e,n);if(s.err)return s;i.push(s.val)}}}return{val:i,err:null}},t.prototype.parseTag=function(e,n){var r=this.clonePosition();this.bump();var i=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:z.literal,value:"<".concat(i,"/>"),location:D(r,this.clonePosition())},err:null};if(this.bumpIf(">")){var o=this.parseMessage(e+1,n,!0);if(o.err)return o;var s=o.val,u=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Nr(this.char()))return this.error(P.INVALID_TAG,D(u,this.clonePosition()));var c=this.clonePosition(),a=this.parseTagName();return i!==a?this.error(P.UNMATCHED_CLOSING_TAG,D(c,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:z.tag,value:i,children:s,location:D(r,this.clonePosition())},err:null}:this.error(P.INVALID_TAG,D(u,this.clonePosition())))}else return this.error(P.UNCLOSED_TAG,D(r,this.clonePosition()))}else return this.error(P.INVALID_TAG,D(r,this.clonePosition()))},t.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&pg(this.char());)this.bump();return this.message.slice(e,this.offset())},t.prototype.parseLiteral=function(e,n){for(var r=this.clonePosition(),i="";;){var o=this.tryParseQuote(n);if(o){i+=o;continue}var s=this.tryParseUnquoted(e,n);if(s){i+=s;continue}var u=this.tryParseLeftAngleBracket();if(u){i+=u;continue}break}var c=D(r,this.clonePosition());return{val:{type:z.literal,value:i,location:c},err:null}},t.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!hg(this.peek()||0))?(this.bump(),"<"):null},t.prototype.tryParseQuote=function(e){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(e==="plural"||e==="selectordinal")break;return null;default:return null}this.bump();var n=[this.char()];for(this.bump();!this.isEOF();){var r=this.char();if(r===39)if(this.peek()===39)n.push(39),this.bump();else{this.bump();break}else n.push(r);this.bump()}return Rr.apply(void 0,n)},t.prototype.tryParseUnquoted=function(e,n){if(this.isEOF())return null;var r=this.char();return r===60||r===123||r===35&&(n==="plural"||n==="selectordinal")||r===125&&e>0?null:(this.bump(),Rr(r))},t.prototype.parseArgument=function(e,n){var r=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(P.EXPECT_ARGUMENT_CLOSING_BRACE,D(r,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(P.EMPTY_ARGUMENT,D(r,this.clonePosition()));var i=this.parseIdentifierIfPossible().value;if(!i)return this.error(P.MALFORMED_ARGUMENT,D(r,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(P.EXPECT_ARGUMENT_CLOSING_BRACE,D(r,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:z.argument,value:i,location:D(r,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(P.EXPECT_ARGUMENT_CLOSING_BRACE,D(r,this.clonePosition())):this.parseArgumentOptions(e,n,i,r);default:return this.error(P.MALFORMED_ARGUMENT,D(r,this.clonePosition()))}},t.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),n=this.offset(),r=Or(this.message,n),i=n+r.length;this.bumpTo(i);var o=this.clonePosition(),s=D(e,o);return{value:r,location:s}},t.prototype.parseArgumentOptions=function(e,n,r,i){var o,s=this.clonePosition(),u=this.parseIdentifierIfPossible().value,c=this.clonePosition();switch(u){case"":return this.error(P.EXPECT_ARGUMENT_TYPE,D(s,c));case"number":case"date":case"time":{this.bumpSpace();var a=null;if(this.bumpIf(",")){this.bumpSpace();var l=this.clonePosition(),f=this.parseSimpleArgStyleIfPossible();if(f.err)return f;var d=dg(f.val);if(d.length===0)return this.error(P.EXPECT_ARGUMENT_STYLE,D(this.clonePosition(),this.clonePosition()));var p=D(l,this.clonePosition());a={style:d,styleLocation:p}}var m=this.tryParseArgumentClose(i);if(m.err)return m;var _=D(i,this.clonePosition());if(a&&Qi(a?.style,"::",0)){var v=lg(a.style.slice(2));if(u==="number"){var f=this.parseNumberSkeletonFromString(v,a.styleLocation);return f.err?f:{val:{type:z.number,value:r,location:_,style:f.val},err:null}}else{if(v.length===0)return this.error(P.EXPECT_DATE_TIME_SKELETON,_);var y=v;this.locale&&(y=Jm(v,this.locale));var d={type:Te.dateTime,pattern:y,location:a.styleLocation,parsedOptions:this.shouldParseSkeletons?zm(y):{}},S=u==="date"?z.date:z.time;return{val:{type:S,value:r,location:_,style:d},err:null}}}return{val:{type:u==="number"?z.number:u==="date"?z.date:z.time,value:r,location:_,style:(o=a?.style)!==null&&o!==void 0?o:null},err:null}}case"plural":case"selectordinal":case"select":{var E=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(P.EXPECT_SELECT_ARGUMENT_OPTIONS,D(E,w({},E)));this.bumpSpace();var U=this.parseIdentifierIfPossible(),g=0;if(u!=="select"&&U.value==="offset"){if(!this.bumpIf(":"))return this.error(P.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,D(this.clonePosition(),this.clonePosition()));this.bumpSpace();var f=this.tryParseDecimalInteger(P.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,P.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(f.err)return f;this.bumpSpace(),U=this.parseIdentifierIfPossible(),g=f.val}var L=this.tryParsePluralOrSelectOptions(e,u,n,U);if(L.err)return L;var m=this.tryParseArgumentClose(i);if(m.err)return m;var A=D(i,this.clonePosition());return u==="select"?{val:{type:z.select,value:r,options:to(L.val),location:A},err:null}:{val:{type:z.plural,value:r,options:to(L.val),offset:g,pluralType:u==="plural"?"cardinal":"ordinal",location:A},err:null}}default:return this.error(P.INVALID_ARGUMENT_TYPE,D(s,c))}},t.prototype.tryParseArgumentClose=function(e){return this.isEOF()||this.char()!==125?this.error(P.EXPECT_ARGUMENT_CLOSING_BRACE,D(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},t.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,n=this.clonePosition();!this.isEOF();){var r=this.char();switch(r){case 39:{this.bump();var i=this.clonePosition();if(!this.bumpUntil("'"))return this.error(P.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,D(i,this.clonePosition()));this.bump();break}case 123:{e+=1,this.bump();break}case 125:{if(e>0)e-=1;else return{val:this.message.slice(n.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(n.offset,this.offset()),err:null}},t.prototype.parseNumberSkeletonFromString=function(e,n){var r=[];try{r=Xm(e)}catch{return this.error(P.INVALID_NUMBER_SKELETON,n)}return{val:{type:Te.number,tokens:r,location:n,parsedOptions:this.shouldParseSkeletons?Km(r):{}},err:null}},t.prototype.tryParsePluralOrSelectOptions=function(e,n,r,i){for(var o,s=!1,u=[],c=new Set,a=i.value,l=i.location;;){if(a.length===0){var f=this.clonePosition();if(n!=="select"&&this.bumpIf("=")){var d=this.tryParseDecimalInteger(P.EXPECT_PLURAL_ARGUMENT_SELECTOR,P.INVALID_PLURAL_ARGUMENT_SELECTOR);if(d.err)return d;l=D(f,this.clonePosition()),a=this.message.slice(f.offset,this.offset())}else break}if(c.has(a))return this.error(n==="select"?P.DUPLICATE_SELECT_ARGUMENT_SELECTOR:P.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,l);a==="other"&&(s=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error(n==="select"?P.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:P.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,D(this.clonePosition(),this.clonePosition()));var m=this.parseMessage(e+1,n,r);if(m.err)return m;var _=this.tryParseArgumentClose(p);if(_.err)return _;u.push([a,{value:m.val,location:D(p,this.clonePosition())}]),c.add(a),this.bumpSpace(),o=this.parseIdentifierIfPossible(),a=o.value,l=o.location}return u.length===0?this.error(n==="select"?P.EXPECT_SELECT_ARGUMENT_SELECTOR:P.EXPECT_PLURAL_ARGUMENT_SELECTOR,D(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!s?this.error(P.MISSING_OTHER_CLAUSE,D(this.clonePosition(),this.clonePosition())):{val:u,err:null}},t.prototype.tryParseDecimalInteger=function(e,n){var r=1,i=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(r=-1);for(var o=!1,s=0;!this.isEOF();){var u=this.char();if(u>=48&&u<=57)o=!0,s=s*10+(u-48),this.bump();else break}var c=D(i,this.clonePosition());return o?(s*=r,ug(s)?{val:s,err:null}:this.error(n,c)):this.error(e,c)},t.prototype.offset=function(){return this.position.offset},t.prototype.isEOF=function(){return this.offset()===this.message.length},t.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},t.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var n=Ra(this.message,e);if(n===void 0)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return n},t.prototype.error=function(e,n){return{val:null,err:{kind:e,message:this.message,location:n}}},t.prototype.bump=function(){if(!this.isEOF()){var e=this.char();e===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},t.prototype.bumpIf=function(e){if(Qi(this.message,e,this.offset())){for(var n=0;n<e.length;n++)this.bump();return!0}return!1},t.prototype.bumpUntil=function(e){var n=this.offset(),r=this.message.indexOf(e,n);return r>=0?(this.bumpTo(r),!0):(this.bumpTo(this.message.length),!1)},t.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var n=this.offset();if(n===e)break;if(n>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},t.prototype.bumpSpace=function(){for(;!this.isEOF()&&Na(this.char());)this.bump()},t.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),n=this.offset(),r=this.message.charCodeAt(n+(e>=65536?2:1));return r??null},t}();function Nr(t){return t>=97&&t<=122||t>=65&&t<=90}function hg(t){return Nr(t)||t===47}function pg(t){return t===45||t===46||t>=48&&t<=57||t===95||t>=97&&t<=122||t>=65&&t<=90||t==183||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8255&&t<=8256||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}function Na(t){return t>=9&&t<=13||t===32||t===133||t>=8206&&t<=8207||t===8232||t===8233}function mg(t){return t>=33&&t<=35||t===36||t>=37&&t<=39||t===40||t===41||t===42||t===43||t===44||t===45||t>=46&&t<=47||t>=58&&t<=59||t>=60&&t<=62||t>=63&&t<=64||t===91||t===92||t===93||t===94||t===96||t===123||t===124||t===125||t===126||t===161||t>=162&&t<=165||t===166||t===167||t===169||t===171||t===172||t===174||t===176||t===177||t===182||t===187||t===191||t===215||t===247||t>=8208&&t<=8213||t>=8214&&t<=8215||t===8216||t===8217||t===8218||t>=8219&&t<=8220||t===8221||t===8222||t===8223||t>=8224&&t<=8231||t>=8240&&t<=8248||t===8249||t===8250||t>=8251&&t<=8254||t>=8257&&t<=8259||t===8260||t===8261||t===8262||t>=8263&&t<=8273||t===8274||t===8275||t>=8277&&t<=8286||t>=8592&&t<=8596||t>=8597&&t<=8601||t>=8602&&t<=8603||t>=8604&&t<=8607||t===8608||t>=8609&&t<=8610||t===8611||t>=8612&&t<=8613||t===8614||t>=8615&&t<=8621||t===8622||t>=8623&&t<=8653||t>=8654&&t<=8655||t>=8656&&t<=8657||t===8658||t===8659||t===8660||t>=8661&&t<=8691||t>=8692&&t<=8959||t>=8960&&t<=8967||t===8968||t===8969||t===8970||t===8971||t>=8972&&t<=8991||t>=8992&&t<=8993||t>=8994&&t<=9e3||t===9001||t===9002||t>=9003&&t<=9083||t===9084||t>=9085&&t<=9114||t>=9115&&t<=9139||t>=9140&&t<=9179||t>=9180&&t<=9185||t>=9186&&t<=9254||t>=9255&&t<=9279||t>=9280&&t<=9290||t>=9291&&t<=9311||t>=9472&&t<=9654||t===9655||t>=9656&&t<=9664||t===9665||t>=9666&&t<=9719||t>=9720&&t<=9727||t>=9728&&t<=9838||t===9839||t>=9840&&t<=10087||t===10088||t===10089||t===10090||t===10091||t===10092||t===10093||t===10094||t===10095||t===10096||t===10097||t===10098||t===10099||t===10100||t===10101||t>=10132&&t<=10175||t>=10176&&t<=10180||t===10181||t===10182||t>=10183&&t<=10213||t===10214||t===10215||t===10216||t===10217||t===10218||t===10219||t===10220||t===10221||t===10222||t===10223||t>=10224&&t<=10239||t>=10240&&t<=10495||t>=10496&&t<=10626||t===10627||t===10628||t===10629||t===10630||t===10631||t===10632||t===10633||t===10634||t===10635||t===10636||t===10637||t===10638||t===10639||t===10640||t===10641||t===10642||t===10643||t===10644||t===10645||t===10646||t===10647||t===10648||t>=10649&&t<=10711||t===10712||t===10713||t===10714||t===10715||t>=10716&&t<=10747||t===10748||t===10749||t>=10750&&t<=11007||t>=11008&&t<=11055||t>=11056&&t<=11076||t>=11077&&t<=11078||t>=11079&&t<=11084||t>=11085&&t<=11123||t>=11124&&t<=11125||t>=11126&&t<=11157||t===11158||t>=11159&&t<=11263||t>=11776&&t<=11777||t===11778||t===11779||t===11780||t===11781||t>=11782&&t<=11784||t===11785||t===11786||t===11787||t===11788||t===11789||t>=11790&&t<=11798||t===11799||t>=11800&&t<=11801||t===11802||t===11803||t===11804||t===11805||t>=11806&&t<=11807||t===11808||t===11809||t===11810||t===11811||t===11812||t===11813||t===11814||t===11815||t===11816||t===11817||t>=11818&&t<=11822||t===11823||t>=11824&&t<=11833||t>=11834&&t<=11835||t>=11836&&t<=11839||t===11840||t===11841||t===11842||t>=11843&&t<=11855||t>=11856&&t<=11857||t===11858||t>=11859&&t<=11903||t>=12289&&t<=12291||t===12296||t===12297||t===12298||t===12299||t===12300||t===12301||t===12302||t===12303||t===12304||t===12305||t>=12306&&t<=12307||t===12308||t===12309||t===12310||t===12311||t===12312||t===12313||t===12314||t===12315||t===12316||t===12317||t>=12318&&t<=12319||t===12320||t===12336||t===64830||t===64831||t>=65093&&t<=65094}function Lr(t){t.forEach(function(e){if(delete e.location,Ea(e)||Sa(e))for(var n in e.options)delete e.options[n].location,Lr(e.options[n].value);else ya(e)&&wa(e.style)||(ba(e)||va(e))&&Ir(e.style)?delete e.style.location:Ta(e)&&Lr(e.children)})}function gg(t,e){e===void 0&&(e={}),e=w({shouldParseSkeletons:!0,requiresOtherClause:!0},e);var n=new fg(t,e).parse();if(n.err){var r=SyntaxError(P[n.err.kind]);throw r.location=n.err.location,r.originalMessage=n.err.message,r}return e?.captureLocation||Lr(n.val),n.val}var It;(function(t){t.MISSING_VALUE="MISSING_VALUE",t.INVALID_VALUE="INVALID_VALUE",t.MISSING_INTL_API="MISSING_INTL_API"})(It||(It={}));var $t=function(t){gt(e,t);function e(n,r,i){var o=t.call(this,n)||this;return o.code=r,o.originalMessage=i,o}return e.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},e}(Error),no=function(t){gt(e,t);function e(n,r,i,o){return t.call(this,'Invalid values for "'.concat(n,'": "').concat(r,'". Options are "').concat(Object.keys(i).join('", "'),'"'),It.INVALID_VALUE,o)||this}return e}($t),_g=function(t){gt(e,t);function e(n,r,i){return t.call(this,'Value for "'.concat(n,'" must be of type ').concat(r),It.INVALID_VALUE,i)||this}return e}($t),yg=function(t){gt(e,t);function e(n,r){return t.call(this,'The intl string context variable "'.concat(n,'" was not provided to the string "').concat(r,'"'),It.MISSING_VALUE,r)||this}return e}($t),st;(function(t){t[t.literal=0]="literal",t[t.object=1]="object"})(st||(st={}));function bg(t){return t.length<2?t:t.reduce(function(e,n){var r=e[e.length-1];return!r||r.type!==st.literal||n.type!==st.literal?e.push(n):r.value+=n.value,e},[])}function La(t){return typeof t=="function"}function bn(t,e,n,r,i,o,s){if(t.length===1&&Yi(t[0]))return[{type:st.literal,value:t[0].value}];for(var u=[],c=0,a=t;c<a.length;c++){var l=a[c];if(Yi(l)){u.push({type:st.literal,value:l.value});continue}if(Vm(l)){typeof o=="number"&&u.push({type:st.literal,value:n.getNumberFormat(e).format(o)});continue}var f=l.value;if(!(i&&f in i))throw new yg(f,s);var d=i[f];if(Gm(l)){(!d||typeof d=="string"||typeof d=="number")&&(d=typeof d=="string"||typeof d=="number"?String(d):""),u.push({type:typeof d=="string"?st.literal:st.object,value:d});continue}if(ba(l)){var p=typeof l.style=="string"?r.date[l.style]:Ir(l.style)?l.style.parsedOptions:void 0;u.push({type:st.literal,value:n.getDateTimeFormat(e,p).format(d)});continue}if(va(l)){var p=typeof l.style=="string"?r.time[l.style]:Ir(l.style)?l.style.parsedOptions:r.time.medium;u.push({type:st.literal,value:n.getDateTimeFormat(e,p).format(d)});continue}if(ya(l)){var p=typeof l.style=="string"?r.number[l.style]:wa(l.style)?l.style.parsedOptions:void 0;p&&p.scale&&(d=d*(p.scale||1)),u.push({type:st.literal,value:n.getNumberFormat(e,p).format(d)});continue}if(Ta(l)){var m=l.children,_=l.value,v=i[_];if(!La(v))throw new _g(_,"function",s);var y=bn(m,e,n,r,i,o),S=v(y.map(function(g){return g.value}));Array.isArray(S)||(S=[S]),u.push.apply(u,S.map(function(g){return{type:typeof g=="string"?st.literal:st.object,value:g}}))}if(Ea(l)){var E=l.options[d]||l.options.other;if(!E)throw new no(l.value,d,Object.keys(l.options),s);u.push.apply(u,bn(E.value,e,n,r,i));continue}if(Sa(l)){var E=l.options["=".concat(d)];if(!E){if(!Intl.PluralRules)throw new $t(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,It.MISSING_INTL_API,s);var U=n.getPluralRules(e,{type:l.pluralType}).select(d-(l.offset||0));E=l.options[U]||l.options.other}if(!E)throw new no(l.value,d,Object.keys(l.options),s);u.push.apply(u,bn(E.value,e,n,r,i,d-(l.offset||0)));continue}}return bg(u)}function vg(t,e){return e?w(w(w({},t||{}),e||{}),Object.keys(t).reduce(function(n,r){return n[r]=w(w({},t[r]),e[r]||{}),n},{})):t}function Eg(t,e){return e?Object.keys(t).reduce(function(n,r){return n[r]=vg(t[r],e[r]),n},w({},t)):t}function fr(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,n){t[e]=n}}}}}function Sg(t){return t===void 0&&(t={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:vt(function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((e=Intl.NumberFormat).bind.apply(e,St([void 0],n,!1)))},{cache:fr(t.number),strategy:Et.variadic}),getDateTimeFormat:vt(function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((e=Intl.DateTimeFormat).bind.apply(e,St([void 0],n,!1)))},{cache:fr(t.dateTime),strategy:Et.variadic}),getPluralRules:vt(function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((e=Intl.PluralRules).bind.apply(e,St([void 0],n,!1)))},{cache:fr(t.pluralRules),strategy:Et.variadic})}}var ka=function(){function t(e,n,r,i){n===void 0&&(n=t.defaultLocale);var o=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(c){var a=o.formatToParts(c);if(a.length===1)return a[0].value;var l=a.reduce(function(f,d){return!f.length||d.type!==st.literal||typeof f[f.length-1]!="string"?f.push(d.value):f[f.length-1]+=d.value,f},[]);return l.length<=1?l[0]||"":l},this.formatToParts=function(c){return bn(o.ast,o.locales,o.formatters,o.formats,c,void 0,o.message)},this.resolvedOptions=function(){var c;return{locale:((c=o.resolvedLocale)===null||c===void 0?void 0:c.toString())||Intl.NumberFormat.supportedLocalesOf(o.locales)[0]}},this.getAst=function(){return o.ast},this.locales=n,this.resolvedLocale=t.resolveLocale(n),typeof e=="string"){if(this.message=e,!t.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var s=i||{};s.formatters;var u=ee(s,["formatters"]);this.ast=t.__parse(e,w(w({},u),{locale:this.resolvedLocale}))}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=Eg(t.formats,r),this.formatters=i&&i.formatters||Sg(this.formatterCache)}return Object.defineProperty(t,"defaultLocale",{get:function(){return t.memoizedDefaultLocale||(t.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),t.memoizedDefaultLocale},enumerable:!1,configurable:!0}),t.memoizedDefaultLocale=null,t.resolveLocale=function(e){if(!(typeof Intl.Locale>"u")){var n=Intl.NumberFormat.supportedLocalesOf(e);return n.length>0?new Intl.Locale(n[0]):new Intl.Locale(typeof e=="string"?e:e[0])}},t.__parse=gg,t.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},t}(),ne;(function(t){t.FORMAT_ERROR="FORMAT_ERROR",t.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",t.INVALID_CONFIG="INVALID_CONFIG",t.MISSING_DATA="MISSING_DATA",t.MISSING_TRANSLATION="MISSING_TRANSLATION"})(ne||(ne={}));var tn=function(t){gt(e,t);function e(n,r,i){var o=this,s=i?i instanceof Error?i:new Error(String(i)):void 0;return o=t.call(this,"[@formatjs/intl Error ".concat(n,"] ").concat(r,`
`).concat(s?`
`.concat(s.message,`
`).concat(s.stack):""))||this,o.code=n,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(o,e),o}return e}(Error),Tg=function(t){gt(e,t);function e(n,r){return t.call(this,ne.UNSUPPORTED_FORMATTER,n,r)||this}return e}(tn),wg=function(t){gt(e,t);function e(n,r){return t.call(this,ne.INVALID_CONFIG,n,r)||this}return e}(tn),ro=function(t){gt(e,t);function e(n,r){return t.call(this,ne.MISSING_DATA,n,r)||this}return e}(tn),_t=function(t){gt(e,t);function e(n,r,i){var o=t.call(this,ne.FORMAT_ERROR,"".concat(n,`
Locale: `).concat(r,`
`),i)||this;return o.locale=r,o}return e}(tn),hr=function(t){gt(e,t);function e(n,r,i,o){var s=t.call(this,"".concat(n,`
MessageID: `).concat(i?.id,`
Default Message: `).concat(i?.defaultMessage,`
Description: `).concat(i?.description,`
`),r,o)||this;return s.descriptor=i,s.locale=r,s}return e}(_t),xg=function(t){gt(e,t);function e(n,r){var i=t.call(this,ne.MISSING_TRANSLATION,'Missing message: "'.concat(n.id,'" for locale "').concat(r,'", using ').concat(n.defaultMessage?"default message (".concat(typeof n.defaultMessage=="string"?n.defaultMessage:n.defaultMessage.map(function(o){var s;return(s=o.value)!==null&&s!==void 0?s:JSON.stringify(o)}).join(),")"):"id"," as fallback."))||this;return i.descriptor=n,i}return e}(tn);function Ag(t,e,n){if(n===void 0&&(n=Error),!t)throw new n(e)}function Oe(t,e,n){return n===void 0&&(n={}),e.reduce(function(r,i){return i in t?r[i]=t[i]:i in n&&(r[i]=n[i]),r},{})}var Ig=function(t){},Cg=function(t){},Pa={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:Ig,onWarn:Cg};function Ma(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function Xt(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,n){t[e]=n}}}}}function Rg(t){t===void 0&&(t=Ma());var e=Intl.RelativeTimeFormat,n=Intl.ListFormat,r=Intl.DisplayNames,i=vt(function(){for(var u,c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];return new((u=Intl.DateTimeFormat).bind.apply(u,St([void 0],c,!1)))},{cache:Xt(t.dateTime),strategy:Et.variadic}),o=vt(function(){for(var u,c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];return new((u=Intl.NumberFormat).bind.apply(u,St([void 0],c,!1)))},{cache:Xt(t.number),strategy:Et.variadic}),s=vt(function(){for(var u,c=[],a=0;a<arguments.length;a++)c[a]=arguments[a];return new((u=Intl.PluralRules).bind.apply(u,St([void 0],c,!1)))},{cache:Xt(t.pluralRules),strategy:Et.variadic});return{getDateTimeFormat:i,getNumberFormat:o,getMessageFormat:vt(function(u,c,a,l){return new ka(u,c,a,w({formatters:{getNumberFormat:o,getDateTimeFormat:i,getPluralRules:s}},l||{}))},{cache:Xt(t.message),strategy:Et.variadic}),getRelativeTimeFormat:vt(function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return new(e.bind.apply(e,St([void 0],u,!1)))},{cache:Xt(t.relativeTime),strategy:Et.variadic}),getPluralRules:s,getListFormat:vt(function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return new(n.bind.apply(n,St([void 0],u,!1)))},{cache:Xt(t.list),strategy:Et.variadic}),getDisplayNames:vt(function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return new(r.bind.apply(r,St([void 0],u,!1)))},{cache:Xt(t.displayNames),strategy:Et.variadic})}}function ri(t,e,n,r){var i=t&&t[e],o;if(i&&(o=i[n]),o)return o;r(new Tg("No ".concat(e," format named: ").concat(n)))}function dn(t,e){return Object.keys(t).reduce(function(n,r){return n[r]=w({timeZone:e},t[r]),n},{})}function io(t,e){var n=Object.keys(w(w({},t),e));return n.reduce(function(r,i){return r[i]=w(w({},t[i]||{}),e[i]||{}),r},{})}function oo(t,e){if(!e)return t;var n=ka.formats;return w(w(w({},n),t),{date:io(dn(n.date,e),dn(t.date||{},e)),time:io(dn(n.time,e),dn(t.time||{},e))})}var kr=function(t,e,n,r,i){var o=t.locale,s=t.formats,u=t.messages,c=t.defaultLocale,a=t.defaultFormats,l=t.fallbackOnEmptyString,f=t.onError,d=t.timeZone,p=t.defaultRichTextElements;n===void 0&&(n={id:""});var m=n.id,_=n.defaultMessage;Ag(!!m,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.github.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.github.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.github.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var v=String(m),y=u&&Object.prototype.hasOwnProperty.call(u,v)&&u[v];if(Array.isArray(y)&&y.length===1&&y[0].type===z.literal)return y[0].value;if(!r&&y&&typeof y=="string"&&!p)return y.replace(/'\{(.*?)\}'/gi,"{$1}");if(r=w(w({},p),r||{}),s=oo(s,d),a=oo(a,d),!y){if(l===!1&&y==="")return y;if((!_||o&&o.toLowerCase()!==c.toLowerCase())&&f(new xg(n,o)),_)try{var S=e.getMessageFormat(_,c,a,i);return S.format(r)}catch(E){return f(new hr('Error formatting default message for: "'.concat(v,'", rendering default message verbatim'),o,n,E)),typeof _=="string"?_:v}return v}try{var S=e.getMessageFormat(y,o,s,w({formatters:e},i||{}));return S.format(r)}catch(E){f(new hr('Error formatting message: "'.concat(v,'", using ').concat(_?"default message":"id"," as fallback."),o,n,E))}if(_)try{var S=e.getMessageFormat(_,c,a,i);return S.format(r)}catch(E){f(new hr('Error formatting the default message for: "'.concat(v,'", rendering message verbatim'),o,n,E))}return typeof y=="string"?y:typeof _=="string"?_:v},Og=["formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem","fractionalSecondDigits"];function en(t,e,n,r){var i=t.locale,o=t.formats,s=t.onError,u=t.timeZone;r===void 0&&(r={});var c=r.format,a=w(w({},u&&{timeZone:u}),c&&ri(o,e,c,s)),l=Oe(r,Og,a);return e==="time"&&!l.hour&&!l.minute&&!l.second&&!l.timeStyle&&!l.dateStyle&&(l=w(w({},l),{hour:"numeric",minute:"numeric"})),n(i,l)}function Ng(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],s=o===void 0?{}:o,u=typeof i=="string"?new Date(i||0):i;try{return en(t,"date",e,s).format(u)}catch(c){t.onError(new _t("Error formatting date.",t.locale,c))}return String(u)}function Lg(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],s=o===void 0?{}:o,u=typeof i=="string"?new Date(i||0):i;try{return en(t,"time",e,s).format(u)}catch(c){t.onError(new _t("Error formatting time.",t.locale,c))}return String(u)}function kg(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],s=n[2],u=s===void 0?{}:s,c=typeof i=="string"?new Date(i||0):i,a=typeof o=="string"?new Date(o||0):o;try{return en(t,"dateTimeRange",e,u).formatRange(c,a)}catch(l){t.onError(new _t("Error formatting date time range.",t.locale,l))}return String(c)}function Pg(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],s=o===void 0?{}:o,u=typeof i=="string"?new Date(i||0):i;try{return en(t,"date",e,s).formatToParts(u)}catch(c){t.onError(new _t("Error formatting date.",t.locale,c))}return[]}function Mg(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n[0],o=n[1],s=o===void 0?{}:o,u=typeof i=="string"?new Date(i||0):i;try{return en(t,"time",e,s).formatToParts(u)}catch(c){t.onError(new _t("Error formatting time.",t.locale,c))}return[]}var Dg=["style","type","fallback","languageDisplay"];function Ug(t,e,n,r){var i=t.locale,o=t.onError,s=Intl.DisplayNames;s||o(new $t(`Intl.DisplayNames is not available in this environment.
Try polyfilling it using "@formatjs/intl-displaynames"
`,It.MISSING_INTL_API));var u=Oe(r,Dg);try{return e(i,u).of(n)}catch(c){o(new _t("Error formatting display name.",i,c))}}var Bg=["type","style"],so=Date.now();function Hg(t){return"".concat(so,"_").concat(t,"_").concat(so)}function Fg(t,e,n,r){r===void 0&&(r={});var i=Da(t,e,n,r).reduce(function(o,s){var u=s.value;return typeof u!="string"?o.push(u):typeof o[o.length-1]=="string"?o[o.length-1]+=u:o.push(u),o},[]);return i.length===1?i[0]:i.length===0?"":i}function Da(t,e,n,r){var i=t.locale,o=t.onError;r===void 0&&(r={});var s=Intl.ListFormat;s||o(new $t(`Intl.ListFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-listformat"
`,It.MISSING_INTL_API));var u=Oe(r,Bg);try{var c={},a=n.map(function(l,f){if(typeof l=="object"){var d=Hg(f);return c[d]=l,d}return String(l)});return e(i,u).formatToParts(a).map(function(l){return l.type==="literal"?l:w(w({},l),{value:c[l.value]||l.value})})}catch(l){o(new _t("Error formatting list.",i,l))}return n}var Gg=["type"];function Vg(t,e,n,r){var i=t.locale,o=t.onError;r===void 0&&(r={}),Intl.PluralRules||o(new $t(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,It.MISSING_INTL_API));var s=Oe(r,Gg);try{return e(i,s).select(n)}catch(u){o(new _t("Error formatting plural.",i,u))}return"other"}var $g=["numeric","style"];function zg(t,e,n){var r=t.locale,i=t.formats,o=t.onError;n===void 0&&(n={});var s=n.format,u=!!s&&ri(i,"relative",s,o)||{},c=Oe(n,$g,u);return e(r,c)}function jg(t,e,n,r,i){i===void 0&&(i={}),r||(r="second");var o=Intl.RelativeTimeFormat;o||t.onError(new $t(`Intl.RelativeTimeFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-relativetimeformat"
`,It.MISSING_INTL_API));try{return zg(t,e,i).format(n,r)}catch(s){t.onError(new _t("Error formatting relative time.",t.locale,s))}return String(n)}var Xg=["style","currency","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem","trailingZeroDisplay","roundingPriority","roundingIncrement","roundingMode"];function Ua(t,e,n){var r=t.locale,i=t.formats,o=t.onError;n===void 0&&(n={});var s=n.format,u=s&&ri(i,"number",s,o)||{},c=Oe(n,Xg,u);return e(r,c)}function Wg(t,e,n,r){r===void 0&&(r={});try{return Ua(t,e,r).format(n)}catch(i){t.onError(new _t("Error formatting number.",t.locale,i))}return String(n)}function qg(t,e,n,r){r===void 0&&(r={});try{return Ua(t,e,r).formatToParts(n)}catch(i){t.onError(new _t("Error formatting number.",t.locale,i))}return[]}function Yg(t){var e=t?t[Object.keys(t)[0]]:void 0;return typeof e=="string"}function Kg(t){t.onWarn&&t.defaultRichTextElements&&Yg(t.messages||{})&&t.onWarn(`[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. 
Please consider using "@formatjs/cli" to pre-compile your messages for performance.
For more details see https://formatjs.github.io/docs/getting-started/message-distribution`)}function Jg(t,e){var n=Rg(e),r=w(w({},Pa),t),i=r.locale,o=r.defaultLocale,s=r.onError;return i?!Intl.NumberFormat.supportedLocalesOf(i).length&&s?s(new ro('Missing locale data for locale: "'.concat(i,'" in Intl.NumberFormat. Using default locale: "').concat(o,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(i).length&&s&&s(new ro('Missing locale data for locale: "'.concat(i,'" in Intl.DateTimeFormat. Using default locale: "').concat(o,'" as fallback. See https://formatjs.github.io/docs/react-intl#runtime-requirements for more details'))):(s&&s(new wg('"locale" was not configured, using "'.concat(o,'" as fallback. See https://formatjs.github.io/docs/react-intl/api#intlshape for more details'))),r.locale=r.defaultLocale||"en"),Kg(r),w(w({},r),{formatters:n,formatNumber:Wg.bind(null,r,n.getNumberFormat),formatNumberToParts:qg.bind(null,r,n.getNumberFormat),formatRelativeTime:jg.bind(null,r,n.getRelativeTimeFormat),formatDate:Ng.bind(null,r,n.getDateTimeFormat),formatDateToParts:Pg.bind(null,r,n.getDateTimeFormat),formatTime:Lg.bind(null,r,n.getDateTimeFormat),formatDateTimeRange:kg.bind(null,r,n.getDateTimeFormat),formatTimeToParts:Mg.bind(null,r,n.getDateTimeFormat),formatPlural:Vg.bind(null,r,n.getPluralRules),formatMessage:kr.bind(null,r,n),$t:kr.bind(null,r,n),formatList:Fg.bind(null,r,n.getListFormat),formatListToParts:Da.bind(null,r,n.getListFormat),formatDisplayName:Ug.bind(null,r,n.getDisplayNames)})}function Zg(t,e,n){if(n===void 0&&(n=Error),!t)throw new n(e)}function Ba(t){Zg(t,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var Ha=w(w({},Pa),{textComponent:X.Fragment}),Qg={key:42},t0=function(t){return X.isValidElement(t)?X.createElement(X.Fragment,Qg,t):t},e0=function(t){var e;return(e=X.Children.map(t,t0))!==null&&e!==void 0?e:[]};function n0(t){return function(e){return t(X.Children.toArray(e))}}function Pr(t,e){if(t===e)return!0;if(!t||!e)return!1;var n=Object.keys(t),r=Object.keys(e),i=n.length;if(r.length!==i)return!1;for(var o=0;o<i;o++){var s=n[o];if(t[s]!==e[s]||!Object.prototype.hasOwnProperty.call(e,s))return!1}return!0}var pr={exports:{}},H={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ao;function r0(){if(ao)return H;ao=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,u=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,a=t?Symbol.for("react.concurrent_mode"):60111,l=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,d=t?Symbol.for("react.suspense_list"):60120,p=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,_=t?Symbol.for("react.block"):60121,v=t?Symbol.for("react.fundamental"):60117,y=t?Symbol.for("react.responder"):60118,S=t?Symbol.for("react.scope"):60119;function E(g){if(typeof g=="object"&&g!==null){var L=g.$$typeof;switch(L){case e:switch(g=g.type,g){case c:case a:case r:case o:case i:case f:return g;default:switch(g=g&&g.$$typeof,g){case u:case l:case m:case p:case s:return g;default:return L}}case n:return L}}}function U(g){return E(g)===a}return H.AsyncMode=c,H.ConcurrentMode=a,H.ContextConsumer=u,H.ContextProvider=s,H.Element=e,H.ForwardRef=l,H.Fragment=r,H.Lazy=m,H.Memo=p,H.Portal=n,H.Profiler=o,H.StrictMode=i,H.Suspense=f,H.isAsyncMode=function(g){return U(g)||E(g)===c},H.isConcurrentMode=U,H.isContextConsumer=function(g){return E(g)===u},H.isContextProvider=function(g){return E(g)===s},H.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===e},H.isForwardRef=function(g){return E(g)===l},H.isFragment=function(g){return E(g)===r},H.isLazy=function(g){return E(g)===m},H.isMemo=function(g){return E(g)===p},H.isPortal=function(g){return E(g)===n},H.isProfiler=function(g){return E(g)===o},H.isStrictMode=function(g){return E(g)===i},H.isSuspense=function(g){return E(g)===f},H.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===r||g===a||g===o||g===i||g===f||g===d||typeof g=="object"&&g!==null&&(g.$$typeof===m||g.$$typeof===p||g.$$typeof===s||g.$$typeof===u||g.$$typeof===l||g.$$typeof===v||g.$$typeof===y||g.$$typeof===S||g.$$typeof===_)},H.typeOf=E,H}var uo;function i0(){return uo||(uo=1,pr.exports=r0()),pr.exports}var mr,co;function o0(){if(co)return mr;co=1;var t=i0(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=r,o[t.Memo]=i;function s(m){return t.isMemo(m)?i:o[m.$$typeof]||e}var u=Object.defineProperty,c=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,d=Object.prototype;function p(m,_,v){if(typeof _!="string"){if(d){var y=f(_);y&&y!==d&&p(m,y,v)}var S=c(_);a&&(S=S.concat(a(_)));for(var E=s(m),U=s(_),g=0;g<S.length;++g){var L=S[g];if(!n[L]&&!(v&&v[L])&&!(U&&U[L])&&!(E&&E[L])){var A=l(_,L);try{u(m,L,A)}catch{}}}}return m}return mr=p,mr}o0();var ii=typeof window<"u"&&!window.__REACT_INTL_BYPASS_GLOBAL_CONTEXT__?window.__REACT_INTL_CONTEXT__||(window.__REACT_INTL_CONTEXT__=X.createContext(null)):X.createContext(null);ii.Consumer;var s0=ii.Provider,a0=s0,u0=ii;function Vn(){var t=X.useContext(u0);return Ba(t),t}var Mr;(function(t){t.formatDate="FormattedDate",t.formatTime="FormattedTime",t.formatNumber="FormattedNumber",t.formatList="FormattedList",t.formatDisplayName="FormattedDisplayName"})(Mr||(Mr={}));var Dr;(function(t){t.formatDate="FormattedDateParts",t.formatTime="FormattedTimeParts",t.formatNumber="FormattedNumberParts",t.formatList="FormattedListParts"})(Dr||(Dr={}));function Fa(t){var e=function(n){var r=Vn(),i=n.value,o=n.children,s=ee(n,["value","children"]),u=typeof i=="string"?new Date(i||0):i,c=t==="formatDate"?r.formatDateToParts(u,s):r.formatTimeToParts(u,s);return o(c)};return e.displayName=Dr[t],e}function nn(t){var e=function(n){var r=Vn(),i=n.value,o=n.children,s=ee(n,["value","children"]),u=r[t](i,s);if(typeof o=="function")return o(u);var c=r.textComponent||X.Fragment;return X.createElement(c,null,u)};return e.displayName=Mr[t],e}function Ga(t){return t&&Object.keys(t).reduce(function(e,n){var r=t[n];return e[n]=La(r)?n0(r):r,e},{})}var lo=function(t,e,n,r){for(var i=[],o=4;o<arguments.length;o++)i[o-4]=arguments[o];var s=Ga(r),u=kr.apply(void 0,St([t,e,n,s],i,!1));return Array.isArray(u)?e0(u):u},fo=function(t,e){var n=t.defaultRichTextElements,r=ee(t,["defaultRichTextElements"]),i=Ga(n),o=Jg(w(w(w({},Ha),r),{defaultRichTextElements:i}),e),s={locale:o.locale,timeZone:o.timeZone,fallbackOnEmptyString:o.fallbackOnEmptyString,formats:o.formats,defaultLocale:o.defaultLocale,defaultFormats:o.defaultFormats,messages:o.messages,onError:o.onError,defaultRichTextElements:i};return w(w({},o),{formatMessage:lo.bind(null,s,o.formatters),$t:lo.bind(null,s,o.formatters)})},c0=function(t){var e=Vn(),n=t.from,r=t.to,i=t.children,o=ee(t,["from","to","children"]),s=e.formatDateTimeRange(n,r,o);if(typeof i=="function")return i(s);var u=e.textComponent||X.Fragment;return X.createElement(u,null,s)};c0.displayName="FormattedDateTimeRange";function l0(t,e){var n=t.values,r=ee(t,["values"]),i=e.values,o=ee(e,["values"]);return Pr(i,n)&&Pr(r,o)}function Va(t){var e=Vn(),n=e.formatMessage,r=e.textComponent,i=r===void 0?X.Fragment:r,o=t.id,s=t.description,u=t.defaultMessage,c=t.values,a=t.children,l=t.tagName,f=l===void 0?i:l,d=t.ignoreTag,p={id:o,description:s,defaultMessage:u},m=n(p,c,{ignoreTag:d});return typeof a=="function"?a(Array.isArray(m)?m:[m]):f?X.createElement(f,null,m):X.createElement(X.Fragment,null,m)}Va.displayName="FormattedMessage";var d0=X.memo(Va,l0);d0.displayName="MemoizedFormattedMessage";function gr(t){return{locale:t.locale,timeZone:t.timeZone,fallbackOnEmptyString:t.fallbackOnEmptyString,formats:t.formats,textComponent:t.textComponent,messages:t.messages,defaultLocale:t.defaultLocale,defaultFormats:t.defaultFormats,onError:t.onError,onWarn:t.onWarn,wrapRichTextChunksInFragment:t.wrapRichTextChunksInFragment,defaultRichTextElements:t.defaultRichTextElements}}var P0=function(t){gt(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cache=Ma(),n.state={cache:n.cache,intl:fo(gr(n.props),n.cache),prevConfig:gr(n.props)},n}return e.getDerivedStateFromProps=function(n,r){var i=r.prevConfig,o=r.cache,s=gr(n);return Pr(i,s)?null:{intl:fo(s,o),prevConfig:s}},e.prototype.render=function(){return Ba(this.state.intl),X.createElement(a0,{value:this.state.intl},this.props.children)},e.displayName="IntlProvider",e.defaultProps=Ha,e}(X.PureComponent);function M0(t){return t}function D0(t){return t}var U0=nn("formatDate"),B0=nn("formatTime"),H0=nn("formatNumber");nn("formatList");nn("formatDisplayName");Fa("formatDate");Fa("formatTime");const ho=t=>{let e;const n=new Set,r=(a,l)=>{const f=typeof a=="function"?a(e):a;if(!Object.is(f,e)){const d=e;e=l??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(p=>p(e,d))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>c,subscribe:a=>(n.add(a),()=>n.delete(a))},c=e=t(r,i,u);return u},f0=t=>t?ho(t):ho,h0=t=>t;function p0(t,e=h0){const n=_r.useSyncExternalStore(t.subscribe,()=>e(t.getState()),()=>e(t.getInitialState()));return _r.useDebugValue(n),n}const po=t=>{const e=f0(t),n=r=>p0(e,r);return Object.assign(n,e),n},F0=t=>t?po(t):po;export{_0 as $,Rf as A,Of as B,or as C,w0 as D,pf as E,H0 as F,mf as G,b0 as H,P0 as I,x0 as J,Mf as K,Df as L,d0 as M,F as N,T0 as O,Nf as P,E0 as Q,_r as R,Xf as S,S0 as T,Xs as U,Q as V,Ke as W,Gt as X,se as Y,Ws as Z,St as _,Lm as a,cp as a0,A0 as a1,j as a2,lp as a3,G as a4,wt as a5,v0 as a6,pl as a7,Xd as a8,T as a9,ni as aa,Xr as ab,R0 as ac,I0 as ad,C0 as ae,O0 as af,rl as ag,ft as ah,rt as ai,at as aj,ae as ak,Jc as al,xt as am,c0 as an,mo as b,y0 as c,gd as d,Rm as e,w as f,ja as g,ee as h,F0 as i,M0 as j,D0 as k,m0 as l,vt as m,g0 as n,gt as o,B0 as p,U0 as q,X as r,Et as s,N0 as t,Vn as u,L0 as v,k0 as w,f0 as x,Uf as y,$r as z};
//# sourceMappingURL=vendors-CK7-BMz1.js.map
